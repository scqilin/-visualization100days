var nge=Object.defineProperty,_N=Object.getOwnPropertySymbols,rge=Object.prototype.hasOwnProperty,ige=Object.prototype.propertyIsEnumerable,bN=Math.pow,wN=(zo,d,ee)=>d in zo?nge(zo,d,{enumerable:!0,configurable:!0,writable:!0,value:ee}):zo[d]=ee,xN=(zo,d)=>{for(var ee in d||(d={}))rge.call(d,ee)&&wN(zo,ee,d[ee]);if(_N)for(var ee of _N(d))ige.call(d,ee)&&wN(zo,ee,d[ee]);return zo};(self.webpackChunkvisualization100=self.webpackChunkvisualization100||[]).push([[179],{255:zo=>{function d(ee){return Promise.resolve().then(()=>{var H=new Error("Cannot find module '"+ee+"'");throw H.code="MODULE_NOT_FOUND",H})}d.keys=()=>[],d.resolve=d,d.id=255,zo.exports=d},68:(zo,d,ee)=>{var H,z,v;!function(x){if("object"==typeof zo.exports){var C=x(0,d);void 0!==C&&(zo.exports=C)}else z=[ee,d],void 0!==(v="function"==typeof(H=x)?H.apply(d,z):H)&&(zo.exports=v)}(function(x,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var M=void 0;C.default=["zh",[["\u4e0a\u5348","\u4e0b\u5348"],M,M],M,[["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"]],M,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]],M,[["\u516c\u5143\u524d","\u516c\u5143"],M,M],0,[6,0],["y/M/d","y\u5e74M\u6708d\u65e5",M,"y\u5e74M\u6708d\u65e5EEEE"],["ah:mm","ah:mm:ss","z ah:mm:ss","zzzz ah:mm:ss"],["{1} {0}",M,M,M],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"CNY","\xa5","\u4eba\u6c11\u5e01",{AUD:["AU$","$"],CNY:["\xa5"],ILR:["ILS"],JPY:["JP\xa5","\xa5"],KRW:["\uffe6","\u20a9"],TWD:["NT$"],USD:["US$","$"],XXX:[]},"ltr",function(g){return 5}]})},574:zo=>{zo.exports=function d(ee,H,z){function v(M,w){if(!H[M]){if(!ee[M]){if(x)return x(M,!0);var u=new Error("Cannot find module '"+M+"'");throw u.code="MODULE_NOT_FOUND",u}var h=H[M]={exports:{}};ee[M][0].call(h.exports,function(f){return v(ee[M][1][f]||f)},h,h.exports,d,ee,H,z)}return H[M].exports}for(var x=void 0,C=0;C<z.length;C++)v(z[C]);return v}({1:[function(d,ee,H){"use strict";H.byteLength=function(h){var f=g(h),b=f[1];return 3*(f[0]+b)/4-b},H.toByteArray=function(h){var f,m,Z,b=g(h),E=b[0],L=b[1],A=new x(3*(E+(Z=L))/4-Z),R=0,V=0<L?E-4:E;for(m=0;m<V;m+=4)f=v[h.charCodeAt(m)]<<18|v[h.charCodeAt(m+1)]<<12|v[h.charCodeAt(m+2)]<<6|v[h.charCodeAt(m+3)],A[R++]=f>>16&255,A[R++]=f>>8&255,A[R++]=255&f;return 2===L&&(f=v[h.charCodeAt(m)]<<2|v[h.charCodeAt(m+1)]>>4,A[R++]=255&f),1===L&&(f=v[h.charCodeAt(m)]<<10|v[h.charCodeAt(m+1)]<<4|v[h.charCodeAt(m+2)]>>2,A[R++]=f>>8&255,A[R++]=255&f),A},H.fromByteArray=function(h){for(var f,m=h.length,b=m%3,E=[],L=0,A=m-b;L<A;L+=16383)E.push(u(h,L,A<L+16383?A:L+16383));return 1==b?E.push(z[(f=h[m-1])>>2]+z[f<<4&63]+"=="):2==b&&E.push(z[(f=(h[m-2]<<8)+h[m-1])>>10]+z[f>>4&63]+z[f<<2&63]+"="),E.join("")};for(var z=[],v=[],x="undefined"!=typeof Uint8Array?Uint8Array:Array,C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",M=0,w=C.length;M<w;++M)z[M]=C[M],v[C.charCodeAt(M)]=M;function g(h){var f=h.length;if(0<f%4)throw new Error("Invalid string. Length must be a multiple of 4");var m=h.indexOf("=");return-1===m&&(m=f),[m,m===f?0:4-m%4]}function u(h,f,m){for(var E,L=[],A=f;A<m;A+=3)L.push(z[(E=(h[A]<<16&16711680)+(h[A+1]<<8&65280)+(255&h[A+2]))>>18&63]+z[E>>12&63]+z[E>>6&63]+z[63&E]);return L.join("")}v["-".charCodeAt(0)]=62,v["_".charCodeAt(0)]=63},{}],2:[function(d,ee,H){},{}],3:[function(d,ee,H){arguments[4][2][0].apply(H,arguments)},{dup:2}],4:[function(d,ee,H){(function(z){"use strict";var v=d("base64-js"),x=d("ieee754"),C="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;H.Buffer=z,H.SlowBuffer=function(G){return+G!=G&&(G=0),z.alloc(+G)},H.INSPECT_MAX_BYTES=50;var M=2147483647;function w(G){if(M<G)throw new RangeError('The value "'+G+'" is invalid for option "size"');var J=new Uint8Array(G);return Object.setPrototypeOf(J,z.prototype),J}function z(G,J,ue){if("number"!=typeof G)return g(G,J,ue);if("string"==typeof J)throw new TypeError('The "string" argument must be of type string. Received type number');return h(G)}function g(G,J,ue){if("string"==typeof G)return function(Ie,Be){if("string"==typeof Be&&""!==Be||(Be="utf8"),!z.isEncoding(Be))throw new TypeError("Unknown encoding: "+Be);var ht=0|b(Ie,Be),ze=w(ht),Ze=ze.write(Ie,Be);return Ze!==ht&&(ze=ze.slice(0,Ze)),ze}(G,J);if(ArrayBuffer.isView(G))return f(G);if(null==G)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G);if(tt(G,ArrayBuffer)||G&&tt(G.buffer,ArrayBuffer))return function(Ie,Be,ht){if(Be<0||Ie.byteLength<Be)throw new RangeError('"offset" is outside of buffer bounds');if(Ie.byteLength<Be+(ht||0))throw new RangeError('"length" is outside of buffer bounds');var ze;return ze=void 0===Be&&void 0===ht?new Uint8Array(Ie):void 0===ht?new Uint8Array(Ie,Be):new Uint8Array(Ie,Be,ht),Object.setPrototypeOf(ze,z.prototype),ze}(G,J,ue);if("number"==typeof G)throw new TypeError('The "value" argument must not be of type number. Received type number');var Re=G.valueOf&&G.valueOf();if(null!=Re&&Re!==G)return z.from(Re,J,ue);var Ee=function(Ie){if(z.isBuffer(Ie)){var Be=0|m(Ie.length),ht=w(Be);return 0===ht.length||Ie.copy(ht,0,0,Be),ht}return void 0!==Ie.length?"number"!=typeof Ie.length||Qe(Ie.length)?w(0):f(Ie):"Buffer"===Ie.type&&Array.isArray(Ie.data)?f(Ie.data):void 0}(G);if(Ee)return Ee;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof G[Symbol.toPrimitive])return z.from(G[Symbol.toPrimitive]("string"),J,ue);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G)}function u(G){if("number"!=typeof G)throw new TypeError('"size" argument must be of type number');if(G<0)throw new RangeError('The value "'+G+'" is invalid for option "size"')}function h(G){return u(G),w(G<0?0:0|m(G))}function f(G){for(var J=G.length<0?0:0|m(G.length),ue=w(J),Re=0;Re<J;Re+=1)ue[Re]=255&G[Re];return ue}function m(G){if(M<=G)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+M.toString(16)+" bytes");return 0|G}function b(G,J){if(z.isBuffer(G))return G.length;if(ArrayBuffer.isView(G)||tt(G,ArrayBuffer))return G.byteLength;if("string"!=typeof G)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof G);var ue=G.length,Re=2<arguments.length&&!0===arguments[2];if(!Re&&0===ue)return 0;for(var Ee=!1;;)switch(J){case"ascii":case"latin1":case"binary":return ue;case"utf8":case"utf-8":return $e(G).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ue;case"hex":return ue>>>1;case"base64":return qe(G).length;default:if(Ee)return Re?-1:$e(G).length;J=(""+J).toLowerCase(),Ee=!0}}function E(G,J,ue){var Re=G[J];G[J]=G[ue],G[ue]=Re}function L(G,J,ue,Re,Ee){if(0===G.length)return-1;if("string"==typeof ue?(Re=ue,ue=0):2147483647<ue?ue=2147483647:ue<-2147483648&&(ue=-2147483648),Qe(ue=+ue)&&(ue=Ee?0:G.length-1),ue<0&&(ue=G.length+ue),ue>=G.length){if(Ee)return-1;ue=G.length-1}else if(ue<0){if(!Ee)return-1;ue=0}if("string"==typeof J&&(J=z.from(J,Re)),z.isBuffer(J))return 0===J.length?-1:A(G,J,ue,Re,Ee);if("number"==typeof J)return J&=255,"function"==typeof Uint8Array.prototype.indexOf?Ee?Uint8Array.prototype.indexOf.call(G,J,ue):Uint8Array.prototype.lastIndexOf.call(G,J,ue):A(G,[J],ue,Re,Ee);throw new TypeError("val must be string, number or Buffer")}function A(G,J,ue,Re,Ee){var Ie,Be=1,ht=G.length,ze=J.length;if(void 0!==Re&&("ucs2"===(Re=String(Re).toLowerCase())||"ucs-2"===Re||"utf16le"===Re||"utf-16le"===Re)){if(G.length<2||J.length<2)return-1;ht/=Be=2,ze/=2,ue/=2}function Ze(mt,ft){return 1===Be?mt[ft]:mt.readUInt16BE(ft*Be)}if(Ee){var Xe=-1;for(Ie=ue;Ie<ht;Ie++)if(Ze(G,Ie)===Ze(J,-1===Xe?0:Ie-Xe)){if(-1===Xe&&(Xe=Ie),Ie-Xe+1===ze)return Xe*Be}else-1!==Xe&&(Ie-=Ie-Xe),Xe=-1}else for(ht<ue+ze&&(ue=ht-ze),Ie=ue;0<=Ie;Ie--){for(var Je=!0,ct=0;ct<ze;ct++)if(Ze(G,Ie+ct)!==Ze(J,ct)){Je=!1;break}if(Je)return Ie}return-1}function R(G,J,ue,Re){ue=Number(ue)||0;var Ee=G.length-ue;Re?Ee<(Re=Number(Re))&&(Re=Ee):Re=Ee;var Ie=J.length;Ie/2<Re&&(Re=Ie/2);for(var Be=0;Be<Re;++Be){var ht=parseInt(J.substr(2*Be,2),16);if(Qe(ht))return Be;G[ue+Be]=ht}return Be}function V(G,J,ue,Re){return We(function(Ee){for(var Ie=[],Be=0;Be<Ee.length;++Be)Ie.push(255&Ee.charCodeAt(Be));return Ie}(J),G,ue,Re)}function U(G,J,ue,Re){return We(function(Ee,Ie){for(var Be,ht,Ze=[],Xe=0;Xe<Ee.length&&!((Ie-=2)<0);++Xe)ht=(Be=Ee.charCodeAt(Xe))>>8,Ze.push(Be%256),Ze.push(ht);return Ze}(J,G.length-ue),G,ue,Re)}function Z(G,J,ue){return v.fromByteArray(0===J&&ue===G.length?G:G.slice(J,ue))}function Q(G,J,ue){ue=Math.min(G.length,ue);for(var Re=[],Ee=J;Ee<ue;){var Ie,Be,ht,ze,Ze=G[Ee],Xe=null,Je=239<Ze?4:223<Ze?3:191<Ze?2:1;if(Ee+Je<=ue)switch(Je){case 1:Ze<128&&(Xe=Ze);break;case 2:128==(192&(Ie=G[Ee+1]))&&127<(ze=(31&Ze)<<6|63&Ie)&&(Xe=ze);break;case 3:Be=G[Ee+2],128==(192&(Ie=G[Ee+1]))&&128==(192&Be)&&2047<(ze=(15&Ze)<<12|(63&Ie)<<6|63&Be)&&(ze<55296||57343<ze)&&(Xe=ze);break;case 4:Be=G[Ee+2],ht=G[Ee+3],128==(192&(Ie=G[Ee+1]))&&128==(192&Be)&&128==(192&ht)&&65535<(ze=(15&Ze)<<18|(63&Ie)<<12|(63&Be)<<6|63&ht)&&ze<1114112&&(Xe=ze)}null===Xe?(Xe=65533,Je=1):65535<Xe&&(Re.push((Xe-=65536)>>>10&1023|55296),Xe=56320|1023&Xe),Re.push(Xe),Ee+=Je}return function(ct){var mt=ct.length;if(mt<=Y)return String.fromCharCode.apply(String,ct);for(var ft="",$t=0;$t<mt;)ft+=String.fromCharCode.apply(String,ct.slice($t,$t+=Y));return ft}(Re)}H.kMaxLength=M,(z.TYPED_ARRAY_SUPPORT=function(){try{var G=new Uint8Array(1),J={foo:function(){return 42}};return Object.setPrototypeOf(J,Uint8Array.prototype),Object.setPrototypeOf(G,J),42===G.foo()}catch(ue){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(z.prototype,"parent",{enumerable:!0,get:function(){if(z.isBuffer(this))return this.buffer}}),Object.defineProperty(z.prototype,"offset",{enumerable:!0,get:function(){if(z.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&z[Symbol.species]===z&&Object.defineProperty(z,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),z.poolSize=8192,z.from=function(G,J,ue){return g(G,J,ue)},Object.setPrototypeOf(z.prototype,Uint8Array.prototype),Object.setPrototypeOf(z,Uint8Array),z.alloc=function(G,J,ue){return Ee=J,Ie=ue,u(Re=G),Re<=0?w(Re):void 0!==Ee?"string"==typeof Ie?w(Re).fill(Ee,Ie):w(Re).fill(Ee):w(Re);var Re,Ee,Ie},z.allocUnsafe=function(G){return h(G)},z.allocUnsafeSlow=function(G){return h(G)},z.isBuffer=function(G){return null!=G&&!0===G._isBuffer&&G!==z.prototype},z.compare=function(G,J){if(tt(G,Uint8Array)&&(G=z.from(G,G.offset,G.byteLength)),tt(J,Uint8Array)&&(J=z.from(J,J.offset,J.byteLength)),!z.isBuffer(G)||!z.isBuffer(J))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(G===J)return 0;for(var ue=G.length,Re=J.length,Ee=0,Ie=Math.min(ue,Re);Ee<Ie;++Ee)if(G[Ee]!==J[Ee]){ue=G[Ee],Re=J[Ee];break}return ue<Re?-1:Re<ue?1:0},z.isEncoding=function(G){switch(String(G).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},z.concat=function(G,J){if(!Array.isArray(G))throw new TypeError('"list" argument must be an Array of Buffers');if(0===G.length)return z.alloc(0);var ue;if(void 0===J)for(ue=J=0;ue<G.length;++ue)J+=G[ue].length;var Re=z.allocUnsafe(J),Ee=0;for(ue=0;ue<G.length;++ue){var Ie=G[ue];if(tt(Ie,Uint8Array)&&(Ie=z.from(Ie)),!z.isBuffer(Ie))throw new TypeError('"list" argument must be an Array of Buffers');Ie.copy(Re,Ee),Ee+=Ie.length}return Re},z.byteLength=b,z.prototype._isBuffer=!0,z.prototype.swap16=function(){var G=this.length;if(G%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var J=0;J<G;J+=2)E(this,J,J+1);return this},z.prototype.swap32=function(){var G=this.length;if(G%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var J=0;J<G;J+=4)E(this,J,J+3),E(this,J+1,J+2);return this},z.prototype.swap64=function(){var G=this.length;if(G%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var J=0;J<G;J+=8)E(this,J,J+7),E(this,J+1,J+6),E(this,J+2,J+5),E(this,J+3,J+4);return this},z.prototype.toLocaleString=z.prototype.toString=function(){var G=this.length;return 0===G?"":0===arguments.length?Q(this,0,G):function(J,ue,Re){var Ee=!1;if((void 0===ue||ue<0)&&(ue=0),ue>this.length||((void 0===Re||Re>this.length)&&(Re=this.length),Re<=0)||(Re>>>=0)<=(ue>>>=0))return"";for(J=J||"utf8";;)switch(J){case"hex":return q(this,ue,Re);case"utf8":case"utf-8":return Q(this,ue,Re);case"ascii":return K(this,ue,Re);case"latin1":case"binary":return te(this,ue,Re);case"base64":return Z(this,ue,Re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,ue,Re);default:if(Ee)throw new TypeError("Unknown encoding: "+J);J=(J+"").toLowerCase(),Ee=!0}}.apply(this,arguments)},z.prototype.equals=function(G){if(!z.isBuffer(G))throw new TypeError("Argument must be a Buffer");return this===G||0===z.compare(this,G)},z.prototype.inspect=function(){var G="",J=H.INSPECT_MAX_BYTES;return G=this.toString("hex",0,J).replace(/(.{2})/g,"$1 ").trim(),this.length>J&&(G+=" ... "),"<Buffer "+G+">"},C&&(z.prototype[C]=z.prototype.inspect),z.prototype.compare=function(G,J,ue,Re,Ee){if(tt(G,Uint8Array)&&(G=z.from(G,G.offset,G.byteLength)),!z.isBuffer(G))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof G);if(void 0===J&&(J=0),void 0===ue&&(ue=G?G.length:0),void 0===Re&&(Re=0),void 0===Ee&&(Ee=this.length),J<0||ue>G.length||Re<0||Ee>this.length)throw new RangeError("out of range index");if(Ee<=Re&&ue<=J)return 0;if(Ee<=Re)return-1;if(ue<=J)return 1;if(this===G)return 0;for(var Ie=(Ee>>>=0)-(Re>>>=0),Be=(ue>>>=0)-(J>>>=0),ht=Math.min(Ie,Be),ze=this.slice(Re,Ee),Ze=G.slice(J,ue),Xe=0;Xe<ht;++Xe)if(ze[Xe]!==Ze[Xe]){Ie=ze[Xe],Be=Ze[Xe];break}return Ie<Be?-1:Be<Ie?1:0},z.prototype.includes=function(G,J,ue){return-1!==this.indexOf(G,J,ue)},z.prototype.indexOf=function(G,J,ue){return L(this,G,J,ue,!0)},z.prototype.lastIndexOf=function(G,J,ue){return L(this,G,J,ue,!1)},z.prototype.write=function(G,J,ue,Re){if(void 0===J)Re="utf8",ue=this.length,J=0;else if(void 0===ue&&"string"==typeof J)Re=J,ue=this.length,J=0;else{if(!isFinite(J))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");J>>>=0,isFinite(ue)?(ue>>>=0,void 0===Re&&(Re="utf8")):(Re=ue,ue=void 0)}var Ee=this.length-J;if((void 0===ue||Ee<ue)&&(ue=Ee),0<G.length&&(ue<0||J<0)||J>this.length)throw new RangeError("Attempt to write outside buffer bounds");Re=Re||"utf8";for(var Be,ht,Ze,Xe,Je=!1;;)switch(Re){case"hex":return R(this,G,J,ue);case"utf8":case"utf-8":return Xe=ue,We($e(G,this.length-(Ze=J)),this,Ze,Xe);case"ascii":return V(this,G,J,ue);case"latin1":case"binary":return V(this,G,J,ue);case"base64":return this,Be=J,ht=ue,We(qe(G),this,Be,ht);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,G,J,ue);default:if(Je)throw new TypeError("Unknown encoding: "+Re);Re=(""+Re).toLowerCase(),Je=!0}},z.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Y=4096;function K(G,J,ue){var Re="";ue=Math.min(G.length,ue);for(var Ee=J;Ee<ue;++Ee)Re+=String.fromCharCode(127&G[Ee]);return Re}function te(G,J,ue){var Re="";ue=Math.min(G.length,ue);for(var Ee=J;Ee<ue;++Ee)Re+=String.fromCharCode(G[Ee]);return Re}function q(G,J,ue){var Re=G.length;(!J||J<0)&&(J=0),(!ue||ue<0||Re<ue)&&(ue=Re);for(var Ee="",Ie=J;Ie<ue;++Ie)Ee+=ut[G[Ie]];return Ee}function oe(G,J,ue){for(var Re=G.slice(J,ue),Ee="",Ie=0;Ie<Re.length;Ie+=2)Ee+=String.fromCharCode(Re[Ie]+256*Re[Ie+1]);return Ee}function ie(G,J,ue){if(G%1!=0||G<0)throw new RangeError("offset is not uint");if(ue<G+J)throw new RangeError("Trying to access beyond buffer length")}function ye(G,J,ue,Re,Ee,Ie){if(!z.isBuffer(G))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ee<J||J<Ie)throw new RangeError('"value" argument is out of bounds');if(ue+Re>G.length)throw new RangeError("Index out of range")}function Ve(G,J,ue,Re){if(ue+Re>G.length)throw new RangeError("Index out of range");if(ue<0)throw new RangeError("Index out of range")}function _e(G,J,ue,Re,Ee){return J=+J,ue>>>=0,Ee||Ve(G,0,ue,4),x.write(G,J,ue,Re,23,4),ue+4}function we(G,J,ue,Re,Ee){return J=+J,ue>>>=0,Ee||Ve(G,0,ue,8),x.write(G,J,ue,Re,52,8),ue+8}z.prototype.slice=function(G,J){var ue=this.length;(G=~~G)<0?(G+=ue)<0&&(G=0):ue<G&&(G=ue),(J=void 0===J?ue:~~J)<0?(J+=ue)<0&&(J=0):ue<J&&(J=ue),J<G&&(J=G);var Re=this.subarray(G,J);return Object.setPrototypeOf(Re,z.prototype),Re},z.prototype.readUIntLE=function(G,J,ue){G>>>=0,J>>>=0,ue||ie(G,J,this.length);for(var Re=this[G],Ee=1,Ie=0;++Ie<J&&(Ee*=256);)Re+=this[G+Ie]*Ee;return Re},z.prototype.readUIntBE=function(G,J,ue){G>>>=0,J>>>=0,ue||ie(G,J,this.length);for(var Re=this[G+--J],Ee=1;0<J&&(Ee*=256);)Re+=this[G+--J]*Ee;return Re},z.prototype.readUInt8=function(G,J){return G>>>=0,J||ie(G,1,this.length),this[G]},z.prototype.readUInt16LE=function(G,J){return G>>>=0,J||ie(G,2,this.length),this[G]|this[G+1]<<8},z.prototype.readUInt16BE=function(G,J){return G>>>=0,J||ie(G,2,this.length),this[G]<<8|this[G+1]},z.prototype.readUInt32LE=function(G,J){return G>>>=0,J||ie(G,4,this.length),(this[G]|this[G+1]<<8|this[G+2]<<16)+16777216*this[G+3]},z.prototype.readUInt32BE=function(G,J){return G>>>=0,J||ie(G,4,this.length),16777216*this[G]+(this[G+1]<<16|this[G+2]<<8|this[G+3])},z.prototype.readIntLE=function(G,J,ue){G>>>=0,J>>>=0,ue||ie(G,J,this.length);for(var Re=this[G],Ee=1,Ie=0;++Ie<J&&(Ee*=256);)Re+=this[G+Ie]*Ee;return(Ee*=128)<=Re&&(Re-=Math.pow(2,8*J)),Re},z.prototype.readIntBE=function(G,J,ue){G>>>=0,J>>>=0,ue||ie(G,J,this.length);for(var Re=J,Ee=1,Ie=this[G+--Re];0<Re&&(Ee*=256);)Ie+=this[G+--Re]*Ee;return(Ee*=128)<=Ie&&(Ie-=Math.pow(2,8*J)),Ie},z.prototype.readInt8=function(G,J){return G>>>=0,J||ie(G,1,this.length),128&this[G]?-1*(255-this[G]+1):this[G]},z.prototype.readInt16LE=function(G,J){G>>>=0,J||ie(G,2,this.length);var ue=this[G]|this[G+1]<<8;return 32768&ue?4294901760|ue:ue},z.prototype.readInt16BE=function(G,J){G>>>=0,J||ie(G,2,this.length);var ue=this[G+1]|this[G]<<8;return 32768&ue?4294901760|ue:ue},z.prototype.readInt32LE=function(G,J){return G>>>=0,J||ie(G,4,this.length),this[G]|this[G+1]<<8|this[G+2]<<16|this[G+3]<<24},z.prototype.readInt32BE=function(G,J){return G>>>=0,J||ie(G,4,this.length),this[G]<<24|this[G+1]<<16|this[G+2]<<8|this[G+3]},z.prototype.readFloatLE=function(G,J){return G>>>=0,J||ie(G,4,this.length),x.read(this,G,!0,23,4)},z.prototype.readFloatBE=function(G,J){return G>>>=0,J||ie(G,4,this.length),x.read(this,G,!1,23,4)},z.prototype.readDoubleLE=function(G,J){return G>>>=0,J||ie(G,8,this.length),x.read(this,G,!0,52,8)},z.prototype.readDoubleBE=function(G,J){return G>>>=0,J||ie(G,8,this.length),x.read(this,G,!1,52,8)},z.prototype.writeUIntLE=function(G,J,ue,Re){G=+G,J>>>=0,ue>>>=0,Re||ye(this,G,J,ue,Math.pow(2,8*ue)-1,0);var Ee=1,Ie=0;for(this[J]=255&G;++Ie<ue&&(Ee*=256);)this[J+Ie]=G/Ee&255;return J+ue},z.prototype.writeUIntBE=function(G,J,ue,Re){G=+G,J>>>=0,ue>>>=0,Re||ye(this,G,J,ue,Math.pow(2,8*ue)-1,0);var Ee=ue-1,Ie=1;for(this[J+Ee]=255&G;0<=--Ee&&(Ie*=256);)this[J+Ee]=G/Ie&255;return J+ue},z.prototype.writeUInt8=function(G,J,ue){return G=+G,J>>>=0,ue||ye(this,G,J,1,255,0),this[J]=255&G,J+1},z.prototype.writeUInt16LE=function(G,J,ue){return G=+G,J>>>=0,ue||ye(this,G,J,2,65535,0),this[J]=255&G,this[J+1]=G>>>8,J+2},z.prototype.writeUInt16BE=function(G,J,ue){return G=+G,J>>>=0,ue||ye(this,G,J,2,65535,0),this[J]=G>>>8,this[J+1]=255&G,J+2},z.prototype.writeUInt32LE=function(G,J,ue){return G=+G,J>>>=0,ue||ye(this,G,J,4,4294967295,0),this[J+3]=G>>>24,this[J+2]=G>>>16,this[J+1]=G>>>8,this[J]=255&G,J+4},z.prototype.writeUInt32BE=function(G,J,ue){return G=+G,J>>>=0,ue||ye(this,G,J,4,4294967295,0),this[J]=G>>>24,this[J+1]=G>>>16,this[J+2]=G>>>8,this[J+3]=255&G,J+4},z.prototype.writeIntLE=function(G,J,ue,Re){if(G=+G,J>>>=0,!Re){var Ee=Math.pow(2,8*ue-1);ye(this,G,J,ue,Ee-1,-Ee)}var Ie=0,Be=1,ht=0;for(this[J]=255&G;++Ie<ue&&(Be*=256);)G<0&&0===ht&&0!==this[J+Ie-1]&&(ht=1),this[J+Ie]=(G/Be>>0)-ht&255;return J+ue},z.prototype.writeIntBE=function(G,J,ue,Re){if(G=+G,J>>>=0,!Re){var Ee=Math.pow(2,8*ue-1);ye(this,G,J,ue,Ee-1,-Ee)}var Ie=ue-1,Be=1,ht=0;for(this[J+Ie]=255&G;0<=--Ie&&(Be*=256);)G<0&&0===ht&&0!==this[J+Ie+1]&&(ht=1),this[J+Ie]=(G/Be>>0)-ht&255;return J+ue},z.prototype.writeInt8=function(G,J,ue){return G=+G,J>>>=0,ue||ye(this,G,J,1,127,-128),G<0&&(G=255+G+1),this[J]=255&G,J+1},z.prototype.writeInt16LE=function(G,J,ue){return G=+G,J>>>=0,ue||ye(this,G,J,2,32767,-32768),this[J]=255&G,this[J+1]=G>>>8,J+2},z.prototype.writeInt16BE=function(G,J,ue){return G=+G,J>>>=0,ue||ye(this,G,J,2,32767,-32768),this[J]=G>>>8,this[J+1]=255&G,J+2},z.prototype.writeInt32LE=function(G,J,ue){return G=+G,J>>>=0,ue||ye(this,G,J,4,2147483647,-2147483648),this[J]=255&G,this[J+1]=G>>>8,this[J+2]=G>>>16,this[J+3]=G>>>24,J+4},z.prototype.writeInt32BE=function(G,J,ue){return G=+G,J>>>=0,ue||ye(this,G,J,4,2147483647,-2147483648),G<0&&(G=4294967295+G+1),this[J]=G>>>24,this[J+1]=G>>>16,this[J+2]=G>>>8,this[J+3]=255&G,J+4},z.prototype.writeFloatLE=function(G,J,ue){return _e(this,G,J,!0,ue)},z.prototype.writeFloatBE=function(G,J,ue){return _e(this,G,J,!1,ue)},z.prototype.writeDoubleLE=function(G,J,ue){return we(this,G,J,!0,ue)},z.prototype.writeDoubleBE=function(G,J,ue){return we(this,G,J,!1,ue)},z.prototype.copy=function(G,J,ue,Re){if(!z.isBuffer(G))throw new TypeError("argument should be a Buffer");if(ue=ue||0,Re||0===Re||(Re=this.length),J>=G.length&&(J=G.length),0<Re&&Re<ue&&(Re=ue),Re===ue||0===G.length||0===this.length)return 0;if((J=J||0)<0)throw new RangeError("targetStart out of bounds");if(ue<0||ue>=this.length)throw new RangeError("Index out of range");if(Re<0)throw new RangeError("sourceEnd out of bounds");Re>this.length&&(Re=this.length),G.length-J<Re-ue&&(Re=G.length-J+ue);var Ee=Re-ue;if(this===G&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(J,ue,Re);else if(this===G&&ue<J&&J<Re)for(var Ie=Ee-1;0<=Ie;--Ie)G[Ie+J]=this[Ie+ue];else Uint8Array.prototype.set.call(G,this.subarray(ue,Re),J);return Ee},z.prototype.fill=function(G,J,ue,Re){if("string"==typeof G){if("string"==typeof J?(Re=J,J=0,ue=this.length):"string"==typeof ue&&(Re=ue,ue=this.length),void 0!==Re&&"string"!=typeof Re)throw new TypeError("encoding must be a string");if("string"==typeof Re&&!z.isEncoding(Re))throw new TypeError("Unknown encoding: "+Re);if(1===G.length){var Ee=G.charCodeAt(0);("utf8"===Re&&Ee<128||"latin1"===Re)&&(G=Ee)}}else"number"==typeof G?G&=255:"boolean"==typeof G&&(G=Number(G));if(J<0||this.length<J||this.length<ue)throw new RangeError("Out of range index");if(ue<=J)return this;var Ie;if(J>>>=0,ue=void 0===ue?this.length:ue>>>0,"number"==typeof(G=G||0))for(Ie=J;Ie<ue;++Ie)this[Ie]=G;else{var Be=z.isBuffer(G)?G:z.from(G,Re),ht=Be.length;if(0===ht)throw new TypeError('The value "'+G+'" is invalid for argument "value"');for(Ie=0;Ie<ue-J;++Ie)this[Ie+J]=Be[Ie%ht]}return this};var Le=/[^+/0-9A-Za-z-_]/g;function $e(G,J){var ue;J=J||1/0;for(var Re=G.length,Ee=null,Ie=[],Be=0;Be<Re;++Be){if(55295<(ue=G.charCodeAt(Be))&&ue<57344){if(!Ee){if(56319<ue){-1<(J-=3)&&Ie.push(239,191,189);continue}if(Be+1===Re){-1<(J-=3)&&Ie.push(239,191,189);continue}Ee=ue;continue}if(ue<56320){-1<(J-=3)&&Ie.push(239,191,189),Ee=ue;continue}ue=65536+(Ee-55296<<10|ue-56320)}else Ee&&-1<(J-=3)&&Ie.push(239,191,189);if(Ee=null,ue<128){if(--J<0)break;Ie.push(ue)}else if(ue<2048){if((J-=2)<0)break;Ie.push(ue>>6|192,63&ue|128)}else if(ue<65536){if((J-=3)<0)break;Ie.push(ue>>12|224,ue>>6&63|128,63&ue|128)}else{if(!(ue<1114112))throw new Error("Invalid code point");if((J-=4)<0)break;Ie.push(ue>>18|240,ue>>12&63|128,ue>>6&63|128,63&ue|128)}}return Ie}function qe(G){return v.toByteArray(function(J){if((J=(J=J.split("=")[0]).trim().replace(Le,"")).length<2)return"";for(;J.length%4!=0;)J+="=";return J}(G))}function We(G,J,ue,Re){for(var Ee=0;Ee<Re&&!(Ee+ue>=J.length||Ee>=G.length);++Ee)J[Ee+ue]=G[Ee];return Ee}function tt(G,J){return G instanceof J||null!=G&&null!=G.constructor&&null!=G.constructor.name&&G.constructor.name===J.name}function Qe(G){return G!=G}var ut=function(){for(var G="0123456789abcdef",J=new Array(256),ue=0;ue<16;++ue)for(var Re=16*ue,Ee=0;Ee<16;++Ee)J[Re+Ee]=G[ue]+G[Ee];return J}()}).call(this,d("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:233}],5:[function(d,ee,H){ee.exports=function(z){if("function"!=typeof z)throw TypeError(String(z)+" is not a function");return z}},{}],6:[function(d,ee,H){var z=d("../internals/is-object");ee.exports=function(v){if(!z(v)&&null!==v)throw TypeError("Can't set "+String(v)+" as a prototype");return v}},{"../internals/is-object":73}],7:[function(d,ee,H){var z=d("../internals/well-known-symbol"),v=d("../internals/object-create"),x=d("../internals/object-define-property"),C=z("unscopables"),M=Array.prototype;null==M[C]&&x.f(M,C,{configurable:!0,value:v(null)}),ee.exports=function(w){M[C][w]=!0}},{"../internals/object-create":89,"../internals/object-define-property":91,"../internals/well-known-symbol":145}],8:[function(d,ee,H){"use strict";var z=d("../internals/string-multibyte").charAt;ee.exports=function(v,x,C){return x+(C?z(v,x).length:1)}},{"../internals/string-multibyte":122}],9:[function(d,ee,H){ee.exports=function(z,v,x){if(!(z instanceof v))throw TypeError("Incorrect "+(x?x+" ":"")+"invocation");return z}},{}],10:[function(d,ee,H){var z=d("../internals/is-object");ee.exports=function(v){if(!z(v))throw TypeError(String(v)+" is not an object");return v}},{"../internals/is-object":73}],11:[function(d,ee,H){ee.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},{}],12:[function(d,ee,H){"use strict";function z(_e){return w(_e)&&g(Ve,u(_e))}var v,x=d("../internals/array-buffer-native"),C=d("../internals/descriptors"),M=d("../internals/global"),w=d("../internals/is-object"),g=d("../internals/has"),u=d("../internals/classof"),h=d("../internals/create-non-enumerable-property"),f=d("../internals/redefine"),m=d("../internals/object-define-property").f,b=d("../internals/object-get-prototype-of"),E=d("../internals/object-set-prototype-of"),L=d("../internals/well-known-symbol"),A=d("../internals/uid"),R=M.Int8Array,V=R&&R.prototype,U=M.Uint8ClampedArray,Z=U&&U.prototype,Q=R&&b(R),Y=V&&b(V),K=Object.prototype,te=K.isPrototypeOf,q=L("toStringTag"),oe=A("TYPED_ARRAY_TAG"),ie=x&&!!E&&"Opera"!==u(M.opera),ye=!1,Ve={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(v in Ve)M[v]||(ie=!1);if((!ie||"function"!=typeof Q||Q===Function.prototype)&&(Q=function(){throw TypeError("Incorrect invocation")},ie))for(v in Ve)M[v]&&E(M[v],Q);if((!ie||!Y||Y===K)&&(Y=Q.prototype,ie))for(v in Ve)M[v]&&E(M[v].prototype,Y);if(ie&&b(Z)!==Y&&E(Z,Y),C&&!g(Y,q))for(v in ye=!0,m(Y,q,{get:function(){return w(this)?this[oe]:void 0}}),Ve)M[v]&&h(M[v],oe,v);ee.exports={NATIVE_ARRAY_BUFFER_VIEWS:ie,TYPED_ARRAY_TAG:ye&&oe,aTypedArray:function(_e){if(z(_e))return _e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(_e){if(E){if(te.call(Q,_e))return _e}else for(var we in Ve)if(g(Ve,v)){var Le=M[we];if(Le&&(_e===Le||te.call(Le,_e)))return _e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(_e,we,Le){if(C){if(Le)for(var $e in Ve){var qe=M[$e];qe&&g(qe.prototype,_e)&&delete qe.prototype[_e]}Y[_e]&&!Le||f(Y,_e,Le?we:ie&&V[_e]||we)}},exportTypedArrayStaticMethod:function(_e,we,Le){var $e,qe;if(C){if(E){if(Le)for($e in Ve)(qe=M[$e])&&g(qe,_e)&&delete qe[_e];if(Q[_e]&&!Le)return;try{return f(Q,_e,Le?we:ie&&R[_e]||we)}catch(We){}}for($e in Ve)!(qe=M[$e])||qe[_e]&&!Le||f(qe,_e,we)}},isView:function(_e){var we=u(_e);return"DataView"===we||g(Ve,we)},isTypedArray:z,TypedArray:Q,TypedArrayPrototype:Y}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":37,"../internals/descriptors":42,"../internals/global":58,"../internals/has":59,"../internals/is-object":73,"../internals/object-define-property":91,"../internals/object-get-prototype-of":96,"../internals/object-set-prototype-of":100,"../internals/redefine":107,"../internals/uid":142,"../internals/well-known-symbol":145}],13:[function(d,ee,H){"use strict";function z(Xe){return[255&Xe]}function v(Xe){return[255&Xe,Xe>>8&255]}function x(Xe){return[255&Xe,Xe>>8&255,Xe>>16&255,Xe>>24&255]}function C(Xe){return Xe[3]<<24|Xe[2]<<16|Xe[1]<<8|Xe[0]}function M(Xe){return ue(Xe,23,4)}function w(Xe){return ue(Xe,52,8)}function g(Xe,Je){q(Xe[$e],Je,{get:function(){return Ve(this)[Je]}})}function u(Xe,Je,ct,mt){var ft=Z(ct),$t=Ve(Xe);if(ft+Je>$t.byteLength)throw J(qe);var xn=Ve($t.buffer).bytes,Ct=ft+$t.byteOffset,Sn=xn.slice(Ct,Ct+Je);return mt?Sn:Sn.reverse()}function h(Xe,Je,ct,mt,ft,$t){var xn=Z(ct),Ct=Ve(Xe);if(xn+Je>Ct.byteLength)throw J(qe);for(var Sn=Ve(Ct.buffer).bytes,Gn=xn+Ct.byteOffset,Et=mt(+ft),Tt=0;Tt<Je;Tt++)Sn[Gn+Tt]=Et[$t?Tt:Je-Tt-1]}var f=d("../internals/global"),m=d("../internals/descriptors"),b=d("../internals/array-buffer-native"),E=d("../internals/create-non-enumerable-property"),L=d("../internals/redefine-all"),A=d("../internals/fails"),R=d("../internals/an-instance"),V=d("../internals/to-integer"),U=d("../internals/to-length"),Z=d("../internals/to-index"),Q=d("../internals/ieee754"),Y=d("../internals/object-get-prototype-of"),K=d("../internals/object-set-prototype-of"),te=d("../internals/object-get-own-property-names").f,q=d("../internals/object-define-property").f,oe=d("../internals/array-fill"),ie=d("../internals/set-to-string-tag"),ye=d("../internals/internal-state"),Ve=ye.get,_e=ye.set,we="ArrayBuffer",Le="DataView",$e="prototype",qe="Wrong index",We=f[we],tt=We,Qe=f[Le],ut=Qe&&Qe[$e],G=Object.prototype,J=f.RangeError,ue=Q.pack,Re=Q.unpack;if(b){if(!A(function(){We(1)})||!A(function(){new We(-1)})||A(function(){return new We,new We(1.5),new We(NaN),We.name!=we})){for(var Ee,Ie=(tt=function(Xe){return R(this,tt),new We(Z(Xe))})[$e]=We[$e],Be=te(We),ht=0;Be.length>ht;)(Ee=Be[ht++])in tt||E(tt,Ee,We[Ee]);Ie.constructor=tt}K&&Y(ut)!==G&&K(ut,G);var ze=new Qe(new tt(2)),Ze=ut.setInt8;ze.setInt8(0,2147483648),ze.setInt8(1,2147483649),!ze.getInt8(0)&&ze.getInt8(1)||L(ut,{setInt8:function(Xe,Je){Ze.call(this,Xe,Je<<24>>24)},setUint8:function(Xe,Je){Ze.call(this,Xe,Je<<24>>24)}},{unsafe:!0})}else tt=function(Xe){R(this,tt,we);var Je=Z(Xe);_e(this,{bytes:oe.call(new Array(Je),0),byteLength:Je}),m||(this.byteLength=Je)},Qe=function(Xe,Je,ct){R(this,Qe,Le),R(Xe,tt,Le);var mt=Ve(Xe).byteLength,ft=V(Je);if(ft<0||mt<ft)throw J("Wrong offset");if(mt<ft+(ct=void 0===ct?mt-ft:U(ct)))throw J("Wrong length");_e(this,{buffer:Xe,byteLength:ct,byteOffset:ft}),m||(this.buffer=Xe,this.byteLength=ct,this.byteOffset=ft)},m&&(g(tt,"byteLength"),g(Qe,"buffer"),g(Qe,"byteLength"),g(Qe,"byteOffset")),L(Qe[$e],{getInt8:function(Xe){return u(this,1,Xe)[0]<<24>>24},getUint8:function(Xe){return u(this,1,Xe)[0]},getInt16:function(Xe,Je){var ct=u(this,2,Xe,1<arguments.length?Je:void 0);return(ct[1]<<8|ct[0])<<16>>16},getUint16:function(Xe,Je){var ct=u(this,2,Xe,1<arguments.length?Je:void 0);return ct[1]<<8|ct[0]},getInt32:function(Xe,Je){return C(u(this,4,Xe,1<arguments.length?Je:void 0))},getUint32:function(Xe,Je){return C(u(this,4,Xe,1<arguments.length?Je:void 0))>>>0},getFloat32:function(Xe,Je){return Re(u(this,4,Xe,1<arguments.length?Je:void 0),23)},getFloat64:function(Xe,Je){return Re(u(this,8,Xe,1<arguments.length?Je:void 0),52)},setInt8:function(Xe,Je){h(this,1,Xe,z,Je)},setUint8:function(Xe,Je){h(this,1,Xe,z,Je)},setInt16:function(Xe,Je,ct){h(this,2,Xe,v,Je,2<arguments.length?ct:void 0)},setUint16:function(Xe,Je,ct){h(this,2,Xe,v,Je,2<arguments.length?ct:void 0)},setInt32:function(Xe,Je,ct){h(this,4,Xe,x,Je,2<arguments.length?ct:void 0)},setUint32:function(Xe,Je,ct){h(this,4,Xe,x,Je,2<arguments.length?ct:void 0)},setFloat32:function(Xe,Je,ct){h(this,4,Xe,M,Je,2<arguments.length?ct:void 0)},setFloat64:function(Xe,Je,ct){h(this,8,Xe,w,Je,2<arguments.length?ct:void 0)}});ie(tt,we),ie(Qe,Le),ee.exports={ArrayBuffer:tt,DataView:Qe}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":37,"../internals/descriptors":42,"../internals/fails":50,"../internals/global":58,"../internals/ieee754":64,"../internals/internal-state":69,"../internals/object-define-property":91,"../internals/object-get-own-property-names":94,"../internals/object-get-prototype-of":96,"../internals/object-set-prototype-of":100,"../internals/redefine-all":106,"../internals/set-to-string-tag":116,"../internals/to-index":130,"../internals/to-integer":132,"../internals/to-length":133}],14:[function(d,ee,H){"use strict";var z=d("../internals/to-object"),v=d("../internals/to-absolute-index"),x=d("../internals/to-length"),C=Math.min;ee.exports=[].copyWithin||function(M,w,g){var u=z(this),h=x(u.length),f=v(M,h),m=v(w,h),b=2<arguments.length?g:void 0,E=C((void 0===b?h:v(b,h))-m,h-f),L=1;for(m<f&&f<m+E&&(L=-1,m+=E-1,f+=E-1);0<E--;)m in u?u[f]=u[m]:delete u[f],f+=L,m+=L;return u}},{"../internals/to-absolute-index":129,"../internals/to-length":133,"../internals/to-object":134}],15:[function(d,ee,H){"use strict";var z=d("../internals/to-object"),v=d("../internals/to-absolute-index"),x=d("../internals/to-length");ee.exports=function(C,M,w){for(var g=z(this),u=x(g.length),h=arguments.length,f=v(1<h?M:void 0,u),m=2<h?w:void 0,b=void 0===m?u:v(m,u);f<b;)g[f++]=C;return g}},{"../internals/to-absolute-index":129,"../internals/to-length":133,"../internals/to-object":134}],16:[function(d,ee,H){"use strict";var z=d("../internals/array-iteration").forEach,v=d("../internals/array-method-is-strict"),x=d("../internals/array-method-uses-to-length"),C=v("forEach"),M=x("forEach");ee.exports=C&&M?[].forEach:function(w,g){return z(this,w,1<arguments.length?g:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(d,ee,H){"use strict";var z=d("../internals/function-bind-context"),v=d("../internals/to-object"),x=d("../internals/call-with-safe-iteration-closing"),C=d("../internals/is-array-iterator-method"),M=d("../internals/to-length"),w=d("../internals/create-property"),g=d("../internals/get-iterator-method");ee.exports=function(u,h,f){var m,b,E,L,A,R,V=v(u),U="function"==typeof this?this:Array,Z=arguments.length,Q=1<Z?h:void 0,Y=void 0!==Q,K=g(V),te=0;if(Y&&(Q=z(Q,2<Z?f:void 0,2)),null==K||U==Array&&C(K))for(b=new U(m=M(V.length));te<m;te++)R=Y?Q(V[te],te):V[te],w(b,te,R);else for(A=(L=K.call(V)).next,b=new U;!(E=A.call(L)).done;te++)R=Y?x(L,Q,[E.value,te],!0):E.value,w(b,te,R);return b.length=te,b}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":39,"../internals/function-bind-context":53,"../internals/get-iterator-method":56,"../internals/is-array-iterator-method":70,"../internals/to-length":133,"../internals/to-object":134}],18:[function(d,ee,H){function z(M){return function(w,g,u){var h,f=v(w),m=x(f.length),b=C(u,m);if(M&&g!=g){for(;b<m;)if((h=f[b++])!=h)return!0}else for(;b<m;b++)if((M||b in f)&&f[b]===g)return M||b||0;return!M&&-1}}var v=d("../internals/to-indexed-object"),x=d("../internals/to-length"),C=d("../internals/to-absolute-index");ee.exports={includes:z(!0),indexOf:z(!1)}},{"../internals/to-absolute-index":129,"../internals/to-indexed-object":131,"../internals/to-length":133}],19:[function(d,ee,H){function z(u){var h=1==u,f=2==u,m=3==u,b=4==u,E=6==u,L=5==u||E;return function(A,R,V,U){for(var Z,Q,Y=C(A),K=x(Y),te=v(R,V,3),q=M(K.length),oe=0,ie=U||w,ye=h?ie(A,q):f?ie(A,0):void 0;oe<q;oe++)if((L||oe in K)&&(Q=te(Z=K[oe],oe,Y),u))if(h)ye[oe]=Q;else if(Q)switch(u){case 3:return!0;case 5:return Z;case 6:return oe;case 2:g.call(ye,Z)}else if(b)return!1;return E?-1:m||b?b:ye}}var v=d("../internals/function-bind-context"),x=d("../internals/indexed-object"),C=d("../internals/to-object"),M=d("../internals/to-length"),w=d("../internals/array-species-create"),g=[].push;ee.exports={forEach:z(0),map:z(1),filter:z(2),some:z(3),every:z(4),find:z(5),findIndex:z(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":53,"../internals/indexed-object":65,"../internals/to-length":133,"../internals/to-object":134}],20:[function(d,ee,H){"use strict";var z=d("../internals/to-indexed-object"),v=d("../internals/to-integer"),x=d("../internals/to-length"),C=d("../internals/array-method-is-strict"),M=d("../internals/array-method-uses-to-length"),w=Math.min,g=[].lastIndexOf,u=!!g&&1/[1].lastIndexOf(1,-0)<0,h=C("lastIndexOf"),f=M("indexOf",{ACCESSORS:!0,1:0});ee.exports=!u&&h&&f?g:function(b,E){if(u)return g.apply(this,arguments)||0;var L=z(this),A=x(L.length),R=A-1;for(1<arguments.length&&(R=w(R,v(E))),R<0&&(R=A+R);0<=R;R--)if(R in L&&L[R]===b)return R||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":131,"../internals/to-integer":132,"../internals/to-length":133}],21:[function(d,ee,H){var z=d("../internals/fails"),v=d("../internals/well-known-symbol"),x=d("../internals/engine-v8-version"),C=v("species");ee.exports=function(M){return 51<=x||!z(function(){var w=[];return(w.constructor={})[C]=function(){return{foo:1}},1!==w[M](Boolean).foo})}},{"../internals/engine-v8-version":47,"../internals/fails":50,"../internals/well-known-symbol":145}],22:[function(d,ee,H){"use strict";var z=d("../internals/fails");ee.exports=function(v,x){var C=[][v];return!!C&&z(function(){C.call(null,x||function(){throw 1},1)})}},{"../internals/fails":50}],23:[function(d,ee,H){function z(g){throw g}var v=d("../internals/descriptors"),x=d("../internals/fails"),C=d("../internals/has"),M=Object.defineProperty,w={};ee.exports=function(g,u){if(C(w,g))return w[g];var h=[][g],f=!!C(u=u||{},"ACCESSORS")&&u.ACCESSORS,m=C(u,0)?u[0]:z,b=C(u,1)?u[1]:void 0;return w[g]=!!h&&!x(function(){if(f&&!v)return!0;var E={length:-1};f?M(E,1,{enumerable:!0,get:z}):E[1]=1,h.call(E,m,b)})}},{"../internals/descriptors":42,"../internals/fails":50,"../internals/has":59}],24:[function(d,ee,H){function z(w){return function(g,u,h,f){v(u);var m=x(g),b=C(m),E=M(m.length),L=w?E-1:0,A=w?-1:1;if(h<2)for(;;){if(L in b){f=b[L],L+=A;break}if(L+=A,w?L<0:E<=L)throw TypeError("Reduce of empty array with no initial value")}for(;w?0<=L:L<E;L+=A)L in b&&(f=u(f,b[L],L,m));return f}}var v=d("../internals/a-function"),x=d("../internals/to-object"),C=d("../internals/indexed-object"),M=d("../internals/to-length");ee.exports={left:z(!1),right:z(!0)}},{"../internals/a-function":5,"../internals/indexed-object":65,"../internals/to-length":133,"../internals/to-object":134}],25:[function(d,ee,H){var z=d("../internals/is-object"),v=d("../internals/is-array"),x=d("../internals/well-known-symbol")("species");ee.exports=function(C,M){var w;return v(C)&&("function"!=typeof(w=C.constructor)||w!==Array&&!v(w.prototype)?z(w)&&null===(w=w[x])&&(w=void 0):w=void 0),new(void 0===w?Array:w)(0===M?0:M)}},{"../internals/is-array":71,"../internals/is-object":73,"../internals/well-known-symbol":145}],26:[function(d,ee,H){var z=d("../internals/an-object");ee.exports=function(v,x,C,M){try{return M?x(z(C)[0],C[1]):x(C)}catch(g){var w=v.return;throw void 0!==w&&z(w.call(v)),g}}},{"../internals/an-object":10}],27:[function(d,ee,H){var z=d("../internals/well-known-symbol")("iterator"),v=!1;try{var x=0,C={next:function(){return{done:!!x++}},return:function(){v=!0}};C[z]=function(){return this},Array.from(C,function(){throw 2})}catch(M){}ee.exports=function(M,w){if(!w&&!v)return!1;var g=!1;try{var u={};u[z]=function(){return{next:function(){return{done:g=!0}}}},M(u)}catch(h){}return g}},{"../internals/well-known-symbol":145}],28:[function(d,ee,H){var z={}.toString;ee.exports=function(v){return z.call(v).slice(8,-1)}},{}],29:[function(d,ee,H){var z=d("../internals/to-string-tag-support"),v=d("../internals/classof-raw"),x=d("../internals/well-known-symbol")("toStringTag"),C="Arguments"==v(function(){return arguments}());ee.exports=z?v:function(M){var w,g,u;return void 0===M?"Undefined":null===M?"Null":"string"==typeof(g=function(h,f){try{return h[f]}catch(m){}}(w=Object(M),x))?g:C?v(w):"Object"==(u=v(w))&&"function"==typeof w.callee?"Arguments":u}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":138,"../internals/well-known-symbol":145}],30:[function(d,ee,H){"use strict";var z=d("../internals/object-define-property").f,v=d("../internals/object-create"),x=d("../internals/redefine-all"),C=d("../internals/function-bind-context"),M=d("../internals/an-instance"),w=d("../internals/iterate"),g=d("../internals/define-iterator"),u=d("../internals/set-species"),h=d("../internals/descriptors"),f=d("../internals/internal-metadata").fastKey,m=d("../internals/internal-state"),b=m.set,E=m.getterFor;ee.exports={getConstructor:function(L,A,R,V){function U(K,te,q){var oe,ie,ye=Q(K),Ve=Y(K,te);return Ve?Ve.value=q:(ye.last=Ve={index:ie=f(te,!0),key:te,value:q,previous:oe=ye.last,next:void 0,removed:!1},ye.first||(ye.first=Ve),oe&&(oe.next=Ve),h?ye.size++:K.size++,"F"!==ie&&(ye.index[ie]=Ve)),K}var Z=L(function(K,te){M(K,Z,A),b(K,{type:A,index:v(null),first:void 0,last:void 0,size:0}),h||(K.size=0),null!=te&&w(te,K[V],K,R)}),Q=E(A),Y=function(K,te){var q,oe=Q(K),ie=f(te);if("F"!==ie)return oe.index[ie];for(q=oe.first;q;q=q.next)if(q.key==te)return q};return x(Z.prototype,{clear:function(){for(var K=Q(this),te=K.index,q=K.first;q;)q.removed=!0,q.previous&&(q.previous=q.previous.next=void 0),delete te[q.index],q=q.next;K.first=K.last=void 0,h?K.size=0:this.size=0},delete:function(K){var te=Q(this),q=Y(this,K);if(q){var oe=q.next,ie=q.previous;delete te.index[q.index],q.removed=!0,ie&&(ie.next=oe),oe&&(oe.previous=ie),te.first==q&&(te.first=oe),te.last==q&&(te.last=ie),h?te.size--:this.size--}return!!q},forEach:function(K,te){for(var q,oe=Q(this),ie=C(K,1<arguments.length?te:void 0,3);q=q?q.next:oe.first;)for(ie(q.value,q.key,this);q&&q.removed;)q=q.previous},has:function(K){return!!Y(this,K)}}),x(Z.prototype,R?{get:function(K){var te=Y(this,K);return te&&te.value},set:function(K,te){return U(this,0===K?0:K,te)}}:{add:function(K){return U(this,K=0===K?0:K,K)}}),h&&z(Z.prototype,"size",{get:function(){return Q(this).size}}),Z},setStrong:function(L,A,R){var V=A+" Iterator",U=E(A),Z=E(V);g(L,A,function(Q,Y){b(this,{type:V,target:Q,state:U(Q),kind:Y,last:void 0})},function(){for(var Q=Z(this),Y=Q.kind,K=Q.last;K&&K.removed;)K=K.previous;return Q.target&&(Q.last=K=K?K.next:Q.state.first)?"keys"==Y?{value:K.key,done:!1}:"values"==Y?{value:K.value,done:!1}:{value:[K.key,K.value],done:!1}:{value:Q.target=void 0,done:!0}},R?"entries":"values",!R,!0),u(A)}}},{"../internals/an-instance":9,"../internals/define-iterator":40,"../internals/descriptors":42,"../internals/function-bind-context":53,"../internals/internal-metadata":68,"../internals/internal-state":69,"../internals/iterate":76,"../internals/object-create":89,"../internals/object-define-property":91,"../internals/redefine-all":106,"../internals/set-species":115}],31:[function(d,ee,H){"use strict";var z=d("../internals/export"),v=d("../internals/global"),x=d("../internals/is-forced"),C=d("../internals/redefine"),M=d("../internals/internal-metadata"),w=d("../internals/iterate"),g=d("../internals/an-instance"),u=d("../internals/is-object"),h=d("../internals/fails"),f=d("../internals/check-correctness-of-iteration"),m=d("../internals/set-to-string-tag"),b=d("../internals/inherit-if-required");ee.exports=function(E,L,A){function R(_e){var we=Y[_e];C(Y,_e,"add"==_e?function(Le){return we.call(this,0===Le?0:Le),this}:"delete"==_e?function(Le){return!(U&&!u(Le))&&we.call(this,0===Le?0:Le)}:"get"==_e?function(Le){return U&&!u(Le)?void 0:we.call(this,0===Le?0:Le)}:"has"==_e?function(Le){return!(U&&!u(Le))&&we.call(this,0===Le?0:Le)}:function(Le,$e){return we.call(this,0===Le?0:Le,$e),this})}var V=-1!==E.indexOf("Map"),U=-1!==E.indexOf("Weak"),Z=V?"set":"add",Q=v[E],Y=Q&&Q.prototype,K=Q,te={};if(x(E,"function"!=typeof Q||!(U||Y.forEach&&!h(function(){(new Q).entries().next()}))))K=A.getConstructor(L,E,V,Z),M.REQUIRED=!0;else if(x(E,!0)){var q=new K,oe=q[Z](U?{}:-0,1)!=q,ie=h(function(){q.has(1)}),ye=f(function(_e){new Q(_e)}),Ve=!U&&h(function(){for(var _e=new Q,we=5;we--;)_e[Z](we,we);return!_e.has(-0)});ye||(((K=L(function(_e,we){g(_e,K,E);var Le=b(new Q,_e,K);return null!=we&&w(we,Le[Z],Le,V),Le})).prototype=Y).constructor=K),(ie||Ve)&&(R("delete"),R("has"),V&&R("get")),(Ve||oe)&&R(Z),U&&Y.clear&&delete Y.clear}return te[E]=K,z({global:!0,forced:K!=Q},te),m(K,E),U||A.setStrong(K,E,V),K}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":49,"../internals/fails":50,"../internals/global":58,"../internals/inherit-if-required":66,"../internals/internal-metadata":68,"../internals/is-forced":72,"../internals/is-object":73,"../internals/iterate":76,"../internals/redefine":107,"../internals/set-to-string-tag":116}],32:[function(d,ee,H){var z=d("../internals/has"),v=d("../internals/own-keys"),x=d("../internals/object-get-own-property-descriptor"),C=d("../internals/object-define-property");ee.exports=function(M,w){for(var g=v(w),u=C.f,h=x.f,f=0;f<g.length;f++){var m=g[f];z(M,m)||u(M,m,h(w,m))}}},{"../internals/has":59,"../internals/object-define-property":91,"../internals/object-get-own-property-descriptor":92,"../internals/own-keys":102}],33:[function(d,ee,H){var z=d("../internals/well-known-symbol")("match");ee.exports=function(v){var x=/./;try{"/./"[v](x)}catch(C){try{return x[z]=!1,"/./"[v](x)}catch(M){}}return!1}},{"../internals/well-known-symbol":145}],34:[function(d,ee,H){var z=d("../internals/fails");ee.exports=!z(function(){function v(){}return v.prototype.constructor=null,Object.getPrototypeOf(new v)!==v.prototype})},{"../internals/fails":50}],35:[function(d,ee,H){var z=d("../internals/require-object-coercible"),v=/"/g;ee.exports=function(x,C,M,w){var g=String(z(x)),u="<"+C;return""!==M&&(u+=" "+M+'="'+String(w).replace(v,"&quot;")+'"'),u+">"+g+"</"+C+">"}},{"../internals/require-object-coercible":112}],36:[function(d,ee,H){"use strict";function z(){return this}var v=d("../internals/iterators-core").IteratorPrototype,x=d("../internals/object-create"),C=d("../internals/create-property-descriptor"),M=d("../internals/set-to-string-tag"),w=d("../internals/iterators");ee.exports=function(g,u,h){var f=u+" Iterator";return g.prototype=x(v,{next:C(1,h)}),M(g,f,!1,!0),w[f]=z,g}},{"../internals/create-property-descriptor":38,"../internals/iterators":78,"../internals/iterators-core":77,"../internals/object-create":89,"../internals/set-to-string-tag":116}],37:[function(d,ee,H){var z=d("../internals/descriptors"),v=d("../internals/object-define-property"),x=d("../internals/create-property-descriptor");ee.exports=z?function(C,M,w){return v.f(C,M,x(1,w))}:function(C,M,w){return C[M]=w,C}},{"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/object-define-property":91}],38:[function(d,ee,H){ee.exports=function(z,v){return{enumerable:!(1&z),configurable:!(2&z),writable:!(4&z),value:v}}},{}],39:[function(d,ee,H){"use strict";var z=d("../internals/to-primitive"),v=d("../internals/object-define-property"),x=d("../internals/create-property-descriptor");ee.exports=function(C,M,w){var g=z(M);g in C?v.f(C,g,x(0,w)):C[g]=w}},{"../internals/create-property-descriptor":38,"../internals/object-define-property":91,"../internals/to-primitive":137}],40:[function(d,ee,H){"use strict";function z(){return this}var v=d("../internals/export"),x=d("../internals/create-iterator-constructor"),C=d("../internals/object-get-prototype-of"),M=d("../internals/object-set-prototype-of"),w=d("../internals/set-to-string-tag"),g=d("../internals/create-non-enumerable-property"),u=d("../internals/redefine"),h=d("../internals/well-known-symbol"),f=d("../internals/is-pure"),m=d("../internals/iterators"),b=d("../internals/iterators-core"),E=b.IteratorPrototype,L=b.BUGGY_SAFARI_ITERATORS,A=h("iterator"),R="values",V="entries";ee.exports=function(U,Z,Q,Y,K,te,q){function oe(tt){if(tt===K&&qe)return qe;if(!L&&tt in Le)return Le[tt];switch(tt){case"keys":case R:case V:return function(){return new Q(this,tt)}}return function(){return new Q(this)}}x(Q,Z,Y);var ie,ye,Ve,_e=Z+" Iterator",we=!1,Le=U.prototype,$e=Le[A]||Le["@@iterator"]||K&&Le[K],qe=!L&&$e||oe(K),We="Array"==Z&&Le.entries||$e;if(We&&(ie=C(We.call(new U)),E!==Object.prototype&&ie.next&&(f||C(ie)===E||(M?M(ie,E):"function"!=typeof ie[A]&&g(ie,A,z)),w(ie,_e,!0,!0),f&&(m[_e]=z))),K==R&&$e&&$e.name!==R&&(we=!0,qe=function(){return $e.call(this)}),f&&!q||Le[A]===qe||g(Le,A,qe),m[Z]=qe,K)if(ye={values:oe(R),keys:te?qe:oe("keys"),entries:oe(V)},q)for(Ve in ye)!L&&!we&&Ve in Le||u(Le,Ve,ye[Ve]);else v({target:Z,proto:!0,forced:L||we},ye);return ye}},{"../internals/create-iterator-constructor":36,"../internals/create-non-enumerable-property":37,"../internals/export":49,"../internals/is-pure":74,"../internals/iterators":78,"../internals/iterators-core":77,"../internals/object-get-prototype-of":96,"../internals/object-set-prototype-of":100,"../internals/redefine":107,"../internals/set-to-string-tag":116,"../internals/well-known-symbol":145}],41:[function(d,ee,H){var z=d("../internals/path"),v=d("../internals/has"),x=d("../internals/well-known-symbol-wrapped"),C=d("../internals/object-define-property").f;ee.exports=function(M){var w=z.Symbol||(z.Symbol={});v(w,M)||C(w,M,{value:x.f(M)})}},{"../internals/has":59,"../internals/object-define-property":91,"../internals/path":103,"../internals/well-known-symbol-wrapped":144}],42:[function(d,ee,H){var z=d("../internals/fails");ee.exports=!z(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":50}],43:[function(d,ee,H){var z=d("../internals/global"),v=d("../internals/is-object"),x=z.document,C=v(x)&&v(x.createElement);ee.exports=function(M){return C?x.createElement(M):{}}},{"../internals/global":58,"../internals/is-object":73}],44:[function(d,ee,H){ee.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],45:[function(d,ee,H){var z=d("../internals/engine-user-agent");ee.exports=/(iphone|ipod|ipad).*applewebkit/i.test(z)},{"../internals/engine-user-agent":46}],46:[function(d,ee,H){var z=d("../internals/get-built-in");ee.exports=z("navigator","userAgent")||""},{"../internals/get-built-in":55}],47:[function(d,ee,H){var z,v,x=d("../internals/global"),C=d("../internals/engine-user-agent"),M=x.process,w=M&&M.versions,g=w&&w.v8;g?v=(z=g.split("."))[0]+z[1]:C&&(!(z=C.match(/Edge\/(\d+)/))||74<=z[1])&&(z=C.match(/Chrome\/(\d+)/))&&(v=z[1]),ee.exports=v&&+v},{"../internals/engine-user-agent":46,"../internals/global":58}],48:[function(d,ee,H){ee.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],49:[function(d,ee,H){var z=d("../internals/global"),v=d("../internals/object-get-own-property-descriptor").f,x=d("../internals/create-non-enumerable-property"),C=d("../internals/redefine"),M=d("../internals/set-global"),w=d("../internals/copy-constructor-properties"),g=d("../internals/is-forced");ee.exports=function(u,h){var f,m,b,E,L,A=u.target,R=u.global,V=u.stat;if(f=R?z:V?z[A]||M(A,{}):(z[A]||{}).prototype)for(m in h){if(E=h[m],b=u.noTargetGet?(L=v(f,m))&&L.value:f[m],!g(R?m:A+(V?".":"#")+m,u.forced)&&void 0!==b){if(typeof E==typeof b)continue;w(E,b)}(u.sham||b&&b.sham)&&x(E,"sham",!0),C(f,m,E,u)}}},{"../internals/copy-constructor-properties":32,"../internals/create-non-enumerable-property":37,"../internals/global":58,"../internals/is-forced":72,"../internals/object-get-own-property-descriptor":92,"../internals/redefine":107,"../internals/set-global":114}],50:[function(d,ee,H){ee.exports=function(z){try{return!!z()}catch(v){return!0}}},{}],51:[function(d,ee,H){"use strict";d("../modules/es.regexp.exec");var z=d("../internals/redefine"),v=d("../internals/fails"),x=d("../internals/well-known-symbol"),C=d("../internals/regexp-exec"),M=d("../internals/create-non-enumerable-property"),w=x("species"),g=!v(function(){var b=/./;return b.exec=function(){var E=[];return E.groups={a:"7"},E},"7"!=="".replace(b,"$<a>")}),u="$0"==="a".replace(/./,"$0"),h=x("replace"),f=!!/./[h]&&""===/./[h]("a","$0"),m=!v(function(){var b=/(?:)/,E=b.exec;b.exec=function(){return E.apply(this,arguments)};var L="ab".split(b);return 2!==L.length||"a"!==L[0]||"b"!==L[1]});ee.exports=function(b,E,L,A){var R=x(b),V=!v(function(){var te={};return te[R]=function(){return 7},7!=""[b](te)}),U=V&&!v(function(){var te=!1,q=/a/;return"split"===b&&((q={constructor:{}}).constructor[w]=function(){return q},q.flags="",q[R]=/./[R]),q.exec=function(){return te=!0,null},q[R](""),!te});if(!V||!U||"replace"===b&&(!g||!u||f)||"split"===b&&!m){var Z=/./[R],Q=L(R,""[b],function(te,q,oe,ie,ye){return q.exec===C?V&&!ye?{done:!0,value:Z.call(q,oe,ie)}:{done:!0,value:te.call(oe,q,ie)}:{done:!1}},{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),K=Q[1];z(String.prototype,b,Q[0]),z(RegExp.prototype,R,2==E?function(te,q){return K.call(te,this,q)}:function(te){return K.call(te,this)})}A&&M(RegExp.prototype[R],"sham",!0)}},{"../internals/create-non-enumerable-property":37,"../internals/fails":50,"../internals/redefine":107,"../internals/regexp-exec":109,"../internals/well-known-symbol":145,"../modules/es.regexp.exec":178}],52:[function(d,ee,H){var z=d("../internals/fails");ee.exports=!z(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":50}],53:[function(d,ee,H){var z=d("../internals/a-function");ee.exports=function(v,x,C){if(z(v),void 0===x)return v;switch(C){case 0:return function(){return v.call(x)};case 1:return function(M){return v.call(x,M)};case 2:return function(M,w){return v.call(x,M,w)};case 3:return function(M,w,g){return v.call(x,M,w,g)}}return function(){return v.apply(x,arguments)}}},{"../internals/a-function":5}],54:[function(d,ee,H){"use strict";var z=d("../internals/a-function"),v=d("../internals/is-object"),x=[].slice,C={};ee.exports=Function.bind||function(M){var w=z(this),g=x.call(arguments,1),u=function(){var h=g.concat(x.call(arguments));return this instanceof u?function(f,m,b){if(!(m in C)){for(var E=[],L=0;L<m;L++)E[L]="a["+L+"]";C[m]=Function("C,a","return new C("+E.join(",")+")")}return C[m](f,b)}(w,h.length,h):w.apply(M,h)};return v(w.prototype)&&(u.prototype=w.prototype),u}},{"../internals/a-function":5,"../internals/is-object":73}],55:[function(d,ee,H){function z(C){return"function"==typeof C?C:void 0}var v=d("../internals/path"),x=d("../internals/global");ee.exports=function(C,M){return arguments.length<2?z(v[C])||z(x[C]):v[C]&&v[C][M]||x[C]&&x[C][M]}},{"../internals/global":58,"../internals/path":103}],56:[function(d,ee,H){var z=d("../internals/classof"),v=d("../internals/iterators"),x=d("../internals/well-known-symbol")("iterator");ee.exports=function(C){if(null!=C)return C[x]||C["@@iterator"]||v[z(C)]}},{"../internals/classof":29,"../internals/iterators":78,"../internals/well-known-symbol":145}],57:[function(d,ee,H){var z=d("../internals/an-object"),v=d("../internals/get-iterator-method");ee.exports=function(x){var C=v(x);if("function"!=typeof C)throw TypeError(String(x)+" is not iterable");return z(C.call(x))}},{"../internals/an-object":10,"../internals/get-iterator-method":56}],58:[function(d,ee,H){(function(z){function v(x){return x&&x.Math==Math&&x}ee.exports=v("object"==typeof globalThis&&globalThis)||v("object"==typeof window&&window)||v("object"==typeof self&&self)||v("object"==typeof z&&z)||Function("return this")()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],59:[function(d,ee,H){var z={}.hasOwnProperty;ee.exports=function(v,x){return z.call(v,x)}},{}],60:[function(d,ee,H){ee.exports={}},{}],61:[function(d,ee,H){var z=d("../internals/global");ee.exports=function(v,x){var C=z.console;C&&C.error&&(1===arguments.length?C.error(v):C.error(v,x))}},{"../internals/global":58}],62:[function(d,ee,H){var z=d("../internals/get-built-in");ee.exports=z("document","documentElement")},{"../internals/get-built-in":55}],63:[function(d,ee,H){var z=d("../internals/descriptors"),v=d("../internals/fails"),x=d("../internals/document-create-element");ee.exports=!z&&!v(function(){return 7!=Object.defineProperty(x("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":42,"../internals/document-create-element":43,"../internals/fails":50}],64:[function(d,ee,H){var z=Math.abs,v=Math.pow,x=Math.floor,C=Math.log,M=Math.LN2;ee.exports={pack:function(w,g,u){var h,f,m,b=new Array(u),E=8*u-g-1,L=(1<<E)-1,A=L>>1,R=23===g?v(2,-24)-v(2,-77):0,V=w<0||0===w&&1/w<0?1:0,U=0;for((w=z(w))!=w||w===1/0?(f=w!=w?1:0,h=L):(h=x(C(w)/M),w*(m=v(2,-h))<1&&(h--,m*=2),2<=(w+=1<=h+A?R/m:R*v(2,1-A))*m&&(h++,m/=2),L<=h+A?(f=0,h=L):1<=h+A?(f=(w*m-1)*v(2,g),h+=A):(f=w*v(2,A-1)*v(2,g),h=0));8<=g;b[U++]=255&f,f/=256,g-=8);for(h=h<<g|f,E+=g;0<E;b[U++]=255&h,h/=256,E-=8);return b[--U]|=128*V,b},unpack:function(w,g){var u,h=w.length,f=8*h-g-1,m=(1<<f)-1,b=m>>1,E=f-7,L=h-1,A=w[L--],R=127&A;for(A>>=7;0<E;R=256*R+w[L],L--,E-=8);for(u=R&(1<<-E)-1,R>>=-E,E+=g;0<E;u=256*u+w[L],L--,E-=8);if(0===R)R=1-b;else{if(R===m)return u?NaN:A?-1/0:1/0;u+=v(2,g),R-=b}return(A?-1:1)*u*v(2,R-g)}}},{}],65:[function(d,ee,H){var z=d("../internals/fails"),v=d("../internals/classof-raw"),x="".split;ee.exports=z(function(){return!Object("z").propertyIsEnumerable(0)})?function(C){return"String"==v(C)?x.call(C,""):Object(C)}:Object},{"../internals/classof-raw":28,"../internals/fails":50}],66:[function(d,ee,H){var z=d("../internals/is-object"),v=d("../internals/object-set-prototype-of");ee.exports=function(x,C,M){var w,g;return v&&"function"==typeof(w=C.constructor)&&w!==M&&z(g=w.prototype)&&g!==M.prototype&&v(x,g),x}},{"../internals/is-object":73,"../internals/object-set-prototype-of":100}],67:[function(d,ee,H){var z=d("../internals/shared-store"),v=Function.toString;"function"!=typeof z.inspectSource&&(z.inspectSource=function(x){return v.call(x)}),ee.exports=z.inspectSource},{"../internals/shared-store":118}],68:[function(d,ee,H){function z(b){M(b,u,{value:{objectID:"O"+ ++h,weakData:{}}})}var v=d("../internals/hidden-keys"),x=d("../internals/is-object"),C=d("../internals/has"),M=d("../internals/object-define-property").f,w=d("../internals/uid"),g=d("../internals/freezing"),u=w("meta"),h=0,f=Object.isExtensible||function(){return!0},m=ee.exports={REQUIRED:!1,fastKey:function(b,E){if(!x(b))return"symbol"==typeof b?b:("string"==typeof b?"S":"P")+b;if(!C(b,u)){if(!f(b))return"F";if(!E)return"E";z(b)}return b[u].objectID},getWeakData:function(b,E){if(!C(b,u)){if(!f(b))return!0;if(!E)return!1;z(b)}return b[u].weakData},onFreeze:function(b){return g&&m.REQUIRED&&f(b)&&!C(b,u)&&z(b),b}};v[u]=!0},{"../internals/freezing":52,"../internals/has":59,"../internals/hidden-keys":60,"../internals/is-object":73,"../internals/object-define-property":91,"../internals/uid":142}],69:[function(d,ee,H){var z,v,x,C=d("../internals/native-weak-map"),M=d("../internals/global"),w=d("../internals/is-object"),g=d("../internals/create-non-enumerable-property"),u=d("../internals/has"),h=d("../internals/shared-key"),f=d("../internals/hidden-keys");if(C){var b=new(0,M.WeakMap),E=b.get,L=b.has,A=b.set;z=function(V,U){return A.call(b,V,U),U},v=function(V){return E.call(b,V)||{}},x=function(V){return L.call(b,V)}}else{var R=h("state");f[R]=!0,z=function(V,U){return g(V,R,U),U},v=function(V){return u(V,R)?V[R]:{}},x=function(V){return u(V,R)}}ee.exports={set:z,get:v,has:x,enforce:function(V){return x(V)?v(V):z(V,{})},getterFor:function(V){return function(U){var Z;if(!w(U)||(Z=v(U)).type!==V)throw TypeError("Incompatible receiver, "+V+" required");return Z}}}},{"../internals/create-non-enumerable-property":37,"../internals/global":58,"../internals/has":59,"../internals/hidden-keys":60,"../internals/is-object":73,"../internals/native-weak-map":84,"../internals/shared-key":117}],70:[function(d,ee,H){var z=d("../internals/well-known-symbol"),v=d("../internals/iterators"),x=z("iterator"),C=Array.prototype;ee.exports=function(M){return void 0!==M&&(v.Array===M||C[x]===M)}},{"../internals/iterators":78,"../internals/well-known-symbol":145}],71:[function(d,ee,H){var z=d("../internals/classof-raw");ee.exports=Array.isArray||function(v){return"Array"==z(v)}},{"../internals/classof-raw":28}],72:[function(d,ee,H){function z(u,h){var f=M[C(u)];return f==g||f!=w&&("function"==typeof h?v(h):!!h)}var v=d("../internals/fails"),x=/#|\.prototype\./,C=z.normalize=function(u){return String(u).replace(x,".").toLowerCase()},M=z.data={},w=z.NATIVE="N",g=z.POLYFILL="P";ee.exports=z},{"../internals/fails":50}],73:[function(d,ee,H){ee.exports=function(z){return"object"==typeof z?null!==z:"function"==typeof z}},{}],74:[function(d,ee,H){ee.exports=!1},{}],75:[function(d,ee,H){var z=d("../internals/is-object"),v=d("../internals/classof-raw"),x=d("../internals/well-known-symbol")("match");ee.exports=function(C){var M;return z(C)&&(void 0!==(M=C[x])?!!M:"RegExp"==v(C))}},{"../internals/classof-raw":28,"../internals/is-object":73,"../internals/well-known-symbol":145}],76:[function(d,ee,H){function z(u,h){this.stopped=u,this.result=h}var v=d("../internals/an-object"),x=d("../internals/is-array-iterator-method"),C=d("../internals/to-length"),M=d("../internals/function-bind-context"),w=d("../internals/get-iterator-method"),g=d("../internals/call-with-safe-iteration-closing");(ee.exports=function(u,h,f,m,b){var E,L,A,R,V,U,Z,Q=M(h,f,m?2:1);if(b)E=u;else{if("function"!=typeof(L=w(u)))throw TypeError("Target is not iterable");if(x(L)){for(A=0,R=C(u.length);A<R;A++)if((V=m?Q(v(Z=u[A])[0],Z[1]):Q(u[A]))&&V instanceof z)return V;return new z(!1)}E=L.call(u)}for(U=E.next;!(Z=U.call(E)).done;)if("object"==typeof(V=g(E,Q,Z.value,m))&&V&&V instanceof z)return V;return new z(!1)}).stop=function(u){return new z(!0,u)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":53,"../internals/get-iterator-method":56,"../internals/is-array-iterator-method":70,"../internals/to-length":133}],77:[function(d,ee,H){"use strict";var z,v,x,C=d("../internals/object-get-prototype-of"),M=d("../internals/create-non-enumerable-property"),w=d("../internals/has"),g=d("../internals/well-known-symbol"),u=d("../internals/is-pure"),h=g("iterator"),f=!1;[].keys&&("next"in(x=[].keys())?(v=C(C(x)))!==Object.prototype&&(z=v):f=!0),null==z&&(z={}),u||w(z,h)||M(z,h,function(){return this}),ee.exports={IteratorPrototype:z,BUGGY_SAFARI_ITERATORS:f}},{"../internals/create-non-enumerable-property":37,"../internals/has":59,"../internals/is-pure":74,"../internals/object-get-prototype-of":96,"../internals/well-known-symbol":145}],78:[function(d,ee,H){arguments[4][60][0].apply(H,arguments)},{dup:60}],79:[function(d,ee,H){ee.exports=Math.sign||function(z){return 0==(z=+z)||z!=z?z:z<0?-1:1}},{}],80:[function(d,ee,H){var z,v,x,C,M,w,g,u,h=d("../internals/global"),f=d("../internals/object-get-own-property-descriptor").f,m=d("../internals/classof-raw"),b=d("../internals/task").set,E=d("../internals/engine-is-ios"),L=h.MutationObserver||h.WebKitMutationObserver,A=h.process,R=h.Promise,V="process"==m(A),U=f(h,"queueMicrotask"),Z=U&&U.value;Z||(z=function(){var Q,Y;for(V&&(Q=A.domain)&&Q.exit();v;){Y=v.fn,v=v.next;try{Y()}catch(K){throw v?C():x=void 0,K}}x=void 0,Q&&Q.enter()},C=V?function(){A.nextTick(z)}:L&&!E?(M=!0,w=document.createTextNode(""),new L(z).observe(w,{characterData:!0}),function(){w.data=M=!M}):R&&R.resolve?(g=R.resolve(void 0),u=g.then,function(){u.call(g,z)}):function(){b.call(h,z)}),ee.exports=Z||function(Q){var Y={fn:Q,next:void 0};x&&(x.next=Y),v||(v=Y,C()),x=Y}},{"../internals/classof-raw":28,"../internals/engine-is-ios":45,"../internals/global":58,"../internals/object-get-own-property-descriptor":92,"../internals/task":127}],81:[function(d,ee,H){var z=d("../internals/global");ee.exports=z.Promise},{"../internals/global":58}],82:[function(d,ee,H){var z=d("../internals/fails");ee.exports=!!Object.getOwnPropertySymbols&&!z(function(){return!String(Symbol())})},{"../internals/fails":50}],83:[function(d,ee,H){var z=d("../internals/fails"),v=d("../internals/well-known-symbol"),x=d("../internals/is-pure"),C=v("iterator");ee.exports=!z(function(){var M=new URL("b?a=1&b=2&c=3","http://a"),w=M.searchParams,g="";return M.pathname="c%20d",w.forEach(function(u,h){w.delete("b"),g+=h+u}),x&&!M.toJSON||!w.sort||"http://a/c%20d?a=1&c=3"!==M.href||"3"!==w.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!w[C]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==g||"x"!==new URL("http://x",void 0).host})},{"../internals/fails":50,"../internals/is-pure":74,"../internals/well-known-symbol":145}],84:[function(d,ee,H){var z=d("../internals/global"),v=d("../internals/inspect-source"),x=z.WeakMap;ee.exports="function"==typeof x&&/native code/.test(v(x))},{"../internals/global":58,"../internals/inspect-source":67}],85:[function(d,ee,H){"use strict";function z(x){var C,M;this.promise=new x(function(w,g){if(void 0!==C||void 0!==M)throw TypeError("Bad Promise constructor");C=w,M=g}),this.resolve=v(C),this.reject=v(M)}var v=d("../internals/a-function");ee.exports.f=function(x){return new z(x)}},{"../internals/a-function":5}],86:[function(d,ee,H){var z=d("../internals/is-regexp");ee.exports=function(v){if(z(v))throw TypeError("The method doesn't accept regular expressions");return v}},{"../internals/is-regexp":75}],87:[function(d,ee,H){var z=d("../internals/global").isFinite;ee.exports=Number.isFinite||function(v){return"number"==typeof v&&z(v)}},{"../internals/global":58}],88:[function(d,ee,H){"use strict";var z=d("../internals/descriptors"),v=d("../internals/fails"),x=d("../internals/object-keys"),C=d("../internals/object-get-own-property-symbols"),M=d("../internals/object-property-is-enumerable"),w=d("../internals/to-object"),g=d("../internals/indexed-object"),u=Object.assign,h=Object.defineProperty;ee.exports=!u||v(function(){if(z&&1!==u({b:1},u(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var f={},m={},b=Symbol(),E="abcdefghijklmnopqrst";return f[b]=7,E.split("").forEach(function(L){m[L]=L}),7!=u({},f)[b]||x(u({},m)).join("")!=E})?function(f,m){for(var b=w(f),E=arguments.length,L=1,A=C.f,R=M.f;L<E;)for(var V,U=g(arguments[L++]),Z=A?x(U).concat(A(U)):x(U),Q=Z.length,Y=0;Y<Q;)V=Z[Y++],z&&!R.call(U,V)||(b[V]=U[V]);return b}:u},{"../internals/descriptors":42,"../internals/fails":50,"../internals/indexed-object":65,"../internals/object-get-own-property-symbols":95,"../internals/object-keys":98,"../internals/object-property-is-enumerable":99,"../internals/to-object":134}],89:[function(d,ee,H){function z(){}function v(A){return"<script>"+A+"</"+b+">"}var x,C=d("../internals/an-object"),M=d("../internals/object-define-properties"),w=d("../internals/enum-bug-keys"),g=d("../internals/hidden-keys"),u=d("../internals/html"),h=d("../internals/document-create-element"),f=d("../internals/shared-key"),m="prototype",b="script",E=f("IE_PROTO"),L=function(){try{x=document.domain&&new ActiveXObject("htmlfile")}catch(U){}var A,R;L=x?function(U){U.write(v("")),U.close();var Z=U.parentWindow.Object;return U=null,Z}(x):((R=h("iframe")).style.display="none",u.appendChild(R),R.src=String("javascript:"),(A=R.contentWindow.document).open(),A.write(v("document.F=Object")),A.close(),A.F);for(var V=w.length;V--;)delete L[m][w[V]];return L()};g[E]=!0,ee.exports=Object.create||function(A,R){var V;return null!==A?(z[m]=C(A),V=new z,z[m]=null,V[E]=A):V=L(),void 0===R?V:M(V,R)}},{"../internals/an-object":10,"../internals/document-create-element":43,"../internals/enum-bug-keys":48,"../internals/hidden-keys":60,"../internals/html":62,"../internals/object-define-properties":90,"../internals/shared-key":117}],90:[function(d,ee,H){var z=d("../internals/descriptors"),v=d("../internals/object-define-property"),x=d("../internals/an-object"),C=d("../internals/object-keys");ee.exports=z?Object.defineProperties:function(M,w){x(M);for(var g,u=C(w),h=u.length,f=0;f<h;)v.f(M,g=u[f++],w[g]);return M}},{"../internals/an-object":10,"../internals/descriptors":42,"../internals/object-define-property":91,"../internals/object-keys":98}],91:[function(d,ee,H){var z=d("../internals/descriptors"),v=d("../internals/ie8-dom-define"),x=d("../internals/an-object"),C=d("../internals/to-primitive"),M=Object.defineProperty;H.f=z?M:function(w,g,u){if(x(w),g=C(g,!0),x(u),v)try{return M(w,g,u)}catch(h){}if("get"in u||"set"in u)throw TypeError("Accessors not supported");return"value"in u&&(w[g]=u.value),w}},{"../internals/an-object":10,"../internals/descriptors":42,"../internals/ie8-dom-define":63,"../internals/to-primitive":137}],92:[function(d,ee,H){var z=d("../internals/descriptors"),v=d("../internals/object-property-is-enumerable"),x=d("../internals/create-property-descriptor"),C=d("../internals/to-indexed-object"),M=d("../internals/to-primitive"),w=d("../internals/has"),g=d("../internals/ie8-dom-define"),u=Object.getOwnPropertyDescriptor;H.f=z?u:function(h,f){if(h=C(h),f=M(f,!0),g)try{return u(h,f)}catch(m){}if(w(h,f))return x(!v.f.call(h,f),h[f])}},{"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/has":59,"../internals/ie8-dom-define":63,"../internals/object-property-is-enumerable":99,"../internals/to-indexed-object":131,"../internals/to-primitive":137}],93:[function(d,ee,H){var z=d("../internals/to-indexed-object"),v=d("../internals/object-get-own-property-names").f,x={}.toString,C="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];ee.exports.f=function(M){return C&&"[object Window]"==x.call(M)?function(w){try{return v(w)}catch(g){return C.slice()}}(M):v(z(M))}},{"../internals/object-get-own-property-names":94,"../internals/to-indexed-object":131}],94:[function(d,ee,H){var z=d("../internals/object-keys-internal"),v=d("../internals/enum-bug-keys").concat("length","prototype");H.f=Object.getOwnPropertyNames||function(x){return z(x,v)}},{"../internals/enum-bug-keys":48,"../internals/object-keys-internal":97}],95:[function(d,ee,H){H.f=Object.getOwnPropertySymbols},{}],96:[function(d,ee,H){var z=d("../internals/has"),v=d("../internals/to-object"),x=d("../internals/shared-key"),C=d("../internals/correct-prototype-getter"),M=x("IE_PROTO"),w=Object.prototype;ee.exports=C?Object.getPrototypeOf:function(g){return g=v(g),z(g,M)?g[M]:"function"==typeof g.constructor&&g instanceof g.constructor?g.constructor.prototype:g instanceof Object?w:null}},{"../internals/correct-prototype-getter":34,"../internals/has":59,"../internals/shared-key":117,"../internals/to-object":134}],97:[function(d,ee,H){var z=d("../internals/has"),v=d("../internals/to-indexed-object"),x=d("../internals/array-includes").indexOf,C=d("../internals/hidden-keys");ee.exports=function(M,w){var g,u=v(M),h=0,f=[];for(g in u)!z(C,g)&&z(u,g)&&f.push(g);for(;w.length>h;)z(u,g=w[h++])&&(~x(f,g)||f.push(g));return f}},{"../internals/array-includes":18,"../internals/has":59,"../internals/hidden-keys":60,"../internals/to-indexed-object":131}],98:[function(d,ee,H){var z=d("../internals/object-keys-internal"),v=d("../internals/enum-bug-keys");ee.exports=Object.keys||function(x){return z(x,v)}},{"../internals/enum-bug-keys":48,"../internals/object-keys-internal":97}],99:[function(d,ee,H){"use strict";var z={}.propertyIsEnumerable,v=Object.getOwnPropertyDescriptor,x=v&&!z.call({1:2},1);H.f=x?function(C){var M=v(this,C);return!!M&&M.enumerable}:z},{}],100:[function(d,ee,H){var z=d("../internals/an-object"),v=d("../internals/a-possible-prototype");ee.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var x,C=!1,M={};try{(x=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(M,[]),C=M instanceof Array}catch(w){}return function(w,g){return z(w),v(g),C?x.call(w,g):w.__proto__=g,w}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],101:[function(d,ee,H){"use strict";var z=d("../internals/to-string-tag-support"),v=d("../internals/classof");ee.exports=z?{}.toString:function(){return"[object "+v(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":138}],102:[function(d,ee,H){var z=d("../internals/get-built-in"),v=d("../internals/object-get-own-property-names"),x=d("../internals/object-get-own-property-symbols"),C=d("../internals/an-object");ee.exports=z("Reflect","ownKeys")||function(M){var w=v.f(C(M)),g=x.f;return g?w.concat(g(M)):w}},{"../internals/an-object":10,"../internals/get-built-in":55,"../internals/object-get-own-property-names":94,"../internals/object-get-own-property-symbols":95}],103:[function(d,ee,H){var z=d("../internals/global");ee.exports=z},{"../internals/global":58}],104:[function(d,ee,H){ee.exports=function(z){try{return{error:!1,value:z()}}catch(v){return{error:!0,value:v}}}},{}],105:[function(d,ee,H){var z=d("../internals/an-object"),v=d("../internals/is-object"),x=d("../internals/new-promise-capability");ee.exports=function(C,M){if(z(C),v(M)&&M.constructor===C)return M;var w=x.f(C);return(0,w.resolve)(M),w.promise}},{"../internals/an-object":10,"../internals/is-object":73,"../internals/new-promise-capability":85}],106:[function(d,ee,H){var z=d("../internals/redefine");ee.exports=function(v,x,C){for(var M in x)z(v,M,x[M],C);return v}},{"../internals/redefine":107}],107:[function(d,ee,H){var z=d("../internals/global"),v=d("../internals/create-non-enumerable-property"),x=d("../internals/has"),C=d("../internals/set-global"),M=d("../internals/inspect-source"),w=d("../internals/internal-state"),g=w.get,u=w.enforce,h=String(String).split("String");(ee.exports=function(f,m,b,E){var L=!!E&&!!E.unsafe,A=!!E&&!!E.enumerable,R=!!E&&!!E.noTargetGet;"function"==typeof b&&("string"!=typeof m||x(b,"name")||v(b,"name",m),u(b).source=h.join("string"==typeof m?m:"")),f!==z?(L?!R&&f[m]&&(A=!0):delete f[m],A?f[m]=b:v(f,m,b)):A?f[m]=b:C(m,b)})(Function.prototype,"toString",function(){return"function"==typeof this&&g(this).source||M(this)})},{"../internals/create-non-enumerable-property":37,"../internals/global":58,"../internals/has":59,"../internals/inspect-source":67,"../internals/internal-state":69,"../internals/set-global":114}],108:[function(d,ee,H){var z=d("./classof-raw"),v=d("./regexp-exec");ee.exports=function(x,C){var M=x.exec;if("function"==typeof M){var w=M.call(x,C);if("object"!=typeof w)throw TypeError("RegExp exec method returned something other than an Object or null");return w}if("RegExp"!==z(x))throw TypeError("RegExp#exec called on incompatible receiver");return v.call(x,C)}},{"./classof-raw":28,"./regexp-exec":109}],109:[function(d,ee,H){"use strict";var z,v,x=d("./regexp-flags"),C=d("./regexp-sticky-helpers"),M=RegExp.prototype.exec,w=String.prototype.replace,g=M,u=(v=/b*/g,M.call(z=/a/,"a"),M.call(v,"a"),0!==z.lastIndex||0!==v.lastIndex),h=C.UNSUPPORTED_Y||C.BROKEN_CARET,f=void 0!==/()??/.exec("")[1];(u||f||h)&&(g=function(m){var b,E,L,A,R=this,V=h&&R.sticky,U=x.call(R),Z=R.source,Q=0,Y=m;return V&&(-1===(U=U.replace("y","")).indexOf("g")&&(U+="g"),Y=String(m).slice(R.lastIndex),0<R.lastIndex&&(!R.multiline||R.multiline&&"\n"!==m[R.lastIndex-1])&&(Z="(?: "+Z+")",Y=" "+Y,Q++),E=new RegExp("^(?:"+Z+")",U)),f&&(E=new RegExp("^"+Z+"$(?!\\s)",U)),u&&(b=R.lastIndex),L=M.call(V?E:R,Y),V?L?(L.input=L.input.slice(Q),L[0]=L[0].slice(Q),L.index=R.lastIndex,R.lastIndex+=L[0].length):R.lastIndex=0:u&&L&&(R.lastIndex=R.global?L.index+L[0].length:b),f&&L&&1<L.length&&w.call(L[0],E,function(){for(A=1;A<arguments.length-2;A++)void 0===arguments[A]&&(L[A]=void 0)}),L}),ee.exports=g},{"./regexp-flags":110,"./regexp-sticky-helpers":111}],110:[function(d,ee,H){"use strict";var z=d("../internals/an-object");ee.exports=function(){var v=z(this),x="";return v.global&&(x+="g"),v.ignoreCase&&(x+="i"),v.multiline&&(x+="m"),v.dotAll&&(x+="s"),v.unicode&&(x+="u"),v.sticky&&(x+="y"),x}},{"../internals/an-object":10}],111:[function(d,ee,H){"use strict";var z=d("./fails");function v(x,C){return RegExp(x,C)}H.UNSUPPORTED_Y=z(function(){var x=v("a","y");return x.lastIndex=2,null!=x.exec("abcd")}),H.BROKEN_CARET=z(function(){var x=v("^r","gy");return x.lastIndex=2,null!=x.exec("str")})},{"./fails":50}],112:[function(d,ee,H){ee.exports=function(z){if(null==z)throw TypeError("Can't call method on "+z);return z}},{}],113:[function(d,ee,H){ee.exports=Object.is||function(z,v){return z===v?0!==z||1/z==1/v:z!=z&&v!=v}},{}],114:[function(d,ee,H){var z=d("../internals/global"),v=d("../internals/create-non-enumerable-property");ee.exports=function(x,C){try{v(z,x,C)}catch(M){z[x]=C}return C}},{"../internals/create-non-enumerable-property":37,"../internals/global":58}],115:[function(d,ee,H){"use strict";var z=d("../internals/get-built-in"),v=d("../internals/object-define-property"),x=d("../internals/well-known-symbol"),C=d("../internals/descriptors"),M=x("species");ee.exports=function(w){var g=z(w);C&&g&&!g[M]&&(0,v.f)(g,M,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":42,"../internals/get-built-in":55,"../internals/object-define-property":91,"../internals/well-known-symbol":145}],116:[function(d,ee,H){var z=d("../internals/object-define-property").f,v=d("../internals/has"),x=d("../internals/well-known-symbol")("toStringTag");ee.exports=function(C,M,w){C&&!v(C=w?C:C.prototype,x)&&z(C,x,{configurable:!0,value:M})}},{"../internals/has":59,"../internals/object-define-property":91,"../internals/well-known-symbol":145}],117:[function(d,ee,H){var z=d("../internals/shared"),v=d("../internals/uid"),x=z("keys");ee.exports=function(C){return x[C]||(x[C]=v(C))}},{"../internals/shared":119,"../internals/uid":142}],118:[function(d,ee,H){var z=d("../internals/global"),v=d("../internals/set-global"),x="__core-js_shared__",C=z[x]||v(x,{});ee.exports=C},{"../internals/global":58,"../internals/set-global":114}],119:[function(d,ee,H){var z=d("../internals/is-pure"),v=d("../internals/shared-store");(ee.exports=function(x,C){return v[x]||(v[x]=void 0!==C?C:{})})("versions",[]).push({version:"3.6.5",mode:z?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":74,"../internals/shared-store":118}],120:[function(d,ee,H){var z=d("../internals/an-object"),v=d("../internals/a-function"),x=d("../internals/well-known-symbol")("species");ee.exports=function(C,M){var w,g=z(C).constructor;return void 0===g||null==(w=z(g)[x])?M:v(w)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":145}],121:[function(d,ee,H){var z=d("../internals/fails");ee.exports=function(v){return z(function(){var x=""[v]('"');return x!==x.toLowerCase()||3<x.split('"').length})}},{"../internals/fails":50}],122:[function(d,ee,H){function z(C){return function(M,w){var g,u,h=String(x(M)),f=v(w),m=h.length;return f<0||m<=f?C?"":void 0:(g=h.charCodeAt(f))<55296||56319<g||f+1===m||(u=h.charCodeAt(f+1))<56320||57343<u?C?h.charAt(f):g:C?h.slice(f,f+2):u-56320+(g-55296<<10)+65536}}var v=d("../internals/to-integer"),x=d("../internals/require-object-coercible");ee.exports={codeAt:z(!1),charAt:z(!0)}},{"../internals/require-object-coercible":112,"../internals/to-integer":132}],123:[function(d,ee,H){"use strict";function z(f){return f+22+75*(f<26)}function v(f,m,b){var E=0;for(f=b?u(f/700):f>>1,f+=u(f/m);455<f;E+=36)f=u(f/35);return u(E+36*f/(f+38))}function x(f){var m,b,E=[],L=(f=function(ye){for(var Ve=[],_e=0,we=ye.length;_e<we;){var Le=ye.charCodeAt(_e++);if(55296<=Le&&Le<=56319&&_e<we){var $e=ye.charCodeAt(_e++);56320==(64512&$e)?Ve.push(((1023&Le)<<10)+(1023&$e)+65536):(Ve.push(Le),_e--)}else Ve.push(Le)}return Ve}(f)).length,A=128,R=0,V=72;for(m=0;m<f.length;m++)(b=f[m])<128&&E.push(h(b));var U=E.length,Z=U;for(U&&E.push("-");Z<L;){var Q=C;for(m=0;m<f.length;m++)A<=(b=f[m])&&b<Q&&(Q=b);var Y=Z+1;if(Q-A>u((C-R)/Y))throw RangeError(g);for(R+=(Q-A)*Y,A=Q,m=0;m<f.length;m++){if((b=f[m])<A&&++R>C)throw RangeError(g);if(b==A){for(var K=R,te=36;;te+=36){var q=te<=V?1:V+26<=te?26:te-V;if(K<q)break;var oe=K-q,ie=36-q;E.push(h(z(q+oe%ie))),K=u(oe/ie)}E.push(h(z(K))),V=v(R,Y,Z==U),R=0,++Z}}++R,++A}return E.join("")}var C=2147483647,M=/[^\0-\u007E]/,w=/[.\u3002\uFF0E\uFF61]/g,g="Overflow: input needs wider integers to process",u=Math.floor,h=String.fromCharCode;ee.exports=function(f){var m,b,E=[],L=f.toLowerCase().replace(w,".").split(".");for(m=0;m<L.length;m++)E.push(M.test(b=L[m])?"xn--"+x(b):b);return E.join(".")}},{}],124:[function(d,ee,H){"use strict";var z=d("../internals/to-integer"),v=d("../internals/require-object-coercible");ee.exports="".repeat||function(x){var C=String(v(this)),M="",w=z(x);if(w<0||w==1/0)throw RangeError("Wrong number of repetitions");for(;0<w;(w>>>=1)&&(C+=C))1&w&&(M+=C);return M}},{"../internals/require-object-coercible":112,"../internals/to-integer":132}],125:[function(d,ee,H){var z=d("../internals/fails"),v=d("../internals/whitespaces");ee.exports=function(x){return z(function(){return!!v[x]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[x]()||v[x].name!==x})}},{"../internals/fails":50,"../internals/whitespaces":146}],126:[function(d,ee,H){function z(w){return function(g){var u=String(v(g));return 1&w&&(u=u.replace(C,"")),2&w&&(u=u.replace(M,"")),u}}var v=d("../internals/require-object-coercible"),x="["+d("../internals/whitespaces")+"]",C=RegExp("^"+x+x+"*"),M=RegExp(x+x+"*$");ee.exports={start:z(1),end:z(2),trim:z(3)}},{"../internals/require-object-coercible":112,"../internals/whitespaces":146}],127:[function(d,ee,H){function z(q){if(K.hasOwnProperty(q)){var oe=K[q];delete K[q],oe()}}function v(q){return function(){z(q)}}function x(q){z(q.data)}function C(q){u.postMessage(q+"",A.protocol+"//"+A.host)}var M,w,g,u=d("../internals/global"),h=d("../internals/fails"),f=d("../internals/classof-raw"),m=d("../internals/function-bind-context"),b=d("../internals/html"),E=d("../internals/document-create-element"),L=d("../internals/engine-is-ios"),A=u.location,R=u.setImmediate,V=u.clearImmediate,U=u.process,Z=u.MessageChannel,Q=u.Dispatch,Y=0,K={},te="onreadystatechange";R&&V||(R=function(q){for(var oe=[],ie=1;ie<arguments.length;)oe.push(arguments[ie++]);return K[++Y]=function(){("function"==typeof q?q:Function(q)).apply(void 0,oe)},M(Y),Y},V=function(q){delete K[q]},"process"==f(U)?M=function(q){U.nextTick(v(q))}:Q&&Q.now?M=function(q){Q.now(v(q))}:Z&&!L?(g=(w=new Z).port2,w.port1.onmessage=x,M=m(g.postMessage,g,1)):!u.addEventListener||"function"!=typeof postMessage||u.importScripts||h(C)||"file:"===A.protocol?M=te in E("script")?function(q){b.appendChild(E("script"))[te]=function(){b.removeChild(this),z(q)}}:function(q){setTimeout(v(q),0)}:(M=C,u.addEventListener("message",x,!1))),ee.exports={set:R,clear:V}},{"../internals/classof-raw":28,"../internals/document-create-element":43,"../internals/engine-is-ios":45,"../internals/fails":50,"../internals/function-bind-context":53,"../internals/global":58,"../internals/html":62}],128:[function(d,ee,H){var z=d("../internals/classof-raw");ee.exports=function(v){if("number"!=typeof v&&"Number"!=z(v))throw TypeError("Incorrect invocation");return+v}},{"../internals/classof-raw":28}],129:[function(d,ee,H){var z=d("../internals/to-integer"),v=Math.max,x=Math.min;ee.exports=function(C,M){var w=z(C);return w<0?v(w+M,0):x(w,M)}},{"../internals/to-integer":132}],130:[function(d,ee,H){var z=d("../internals/to-integer"),v=d("../internals/to-length");ee.exports=function(x){if(void 0===x)return 0;var C=z(x),M=v(C);if(C!==M)throw RangeError("Wrong length or index");return M}},{"../internals/to-integer":132,"../internals/to-length":133}],131:[function(d,ee,H){var z=d("../internals/indexed-object"),v=d("../internals/require-object-coercible");ee.exports=function(x){return z(v(x))}},{"../internals/indexed-object":65,"../internals/require-object-coercible":112}],132:[function(d,ee,H){var z=Math.ceil,v=Math.floor;ee.exports=function(x){return isNaN(x=+x)?0:(0<x?v:z)(x)}},{}],133:[function(d,ee,H){var z=d("../internals/to-integer"),v=Math.min;ee.exports=function(x){return 0<x?v(z(x),9007199254740991):0}},{"../internals/to-integer":132}],134:[function(d,ee,H){var z=d("../internals/require-object-coercible");ee.exports=function(v){return Object(z(v))}},{"../internals/require-object-coercible":112}],135:[function(d,ee,H){var z=d("../internals/to-positive-integer");ee.exports=function(v,x){var C=z(v);if(C%x)throw RangeError("Wrong offset");return C}},{"../internals/to-positive-integer":136}],136:[function(d,ee,H){var z=d("../internals/to-integer");ee.exports=function(v){var x=z(v);if(x<0)throw RangeError("The argument can't be less than 0");return x}},{"../internals/to-integer":132}],137:[function(d,ee,H){var z=d("../internals/is-object");ee.exports=function(v,x){if(!z(v))return v;var C,M;if(x&&"function"==typeof(C=v.toString)&&!z(M=C.call(v))||"function"==typeof(C=v.valueOf)&&!z(M=C.call(v))||!x&&"function"==typeof(C=v.toString)&&!z(M=C.call(v)))return M;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":73}],138:[function(d,ee,H){var z={};z[d("../internals/well-known-symbol")("toStringTag")]="z",ee.exports="[object z]"===String(z)},{"../internals/well-known-symbol":145}],139:[function(d,ee,H){"use strict";function z(Je,ct){for(var mt=0,ft=ct.length,$t=new(ht(Je))(ft);mt<ft;)$t[mt]=ct[mt++];return $t}function v(Je,ct){tt(Je,ct,{get:function(){return qe(this)[ct]}})}function x(Je){var ct;return Je instanceof J||"ArrayBuffer"==(ct=Y(Je))||"SharedArrayBuffer"==ct}function C(Je,ct){return ze(Je)&&"symbol"!=typeof ct&&ct in Je&&String(+ct)==String(ct)}function M(Je,ct){return C(Je,ct=Z(ct,!0))?L(2,Je[ct]):Qe(Je,ct)}function w(Je,ct,mt){return!(C(Je,ct=Z(ct,!0))&&K(mt)&&Q(mt,"value"))||Q(mt,"get")||Q(mt,"set")||mt.configurable||Q(mt,"writable")&&!mt.writable||Q(mt,"enumerable")&&!mt.enumerable?tt(Je,ct,mt):(Je[ct]=mt.value,Je)}var g=d("../internals/export"),u=d("../internals/global"),h=d("../internals/descriptors"),f=d("../internals/typed-array-constructors-require-wrappers"),m=d("../internals/array-buffer-view-core"),b=d("../internals/array-buffer"),E=d("../internals/an-instance"),L=d("../internals/create-property-descriptor"),A=d("../internals/create-non-enumerable-property"),R=d("../internals/to-length"),V=d("../internals/to-index"),U=d("../internals/to-offset"),Z=d("../internals/to-primitive"),Q=d("../internals/has"),Y=d("../internals/classof"),K=d("../internals/is-object"),te=d("../internals/object-create"),q=d("../internals/object-set-prototype-of"),oe=d("../internals/object-get-own-property-names").f,ie=d("../internals/typed-array-from"),ye=d("../internals/array-iteration").forEach,Ve=d("../internals/set-species"),_e=d("../internals/object-define-property"),we=d("../internals/object-get-own-property-descriptor"),Le=d("../internals/internal-state"),$e=d("../internals/inherit-if-required"),qe=Le.get,We=Le.set,tt=_e.f,Qe=we.f,ut=Math.round,G=u.RangeError,J=b.ArrayBuffer,ue=b.DataView,Re=m.NATIVE_ARRAY_BUFFER_VIEWS,Ee=m.TYPED_ARRAY_TAG,Ie=m.TypedArray,Be=m.TypedArrayPrototype,ht=m.aTypedArrayConstructor,ze=m.isTypedArray,Ze="BYTES_PER_ELEMENT",Xe="Wrong length";h?(Re||(we.f=M,_e.f=w,v(Be,"buffer"),v(Be,"byteOffset"),v(Be,"byteLength"),v(Be,"length")),g({target:"Object",stat:!0,forced:!Re},{getOwnPropertyDescriptor:M,defineProperty:w}),ee.exports=function(Je,ct,mt){function ft(Ge,Gt){tt(Ge,Gt,{get:function(){return At=Gt,(le=qe(this)).view[Ct](At*$t+le.byteOffset,!0);var At,le},set:function(At){return le=Gt,fe=At,ae=qe(this),mt&&(fe=(fe=ut(fe))<0?0:255<fe?255:255&fe),void ae.view[Sn](le*$t+ae.byteOffset,fe,!0);var le,fe,ae},enumerable:!0})}var $t=Je.match(/\d+$/)[0]/8,xn=Je+(mt?"Clamped":"")+"Array",Ct="get"+Je,Sn="set"+Je,Gn=u[xn],Et=Gn,Tt=Et&&Et.prototype,Jt={};Re?f&&(Et=ct(function(Ge,Gt,At,le){return E(Ge,Et,xn),$e(K(Gt)?x(Gt)?void 0!==le?new Gn(Gt,U(At,$t),le):void 0!==At?new Gn(Gt,U(At,$t)):new Gn(Gt):ze(Gt)?z(Et,Gt):ie.call(Et,Gt):new Gn(V(Gt)),Ge,Et)}),q&&q(Et,Ie),ye(oe(Gn),function(Ge){Ge in Et||A(Et,Ge,Gn[Ge])}),Et.prototype=Tt):(Et=ct(function(Ge,Gt,At,le){E(Ge,Et,xn);var fe,ae,pe,Ne=0,it=0;if(K(Gt)){if(!x(Gt))return ze(Gt)?z(Et,Gt):ie.call(Et,Gt);fe=Gt,it=U(At,$t);var pt=Gt.byteLength;if(void 0===le){if(pt%$t||(ae=pt-it)<0)throw G(Xe)}else if(pt<(ae=R(le)*$t)+it)throw G(Xe);pe=ae/$t}else pe=V(Gt),fe=new J(ae=pe*$t);for(We(Ge,{buffer:fe,byteOffset:it,byteLength:ae,length:pe,view:new ue(fe)});Ne<pe;)ft(Ge,Ne++)}),q&&q(Et,Ie),Tt=Et.prototype=te(Be)),Tt.constructor!==Et&&A(Tt,"constructor",Et),Ee&&A(Tt,Ee,xn),Jt[xn]=Et,g({global:!0,forced:Et!=Gn,sham:!Re},Jt),Ze in Et||A(Et,Ze,$t),Ze in Tt||A(Tt,Ze,$t),Ve(xn)}):ee.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":37,"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/export":49,"../internals/global":58,"../internals/has":59,"../internals/inherit-if-required":66,"../internals/internal-state":69,"../internals/is-object":73,"../internals/object-create":89,"../internals/object-define-property":91,"../internals/object-get-own-property-descriptor":92,"../internals/object-get-own-property-names":94,"../internals/object-set-prototype-of":100,"../internals/set-species":115,"../internals/to-index":130,"../internals/to-length":133,"../internals/to-offset":135,"../internals/to-primitive":137,"../internals/typed-array-constructors-require-wrappers":140,"../internals/typed-array-from":141}],140:[function(d,ee,H){var z=d("../internals/global"),v=d("../internals/fails"),x=d("../internals/check-correctness-of-iteration"),C=d("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,M=z.ArrayBuffer,w=z.Int8Array;ee.exports=!C||!v(function(){w(1)})||!v(function(){new w(-1)})||!x(function(g){new w,new w(null),new w(1.5),new w(g)},!0)||v(function(){return 1!==new w(new M(2),1,void 0).length})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":50,"../internals/global":58}],141:[function(d,ee,H){var z=d("../internals/to-object"),v=d("../internals/to-length"),x=d("../internals/get-iterator-method"),C=d("../internals/is-array-iterator-method"),M=d("../internals/function-bind-context"),w=d("../internals/array-buffer-view-core").aTypedArrayConstructor;ee.exports=function(g,u,h){var f,m,b,E,L,A,R=z(g),V=arguments.length,U=1<V?u:void 0,Z=void 0!==U,Q=x(R);if(null!=Q&&!C(Q))for(A=(L=Q.call(R)).next,R=[];!(E=A.call(L)).done;)R.push(E.value);for(Z&&2<V&&(U=M(U,h,2)),m=v(R.length),b=new(w(this))(m),f=0;f<m;f++)b[f]=Z?U(R[f],f):R[f];return b}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":53,"../internals/get-iterator-method":56,"../internals/is-array-iterator-method":70,"../internals/to-length":133,"../internals/to-object":134}],142:[function(d,ee,H){var z=0,v=Math.random();ee.exports=function(x){return"Symbol("+String(void 0===x?"":x)+")_"+(++z+v).toString(36)}},{}],143:[function(d,ee,H){var z=d("../internals/native-symbol");ee.exports=z&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":82}],144:[function(d,ee,H){var z=d("../internals/well-known-symbol");H.f=z},{"../internals/well-known-symbol":145}],145:[function(d,ee,H){var z=d("../internals/global"),v=d("../internals/shared"),x=d("../internals/has"),C=d("../internals/uid"),M=d("../internals/native-symbol"),w=d("../internals/use-symbol-as-uid"),g=v("wks"),u=z.Symbol,h=w?u:u&&u.withoutSetter||C;ee.exports=function(f){return x(g,f)||(g[f]=M&&x(u,f)?u[f]:h("Symbol."+f)),g[f]}},{"../internals/global":58,"../internals/has":59,"../internals/native-symbol":82,"../internals/shared":119,"../internals/uid":142,"../internals/use-symbol-as-uid":143}],146:[function(d,ee,H){ee.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},{}],147:[function(d,ee,H){"use strict";var z=d("../internals/export"),v=d("../internals/global"),x=d("../internals/array-buffer"),C=d("../internals/set-species"),M="ArrayBuffer",w=x[M];z({global:!0,forced:v[M]!==w},{ArrayBuffer:w}),C(M)},{"../internals/array-buffer":13,"../internals/export":49,"../internals/global":58,"../internals/set-species":115}],148:[function(d,ee,H){"use strict";function z(U){if(!M(U))return!1;var Z=U[E];return void 0!==Z?!!Z:C(U)}var v=d("../internals/export"),x=d("../internals/fails"),C=d("../internals/is-array"),M=d("../internals/is-object"),w=d("../internals/to-object"),g=d("../internals/to-length"),u=d("../internals/create-property"),h=d("../internals/array-species-create"),f=d("../internals/array-method-has-species-support"),m=d("../internals/well-known-symbol"),b=d("../internals/engine-v8-version"),E=m("isConcatSpreadable"),L=9007199254740991,A="Maximum allowed index exceeded",R=51<=b||!x(function(){var U=[];return U[E]=!1,U.concat()[0]!==U}),V=f("concat");v({target:"Array",proto:!0,forced:!R||!V},{concat:function(U){var Z,Q,Y,K,te,q=w(this),oe=h(q,0),ie=0;for(Z=-1,Y=arguments.length;Z<Y;Z++)if(z(te=-1===Z?q:arguments[Z])){if(K=g(te.length),L<ie+K)throw TypeError(A);for(Q=0;Q<K;Q++,ie++)Q in te&&u(oe,ie,te[Q])}else{if(L<=ie)throw TypeError(A);u(oe,ie++,te)}return oe.length=ie,oe}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":39,"../internals/engine-v8-version":47,"../internals/export":49,"../internals/fails":50,"../internals/is-array":71,"../internals/is-object":73,"../internals/to-length":133,"../internals/to-object":134,"../internals/well-known-symbol":145}],149:[function(d,ee,H){"use strict";var z=d("../internals/export"),v=d("../internals/array-iteration").every,x=d("../internals/array-method-is-strict"),C=d("../internals/array-method-uses-to-length"),M=x("every"),w=C("every");z({target:"Array",proto:!0,forced:!M||!w},{every:function(g,u){return v(this,g,1<arguments.length?u:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],150:[function(d,ee,H){var z=d("../internals/export"),v=d("../internals/array-fill"),x=d("../internals/add-to-unscopables");z({target:"Array",proto:!0},{fill:v}),x("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":49}],151:[function(d,ee,H){"use strict";var z=d("../internals/export"),v=d("../internals/array-iteration").filter,x=d("../internals/array-method-has-species-support"),C=d("../internals/array-method-uses-to-length"),M=x("filter"),w=C("filter");z({target:"Array",proto:!0,forced:!M||!w},{filter:function(g,u){return v(this,g,1<arguments.length?u:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":49}],152:[function(d,ee,H){"use strict";var z=d("../internals/export"),v=d("../internals/array-for-each");z({target:"Array",proto:!0,forced:[].forEach!=v},{forEach:v})},{"../internals/array-for-each":16,"../internals/export":49}],153:[function(d,ee,H){var z=d("../internals/export"),v=d("../internals/array-from");z({target:"Array",stat:!0,forced:!d("../internals/check-correctness-of-iteration")(function(x){Array.from(x)})},{from:v})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":49}],154:[function(d,ee,H){"use strict";var z=d("../internals/export"),v=d("../internals/array-includes").includes,x=d("../internals/add-to-unscopables");z({target:"Array",proto:!0,forced:!d("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(C,M){return v(this,C,1<arguments.length?M:void 0)}}),x("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":49}],155:[function(d,ee,H){"use strict";var z=d("../internals/export"),v=d("../internals/array-includes").indexOf,x=d("../internals/array-method-is-strict"),C=d("../internals/array-method-uses-to-length"),M=[].indexOf,w=!!M&&1/[1].indexOf(1,-0)<0,g=x("indexOf"),u=C("indexOf",{ACCESSORS:!0,1:0});z({target:"Array",proto:!0,forced:w||!g||!u},{indexOf:function(h,f){return w?M.apply(this,arguments)||0:v(this,h,1<arguments.length?f:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],156:[function(d,ee,H){"use strict";var z=d("../internals/to-indexed-object"),v=d("../internals/add-to-unscopables"),x=d("../internals/iterators"),C=d("../internals/internal-state"),M=d("../internals/define-iterator"),w="Array Iterator",g=C.set,u=C.getterFor(w);ee.exports=M(Array,"Array",function(h,f){g(this,{type:w,target:z(h),index:0,kind:f})},function(){var h=u(this),f=h.target,m=h.kind,b=h.index++;return!f||b>=f.length?{value:h.target=void 0,done:!0}:"keys"==m?{value:b,done:!1}:"values"==m?{value:f[b],done:!1}:{value:[b,f[b]],done:!1}},"values"),x.Arguments=x.Array,v("keys"),v("values"),v("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":40,"../internals/internal-state":69,"../internals/iterators":78,"../internals/to-indexed-object":131}],157:[function(d,ee,H){"use strict";var z=d("../internals/export"),v=d("../internals/indexed-object"),x=d("../internals/to-indexed-object"),C=d("../internals/array-method-is-strict"),M=[].join,w=v!=Object,g=C("join",",");z({target:"Array",proto:!0,forced:w||!g},{join:function(u){return M.call(x(this),void 0===u?",":u)}})},{"../internals/array-method-is-strict":22,"../internals/export":49,"../internals/indexed-object":65,"../internals/to-indexed-object":131}],158:[function(d,ee,H){var z=d("../internals/export"),v=d("../internals/array-last-index-of");z({target:"Array",proto:!0,forced:v!==[].lastIndexOf},{lastIndexOf:v})},{"../internals/array-last-index-of":20,"../internals/export":49}],159:[function(d,ee,H){"use strict";var z=d("../internals/export"),v=d("../internals/array-iteration").map,x=d("../internals/array-method-has-species-support"),C=d("../internals/array-method-uses-to-length"),M=x("map"),w=C("map");z({target:"Array",proto:!0,forced:!M||!w},{map:function(g,u){return v(this,g,1<arguments.length?u:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":49}],160:[function(d,ee,H){"use strict";var z=d("../internals/export"),v=d("../internals/is-object"),x=d("../internals/is-array"),C=d("../internals/to-absolute-index"),M=d("../internals/to-length"),w=d("../internals/to-indexed-object"),g=d("../internals/create-property"),u=d("../internals/well-known-symbol"),h=d("../internals/array-method-has-species-support"),f=d("../internals/array-method-uses-to-length"),m=h("slice"),b=f("slice",{ACCESSORS:!0,0:0,1:2}),E=u("species"),L=[].slice,A=Math.max;z({target:"Array",proto:!0,forced:!m||!b},{slice:function(R,V){var U,Z,Q,Y=w(this),K=M(Y.length),te=C(R,K),q=C(void 0===V?K:V,K);if(x(Y)&&("function"!=typeof(U=Y.constructor)||U!==Array&&!x(U.prototype)?v(U)&&null===(U=U[E])&&(U=void 0):U=void 0,U===Array||void 0===U))return L.call(Y,te,q);for(Z=new(void 0===U?Array:U)(A(q-te,0)),Q=0;te<q;te++,Q++)te in Y&&g(Z,Q,Y[te]);return Z.length=Q,Z}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":39,"../internals/export":49,"../internals/is-array":71,"../internals/is-object":73,"../internals/to-absolute-index":129,"../internals/to-indexed-object":131,"../internals/to-length":133,"../internals/well-known-symbol":145}],161:[function(d,ee,H){"use strict";var z=d("../internals/export"),v=d("../internals/array-iteration").some,x=d("../internals/array-method-is-strict"),C=d("../internals/array-method-uses-to-length"),M=x("some"),w=C("some");z({target:"Array",proto:!0,forced:!M||!w},{some:function(g,u){return v(this,g,1<arguments.length?u:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],162:[function(d,ee,H){"use strict";var z=d("../internals/export"),v=d("../internals/to-absolute-index"),x=d("../internals/to-integer"),C=d("../internals/to-length"),M=d("../internals/to-object"),w=d("../internals/array-species-create"),g=d("../internals/create-property"),u=d("../internals/array-method-has-species-support"),h=d("../internals/array-method-uses-to-length"),f=u("splice"),m=h("splice",{ACCESSORS:!0,0:0,1:2}),b=Math.max,E=Math.min;z({target:"Array",proto:!0,forced:!f||!m},{splice:function(L,A){var R,V,U,Z,Q,Y,K=M(this),te=C(K.length),q=v(L,te),oe=arguments.length;if(0===oe?R=V=0:V=1===oe?(R=0,te-q):(R=oe-2,E(b(x(A),0),te-q)),9007199254740991<te+R-V)throw TypeError("Maximum allowed length exceeded");for(U=w(K,V),Z=0;Z<V;Z++)(Q=q+Z)in K&&g(U,Z,K[Q]);if(R<(U.length=V)){for(Z=q;Z<te-V;Z++)Y=Z+R,(Q=Z+V)in K?K[Y]=K[Q]:delete K[Y];for(Z=te;te-V+R<Z;Z--)delete K[Z-1]}else if(V<R)for(Z=te-V;q<Z;Z--)Y=Z+R-1,(Q=Z+V-1)in K?K[Y]=K[Q]:delete K[Y];for(Z=0;Z<R;Z++)K[Z+q]=arguments[Z+2];return K.length=te-V+R,U}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":39,"../internals/export":49,"../internals/to-absolute-index":129,"../internals/to-integer":132,"../internals/to-length":133,"../internals/to-object":134}],163:[function(d,ee,H){var z=d("../internals/descriptors"),v=d("../internals/object-define-property").f,x=Function.prototype,C=x.toString,M=/^\s*function ([^ (]*)/;!z||"name"in x||v(x,"name",{configurable:!0,get:function(){try{return C.call(this).match(M)[1]}catch(w){return""}}})},{"../internals/descriptors":42,"../internals/object-define-property":91}],164:[function(d,ee,H){"use strict";var z=d("../internals/collection"),v=d("../internals/collection-strong");ee.exports=z("Map",function(x){return function(C){return x(this,arguments.length?C:void 0)}},v)},{"../internals/collection":31,"../internals/collection-strong":30}],165:[function(d,ee,H){var z=d("../internals/export"),v=Math.hypot,x=Math.abs,C=Math.sqrt;z({target:"Math",stat:!0,forced:!!v&&v(1/0,NaN)!==1/0},{hypot:function(M,w){for(var g,u,h=0,f=0,m=arguments.length,b=0;f<m;)b<(g=x(arguments[f++]))?(h=h*(u=b/g)*u+1,b=g):h+=0<g?(u=g/b)*u:g;return b===1/0?1/0:b*C(h)}})},{"../internals/export":49}],166:[function(d,ee,H){d("../internals/export")({target:"Math",stat:!0},{sign:d("../internals/math-sign")})},{"../internals/export":49,"../internals/math-sign":79}],167:[function(d,ee,H){"use strict";function z(q){var oe,ie,ye,Ve,_e,we,Le,$e,qe=h(q,!1);if("string"==typeof qe&&2<qe.length)if(43===(oe=(qe=A(qe)).charCodeAt(0))||45===oe){if(88===(ie=qe.charCodeAt(2))||120===ie)return NaN}else if(48===oe){switch(qe.charCodeAt(1)){case 66:case 98:ye=2,Ve=49;break;case 79:case 111:ye=8,Ve=55;break;default:return+qe}for(we=(_e=qe.slice(2)).length,Le=0;Le<we;Le++)if(($e=_e.charCodeAt(Le))<48||Ve<$e)return NaN;return parseInt(_e,ye)}return+qe}var v=d("../internals/descriptors"),x=d("../internals/global"),C=d("../internals/is-forced"),M=d("../internals/redefine"),w=d("../internals/has"),g=d("../internals/classof-raw"),u=d("../internals/inherit-if-required"),h=d("../internals/to-primitive"),f=d("../internals/fails"),m=d("../internals/object-create"),b=d("../internals/object-get-own-property-names").f,E=d("../internals/object-get-own-property-descriptor").f,L=d("../internals/object-define-property").f,A=d("../internals/string-trim").trim,R="Number",V=x[R],U=V.prototype,Z=g(m(U))==R;if(C(R,!V(" 0o1")||!V("0b1")||V("+0x1"))){for(var Q,Y=function(q){var oe=arguments.length<1?0:q,ie=this;return ie instanceof Y&&(Z?f(function(){U.valueOf.call(ie)}):g(ie)!=R)?u(new V(z(oe)),ie,Y):z(oe)},K=v?b(V):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),te=0;K.length>te;te++)w(V,Q=K[te])&&!w(Y,Q)&&L(Y,Q,E(V,Q));(Y.prototype=U).constructor=Y,M(x,R,Y)}},{"../internals/classof-raw":28,"../internals/descriptors":42,"../internals/fails":50,"../internals/global":58,"../internals/has":59,"../internals/inherit-if-required":66,"../internals/is-forced":72,"../internals/object-create":89,"../internals/object-define-property":91,"../internals/object-get-own-property-descriptor":92,"../internals/object-get-own-property-names":94,"../internals/redefine":107,"../internals/string-trim":126,"../internals/to-primitive":137}],168:[function(d,ee,H){d("../internals/export")({target:"Number",stat:!0},{isFinite:d("../internals/number-is-finite")})},{"../internals/export":49,"../internals/number-is-finite":87}],169:[function(d,ee,H){"use strict";var z=d("../internals/export"),v=d("../internals/to-integer"),x=d("../internals/this-number-value"),C=d("../internals/string-repeat"),M=d("../internals/fails"),w=1..toFixed,g=Math.floor,u=function(h,f,m){return 0===f?m:f%2==1?u(h,f-1,m*h):u(h*h,f/2,m)};z({target:"Number",proto:!0,forced:w&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!M(function(){w.call({})})},{toFixed:function(h){function f(K,te){for(var q=-1,oe=te;++q<6;)Z[q]=(oe+=K*Z[q])%1e7,oe=g(oe/1e7)}function m(K){for(var te=6,q=0;0<=--te;)Z[te]=g((q+=Z[te])/K),q=q%K*1e7}function b(){for(var K=6,te="";0<=--K;)if(""!==te||0===K||0!==Z[K]){var q=String(Z[K]);te=""===te?q:te+C.call("0",7-q.length)+q}return te}var E,L,A,R,V=x(this),U=v(h),Z=[0,0,0,0,0,0],Q="",Y="0";if(U<0||20<U)throw RangeError("Incorrect fraction digits");if(V!=V)return"NaN";if(V<=-1e21||1e21<=V)return String(V);if(V<0&&(Q="-",V=-V),1e-21<V)if(L=(E=function(K){for(var te=0,q=K;4096<=q;)te+=12,q/=4096;for(;2<=q;)te+=1,q/=2;return te}(V*u(2,69,1))-69)<0?V*u(2,-E,1):V/u(2,E,1),L*=4503599627370496,0<(E=52-E)){for(f(0,L),A=U;7<=A;)f(1e7,0),A-=7;for(f(u(10,A,1),0),A=E-1;23<=A;)m(1<<23),A-=23;m(1<<A),f(1,1),m(2),Y=b()}else f(0,L),f(1<<-E,0),Y=b()+C.call("0",U);return 0<U?Q+((R=Y.length)<=U?"0."+C.call("0",U-R)+Y:Y.slice(0,R-U)+"."+Y.slice(R-U)):Q+Y}})},{"../internals/export":49,"../internals/fails":50,"../internals/string-repeat":124,"../internals/this-number-value":128,"../internals/to-integer":132}],170:[function(d,ee,H){var z=d("../internals/export"),v=d("../internals/object-assign");z({target:"Object",stat:!0,forced:Object.assign!==v},{assign:v})},{"../internals/export":49,"../internals/object-assign":88}],171:[function(d,ee,H){var z=d("../internals/export"),v=d("../internals/fails"),x=d("../internals/object-get-own-property-names-external").f;z({target:"Object",stat:!0,forced:v(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:x})},{"../internals/export":49,"../internals/fails":50,"../internals/object-get-own-property-names-external":93}],172:[function(d,ee,H){var z=d("../internals/export"),v=d("../internals/fails"),x=d("../internals/to-object"),C=d("../internals/object-get-prototype-of"),M=d("../internals/correct-prototype-getter");z({target:"Object",stat:!0,forced:v(function(){C(1)}),sham:!M},{getPrototypeOf:function(w){return C(x(w))}})},{"../internals/correct-prototype-getter":34,"../internals/export":49,"../internals/fails":50,"../internals/object-get-prototype-of":96,"../internals/to-object":134}],173:[function(d,ee,H){var z=d("../internals/export"),v=d("../internals/to-object"),x=d("../internals/object-keys");z({target:"Object",stat:!0,forced:d("../internals/fails")(function(){x(1)})},{keys:function(C){return x(v(C))}})},{"../internals/export":49,"../internals/fails":50,"../internals/object-keys":98,"../internals/to-object":134}],174:[function(d,ee,H){var z=d("../internals/to-string-tag-support"),v=d("../internals/redefine"),x=d("../internals/object-to-string");z||v(Object.prototype,"toString",x,{unsafe:!0})},{"../internals/object-to-string":101,"../internals/redefine":107,"../internals/to-string-tag-support":138}],175:[function(d,ee,H){"use strict";function z(Et){var Tt;return!(!Z(Et)||"function"!=typeof(Tt=Et.then))&&Tt}function v(Et,Tt,Jt){if(!Tt.notified){Tt.notified=!0;var Ge=Tt.reactions;Ve(function(){for(var Gt=Tt.value,At=1==Tt.state,le=0;Ge.length>le;){var fe,ae,pe,Ne=Ge[le++],it=At?Ne.ok:Ne.fail,pt=Ne.resolve,It=Ne.reject,Ye=Ne.domain;try{it?(At||(2===Tt.rejection&&Sn(Et,Tt),Tt.rejection=1),!0===it?fe=Gt:(Ye&&Ye.enter(),fe=it(Gt),Ye&&(Ye.exit(),pe=!0)),fe===Ne.promise?It(Ie("Promise-chain cycle")):(ae=z(fe))?ae.call(fe,pt,It):pt(fe)):It(Gt)}catch(Xt){Ye&&!pe&&Ye.exit(),It(Xt)}}Tt.reactions=[],Tt.notified=!1,Jt&&!Tt.rejection&&xn(Et,Tt)})}}function x(Et,Tt,Jt){var Ge,Gt;ct?((Ge=Be.createEvent("Event")).promise=Tt,Ge.reason=Jt,Ge.initEvent(Et,!1,!0),b.dispatchEvent(Ge)):Ge={promise:Tt,reason:Jt},(Gt=b["on"+Et])?Gt(Ge):Et===mt&&we("Unhandled promise rejection",Jt)}function C(Et,Tt,Jt,Ge){return function(Gt){Et(Tt,Jt,Gt,Ge)}}function M(Et,Tt,Jt,Ge){Tt.done||(Tt.done=!0,Ge&&(Tt=Ge),Tt.value=Jt,Tt.state=2,v(Et,Tt,!0))}var w,g,u,h,f=d("../internals/export"),m=d("../internals/is-pure"),b=d("../internals/global"),E=d("../internals/get-built-in"),L=d("../internals/native-promise-constructor"),A=d("../internals/redefine"),R=d("../internals/redefine-all"),V=d("../internals/set-to-string-tag"),U=d("../internals/set-species"),Z=d("../internals/is-object"),Q=d("../internals/a-function"),Y=d("../internals/an-instance"),K=d("../internals/classof-raw"),te=d("../internals/inspect-source"),q=d("../internals/iterate"),oe=d("../internals/check-correctness-of-iteration"),ie=d("../internals/species-constructor"),ye=d("../internals/task").set,Ve=d("../internals/microtask"),_e=d("../internals/promise-resolve"),we=d("../internals/host-report-errors"),Le=d("../internals/new-promise-capability"),$e=d("../internals/perform"),qe=d("../internals/internal-state"),We=d("../internals/is-forced"),tt=d("../internals/well-known-symbol"),Qe=d("../internals/engine-v8-version"),ut=tt("species"),G="Promise",J=qe.get,ue=qe.set,Re=qe.getterFor(G),Ee=L,Ie=b.TypeError,Be=b.document,ht=b.process,ze=E("fetch"),Ze=Le.f,Xe=Ze,Je="process"==K(ht),ct=!!(Be&&Be.createEvent&&b.dispatchEvent),mt="unhandledrejection",ft=We(G,function(){if(te(Ee)===String(Ee)&&(66===Qe||!Je&&"function"!=typeof PromiseRejectionEvent)||m&&!Ee.prototype.finally)return!0;if(51<=Qe&&/native code/.test(Ee))return!1;function Et(Jt){Jt(function(){},function(){})}var Tt=Ee.resolve(1);return(Tt.constructor={})[ut]=Et,!(Tt.then(function(){})instanceof Et)}),$t=ft||!oe(function(Et){Ee.all(Et).catch(function(){})}),xn=function(Et,Tt){ye.call(b,function(){var Jt,Ge=Tt.value;if(Ct(Tt)&&(Jt=$e(function(){Je?ht.emit("unhandledRejection",Ge,Et):x(mt,Et,Ge)}),Tt.rejection=Je||Ct(Tt)?2:1,Jt.error))throw Jt.value})},Ct=function(Et){return 1!==Et.rejection&&!Et.parent},Sn=function(Et,Tt){ye.call(b,function(){Je?ht.emit("rejectionHandled",Et):x("rejectionhandled",Et,Tt.value)})},Gn=function(Et,Tt,Jt,Ge){if(!Tt.done){Tt.done=!0,Ge&&(Tt=Ge);try{if(Et===Jt)throw Ie("Promise can't be resolved itself");var Gt=z(Jt);Gt?Ve(function(){var At={done:!1};try{Gt.call(Jt,C(Gn,Et,At,Tt),C(M,Et,At,Tt))}catch(le){M(Et,At,le,Tt)}}):(Tt.value=Jt,Tt.state=1,v(Et,Tt,!1))}catch(At){M(Et,{done:!1},At,Tt)}}};ft&&(Ee=function(Et){Y(this,Ee,G),Q(Et),w.call(this);var Tt=J(this);try{Et(C(Gn,this,Tt),C(M,this,Tt))}catch(Jt){M(this,Tt,Jt)}},(w=function(){ue(this,{type:G,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=R(Ee.prototype,{then:function(Et,Tt){var Jt=Re(this),Ge=Ze(ie(this,Ee));return Ge.ok="function"!=typeof Et||Et,Ge.fail="function"==typeof Tt&&Tt,Ge.domain=Je?ht.domain:void 0,Jt.parent=!0,Jt.reactions.push(Ge),0!=Jt.state&&v(this,Jt,!1),Ge.promise},catch:function(Et){return this.then(void 0,Et)}}),g=function(){var Et=new w,Tt=J(Et);this.promise=Et,this.resolve=C(Gn,Et,Tt),this.reject=C(M,Et,Tt)},Le.f=Ze=function(Et){return Et===Ee||Et===u?new g(Et):Xe(Et)},m||"function"!=typeof L||(h=L.prototype.then,A(L.prototype,"then",function(Et,Tt){var Jt=this;return new Ee(function(Ge,Gt){h.call(Jt,Ge,Gt)}).then(Et,Tt)},{unsafe:!0}),"function"==typeof ze&&f({global:!0,enumerable:!0,forced:!0},{fetch:function(Et){return _e(Ee,ze.apply(b,arguments))}}))),f({global:!0,wrap:!0,forced:ft},{Promise:Ee}),V(Ee,G,!1,!0),U(G),u=E(G),f({target:G,stat:!0,forced:ft},{reject:function(Et){var Tt=Ze(this);return Tt.reject.call(void 0,Et),Tt.promise}}),f({target:G,stat:!0,forced:m||ft},{resolve:function(Et){return _e(m&&this===u?Ee:this,Et)}}),f({target:G,stat:!0,forced:$t},{all:function(Et){var Tt=this,Jt=Ze(Tt),Ge=Jt.resolve,Gt=Jt.reject,At=$e(function(){var le=Q(Tt.resolve),fe=[],ae=0,pe=1;q(Et,function(Ne){var it=ae++,pt=!1;fe.push(void 0),pe++,le.call(Tt,Ne).then(function(It){pt||(pt=!0,fe[it]=It,--pe||Ge(fe))},Gt)}),--pe||Ge(fe)});return At.error&&Gt(At.value),Jt.promise},race:function(Et){var Tt=this,Jt=Ze(Tt),Ge=Jt.reject,Gt=$e(function(){var At=Q(Tt.resolve);q(Et,function(le){At.call(Tt,le).then(Jt.resolve,Ge)})});return Gt.error&&Ge(Gt.value),Jt.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":47,"../internals/export":49,"../internals/get-built-in":55,"../internals/global":58,"../internals/host-report-errors":61,"../internals/inspect-source":67,"../internals/internal-state":69,"../internals/is-forced":72,"../internals/is-object":73,"../internals/is-pure":74,"../internals/iterate":76,"../internals/microtask":80,"../internals/native-promise-constructor":81,"../internals/new-promise-capability":85,"../internals/perform":104,"../internals/promise-resolve":105,"../internals/redefine":107,"../internals/redefine-all":106,"../internals/set-species":115,"../internals/set-to-string-tag":116,"../internals/species-constructor":120,"../internals/task":127,"../internals/well-known-symbol":145}],176:[function(d,ee,H){var z=d("../internals/export"),v=d("../internals/get-built-in"),x=d("../internals/a-function"),C=d("../internals/an-object"),M=d("../internals/is-object"),w=d("../internals/object-create"),g=d("../internals/function-bind"),u=d("../internals/fails"),h=v("Reflect","construct"),f=u(function(){function E(){}return!(h(function(){},[],E)instanceof E)}),m=!u(function(){h(function(){})}),b=f||m;z({target:"Reflect",stat:!0,forced:b,sham:b},{construct:function(E,L,A){x(E),C(L);var R=arguments.length<3?E:x(A);if(m&&!f)return h(E,L,R);if(E==R){switch(L.length){case 0:return new E;case 1:return new E(L[0]);case 2:return new E(L[0],L[1]);case 3:return new E(L[0],L[1],L[2]);case 4:return new E(L[0],L[1],L[2],L[3])}var V=[null];return V.push.apply(V,L),new(g.apply(E,V))}var U=R.prototype,Z=w(M(U)?U:Object.prototype),Q=Function.apply.call(E,Z,L);return M(Q)?Q:Z}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":49,"../internals/fails":50,"../internals/function-bind":54,"../internals/get-built-in":55,"../internals/is-object":73,"../internals/object-create":89}],177:[function(d,ee,H){var z=d("../internals/descriptors"),v=d("../internals/global"),x=d("../internals/is-forced"),C=d("../internals/inherit-if-required"),M=d("../internals/object-define-property").f,w=d("../internals/object-get-own-property-names").f,g=d("../internals/is-regexp"),u=d("../internals/regexp-flags"),h=d("../internals/regexp-sticky-helpers"),f=d("../internals/redefine"),m=d("../internals/fails"),b=d("../internals/internal-state").set,E=d("../internals/set-species"),L=d("../internals/well-known-symbol")("match"),A=v.RegExp,R=A.prototype,V=/a/g,U=/a/g,Z=new A(V)!==V,Q=h.UNSUPPORTED_Y;if(z&&x("RegExp",!Z||Q||m(function(){return U[L]=!1,A(V)!=V||A(U)==U||"/a/i"!=A(V,"i")}))){let oe=function(ie){ie in Y||M(Y,ie,{configurable:!0,get:function(){return A[ie]},set:function(ye){A[ie]=ye}})};for(var Y=function(ie,ye){var Ve,_e=this instanceof Y,we=g(ie),Le=void 0===ye;if(!_e&&we&&ie.constructor===Y&&Le)return ie;Z?we&&!Le&&(ie=ie.source):ie instanceof Y&&(Le&&(ye=u.call(ie)),ie=ie.source),Q&&(Ve=!!ye&&-1<ye.indexOf("y"))&&(ye=ye.replace(/y/g,""));var $e=C(Z?new A(ie,ye):A(ie,ye),_e?this:R,Y);return Q&&Ve&&b($e,{sticky:Ve}),$e},K=w(A),te=0;K.length>te;)oe(K[te++]);(R.constructor=Y).prototype=R,f(v,"RegExp",Y)}E("RegExp")},{"../internals/descriptors":42,"../internals/fails":50,"../internals/global":58,"../internals/inherit-if-required":66,"../internals/internal-state":69,"../internals/is-forced":72,"../internals/is-regexp":75,"../internals/object-define-property":91,"../internals/object-get-own-property-names":94,"../internals/redefine":107,"../internals/regexp-flags":110,"../internals/regexp-sticky-helpers":111,"../internals/set-species":115,"../internals/well-known-symbol":145}],178:[function(d,ee,H){"use strict";var z=d("../internals/export"),v=d("../internals/regexp-exec");z({target:"RegExp",proto:!0,forced:/./.exec!==v},{exec:v})},{"../internals/export":49,"../internals/regexp-exec":109}],179:[function(d,ee,H){"use strict";var z=d("../internals/redefine"),v=d("../internals/an-object"),x=d("../internals/fails"),C=d("../internals/regexp-flags"),M="toString",w=RegExp.prototype,g=w[M];(x(function(){return"/a/b"!=g.call({source:"a",flags:"b"})})||g.name!=M)&&z(RegExp.prototype,M,function(){var f=v(this),m=String(f.source),b=f.flags;return"/"+m+"/"+String(void 0===b&&f instanceof RegExp&&!("flags"in w)?C.call(f):b)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":50,"../internals/redefine":107,"../internals/regexp-flags":110}],180:[function(d,ee,H){"use strict";var z=d("../internals/collection"),v=d("../internals/collection-strong");ee.exports=z("Set",function(x){return function(C){return x(this,arguments.length?C:void 0)}},v)},{"../internals/collection":31,"../internals/collection-strong":30}],181:[function(d,ee,H){"use strict";var z,v=d("../internals/export"),x=d("../internals/object-get-own-property-descriptor").f,C=d("../internals/to-length"),M=d("../internals/not-a-regexp"),w=d("../internals/require-object-coercible"),g=d("../internals/correct-is-regexp-logic"),u=d("../internals/is-pure"),h="".endsWith,f=Math.min,m=g("endsWith");v({target:"String",proto:!0,forced:!(!u&&!m&&(z=x(String.prototype,"endsWith"))&&!z.writable||m)},{endsWith:function(b,E){var L=String(w(this));M(b);var A=1<arguments.length?E:void 0,R=C(L.length),V=void 0===A?R:f(C(A),R),U=String(b);return h?h.call(L,U,V):L.slice(V-U.length,V)===U}})},{"../internals/correct-is-regexp-logic":33,"../internals/export":49,"../internals/is-pure":74,"../internals/not-a-regexp":86,"../internals/object-get-own-property-descriptor":92,"../internals/require-object-coercible":112,"../internals/to-length":133}],182:[function(d,ee,H){"use strict";var z=d("../internals/export"),v=d("../internals/not-a-regexp"),x=d("../internals/require-object-coercible");z({target:"String",proto:!0,forced:!d("../internals/correct-is-regexp-logic")("includes")},{includes:function(C,M){return!!~String(x(this)).indexOf(v(C),1<arguments.length?M:void 0)}})},{"../internals/correct-is-regexp-logic":33,"../internals/export":49,"../internals/not-a-regexp":86,"../internals/require-object-coercible":112}],183:[function(d,ee,H){"use strict";var z=d("../internals/string-multibyte").charAt,v=d("../internals/internal-state"),x=d("../internals/define-iterator"),C="String Iterator",M=v.set,w=v.getterFor(C);x(String,"String",function(g){M(this,{type:C,string:String(g),index:0})},function(){var g,u=w(this),h=u.string,f=u.index;return f>=h.length?{value:void 0,done:!0}:(g=z(h,f),u.index+=g.length,{value:g,done:!1})})},{"../internals/define-iterator":40,"../internals/internal-state":69,"../internals/string-multibyte":122}],184:[function(d,ee,H){"use strict";var z=d("../internals/fix-regexp-well-known-symbol-logic"),v=d("../internals/an-object"),x=d("../internals/to-length"),C=d("../internals/require-object-coercible"),M=d("../internals/advance-string-index"),w=d("../internals/regexp-exec-abstract");z("match",1,function(g,u,h){return[function(f){var m=C(this),b=null==f?void 0:f[g];return void 0!==b?b.call(f,m):new RegExp(f)[g](String(m))},function(f){var m=h(u,f,this);if(m.done)return m.value;var b=v(f),E=String(this);if(!b.global)return w(b,E);for(var L,A=b.unicode,R=[],V=b.lastIndex=0;null!==(L=w(b,E));){var U=String(L[0]);""===(R[V]=U)&&(b.lastIndex=M(E,x(b.lastIndex),A)),V++}return 0===V?null:R}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":108,"../internals/require-object-coercible":112,"../internals/to-length":133}],185:[function(d,ee,H){d("../internals/export")({target:"String",proto:!0},{repeat:d("../internals/string-repeat")})},{"../internals/export":49,"../internals/string-repeat":124}],186:[function(d,ee,H){"use strict";var z=d("../internals/fix-regexp-well-known-symbol-logic"),v=d("../internals/an-object"),x=d("../internals/to-object"),C=d("../internals/to-length"),M=d("../internals/to-integer"),w=d("../internals/require-object-coercible"),g=d("../internals/advance-string-index"),u=d("../internals/regexp-exec-abstract"),h=Math.max,f=Math.min,m=Math.floor,b=/\$([$&'`]|\d\d?|<[^>]*>)/g,E=/\$([$&'`]|\d\d?)/g;z("replace",2,function(L,A,R,V){var U=V.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,Z=V.REPLACE_KEEPS_$0,Q=U?"$":"$0";return[function(K,te){var q=w(this),oe=null==K?void 0:K[L];return void 0!==oe?oe.call(K,q,te):A.call(String(q),K,te)},function(K,te){if(!U&&Z||"string"==typeof te&&-1===te.indexOf(Q)){var q=R(A,K,this,te);if(q.done)return q.value}var oe=v(K),ie=String(this),ye="function"==typeof te;ye||(te=String(te));var Ve=oe.global;if(Ve){var _e=oe.unicode;oe.lastIndex=0}for(var we=[];;){var Le=u(oe,ie);if(null===Le||(we.push(Le),!Ve))break;""===String(Le[0])&&(oe.lastIndex=g(ie,C(oe.lastIndex),_e))}for(var $e,qe="",We=0,tt=0;tt<we.length;tt++){Le=we[tt];for(var Qe=String(Le[0]),ut=h(f(M(Le.index),ie.length),0),G=[],J=1;J<Le.length;J++)G.push(void 0===($e=Le[J])?$e:String($e));var ue=Le.groups;if(ye){var Re=[Qe].concat(G,ut,ie);void 0!==ue&&Re.push(ue);var Ee=String(te.apply(void 0,Re))}else Ee=Y(Qe,ie,ut,G,ue,te);We<=ut&&(qe+=ie.slice(We,ut)+Ee,We=ut+Qe.length)}return qe+ie.slice(We)}];function Y(K,te,q,oe,ie,ye){var Ve=q+K.length,_e=oe.length,we=E;return void 0!==ie&&(ie=x(ie),we=b),A.call(ye,we,function(Le,$e){var qe;switch($e.charAt(0)){case"$":return"$";case"&":return K;case"`":return te.slice(0,q);case"'":return te.slice(Ve);case"<":qe=ie[$e.slice(1,-1)];break;default:var We=+$e;if(0==We)return Le;if(_e<We){var tt=m(We/10);return 0===tt?Le:tt<=_e?void 0===oe[tt-1]?$e.charAt(1):oe[tt-1]+$e.charAt(1):Le}qe=oe[We-1]}return void 0===qe?"":qe})}})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":108,"../internals/require-object-coercible":112,"../internals/to-integer":132,"../internals/to-length":133,"../internals/to-object":134}],187:[function(d,ee,H){"use strict";var z=d("../internals/fix-regexp-well-known-symbol-logic"),v=d("../internals/an-object"),x=d("../internals/require-object-coercible"),C=d("../internals/same-value"),M=d("../internals/regexp-exec-abstract");z("search",1,function(w,g,u){return[function(h){var f=x(this),m=null==h?void 0:h[w];return void 0!==m?m.call(h,f):new RegExp(h)[w](String(f))},function(h){var f=u(g,h,this);if(f.done)return f.value;var m=v(h),b=String(this),E=m.lastIndex;C(E,0)||(m.lastIndex=0);var L=M(m,b);return C(m.lastIndex,E)||(m.lastIndex=E),null===L?-1:L.index}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":108,"../internals/require-object-coercible":112,"../internals/same-value":113}],188:[function(d,ee,H){"use strict";var z=d("../internals/fix-regexp-well-known-symbol-logic"),v=d("../internals/is-regexp"),x=d("../internals/an-object"),C=d("../internals/require-object-coercible"),M=d("../internals/species-constructor"),w=d("../internals/advance-string-index"),g=d("../internals/to-length"),u=d("../internals/regexp-exec-abstract"),h=d("../internals/regexp-exec"),f=d("../internals/fails"),m=[].push,b=Math.min,E=4294967295,L=!f(function(){return!RegExp(E,"y")});z("split",2,function(A,R,V){var U;return U="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(Z,Q){var Y=String(C(this)),K=void 0===Q?E:Q>>>0;if(0==K)return[];if(void 0===Z)return[Y];if(!v(Z))return R.call(Y,Z,K);for(var te,q,oe,ie=[],Ve=0,_e=new RegExp(Z.source,(Z.ignoreCase?"i":"")+(Z.multiline?"m":"")+(Z.unicode?"u":"")+(Z.sticky?"y":"")+"g");(te=h.call(_e,Y))&&!(Ve<(q=_e.lastIndex)&&(ie.push(Y.slice(Ve,te.index)),1<te.length&&te.index<Y.length&&m.apply(ie,te.slice(1)),oe=te[0].length,Ve=q,ie.length>=K));)_e.lastIndex===te.index&&_e.lastIndex++;return Ve===Y.length?!oe&&_e.test("")||ie.push(""):ie.push(Y.slice(Ve)),ie.length>K?ie.slice(0,K):ie}:"0".split(void 0,0).length?function(Z,Q){return void 0===Z&&0===Q?[]:R.call(this,Z,Q)}:R,[function(Z,Q){var Y=C(this),K=null==Z?void 0:Z[A];return void 0!==K?K.call(Z,Y,Q):U.call(String(Y),Z,Q)},function(Z,Q){var Y=V(U,Z,this,Q,U!==R);if(Y.done)return Y.value;var K=x(Z),te=String(this),q=M(K,RegExp),oe=K.unicode,ye=new q(L?K:"^(?:"+K.source+")",(K.ignoreCase?"i":"")+(K.multiline?"m":"")+(K.unicode?"u":"")+(L?"y":"g")),Ve=void 0===Q?E:Q>>>0;if(0==Ve)return[];if(0===te.length)return null===u(ye,te)?[te]:[];for(var _e=0,we=0,Le=[];we<te.length;){ye.lastIndex=L?we:0;var $e,qe=u(ye,L?te:te.slice(we));if(null===qe||($e=b(g(ye.lastIndex+(L?0:we)),te.length))===_e)we=w(te,we,oe);else{if(Le.push(te.slice(_e,we)),Le.length===Ve)return Le;for(var We=1;We<=qe.length-1;We++)if(Le.push(qe[We]),Le.length===Ve)return Le;we=_e=$e}}return Le.push(te.slice(_e)),Le}]},!L)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":50,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/is-regexp":75,"../internals/regexp-exec":109,"../internals/regexp-exec-abstract":108,"../internals/require-object-coercible":112,"../internals/species-constructor":120,"../internals/to-length":133}],189:[function(d,ee,H){"use strict";var z=d("../internals/export"),v=d("../internals/create-html");z({target:"String",proto:!0,forced:d("../internals/string-html-forced")("sub")},{sub:function(){return v(this,"sub","","")}})},{"../internals/create-html":35,"../internals/export":49,"../internals/string-html-forced":121}],190:[function(d,ee,H){"use strict";var z=d("../internals/export"),v=d("../internals/string-trim").trim;z({target:"String",proto:!0,forced:d("../internals/string-trim-forced")("trim")},{trim:function(){return v(this)}})},{"../internals/export":49,"../internals/string-trim":126,"../internals/string-trim-forced":125}],191:[function(d,ee,H){"use strict";var z=d("../internals/export"),v=d("../internals/descriptors"),x=d("../internals/global"),C=d("../internals/has"),M=d("../internals/is-object"),w=d("../internals/object-define-property").f,g=d("../internals/copy-constructor-properties"),u=x.Symbol;if(v&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var h={},f=function(A){var R=arguments.length<1||void 0===A?void 0:String(A),V=this instanceof f?new u(R):void 0===R?u():u(R);return""===R&&(h[V]=!0),V};g(f,u);var m=f.prototype=u.prototype;m.constructor=f;var b=m.toString,E="Symbol(test)"==String(u("test")),L=/^Symbol\((.*)\)[^)]+$/;w(m,"description",{configurable:!0,get:function(){var A=M(this)?this.valueOf():this,R=b.call(A);if(C(h,A))return"";var V=E?R.slice(7,-1):R.replace(L,"$1");return""===V?void 0:V}}),z({global:!0,forced:!0},{Symbol:f})}},{"../internals/copy-constructor-properties":32,"../internals/descriptors":42,"../internals/export":49,"../internals/global":58,"../internals/has":59,"../internals/is-object":73,"../internals/object-define-property":91}],192:[function(d,ee,H){d("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":41}],193:[function(d,ee,H){"use strict";function z(ae,pe){var Ne=xn[ae]=Y(Xe[Ie]);return ht(Ne,{type:Ee,tag:ae,description:pe}),h||(Ne.description=pe),Ne}function v(ae,pe){R(ae);var Ne=U(pe),it=K(Ne).concat(fe(Ne));return ue(it,function(pt){h&&!le.call(Ne,pt)||At(ae,pt,Ne[pt])}),ae}function x(ae,pe){var Ne=U(ae),it=Z(pe,!0);if(Ne!==Ze||!E(xn,it)||E(Ct,it)){var pt=ct(Ne,it);return!pt||!E(xn,it)||E(Ne,Re)&&Ne[Re][it]||(pt.enumerable=!0),pt}}function C(ae){var pe=ft(U(ae)),Ne=[];return ue(pe,function(it){E(xn,it)||E(qe,it)||Ne.push(it)}),Ne}var M=d("../internals/export"),w=d("../internals/global"),g=d("../internals/get-built-in"),u=d("../internals/is-pure"),h=d("../internals/descriptors"),f=d("../internals/native-symbol"),m=d("../internals/use-symbol-as-uid"),b=d("../internals/fails"),E=d("../internals/has"),L=d("../internals/is-array"),A=d("../internals/is-object"),R=d("../internals/an-object"),V=d("../internals/to-object"),U=d("../internals/to-indexed-object"),Z=d("../internals/to-primitive"),Q=d("../internals/create-property-descriptor"),Y=d("../internals/object-create"),K=d("../internals/object-keys"),te=d("../internals/object-get-own-property-names"),q=d("../internals/object-get-own-property-names-external"),oe=d("../internals/object-get-own-property-symbols"),ie=d("../internals/object-get-own-property-descriptor"),ye=d("../internals/object-define-property"),Ve=d("../internals/object-property-is-enumerable"),_e=d("../internals/create-non-enumerable-property"),we=d("../internals/redefine"),Le=d("../internals/shared"),$e=d("../internals/shared-key"),qe=d("../internals/hidden-keys"),We=d("../internals/uid"),tt=d("../internals/well-known-symbol"),Qe=d("../internals/well-known-symbol-wrapped"),ut=d("../internals/define-well-known-symbol"),G=d("../internals/set-to-string-tag"),J=d("../internals/internal-state"),ue=d("../internals/array-iteration").forEach,Re=$e("hidden"),Ee="Symbol",Ie="prototype",Be=tt("toPrimitive"),ht=J.set,ze=J.getterFor(Ee),Ze=Object[Ie],Xe=w.Symbol,Je=g("JSON","stringify"),ct=ie.f,mt=ye.f,ft=q.f,$t=Ve.f,xn=Le("symbols"),Ct=Le("op-symbols"),Sn=Le("string-to-symbol-registry"),Gn=Le("symbol-to-string-registry"),Et=Le("wks"),Tt=w.QObject,Jt=!Tt||!Tt[Ie]||!Tt[Ie].findChild,Ge=h&&b(function(){return 7!=Y(mt({},"a",{get:function(){return mt(this,"a",{value:7}).a}})).a})?function(ae,pe,Ne){var it=ct(Ze,pe);it&&delete Ze[pe],mt(ae,pe,Ne),it&&ae!==Ze&&mt(Ze,pe,it)}:mt,Gt=m?function(ae){return"symbol"==typeof ae}:function(ae){return Object(ae)instanceof Xe},At=function(ae,pe,Ne){ae===Ze&&At(Ct,pe,Ne),R(ae);var it=Z(pe,!0);return R(Ne),E(xn,it)?(Ne.enumerable?(E(ae,Re)&&ae[Re][it]&&(ae[Re][it]=!1),Ne=Y(Ne,{enumerable:Q(0,!1)})):(E(ae,Re)||mt(ae,Re,Q(1,{})),ae[Re][it]=!0),Ge(ae,it,Ne)):mt(ae,it,Ne)},le=function(ae){var pe=Z(ae,!0),Ne=$t.call(this,pe);return!(this===Ze&&E(xn,pe)&&!E(Ct,pe))&&(!(Ne||!E(this,pe)||!E(xn,pe)||E(this,Re)&&this[Re][pe])||Ne)},fe=function(ae){var pe=ae===Ze,Ne=ft(pe?Ct:U(ae)),it=[];return ue(Ne,function(pt){!E(xn,pt)||pe&&!E(Ze,pt)||it.push(xn[pt])}),it};f||(we((Xe=function(ae){if(this instanceof Xe)throw TypeError("Symbol is not a constructor");var pe=arguments.length&&void 0!==ae?String(ae):void 0,Ne=We(pe),it=function(pt){this===Ze&&it.call(Ct,pt),E(this,Re)&&E(this[Re],Ne)&&(this[Re][Ne]=!1),Ge(this,Ne,Q(1,pt))};return h&&Jt&&Ge(Ze,Ne,{configurable:!0,set:it}),z(Ne,pe)})[Ie],"toString",function(){return ze(this).tag}),we(Xe,"withoutSetter",function(ae){return z(We(ae),ae)}),Ve.f=le,ye.f=At,ie.f=x,te.f=q.f=C,oe.f=fe,Qe.f=function(ae){return z(tt(ae),ae)},h&&(mt(Xe[Ie],"description",{configurable:!0,get:function(){return ze(this).description}}),u||we(Ze,"propertyIsEnumerable",le,{unsafe:!0}))),M({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:Xe}),ue(K(Et),function(ae){ut(ae)}),M({target:Ee,stat:!0,forced:!f},{for:function(ae){var pe=String(ae);if(E(Sn,pe))return Sn[pe];var Ne=Xe(pe);return Sn[pe]=Ne,Gn[Ne]=pe,Ne},keyFor:function(ae){if(!Gt(ae))throw TypeError(ae+" is not a symbol");if(E(Gn,ae))return Gn[ae]},useSetter:function(){Jt=!0},useSimple:function(){Jt=!1}}),M({target:"Object",stat:!0,forced:!f,sham:!h},{create:function(ae,pe){return void 0===pe?Y(ae):v(Y(ae),pe)},defineProperty:At,defineProperties:v,getOwnPropertyDescriptor:x}),M({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:C,getOwnPropertySymbols:fe}),M({target:"Object",stat:!0,forced:b(function(){oe.f(1)})},{getOwnPropertySymbols:function(ae){return oe.f(V(ae))}}),Je&&M({target:"JSON",stat:!0,forced:!f||b(function(){var ae=Xe();return"[null]"!=Je([ae])||"{}"!=Je({a:ae})||"{}"!=Je(Object(ae))})},{stringify:function(ae,pe,Ne){for(var it,pt=[ae],It=1;It<arguments.length;)pt.push(arguments[It++]);if((A(it=pe)||void 0!==ae)&&!Gt(ae))return L(pe)||(pe=function(Ye,Xt){if("function"==typeof it&&(Xt=it.call(this,Ye,Xt)),!Gt(Xt))return Xt}),pt[1]=pe,Je.apply(null,pt)}}),Xe[Ie][Be]||_e(Xe[Ie],Be,Xe[Ie].valueOf),G(Xe,Ee),qe[Re]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":37,"../internals/create-property-descriptor":38,"../internals/define-well-known-symbol":41,"../internals/descriptors":42,"../internals/export":49,"../internals/fails":50,"../internals/get-built-in":55,"../internals/global":58,"../internals/has":59,"../internals/hidden-keys":60,"../internals/internal-state":69,"../internals/is-array":71,"../internals/is-object":73,"../internals/is-pure":74,"../internals/native-symbol":82,"../internals/object-create":89,"../internals/object-define-property":91,"../internals/object-get-own-property-descriptor":92,"../internals/object-get-own-property-names":94,"../internals/object-get-own-property-names-external":93,"../internals/object-get-own-property-symbols":95,"../internals/object-keys":98,"../internals/object-property-is-enumerable":99,"../internals/redefine":107,"../internals/set-to-string-tag":116,"../internals/shared":119,"../internals/shared-key":117,"../internals/to-indexed-object":131,"../internals/to-object":134,"../internals/to-primitive":137,"../internals/uid":142,"../internals/use-symbol-as-uid":143,"../internals/well-known-symbol":145,"../internals/well-known-symbol-wrapped":144}],194:[function(d,ee,H){"use strict";var z=d("../internals/array-buffer-view-core"),v=d("../internals/array-copy-within"),x=z.aTypedArray;(0,z.exportTypedArrayMethod)("copyWithin",function(C,M,w){return v.call(x(this),C,M,2<arguments.length?w:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],195:[function(d,ee,H){"use strict";var z=d("../internals/array-buffer-view-core"),v=d("../internals/array-iteration").every,x=z.aTypedArray;(0,z.exportTypedArrayMethod)("every",function(C,M){return v(x(this),C,1<arguments.length?M:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],196:[function(d,ee,H){"use strict";var z=d("../internals/array-buffer-view-core"),v=d("../internals/array-fill"),x=z.aTypedArray;(0,z.exportTypedArrayMethod)("fill",function(C){return v.apply(x(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],197:[function(d,ee,H){"use strict";var z=d("../internals/array-buffer-view-core"),v=d("../internals/array-iteration").filter,x=d("../internals/species-constructor"),C=z.aTypedArray,M=z.aTypedArrayConstructor;(0,z.exportTypedArrayMethod)("filter",function(w,g){for(var u=v(C(this),w,1<arguments.length?g:void 0),h=x(this,this.constructor),f=0,m=u.length,b=new(M(h))(m);f<m;)b[f]=u[f++];return b})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":120}],198:[function(d,ee,H){"use strict";var z=d("../internals/array-buffer-view-core"),v=d("../internals/array-iteration").findIndex,x=z.aTypedArray;(0,z.exportTypedArrayMethod)("findIndex",function(C,M){return v(x(this),C,1<arguments.length?M:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],199:[function(d,ee,H){"use strict";var z=d("../internals/array-buffer-view-core"),v=d("../internals/array-iteration").find,x=z.aTypedArray;(0,z.exportTypedArrayMethod)("find",function(C,M){return v(x(this),C,1<arguments.length?M:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],200:[function(d,ee,H){d("../internals/typed-array-constructor")("Float32",function(z){return function(v,x,C){return z(this,v,x,C)}})},{"../internals/typed-array-constructor":139}],201:[function(d,ee,H){d("../internals/typed-array-constructor")("Float64",function(z){return function(v,x,C){return z(this,v,x,C)}})},{"../internals/typed-array-constructor":139}],202:[function(d,ee,H){"use strict";var z=d("../internals/array-buffer-view-core"),v=d("../internals/array-iteration").forEach,x=z.aTypedArray;(0,z.exportTypedArrayMethod)("forEach",function(C,M){v(x(this),C,1<arguments.length?M:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],203:[function(d,ee,H){"use strict";var z=d("../internals/array-buffer-view-core"),v=d("../internals/array-includes").includes,x=z.aTypedArray;(0,z.exportTypedArrayMethod)("includes",function(C,M){return v(x(this),C,1<arguments.length?M:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],204:[function(d,ee,H){"use strict";var z=d("../internals/array-buffer-view-core"),v=d("../internals/array-includes").indexOf,x=z.aTypedArray;(0,z.exportTypedArrayMethod)("indexOf",function(C,M){return v(x(this),C,1<arguments.length?M:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],205:[function(d,ee,H){d("../internals/typed-array-constructor")("Int16",function(z){return function(v,x,C){return z(this,v,x,C)}})},{"../internals/typed-array-constructor":139}],206:[function(d,ee,H){d("../internals/typed-array-constructor")("Int32",function(z){return function(v,x,C){return z(this,v,x,C)}})},{"../internals/typed-array-constructor":139}],207:[function(d,ee,H){"use strict";function z(){return g.call(f(this))}var v=d("../internals/global"),x=d("../internals/array-buffer-view-core"),C=d("../modules/es.array.iterator"),M=d("../internals/well-known-symbol")("iterator"),w=v.Uint8Array,g=C.values,u=C.keys,h=C.entries,f=x.aTypedArray,m=x.exportTypedArrayMethod,b=w&&w.prototype[M],E=!!b&&("values"==b.name||null==b.name);m("entries",function(){return h.call(f(this))}),m("keys",function(){return u.call(f(this))}),m("values",z,!E),m(M,z,!E)},{"../internals/array-buffer-view-core":12,"../internals/global":58,"../internals/well-known-symbol":145,"../modules/es.array.iterator":156}],208:[function(d,ee,H){"use strict";var z=d("../internals/array-buffer-view-core"),v=z.aTypedArray,C=[].join;(0,z.exportTypedArrayMethod)("join",function(M){return C.apply(v(this),arguments)})},{"../internals/array-buffer-view-core":12}],209:[function(d,ee,H){"use strict";var z=d("../internals/array-buffer-view-core"),v=d("../internals/array-last-index-of"),x=z.aTypedArray;(0,z.exportTypedArrayMethod)("lastIndexOf",function(C){return v.apply(x(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],210:[function(d,ee,H){"use strict";var z=d("../internals/array-buffer-view-core"),v=d("../internals/array-iteration").map,x=d("../internals/species-constructor"),C=z.aTypedArray,M=z.aTypedArrayConstructor;(0,z.exportTypedArrayMethod)("map",function(w,g){return v(C(this),w,1<arguments.length?g:void 0,function(u,h){return new(M(x(u,u.constructor)))(h)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":120}],211:[function(d,ee,H){"use strict";var z=d("../internals/array-buffer-view-core"),v=d("../internals/array-reduce").right,x=z.aTypedArray;(0,z.exportTypedArrayMethod)("reduceRight",function(C,M){return v(x(this),C,arguments.length,1<arguments.length?M:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],212:[function(d,ee,H){"use strict";var z=d("../internals/array-buffer-view-core"),v=d("../internals/array-reduce").left,x=z.aTypedArray;(0,z.exportTypedArrayMethod)("reduce",function(C,M){return v(x(this),C,arguments.length,1<arguments.length?M:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],213:[function(d,ee,H){"use strict";var z=d("../internals/array-buffer-view-core"),v=z.aTypedArray,C=Math.floor;(0,z.exportTypedArrayMethod)("reverse",function(){for(var M,w=v(this).length,g=C(w/2),u=0;u<g;)M=this[u],this[u++]=this[--w],this[w]=M;return this})},{"../internals/array-buffer-view-core":12}],214:[function(d,ee,H){"use strict";var z=d("../internals/array-buffer-view-core"),v=d("../internals/to-length"),x=d("../internals/to-offset"),C=d("../internals/to-object"),M=d("../internals/fails"),w=z.aTypedArray;(0,z.exportTypedArrayMethod)("set",function(g,u){w(this);var h=x(1<arguments.length?u:void 0,1),f=this.length,m=C(g),b=v(m.length),E=0;if(f<b+h)throw RangeError("Wrong length");for(;E<b;)this[h+E]=m[E++]},M(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/to-length":133,"../internals/to-object":134,"../internals/to-offset":135}],215:[function(d,ee,H){"use strict";var z=d("../internals/array-buffer-view-core"),v=d("../internals/species-constructor"),x=d("../internals/fails"),C=z.aTypedArray,M=z.aTypedArrayConstructor,g=[].slice;(0,z.exportTypedArrayMethod)("slice",function(u,h){for(var f=g.call(C(this),u,h),m=v(this,this.constructor),b=0,E=f.length,L=new(M(m))(E);b<E;)L[b]=f[b++];return L},x(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/species-constructor":120}],216:[function(d,ee,H){"use strict";var z=d("../internals/array-buffer-view-core"),v=d("../internals/array-iteration").some,x=z.aTypedArray;(0,z.exportTypedArrayMethod)("some",function(C,M){return v(x(this),C,1<arguments.length?M:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],217:[function(d,ee,H){"use strict";var z=d("../internals/array-buffer-view-core"),v=z.aTypedArray,C=[].sort;(0,z.exportTypedArrayMethod)("sort",function(M){return C.call(v(this),M)})},{"../internals/array-buffer-view-core":12}],218:[function(d,ee,H){"use strict";var z=d("../internals/array-buffer-view-core"),v=d("../internals/to-length"),x=d("../internals/to-absolute-index"),C=d("../internals/species-constructor"),M=z.aTypedArray;(0,z.exportTypedArrayMethod)("subarray",function(w,g){var u=M(this),h=u.length,f=x(w,h);return new(C(u,u.constructor))(u.buffer,u.byteOffset+f*u.BYTES_PER_ELEMENT,v((void 0===g?h:x(g,h))-f))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":120,"../internals/to-absolute-index":129,"../internals/to-length":133}],219:[function(d,ee,H){"use strict";var z=d("../internals/global"),v=d("../internals/array-buffer-view-core"),x=d("../internals/fails"),C=z.Int8Array,M=v.aTypedArray,w=v.exportTypedArrayMethod,g=[].toLocaleString,u=[].slice,h=!!C&&x(function(){g.call(new C(1))});w("toLocaleString",function(){return g.apply(h?u.call(M(this)):M(this),arguments)},x(function(){return[1,2].toLocaleString()!=new C([1,2]).toLocaleString()})||!x(function(){C.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/global":58}],220:[function(d,ee,H){"use strict";var z=d("../internals/array-buffer-view-core").exportTypedArrayMethod,v=d("../internals/fails"),x=d("../internals/global").Uint8Array,C=x&&x.prototype||{},M=[].toString,w=[].join;v(function(){M.call({})})&&(M=function(){return w.call(this)}),z("toString",M,C.toString!=M)},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/global":58}],221:[function(d,ee,H){d("../internals/typed-array-constructor")("Uint16",function(z){return function(v,x,C){return z(this,v,x,C)}})},{"../internals/typed-array-constructor":139}],222:[function(d,ee,H){d("../internals/typed-array-constructor")("Uint32",function(z){return function(v,x,C){return z(this,v,x,C)}})},{"../internals/typed-array-constructor":139}],223:[function(d,ee,H){d("../internals/typed-array-constructor")("Uint8",function(z){return function(v,x,C){return z(this,v,x,C)}})},{"../internals/typed-array-constructor":139}],224:[function(d,ee,H){d("../internals/typed-array-constructor")("Uint8",function(z){return function(v,x,C){return z(this,v,x,C)}},!0)},{"../internals/typed-array-constructor":139}],225:[function(d,ee,H){var z=d("../internals/global"),v=d("../internals/dom-iterables"),x=d("../internals/array-for-each"),C=d("../internals/create-non-enumerable-property");for(var M in v){var w=z[M],g=w&&w.prototype;if(g&&g.forEach!==x)try{C(g,"forEach",x)}catch(u){g.forEach=x}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":37,"../internals/dom-iterables":44,"../internals/global":58}],226:[function(d,ee,H){var z=d("../internals/global"),v=d("../internals/dom-iterables"),x=d("../modules/es.array.iterator"),C=d("../internals/create-non-enumerable-property"),M=d("../internals/well-known-symbol"),w=M("iterator"),g=M("toStringTag"),u=x.values;for(var h in v){var f=z[h],m=f&&f.prototype;if(m){if(m[w]!==u)try{C(m,w,u)}catch(E){m[w]=u}if(m[g]||C(m,g,h),v[h])for(var b in x)if(m[b]!==x[b])try{C(m,b,x[b])}catch(E){m[b]=x[b]}}}},{"../internals/create-non-enumerable-property":37,"../internals/dom-iterables":44,"../internals/global":58,"../internals/well-known-symbol":145,"../modules/es.array.iterator":156}],227:[function(d,ee,H){"use strict";function z(Ee){try{return decodeURIComponent(Ee)}catch(Ie){return Ee}}function v(Ee){var Ie,Be=Ee.replace(tt," "),ht=4;try{return decodeURIComponent(Be)}catch(ze){for(;ht;)Be=Be.replace((Ie=ht--,Qe[Ie-1]||(Qe[Ie-1]=RegExp("((?:%[\\da-f]{2}){"+Ie+"})","gi"))),z);return Be}}function x(Ee){return G[Ee]}function C(Ee){return encodeURIComponent(Ee).replace(ut,x)}function M(Ee,Ie){if(Ie)for(var Be,ht,ze=Ie.split("&"),Ze=0;Ze<ze.length;)(Be=ze[Ze++]).length&&(ht=Be.split("="),Ee.push({key:v(ht.shift()),value:v(ht.join("="))}))}function w(Ee){this.entries.length=0,M(this.entries,Ee)}function g(Ee,Ie){if(Ee<Ie)throw TypeError("Not enough arguments")}d("../modules/es.array.iterator");var u=d("../internals/export"),h=d("../internals/get-built-in"),f=d("../internals/native-url"),m=d("../internals/redefine"),b=d("../internals/redefine-all"),E=d("../internals/set-to-string-tag"),L=d("../internals/create-iterator-constructor"),A=d("../internals/internal-state"),R=d("../internals/an-instance"),V=d("../internals/has"),U=d("../internals/function-bind-context"),Z=d("../internals/classof"),Q=d("../internals/an-object"),Y=d("../internals/is-object"),K=d("../internals/object-create"),te=d("../internals/create-property-descriptor"),q=d("../internals/get-iterator"),oe=d("../internals/get-iterator-method"),ie=d("../internals/well-known-symbol"),ye=h("fetch"),Ve=h("Headers"),_e=ie("iterator"),we="URLSearchParams",Le=we+"Iterator",$e=A.set,qe=A.getterFor(we),We=A.getterFor(Le),tt=/\+/g,Qe=Array(4),ut=/[!'()~]|%20/g,G={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},J=L(function(Ee,Ie){$e(this,{type:Le,iterator:q(qe(Ee).entries),kind:Ie})},"Iterator",function(){var Ee=We(this),Ie=Ee.kind,Be=Ee.iterator.next(),ht=Be.value;return Be.done||(Be.value="keys"===Ie?ht.key:"values"===Ie?ht.value:[ht.key,ht.value]),Be}),ue=function(Ee){R(this,ue,we);var Ie,Be,ht,ze,Ze,Xe,Je,ct,mt,ft=0<arguments.length?Ee:void 0,$t=[];if($e(this,{type:we,entries:$t,updateURL:function(){},updateSearchParams:w}),void 0!==ft)if(Y(ft))if("function"==typeof(Ie=oe(ft)))for(ht=(Be=Ie.call(ft)).next;!(ze=ht.call(Be)).done;){if((Je=(Xe=(Ze=q(Q(ze.value))).next).call(Ze)).done||(ct=Xe.call(Ze)).done||!Xe.call(Ze).done)throw TypeError("Expected sequence with length 2");$t.push({key:Je.value+"",value:ct.value+""})}else for(mt in ft)V(ft,mt)&&$t.push({key:mt,value:ft[mt]+""});else M($t,"string"==typeof ft?"?"===ft.charAt(0)?ft.slice(1):ft:ft+"")},Re=ue.prototype;b(Re,{append:function(Ee,Ie){g(arguments.length,2);var Be=qe(this);Be.entries.push({key:Ee+"",value:Ie+""}),Be.updateURL()},delete:function(Ee){g(arguments.length,1);for(var Ie=qe(this),Be=Ie.entries,ht=Ee+"",ze=0;ze<Be.length;)Be[ze].key===ht?Be.splice(ze,1):ze++;Ie.updateURL()},get:function(Ee){g(arguments.length,1);for(var Ie=qe(this).entries,Be=Ee+"",ht=0;ht<Ie.length;ht++)if(Ie[ht].key===Be)return Ie[ht].value;return null},getAll:function(Ee){g(arguments.length,1);for(var Ie=qe(this).entries,Be=Ee+"",ht=[],ze=0;ze<Ie.length;ze++)Ie[ze].key===Be&&ht.push(Ie[ze].value);return ht},has:function(Ee){g(arguments.length,1);for(var Ie=qe(this).entries,Be=Ee+"",ht=0;ht<Ie.length;)if(Ie[ht++].key===Be)return!0;return!1},set:function(Ee,Ie){g(arguments.length,1);for(var Be,ht=qe(this),ze=ht.entries,Ze=!1,Xe=Ee+"",Je=Ie+"",ct=0;ct<ze.length;ct++)(Be=ze[ct]).key===Xe&&(Ze?ze.splice(ct--,1):(Ze=!0,Be.value=Je));Ze||ze.push({key:Xe,value:Je}),ht.updateURL()},sort:function(){var Ee,Ie,Be,ht=qe(this),ze=ht.entries,Ze=ze.slice();for(Be=ze.length=0;Be<Ze.length;Be++){for(Ee=Ze[Be],Ie=0;Ie<Be;Ie++)if(ze[Ie].key>Ee.key){ze.splice(Ie,0,Ee);break}Ie===Be&&ze.push(Ee)}ht.updateURL()},forEach:function(Ee,Ie){for(var Be,ht=qe(this).entries,ze=U(Ee,1<arguments.length?Ie:void 0,3),Ze=0;Ze<ht.length;)ze((Be=ht[Ze++]).value,Be.key,this)},keys:function(){return new J(this,"keys")},values:function(){return new J(this,"values")},entries:function(){return new J(this,"entries")}},{enumerable:!0}),m(Re,_e,Re.entries),m(Re,"toString",function(){for(var Ee,Ie=qe(this).entries,Be=[],ht=0;ht<Ie.length;)Ee=Ie[ht++],Be.push(C(Ee.key)+"="+C(Ee.value));return Be.join("&")},{enumerable:!0}),E(ue,we),u({global:!0,forced:!f},{URLSearchParams:ue}),f||"function"!=typeof ye||"function"!=typeof Ve||u({global:!0,enumerable:!0,forced:!0},{fetch:function(Ee,Ie){var Be,ht,ze,Ze=[Ee];return 1<arguments.length&&(Y(Be=Ie)&&Z(ht=Be.body)===we&&((ze=Be.headers?new Ve(Be.headers):new Ve).has("content-type")||ze.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),Be=K(Be,{body:te(0,String(ht)),headers:te(0,ze)})),Ze.push(Be)),ye.apply(this,Ze)}}),ee.exports={URLSearchParams:ue,getState:qe}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":36,"../internals/create-property-descriptor":38,"../internals/export":49,"../internals/function-bind-context":53,"../internals/get-built-in":55,"../internals/get-iterator":57,"../internals/get-iterator-method":56,"../internals/has":59,"../internals/internal-state":69,"../internals/is-object":73,"../internals/native-url":83,"../internals/object-create":89,"../internals/redefine":107,"../internals/redefine-all":106,"../internals/set-to-string-tag":116,"../internals/well-known-symbol":145,"../modules/es.array.iterator":156}],228:[function(d,ee,H){"use strict";function z(Fe,Ot){var en,Vt,cn;if("["==Ot.charAt(0)){if("]"!=Ot.charAt(Ot.length-1)||!(en=Xe(Ot.slice(1,-1))))return We;Fe.host=en}else if(Ct(Fe)){if(Ot=K(Ot),Ie.test(Ot)||null===(en=Ze(Ot)))return We;Fe.host=en}else{if(Be.test(Ot))return We;for(en="",Vt=Q(Ot),cn=0;cn<Vt.length;cn++)en+=$t(Vt[cn],Je);Fe.host=en}}function v(Fe){var Ot,en,Vt,cn;if("number"==typeof Fe){for(Ot=[],en=0;en<4;en++)Ot.unshift(Fe%256),Fe=Le(Fe/256);return Ot.join(".")}if("object"!=typeof Fe)return Fe;for(Ot="",Vt=function(Dt){for(var Vr=null,$r=1,si=null,Sr=0,fn=0;fn<8;fn++)0!==Dt[fn]?($r<Sr&&(Vr=si,$r=Sr),si=null,Sr=0):(null===si&&(si=fn),++Sr);return $r<Sr&&(Vr=si,$r=Sr),Vr}(Fe),en=0;en<8;en++)cn&&0===Fe[en]||(cn=cn&&!1,Vt===en?(Ot+=en?":":"::",cn=!0):(Ot+=Fe[en].toString(16),en<7&&(Ot+=":")));return"["+Ot+"]"}function x(Fe){return""!=Fe.username||""!=Fe.password}function C(Fe){return!Fe.host||Fe.cannotBeABaseURL||"file"==Fe.scheme}function M(Fe,Ot){var en;return 2==Fe.length&&Qe.test(Fe.charAt(0))&&(":"==(en=Fe.charAt(1))||!Ot&&"|"==en)}function w(Fe){var Ot;return 1<Fe.length&&M(Fe.slice(0,2))&&(2==Fe.length||"/"===(Ot=Fe.charAt(2))||"\\"===Ot||"?"===Ot||"#"===Ot)}function g(Fe){var Ot=Fe.path,en=Ot.length;!en||"file"==Fe.scheme&&1==en&&M(Ot[0],!0)||Ot.pop()}function u(Fe,Ot,en,Vt){var cn,Dt,Vr,$r,si,Sr,fn=en||Sn,bi=0,qn="",ao=!1,ai=!1,ld=!1;for(en||(Fe.scheme="",Fe.username="",Fe.password="",Fe.host=null,Fe.port=null,Fe.path=[],Fe.query=null,Fe.fragment=null,Fe.cannotBeABaseURL=!1,Ot=Ot.replace(ht,"")),Ot=Ot.replace(ze,""),cn=Q(Ot);bi<=cn.length;){switch(Dt=cn[bi],fn){case Sn:if(!Dt||!Qe.test(Dt)){if(en)return qe;fn=Et;continue}qn+=Dt.toLowerCase(),fn=Gn;break;case Gn:if(Dt&&(ut.test(Dt)||"+"==Dt||"-"==Dt||"."==Dt))qn+=Dt.toLowerCase();else{if(":"!=Dt){if(en)return qe;qn="",fn=Et,bi=0;continue}if(en&&(Ct(Fe)!=U(xn,qn)||"file"==qn&&(x(Fe)||null!==Fe.port)||"file"==Fe.scheme&&!Fe.host))return;if(Fe.scheme=qn,en)return void(Ct(Fe)&&xn[Fe.scheme]==Fe.port&&(Fe.port=null));qn="","file"==Fe.scheme?fn=it:Ct(Fe)&&Vt&&Vt.scheme==Fe.scheme?fn=Tt:Ct(Fe)?fn=At:"/"==cn[bi+1]?(fn=Jt,bi++):(Fe.cannotBeABaseURL=!0,Fe.path.push(""),fn=_n)}break;case Et:if(!Vt||Vt.cannotBeABaseURL&&"#"!=Dt)return qe;if(Vt.cannotBeABaseURL&&"#"==Dt){Fe.scheme=Vt.scheme,Fe.path=Vt.path.slice(),Fe.query=Vt.query,Fe.fragment="",Fe.cannotBeABaseURL=!0,fn=ar;break}fn="file"==Vt.scheme?it:Ge;continue;case Tt:if("/"!=Dt||"/"!=cn[bi+1]){fn=Ge;continue}fn=le,bi++;break;case Jt:if("/"==Dt){fn=fe;break}fn=Xt;continue;case Ge:if(Fe.scheme=Vt.scheme,Dt==f)Fe.username=Vt.username,Fe.password=Vt.password,Fe.host=Vt.host,Fe.port=Vt.port,Fe.path=Vt.path.slice(),Fe.query=Vt.query;else if("/"==Dt||"\\"==Dt&&Ct(Fe))fn=Gt;else if("?"==Dt)Fe.username=Vt.username,Fe.password=Vt.password,Fe.host=Vt.host,Fe.port=Vt.port,Fe.path=Vt.path.slice(),Fe.query="",fn=dn;else{if("#"!=Dt){Fe.username=Vt.username,Fe.password=Vt.password,Fe.host=Vt.host,Fe.port=Vt.port,Fe.path=Vt.path.slice(),Fe.path.pop(),fn=Xt;continue}Fe.username=Vt.username,Fe.password=Vt.password,Fe.host=Vt.host,Fe.port=Vt.port,Fe.path=Vt.path.slice(),Fe.query=Vt.query,Fe.fragment="",fn=ar}break;case Gt:if(!Ct(Fe)||"/"!=Dt&&"\\"!=Dt){if("/"!=Dt){Fe.username=Vt.username,Fe.password=Vt.password,Fe.host=Vt.host,Fe.port=Vt.port,fn=Xt;continue}fn=fe}else fn=le;break;case At:if(fn=le,"/"!=Dt||"/"!=qn.charAt(bi+1))continue;bi++;break;case le:if("/"==Dt||"\\"==Dt)break;fn=fe;continue;case fe:if("@"==Dt){ao&&(qn="%40"+qn),ao=!0,Vr=Q(qn);for(var Yu=0;Yu<Vr.length;Yu++){var Gu=Vr[Yu];if(":"!=Gu||ld){var sn=$t(Gu,ft);ld?Fe.password+=sn:Fe.username+=sn}else ld=!0}qn=""}else if(Dt==f||"/"==Dt||"?"==Dt||"#"==Dt||"\\"==Dt&&Ct(Fe)){if(ao&&""==qn)return"Invalid authority";bi-=Q(qn).length+1,qn="",fn=ae}else qn+=Dt;break;case ae:case pe:if(en&&"file"==Fe.scheme){fn=It;continue}if(":"!=Dt||ai){if(Dt==f||"/"==Dt||"?"==Dt||"#"==Dt||"\\"==Dt&&Ct(Fe)){if(Ct(Fe)&&""==qn)return We;if(en&&""==qn&&(x(Fe)||null!==Fe.port))return;if($r=z(Fe,qn))return $r;if(qn="",fn=Ye,en)return;continue}"["==Dt?ai=!0:"]"==Dt&&(ai=!1),qn+=Dt}else{if(""==qn)return We;if($r=z(Fe,qn))return $r;if(qn="",fn=Ne,en==pe)return}break;case Ne:if(!G.test(Dt)){if(Dt==f||"/"==Dt||"?"==Dt||"#"==Dt||"\\"==Dt&&Ct(Fe)||en){if(""!=qn){var Wu=parseInt(qn,10);if(65535<Wu)return tt;Fe.port=Ct(Fe)&&Wu===xn[Fe.scheme]?null:Wu,qn=""}if(en)return;fn=Ye;continue}return tt}qn+=Dt;break;case it:if(Fe.scheme="file","/"==Dt||"\\"==Dt)fn=pt;else{if(!Vt||"file"!=Vt.scheme){fn=Xt;continue}if(Dt==f)Fe.host=Vt.host,Fe.path=Vt.path.slice(),Fe.query=Vt.query;else if("?"==Dt)Fe.host=Vt.host,Fe.path=Vt.path.slice(),Fe.query="",fn=dn;else{if("#"!=Dt){w(cn.slice(bi).join(""))||(Fe.host=Vt.host,Fe.path=Vt.path.slice(),g(Fe)),fn=Xt;continue}Fe.host=Vt.host,Fe.path=Vt.path.slice(),Fe.query=Vt.query,Fe.fragment="",fn=ar}}break;case pt:if("/"==Dt||"\\"==Dt){fn=It;break}Vt&&"file"==Vt.scheme&&!w(cn.slice(bi).join(""))&&(M(Vt.path[0],!0)?Fe.path.push(Vt.path[0]):Fe.host=Vt.host),fn=Xt;continue;case It:if(Dt==f||"/"==Dt||"\\"==Dt||"?"==Dt||"#"==Dt){if(!en&&M(qn))fn=Xt;else if(""==qn){if(Fe.host="",en)return;fn=Ye}else{if($r=z(Fe,qn))return $r;if("localhost"==Fe.host&&(Fe.host=""),en)return;qn="",fn=Ye}continue}qn+=Dt;break;case Ye:if(Ct(Fe)){if(fn=Xt,"/"!=Dt&&"\\"!=Dt)continue}else if(en||"?"!=Dt)if(en||"#"!=Dt){if(Dt!=f&&(fn=Xt,"/"!=Dt))continue}else Fe.fragment="",fn=ar;else Fe.query="",fn=dn;break;case Xt:if(Dt==f||"/"==Dt||"\\"==Dt&&Ct(Fe)||!en&&("?"==Dt||"#"==Dt)){if(".."===(Sr=(Sr=qn).toLowerCase())||"%2e."===Sr||".%2e"===Sr||"%2e%2e"===Sr?(g(Fe),"/"==Dt||"\\"==Dt&&Ct(Fe)||Fe.path.push("")):"."===(si=qn)||"%2e"===si.toLowerCase()?"/"==Dt||"\\"==Dt&&Ct(Fe)||Fe.path.push(""):("file"==Fe.scheme&&!Fe.path.length&&M(qn)&&(Fe.host&&(Fe.host=""),qn=qn.charAt(0)+":"),Fe.path.push(qn)),qn="","file"==Fe.scheme&&(Dt==f||"?"==Dt||"#"==Dt))for(;1<Fe.path.length&&""===Fe.path[0];)Fe.path.shift();"?"==Dt?(Fe.query="",fn=dn):"#"==Dt&&(Fe.fragment="",fn=ar)}else qn+=$t(Dt,mt);break;case _n:"?"==Dt?(Fe.query="",fn=dn):"#"==Dt?(Fe.fragment="",fn=ar):Dt!=f&&(Fe.path[0]+=$t(Dt,Je));break;case dn:en||"#"!=Dt?Dt!=f&&("'"==Dt&&Ct(Fe)?Fe.query+="%27":Fe.query+="#"==Dt?"%23":$t(Dt,Je)):(Fe.fragment="",fn=ar);break;case ar:Dt!=f&&(Fe.fragment+=$t(Dt,ct))}bi++}}function h(Fe,Ot){return{get:Fe,set:Ot,configurable:!0,enumerable:!0}}d("../modules/es.string.iterator");var f,m=d("../internals/export"),b=d("../internals/descriptors"),E=d("../internals/native-url"),L=d("../internals/global"),A=d("../internals/object-define-properties"),R=d("../internals/redefine"),V=d("../internals/an-instance"),U=d("../internals/has"),Z=d("../internals/object-assign"),Q=d("../internals/array-from"),Y=d("../internals/string-multibyte").codeAt,K=d("../internals/string-punycode-to-ascii"),te=d("../internals/set-to-string-tag"),q=d("../modules/web.url-search-params"),oe=d("../internals/internal-state"),ie=L.URL,ye=q.URLSearchParams,Ve=q.getState,_e=oe.set,we=oe.getterFor("URL"),Le=Math.floor,$e=Math.pow,qe="Invalid scheme",We="Invalid host",tt="Invalid port",Qe=/[A-Za-z]/,ut=/[\d+-.A-Za-z]/,G=/\d/,J=/^(0x|0X)/,ue=/^[0-7]+$/,Re=/^\d+$/,Ee=/^[\dA-Fa-f]+$/,Ie=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Be=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,ht=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,ze=/[\u0009\u000A\u000D]/g,Ze=function(Fe){var Ot,en,Vt,cn,Dt,Vr,$r,si=Fe.split(".");if(si.length&&""==si[si.length-1]&&si.pop(),4<(Ot=si.length))return Fe;for(en=[],Vt=0;Vt<Ot;Vt++){if(""==(cn=si[Vt]))return Fe;if(Dt=10,1<cn.length&&"0"==cn.charAt(0)&&(Dt=J.test(cn)?16:8,cn=cn.slice(8==Dt?1:2)),""===cn)Vr=0;else{if(!(10==Dt?Re:8==Dt?ue:Ee).test(cn))return Fe;Vr=parseInt(cn,Dt)}en.push(Vr)}for(Vt=0;Vt<Ot;Vt++)if(Vr=en[Vt],Vt==Ot-1){if(Vr>=$e(256,5-Ot))return null}else if(255<Vr)return null;for($r=en.pop(),Vt=0;Vt<en.length;Vt++)$r+=en[Vt]*$e(256,3-Vt);return $r},Xe=function(Fe){function Ot(){return Fe.charAt(qn)}var en,Vt,cn,Dt,Vr,$r,si,Sr=[0,0,0,0,0,0,0,0],fn=0,bi=null,qn=0;if(":"==Ot()){if(":"!=Fe.charAt(1))return;qn+=2,bi=++fn}for(;Ot();){if(8==fn)return;if(":"!=Ot()){for(en=Vt=0;Vt<4&&Ee.test(Ot());)en=16*en+parseInt(Ot(),16),qn++,Vt++;if("."==Ot()){if(0==Vt||(qn-=Vt,6<fn))return;for(cn=0;Ot();){if(Dt=null,0<cn){if(!("."==Ot()&&cn<4))return;qn++}if(!G.test(Ot()))return;for(;G.test(Ot());){if(Vr=parseInt(Ot(),10),null===Dt)Dt=Vr;else{if(0==Dt)return;Dt=10*Dt+Vr}if(255<Dt)return;qn++}Sr[fn]=256*Sr[fn]+Dt,2!=++cn&&4!=cn||fn++}if(4!=cn)return;break}if(":"==Ot()){if(qn++,!Ot())return}else if(Ot())return;Sr[fn++]=en}else{if(null!==bi)return;qn++,bi=++fn}}if(null!==bi)for($r=fn-bi,fn=7;0!=fn&&0<$r;)si=Sr[fn],Sr[fn--]=Sr[bi+$r-1],Sr[bi+--$r]=si;else if(8!=fn)return;return Sr},Je={},ct=Z({},Je,{" ":1,'"':1,"<":1,">":1,"`":1}),mt=Z({},ct,{"#":1,"?":1,"{":1,"}":1}),ft=Z({},mt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),$t=function(Fe,Ot){var en=Y(Fe,0);return 32<en&&en<127&&!U(Ot,Fe)?Fe:encodeURIComponent(Fe)},xn={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ct=function(Fe){return U(xn,Fe.scheme)},Sn={},Gn={},Et={},Tt={},Jt={},Ge={},Gt={},At={},le={},fe={},ae={},pe={},Ne={},it={},pt={},It={},Ye={},Xt={},_n={},dn={},ar={},Kt=function(Fe,Ot){var en,Vt,cn=V(this,Kt,"URL"),Dt=1<arguments.length?Ot:void 0,Vr=String(Fe),$r=_e(cn,{type:"URL"});if(void 0!==Dt)if(Dt instanceof Kt)en=we(Dt);else if(Vt=u(en={},String(Dt)))throw TypeError(Vt);if(Vt=u($r,Vr,null,en))throw TypeError(Vt);var si=$r.searchParams=new ye,Sr=Ve(si);Sr.updateSearchParams($r.query),Sr.updateURL=function(){$r.query=String(si)||null},b||(cn.href=Nr.call(cn),cn.origin=fr.call(cn),cn.protocol=Pn.call(cn),cn.username=Fa.call(cn),cn.password=$s.call(cn),cn.host=xs.call(cn),cn.hostname=Gc.call(cn),cn.port=Na.call(cn),cn.pathname=Zn.call(cn),cn.search=ji.call(cn),cn.searchParams=Wc.call(cn),cn.hash=qc.call(cn))},er=Kt.prototype,Nr=function(){var Fe=we(this),Ot=Fe.scheme,en=Fe.username,Vt=Fe.password,cn=Fe.host,Dt=Fe.port,Vr=Fe.path,$r=Fe.query,si=Fe.fragment,Sr=Ot+":";return null!==cn?(Sr+="//",x(Fe)&&(Sr+=en+(Vt?":"+Vt:"")+"@"),Sr+=v(cn),null!==Dt&&(Sr+=":"+Dt)):"file"==Ot&&(Sr+="//"),Sr+=Fe.cannotBeABaseURL?Vr[0]:Vr.length?"/"+Vr.join("/"):"",null!==$r&&(Sr+="?"+$r),null!==si&&(Sr+="#"+si),Sr},fr=function(){var Fe=we(this),Ot=Fe.scheme,en=Fe.port;if("blob"==Ot)try{return new URL(Ot.path[0]).origin}catch(Vt){return"null"}return"file"!=Ot&&Ct(Fe)?Ot+"://"+v(Fe.host)+(null!==en?":"+en:""):"null"},Pn=function(){return we(this).scheme+":"},Fa=function(){return we(this).username},$s=function(){return we(this).password},xs=function(){var Fe=we(this),Ot=Fe.host,en=Fe.port;return null===Ot?"":null===en?v(Ot):v(Ot)+":"+en},Gc=function(){var Fe=we(this).host;return null===Fe?"":v(Fe)},Na=function(){var Fe=we(this).port;return null===Fe?"":String(Fe)},Zn=function(){var Fe=we(this),Ot=Fe.path;return Fe.cannotBeABaseURL?Ot[0]:Ot.length?"/"+Ot.join("/"):""},ji=function(){var Fe=we(this).query;return Fe?"?"+Fe:""},Wc=function(){return we(this).searchParams},qc=function(){var Fe=we(this).fragment;return Fe?"#"+Fe:""};if(b&&A(er,{href:h(Nr,function(Fe){var Ot=we(this),Vt=u(Ot,String(Fe));if(Vt)throw TypeError(Vt);Ve(Ot.searchParams).updateSearchParams(Ot.query)}),origin:h(fr),protocol:h(Pn,function(Fe){u(we(this),String(Fe)+":",Sn)}),username:h(Fa,function(Fe){var Ot=we(this),en=Q(String(Fe));if(!C(Ot)){Ot.username="";for(var Vt=0;Vt<en.length;Vt++)Ot.username+=$t(en[Vt],ft)}}),password:h($s,function(Fe){var Ot=we(this),en=Q(String(Fe));if(!C(Ot)){Ot.password="";for(var Vt=0;Vt<en.length;Vt++)Ot.password+=$t(en[Vt],ft)}}),host:h(xs,function(Fe){var Ot=we(this);Ot.cannotBeABaseURL||u(Ot,String(Fe),ae)}),hostname:h(Gc,function(Fe){var Ot=we(this);Ot.cannotBeABaseURL||u(Ot,String(Fe),pe)}),port:h(Na,function(Fe){var Ot=we(this);C(Ot)||(""==(Fe=String(Fe))?Ot.port=null:u(Ot,Fe,Ne))}),pathname:h(Zn,function(Fe){var Ot=we(this);Ot.cannotBeABaseURL||(Ot.path=[],u(Ot,Fe+"",Ye))}),search:h(ji,function(Fe){var Ot=we(this);""==(Fe=String(Fe))?Ot.query=null:("?"==Fe.charAt(0)&&(Fe=Fe.slice(1)),Ot.query="",u(Ot,Fe,dn)),Ve(Ot.searchParams).updateSearchParams(Ot.query)}),searchParams:h(Wc),hash:h(qc,function(Fe){var Ot=we(this);""!=(Fe=String(Fe))?("#"==Fe.charAt(0)&&(Fe=Fe.slice(1)),Ot.fragment="",u(Ot,Fe,ar)):Ot.fragment=null})}),R(er,"toJSON",function(){return Nr.call(this)},{enumerable:!0}),R(er,"toString",function(){return Nr.call(this)},{enumerable:!0}),ie){var tc=ie.createObjectURL,Xs=ie.revokeObjectURL;tc&&R(Kt,"createObjectURL",function(Fe){return tc.apply(ie,arguments)}),Xs&&R(Kt,"revokeObjectURL",function(Fe){return Xs.apply(ie,arguments)})}te(Kt,"URL"),m({global:!0,forced:!E,sham:!b},{URL:Kt})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":42,"../internals/export":49,"../internals/global":58,"../internals/has":59,"../internals/internal-state":69,"../internals/native-url":83,"../internals/object-assign":88,"../internals/object-define-properties":90,"../internals/redefine":107,"../internals/set-to-string-tag":116,"../internals/string-multibyte":122,"../internals/string-punycode-to-ascii":123,"../modules/es.string.iterator":183,"../modules/web.url-search-params":227}],229:[function(d,ee,H){"use strict";ee.exports=d("./").polyfill()},{"./":230}],230:[function(d,ee,H){(function(z,v){var C;C=function(){"use strict";function M(ze){return"function"==typeof ze}var w=Array.isArray?Array.isArray:function(ze){return"[object Array]"===Object.prototype.toString.call(ze)},g=0,u=void 0,h=void 0,f=function(ze,Ze){V[g]=ze,V[g+1]=Ze,2===(g+=2)&&(h?h(U):te())},m="undefined"!=typeof window?window:void 0,b=m||{},E=b.MutationObserver||b.WebKitMutationObserver,L="undefined"==typeof self&&void 0!==z&&"[object process]"==={}.toString.call(z),A="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function R(){var ze=setTimeout;return function(){return ze(U,1)}}var V=new Array(1e3);function U(){for(var ze=0;ze<g;ze+=2)(0,V[ze])(V[ze+1]),V[ze]=void 0,V[ze+1]=void 0;g=0}var Z,Q,Y,K,te=void 0;function q(ze,Ze){var Xe=this,Je=new this.constructor(ye);void 0===Je[ie]&&Re(Je);var ct=Xe._state;if(ct){var mt=arguments[ct-1];f(function(){return J(ct,Je,mt,Xe._result)})}else ut(Xe,Je,ze,Ze);return Je}function oe(ze){if(ze&&"object"==typeof ze&&ze.constructor===this)return ze;var Ze=new this(ye);return qe(Ze,ze),Ze}te=L?function(){return z.nextTick(U)}:E?(Q=0,Y=new E(U),K=document.createTextNode(""),Y.observe(K,{characterData:!0}),function(){K.data=Q=++Q%2}):A?((Z=new MessageChannel).port1.onmessage=U,function(){return Z.port2.postMessage(0)}):void 0===m&&"function"==typeof d?function(){try{var ze=Function("return this")().require("vertx");return void 0!==(u=ze.runOnLoop||ze.runOnContext)?function(){u(U)}:R()}catch(Ze){return R()}}():R();var ie=Math.random().toString(36).substring(2);function ye(){}var Ve=void 0;function Le(ze,Ze,Xe){f(function(Je){var ct=!1,mt=function(ft,$t,xn,Ct){try{ft.call($t,function(ft){ct||(ct=!0,Ze!==ft?qe(Je,ft):tt(Je,ft))},function(ft){ct||(ct=!0,Qe(Je,ft))})}catch(Sn){return Sn}}(Xe,Ze);!ct&&mt&&(ct=!0,Qe(Je,mt))},ze)}function $e(ze,Ze,Xe){var Je,ct;Ze.constructor===ze.constructor&&Xe===q&&Ze.constructor.resolve===oe?(Je=ze,1===(ct=Ze)._state?tt(Je,ct._result):2===ct._state?Qe(Je,ct._result):ut(ct,void 0,function(mt){return qe(Je,mt)},function(mt){return Qe(Je,mt)})):void 0===Xe?tt(ze,Ze):M(Xe)?Le(ze,Ze,Xe):tt(ze,Ze)}function qe(ze,Ze){if(ze===Ze)Qe(ze,new TypeError("You cannot resolve a promise with itself"));else if(ct=typeof(Je=Ze),null===Je||"object"!=ct&&"function"!=ct)tt(ze,Ze);else{var Xe=void 0;try{Xe=Ze.then}catch(mt){return void Qe(ze,mt)}$e(ze,Ze,Xe)}var Je,ct}function We(ze){ze._onerror&&ze._onerror(ze._result),G(ze)}function tt(ze,Ze){ze._state===Ve&&(ze._result=Ze,ze._state=1,0!==ze._subscribers.length&&f(G,ze))}function Qe(ze,Ze){ze._state===Ve&&(ze._state=2,ze._result=Ze,f(We,ze))}function ut(ze,Ze,Xe,Je){var ct=ze._subscribers,mt=ct.length;ze._onerror=null,ct[mt]=Ze,ct[mt+1]=Xe,ct[mt+2]=Je,0===mt&&ze._state&&f(G,ze)}function G(ze){var Ze=ze._subscribers,Xe=ze._state;if(0!==Ze.length){for(var Je=void 0,ct=void 0,mt=ze._result,ft=0;ft<Ze.length;ft+=3)ct=Ze[ft+Xe],(Je=Ze[ft])?J(Xe,Je,ct,mt):ct(mt);ze._subscribers.length=0}}function J(ze,Ze,Xe,Je){var ct=M(Xe),mt=void 0,ft=void 0,$t=!0;if(ct){try{mt=Xe(Je)}catch(xn){$t=!1,ft=xn}if(Ze===mt)return void Qe(Ze,new TypeError("A promises callback cannot return that same promise."))}else mt=Je;Ze._state!==Ve||(ct&&$t?qe(Ze,mt):!1===$t?Qe(Ze,ft):1===ze?tt(Ze,mt):2===ze&&Qe(Ze,mt))}var ue=0;function Re(ze){ze[ie]=ue++,ze._state=void 0,ze._result=void 0,ze._subscribers=[]}var Ee=(Ie.prototype._enumerate=function(ze){for(var Ze=0;this._state===Ve&&Ze<ze.length;Ze++)this._eachEntry(ze[Ze],Ze)},Ie.prototype._eachEntry=function(ze,Ze){var Xe=this._instanceConstructor,Je=Xe.resolve;if(Je===oe){var ct=void 0,mt=void 0,ft=!1;try{ct=ze.then}catch(xn){ft=!0,mt=xn}if(ct===q&&ze._state!==Ve)this._settledAt(ze._state,Ze,ze._result);else if("function"!=typeof ct)this._remaining--,this._result[Ze]=ze;else if(Xe===Be){var $t=new Xe(ye);ft?Qe($t,mt):$e($t,ze,ct),this._willSettleAt($t,Ze)}else this._willSettleAt(new Xe(function(xn){return xn(ze)}),Ze)}else this._willSettleAt(Je(ze),Ze)},Ie.prototype._settledAt=function(ze,Ze,Xe){var Je=this.promise;Je._state===Ve&&(this._remaining--,2===ze?Qe(Je,Xe):this._result[Ze]=Xe),0===this._remaining&&tt(Je,this._result)},Ie.prototype._willSettleAt=function(ze,Ze){var Xe=this;ut(ze,void 0,function(Je){return Xe._settledAt(1,Ze,Je)},function(Je){return Xe._settledAt(2,Ze,Je)})},Ie);function Ie(ze,Ze){this._instanceConstructor=ze,this.promise=new ze(ye),this.promise[ie]||Re(this.promise),w(Ze)?(this.length=Ze.length,this._remaining=Ze.length,this._result=new Array(this.length),0===this.length?tt(this.promise,this._result):(this.length=this.length||0,this._enumerate(Ze),0===this._remaining&&tt(this.promise,this._result))):Qe(this.promise,new Error("Array Methods must be provided an Array"))}var Be=(ht.prototype.catch=function(ze){return this.then(null,ze)},ht.prototype.finally=function(ze){var Ze=this.constructor;return M(ze)?this.then(function(Xe){return Ze.resolve(ze()).then(function(){return Xe})},function(Xe){return Ze.resolve(ze()).then(function(){throw Xe})}):this.then(ze,ze)},ht);function ht(ze){this[ie]=ue++,this._result=this._state=void 0,this._subscribers=[],ye!==ze&&("function"!=typeof ze&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof ht?function(Ze,Xe){try{Xe(function(Je){qe(Ze,Je)},function(Je){Qe(Ze,Je)})}catch(Je){Qe(Ze,Je)}}(this,ze):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return Be.prototype.then=q,Be.all=function(ze){return new Ee(this,ze).promise},Be.race=function(ze){var Ze=this;return w(ze)?new Ze(function(Xe,Je){for(var ct=ze.length,mt=0;mt<ct;mt++)Ze.resolve(ze[mt]).then(Xe,Je)}):new Ze(function(Xe,Je){return Je(new TypeError("You must pass an array to race."))})},Be.resolve=oe,Be.reject=function(ze){var Ze=new this(ye);return Qe(Ze,ze),Ze},Be._setScheduler=function(ze){h=ze},Be._setAsap=function(ze){f=ze},Be._asap=f,Be.polyfill=function(){var ze=void 0;if(void 0!==v)ze=v;else if("undefined"!=typeof self)ze=self;else try{ze=Function("return this")()}catch(Je){throw new Error("polyfill failed because global object is unavailable in this environment")}var Ze=ze.Promise;if(Ze){var Xe=null;try{Xe=Object.prototype.toString.call(Ze.resolve())}catch(Je){}if("[object Promise]"===Xe&&!Ze.cast)return}ze.Promise=Be},Be.Promise=Be},"object"==typeof H&&void 0!==ee?ee.exports=C():this.ES6Promise=C()}).call(this,d("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:238}],231:[function(d,ee,H){!function(z,v){if(void 0!==H&&void 0!==ee)v(0,ee);else{var x={exports:{}};v(0,x),z.fetchJsonp=x.exports}}(this,function(z,v){"use strict";var C="callback";function M(g){try{delete window[g]}catch(u){window[g]=void 0}}function w(g){var u=document.getElementById(g);u&&document.getElementsByTagName("head")[0].removeChild(u)}v.exports=function(g){var u=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],h=g,f=u.timeout||5e3,m=u.jsonpCallback||C,b=void 0;return new Promise(function(E,L){var A=u.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),R=m+"_"+A;window[A]=function(U){E({ok:!0,json:function(){return Promise.resolve(U)}}),b&&clearTimeout(b),w(R),M(A)},h+=-1===h.indexOf("?")?"?":"&";var V=document.createElement("script");V.setAttribute("src",""+h+m+"="+A),u.charset&&V.setAttribute("charset",u.charset),V.id=R,document.getElementsByTagName("head")[0].appendChild(V),b=setTimeout(function(){L(new Error("JSONP request to "+g+" timed out")),M(A),w(R),window[A]=function(){M(A)}},f),V.onerror=function(){L(new Error("JSONP request to "+g+" failed")),M(A),w(R),b&&clearTimeout(b)}})}})},{}],232:[function(d,ee,H){var z=z||function(v){"use strict";if(!(void 0===v||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var C=function(){return v.URL||v.webkitURL||v},M=v.document.createElementNS("http://www.w3.org/1999/xhtml","a"),w="download"in M,g=/constructor/i.test(v.HTMLElement)||v.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent),h=function(L){(v.setImmediate||v.setTimeout)(function(){throw L},0)},f=function(L){setTimeout(function(){"string"==typeof L?C().revokeObjectURL(L):L.remove()},4e4)},m=function(L){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(L.type)?new Blob([String.fromCharCode(65279),L],{type:L.type}):L},b=function(L,A,R){function V(){!function(Y,K,te){for(var q=(K=[].concat(K)).length;q--;){var oe=Y["on"+K[q]];if("function"==typeof oe)try{oe.call(Y,Y)}catch(ie){h(ie)}}}(Z,"writestart progress write writeend".split(" "))}R||(L=m(L));var U,Z=this,Q="application/octet-stream"===L.type;if(Z.readyState=Z.INIT,w)return U=C().createObjectURL(L),void setTimeout(function(){var Y,K;M.href=U,M.download=A,Y=M,K=new MouseEvent("click"),Y.dispatchEvent(K),V(),f(U),Z.readyState=Z.DONE});!function(){if((u||Q&&g)&&v.FileReader){var Y=new FileReader;return Y.onloadend=function(){var K=u?Y.result:Y.result.replace(/^data:[^;]*;/,"data:attachment/file;");v.open(K,"_blank")||(v.location.href=K),K=void 0,Z.readyState=Z.DONE,V()},Y.readAsDataURL(L),Z.readyState=Z.INIT}U=U||C().createObjectURL(L),Q?v.location.href=U:v.open(U,"_blank")||(v.location.href=U),Z.readyState=Z.DONE,V(),f(U)}()},E=b.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(L,A,R){return A=A||L.name||"download",R||(L=m(L)),navigator.msSaveOrOpenBlob(L,A)}:(E.abort=function(){},E.readyState=E.INIT=0,E.WRITING=1,E.DONE=2,E.error=E.onwritestart=E.onprogress=E.onwrite=E.onabort=E.onerror=E.onwriteend=null,function(L,A,R){return new b(L,A||L.name||"download",R)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==ee&&ee.exports&&(ee.exports.saveAs=z)},{}],233:[function(d,ee,H){H.read=function(z,v,x,C,M){var w,g,u=8*M-C-1,h=(1<<u)-1,f=h>>1,m=-7,b=x?M-1:0,E=x?-1:1,L=z[v+b];for(b+=E,w=L&(1<<-m)-1,L>>=-m,m+=u;0<m;w=256*w+z[v+b],b+=E,m-=8);for(g=w&(1<<-m)-1,w>>=-m,m+=C;0<m;g=256*g+z[v+b],b+=E,m-=8);if(0===w)w=1-f;else{if(w===h)return g?NaN:1/0*(L?-1:1);g+=Math.pow(2,C),w-=f}return(L?-1:1)*g*Math.pow(2,w-C)},H.write=function(z,v,x,C,M,w){var g,u,h,f=8*w-M-1,m=(1<<f)-1,b=m>>1,E=23===M?Math.pow(2,-24)-Math.pow(2,-77):0,L=C?0:w-1,A=C?1:-1,R=v<0||0===v&&1/v<0?1:0;for(v=Math.abs(v),isNaN(v)||v===1/0?(u=isNaN(v)?1:0,g=m):(g=Math.floor(Math.log(v)/Math.LN2),v*(h=Math.pow(2,-g))<1&&(g--,h*=2),2<=(v+=1<=g+b?E/h:E*Math.pow(2,1-b))*h&&(g++,h/=2),m<=g+b?(u=0,g=m):1<=g+b?(u=(v*h-1)*Math.pow(2,M),g+=b):(u=v*Math.pow(2,b-1)*Math.pow(2,M),g=0));8<=M;z[x+L]=255&u,L+=A,u/=256,M-=8);for(g=g<<M|u,f+=M;0<f;z[x+L]=255&g,L+=A,g/=256,f-=8);z[x+L-A]|=128*R}},{}],234:[function(d,ee,H){"use strict";var z;function v(le,fe){return le.b===fe.b&&le.a===fe.a}function x(le,fe){return le.b<fe.b||le.b===fe.b&&le.a<=fe.a}function C(le,fe,ae){var pe=fe.b-le.b,Ne=ae.b-fe.b;return 0<pe+Ne?pe<Ne?fe.a-le.a+pe/(pe+Ne)*(le.a-ae.a):fe.a-ae.a+Ne/(pe+Ne)*(ae.a-le.a):0}function M(le,fe,ae){var pe=fe.b-le.b,Ne=ae.b-fe.b;return 0<pe+Ne?(fe.a-ae.a)*pe+(fe.a-le.a)*Ne:0}function w(le,fe){return le.a<fe.a||le.a===fe.a&&le.b<=fe.b}function g(le,fe,ae){var pe=fe.a-le.a,Ne=ae.a-fe.a;return 0<pe+Ne?pe<Ne?fe.b-le.b+pe/(pe+Ne)*(le.b-ae.b):fe.b-ae.b+Ne/(pe+Ne)*(ae.b-le.b):0}function u(le,fe,ae){var pe=fe.a-le.a,Ne=ae.a-fe.a;return 0<pe+Ne?(fe.b-ae.b)*pe+(fe.b-le.b)*Ne:0}function h(le,fe,ae,pe){return(le=le<0?0:le)<=(ae=ae<0?0:ae)?0===ae?(fe+pe)/2:fe+le/(le+ae)*(pe-fe):pe+ae/(le+ae)*(fe-pe)}function f(le){var fe=A(le.b);return V(fe,le.c),V(fe.b,le.c),U(fe,le.a),fe}function m(le,fe){var ae=!1,pe=!1;le!==fe&&(fe.a!==le.a&&(pe=!0,Q(fe.a,le.a)),fe.d!==le.d&&(ae=!0,Y(fe.d,le.d)),R(fe,le),pe||(V(fe,le.a),le.a.c=le),ae||(U(fe,le.d),le.d.a=le))}function b(le){var fe=le.b,ae=!1;le.d!==le.b.d&&(ae=!0,Y(le.d,le.b.d)),le.c===le?Q(le.a,null):(le.b.d.a=Je(le),le.a.c=le.c,R(le,Je(le)),ae||U(le,le.d)),fe.c===fe?(Q(fe.a,null),Y(fe.d,null)):(le.d.a=Je(fe),fe.a.c=fe.c,R(fe,Je(fe))),Z(le)}function E(le){var fe=A(le),ae=fe.b;return R(fe,le.e),fe.a=le.b.a,V(ae,fe.a),fe.d=ae.d=le.d,fe=fe.b,R(le.b,Je(le.b)),R(le.b,fe),le.b.a=fe.a,fe.b.a.c=fe.b,fe.b.d=le.b.d,fe.f=le.f,fe.b.f=le.b.f,fe}function L(le,fe){var ae=!1,pe=A(le),Ne=pe.b;return fe.d!==le.d&&(ae=!0,Y(fe.d,le.d)),R(pe,le.e),R(Ne,fe),pe.a=le.b.a,Ne.a=fe.a,pe.d=Ne.d=le.d,le.d.a=Ne,ae||U(pe,le.d),pe}function A(le){var fe=new Xe,ae=new Xe;return(((ae.h=le.b.h).b.h=fe).h=le).b.h=ae,fe.b=ae,((fe.c=fe).e=ae).b=fe,(ae.c=ae).e=fe}function R(le,fe){var ae=le.c,pe=fe.c;ae.b.e=fe,(pe.b.e=le).c=pe,fe.c=ae}function V(le,fe){var ae=fe.f,pe=new mt(fe,ae);for(ae.e=pe,ae=(fe.f=pe).c=le;ae.a=pe,(ae=ae.c)!==le;);}function U(le,fe){var ae=fe.d,pe=new Ze(fe,ae);for(ae.b=pe,(fe.d=pe).a=le,pe.c=fe.c,ae=le;ae.d=pe,(ae=ae.e)!==le;);}function Z(le){var fe=le.h;(fe.b.h=le=le.b.h).b.h=fe}function Q(le,fe){for(var ae=le.c,pe=ae;pe.a=fe,(pe=pe.c)!==ae;);((pe=le.e).f=ae=le.f).e=pe}function Y(le,fe){for(var ae=le.a,pe=ae;pe.d=fe,(pe=pe.e)!==ae;);((pe=le.b).d=ae=le.d).b=pe}function K(le){var fe=0;return Math.abs(le[1])>Math.abs(le[0])&&(fe=1),Math.abs(le[2])>Math.abs(le[fe])&&(fe=2),fe}function te(le,fe){le.f+=fe.f,le.b.f+=fe.b.f}function q(le,fe,ae){return ae=ae.a,(fe=fe.a).b.a===(le=le.a)?ae.b.a===le?x(fe.a,ae.a)?M(ae.b.a,fe.a,ae.a)<=0:0<=M(fe.b.a,ae.a,fe.a):M(ae.b.a,le,ae.a)<=0:ae.b.a===le?0<=M(fe.b.a,le,fe.a):(fe=C(fe.b.a,le,fe.a),(le=C(ae.b.a,le,ae.a))<=fe)}function oe(le){le.a.i=null;var fe=le.e;fe.a.c=fe.c,fe.c.a=fe.a,le.e=null}function ie(le,fe){b(le.a),le.c=!1,(le.a=fe).i=le}function ye(le){for(var fe=le.a.a;(le=At(le)).a.a===fe;);return le.c&&(ie(le,fe=L(Gt(le).a.b,le.a.e)),le=At(le)),le}function Ve(le,fe,ae){var pe=new Ge;return pe.a=ae,pe.e=Ee(le.f,fe.e,pe),ae.i=pe}function _e(le,fe){switch(le.s){case 100130:return 0!=(1&fe);case 100131:return 0!==fe;case 100132:return 0<fe;case 100133:return fe<0;case 100134:return 2<=fe||fe<=-2}return!1}function we(le){var fe=le.a,ae=fe.d;ae.c=le.d,ae.a=fe,oe(le)}function Le(le,fe,ae){for(fe=(le=fe).a;le!==ae;){le.c=!1;var pe=Gt(le),Ne=pe.a;if(Ne.a!==fe.a){if(!pe.c){we(le);break}ie(pe,Ne=L(fe.c.b,Ne.b))}fe.c!==Ne&&(m(Je(Ne),Ne),m(fe,Ne)),we(le),fe=pe.a,le=pe}return fe}function $e(le,fe,ae,pe,Ne,it){for(var pt=!0;Ve(le,fe,ae.b),(ae=ae.c)!==pe;);for(null===Ne&&(Ne=Gt(fe).a.b.c);(ae=(pe=Gt(fe)).a.b).a===Ne.a;)ae.c!==Ne&&(m(Je(ae),ae),m(Je(Ne),ae)),pe.f=fe.f-ae.f,pe.d=_e(le,pe.f),fe.b=!0,!pt&&Qe(le,fe)&&(te(ae,Ne),oe(fe),b(Ne)),pt=!1,fe=pe,Ne=ae;fe.b=!0,it&&G(le,fe)}function qe(le,fe,ae,pe,Ne){var it=[fe.g[0],fe.g[1],fe.g[2]];fe.d=null,fe.d=le.o&&le.o(it,ae,pe,le.c)||null,null===fe.d&&(Ne?le.n||(ze(le,100156),le.n=!0):fe.d=ae[0])}function We(le,fe,ae){var pe=[null,null,null,null];pe[0]=fe.a.d,pe[1]=ae.a.d,qe(le,fe.a,pe,[.5,.5,0,0],!1),m(fe,ae)}function tt(le,fe,ae,pe,Ne){var it=Math.abs(fe.b-le.b)+Math.abs(fe.a-le.a),pt=Math.abs(ae.b-le.b)+Math.abs(ae.a-le.a),It=Ne+1;pe[Ne]=.5*pt/(it+pt),pe[It]=.5*it/(it+pt),le.g[0]+=pe[Ne]*fe.g[0]+pe[It]*ae.g[0],le.g[1]+=pe[Ne]*fe.g[1]+pe[It]*ae.g[1],le.g[2]+=pe[Ne]*fe.g[2]+pe[It]*ae.g[2]}function Qe(le,fe){var ae=Gt(fe),pe=fe.a,Ne=ae.a;if(x(pe.a,Ne.a)){if(0<M(Ne.b.a,pe.a,Ne.a))return!1;if(v(pe.a,Ne.a)){if(pe.a!==Ne.a){ae=le.e;var it=pe.a.h;if(0<=it){var pt=(ae=ae.b).d,It=ae.e,Ye=ae.c,Xt=Ye[it];pt[Xt]=pt[ae.a],(Ye[pt[Xt]]=Xt)<=--ae.a&&(Xt<=1||x(It[pt[Xt>>1]],It[pt[Xt]])?Tt(ae,Xt):Jt(ae,Xt)),It[it]=null,Ye[it]=ae.b,ae.b=it}else for(ae.c[-(it+1)]=null;0<ae.a&&null===ae.c[ae.d[ae.a-1]];)--ae.a;We(le,Je(Ne),pe)}}else E(Ne.b),m(pe,Je(Ne)),fe.b=ae.b=!0}else{if(M(pe.b.a,Ne.a,pe.a)<0)return!1;At(fe).b=fe.b=!0,E(pe.b),m(Je(Ne),pe)}return!0}function ut(le,fe){var ae=Gt(fe),pe=fe.a,Ne=ae.a,it=pe.a,pt=Ne.a,It=pe.b.a,Ye=Ne.b.a,Xt=new mt;if(M(It,le.a,it),M(Ye,le.a,pt),it===pt||Math.min(it.a,It.a)>Math.max(pt.a,Ye.a))return!1;if(x(it,pt)){if(0<M(Ye,it,pt))return!1}else if(M(It,pt,it)<0)return!1;var _n,dn,ar=It,Kt=it,er=Ye,Nr=pt;if(x(ar,Kt)||(_n=ar,ar=Kt,Kt=_n),x(er,Nr)||(_n=er,er=Nr,Nr=_n),x(ar,er)||(_n=ar,ar=er,er=_n,_n=Kt,Kt=Nr,Nr=_n),x(er,Kt)?x(Kt,Nr)?((_n=C(ar,er,Kt))+(dn=C(er,Kt,Nr))<0&&(_n=-_n,dn=-dn),Xt.b=h(_n,er.b,dn,Kt.b)):((_n=M(ar,er,Kt))+(dn=-M(ar,Nr,Kt))<0&&(_n=-_n,dn=-dn),Xt.b=h(_n,er.b,dn,Nr.b)):Xt.b=(er.b+Kt.b)/2,w(ar,Kt)||(_n=ar,ar=Kt,Kt=_n),w(er,Nr)||(_n=er,er=Nr,Nr=_n),w(ar,er)||(_n=ar,ar=er,er=_n,_n=Kt,Kt=Nr,Nr=_n),w(er,Kt)?w(Kt,Nr)?((_n=g(ar,er,Kt))+(dn=g(er,Kt,Nr))<0&&(_n=-_n,dn=-dn),Xt.a=h(_n,er.a,dn,Kt.a)):((_n=u(ar,er,Kt))+(dn=-u(ar,Nr,Kt))<0&&(_n=-_n,dn=-dn),Xt.a=h(_n,er.a,dn,Nr.a)):Xt.a=(er.a+Kt.a)/2,x(Xt,le.a)&&(Xt.b=le.a.b,Xt.a=le.a.a),ar=x(it,pt)?it:pt,x(ar,Xt)&&(Xt.b=ar.b,Xt.a=ar.a),v(Xt,it)||v(Xt,pt))return Qe(le,fe),!1;if(!v(It,le.a)&&0<=M(It,le.a,Xt)||!v(Ye,le.a)&&M(Ye,le.a,Xt)<=0){if(Ye===le.a)return E(pe.b),m(Ne.b,pe),pe=Gt(fe=ye(fe)).a,Le(le,Gt(fe),ae),$e(le,fe,Je(pe),pe,pe,!0),!0;if(It!==le.a)return 0<=M(It,le.a,Xt)&&(At(fe).b=fe.b=!0,E(pe.b),pe.a.b=le.a.b,pe.a.a=le.a.a),M(Ye,le.a,Xt)<=0&&(fe.b=ae.b=!0,E(Ne.b),Ne.a.b=le.a.b,Ne.a.a=le.a.a),!1;for(E(Ne.b),m(pe.e,Je(Ne)),pt=(it=ae=fe).a.b.a;(it=At(it)).a.b.a===pt;);return it=Gt(fe=it).a.b.c,ae.a=Je(Ne),$e(le,fe,(Ne=Le(le,ae,null)).c,pe.b.c,it,!0),!0}return E(pe.b),E(Ne.b),m(Je(Ne),pe),pe.a.b=Xt.b,pe.a.a=Xt.a,pe.a.h=$t(le.e,pe.a),Ne=[0,0,0,0],Xt=[it.d,It.d,pt.d,Ye.d],(pe=pe.a).g[0]=pe.g[1]=pe.g[2]=0,tt(pe,it,It,Ne,0),tt(pe,pt,Ye,Ne,2),qe(le,pe,Xt,Ne,!0),At(fe).b=fe.b=ae.b=!0,!1}function G(le,fe){for(var ae=Gt(fe);;){for(;ae.b;)ae=Gt(fe=ae);if(!(fe.b||null!==(fe=At(ae=fe))&&fe.b))break;fe.b=!1;var pe,Ne=fe.a,it=ae.a;if(pe=Ne.b.a!==it.b.a)e:{var pt=Gt(pe=fe),It=pe.a,Ye=pt.a,Xt=void 0;if(x(It.b.a,Ye.b.a)){if(M(It.b.a,Ye.b.a,It.a)<0){pe=!1;break e}At(pe).b=pe.b=!0,Xt=E(It),m(Ye.b,Xt),Xt.d.c=pe.d}else{if(0<M(Ye.b.a,It.b.a,Ye.a)){pe=!1;break e}pe.b=pt.b=!0,Xt=E(Ye),m(It.e,Ye.b),Xt.b.d.c=pe.d}pe=!0}if(pe&&(ae.c?(oe(ae),b(it),it=(ae=Gt(fe)).a):fe.c&&(oe(fe),b(Ne),Ne=(fe=At(ae)).a)),Ne.a!==it.a)if(Ne.b.a===it.b.a||fe.c||ae.c||Ne.b.a!==le.a&&it.b.a!==le.a)Qe(le,fe);else if(ut(le,fe))break;Ne.a===it.a&&Ne.b.a===it.b.a&&(te(it,Ne),oe(fe),b(Ne),fe=At(ae))}}function J(le,fe){for(var ae=(le.a=fe).c;null===ae.i;)if((ae=ae.c)===fe.c){ae=le;var pe=fe;(pt=new Ge).a=pe.c.b;for(var Ne=(Ye=ae.f).a;null!==(Ne=Ne.a).b&&!Ye.c(Ye.b,pt,Ne.b););var it=Gt(Ye=Ne.b),pt=Ye.a;if(Ne=it.a,0===M(pt.b.a,pe,pt.a))v((pt=Ye.a).a,pe)||v(pt.b.a,pe)||(E(pt.b),Ye.c&&(b(pt.c),Ye.c=!1),m(pe.c,pt),J(ae,pe));else{var It=x(Ne.b.a,pt.b.a)?Ye:it;it=void 0,Ye.d||It.c?(it=It===Ye?L(pe.c.b,pt.e):L(Ne.b.c.b,pe.c).b,It.c?ie(It,it):((Ye=Ve(pt=ae,Ye,it)).f=At(Ye).f+Ye.a.f,Ye.d=_e(pt,Ye.f)),J(ae,pe)):$e(ae,Ye,pe.c,pe.c,null,!0)}return}if(Ye=(pt=Gt(ae=ye(ae.i))).a,(pt=Le(le,pt,null)).c===Ye){pt=(Ye=pt).c,Ne=Gt(ae);var Ye,Xt=!1;(it=ae.a).b.a!==(It=Ne.a).b.a&&ut(le,ae),v(it.a,le.a)&&(m(Je(pt),it),pt=Gt(ae=ye(ae)).a,Le(le,Gt(ae),Ne),Xt=!0),v(It.a,le.a)&&(m(Ye,Je(It)),Ye=Le(le,Ne,null),Xt=!0),Xt?$e(le,ae,Ye.c,pt,pt,!0):(pe=x(It.a,it.a)?Je(It):it,$e(le,ae,pe=L(Ye.c.b,pe),pe.c,pe.c,!1),pe.b.i.c=!0,G(le,ae))}else $e(le,ae,pt.c,Ye,Ye,!0)}function ue(le,fe){var ae=new Ge,pe=f(le.b);pe.a.b=4e150,pe.a.a=fe,pe.b.a.b=-4e150,pe.b.a.a=fe,le.a=pe.b.a,ae.a=pe,ae.f=0,ae.d=!1,ae.c=!1,ae.h=!0,ae.b=!1,pe=Ee(pe=le.f,pe.a,ae),ae.e=pe}function Re(le){this.a=new Ie,this.b=le,this.c=q}function Ee(le,fe,ae){for(;null!==(fe=fe.c).b&&!le.c(le.b,fe.b,ae););return le=new Ie(ae,fe.a,fe),fe.a.c=le,fe.a=le}function Ie(le,fe,ae){this.b=le||null,this.a=fe||this,this.c=ae||this}function Be(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function ht(le,fe){if(le.d!==fe)for(;le.d!==fe;)if(le.d<fe)switch(le.d){case 0:ze(le,100151),le.u(null);break;case 1:ze(le,100152),le.t()}else switch(le.d){case 2:ze(le,100154),le.v();break;case 1:ze(le,100153),le.w()}}function ze(le,fe){le.p&&le.p(fe,le.c)}function Ze(le,fe){this.b=le||this,this.d=fe||this,this.a=null,this.c=!1}function Xe(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Je(le){return le.b.e}function ct(){this.c=new mt,this.a=new Ze,this.b=new Xe,this.d=new Xe,this.b.b=this.d,this.d.b=this.b}function mt(le,fe){this.e=le||this,this.f=fe||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function ft(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Ct}function $t(le,fe){if(le.e){var ae,pe=le.b,Ne=++pe.a;return 2*Ne>pe.f&&(pe.f*=2,pe.c=Sn(pe.c,pe.f+1)),0===pe.b?ae=Ne:(ae=pe.b,pe.b=pe.c[pe.b]),pe.e[ae]=fe,pe.c[ae]=Ne,pe.d[Ne]=ae,pe.h&&Jt(pe,Ne),ae}return pe=le.a++,le.c[pe]=fe,-(pe+1)}function xn(le){if(0===le.a)return Et(le.b);var fe=le.c[le.d[le.a-1]];if(0!==le.b.a&&x(Gn(le.b),fe))return Et(le.b);for(;--le.a,0<le.a&&null===le.c[le.d[le.a-1]];);return fe}function Ct(){this.d=Sn([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function Sn(le,fe){for(var ae=Array(fe),pe=0;pe<le.length;pe++)ae[pe]=le[pe];for(;pe<fe;pe++)ae[pe]=0;return ae}function Gn(le){return le.e[le.d[1]]}function Et(le){var fe=le.d,ae=le.e,pe=le.c,Ne=fe[1],it=ae[Ne];return 0<le.a&&(fe[1]=fe[le.a],pe[fe[1]]=1,ae[Ne]=null,pe[Ne]=le.b,le.b=Ne,0<--le.a&&Tt(le,1)),it}function Tt(le,fe){for(var ae=le.d,pe=le.e,Ne=le.c,it=fe,pt=ae[it];;){var It=it<<1;It<le.a&&x(pe[ae[It+1]],pe[ae[It]])&&(It+=1);var Ye=ae[It];if(It>le.a||x(pe[pt],pe[Ye])){Ne[ae[it]=pt]=it;break}Ne[ae[it]=Ye]=it,it=It}}function Jt(le,fe){for(var ae=le.d,pe=le.e,Ne=le.c,it=fe,pt=ae[it];;){var It=it>>1,Ye=ae[It];if(0==It||x(pe[Ye],pe[pt])){Ne[ae[it]=pt]=it;break}Ne[ae[it]=Ye]=it,it=It}}function Ge(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Gt(le){return le.e.c.b}function At(le){return le.e.a.b}(z=Be.prototype).x=function(){ht(this,0)},z.B=function(le,fe){switch(le){case 100142:return;case 100140:switch(fe){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=fe)}break;case 100141:return void(this.m=!!fe);default:return void ze(this,100900)}ze(this,100901)},z.y=function(le){switch(le){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:ze(this,100900)}return!1},z.A=function(le,fe,ae){this.j[0]=le,this.j[1]=fe,this.j[2]=ae},z.z=function(le,fe){var ae=fe||null;switch(le){case 100100:case 100106:this.h=ae;break;case 100104:case 100110:this.l=ae;break;case 100101:case 100107:this.k=ae;break;case 100102:case 100108:this.i=ae;break;case 100103:case 100109:this.p=ae;break;case 100105:case 100111:this.o=ae;break;case 100112:this.r=ae;break;default:ze(this,100900)}},z.C=function(le,fe){var ae=!1,pe=[0,0,0];ht(this,2);for(var Ne=0;Ne<3;++Ne){var it=le[Ne];it<-1e150&&(it=-1e150,ae=!0),1e150<it&&(it=1e150,ae=!0),pe[Ne]=it}ae&&ze(this,100155),null===(ae=this.q)?m(ae=f(this.b),ae.b):(E(ae),ae=ae.e),ae.a.d=fe,ae.a.g[0]=pe[0],ae.a.g[1]=pe[1],ae.a.g[2]=pe[2],ae.f=1,ae.b.f=-1,this.q=ae},z.u=function(le){ht(this,0),this.d=1,this.b=new ct,this.c=le},z.t=function(){ht(this,1),this.d=2,this.q=null},z.v=function(){ht(this,2),this.d=1},z.w=function(){ht(this,1),this.d=0;var le,fe,ae=!1,pe=[Ye=this.j[0],Ne=this.j[1],pt=this.j[2]];if(0===Ye&&0===Ne&&0===pt){for(var Ne=[-2e150,-2e150,-2e150],it=[2e150,2e150,2e150],pt=[],It=[],Ye=(ae=this.b.c).e;Ye!==ae;Ye=Ye.e)for(var Xt=0;Xt<3;++Xt){var _n=Ye.g[Xt];_n<it[Xt]&&(it[Xt]=_n,It[Xt]=Ye),_n>Ne[Xt]&&(Ne[Xt]=_n,pt[Xt]=Ye)}if(Ye=0,Ne[1]-it[1]>Ne[0]-it[0]&&(Ye=1),Ne[2]-it[2]>Ne[Ye]-it[Ye]&&(Ye=2),it[Ye]>=Ne[Ye])pe[0]=0,pe[1]=0,pe[2]=1;else{for(Ne=0,it=It[Ye],It=[0,0,0],it=[it.g[0]-(pt=pt[Ye]).g[0],it.g[1]-pt.g[1],it.g[2]-pt.g[2]],Xt=[0,0,0],Ye=ae.e;Ye!==ae;Ye=Ye.e)Xt[0]=Ye.g[0]-pt.g[0],Xt[1]=Ye.g[1]-pt.g[1],Xt[2]=Ye.g[2]-pt.g[2],It[0]=it[1]*Xt[2]-it[2]*Xt[1],It[1]=it[2]*Xt[0]-it[0]*Xt[2],It[2]=it[0]*Xt[1]-it[1]*Xt[0],Ne<(_n=It[0]*It[0]+It[1]*It[1]+It[2]*It[2])&&(Ne=_n,pe[0]=It[0],pe[1]=It[1],pe[2]=It[2]);Ne<=0&&(pe[0]=pe[1]=pe[2]=0,pe[K(it)]=1)}ae=!0}for(Ne=((It=K(pe))+1)%3,pt=(It+2)%3,It=0<pe[It]?1:-1,pe=(Ye=this.b.c).e;pe!==Ye;pe=pe.e)pe.b=pe.g[Ne],pe.a=It*pe.g[pt];if(ae){for(pe=0,Ye=(ae=this.b.a).b;Ye!==ae;Ye=Ye.b)if(!((Ne=Ye.a).f<=0))for(;pe+=(Ne.a.b-Ne.b.a.b)*(Ne.a.a+Ne.b.a.a),(Ne=Ne.e)!==Ye.a;);if(pe<0)for(ae=(pe=this.b.c).e;ae!==pe;ae=ae.e)ae.a=-ae.a}for(this.n=!1,Ye=(pe=this.b.b).h;Ye!==pe;Ye=ae)ae=Ye.h,Ne=Ye.e,v(Ye.a,Ye.b.a)&&Ye.e.e!==Ye&&(We(this,Ne,Ye),b(Ye),Ne=(Ye=Ne).e),Ne.e===Ye&&(Ne!==Ye&&(Ne!==ae&&Ne!==ae.b||(ae=ae.h),b(Ne)),Ye!==ae&&Ye!==ae.b||(ae=ae.h),b(Ye));for(this.e=pe=new ft,Ye=(ae=this.b.c).e;Ye!==ae;Ye=Ye.e)Ye.h=$t(pe,Ye);for(function(dn){dn.d=[];for(var ar=0;ar<dn.a;ar++)dn.d[ar]=ar;var Kt;dn.d.sort((Kt=dn.c,function(er,Nr){return x(Kt[er],Kt[Nr])?1:-1})),dn.e=!0,function(Kt){for(var er=Kt.a;1<=er;--er)Tt(Kt,er);Kt.h=!0}(dn.b)}(pe),this.f=new Re(this),ue(this,-4e150),ue(this,4e150);null!==(pe=xn(this.e));){for(;;){e:if(Ye=this.e,0===Ye.a)ae=Gn(Ye.b);else if(ae=Ye.c[Ye.d[Ye.a-1]],0!==Ye.b.a&&(Ye=Gn(Ye.b),x(Ye,ae))){ae=Ye;break e}if(null===ae||!v(ae,pe))break;ae=xn(this.e),We(this,pe.c,ae.c)}J(this,pe)}for(this.a=this.f.a.a.b.a.a,pe=0;null!==(ae=this.f.a.a.b);)ae.h||++pe,oe(ae);for(this.f=null,(pe=this.e).b=null,pe.d=null,this.e=pe.c=null,Ye=(pe=this.b).a.b;Ye!==pe.a;Ye=ae)ae=Ye.b,(Ye=Ye.a).e.e===Ye&&(te(Ye.c,Ye),b(Ye));if(!this.n){if(pe=this.b,this.m)for(Ye=pe.b.h;Ye!==pe.b;Ye=ae)ae=Ye.h,Ye.b.d.c!==Ye.d.c?Ye.f=Ye.d.c?1:-1:b(Ye);else for(Ye=pe.a.b;Ye!==pe.a;Ye=ae)if(ae=Ye.b,Ye.c){for(Ye=Ye.a;x(Ye.b.a,Ye.a);Ye=Ye.c.b);for(;x(Ye.a,Ye.b.a);Ye=Ye.e);for(Ne=Ye.c.b,pt=void 0;Ye.e!==Ne;)if(x(Ye.b.a,Ne.a)){for(;Ne.e!==Ye&&(x((fe=Ne.e).b.a,fe.a)||M(Ne.a,Ne.b.a,Ne.e.b.a)<=0);)Ne=(pt=L(Ne.e,Ne)).b;Ne=Ne.c.b}else{for(;Ne.e!==Ye&&(x((le=Ye.c.b).a,le.b.a)||0<=M(Ye.b.a,Ye.a,Ye.c.b.a));)Ye=(pt=L(Ye,Ye.c.b)).b;Ye=Ye.e}for(;Ne.e.e!==Ye;)Ne=(pt=L(Ne.e,Ne)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(ae=(pe=this.b).a.b;ae!==pe.a;ae=ae.b)if(ae.c){for(this.h&&this.h(2,this.c),Ye=ae.a;this.k&&this.k(Ye.a.d,this.c),(Ye=Ye.e)!==ae.a;);this.i&&this.i(this.c)}}else{for(ae=!!this.l,Ye=!1,Ne=-1,pt=(pe=this.b).a.d;pt!==pe.a;pt=pt.d)if(pt.c)for(Ye||(this.h&&this.h(4,this.c),Ye=!0),It=pt.a;ae&&Ne!==(it=It.b.d.c?0:1)&&(Ne=it,this.l&&this.l(!!Ne,this.c)),this.k&&this.k(It.a.d,this.c),(It=It.e)!==pt.a;);Ye&&this.i&&this.i(this.c)}if(this.r){for(Ye=(pe=this.b).a.b;Ye!==pe.a;Ye=ae)if(ae=Ye.b,!Ye.c){for(pt=(Ne=Ye.a).e,It=void 0;pt=(It=pt).e,(It.d=null)===It.b.d&&(It.c===It?Q(It.a,null):(It.a.c=It.c,R(It,Je(It))),(it=It.b).c===it?Q(it.a,null):(it.a.c=it.c,R(it,Je(it))),Z(It)),It!==Ne;);Ne=Ye.d,((Ye=Ye.b).d=Ne).b=Ye}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:Be,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},Be.prototype.gluDeleteTess=Be.prototype.x,Be.prototype.gluTessProperty=Be.prototype.B,Be.prototype.gluGetTessProperty=Be.prototype.y,Be.prototype.gluTessNormal=Be.prototype.A,Be.prototype.gluTessCallback=Be.prototype.z,Be.prototype.gluTessVertex=Be.prototype.C,Be.prototype.gluTessBeginPolygon=Be.prototype.u,Be.prototype.gluTessBeginContour=Be.prototype.t,Be.prototype.gluTessEndContour=Be.prototype.v,Be.prototype.gluTessEndPolygon=Be.prototype.w,void 0!==ee&&(ee.exports=this.libtess)},{}],235:[function(d,ee,H){"use strict";function z(v,x,C,M){for(var w=v[x++],g=1<<w,u=1+g,h=1+u,f=w+1,m=(1<<f)-1,b=0,E=0,L=0,A=v[x++],R=new Int32Array(4096),V=null;;){for(;b<16&&0!==A;)E|=v[x++]<<b,b+=8,1===A?A=v[x++]:--A;if(b<f)break;var U=E&m;if(E>>=f,b-=f,U!=g){if(U==u)break;for(var Z=U<h?U:V,Q=0,Y=Z;g<Y;)Y=R[Y]>>8,++Q;var K=Y;if(M<L+Q+(Z!==U?1:0))return void console.log("Warning, gif stream longer than expected.");C[L++]=K;var te=L+=Q;for(Z!==U&&(C[L++]=K),Y=Z;Q--;)C[--te]=255&(Y=R[Y]),Y>>=8;null!==V&&h<4096&&(R[h++]=V<<8|K,m+1<=h&&f<12&&(++f,m=m<<1|1)),V=U}else h=1+u,m=(1<<(f=w+1))-1,V=null}return L!==M&&console.log("Warning, gif stream shorter than expected."),C}try{H.GifWriter=function(v,x,C,M){var w=0,g=void 0===(M=void 0===M?{}:M).loop?null:M.loop,u=void 0===M.palette?null:M.palette;if(x<=0||C<=0||65535<x||65535<C)throw new Error("Width/Height invalid.");function h(V){var U=V.length;if(U<2||256<U||U&U-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return U}v[w++]=71,v[w++]=73,v[w++]=70,v[w++]=56,v[w++]=57,v[w++]=97;var f=0,m=0;if(null!==u){for(var b=h(u);b>>=1;)++f;if(b=1<<f,--f,void 0!==M.background){if(b<=(m=M.background))throw new Error("Background index out of range.");if(0===m)throw new Error("Background index explicitly passed as 0.")}}if(v[w++]=255&x,v[w++]=x>>8&255,v[w++]=255&C,v[w++]=C>>8&255,v[w++]=(null!==u?128:0)|f,v[w++]=m,v[w++]=0,null!==u)for(var E=0,L=u.length;E<L;++E){var A=u[E];v[w++]=A>>16&255,v[w++]=A>>8&255,v[w++]=255&A}if(null!==g){if(g<0||65535<g)throw new Error("Loop count invalid.");v[w++]=33,v[w++]=255,v[w++]=11,v[w++]=78,v[w++]=69,v[w++]=84,v[w++]=83,v[w++]=67,v[w++]=65,v[w++]=80,v[w++]=69,v[w++]=50,v[w++]=46,v[w++]=48,v[w++]=3,v[w++]=1,v[w++]=255&g,v[w++]=g>>8&255,v[w++]=0}var R=!1;this.addFrame=function(V,U,Z,Q,Y,K){if(!0===R&&(--w,R=!1),K=void 0===K?{}:K,V<0||U<0||65535<V||65535<U)throw new Error("x/y invalid.");if(Z<=0||Q<=0||65535<Z||65535<Q)throw new Error("Width/Height invalid.");if(Y.length<Z*Q)throw new Error("Not enough pixels for the frame size.");var te=!0,q=K.palette;if(null==q&&(te=!1,q=u),null==q)throw new Error("Must supply either a local or global palette.");for(var oe=h(q),ie=0;oe>>=1;)++ie;oe=1<<ie;var ye=void 0===K.delay?0:K.delay,Ve=void 0===K.disposal?0:K.disposal;if(Ve<0||3<Ve)throw new Error("Disposal out of range.");var _e=!1,we=0;if(null!=K.transparent&&(_e=!0,(we=K.transparent)<0||oe<=we))throw new Error("Transparent color index.");if(0===Ve&&!_e&&0===ye||(v[w++]=33,v[w++]=249,v[w++]=4,v[w++]=Ve<<2|(!0===_e?1:0),v[w++]=255&ye,v[w++]=ye>>8&255,v[w++]=we,v[w++]=0),v[w++]=44,v[w++]=255&V,v[w++]=V>>8&255,v[w++]=255&U,v[w++]=U>>8&255,v[w++]=255&Z,v[w++]=Z>>8&255,v[w++]=255&Q,v[w++]=Q>>8&255,v[w++]=!0===te?128|ie-1:0,!0===te)for(var Le=0,$e=q.length;Le<$e;++Le){var qe=q[Le];v[w++]=qe>>16&255,v[w++]=qe>>8&255,v[w++]=255&qe}return w=function(We,tt,Qe,ut){We[tt++]=Qe;var G=tt++,J=1<<Qe,ue=J-1,Re=1+J,Ee=1+Re,Ie=Qe+1,Be=0,ht=0;function ze(Ct){for(;Ct<=Be;)We[tt++]=255&ht,ht>>=8,Be-=8,tt===G+256&&(We[G]=255,G=tt++)}function Ze(Ct){ht|=Ct<<Be,Be+=Ie,ze(8)}var Xe=ut[0]&ue,Je={};Ze(J);for(var ct=1,mt=ut.length;ct<mt;++ct){var ft=ut[ct]&ue,$t=Xe<<8|ft,xn=Je[$t];if(void 0===xn){for(ht|=Xe<<Be,Be+=Ie;8<=Be;)We[tt++]=255&ht,ht>>=8,Be-=8,tt===G+256&&(We[G]=255,G=tt++);4096===Ee?(Ze(J),Ee=1+Re,Ie=Qe+1,Je={}):(1<<Ie<=Ee&&++Ie,Je[$t]=Ee++),Xe=ft}else Xe=xn}return Ze(Xe),Ze(Re),ze(1),G+1===tt?We[G]=0:(We[G]=tt-G-1,We[tt++]=0),tt}(v,w,ie<2?2:ie,Y)},this.end=function(){return!1===R&&(v[w++]=59,R=!0),w},this.getOutputBuffer=function(){return v},this.setOutputBuffer=function(V){v=V},this.getOutputBufferPosition=function(){return w},this.setOutputBufferPosition=function(V){w=V}},H.GifReader=function(v){var x=0;if(71!==v[x++]||73!==v[x++]||70!==v[x++]||56!==v[x++]||56!=(v[x++]+1&253)||97!==v[x++])throw new Error("Invalid GIF 87a/89a header.");var C=v[x++]|v[x++]<<8,M=v[x++]|v[x++]<<8,w=v[x++];x++,x++;var h=null,f=null;w>>7&&(h=x,x+=3*(f=1<<1+(7&w)));var m=!0,b=[],E=0,L=null,A=0,R=null;for(this.width=C,this.height=M;m&&x<v.length;)switch(v[x++]){case 33:switch(v[x++]){case 255:if(11!==v[x]||78==v[x+1]&&69==v[x+2]&&84==v[x+3]&&83==v[x+4]&&67==v[x+5]&&65==v[x+6]&&80==v[x+7]&&69==v[x+8]&&50==v[x+9]&&46==v[x+10]&&48==v[x+11]&&3==v[x+12]&&1==v[x+13]&&0==v[x+16])x+=14,R=v[x++]|v[x++]<<8,x++;else for(x+=12;;){if(!(0<=(_e=v[x++])))throw Error("Invalid block size");if(0===_e)break;x+=_e}break;case 249:if(4!==v[x++]||0!==v[x+4])throw new Error("Invalid graphics extension block.");var V=v[x++];E=v[x++]|v[x++]<<8,L=v[x++],0==(1&V)&&(L=null),A=V>>2&7,x++;break;case 254:for(;;){if(!(0<=(_e=v[x++])))throw Error("Invalid block size");if(0===_e)break;x+=_e}break;default:throw new Error("Unknown graphic control label: 0x"+v[x-1].toString(16))}break;case 44:var U=v[x++]|v[x++]<<8,Z=v[x++]|v[x++]<<8,Q=v[x++]|v[x++]<<8,Y=v[x++]|v[x++]<<8,K=v[x++],te=K>>6&1,oe=h,ie=f,ye=!1;K>>7&&(ye=!0,oe=x,x+=3*(ie=1<<1+(7&K)));var Ve=x;for(x++;;){var _e;if(!(0<=(_e=v[x++])))throw Error("Invalid block size");if(0===_e)break;x+=_e}b.push({x:U,y:Z,width:Q,height:Y,has_local_palette:ye,palette_offset:oe,palette_size:ie,data_offset:Ve,data_length:x-Ve,transparent_index:L,interlaced:!!te,delay:E,disposal:A});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+v[x-1].toString(16))}this.numFrames=function(){return b.length},this.loopCount=function(){return R},this.frameInfo=function(we){if(we<0||we>=b.length)throw new Error("Frame index out of range.");return b[we]},this.decodeAndBlitFrameBGRA=function(we,Le){var $e=this.frameInfo(we),qe=$e.width*$e.height,We=new Uint8Array(qe);z(v,$e.data_offset,We,qe);var tt=$e.palette_offset,Qe=$e.transparent_index;null===Qe&&(Qe=256);var ut=$e.width,G=C-ut,J=ut,ue=4*($e.y*C+$e.x),Re=4*(($e.y+$e.height)*C+$e.x),Ee=ue,Ie=4*G;!0===$e.interlaced&&(Ie+=4*C*7);for(var Be=8,ht=0,ze=We.length;ht<ze;++ht){var Ze=We[ht];if(0===J&&(J=ut,Re<=(Ee+=Ie)&&(Ie=4*G+4*C*(Be-1),Ee=ue+(ut+G)*(Be<<1),Be>>=1)),Ze===Qe)Ee+=4;else{var Xe=v[tt+3*Ze],Je=v[tt+3*Ze+1];Le[Ee++]=v[tt+3*Ze+2],Le[Ee++]=Je,Le[Ee++]=Xe,Le[Ee++]=255}--J}},this.decodeAndBlitFrameRGBA=function(we,Le){var $e=this.frameInfo(we),qe=$e.width*$e.height,We=new Uint8Array(qe);z(v,$e.data_offset,We,qe);var tt=$e.palette_offset,Qe=$e.transparent_index;null===Qe&&(Qe=256);var ut=$e.width,G=C-ut,J=ut,ue=4*($e.y*C+$e.x),Re=4*(($e.y+$e.height)*C+$e.x),Ee=ue,Ie=4*G;!0===$e.interlaced&&(Ie+=4*C*7);for(var Be=8,ht=0,ze=We.length;ht<ze;++ht){var Ze=We[ht];if(0===J&&(J=ut,Re<=(Ee+=Ie)&&(Ie=4*G+4*C*(Be-1),Ee=ue+(ut+G)*(Be<<1),Be>>=1)),Ze===Qe)Ee+=4;else{var Je=v[tt+3*Ze+1],ct=v[tt+3*Ze+2];Le[Ee++]=v[tt+3*Ze],Le[Ee++]=Je,Le[Ee++]=ct,Le[Ee++]=255}--J}}}}catch(v){}},{}],236:[function(d,ee,H){(function(z){!function(x){"use strict";function C(y){if(null==this)throw TypeError();var T=String(this),P=T.length,O=y?Number(y):0;if(O!=O&&(O=0),!(O<0||P<=O)){var j,W=T.charCodeAt(O);return 55296<=W&&W<=56319&&O+1<P&&56320<=(j=T.charCodeAt(O+1))&&j<=57343?1024*(W-55296)+j-56320+65536:W}}var M;String.prototype.codePointAt||((M=function(){try{var y={},T=Object.defineProperty,P=T(y,y,y)&&T}catch(O){}return P}())?M(String.prototype,"codePointAt",{value:C,configurable:!0,writable:!0}):String.prototype.codePointAt=C);function u(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function h(y,T){this.source=y,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=T,this.destLen=0,this.ltree=new u,this.dtree=new u}var f=new u,m=new u,b=new Uint8Array(30),E=new Uint16Array(30),L=new Uint8Array(30),A=new Uint16Array(30),R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),V=new u,U=new Uint8Array(320);function Z(y,T,P,O){var j,W;for(j=0;j<P;++j)y[j]=0;for(j=0;j<30-P;++j)y[j+P]=j/P|0;for(W=O,j=0;j<30;++j)T[j]=W,W+=1<<y[j]}var Q=new Uint16Array(16);function Y(y,T,P,O){var j,W;for(j=0;j<16;++j)y.table[j]=0;for(j=0;j<O;++j)y.table[T[P+j]]++;for(j=W=y.table[0]=0;j<16;++j)Q[j]=W,W+=y.table[j];for(j=0;j<O;++j)T[P+j]&&(y.trans[Q[T[P+j]]++]=j)}function K(y){y.bitcount--||(y.tag=y.source[y.sourceIndex++],y.bitcount=7);var T=1&y.tag;return y.tag>>>=1,T}function te(y,T,P){if(!T)return P;for(;y.bitcount<24;)y.tag|=y.source[y.sourceIndex++]<<y.bitcount,y.bitcount+=8;var O=y.tag&65535>>>16-T;return y.tag>>>=T,y.bitcount-=T,O+P}function q(y,T){for(;y.bitcount<24;)y.tag|=y.source[y.sourceIndex++]<<y.bitcount,y.bitcount+=8;for(var P=0,O=0,j=0,W=y.tag;O=2*O+(1&W),W>>>=1,++j,P+=T.table[j],0<=(O-=T.table[j]););return y.tag=W,y.bitcount-=j,T.trans[P+O]}function oe(y,T,P){var O,j,W,ne,ce,me;for(O=te(y,5,257),j=te(y,5,1),W=te(y,4,4),ne=0;ne<19;++ne)U[ne]=0;for(ne=0;ne<W;++ne){var Pe=te(y,3,0);U[R[ne]]=Pe}for(Y(V,U,0,19),ce=0;ce<O+j;){var Ue=q(y,V);switch(Ue){case 16:var nt=U[ce-1];for(me=te(y,2,3);me;--me)U[ce++]=nt;break;case 17:for(me=te(y,3,3);me;--me)U[ce++]=0;break;case 18:for(me=te(y,7,11);me;--me)U[ce++]=0;break;default:U[ce++]=Ue}}Y(T,U,0,O),Y(P,U,O,j)}function ie(y,T,P){for(;;){var O,j,W,ne,ce=q(y,T);if(256===ce)return 0;if(ce<256)y.dest[y.destLen++]=ce;else for(O=te(y,b[ce-=257],E[ce]),j=q(y,P),ne=W=y.destLen-te(y,L[j],A[j]);ne<W+O;++ne)y.dest[y.destLen++]=y.dest[ne]}}function ye(y){for(var T,P;8<y.bitcount;)y.sourceIndex--,y.bitcount-=8;if((T=256*(T=y.source[y.sourceIndex+1])+y.source[y.sourceIndex])!==(65535&~(256*y.source[y.sourceIndex+3]+y.source[y.sourceIndex+2])))return-3;for(y.sourceIndex+=4,P=T;P;--P)y.dest[y.destLen++]=y.source[y.sourceIndex++];return y.bitcount=0,0}(function(y,T){var P;for(P=0;P<7;++P)y.table[P]=0;for(y.table[7]=24,y.table[8]=152,y.table[9]=112,P=0;P<24;++P)y.trans[P]=256+P;for(P=0;P<144;++P)y.trans[24+P]=P;for(P=0;P<8;++P)y.trans[168+P]=280+P;for(P=0;P<112;++P)y.trans[176+P]=144+P;for(P=0;P<5;++P)T.table[P]=0;for(T.table[5]=32,P=0;P<32;++P)T.trans[P]=P})(f,m),Z(b,E,4,3),Z(L,A,2,1),b[28]=0,E[28]=258;function _e(y,T,P,O,j){return Math.pow(1-j,3)*y+3*Math.pow(1-j,2)*j*T+3*(1-j)*Math.pow(j,2)*P+Math.pow(j,3)*O}function we(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function Le(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function $e(y){throw new Error(y)}function qe(y,T){y||$e(T)}we.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},we.prototype.addPoint=function(y,T){"number"==typeof y&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=y,this.x2=y),y<this.x1&&(this.x1=y),y>this.x2&&(this.x2=y)),"number"==typeof T&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=T,this.y2=T),T<this.y1&&(this.y1=T),T>this.y2&&(this.y2=T))},we.prototype.addX=function(y){this.addPoint(y,null)},we.prototype.addY=function(y){this.addPoint(null,y)},we.prototype.addBezier=function(y,T,P,O,j,W,ne,ce){var me=[y,T],Pe=[P,O],Ue=[j,W],nt=[ne,ce];this.addPoint(y,T),this.addPoint(ne,ce);for(var be=0;be<=1;be++){var Qt=6*me[be]-12*Pe[be]+6*Ue[be],Ht=-3*me[be]+9*Pe[be]-9*Ue[be]+3*nt[be],St=3*Pe[be]-3*me[be];if(0!=Ht){var dt=Math.pow(Qt,2)-4*St*Ht;if(!(dt<0)){var bt=(-Qt+Math.sqrt(dt))/(2*Ht);0<bt&&bt<1&&(0===be&&this.addX(_e(me[be],Pe[be],Ue[be],nt[be],bt)),1===be&&this.addY(_e(me[be],Pe[be],Ue[be],nt[be],bt)));var Cn=(-Qt-Math.sqrt(dt))/(2*Ht);0<Cn&&Cn<1&&(0===be&&this.addX(_e(me[be],Pe[be],Ue[be],nt[be],Cn)),1===be&&this.addY(_e(me[be],Pe[be],Ue[be],nt[be],Cn)))}}else{if(0==Qt)continue;var bn=-St/Qt;0<bn&&bn<1&&(0===be&&this.addX(_e(me[be],Pe[be],Ue[be],nt[be],bn)),1===be&&this.addY(_e(me[be],Pe[be],Ue[be],nt[be],bn)))}}},we.prototype.addQuad=function(y,T,P,O,j,W){var ne=y+2/3*(P-y),ce=T+2/3*(O-T);this.addBezier(y,T,ne,ce,ne+1/3*(j-y),ce+1/3*(W-T),j,W)},Le.prototype.moveTo=function(y,T){this.commands.push({type:"M",x:y,y:T})},Le.prototype.lineTo=function(y,T){this.commands.push({type:"L",x:y,y:T})},Le.prototype.curveTo=Le.prototype.bezierCurveTo=function(y,T,P,O,j,W){this.commands.push({type:"C",x1:y,y1:T,x2:P,y2:O,x:j,y:W})},Le.prototype.quadTo=Le.prototype.quadraticCurveTo=function(y,T,P,O){this.commands.push({type:"Q",x1:y,y1:T,x:P,y:O})},Le.prototype.close=Le.prototype.closePath=function(){this.commands.push({type:"Z"})},Le.prototype.extend=function(y){if(y.commands)y=y.commands;else if(y instanceof we){var T=y;return this.moveTo(T.x1,T.y1),this.lineTo(T.x2,T.y1),this.lineTo(T.x2,T.y2),this.lineTo(T.x1,T.y2),void this.close()}Array.prototype.push.apply(this.commands,y)},Le.prototype.getBoundingBox=function(){for(var y=new we,T=0,P=0,O=0,j=0,W=0;W<this.commands.length;W++){var ne=this.commands[W];switch(ne.type){case"M":y.addPoint(ne.x,ne.y),T=O=ne.x,P=j=ne.y;break;case"L":y.addPoint(ne.x,ne.y),O=ne.x,j=ne.y;break;case"Q":y.addQuad(O,j,ne.x1,ne.y1,ne.x,ne.y),O=ne.x,j=ne.y;break;case"C":y.addBezier(O,j,ne.x1,ne.y1,ne.x2,ne.y2,ne.x,ne.y),O=ne.x,j=ne.y;break;case"Z":O=T,j=P;break;default:throw new Error("Unexpected path command "+ne.type)}}return y.isEmpty()&&y.addPoint(0,0),y},Le.prototype.draw=function(y){y.beginPath();for(var T=0;T<this.commands.length;T+=1){var P=this.commands[T];"M"===P.type?y.moveTo(P.x,P.y):"L"===P.type?y.lineTo(P.x,P.y):"C"===P.type?y.bezierCurveTo(P.x1,P.y1,P.x2,P.y2,P.x,P.y):"Q"===P.type?y.quadraticCurveTo(P.x1,P.y1,P.x,P.y):"Z"===P.type&&y.closePath()}this.fill&&(y.fillStyle=this.fill,y.fill()),this.stroke&&(y.strokeStyle=this.stroke,y.lineWidth=this.strokeWidth,y.stroke())},Le.prototype.toPathData=function(y){function T(){for(var W,ne=arguments,ce="",me=0;me<arguments.length;me+=1){var Pe=ne[me];0<=Pe&&0<me&&(ce+=" "),ce+=(W=Pe,Math.round(W)===W?""+Math.round(W):W.toFixed(y))}return ce}y=void 0!==y?y:2;for(var P="",O=0;O<this.commands.length;O+=1){var j=this.commands[O];"M"===j.type?P+="M"+T(j.x,j.y):"L"===j.type?P+="L"+T(j.x,j.y):"C"===j.type?P+="C"+T(j.x1,j.y1,j.x2,j.y2,j.x,j.y):"Q"===j.type?P+="Q"+T(j.x1,j.y1,j.x,j.y):"Z"===j.type&&(P+="Z")}return P},Le.prototype.toSVG=function(y){var T='<path d="';return T+=this.toPathData(y),T+='"',this.fill&&"black"!==this.fill&&(T+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(T+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),T+"/>"},Le.prototype.toDOMElement=function(y){var T=this.toPathData(y),P=document.createElementNS("http://www.w3.org/2000/svg","path");return P.setAttribute("d",T),P};var We={fail:$e,argument:qe,assert:qe},tt={},Qe={},ut={};function G(y){return function(){return y}}Qe.BYTE=function(y){return We.argument(0<=y&&y<=255,"Byte value should be between 0 and 255."),[y]},ut.BYTE=G(1),Qe.CHAR=function(y){return[y.charCodeAt(0)]},ut.CHAR=G(1),Qe.CHARARRAY=function(y){for(var T=[],P=0;P<y.length;P+=1)T[P]=y.charCodeAt(P);return T},ut.CHARARRAY=function(y){return y.length},Qe.USHORT=function(y){return[y>>8&255,255&y]},ut.USHORT=G(2),Qe.SHORT=function(y){return 32768<=y&&(y=-(65536-y)),[y>>8&255,255&y]},ut.SHORT=G(2),Qe.UINT24=function(y){return[y>>16&255,y>>8&255,255&y]},ut.UINT24=G(3),Qe.ULONG=function(y){return[y>>24&255,y>>16&255,y>>8&255,255&y]},ut.ULONG=G(4),Qe.LONG=function(y){return 2147483648<=y&&(y=-(4294967296-y)),[y>>24&255,y>>16&255,y>>8&255,255&y]},ut.LONG=G(4),Qe.FIXED=Qe.ULONG,ut.FIXED=ut.ULONG,Qe.FWORD=Qe.SHORT,ut.FWORD=ut.SHORT,Qe.UFWORD=Qe.USHORT,ut.UFWORD=ut.USHORT,Qe.LONGDATETIME=function(y){return[0,0,0,0,y>>24&255,y>>16&255,y>>8&255,255&y]},ut.LONGDATETIME=G(8),Qe.TAG=function(y){return We.argument(4===y.length,"Tag should be exactly 4 ASCII characters."),[y.charCodeAt(0),y.charCodeAt(1),y.charCodeAt(2),y.charCodeAt(3)]},ut.TAG=G(4),Qe.Card8=Qe.BYTE,ut.Card8=ut.BYTE,Qe.Card16=Qe.USHORT,ut.Card16=ut.USHORT,Qe.OffSize=Qe.BYTE,ut.OffSize=ut.BYTE,Qe.SID=Qe.USHORT,ut.SID=ut.USHORT,Qe.NUMBER=function(y){return-107<=y&&y<=107?[y+139]:108<=y&&y<=1131?[247+((y-=108)>>8),255&y]:-1131<=y&&y<=-108?[251+((y=-y-108)>>8),255&y]:-32768<=y&&y<=32767?Qe.NUMBER16(y):Qe.NUMBER32(y)},ut.NUMBER=function(y){return Qe.NUMBER(y).length},Qe.NUMBER16=function(y){return[28,y>>8&255,255&y]},ut.NUMBER16=G(3),Qe.NUMBER32=function(y){return[29,y>>24&255,y>>16&255,y>>8&255,255&y]},ut.NUMBER32=G(5),Qe.REAL=function(y){var T=y.toString(),P=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(T);if(P){var O=parseFloat("1e"+((P[2]?+P[2]:0)+P[1].length));T=(Math.round(y*O)/O).toString()}for(var j="",W=0,ne=T.length;W<ne;W+=1){var ce=T[W];j+="e"===ce?"-"===T[++W]?"c":"b":"."===ce?"a":"-"===ce?"e":ce}for(var me=[30],Pe=0,Ue=(j+=1&j.length?"f":"ff").length;Pe<Ue;Pe+=2)me.push(parseInt(j.substr(Pe,2),16));return me},ut.REAL=function(y){return Qe.REAL(y).length},Qe.NAME=Qe.CHARARRAY,ut.NAME=ut.CHARARRAY,Qe.STRING=Qe.CHARARRAY,ut.STRING=ut.CHARARRAY,tt.UTF8=function(y,T,P){for(var O=[],j=P,W=0;W<j;W++,T+=1)O[W]=y.getUint8(T);return String.fromCharCode.apply(null,O)},tt.UTF16=function(y,T,P){for(var O=[],j=P/2,W=0;W<j;W++,T+=2)O[W]=y.getUint16(T);return String.fromCharCode.apply(null,O)},Qe.UTF16=function(y){for(var T=[],P=0;P<y.length;P+=1){var O=y.charCodeAt(P);T[T.length]=O>>8&255,T[T.length]=255&O}return T},ut.UTF16=function(y){return 2*y.length};var J={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"};tt.MACSTRING=function(y,T,P,O){var j=J[O];if(void 0!==j){for(var W="",ne=0;ne<P;ne++){var ce=y.getUint8(T+ne);W+=ce<=127?String.fromCharCode(ce):j[127&ce]}return W}};var ue,Re="function"==typeof WeakMap&&new WeakMap;function Ee(y){return-128<=y&&y<=127}function Ie(y,T,P){for(var O=0,j=y.length;T<j&&O<64&&0===y[T];)++T,++O;return P.push(128|O-1),T}function Be(y,T,P){for(var O=0,j=y.length,W=T;W<j&&O<64;){var ne=y[W];if(!Ee(ne)||0===ne&&W+1<j&&0===y[W+1])break;++W,++O}P.push(O-1);for(var ce=T;ce<W;++ce)P.push(y[ce]+256&255);return W}function ht(y,T,P){for(var O=0,j=y.length,W=T;W<j&&O<64;){var ne=y[W];if(0===ne||Ee(ne)&&W+1<j&&Ee(y[W+1]))break;++W,++O}P.push(64|O-1);for(var ce=T;ce<W;++ce){var me=y[ce];P.push(me+65536>>8&255,me+256&255)}return W}Qe.MACSTRING=function(y,T){var P=function(ne){if(!ue)for(var ce in ue={},J)ue[ce]=new String(ce);var me=ue[ne];if(void 0!==me){if(Re){var Pe=Re.get(me);if(void 0!==Pe)return Pe}var Ue=J[ne];if(void 0!==Ue){for(var nt={},be=0;be<Ue.length;be++)nt[Ue.charCodeAt(be)]=be+128;return Re&&Re.set(me,nt),nt}}}(T);if(void 0!==P){for(var O=[],j=0;j<y.length;j++){var W=y.charCodeAt(j);if(128<=W&&void 0===(W=P[W]))return;O[j]=W}return O}},ut.MACSTRING=function(y,T){var P=Qe.MACSTRING(y,T);return void 0!==P?P.length:0},Qe.VARDELTAS=function(y){for(var T=0,P=[];T<y.length;){var O=y[T];T=0===O?Ie(y,T,P):-128<=O&&O<=127?Be(y,T,P):ht(y,T,P)}return P},Qe.INDEX=function(y){for(var T=1,P=[T],O=[],j=0;j<y.length;j+=1){var W=Qe.OBJECT(y[j]);Array.prototype.push.apply(O,W),P.push(T+=W.length)}if(0===O.length)return[0,0];for(var ne=[],ce=1+Math.floor(Math.log(T)/Math.log(2))/8|0,me=[void 0,Qe.BYTE,Qe.USHORT,Qe.UINT24,Qe.ULONG][ce],Pe=0;Pe<P.length;Pe+=1){var Ue=me(P[Pe]);Array.prototype.push.apply(ne,Ue)}return Array.prototype.concat(Qe.Card16(y.length),Qe.OffSize(ce),ne,O)},ut.INDEX=function(y){return Qe.INDEX(y).length},Qe.DICT=function(y){for(var T=[],P=Object.keys(y),O=P.length,j=0;j<O;j+=1){var W=parseInt(P[j],0),ne=y[W];T=(T=T.concat(Qe.OPERAND(ne.value,ne.type))).concat(Qe.OPERATOR(W))}return T},ut.DICT=function(y){return Qe.DICT(y).length},Qe.OPERATOR=function(y){return y<1200?[y]:[12,y-1200]},Qe.OPERAND=function(y,T){var P=[];if(Array.isArray(T))for(var O=0;O<T.length;O+=1)We.argument(y.length===T.length,"Not enough arguments given for type"+T),P=P.concat(Qe.OPERAND(y[O],T[O]));else if("SID"===T)P=P.concat(Qe.NUMBER(y));else if("offset"===T)P=P.concat(Qe.NUMBER32(y));else if("number"===T)P=P.concat(Qe.NUMBER(y));else{if("real"!==T)throw new Error("Unknown operand type "+T);P=P.concat(Qe.REAL(y))}return P},Qe.OP=Qe.BYTE,ut.OP=ut.BYTE;var ze="function"==typeof WeakMap&&new WeakMap;function Ze(y,T,P){for(var O=0;O<T.length;O+=1){var j=T[O];this[j.name]=j.value}if(this.tableName=y,this.fields=T,P)for(var W=Object.keys(P),ne=0;ne<W.length;ne+=1){var ce=W[ne];void 0!==this[ce]&&(this[ce]=P[ce])}}function Xe(y,T,P){void 0===P&&(P=T.length);var O=new Array(T.length+1);O[0]={name:y+"Count",type:"USHORT",value:P};for(var j=0;j<T.length;j++)O[j+1]={name:y+j,type:"USHORT",value:T[j]};return O}function Je(y,T,P){var O=T.length,j=new Array(O+1);j[0]={name:y+"Count",type:"USHORT",value:O};for(var W=0;W<O;W++)j[W+1]={name:y+W,type:"TABLE",value:P(T[W],W)};return j}function ct(y,T,P){var O=T.length,j=[];j[0]={name:y+"Count",type:"USHORT",value:O};for(var W=0;W<O;W++)j=j.concat(P(T[W],W));return j}function mt(y){1===y.format?Ze.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Xe("glyph",y.glyphs))):We.assert(!1,"Can't create coverage table format 2 yet.")}function ft(y){Ze.call(this,"scriptListTable",ct("scriptRecord",y,function(T,P){var O=T.script,j=O.defaultLangSys;return We.assert(!!j,"Unable to write GSUB: script "+T.tag+" has no default language system."),[{name:"scriptTag"+P,type:"TAG",value:T.tag},{name:"script"+P,type:"TABLE",value:new Ze("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Ze("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:j.reqFeatureIndex}].concat(Xe("featureIndex",j.featureIndexes)))}].concat(ct("langSys",O.langSysRecords,function(W,ne){var ce=W.langSys;return[{name:"langSysTag"+ne,type:"TAG",value:W.tag},{name:"langSys"+ne,type:"TABLE",value:new Ze("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:ce.reqFeatureIndex}].concat(Xe("featureIndex",ce.featureIndexes)))}]})))}]}))}function $t(y){Ze.call(this,"featureListTable",ct("featureRecord",y,function(T,P){var O=T.feature;return[{name:"featureTag"+P,type:"TAG",value:T.tag},{name:"feature"+P,type:"TABLE",value:new Ze("featureTable",[{name:"featureParams",type:"USHORT",value:O.featureParams}].concat(Xe("lookupListIndex",O.lookupListIndexes)))}]}))}function xn(y,T){Ze.call(this,"lookupListTable",Je("lookup",y,function(P){var O=T[P.lookupType];return We.assert(!!O,"Unable to write GSUB lookup type "+P.lookupType+" tables."),new Ze("lookupTable",[{name:"lookupType",type:"USHORT",value:P.lookupType},{name:"lookupFlag",type:"USHORT",value:P.lookupFlag}].concat(Je("subtable",P.subtables,O)))}))}Qe.CHARSTRING=function(y){if(ze){var T=ze.get(y);if(void 0!==T)return T}for(var P=[],O=y.length,j=0;j<O;j+=1){var W=y[j];P=P.concat(Qe[W.type](W.value))}return ze&&ze.set(y,P),P},ut.CHARSTRING=function(y){return Qe.CHARSTRING(y).length},Qe.OBJECT=function(y){var T=Qe[y.type];return We.argument(void 0!==T,"No encoding function for type "+y.type),T(y.value)},ut.OBJECT=function(y){var T=ut[y.type];return We.argument(void 0!==T,"No sizeOf function for type "+y.type),T(y.value)},Qe.TABLE=function(y){for(var T=[],P=y.fields.length,O=[],j=[],W=0;W<P;W+=1){var ne=y.fields[W],ce=Qe[ne.type];We.argument(void 0!==ce,"No encoding function for field type "+ne.type+" ("+ne.name+")");var me=y[ne.name];void 0===me&&(me=ne.value);var Pe=ce(me);"TABLE"===ne.type?(j.push(T.length),T=T.concat([0,0]),O.push(Pe)):T=T.concat(Pe)}for(var Ue=0;Ue<O.length;Ue+=1){var nt=j[Ue],be=T.length;We.argument(be<65536,"Table "+y.tableName+" too big."),T[nt]=be>>8,T[nt+1]=255&be,T=T.concat(O[Ue])}return T},ut.TABLE=function(y){for(var T=0,P=y.fields.length,O=0;O<P;O+=1){var j=y.fields[O],W=ut[j.type];We.argument(void 0!==W,"No sizeOf function for field type "+j.type+" ("+j.name+")");var ne=y[j.name];void 0===ne&&(ne=j.value),T+=W(ne),"TABLE"===j.type&&(T+=2)}return T},Qe.RECORD=Qe.TABLE,ut.RECORD=ut.TABLE,Qe.LITERAL=function(y){return y},ut.LITERAL=function(y){return y.length},Ze.prototype.encode=function(){return Qe.TABLE(this)},Ze.prototype.sizeOf=function(){return ut.TABLE(this)};var Ct={Table:Ze,Record:Ze,Coverage:(mt.prototype=Object.create(Ze.prototype)).constructor=mt,ScriptList:(ft.prototype=Object.create(Ze.prototype)).constructor=ft,FeatureList:($t.prototype=Object.create(Ze.prototype)).constructor=$t,LookupList:(xn.prototype=Object.create(Ze.prototype)).constructor=xn,ushortList:Xe,tableList:Je,recordList:ct};function Sn(y,T){return y.getUint8(T)}function Gn(y,T){return y.getUint16(T,!1)}function Et(y,T){return y.getUint32(T,!1)}function Tt(y,T){return y.getInt16(T,!1)+y.getUint16(T+2,!1)/65535}var Jt={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Ge(y,T){this.data=y,this.offset=T,this.relativeOffset=0}Ge.prototype.parseByte=function(){var y=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,y},Ge.prototype.parseChar=function(){var y=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,y},Ge.prototype.parseCard8=Ge.prototype.parseByte,Ge.prototype.parseCard16=Ge.prototype.parseUShort=function(){var y=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,y},Ge.prototype.parseSID=Ge.prototype.parseUShort,Ge.prototype.parseOffset16=Ge.prototype.parseUShort,Ge.prototype.parseShort=function(){var y=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,y},Ge.prototype.parseF2Dot14=function(){var y=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,y},Ge.prototype.parseOffset32=Ge.prototype.parseULong=function(){var y=Et(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,y},Ge.prototype.parseFixed=function(){var y=Tt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,y},Ge.prototype.parseString=function(y){var T=this.data,P=this.offset+this.relativeOffset,O="";this.relativeOffset+=y;for(var j=0;j<y;j++)O+=String.fromCharCode(T.getUint8(P+j));return O},Ge.prototype.parseTag=function(){return this.parseString(4)},Ge.prototype.parseLongDateTime=function(){var y=Et(this.data,this.offset+this.relativeOffset+4);return y-=2082844800,this.relativeOffset+=8,y},Ge.prototype.parseVersion=function(y){var T=Gn(this.data,this.offset+this.relativeOffset),P=Gn(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,void 0===y&&(y=4096),T+P/y/10},Ge.prototype.skip=function(y,T){void 0===T&&(T=1),this.relativeOffset+=Jt[y]*T},Ge.prototype.parseULongList=function(y){void 0===y&&(y=this.parseULong());for(var T=new Array(y),P=this.data,O=this.offset+this.relativeOffset,j=0;j<y;j++)T[j]=P.getUint32(O),O+=4;return this.relativeOffset+=4*y,T},Ge.prototype.parseOffset16List=Ge.prototype.parseUShortList=function(y){void 0===y&&(y=this.parseUShort());for(var T=new Array(y),P=this.data,O=this.offset+this.relativeOffset,j=0;j<y;j++)T[j]=P.getUint16(O),O+=2;return this.relativeOffset+=2*y,T},Ge.prototype.parseShortList=function(y){for(var T=new Array(y),P=this.data,O=this.offset+this.relativeOffset,j=0;j<y;j++)T[j]=P.getInt16(O),O+=2;return this.relativeOffset+=2*y,T},Ge.prototype.parseByteList=function(y){for(var T=new Array(y),P=this.data,O=this.offset+this.relativeOffset,j=0;j<y;j++)T[j]=P.getUint8(O++);return this.relativeOffset+=y,T},Ge.prototype.parseList=function(y,T){T||(T=y,y=this.parseUShort());for(var P=new Array(y),O=0;O<y;O++)P[O]=T.call(this);return P},Ge.prototype.parseList32=function(y,T){T||(T=y,y=this.parseULong());for(var P=new Array(y),O=0;O<y;O++)P[O]=T.call(this);return P},Ge.prototype.parseRecordList=function(y,T){T||(T=y,y=this.parseUShort());for(var P=new Array(y),O=Object.keys(T),j=0;j<y;j++){for(var W={},ne=0;ne<O.length;ne++){var ce=O[ne];W[ce]=T[ce].call(this)}P[j]=W}return P},Ge.prototype.parseRecordList32=function(y,T){T||(T=y,y=this.parseULong());for(var P=new Array(y),O=Object.keys(T),j=0;j<y;j++){for(var W={},ne=0;ne<O.length;ne++){var ce=O[ne];W[ce]=T[ce].call(this)}P[j]=W}return P},Ge.prototype.parseStruct=function(y){if("function"==typeof y)return y.call(this);for(var T=Object.keys(y),P={},O=0;O<T.length;O++){var j=T[O];P[j]=y[j].call(this)}return P},Ge.prototype.parseValueRecord=function(y){if(void 0===y&&(y=this.parseUShort()),0!==y){var T={};return 1&y&&(T.xPlacement=this.parseShort()),2&y&&(T.yPlacement=this.parseShort()),4&y&&(T.xAdvance=this.parseShort()),8&y&&(T.yAdvance=this.parseShort()),16&y&&(T.xPlaDevice=void 0,this.parseShort()),32&y&&(T.yPlaDevice=void 0,this.parseShort()),64&y&&(T.xAdvDevice=void 0,this.parseShort()),128&y&&(T.yAdvDevice=void 0,this.parseShort()),T}},Ge.prototype.parseValueRecordList=function(){for(var y=this.parseUShort(),T=this.parseUShort(),P=new Array(T),O=0;O<T;O++)P[O]=this.parseValueRecord(y);return P},Ge.prototype.parsePointer=function(y){var T=this.parseOffset16();if(0<T)return new Ge(this.data,this.offset+T).parseStruct(y)},Ge.prototype.parsePointer32=function(y){var T=this.parseOffset32();if(0<T)return new Ge(this.data,this.offset+T).parseStruct(y)},Ge.prototype.parseListOfLists=function(y){for(var T=this.parseOffset16List(),P=T.length,O=this.relativeOffset,j=new Array(P),W=0;W<P;W++){var ne=T[W];if(0!==ne)if(this.relativeOffset=ne,y){for(var ce=this.parseOffset16List(),me=new Array(ce.length),Pe=0;Pe<ce.length;Pe++)this.relativeOffset=ne+ce[Pe],me[Pe]=y.call(this);j[W]=me}else j[W]=this.parseUShortList();else j[W]=void 0}return this.relativeOffset=O,j},Ge.prototype.parseCoverage=function(){var y=this.offset+this.relativeOffset,T=this.parseUShort(),P=this.parseUShort();if(1===T)return{format:1,glyphs:this.parseUShortList(P)};if(2!==T)throw new Error("0x"+y.toString(16)+": Coverage format must be 1 or 2.");for(var O=new Array(P),j=0;j<P;j++)O[j]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:O}},Ge.prototype.parseClassDef=function(){var y=this.offset+this.relativeOffset,T=this.parseUShort();if(1===T)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===T)return{format:2,ranges:this.parseRecordList({start:Ge.uShort,end:Ge.uShort,classId:Ge.uShort})};throw new Error("0x"+y.toString(16)+": ClassDef format must be 1 or 2.")},Ge.list=function(y,T){return function(){return this.parseList(y,T)}},Ge.list32=function(y,T){return function(){return this.parseList32(y,T)}},Ge.recordList=function(y,T){return function(){return this.parseRecordList(y,T)}},Ge.recordList32=function(y,T){return function(){return this.parseRecordList32(y,T)}},Ge.pointer=function(y){return function(){return this.parsePointer(y)}},Ge.pointer32=function(y){return function(){return this.parsePointer32(y)}},Ge.tag=Ge.prototype.parseTag,Ge.byte=Ge.prototype.parseByte,Ge.uShort=Ge.offset16=Ge.prototype.parseUShort,Ge.uShortList=Ge.prototype.parseUShortList,Ge.uLong=Ge.offset32=Ge.prototype.parseULong,Ge.uLongList=Ge.prototype.parseULongList,Ge.struct=Ge.prototype.parseStruct,Ge.coverage=Ge.prototype.parseCoverage,Ge.classDef=Ge.prototype.parseClassDef;var Gt={reserved:Ge.uShort,reqFeatureIndex:Ge.uShort,featureIndexes:Ge.uShortList};Ge.prototype.parseScriptList=function(){return this.parsePointer(Ge.recordList({tag:Ge.tag,script:Ge.pointer({defaultLangSys:Ge.pointer(Gt),langSysRecords:Ge.recordList({tag:Ge.tag,langSys:Ge.pointer(Gt)})})}))||[]},Ge.prototype.parseFeatureList=function(){return this.parsePointer(Ge.recordList({tag:Ge.tag,feature:Ge.pointer({featureParams:Ge.offset16,lookupListIndexes:Ge.uShortList})}))||[]},Ge.prototype.parseLookupList=function(y){return this.parsePointer(Ge.list(Ge.pointer(function(){var T=this.parseUShort();We.argument(1<=T&&T<=9,"GPOS/GSUB lookup type "+T+" unknown.");var P=this.parseUShort(),O=16&P;return{lookupType:T,lookupFlag:P,subtables:this.parseList(Ge.pointer(y[T])),markFilteringSet:O?this.parseUShort():void 0}})))||[]},Ge.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var y=this.parseUShort(),T=this.parseUShort();return We.argument(1===y&&T<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Ge.offset32,featureTableSubstitutionOffset:Ge.offset32})})||[]};var At={getByte:Sn,getCard8:Sn,getUShort:Gn,getCard16:Gn,getShort:function(y,T){return y.getInt16(T,!1)},getULong:Et,getFixed:Tt,getTag:function(y,T){for(var P="",O=T;O<T+4;O+=1)P+=String.fromCharCode(y.getInt8(O));return P},getOffset:function(y,T,P){for(var O=0,j=0;j<P;j+=1)O<<=8,O+=y.getUint8(T+j);return O},getBytes:function(y,T,P){for(var O=[],j=T;j<P;j+=1)O.push(y.getUint8(j));return O},bytesToString:function(y){for(var T="",P=0;P<y.length;P+=1)T+=String.fromCharCode(y[P]);return T},Parser:Ge},le_parse=function(y,T){var P={};P.version=At.getUShort(y,T),We.argument(0===P.version,"cmap table version should be 0."),P.numTables=At.getUShort(y,T+2);for(var O=-1,j=P.numTables-1;0<=j;--j){var W=At.getUShort(y,T+4+8*j),ne=At.getUShort(y,T+4+8*j+2);if(3===W&&(0===ne||1===ne||10===ne)||0===W&&(0===ne||1===ne||2===ne||3===ne||4===ne)){O=At.getULong(y,T+4+8*j+4);break}}if(-1===O)throw new Error("No valid cmap sub-tables found.");var ce=new At.Parser(y,T+O);if(P.format=ce.parseUShort(),12===P.format)!function(me,Pe){var Ue;Pe.parseUShort(),me.length=Pe.parseULong(),me.language=Pe.parseULong(),me.groupCount=Ue=Pe.parseULong(),me.glyphIndexMap={};for(var nt=0;nt<Ue;nt+=1)for(var be=Pe.parseULong(),Qt=Pe.parseULong(),Ht=Pe.parseULong(),St=be;St<=Qt;St+=1)me.glyphIndexMap[St]=Ht,Ht++}(P,ce);else{if(4!==P.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+P.format+").");!function(me,Pe,Ue,nt,be){var Qt;me.length=Pe.parseUShort(),me.language=Pe.parseUShort(),me.segCount=Qt=Pe.parseUShort()>>1,Pe.skip("uShort",3),me.glyphIndexMap={};for(var Ht=new At.Parser(Ue,nt+be+14),St=new At.Parser(Ue,nt+be+16+2*Qt),dt=new At.Parser(Ue,nt+be+16+4*Qt),bt=new At.Parser(Ue,nt+be+16+6*Qt),Cn=nt+be+16+8*Qt,bn=0;bn<Qt-1;bn+=1)for(var zr=void 0,An=Ht.parseUShort(),Un=St.parseUShort(),Tn=dt.parseShort(),Ar=bt.parseUShort(),Pr=Un;Pr<=An;Pr+=1)0!==Ar?(Cn=bt.offset+bt.relativeOffset-2,Cn+=Ar,0!==(zr=At.getUShort(Ue,Cn+=2*(Pr-Un)))&&(zr=zr+Tn&65535)):zr=Pr+Tn&65535,me.glyphIndexMap[Pr]=zr}(P,ce,y,T,O)}return P},le_make=function(y){var T,P=!0;for(T=y.length-1;0<T;--T)if(65535<y.get(T).unicode){console.log("Adding CMAP format 12 (needed!)"),P=!1;break}var O=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:P?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:P?12:20}];P||(O=O.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),O=O.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var W,ne,ce=new Ct.Table("cmap",O);for(ce.segments=[],T=0;T<y.length;T+=1){for(var me=y.get(T),Pe=0;Pe<me.unicodes.length;Pe+=1)ce.segments.push({end:W=me.unicodes[Pe],start:W,delta:-(W-(ne=T)),offset:0,glyphIndex:ne});ce.segments=ce.segments.sort(function(zr,An){return zr.start-An.start})}ce.segments.push({end:65535,start:65535,delta:1,offset:0});var Ue=ce.segments.length,nt=0,be=[],Qt=[],Ht=[],St=[],dt=[],bt=[];for(T=0;T<Ue;T+=1){var Cn=ce.segments[T];Cn.end<=65535&&Cn.start<=65535?(be=be.concat({name:"end_"+T,type:"USHORT",value:Cn.end}),Qt=Qt.concat({name:"start_"+T,type:"USHORT",value:Cn.start}),Ht=Ht.concat({name:"idDelta_"+T,type:"SHORT",value:Cn.delta}),St=St.concat({name:"idRangeOffset_"+T,type:"USHORT",value:Cn.offset}),void 0!==Cn.glyphId&&(dt=dt.concat({name:"glyph_"+T,type:"USHORT",value:Cn.glyphId}))):nt+=1,P||void 0===Cn.glyphIndex||(bt=(bt=(bt=bt.concat({name:"cmap12Start_"+T,type:"ULONG",value:Cn.start})).concat({name:"cmap12End_"+T,type:"ULONG",value:Cn.end})).concat({name:"cmap12Glyph_"+T,type:"ULONG",value:Cn.glyphIndex}))}if(ce.segCountX2=2*(Ue-nt),ce.searchRange=2*Math.pow(2,Math.floor(Math.log(Ue-nt)/Math.log(2))),ce.entrySelector=Math.log(ce.searchRange/2)/Math.log(2),ce.rangeShift=ce.segCountX2-ce.searchRange,ce.fields=ce.fields.concat(be),ce.fields.push({name:"reservedPad",type:"USHORT",value:0}),ce.fields=ce.fields.concat(Qt),ce.fields=ce.fields.concat(Ht),ce.fields=ce.fields.concat(St),ce.fields=ce.fields.concat(dt),ce.cmap4Length=14+2*be.length+2+2*Qt.length+2*Ht.length+2*St.length+2*dt.length,!P){var bn=16+4*bt.length;ce.cmap12Offset=20+ce.cmap4Length,ce.fields=ce.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:bn},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:bt.length/3}]),ce.fields=ce.fields.concat(bt)}return ce},fe=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],ae=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],pe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Ne=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function it(y){this.font=y}function pt(y){this.cmap=y}function It(y,T){this.encoding=y,this.charset=T}function Ye(y){switch(y.version){case 1:this.names=Ne.slice();break;case 2:this.names=new Array(y.numberOfGlyphs);for(var T=0;T<y.numberOfGlyphs;T++)this.names[T]=y.glyphNameIndex[T]<Ne.length?Ne[y.glyphNameIndex[T]]:y.names[y.glyphNameIndex[T]-Ne.length];break;case 2.5:this.names=new Array(y.numberOfGlyphs);for(var P=0;P<y.numberOfGlyphs;P++)this.names[P]=Ne[P+y.glyphNameIndex[P]];break;case 3:default:this.names=[]}}it.prototype.charToGlyphIndex=function(y){var T=y.codePointAt(0),P=this.font.glyphs;if(P)for(var O=0;O<P.length;O+=1)for(var j=P.get(O),W=0;W<j.unicodes.length;W+=1)if(j.unicodes[W]===T)return O;return null},pt.prototype.charToGlyphIndex=function(y){return this.cmap.glyphIndexMap[y.codePointAt(0)]||0},It.prototype.charToGlyphIndex=function(y){var T=y.codePointAt(0);return this.charset.indexOf(this.encoding[T])},Ye.prototype.nameToGlyphIndex=function(y){return this.names.indexOf(y)},Ye.prototype.glyphIndexToName=function(y){return this.names[y]};var Xt_line=function(y,T,P,O,j){y.beginPath(),y.moveTo(T,P),y.lineTo(O,j),y.stroke()};function _n(y){this.bindConstructorValues(y)}function dn(y,T,P){Object.defineProperty(y,T,{get:function(){return y[P]},set:function(O){y[P]=O},enumerable:!0,configurable:!0})}function ar(y,T){if(this.font=y,this.glyphs={},Array.isArray(T))for(var P=0;P<T.length;P++)this.glyphs[P]=T[P];this.length=T&&T.length||0}_n.prototype.bindConstructorValues=function(y){var P;this.index=y.index||0,this.name=y.name||null,this.unicode=y.unicode||void 0,this.unicodes=y.unicodes||void 0!==y.unicode?[y.unicode]:[],y.xMin&&(this.xMin=y.xMin),y.yMin&&(this.yMin=y.yMin),y.xMax&&(this.xMax=y.xMax),y.yMax&&(this.yMax=y.yMax),y.advanceWidth&&(this.advanceWidth=y.advanceWidth),Object.defineProperty(this,"path",(P=y.path||new Le,{configurable:!0,get:function(){return"function"==typeof P&&(P=P()),P},set:function(O){P=O}}))},_n.prototype.addUnicode=function(y){0===this.unicodes.length&&(this.unicode=y),this.unicodes.push(y)},_n.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},_n.prototype.getPath=function(y,T,P,O,j){var W,ne;y=void 0!==y?y:0,T=void 0!==T?T:0,P=void 0!==P?P:72;var ce=(O=O||{}).xScale,me=O.yScale;if(O.hinting&&j&&j.hinting&&(ne=this.path&&j.hinting.exec(this,P)),ne)W=j.hinting.getCommands(ne),y=Math.round(y),T=Math.round(T),ce=me=1;else{W=this.path.commands;var Pe=1/this.path.unitsPerEm*P;void 0===ce&&(ce=Pe),void 0===me&&(me=Pe)}for(var Ue=new Le,nt=0;nt<W.length;nt+=1){var be=W[nt];"M"===be.type?Ue.moveTo(y+be.x*ce,T+-be.y*me):"L"===be.type?Ue.lineTo(y+be.x*ce,T+-be.y*me):"Q"===be.type?Ue.quadraticCurveTo(y+be.x1*ce,T+-be.y1*me,y+be.x*ce,T+-be.y*me):"C"===be.type?Ue.curveTo(y+be.x1*ce,T+-be.y1*me,y+be.x2*ce,T+-be.y2*me,y+be.x*ce,T+-be.y*me):"Z"===be.type&&Ue.closePath()}return Ue},_n.prototype.getContours=function(){if(void 0===this.points)return[];for(var y=[],T=[],P=0;P<this.points.length;P+=1){var O=this.points[P];T.push(O),O.lastPointOfContour&&(y.push(T),T=[])}return We.argument(0===T.length,"There are still points left in the current contour."),y},_n.prototype.getMetrics=function(){for(var y=this.path.commands,T=[],P=[],O=0;O<y.length;O+=1){var j=y[O];"Z"!==j.type&&(T.push(j.x),P.push(j.y)),"Q"!==j.type&&"C"!==j.type||(T.push(j.x1),P.push(j.y1)),"C"===j.type&&(T.push(j.x2),P.push(j.y2))}var W={xMin:Math.min.apply(null,T),yMin:Math.min.apply(null,P),xMax:Math.max.apply(null,T),yMax:Math.max.apply(null,P),leftSideBearing:this.leftSideBearing};return isFinite(W.xMin)||(W.xMin=0),isFinite(W.xMax)||(W.xMax=this.advanceWidth),isFinite(W.yMin)||(W.yMin=0),isFinite(W.yMax)||(W.yMax=0),W.rightSideBearing=this.advanceWidth-W.leftSideBearing-(W.xMax-W.xMin),W},_n.prototype.draw=function(y,T,P,O,j){this.getPath(T,P,O,j).draw(y)},_n.prototype.drawPoints=function(y,T,P,O){function j(nt,be,Qt,Ht){var St=2*Math.PI;y.beginPath();for(var dt=0;dt<nt.length;dt+=1)y.moveTo(be+nt[dt].x*Ht,Qt+nt[dt].y*Ht),y.arc(be+nt[dt].x*Ht,Qt+nt[dt].y*Ht,2,0,St,!1);y.closePath(),y.fill()}T=void 0!==T?T:0,P=void 0!==P?P:0;for(var W=1/this.path.unitsPerEm*(O=void 0!==O?O:24),ne=[],ce=[],me=this.path,Pe=0;Pe<me.commands.length;Pe+=1){var Ue=me.commands[Pe];void 0!==Ue.x&&ne.push({x:Ue.x,y:-Ue.y}),void 0!==Ue.x1&&ce.push({x:Ue.x1,y:-Ue.y1}),void 0!==Ue.x2&&ce.push({x:Ue.x2,y:-Ue.y2})}y.fillStyle="blue",j(ne,T,P,W),y.fillStyle="red",j(ce,T,P,W)},_n.prototype.drawMetrics=function(y,T,P,O){var j;T=void 0!==T?T:0,P=void 0!==P?P:0,j=1/this.path.unitsPerEm*(O=void 0!==O?O:24),y.lineWidth=1,y.strokeStyle="black",Xt_line(y,T,-1e4,T,1e4),Xt_line(y,-1e4,P,1e4,P);var W=this.xMin||0,ne=this.yMin||0,ce=this.xMax||0,me=this.yMax||0,Pe=this.advanceWidth||0;y.strokeStyle="blue",Xt_line(y,T+W*j,-1e4,T+W*j,1e4),Xt_line(y,T+ce*j,-1e4,T+ce*j,1e4),Xt_line(y,-1e4,P+-ne*j,1e4,P+-ne*j),Xt_line(y,-1e4,P+-me*j,1e4,P+-me*j),y.strokeStyle="green",Xt_line(y,T+Pe*j,-1e4,T+Pe*j,1e4)},ar.prototype.get=function(y){return"function"==typeof this.glyphs[y]&&(this.glyphs[y]=this.glyphs[y]()),this.glyphs[y]},ar.prototype.push=function(y,T){this.glyphs[y]=T,this.length++};var Kt={GlyphSet:ar,glyphLoader:function(y,T){return new _n({index:T,font:y})},ttfGlyphLoader:function(y,T,P,O,j,W){return function(){var ne=new _n({index:T,font:y});return ne.path=function(){P(ne,O,j);var ce=W(y.glyphs,ne);return ce.unitsPerEm=y.unitsPerEm,ce},dn(ne,"xMin","_xMin"),dn(ne,"xMax","_xMax"),dn(ne,"yMin","_yMin"),dn(ne,"yMax","_yMax"),ne}},cffGlyphLoader:function(y,T,P,O){return function(){var j=new _n({index:T,font:y});return j.path=function(){var W=P(y,j,O);return W.unitsPerEm=y.unitsPerEm,W},j}}};function er(y,T){if(y===T)return!0;if(Array.isArray(y)&&Array.isArray(T)){if(y.length!==T.length)return!1;for(var P=0;P<y.length;P+=1)if(!er(y[P],T[P]))return!1;return!0}return!1}function Nr(y){return y.length<1240?107:y.length<33900?1131:32768}function fr(y,T,P){var O,j,W=[],ne=[],ce=At.getCard16(y,T);if(0!==ce){var me=At.getByte(y,T+2);O=T+(ce+1)*me+2;for(var Pe=T+3,Ue=0;Ue<ce+1;Ue+=1)W.push(At.getOffset(y,Pe,me)),Pe+=me;j=O+W[ce]}else j=T+2;for(var nt=0;nt<W.length-1;nt+=1){var be=At.getBytes(y,O+W[nt],O+W[nt+1]);P&&(be=P(be)),ne.push(be)}return{objects:ne,startOffset:T,endOffset:j}}function Pn(y,T){if(28===T)return y.parseByte()<<8|y.parseByte();if(29===T)return y.parseByte()<<24|y.parseByte()<<16|y.parseByte()<<8|y.parseByte();if(30===T)return function(P){for(var O="",j=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var W=P.parseByte(),ne=W>>4,ce=15&W;if(15==ne||(O+=j[ne],15==ce))break;O+=j[ce]}return parseFloat(O)}(y);if(32<=T&&T<=246)return T-139;if(247<=T&&T<=250)return 256*(T-247)+y.parseByte()+108;if(251<=T&&T<=254)return 256*-(T-251)-y.parseByte()-108;throw new Error("Invalid b0 "+T)}function Fa(y,T,P){var O=new At.Parser(y,T=void 0!==T?T:0),j=[],W=[];for(P=void 0!==P?P:y.length;O.relativeOffset<P;){var ne=O.parseByte();ne<=21?(12===ne&&(ne=1200+O.parseByte()),j.push([ne,W]),W=[]):W.push(Pn(O,ne))}return function(ce){for(var me={},Pe=0;Pe<ce.length;Pe+=1){var be,Ue=ce[Pe][0],nt=ce[Pe][1];if(be=1===nt.length?nt[0]:nt,me.hasOwnProperty(Ue)&&!isNaN(me[Ue]))throw new Error("Object "+me+" already has key "+Ue);me[Ue]=be}return me}(j)}function $s(y,T){return T<=390?fe[T]:y[T-391]}function xs(y,T,P){for(var O,j={},W=0;W<T.length;W+=1){var ne=T[W];if(Array.isArray(ne.type)){var ce=[];ce.length=ne.type.length;for(var me=0;me<ne.type.length;me++)void 0===(O=void 0!==y[ne.op]?y[ne.op][me]:void 0)&&(O=void 0!==ne.value&&void 0!==ne.value[me]?ne.value[me]:null),"SID"===ne.type[me]&&(O=$s(P,O)),ce[me]=O;j[ne.name]=ce}else void 0===(O=y[ne.op])&&(O=void 0!==ne.value?ne.value:null),"SID"===ne.type&&(O=$s(P,O)),j[ne.name]=O}return j}var Gc=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Na=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Zn(y,T,P,O){return xs(Fa(y,T,P),Na,O)}function ji(y,T,P,O){for(var j,W,ne=[],ce=0;ce<P.length;ce+=1){var Pe=(W=O,xs(Fa(j=new DataView(new Uint8Array(P[ce]).buffer),0,j.byteLength),Gc,W));Pe._subrs=[],Pe._subrsBias=0;var Ue=Pe.private[0],nt=Pe.private[1];if(0!==Ue&&0!==nt){var be=Zn(y,nt+T,Ue,O);if(Pe._defaultWidthX=be.defaultWidthX,Pe._nominalWidthX=be.nominalWidthX,0!==be.subrs){var Qt=fr(y,nt+be.subrs+T);Pe._subrs=Qt.objects,Pe._subrsBias=Nr(Pe._subrs)}Pe._privateDict=be}ne.push(Pe)}return ne}function Wc(y,T,P){var O,j,W,ne,ce,me,Pe,Ue,nt=new Le,be=[],Qt=0,Ht=!1,St=!1,dt=0,bt=0;if(y.isCIDFont){var bn=y.tables.cff.topDict._fdArray[y.tables.cff.topDict._fdSelect[T.index]];ce=bn._subrs,me=bn._subrsBias,Pe=bn._defaultWidthX,Ue=bn._nominalWidthX}else ce=y.tables.cff.topDict._subrs,me=y.tables.cff.topDict._subrsBias,Pe=y.tables.cff.topDict._defaultWidthX,Ue=y.tables.cff.topDict._nominalWidthX;var zr=Pe;function An(Tn,Ar){St&&nt.closePath(),nt.moveTo(Tn,Ar),St=!0}function Un(){be.length%2==0||Ht||(zr=be.shift()+Ue),Qt+=be.length>>1,be.length=0,Ht=!0}return function Tn(Ar){for(var Pr,Lr,Jr,Xr,Ei,Kr,ei,Or,ii,Ii,Ir,Ui,ci=0;ci<Ar.length;){var Di=Ar[ci];switch(ci+=1,Di){case 1:case 3:Un();break;case 4:1<be.length&&!Ht&&(zr=be.shift()+Ue,Ht=!0),bt+=be.pop(),An(dt,bt);break;case 5:for(;0<be.length;)dt+=be.shift(),bt+=be.shift(),nt.lineTo(dt,bt);break;case 6:for(;0<be.length&&(dt+=be.shift(),nt.lineTo(dt,bt),0!==be.length);)bt+=be.shift(),nt.lineTo(dt,bt);break;case 7:for(;0<be.length&&(bt+=be.shift(),nt.lineTo(dt,bt),0!==be.length);)dt+=be.shift(),nt.lineTo(dt,bt);break;case 8:for(;0<be.length;)O=dt+be.shift(),j=bt+be.shift(),W=O+be.shift(),ne=j+be.shift(),dt=W+be.shift(),bt=ne+be.shift(),nt.curveTo(O,j,W,ne,dt,bt);break;case 10:Ei=be.pop()+me,(Kr=ce[Ei])&&Tn(Kr);break;case 11:return;case 12:switch(Di=Ar[ci],ci+=1,Di){case 35:O=dt+be.shift(),j=bt+be.shift(),W=O+be.shift(),ne=j+be.shift(),ei=W+be.shift(),Or=ne+be.shift(),ii=ei+be.shift(),Ii=Or+be.shift(),Ir=ii+be.shift(),Ui=Ii+be.shift(),dt=Ir+be.shift(),bt=Ui+be.shift(),be.shift(),nt.curveTo(O,j,W,ne,ei,Or),nt.curveTo(ii,Ii,Ir,Ui,dt,bt);break;case 34:O=dt+be.shift(),j=bt,W=O+be.shift(),ne=j+be.shift(),ei=W+be.shift(),Or=ne,ii=ei+be.shift(),Ii=ne,Ir=ii+be.shift(),Ui=bt,dt=Ir+be.shift(),nt.curveTo(O,j,W,ne,ei,Or),nt.curveTo(ii,Ii,Ir,Ui,dt,bt);break;case 36:O=dt+be.shift(),j=bt+be.shift(),W=O+be.shift(),ne=j+be.shift(),ei=W+be.shift(),Or=ne,ii=ei+be.shift(),Ii=ne,Ir=ii+be.shift(),Ui=Ii+be.shift(),dt=Ir+be.shift(),nt.curveTo(O,j,W,ne,ei,Or),nt.curveTo(ii,Ii,Ir,Ui,dt,bt);break;case 37:O=dt+be.shift(),j=bt+be.shift(),W=O+be.shift(),ne=j+be.shift(),ei=W+be.shift(),Or=ne+be.shift(),ii=ei+be.shift(),Ii=Or+be.shift(),Ir=ii+be.shift(),Ui=Ii+be.shift(),Math.abs(Ir-dt)>Math.abs(Ui-bt)?dt=Ir+be.shift():bt=Ui+be.shift(),nt.curveTo(O,j,W,ne,ei,Or),nt.curveTo(ii,Ii,Ir,Ui,dt,bt);break;default:console.log("Glyph "+T.index+": unknown operator 1200"+Di),be.length=0}break;case 14:0<be.length&&!Ht&&(zr=be.shift()+Ue,Ht=!0),St&&(nt.closePath(),St=!1);break;case 18:Un();break;case 19:case 20:Un(),ci+=Qt+7>>3;break;case 21:2<be.length&&!Ht&&(zr=be.shift()+Ue,Ht=!0),bt+=be.pop(),An(dt+=be.pop(),bt);break;case 22:1<be.length&&!Ht&&(zr=be.shift()+Ue,Ht=!0),An(dt+=be.pop(),bt);break;case 23:Un();break;case 24:for(;2<be.length;)O=dt+be.shift(),j=bt+be.shift(),W=O+be.shift(),ne=j+be.shift(),dt=W+be.shift(),bt=ne+be.shift(),nt.curveTo(O,j,W,ne,dt,bt);dt+=be.shift(),bt+=be.shift(),nt.lineTo(dt,bt);break;case 25:for(;6<be.length;)dt+=be.shift(),bt+=be.shift(),nt.lineTo(dt,bt);O=dt+be.shift(),j=bt+be.shift(),W=O+be.shift(),ne=j+be.shift(),dt=W+be.shift(),bt=ne+be.shift(),nt.curveTo(O,j,W,ne,dt,bt);break;case 26:for(be.length%2&&(dt+=be.shift());0<be.length;)O=dt,j=bt+be.shift(),W=O+be.shift(),ne=j+be.shift(),dt=W,bt=ne+be.shift(),nt.curveTo(O,j,W,ne,dt,bt);break;case 27:for(be.length%2&&(bt+=be.shift());0<be.length;)O=dt+be.shift(),j=bt,W=O+be.shift(),ne=j+be.shift(),dt=W+be.shift(),nt.curveTo(O,j,W,ne,dt,bt=ne);break;case 28:be.push(((Pr=Ar[ci])<<24|(Lr=Ar[ci+1])<<16)>>16),ci+=2;break;case 29:Ei=be.pop()+y.gsubrsBias,(Kr=y.gsubrs[Ei])&&Tn(Kr);break;case 30:for(;0<be.length&&(O=dt,j=bt+be.shift(),W=O+be.shift(),ne=j+be.shift(),dt=W+be.shift(),bt=ne+(1===be.length?be.shift():0),nt.curveTo(O,j,W,ne,dt,bt),0!==be.length);)O=dt+be.shift(),j=bt,W=O+be.shift(),ne=j+be.shift(),bt=ne+be.shift(),dt=W+(1===be.length?be.shift():0),nt.curveTo(O,j,W,ne,dt,bt);break;case 31:for(;0<be.length&&(O=dt+be.shift(),j=bt,W=O+be.shift(),ne=j+be.shift(),bt=ne+be.shift(),dt=W+(1===be.length?be.shift():0),nt.curveTo(O,j,W,ne,dt,bt),0!==be.length);)O=dt,j=bt+be.shift(),W=O+be.shift(),ne=j+be.shift(),dt=W+be.shift(),bt=ne+(1===be.length?be.shift():0),nt.curveTo(O,j,W,ne,dt,bt);break;default:Di<32?console.log("Glyph "+T.index+": unknown operator "+Di):Di<247?be.push(Di-139):Di<251?(Pr=Ar[ci],ci+=1,be.push(256*(Di-247)+Pr+108)):Di<255?(Pr=Ar[ci],ci+=1,be.push(256*-(Di-251)-Pr-108)):(Pr=Ar[ci],Lr=Ar[ci+1],Jr=Ar[ci+2],Xr=Ar[ci+3],ci+=4,be.push((Pr<<24|Lr<<16|Jr<<8|Xr)/65536))}}}(P),T.advanceWidth=zr,nt}function qc(y,T){var P,O=fe.indexOf(y);return 0<=O&&(P=O),0<=(O=T.indexOf(y))?P=O+fe.length:(P=fe.length+T.length,T.push(y)),P}function tc(y,T,P){for(var O={},j=0;j<y.length;j+=1){var W=y[j],ne=T[W.name];void 0===ne||er(ne,W.value)||("SID"===W.type&&(ne=qc(ne,P)),O[W.op]={name:W.name,type:W.type,value:ne})}return O}function Xs(y,T){var P=new Ct.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return P.dict=tc(Gc,y,T),P}function Fe(y){var T=new Ct.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return T.topDicts=[{name:"topDict_0",type:"TABLE",value:y}],T}function Ot(y){var T=[],P=y.path;T.push({name:"width",type:"NUMBER",value:y.advanceWidth});for(var O=0,j=0,W=0;W<P.commands.length;W+=1){var ne=void 0,ce=void 0,me=P.commands[W];if("Q"===me.type&&(me={type:"C",x:me.x,y:me.y,x1:1/3*O+2/3*me.x1,y1:1/3*j+2/3*me.y1,x2:1/3*me.x+2/3*me.x1,y2:1/3*me.y+2/3*me.y1}),"M"===me.type)ne=Math.round(me.x-O),ce=Math.round(me.y-j),T.push({name:"dx",type:"NUMBER",value:ne}),T.push({name:"dy",type:"NUMBER",value:ce}),T.push({name:"rmoveto",type:"OP",value:21}),O=Math.round(me.x),j=Math.round(me.y);else if("L"===me.type)ne=Math.round(me.x-O),ce=Math.round(me.y-j),T.push({name:"dx",type:"NUMBER",value:ne}),T.push({name:"dy",type:"NUMBER",value:ce}),T.push({name:"rlineto",type:"OP",value:5}),O=Math.round(me.x),j=Math.round(me.y);else if("C"===me.type){var Pe=Math.round(me.x1-O),Ue=Math.round(me.y1-j),nt=Math.round(me.x2-me.x1),be=Math.round(me.y2-me.y1);ne=Math.round(me.x-me.x2),ce=Math.round(me.y-me.y2),T.push({name:"dx1",type:"NUMBER",value:Pe}),T.push({name:"dy1",type:"NUMBER",value:Ue}),T.push({name:"dx2",type:"NUMBER",value:nt}),T.push({name:"dy2",type:"NUMBER",value:be}),T.push({name:"dx",type:"NUMBER",value:ne}),T.push({name:"dy",type:"NUMBER",value:ce}),T.push({name:"rrcurveto",type:"OP",value:8}),O=Math.round(me.x),j=Math.round(me.y)}}return T.push({name:"endchar",type:"OP",value:14}),T}var en_parse=function(y,T,P){P.tables.cff={};var O,j,W,ne=fr(y,(O=y,j=T,(W={}).formatMajor=At.getCard8(O,j),W.formatMinor=At.getCard8(O,j+1),W.size=At.getCard8(O,j+2),W.offsetSize=At.getCard8(O,j+3),W.startOffset=j,W.endOffset=j+4,W).endOffset,At.bytesToString),ce=fr(y,ne.endOffset),me=fr(y,ce.endOffset,At.bytesToString),Pe=fr(y,me.endOffset);P.gsubrs=Pe.objects,P.gsubrsBias=Nr(P.gsubrs);var Ue=ji(y,T,ce.objects,me.objects);if(1!==Ue.length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+Ue.length);var nt=Ue[0];if((P.tables.cff.topDict=nt)._privateDict&&(P.defaultWidthX=nt._privateDict.defaultWidthX,P.nominalWidthX=nt._privateDict.nominalWidthX),void 0!==nt.ros[0]&&void 0!==nt.ros[1]&&(P.isCIDFont=!0),P.isCIDFont){var be=nt.fdArray,Qt=nt.fdSelect;if(0===be||0===Qt)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var Ht=ji(y,T,fr(y,be+=T).objects,me.objects);nt._fdArray=Ht,nt._fdSelect=function(Un,Tn,Ar,Pr){var Lr,Jr=[],Xr=new At.Parser(Un,Tn),Ei=Xr.parseCard8();if(0===Ei)for(var Kr=0;Kr<Ar;Kr++){if(Pr<=(Lr=Xr.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Lr+" (FD count "+Pr+")");Jr.push(Lr)}else{if(3!==Ei)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Ei);var ei,Or=Xr.parseCard16(),ii=Xr.parseCard16();if(0!==ii)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+ii);for(var Ii=0;Ii<Or;Ii++){if(Lr=Xr.parseCard8(),ei=Xr.parseCard16(),Pr<=Lr)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Lr+" (FD count "+Pr+")");if(Ar<ei)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+ei);for(;ii<ei;ii++)Jr.push(Lr);ii=ei}if(ei!==Ar)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+ei)}return Jr}(y,Qt+=T,P.numGlyphs,Ht.length)}var St=T+nt.private[1],dt=Zn(y,St,nt.private[0],me.objects);if(P.defaultWidthX=dt.defaultWidthX,P.nominalWidthX=dt.nominalWidthX,0!==dt.subrs){var bt=fr(y,St+dt.subrs);P.subrs=bt.objects,P.subrsBias=Nr(P.subrs)}else P.subrs=[],P.subrsBias=0;var Cn=fr(y,T+nt.charStrings);P.nGlyphs=Cn.objects.length;var bn=function(Un,Tn,Ar,Pr){var Lr,Jr,Xr=new At.Parser(Un,Tn);--Ar;var Ei=[".notdef"],Kr=Xr.parseCard8();if(0===Kr)for(var ei=0;ei<Ar;ei+=1)Lr=Xr.parseSID(),Ei.push($s(Pr,Lr));else if(1===Kr)for(;Ei.length<=Ar;){Lr=Xr.parseSID(),Jr=Xr.parseCard8();for(var Or=0;Or<=Jr;Or+=1)Ei.push($s(Pr,Lr)),Lr+=1}else{if(2!==Kr)throw new Error("Unknown charset format "+Kr);for(;Ei.length<=Ar;){Lr=Xr.parseSID(),Jr=Xr.parseCard16();for(var ii=0;ii<=Jr;ii+=1)Ei.push($s(Pr,Lr)),Lr+=1}}return Ei}(y,T+nt.charset,P.nGlyphs,me.objects);P.cffEncoding=0===nt.encoding?new It(ae,bn):1===nt.encoding?new It(pe,bn):function(Un,Tn,Ar){var Pr,Lr={},Jr=new At.Parser(Un,Tn),Xr=Jr.parseCard8();if(0===Xr)for(var Ei=Jr.parseCard8(),Kr=0;Kr<Ei;Kr+=1)Lr[Pr=Jr.parseCard8()]=Kr;else{if(1!==Xr)throw new Error("Unknown encoding format "+Xr);var ei=Jr.parseCard8();Pr=1;for(var Or=0;Or<ei;Or+=1)for(var ii=Jr.parseCard8(),Ii=Jr.parseCard8(),Ir=ii;Ir<=ii+Ii;Ir+=1)Lr[Ir]=Pr,Pr+=1}return new It(Lr,Ar)}(y,T+nt.encoding,bn),P.encoding=P.encoding||P.cffEncoding,P.glyphs=new Kt.GlyphSet(P);for(var zr=0;zr<P.nGlyphs;zr+=1)P.glyphs.push(zr,Kt.cffGlyphLoader(P,zr,Wc,Cn.objects[zr]))},en_make=function(y,T){for(var P,O=new Ct.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),j=1/T.unitsPerEm,W={version:T.version,fullName:T.fullName,familyName:T.familyName,weight:T.weightName,fontBBox:T.fontBBox||[0,0,0,0],fontMatrix:[j,0,0,j,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},ne=[],ce=1;ce<y.length;ce+=1)P=y.get(ce),ne.push(P.name);var me=[];O.header=new Ct.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),O.nameIndex=function(Ht){var St=new Ct.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);St.names=[];for(var dt=0;dt<Ht.length;dt+=1)St.names.push({name:"name_"+dt,type:"NAME",value:Ht[dt]});return St}([T.postScriptName]);var Pe,Ue,nt,be=Xs(W,me);O.topDictIndex=Fe(be),O.globalSubrIndex=new Ct.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),O.charsets=function(Ht,St){for(var dt=new Ct.Record("Charsets",[{name:"format",type:"Card8",value:0}]),bt=0;bt<Ht.length;bt+=1){var Cn=qc(Ht[bt],St);dt.fields.push({name:"glyph_"+bt,type:"SID",value:Cn})}return dt}(ne,me),O.charStringsIndex=function(Ht){for(var St=new Ct.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),dt=0;dt<Ht.length;dt+=1){var bt=Ht.get(dt),Cn=Ot(bt);St.charStrings.push({name:bt.name,type:"CHARSTRING",value:Cn})}return St}(y),O.privateDict=(Pe={},Ue=me,(nt=new Ct.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=tc(Na,Pe,Ue),nt),O.stringIndex=function(Ht){var St=new Ct.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);St.strings=[];for(var dt=0;dt<Ht.length;dt+=1)St.strings.push({name:"string_"+dt,type:"STRING",value:Ht[dt]});return St}(me);var Qt=O.header.sizeOf()+O.nameIndex.sizeOf()+O.topDictIndex.sizeOf()+O.stringIndex.sizeOf()+O.globalSubrIndex.sizeOf();return W.charset=Qt,W.encoding=0,W.charStrings=W.charset+O.charsets.sizeOf(),W.private[1]=W.charStrings+O.charStringsIndex.sizeOf(),be=Xs(W,me),O.topDictIndex=Fe(be),O},Vt_parse=function(y,T){var P={},O=new At.Parser(y,T);return P.version=O.parseVersion(),P.fontRevision=Math.round(1e3*O.parseFixed())/1e3,P.checkSumAdjustment=O.parseULong(),P.magicNumber=O.parseULong(),We.argument(1594834165===P.magicNumber,"Font header has wrong magic number."),P.flags=O.parseUShort(),P.unitsPerEm=O.parseUShort(),P.created=O.parseLongDateTime(),P.modified=O.parseLongDateTime(),P.xMin=O.parseShort(),P.yMin=O.parseShort(),P.xMax=O.parseShort(),P.yMax=O.parseShort(),P.macStyle=O.parseUShort(),P.lowestRecPPEM=O.parseUShort(),P.fontDirectionHint=O.parseShort(),P.indexToLocFormat=O.parseShort(),P.glyphDataFormat=O.parseShort(),P},Vt_make=function(y){var T=Math.round((new Date).getTime()/1e3)+2082844800,P=T;return y.createdTimestamp&&(P=y.createdTimestamp+2082844800),new Ct.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:P},{name:"modified",type:"LONGDATETIME",value:T},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],y)},cn_parse=function(y,T){var P={},O=new At.Parser(y,T);return P.version=O.parseVersion(),P.ascender=O.parseShort(),P.descender=O.parseShort(),P.lineGap=O.parseShort(),P.advanceWidthMax=O.parseUShort(),P.minLeftSideBearing=O.parseShort(),P.minRightSideBearing=O.parseShort(),P.xMaxExtent=O.parseShort(),P.caretSlopeRise=O.parseShort(),P.caretSlopeRun=O.parseShort(),P.caretOffset=O.parseShort(),O.relativeOffset+=8,P.metricDataFormat=O.parseShort(),P.numberOfHMetrics=O.parseUShort(),P},cn_make=function(y){return new Ct.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],y)},Dt_parse=function(y,T,P,O,j){for(var W,ne,ce=new At.Parser(y,T),me=0;me<O;me+=1){me<P&&(W=ce.parseUShort(),ne=ce.parseShort());var Pe=j.get(me);Pe.advanceWidth=W,Pe.leftSideBearing=ne}},Dt_make=function(y){for(var T=new Ct.Table("hmtx",[]),P=0;P<y.length;P+=1){var O=y.get(P),W=O.leftSideBearing||0;T.fields.push({name:"advanceWidth_"+P,type:"USHORT",value:O.advanceWidth||0}),T.fields.push({name:"leftSideBearing_"+P,type:"SHORT",value:W})}return T},Vr_make=function(y){for(var T=new Ct.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:y.length}]),P="",O=12+4*y.length,j=0;j<y.length;++j){var W=P.indexOf(y[j]);W<0&&(W=P.length,P+=y[j]),T.fields.push({name:"offset "+j,type:"USHORT",value:O+W}),T.fields.push({name:"length "+j,type:"USHORT",value:y[j].length})}return T.fields.push({name:"stringPool",type:"CHARARRAY",value:P}),T},Vr_parse=function(y,T){var P=new At.Parser(y,T),O=P.parseULong();We.argument(1===O,"Unsupported ltag table version."),P.skip("uLong",1);for(var j=P.parseULong(),W=[],ne=0;ne<j;ne++){for(var ce="",me=T+P.parseUShort(),Pe=P.parseUShort(),Ue=me;Ue<me+Pe;++Ue)ce+=String.fromCharCode(y.getInt8(Ue));W.push(ce)}return W},$r_parse=function(y,T){var P={},O=new At.Parser(y,T);return P.version=O.parseVersion(),P.numGlyphs=O.parseUShort(),1===P.version&&(P.maxPoints=O.parseUShort(),P.maxContours=O.parseUShort(),P.maxCompositePoints=O.parseUShort(),P.maxCompositeContours=O.parseUShort(),P.maxZones=O.parseUShort(),P.maxTwilightPoints=O.parseUShort(),P.maxStorage=O.parseUShort(),P.maxFunctionDefs=O.parseUShort(),P.maxInstructionDefs=O.parseUShort(),P.maxStackElements=O.parseUShort(),P.maxSizeOfInstructions=O.parseUShort(),P.maxComponentElements=O.parseUShort(),P.maxComponentDepth=O.parseUShort()),P},$r_make=function(y){return new Ct.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:y}])},si=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Sr={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},fn={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},bi={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function qn(y,T,P){switch(y){case 0:if(65535===T)return"und";if(P)return P[T];break;case 1:return Sr[T];case 3:return bi[T]}}var ao="utf-16",ai={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},ld={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Yu(y,T,P){switch(y){case 0:return ao;case 1:return ld[P]||ai[T];case 3:if(1===T||10===T)return ao}}function Gu(y){var T={};for(var P in y)T[y[P]]=parseInt(P);return T}function sn(y,T,P,O,j,W){return new Ct.Record("NameRecord",[{name:"platformID",type:"USHORT",value:y},{name:"encodingID",type:"USHORT",value:T},{name:"languageID",type:"USHORT",value:P},{name:"nameID",type:"USHORT",value:O},{name:"length",type:"USHORT",value:j},{name:"offset",type:"USHORT",value:W}])}function Wu(y,T){var P=function(W,ne){var ce=W.length,me=ne.length-ce+1;e:for(var Pe=0;Pe<me;Pe++)for(;Pe<me;Pe++){for(var Ue=0;Ue<ce;Ue++)if(ne[Pe+Ue]!==W[Ue])continue e;return Pe}return-1}(y,T);if(P<0){P=T.length;for(var O=0,j=y.length;O<j;++O)T.push(y[O])}return P}var dr_parse=function(y,T,P){for(var O={},j=new At.Parser(y,T),W=j.parseUShort(),ne=j.parseUShort(),ce=j.offset+j.parseUShort(),me=0;me<ne;me++){var Pe=j.parseUShort(),Ue=j.parseUShort(),nt=j.parseUShort(),be=j.parseUShort(),Qt=si[be]||be,Ht=j.parseUShort(),St=j.parseUShort(),dt=qn(Pe,nt,P),bt=Yu(Pe,Ue,nt);if(void 0!==bt&&void 0!==dt){var Cn;if(Cn=bt===ao?tt.UTF16(y,ce+St,Ht):tt.MACSTRING(y,ce+St,Ht,bt)){var bn=O[Qt];void 0===bn&&(bn=O[Qt]={}),bn[dt]=Cn}}}return 1===W&&j.parseUShort(),O},dr_make=function(y,T){var P,O=[],j={},W=Gu(si);for(var ne in y){var ce=W[ne];if(void 0===ce&&(ce=ne),P=parseInt(ce),isNaN(P))throw new Error('Name table entry "'+ne+'" does not exist, see nameTableNames for complete list.');j[P]=y[ne],O.push(P)}for(var me=Gu(Sr),Pe=Gu(bi),Ue=[],nt=[],be=0;be<O.length;be++){var Qt=j[P=O[be]];for(var Ht in Qt){var St=Qt[Ht],dt=1,bt=me[Ht],Cn=fn[bt],bn=Yu(dt,Cn,bt),zr=Qe.MACSTRING(St,bn);void 0===zr&&(dt=0,(bt=T.indexOf(Ht))<0&&(bt=T.length,T.push(Ht)),Cn=4,zr=Qe.UTF16(St));var An=Wu(zr,nt);Ue.push(sn(dt,Cn,bt,P,zr.length,An));var Un=Pe[Ht];if(void 0!==Un){var Tn=Qe.UTF16(St),Ar=Wu(Tn,nt);Ue.push(sn(3,1,Un,P,Tn.length,Ar))}}}Ue.sort(function(Jr,Xr){return Jr.platformID-Xr.platformID||Jr.encodingID-Xr.encodingID||Jr.languageID-Xr.languageID||Jr.nameID-Xr.nameID});for(var Pr=new Ct.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:Ue.length},{name:"stringOffset",type:"USHORT",value:6+12*Ue.length}]),Lr=0;Lr<Ue.length;Lr++)Pr.fields.push({name:"record_"+Lr,type:"RECORD",value:Ue[Lr]});return Pr.fields.push({name:"strings",type:"LITERAL",value:nt}),Pr},Ks=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],cd_parse=function(y,T){var P={},O=new At.Parser(y,T);P.version=O.parseUShort(),P.xAvgCharWidth=O.parseShort(),P.usWeightClass=O.parseUShort(),P.usWidthClass=O.parseUShort(),P.fsType=O.parseUShort(),P.ySubscriptXSize=O.parseShort(),P.ySubscriptYSize=O.parseShort(),P.ySubscriptXOffset=O.parseShort(),P.ySubscriptYOffset=O.parseShort(),P.ySuperscriptXSize=O.parseShort(),P.ySuperscriptYSize=O.parseShort(),P.ySuperscriptXOffset=O.parseShort(),P.ySuperscriptYOffset=O.parseShort(),P.yStrikeoutSize=O.parseShort(),P.yStrikeoutPosition=O.parseShort(),P.sFamilyClass=O.parseShort(),P.panose=[];for(var j=0;j<10;j++)P.panose[j]=O.parseByte();return P.ulUnicodeRange1=O.parseULong(),P.ulUnicodeRange2=O.parseULong(),P.ulUnicodeRange3=O.parseULong(),P.ulUnicodeRange4=O.parseULong(),P.achVendID=String.fromCharCode(O.parseByte(),O.parseByte(),O.parseByte(),O.parseByte()),P.fsSelection=O.parseUShort(),P.usFirstCharIndex=O.parseUShort(),P.usLastCharIndex=O.parseUShort(),P.sTypoAscender=O.parseShort(),P.sTypoDescender=O.parseShort(),P.sTypoLineGap=O.parseShort(),P.usWinAscent=O.parseUShort(),P.usWinDescent=O.parseUShort(),1<=P.version&&(P.ulCodePageRange1=O.parseULong(),P.ulCodePageRange2=O.parseULong()),2<=P.version&&(P.sxHeight=O.parseShort(),P.sCapHeight=O.parseShort(),P.usDefaultChar=O.parseUShort(),P.usBreakChar=O.parseUShort(),P.usMaxContent=O.parseUShort()),P},cd_make=function(y){return new Ct.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],y)},cd_getUnicodeRange=function(y){for(var T=0;T<Ks.length;T+=1){var P=Ks[T];if(y>=P.begin&&y<P.end)return T}return-1},S4_parse=function(y,T){var P={},O=new At.Parser(y,T);switch(P.version=O.parseVersion(),P.italicAngle=O.parseFixed(),P.underlinePosition=O.parseShort(),P.underlineThickness=O.parseShort(),P.isFixedPitch=O.parseULong(),P.minMemType42=O.parseULong(),P.maxMemType42=O.parseULong(),P.minMemType1=O.parseULong(),P.maxMemType1=O.parseULong(),P.version){case 1:P.names=Ne.slice();break;case 2:P.numberOfGlyphs=O.parseUShort(),P.glyphNameIndex=new Array(P.numberOfGlyphs);for(var j=0;j<P.numberOfGlyphs;j++)P.glyphNameIndex[j]=O.parseUShort();P.names=[];for(var W=0;W<P.numberOfGlyphs;W++)if(P.glyphNameIndex[W]>=Ne.length){var ne=O.parseChar();P.names.push(O.parseString(ne))}break;case 2.5:P.numberOfGlyphs=O.parseUShort(),P.offset=new Array(P.numberOfGlyphs);for(var ce=0;ce<P.numberOfGlyphs;ce++)P.offset[ce]=O.parseChar()}return P},S4_make=function(){return new Ct.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},Zs=new Array(9);Zs[1]=function(){var y=this.offset+this.relativeOffset,T=this.parseUShort();return 1===T?{substFormat:1,coverage:this.parsePointer(Ge.coverage),deltaGlyphId:this.parseUShort()}:2===T?{substFormat:2,coverage:this.parsePointer(Ge.coverage),substitute:this.parseOffset16List()}:void We.assert(!1,"0x"+y.toString(16)+": lookup type 1 format must be 1 or 2.")},Zs[2]=function(){var y=this.parseUShort();return We.argument(1===y,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:y,coverage:this.parsePointer(Ge.coverage),sequences:this.parseListOfLists()}},Zs[3]=function(){var y=this.parseUShort();return We.argument(1===y,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:y,coverage:this.parsePointer(Ge.coverage),alternateSets:this.parseListOfLists()}},Zs[4]=function(){var y=this.parseUShort();return We.argument(1===y,"GSUB ligature table identifier-format must be 1"),{substFormat:y,coverage:this.parsePointer(Ge.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var nc={sequenceIndex:Ge.uShort,lookupListIndex:Ge.uShort};Zs[5]=function(){var y=this.offset+this.relativeOffset,T=this.parseUShort();if(1===T)return{substFormat:T,coverage:this.parsePointer(Ge.coverage),ruleSets:this.parseListOfLists(function(){var j=this.parseUShort(),W=this.parseUShort();return{input:this.parseUShortList(j-1),lookupRecords:this.parseRecordList(W,nc)}})};if(2===T)return{substFormat:T,coverage:this.parsePointer(Ge.coverage),classDef:this.parsePointer(Ge.classDef),classSets:this.parseListOfLists(function(){var j=this.parseUShort(),W=this.parseUShort();return{classes:this.parseUShortList(j-1),lookupRecords:this.parseRecordList(W,nc)}})};if(3===T){var P=this.parseUShort(),O=this.parseUShort();return{substFormat:T,coverages:this.parseList(P,Ge.pointer(Ge.coverage)),lookupRecords:this.parseRecordList(O,nc)}}We.assert(!1,"0x"+y.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Zs[6]=function(){var y=this.offset+this.relativeOffset,T=this.parseUShort();return 1===T?{substFormat:1,coverage:this.parsePointer(Ge.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(nc)}})}:2===T?{substFormat:2,coverage:this.parsePointer(Ge.coverage),backtrackClassDef:this.parsePointer(Ge.classDef),inputClassDef:this.parsePointer(Ge.classDef),lookaheadClassDef:this.parsePointer(Ge.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(nc)}})}:3===T?{substFormat:3,backtrackCoverage:this.parseList(Ge.pointer(Ge.coverage)),inputCoverage:this.parseList(Ge.pointer(Ge.coverage)),lookaheadCoverage:this.parseList(Ge.pointer(Ge.coverage)),lookupRecords:this.parseRecordList(nc)}:void We.assert(!1,"0x"+y.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Zs[7]=function(){var y=this.parseUShort();We.argument(1===y,"GSUB Extension Substitution subtable identifier-format must be 1");var T=this.parseUShort(),P=new Ge(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:T,extension:Zs[T].call(P)}},Zs[8]=function(){var y=this.parseUShort();return We.argument(1===y,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:y,coverage:this.parsePointer(Ge.coverage),backtrackCoverage:this.parseList(Ge.pointer(Ge.coverage)),lookaheadCoverage:this.parseList(Ge.pointer(Ge.coverage)),substitutes:this.parseUShortList()}};var rc=new Array(9);rc[1]=function(y){return new Ct.Table("substitutionTable",1===y.substFormat?[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ct.Coverage(y.coverage)},{name:"deltaGlyphID",type:"USHORT",value:y.deltaGlyphId}]:[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Ct.Coverage(y.coverage)}].concat(Ct.ushortList("substitute",y.substitute)))},rc[3]=function(y){return We.assert(1===y.substFormat,"Lookup type 3 substFormat must be 1."),new Ct.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ct.Coverage(y.coverage)}].concat(Ct.tableList("altSet",y.alternateSets,function(T){return new Ct.Table("alternateSetTable",Ct.ushortList("alternate",T))})))},rc[4]=function(y){return We.assert(1===y.substFormat,"Lookup type 4 substFormat must be 1."),new Ct.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ct.Coverage(y.coverage)}].concat(Ct.tableList("ligSet",y.ligatureSets,function(T){return new Ct.Table("ligatureSetTable",Ct.tableList("ligature",T,function(P){return new Ct.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:P.ligGlyph}].concat(Ct.ushortList("component",P.components,P.components.length+1)))}))})))};var ud_parse=function(y,T){var P=new Ge(y,T=T||0),O=P.parseVersion(1);return We.argument(1===O||1.1===O,"Unsupported GSUB table version."),1===O?{version:O,scripts:P.parseScriptList(),features:P.parseFeatureList(),lookups:P.parseLookupList(Zs)}:{version:O,scripts:P.parseScriptList(),features:P.parseFeatureList(),lookups:P.parseLookupList(Zs),variations:P.parseFeatureVariationsList()}},ud_make=function(y){return new Ct.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ct.ScriptList(y.scripts)},{name:"features",type:"TABLE",value:new Ct.FeatureList(y.features)},{name:"lookups",type:"TABLE",value:new Ct.LookupList(y.lookups,rc)}])},Uf_parse=function(y,T){var P=new At.Parser(y,T),O=P.parseULong();We.argument(1===O,"Unsupported META table version."),P.parseULong(),P.parseULong();for(var j=P.parseULong(),W={},ne=0;ne<j;ne++){var ce=P.parseTag(),me=P.parseULong(),Pe=P.parseULong(),Ue=tt.UTF8(y,T+me,Pe);W[ce]=Ue}return W},Uf_make=function(y){var T=Object.keys(y).length,P="",O=16+12*T,j=new Ct.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:O},{name:"numTags",type:"ULONG",value:T}]);for(var W in y){var ne=P.length;P+=y[W],j.fields.push({name:"tag "+W,type:"TAG",value:W}),j.fields.push({name:"offset "+W,type:"ULONG",value:O+ne}),j.fields.push({name:"length "+W,type:"ULONG",value:y[W].length})}return j.fields.push({name:"stringPool",type:"CHARARRAY",value:P}),j};function C4(y){return Math.log(y)/Math.log(2)|0}function Wn(y){for(;y.length%4!=0;)y.push(0);for(var T=0,P=0;P<y.length;P+=4)T+=(y[P]<<24)+(y[P+1]<<16)+(y[P+2]<<8)+y[P+3];return T%Math.pow(2,32)}function hd(y,T,P,O){return new Ct.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==y?y:""},{name:"checkSum",type:"ULONG",value:void 0!==T?T:0},{name:"offset",type:"ULONG",value:void 0!==P?P:0},{name:"length",type:"ULONG",value:void 0!==O?O:0}])}function T4(y){var T=new Ct.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);T.tables=y,T.numTables=y.length;var P=Math.pow(2,C4(T.numTables));T.searchRange=16*P,T.entrySelector=C4(P),T.rangeShift=16*T.numTables-T.searchRange;for(var O=[],j=[],W=T.sizeOf()+hd().sizeOf()*T.numTables;W%4!=0;)W+=1,j.push({name:"padding",type:"BYTE",value:0});for(var ne=0;ne<y.length;ne+=1){var ce=y[ne];We.argument(4===ce.tableName.length,"Table name"+ce.tableName+" is invalid.");var me=ce.sizeOf(),Pe=hd(ce.tableName,Wn(ce.encode()),W,me);for(O.push({name:Pe.tag+" Table Record",type:"RECORD",value:Pe}),j.push({name:ce.tableName+" table",type:"RECORD",value:ce}),W+=me,We.argument(!isNaN(W),"Something went wrong calculating the offset.");W%4!=0;)W+=1,j.push({name:"padding",type:"BYTE",value:0})}return O.sort(function(Ue,nt){return Ue.value.tag>nt.value.tag?1:-1}),T.fields=T.fields.concat(O),T.fields=T.fields.concat(j),T}function Va(y,T,P){for(var O=0;O<T.length;O+=1){var j=y.charToGlyphIndex(T[O]);if(0<j)return y.glyphs.get(j).getMetrics()}return P}var E4_fontToTable=function(y){for(var T,P=[],O=[],j=[],W=[],ne=[],ce=[],me=[],Pe=0,Ue=0,nt=0,be=0,Qt=0,Ht=0;Ht<y.glyphs.length;Ht+=1){var St=y.glyphs.get(Ht),dt=0|St.unicode;if(isNaN(St.advanceWidth))throw new Error("Glyph "+St.name+" ("+Ht+"): advanceWidth is not a number.");(dt<T||void 0===T)&&0<dt&&(T=dt),Pe<dt&&(Pe=dt);var bt=cd_getUnicodeRange(dt);if(bt<32)Ue|=1<<bt;else if(bt<64)nt|=1<<bt-32;else if(bt<96)be|=1<<bt-64;else{if(!(bt<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");Qt|=1<<bt-96}if(".notdef"!==St.name){var Cn=St.getMetrics();P.push(Cn.xMin),O.push(Cn.yMin),j.push(Cn.xMax),W.push(Cn.yMax),ce.push(Cn.leftSideBearing),me.push(Cn.rightSideBearing),ne.push(St.advanceWidth)}}var bn={xMin:Math.min.apply(null,P),yMin:Math.min.apply(null,O),xMax:Math.max.apply(null,j),yMax:Math.max.apply(null,W),advanceWidthMax:Math.max.apply(null,ne),advanceWidthAvg:function(Kc){for(var eg=0,Zc=0;Zc<Kc.length;Zc+=1)eg+=Kc[Zc];return eg/Kc.length}(ne),minLeftSideBearing:Math.min.apply(null,ce),maxLeftSideBearing:Math.max.apply(null,ce),minRightSideBearing:Math.min.apply(null,me)};bn.ascender=y.ascender,bn.descender=y.descender;var zr=Vt_make({flags:3,unitsPerEm:y.unitsPerEm,xMin:bn.xMin,yMin:bn.yMin,xMax:bn.xMax,yMax:bn.yMax,lowestRecPPEM:3,createdTimestamp:y.createdTimestamp}),An=cn_make({ascender:bn.ascender,descender:bn.descender,advanceWidthMax:bn.advanceWidthMax,minLeftSideBearing:bn.minLeftSideBearing,minRightSideBearing:bn.minRightSideBearing,xMaxExtent:bn.maxLeftSideBearing+(bn.xMax-bn.xMin),numberOfHMetrics:y.glyphs.length}),Un=$r_make(y.glyphs.length),Tn=cd_make({xAvgCharWidth:Math.round(bn.advanceWidthAvg),usWeightClass:y.tables.os2.usWeightClass,usWidthClass:y.tables.os2.usWidthClass,usFirstCharIndex:T,usLastCharIndex:Pe,ulUnicodeRange1:Ue,ulUnicodeRange2:nt,ulUnicodeRange3:be,ulUnicodeRange4:Qt,fsSelection:y.tables.os2.fsSelection,sTypoAscender:bn.ascender,sTypoDescender:bn.descender,sTypoLineGap:0,usWinAscent:bn.yMax,usWinDescent:Math.abs(bn.yMin),ulCodePageRange1:1,sxHeight:Va(y,"xyvw",{yMax:Math.round(bn.ascender/2)}).yMax,sCapHeight:Va(y,"HIKLEFJMNTZBDPRAGOQSUVWXY",bn).yMax,usDefaultChar:y.hasChar(" ")?32:0,usBreakChar:y.hasChar(" ")?32:0}),Ar=Dt_make(y.glyphs),Pr=le_make(y.glyphs),Lr=y.getEnglishName("fontFamily"),Jr=y.getEnglishName("fontSubfamily"),Xr=Lr+" "+Jr,Ei=y.getEnglishName("postScriptName");Ei=Ei||Lr.replace(/\s/g,"")+"-"+Jr;var Kr={};for(var ei in y.names)Kr[ei]=y.names[ei];Kr.uniqueID||(Kr.uniqueID={en:y.getEnglishName("manufacturer")+":"+Xr}),Kr.postScriptName||(Kr.postScriptName={en:Ei}),Kr.preferredFamily||(Kr.preferredFamily=y.names.fontFamily),Kr.preferredSubfamily||(Kr.preferredSubfamily=y.names.fontSubfamily);var Or=[],ii=dr_make(Kr,Or),Ii=0<Or.length?Vr_make(Or):void 0,Ir=S4_make(),Ui=en_make(y.glyphs,{version:y.getEnglishName("version"),fullName:Xr,familyName:Lr,weightName:Jr,postScriptName:Ei,unitsPerEm:y.unitsPerEm,fontBBox:[0,bn.yMin,bn.ascender,bn.advanceWidthMax]}),ci=y.metas&&0<Object.keys(y.metas).length?Uf_make(y.metas):void 0,Di=[zr,An,Un,Tn,ii,Pr,Ir,Ui,Ar];Ii&&Di.push(Ii),y.tables.gsub&&Di.push(ud_make(y.tables.gsub)),ci&&Di.push(ci);for(var ti=T4(Di),Qu=Wn(ti.encode()),wl=ti.fields,Vs=!1,xi=0;xi<wl.length;xi+=1)if("head table"===wl[xi].name){wl[xi].value.checkSumAdjustment=2981146554-Qu,Vs=!0;break}if(!Vs)throw new Error("Could not find head table with checkSum to adjust.");return ti};function D4(y,T){for(var P=0,O=y.length-1;P<=O;){var j=P+O>>>1,W=y[j].tag;if(W===T)return j;W<T?P=1+j:O=j-1}return-P-1}function Ha(y,T){for(var P=0,O=y.length-1;P<=O;){var j=P+O>>>1,W=y[j];if(W===T)return j;W<T?P=1+j:O=j-1}return-P-1}function Ms(y,T){for(var P,O=0,j=y.length-1;O<=j;){var W=O+j>>>1,ne=(P=y[W]).start;if(ne===T)return P;ne<T?O=1+W:j=W-1}if(0<O)return T>(P=y[O-1]).end?0:P}function Yf(y,T){this.font=y,this.tableName=T}function Gf(y){Yf.call(this,y,"gpos")}function li(y){Yf.call(this,y,"gsub")}function K6(y,T){var P=y.length;if(P!==T.length)return!1;for(var O=0;O<P;O++)if(y[O]!==T[O])return!1;return!0}function z4(y,T,P){for(var O=y.subtables,j=0;j<O.length;j++){var W=O[j];if(W.substFormat===T)return W}if(P)return O.push(P),P}function A4(y){for(var T=new ArrayBuffer(y.length),P=new Uint8Array(T),O=0;O<y.length;++O)P[O]=y[O];return T}function qu(y,T){if(!y)throw T}function Qr(y,T,P,O,j){var W;return 0<(T&O)?(W=y.parseByte(),0==(T&j)&&(W=-W),P+W):0<(T&j)?P:P+y.parseShort()}function Hb(y,T,P){var O,j,W=new At.Parser(T,P);if(y.numberOfContours=W.parseShort(),y._xMin=W.parseShort(),y._yMin=W.parseShort(),y._xMax=W.parseShort(),y._yMax=W.parseShort(),0<y.numberOfContours){for(var ne=y.endPointIndices=[],ce=0;ce<y.numberOfContours;ce+=1)ne.push(W.parseUShort());y.instructionLength=W.parseUShort(),y.instructions=[];for(var me=0;me<y.instructionLength;me+=1)y.instructions.push(W.parseByte());var Pe=ne[ne.length-1]+1;O=[];for(var Ue=0;Ue<Pe;Ue+=1)if(j=W.parseByte(),O.push(j),0<(8&j))for(var nt=W.parseByte(),be=0;be<nt;be+=1)O.push(j),Ue+=1;if(We.argument(O.length===Pe,"Bad flags."),0<ne.length){var Qt,Ht=[];if(0<Pe){for(var St=0;St<Pe;St+=1)(Qt={}).onCurve=!!(1&(j=O[St])),Qt.lastPointOfContour=0<=ne.indexOf(St),Ht.push(Qt);for(var dt=0,bt=0;bt<Pe;bt+=1)(Qt=Ht[bt]).x=Qr(W,j=O[bt],dt,2,16),dt=Qt.x;for(var Cn=0,bn=0;bn<Pe;bn+=1)(Qt=Ht[bn]).y=Qr(W,j=O[bn],Cn,4,32),Cn=Qt.y}y.points=Ht}else y.points=[]}else if(0===y.numberOfContours)y.points=[];else{y.isComposite=!0,y.points=[],y.components=[];for(var zr=!0;zr;){O=W.parseUShort();var An={glyphIndex:W.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&O)?0<(2&O)?(An.dx=W.parseShort(),An.dy=W.parseShort()):An.matchedPoints=[W.parseUShort(),W.parseUShort()]:0<(2&O)?(An.dx=W.parseChar(),An.dy=W.parseChar()):An.matchedPoints=[W.parseByte(),W.parseByte()],0<(8&O)?An.xScale=An.yScale=W.parseF2Dot14():0<(64&O)?(An.xScale=W.parseF2Dot14(),An.yScale=W.parseF2Dot14()):0<(128&O)&&(An.xScale=W.parseF2Dot14(),An.scale01=W.parseF2Dot14(),An.scale10=W.parseF2Dot14(),An.yScale=W.parseF2Dot14()),y.components.push(An),zr=!!(32&O)}if(256&O){y.instructionLength=W.parseUShort(),y.instructions=[];for(var Un=0;Un<y.instructionLength;Un+=1)y.instructions.push(W.parseByte())}}}function P4(y,T){for(var P=[],O=0;O<y.length;O+=1){var j=y[O];P.push({x:T.xScale*j.x+T.scale01*j.y+T.dx,y:T.scale10*j.x+T.yScale*j.y+T.dy,onCurve:j.onCurve,lastPointOfContour:j.lastPointOfContour})}return P}function ic(y){var T=new Le;if(!y)return T;for(var P=function(nt){for(var be=[],Qt=[],Ht=0;Ht<nt.length;Ht+=1){var St=nt[Ht];Qt.push(St),St.lastPointOfContour&&(be.push(Qt),Qt=[])}return We.argument(0===Qt.length,"There are still points left in the current contour."),be}(y),O=0;O<P.length;++O){var j=P[O],ne=j[j.length-1],ce=j[0];if(ne.onCurve)T.moveTo(ne.x,ne.y);else if(ce.onCurve)T.moveTo(ce.x,ce.y);else{var me={x:.5*(ne.x+ce.x),y:.5*(ne.y+ce.y)};T.moveTo(me.x,me.y)}for(var Pe=0;Pe<j.length;++Pe)if(ne=ce,ce=j[(Pe+1)%j.length],ne.onCurve)T.lineTo(ne.x,ne.y);else{var Ue=ce;ce.onCurve||(Ue={x:.5*(ne.x+ce.x),y:.5*(ne.y+ce.y)}),T.quadraticCurveTo(ne.x,ne.y,Ue.x,Ue.y)}T.closePath()}return T}function fi(y,T){if(T.isComposite)for(var P=0;P<T.components.length;P+=1){var O=T.components[P],j=y.get(O.glyphIndex);if(j.getPath(),j.points){var W=void 0;if(void 0===O.matchedPoints)W=P4(j.points,O);else{if(O.matchedPoints[0]>T.points.length-1||O.matchedPoints[1]>j.points.length-1)throw Error("Matched points out of range in "+T.name);var ne=T.points[O.matchedPoints[0]],ce=j.points[O.matchedPoints[1]],me={xScale:O.xScale,scale01:O.scale01,scale10:O.scale10,yScale:O.yScale,dx:0,dy:0};ce=P4([ce],me)[0],me.dx=ne.x-ce.x,me.dy=ne.y-ce.y,W=P4(j.points,me)}T.points=T.points.concat(W)}}return ic(T.points)}(Gf.prototype=Yf.prototype={searchTag:D4,binSearch:Ha,getTable:function(y){var T=this.font.tables[this.tableName];return!T&&y&&(T=this.font.tables[this.tableName]=this.createDefaultTable()),T},getScriptNames:function(){var y=this.getTable();return y?y.scripts.map(function(T){return T.tag}):[]},getDefaultScriptName:function(){var y=this.getTable();if(y){for(var T=!1,P=0;P<y.scripts.length;P++){var O=y.scripts[P].tag;if("DFLT"===O)return O;"latn"===O&&(T=!0)}return T?"latn":void 0}},getScriptTable:function(y,T){var P=this.getTable(T);if(P){var O=P.scripts,j=D4(P.scripts,y=y||"DFLT");if(0<=j)return O[j].script;if(T){var W={tag:y,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return O.splice(-1-j,0,W),W.script}}},getLangSysTable:function(y,T,P){var O=this.getScriptTable(y,P);if(O){if(!T||"dflt"===T||"DFLT"===T)return O.defaultLangSys;var j=D4(O.langSysRecords,T);if(0<=j)return O.langSysRecords[j].langSys;if(P){var W={tag:T,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return O.langSysRecords.splice(-1-j,0,W),W.langSys}}},getFeatureTable:function(y,T,P,O){var j=this.getLangSysTable(y,T,O);if(j){for(var W,ne=j.featureIndexes,ce=this.font.tables[this.tableName].features,me=0;me<ne.length;me++)if((W=ce[ne[me]]).tag===P)return W.feature;if(O){var Pe=ce.length;return We.assert(0===Pe||P>=ce[Pe-1].tag,"Features must be added in alphabetical order."),ce.push(W={tag:P,feature:{params:0,lookupListIndexes:[]}}),ne.push(Pe),W.feature}}},getLookupTables:function(y,T,P,O,j){var W=this.getFeatureTable(y,T,P,j),ne=[];if(W){for(var ce,me=W.lookupListIndexes,Pe=this.font.tables[this.tableName].lookups,Ue=0;Ue<me.length;Ue++)(ce=Pe[me[Ue]]).lookupType===O&&ne.push(ce);if(0===ne.length&&j){var nt=Pe.length;return Pe.push(ce={lookupType:O,lookupFlag:0,subtables:[],markFilteringSet:void 0}),me.push(nt),[ce]}}return ne},getGlyphClass:function(y,T){switch(y.format){case 1:return y.startGlyph<=T&&T<y.startGlyph+y.classes.length?y.classes[T-y.startGlyph]:0;case 2:var P=Ms(y.ranges,T);return P?P.classId:0}},getCoverageIndex:function(y,T){switch(y.format){case 1:var P=Ha(y.glyphs,T);return 0<=P?P:-1;case 2:var O=Ms(y.ranges,T);return O?O.index+T-O.start:-1}},expandCoverage:function(y){if(1===y.format)return y.glyphs;for(var T=[],P=y.ranges,O=0;O<P.length;O++)for(var j=P[O],ne=j.end,ce=j.start;ce<=ne;ce++)T.push(ce);return T}}).init=function(){var y=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(y)},Gf.prototype.getKerningValue=function(y,T,P){for(var O=0;O<y.length;O++)for(var j=y[O].subtables,W=0;W<j.length;W++){var ne=j[W],ce=this.getCoverageIndex(ne.coverage,T);if(!(ce<0))switch(ne.posFormat){case 1:for(var me=ne.pairSets[ce],Pe=0;Pe<me.length;Pe++){var Ue=me[Pe];if(Ue.secondGlyph===P)return Ue.value1&&Ue.value1.xAdvance||0}break;case 2:var nt=this.getGlyphClass(ne.classDef1,T),be=this.getGlyphClass(ne.classDef2,P),Qt=ne.classRecords[nt][be];return Qt.value1&&Qt.value1.xAdvance||0}}return 0},Gf.prototype.getKerningTables=function(y,T){if(this.font.tables.gpos)return this.getLookupTables(y,T,"kern",2)},(li.prototype=Yf.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},li.prototype.getSingle=function(y,T,P){for(var O=[],j=this.getLookupTables(T,P,y,1),W=0;W<j.length;W++)for(var ne=j[W].subtables,ce=0;ce<ne.length;ce++){var me=ne[ce],Pe=this.expandCoverage(me.coverage),Ue=void 0;if(1===me.substFormat){var nt=me.deltaGlyphId;for(Ue=0;Ue<Pe.length;Ue++){var be=Pe[Ue];O.push({sub:be,by:be+nt})}}else{var Qt=me.substitute;for(Ue=0;Ue<Pe.length;Ue++)O.push({sub:Pe[Ue],by:Qt[Ue]})}}return O},li.prototype.getAlternates=function(y,T,P){for(var O=[],j=this.getLookupTables(T,P,y,3),W=0;W<j.length;W++)for(var ne=j[W].subtables,ce=0;ce<ne.length;ce++)for(var me=ne[ce],Pe=this.expandCoverage(me.coverage),Ue=me.alternateSets,nt=0;nt<Pe.length;nt++)O.push({sub:Pe[nt],by:Ue[nt]});return O},li.prototype.getLigatures=function(y,T,P){for(var O=[],j=this.getLookupTables(T,P,y,4),W=0;W<j.length;W++)for(var ne=j[W].subtables,ce=0;ce<ne.length;ce++)for(var me=ne[ce],Pe=this.expandCoverage(me.coverage),Ue=me.ligatureSets,nt=0;nt<Pe.length;nt++)for(var be=Pe[nt],Qt=Ue[nt],Ht=0;Ht<Qt.length;Ht++){var St=Qt[Ht];O.push({sub:[be].concat(St.components),by:St.ligGlyph})}return O},li.prototype.addSingle=function(y,T,P,O){var j=z4(this.getLookupTables(P,O,y,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});We.assert(1===j.coverage.format,"Ligature: unable to modify coverage table format "+j.coverage.format);var W=T.sub,ne=this.binSearch(j.coverage.glyphs,W);ne<0&&(j.coverage.glyphs.splice(ne=-1-ne,0,W),j.substitute.splice(ne,0,0)),j.substitute[ne]=T.by},li.prototype.addAlternate=function(y,T,P,O){var j=z4(this.getLookupTables(P,O,y,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});We.assert(1===j.coverage.format,"Ligature: unable to modify coverage table format "+j.coverage.format);var W=T.sub,ne=this.binSearch(j.coverage.glyphs,W);ne<0&&(j.coverage.glyphs.splice(ne=-1-ne,0,W),j.alternateSets.splice(ne,0,0)),j.alternateSets[ne]=T.by},li.prototype.addLigature=function(y,T,P,O){var j=this.getLookupTables(P,O,y,4,!0)[0],W=j.subtables[0];W||(j.subtables[0]=W={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),We.assert(1===W.coverage.format,"Ligature: unable to modify coverage table format "+W.coverage.format);var ne=T.sub[0],ce=T.sub.slice(1),me={ligGlyph:T.by,components:ce},Pe=this.binSearch(W.coverage.glyphs,ne);if(0<=Pe){for(var Ue=W.ligatureSets[Pe],nt=0;nt<Ue.length;nt++)if(K6(Ue[nt].components,ce))return;Ue.push(me)}else W.coverage.glyphs.splice(Pe=-1-Pe,0,ne),W.ligatureSets.splice(Pe,0,[me])},li.prototype.getFeature=function(y,T,P){if(/ss\d\d/.test(y))return this.getSingle(y,T,P);switch(y){case"aalt":case"salt":return this.getSingle(y,T,P).concat(this.getAlternates(y,T,P));case"dlig":case"liga":case"rlig":return this.getLigatures(y,T,P)}},li.prototype.add=function(y,T,P,O){if(/ss\d\d/.test(y))return this.addSingle(y,T,P,O);switch(y){case"aalt":case"salt":return"number"==typeof T.by?this.addSingle(y,T,P,O):this.addAlternate(y,T,P,O);case"dlig":case"liga":case"rlig":return this.addLigature(y,T,P,O)}};var $u,Ba,dd,fd,k4={getPath:ic,parse:function(y,T,P,O){for(var j=new Kt.GlyphSet(O),W=0;W<P.length-1;W+=1){var ne=P[W];j.push(W,ne!==P[W+1]?Kt.ttfGlyphLoader(O,W,Hb,y,T+ne,fi):Kt.glyphLoader(O,W))}return j}};function ga(y){this.font=y,this.getCommands=function(T){return k4.getPath(T).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Xu(y){return y}function L4(y){return Math.sign(y)*Math.round(Math.abs(y))}function tr(y){return Math.sign(y)*Math.round(Math.abs(2*y))/2}function Z6(y){return Math.sign(y)*(Math.round(Math.abs(y)+.5)-.5)}function O4(y){return Math.sign(y)*Math.ceil(Math.abs(y))}function I4(y){return Math.sign(y)*Math.floor(Math.abs(y))}function Wf(y){var T=this.srPeriod,P=this.srPhase,O=1;return y<0&&(y=-y,O=-1),y+=this.srThreshold-P,y=Math.trunc(y/T)*T,(y+=P)<0?P*O:y*O}var $n={x:1,y:0,axis:"x",distance:function(y,T,P,O){return(P?y.xo:y.x)-(O?T.xo:T.x)},interpolate:function(y,T,P,O){var j,W,ne,ce,me,Pe,Ue;if(!O||O===this)return j=y.xo-T.xo,W=y.xo-P.xo,me=T.x-T.xo,Pe=P.x-P.xo,0===(Ue=(ne=Math.abs(j))+(ce=Math.abs(W)))?void(y.x=y.xo+(me+Pe)/2):void(y.x=y.xo+(me*ce+Pe*ne)/Ue);j=O.distance(y,T,!0,!0),W=O.distance(y,P,!0,!0),me=O.distance(T,T,!1,!0),Pe=O.distance(P,P,!1,!0),0!==(Ue=(ne=Math.abs(j))+(ce=Math.abs(W)))?$n.setRelative(y,y,(me*ce+Pe*ne)/Ue,O,!0):$n.setRelative(y,y,(me+Pe)/2,O,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(y,T,P,O,j){y.x=O&&O!==this?(j?T.xo:T.x)+P*O.x+(y.y-((j?T.yo:T.y)+P*O.y))/O.normalSlope:(j?T.xo:T.x)+P},slope:0,touch:function(y){y.xTouched=!0},touched:function(y){return y.xTouched},untouch:function(y){y.xTouched=!1}},ja={x:0,y:1,axis:"y",distance:function(y,T,P,O){return(P?y.yo:y.y)-(O?T.yo:T.y)},interpolate:function(y,T,P,O){var j,W,ne,ce,me,Pe,Ue;if(!O||O===this)return j=y.yo-T.yo,W=y.yo-P.yo,me=T.y-T.yo,Pe=P.y-P.yo,0===(Ue=(ne=Math.abs(j))+(ce=Math.abs(W)))?void(y.y=y.yo+(me+Pe)/2):void(y.y=y.yo+(me*ce+Pe*ne)/Ue);j=O.distance(y,T,!0,!0),W=O.distance(y,P,!0,!0),me=O.distance(T,T,!1,!0),Pe=O.distance(P,P,!1,!0),0!==(Ue=(ne=Math.abs(j))+(ce=Math.abs(W)))?ja.setRelative(y,y,(me*ce+Pe*ne)/Ue,O,!0):ja.setRelative(y,y,(me+Pe)/2,O,!0)},normalSlope:0,setRelative:function(y,T,P,O,j){y.y=O&&O!==this?(j?T.yo:T.y)+P*O.y+O.normalSlope*(y.x-((j?T.xo:T.x)+P*O.x)):(j?T.yo:T.y)+P},slope:Number.POSITIVE_INFINITY,touch:function(y){y.yTouched=!0},touched:function(y){return y.yTouched},untouch:function(y){y.yTouched=!1}};function $c(y,T){this.x=y,this.y=T,this.axis=void 0,this.slope=T/y,this.normalSlope=-y/T,Object.freeze(this)}function tn(y,T){var P=Math.sqrt(y*y+T*T);return T/=P,1==(y/=P)&&0===T?$n:0===y&&1===T?ja:new $c(y,T)}function Oi(y,T,P,O){this.x=this.xo=Math.round(64*y)/64,this.y=this.yo=Math.round(64*T)/64,this.lastPointOfContour=P,this.onCurve=O,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze($n),Object.freeze(ja),$c.prototype.distance=function(y,T,P,O){return this.x*$n.distance(y,T,P,O)+this.y*ja.distance(y,T,P,O)},$c.prototype.interpolate=function(y,T,P,O){var j,W,ne,ce,me,Pe,Ue;ne=O.distance(y,T,!0,!0),ce=O.distance(y,P,!0,!0),j=O.distance(T,T,!1,!0),W=O.distance(P,P,!1,!0),0!==(Ue=(me=Math.abs(ne))+(Pe=Math.abs(ce)))?this.setRelative(y,y,(j*Pe+W*me)/Ue,O,!0):this.setRelative(y,y,(j+W)/2,O,!0)},$c.prototype.setRelative=function(y,T,P,O,j){var Pe=(O=O||this).normalSlope,Ue=this.slope,nt=y.x,be=y.y;y.x=(Ue*nt-Pe*((j?T.xo:T.x)+P*O.x)+((j?T.yo:T.y)+P*O.y)-be)/(Ue-Pe),y.y=Ue*(y.x-nt)+be},$c.prototype.touch=function(y){y.xTouched=!0,y.yTouched=!0},Oi.prototype.nextTouched=function(y){for(var T=this.nextPointOnContour;!y.touched(T)&&T!==this;)T=T.nextPointOnContour;return T},Oi.prototype.prevTouched=function(y){for(var T=this.prevPointOnContour;!y.touched(T)&&T!==this;)T=T.prevPointOnContour;return T};var lo=Object.freeze(new Oi(0,0)),yl={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function ss(y,T){switch(this.env=y,this.stack=[],this.prog=T,y){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=$n,this.round=L4}}function Ko(y){for(var T=y.tZone=new Array(y.gZone.length),P=0;P<T.length;P++)T[P]=new Oi(0,0)}function R4(y,T){var P,O=y.prog,j=y.ip,W=1;do{if(88===(P=O[++j]))W++;else if(89===P)W--;else if(64===P)j+=O[j+1]+1;else if(65===P)j+=2*O[j+1]+1;else if(176<=P&&P<=183)j+=P-176+1;else if(184<=P&&P<=191)j+=2*(P-184+1);else if(T&&1===W&&27===P)break}while(0<W);y.ip=j}function Ss(y,T){x.DEBUG&&console.log(T.step,"SVTCA["+y.axis+"]"),T.fv=T.pv=T.dpv=y}function pn(y,T){x.DEBUG&&console.log(T.step,"SPVTCA["+y.axis+"]"),T.pv=T.dpv=y}function Cr(y,T){x.DEBUG&&console.log(T.step,"SFVTCA["+y.axis+"]"),T.fv=y}function Ti(y,T){var P,O,j=T.stack,W=j.pop(),ne=j.pop(),ce=T.z2[W],me=T.z1[ne];x.DEBUG&&console.log("SPVTL["+y+"]",W,ne),O=y?(P=ce.y-me.y,me.x-ce.x):(P=me.x-ce.x,me.y-ce.y),T.pv=T.dpv=tn(P,O)}function as(y,T){var P,O,j=T.stack,W=j.pop(),ne=j.pop(),ce=T.z2[W],me=T.z1[ne];x.DEBUG&&console.log("SFVTL["+y+"]",W,ne),O=y?(P=ce.y-me.y,me.x-ce.x):(P=me.x-ce.x,me.y-ce.y),T.fv=tn(P,O)}function Ua(y){x.DEBUG&&console.log(y.step,"POP[]"),y.stack.pop()}function co(y,T){var P=T.stack.pop(),O=T.z0[P],j=T.fv,W=T.pv;x.DEBUG&&console.log(T.step,"MDAP["+y+"]",P);var ne=W.distance(O,lo);y&&(ne=T.round(ne)),j.setRelative(O,lo,ne,W),j.touch(O),T.rp0=T.rp1=P}function _l(y,T){var P,O,j,W=T.z2,ne=W.length-2;x.DEBUG&&console.log(T.step,"IUP["+y.axis+"]");for(var ce=0;ce<ne;ce++)y.touched(P=W[ce])||(O=P.prevTouched(y))!==P&&(O===(j=P.nextTouched(y))&&y.setRelative(P,P,y.distance(O,O,!1,!0),y,!0),y.interpolate(P,O,j,y))}function Vi(y,T){for(var P=T.stack,j=(y?T.z0:T.z1)[y?T.rp1:T.rp2],W=T.fv,ne=T.pv,ce=T.loop,me=T.z2;ce--;){var Pe=P.pop(),Ue=me[Pe],nt=ne.distance(j,j,!1,!0);W.setRelative(Ue,Ue,nt,ne),W.touch(Ue),x.DEBUG&&console.log(T.step,(1<T.loop?"loop "+(T.loop-ce)+": ":"")+"SHP["+(y?"rp1":"rp2")+"]",Pe)}T.loop=1}function Xc(y,T){var j=(y?T.z0:T.z1)[y?T.rp1:T.rp2],W=T.fv,ne=T.pv,ce=T.stack.pop(),me=T.z2[T.contours[ce]],Pe=me;x.DEBUG&&console.log(T.step,"SHC["+y+"]",ce);for(var Ue=ne.distance(j,j,!1,!0);Pe!==j&&W.setRelative(Pe,Pe,Ue,ne),(Pe=Pe.nextPointOnContour)!==me;);}function oc(y,T){var P,O,ne=(y?T.z0:T.z1)[y?T.rp1:T.rp2],ce=T.fv,me=T.pv,Pe=T.stack.pop();switch(x.DEBUG&&console.log(T.step,"SHZ["+y+"]",Pe),Pe){case 0:P=T.tZone;break;case 1:P=T.gZone;break;default:throw new Error("Invalid zone")}for(var Ue=me.distance(ne,ne,!1,!0),nt=P.length-2,be=0;be<nt;be++)ce.setRelative(O=P[be],O,Ue,me)}function xr(y,T){var P=T.stack,O=P.pop()/64,j=P.pop(),W=T.z1[j],ce=T.fv;ce.setRelative(W,T.z0[T.rp0],O,T.pv),ce.touch(W),x.DEBUG&&console.log(T.step,"MSIRP["+y+"]",O,j),T.rp1=T.rp0,T.rp2=j,y&&(T.rp0=j)}function Ku(y,T){var P=T.stack,O=P.pop(),j=P.pop(),W=T.z0[j],ne=T.fv,ce=T.pv,me=T.cvt[O];x.DEBUG&&console.log(T.step,"MIAP["+y+"]",O,"(",me,")",j);var Pe=ce.distance(W,lo);y&&(Math.abs(Pe-me)<T.cvCutIn&&(Pe=me),Pe=T.round(Pe)),ne.setRelative(W,lo,Pe,ce),0===T.zp0&&(W.xo=W.x,W.yo=W.y),ne.touch(W),T.rp0=T.rp1=j}function sc(y,T){var P=T.stack,O=P.pop(),j=T.z2[O];x.DEBUG&&console.log(T.step,"GC["+y+"]",O),P.push(64*T.dpv.distance(j,lo,y,!1))}function pd(y,T){var P=T.stack,O=P.pop(),j=P.pop(),ce=T.dpv.distance(T.z0[j],T.z1[O],y,y);x.DEBUG&&console.log(T.step,"MD["+y+"]",O,j,"->",ce),T.stack.push(Math.round(64*ce))}function bl(y,T){var P=T.stack,O=P.pop(),j=T.fv,W=T.pv,ne=T.ppem,ce=T.deltaBase+16*(y-1),me=T.deltaShift,Pe=T.z0;x.DEBUG&&console.log(T.step,"DELTAP["+y+"]",O,P);for(var Ue=0;Ue<O;Ue++){var nt=P.pop(),be=P.pop();if(ce+((240&be)>>4)===ne){var Qt=(15&be)-8;0<=Qt&&Qt++,x.DEBUG&&console.log(T.step,"DELTAPFIX",nt,"by",Qt*me);var Ht=Pe[nt];j.setRelative(Ht,Ht,Qt*me,W)}}}function Ao(y,T){var P=T.stack,O=P.pop();x.DEBUG&&console.log(T.step,"ROUND[]"),P.push(64*T.round(O/64))}function ac(y,T){var P=T.stack,O=P.pop(),j=T.ppem,W=T.deltaBase+16*(y-1),ne=T.deltaShift;x.DEBUG&&console.log(T.step,"DELTAC["+y+"]",O,P);for(var ce=0;ce<O;ce++){var me=P.pop(),Pe=P.pop();if(W+((240&Pe)>>4)===j){var Ue=(15&Pe)-8;0<=Ue&&Ue++;var nt=Ue*ne;x.DEBUG&&console.log(T.step,"DELTACFIX",me,"by",nt),T.cvt[me]+=nt}}}function lc(y,T){var P,O,j=T.stack,W=j.pop(),ne=j.pop(),ce=T.z2[W],me=T.z1[ne];x.DEBUG&&console.log(T.step,"SDPVTL["+y+"]",W,ne),O=y?(P=ce.y-me.y,me.x-ce.x):(P=me.x-ce.x,me.y-ce.y),T.dpv=tn(P,O)}function bo(y,T){var P=T.stack,O=T.prog,j=T.ip;x.DEBUG&&console.log(T.step,"PUSHB["+y+"]");for(var W=0;W<y;W++)P.push(O[++j]);T.ip=j}function Gr(y,T){var P=T.ip,O=T.prog,j=T.stack;x.DEBUG&&console.log(T.ip,"PUSHW["+y+"]");for(var W=0;W<y;W++){var ne=O[++P]<<8|O[++P];32768&ne&&(ne=-(1+(65535^ne))),j.push(ne)}T.ip=P}function zn(y,T,P,O,j,W){var ne,ce,me,Pe,Ue=W.stack,nt=y&&Ue.pop(),be=Ue.pop(),Ht=W.z0[W.rp0],St=W.z1[be],dt=W.minDis,bt=W.fv,Cn=W.dpv;me=0<=(ce=ne=Cn.distance(St,Ht,!0,!0))?1:-1,ce=Math.abs(ce),y&&(Pe=W.cvt[nt],O&&Math.abs(ce-Pe)<W.cvCutIn&&(ce=Pe)),P&&ce<dt&&(ce=dt),O&&(ce=W.round(ce)),bt.setRelative(St,Ht,me*ce,Cn),bt.touch(St),x.DEBUG&&console.log(W.step,(y?"MIRP[":"MDRP[")+(T?"M":"m")+(P?">":"_")+(O?"R":"_")+(0===j?"Gr":1===j?"Bl":2===j?"Wh":"")+"]",y?nt+"("+W.cvt[nt]+","+Pe+")":"",be,"(d =",ne,"->",me*ce,")"),W.rp1=W.rp0,W.rp2=be,T&&(W.rp0=be)}ga.prototype.exec=function(y,T){if("number"!=typeof T)throw new Error("Point size is not a number!");if(!(2<this._errorState)){var P=this.font,O=this._prepState;if(!O||O.ppem!==T){var j=this._fpgmState;if(!j){ss.prototype=yl,(j=this._fpgmState=new ss("fpgm",P.tables.fpgm)).funcs=[],j.font=P,x.DEBUG&&(console.log("---EXEC FPGM---"),j.step=-1);try{Ba(j)}catch(Pe){return console.log("Hinting error in FPGM:"+Pe),void(this._errorState=3)}}ss.prototype=j,(O=this._prepState=new ss("prep",P.tables.prep)).ppem=T;var W=P.tables.cvt;if(W)for(var ne=O.cvt=new Array(W.length),ce=T/P.unitsPerEm,me=0;me<W.length;me++)ne[me]=W[me]*ce;else O.cvt=[];x.DEBUG&&(console.log("---EXEC PREP---"),O.step=-1);try{Ba(O)}catch(Pe){this._errorState<2&&console.log("Hinting error in PREP:"+Pe),this._errorState=2}}if(!(1<this._errorState))try{return dd(y,O)}catch(Pe){return this._errorState<1&&(console.log("Hinting error:"+Pe),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},dd=function(y,T){var P,O,j,W=T.ppem/T.font.unitsPerEm,ne=W,ce=y.components;if(ss.prototype=T,ce){var me=T.font;O=[],P=[];for(var Pe=0;Pe<ce.length;Pe++){var Ue=ce[Pe],nt=me.glyphs.get(Ue.glyphIndex);j=new ss("glyf",nt.instructions),x.DEBUG&&(console.log("---EXEC COMP "+Pe+"---"),j.step=-1),fd(nt,j,W,ne);for(var be=Math.round(Ue.dx*W),Qt=Math.round(Ue.dy*ne),Ht=j.gZone,St=j.contours,dt=0;dt<Ht.length;dt++){var bt=Ht[dt];bt.xTouched=bt.yTouched=!1,bt.xo=bt.x=bt.x+be,bt.yo=bt.y=bt.y+Qt}var Cn=O.length;O.push.apply(O,Ht);for(var bn=0;bn<St.length;bn++)P.push(St[bn]+Cn)}y.instructions&&!j.inhibitGridFit&&((j=new ss("glyf",y.instructions)).gZone=j.z0=j.z1=j.z2=O,j.contours=P,O.push(new Oi(0,0),new Oi(Math.round(y.advanceWidth*W),0)),x.DEBUG&&(console.log("---EXEC COMPOSITE---"),j.step=-1),Ba(j),O.length-=2)}else j=new ss("glyf",y.instructions),x.DEBUG&&(console.log("---EXEC GLYPH---"),j.step=-1),fd(y,j,W,ne),O=j.gZone;return O},fd=function(y,T,P,O){for(var j,W,ce=y.points||[],me=ce.length,Pe=T.gZone=T.z0=T.z1=T.z2=[],Ue=T.contours=[],nt=0;nt<me;nt++)Pe[nt]=new Oi((j=ce[nt]).x*P,j.y*O,j.lastPointOfContour,j.onCurve);for(var be=0;be<me;be++)j=Pe[be],W||(W=j,Ue.push(be)),j.lastPointOfContour?((j.nextPointOnContour=W).prevPointOnContour=j,W=void 0):(j.nextPointOnContour=Pe[be+1]).prevPointOnContour=j;if(!T.inhibitGridFit){if(x.DEBUG){console.log("PROCESSING GLYPH",T.stack);for(var Qt=0;Qt<me;Qt++)console.log(Qt,Pe[Qt].x,Pe[Qt].y)}if(Pe.push(new Oi(0,0),new Oi(Math.round(y.advanceWidth*P),0)),Ba(T),Pe.length-=2,x.DEBUG){console.log("FINISHED GLYPH",T.stack);for(var Ht=0;Ht<me;Ht++)console.log(Ht,Pe[Ht].x,Pe[Ht].y)}}},Ba=function(y){var T=y.prog;if(T){var P,O=T.length;for(y.ip=0;y.ip<O;y.ip++){if(x.DEBUG&&y.step++,!(P=$u[T[y.ip]]))throw new Error("unknown instruction: 0x"+Number(T[y.ip]).toString(16));P(y)}}},$u=[Ss.bind(void 0,ja),Ss.bind(void 0,$n),pn.bind(void 0,ja),pn.bind(void 0,$n),Cr.bind(void 0,ja),Cr.bind(void 0,$n),Ti.bind(void 0,0),Ti.bind(void 0,1),as.bind(void 0,0),as.bind(void 0,1),function(y){var T=y.stack,P=T.pop(),O=T.pop();x.DEBUG&&console.log(y.step,"SPVFS[]",P,O),y.pv=y.dpv=tn(O,P)},function(y){var T=y.stack,P=T.pop(),O=T.pop();x.DEBUG&&console.log(y.step,"SPVFS[]",P,O),y.fv=tn(O,P)},function(y){var T=y.stack,P=y.pv;x.DEBUG&&console.log(y.step,"GPV[]"),T.push(16384*P.x),T.push(16384*P.y)},function(y){var T=y.stack,P=y.fv;x.DEBUG&&console.log(y.step,"GFV[]"),T.push(16384*P.x),T.push(16384*P.y)},function(y){y.fv=y.pv,x.DEBUG&&console.log(y.step,"SFVTPV[]")},function(y){var T=y.stack,P=T.pop(),O=T.pop(),j=T.pop(),W=T.pop(),ne=T.pop(),ce=y.z0,me=y.z1,Pe=ce[P],Ue=ce[O],nt=me[j],be=me[W],Qt=y.z2[ne];x.DEBUG&&console.log("ISECT[], ",P,O,j,W,ne);var Ht=Pe.x,St=Pe.y,dt=Ue.x,bt=Ue.y,Cn=nt.x,bn=nt.y,zr=be.x,An=be.y,Un=(Ht-dt)*(bn-An)-(St-bt)*(Cn-zr),Tn=Ht*bt-St*dt,Ar=Cn*An-bn*zr;Qt.x=(Tn*(Cn-zr)-Ar*(Ht-dt))/Un,Qt.y=(Tn*(bn-An)-Ar*(St-bt))/Un},function(y){y.rp0=y.stack.pop(),x.DEBUG&&console.log(y.step,"SRP0[]",y.rp0)},function(y){y.rp1=y.stack.pop(),x.DEBUG&&console.log(y.step,"SRP1[]",y.rp1)},function(y){y.rp2=y.stack.pop(),x.DEBUG&&console.log(y.step,"SRP2[]",y.rp2)},function(y){var T=y.stack.pop();switch(x.DEBUG&&console.log(y.step,"SZP0[]",T),y.zp0=T){case 0:y.tZone||Ko(y),y.z0=y.tZone;break;case 1:y.z0=y.gZone;break;default:throw new Error("Invalid zone pointer")}},function(y){var T=y.stack.pop();switch(x.DEBUG&&console.log(y.step,"SZP1[]",T),y.zp1=T){case 0:y.tZone||Ko(y),y.z1=y.tZone;break;case 1:y.z1=y.gZone;break;default:throw new Error("Invalid zone pointer")}},function(y){var T=y.stack.pop();switch(x.DEBUG&&console.log(y.step,"SZP2[]",T),y.zp2=T){case 0:y.tZone||Ko(y),y.z2=y.tZone;break;case 1:y.z2=y.gZone;break;default:throw new Error("Invalid zone pointer")}},function(y){var T=y.stack.pop();switch(x.DEBUG&&console.log(y.step,"SZPS[]",T),y.zp0=y.zp1=y.zp2=T,T){case 0:y.tZone||Ko(y),y.z0=y.z1=y.z2=y.tZone;break;case 1:y.z0=y.z1=y.z2=y.gZone;break;default:throw new Error("Invalid zone pointer")}},function(y){y.loop=y.stack.pop(),x.DEBUG&&console.log(y.step,"SLOOP[]",y.loop)},function(y){x.DEBUG&&console.log(y.step,"RTG[]"),y.round=L4},function(y){x.DEBUG&&console.log(y.step,"RTHG[]"),y.round=Z6},function(y){var T=y.stack.pop();x.DEBUG&&console.log(y.step,"SMD[]",T),y.minDis=T/64},function(y){x.DEBUG&&console.log(y.step,"ELSE[]"),R4(y,!1)},function(y){var T=y.stack.pop();x.DEBUG&&console.log(y.step,"JMPR[]",T),y.ip+=T-1},function(y){var T=y.stack.pop();x.DEBUG&&console.log(y.step,"SCVTCI[]",T),y.cvCutIn=T/64},void 0,void 0,function(y){var T=y.stack;x.DEBUG&&console.log(y.step,"DUP[]"),T.push(T[T.length-1])},Ua,function(y){x.DEBUG&&console.log(y.step,"CLEAR[]"),y.stack.length=0},function(y){var T=y.stack,P=T.pop(),O=T.pop();x.DEBUG&&console.log(y.step,"SWAP[]"),T.push(P),T.push(O)},function(y){var T=y.stack;x.DEBUG&&console.log(y.step,"DEPTH[]"),T.push(T.length)},function(y){var T=y.stack,P=T.pop();x.DEBUG&&console.log(y.step,"CINDEX[]",P),T.push(T[T.length-P])},function(y){var T=y.stack,P=T.pop();x.DEBUG&&console.log(y.step,"MINDEX[]",P),T.push(T.splice(T.length-P,1)[0])},void 0,void 0,void 0,function(y){var T=y.stack,P=T.pop(),O=T.pop();x.DEBUG&&console.log(y.step,"LOOPCALL[]",P,O);var j=y.ip,W=y.prog;y.prog=y.funcs[P];for(var ne=0;ne<O;ne++)Ba(y),x.DEBUG&&console.log(++y.step,ne+1<O?"next loopcall":"done loopcall",ne);y.ip=j,y.prog=W},function(y){var T=y.stack.pop();x.DEBUG&&console.log(y.step,"CALL[]",T);var P=y.ip,O=y.prog;y.prog=y.funcs[T],Ba(y),y.ip=P,y.prog=O,x.DEBUG&&console.log(++y.step,"returning from",T)},function(y){if("fpgm"!==y.env)throw new Error("FDEF not allowed here");var P=y.prog,O=y.ip,j=y.stack.pop(),W=O;for(x.DEBUG&&console.log(y.step,"FDEF[]",j);45!==P[++O];);y.ip=O,y.funcs[j]=P.slice(W+1,O)},void 0,co.bind(void 0,0),co.bind(void 0,1),_l.bind(void 0,ja),_l.bind(void 0,$n),Vi.bind(void 0,0),Vi.bind(void 0,1),Xc.bind(void 0,0),Xc.bind(void 0,1),oc.bind(void 0,0),oc.bind(void 0,1),function(y){for(var T=y.stack,P=y.loop,O=y.fv,j=T.pop()/64,W=y.z2;P--;){var ne=T.pop(),ce=W[ne];x.DEBUG&&console.log(y.step,(1<y.loop?"loop "+(y.loop-P)+": ":"")+"SHPIX[]",ne,j),O.setRelative(ce,ce,j),O.touch(ce)}y.loop=1},function(y){for(var T=y.stack,P=y.rp1,O=y.rp2,j=y.loop,W=y.z0[P],ne=y.z1[O],ce=y.fv,me=y.dpv,Pe=y.z2;j--;){var Ue=T.pop(),nt=Pe[Ue];x.DEBUG&&console.log(y.step,(1<y.loop?"loop "+(y.loop-j)+": ":"")+"IP[]",Ue,P,"<->",O),ce.interpolate(nt,W,ne,me),ce.touch(nt)}y.loop=1},xr.bind(void 0,0),xr.bind(void 0,1),function(y){for(var T=y.stack,O=y.z0[y.rp0],j=y.loop,W=y.fv,ne=y.pv,ce=y.z1;j--;){var me=T.pop(),Pe=ce[me];x.DEBUG&&console.log(y.step,(1<y.loop?"loop "+(y.loop-j)+": ":"")+"ALIGNRP[]",me),W.setRelative(Pe,O,0,ne),W.touch(Pe)}y.loop=1},function(y){x.DEBUG&&console.log(y.step,"RTDG[]"),y.round=tr},Ku.bind(void 0,0),Ku.bind(void 0,1),function(y){var T=y.prog,P=y.ip,O=y.stack,j=T[++P];x.DEBUG&&console.log(y.step,"NPUSHB[]",j);for(var W=0;W<j;W++)O.push(T[++P]);y.ip=P},function(y){var T=y.ip,P=y.prog,O=y.stack,j=P[++T];x.DEBUG&&console.log(y.step,"NPUSHW[]",j);for(var W=0;W<j;W++){var ne=P[++T]<<8|P[++T];32768&ne&&(ne=-(1+(65535^ne))),O.push(ne)}y.ip=T},function(y){var T=y.stack,P=y.store;P=P||(y.store=[]);var O=T.pop(),j=T.pop();x.DEBUG&&console.log(y.step,"WS",O,j),P[j]=O},function(y){var T=y.stack,P=y.store,O=T.pop();x.DEBUG&&console.log(y.step,"RS",O),T.push(P&&P[O]||0)},function(y){var T=y.stack,P=T.pop(),O=T.pop();x.DEBUG&&console.log(y.step,"WCVTP",P,O),y.cvt[O]=P/64},function(y){var T=y.stack,P=T.pop();x.DEBUG&&console.log(y.step,"RCVT",P),T.push(64*y.cvt[P])},sc.bind(void 0,0),sc.bind(void 0,1),void 0,pd.bind(void 0,0),pd.bind(void 0,1),function(y){x.DEBUG&&console.log(y.step,"MPPEM[]"),y.stack.push(y.ppem)},void 0,function(y){x.DEBUG&&console.log(y.step,"FLIPON[]"),y.autoFlip=!0},void 0,void 0,function(y){var T=y.stack,P=T.pop(),O=T.pop();x.DEBUG&&console.log(y.step,"LT[]",P,O),T.push(O<P?1:0)},function(y){var T=y.stack,P=T.pop(),O=T.pop();x.DEBUG&&console.log(y.step,"LTEQ[]",P,O),T.push(O<=P?1:0)},function(y){var T=y.stack,P=T.pop(),O=T.pop();x.DEBUG&&console.log(y.step,"GT[]",P,O),T.push(P<O?1:0)},function(y){var T=y.stack,P=T.pop(),O=T.pop();x.DEBUG&&console.log(y.step,"GTEQ[]",P,O),T.push(P<=O?1:0)},function(y){var T=y.stack,P=T.pop(),O=T.pop();x.DEBUG&&console.log(y.step,"EQ[]",P,O),T.push(P===O?1:0)},function(y){var T=y.stack,P=T.pop(),O=T.pop();x.DEBUG&&console.log(y.step,"NEQ[]",P,O),T.push(P!==O?1:0)},function(y){var T=y.stack,P=T.pop();x.DEBUG&&console.log(y.step,"ODD[]",P),T.push(Math.trunc(P)%2?1:0)},function(y){var T=y.stack,P=T.pop();x.DEBUG&&console.log(y.step,"EVEN[]",P),T.push(Math.trunc(P)%2?0:1)},function(y){var T=y.stack.pop();x.DEBUG&&console.log(y.step,"IF[]",T),T||(R4(y,!0),x.DEBUG&&console.log(y.step,"EIF[]"))},function(y){x.DEBUG&&console.log(y.step,"EIF[]")},function(y){var T=y.stack,P=T.pop(),O=T.pop();x.DEBUG&&console.log(y.step,"AND[]",P,O),T.push(P&&O?1:0)},function(y){var T=y.stack,P=T.pop(),O=T.pop();x.DEBUG&&console.log(y.step,"OR[]",P,O),T.push(P||O?1:0)},function(y){var T=y.stack,P=T.pop();x.DEBUG&&console.log(y.step,"NOT[]",P),T.push(P?0:1)},bl.bind(void 0,1),function(y){var T=y.stack.pop();x.DEBUG&&console.log(y.step,"SDB[]",T),y.deltaBase=T},function(y){var T=y.stack.pop();x.DEBUG&&console.log(y.step,"SDS[]",T),y.deltaShift=Math.pow(.5,T)},function(y){var T=y.stack,P=T.pop(),O=T.pop();x.DEBUG&&console.log(y.step,"ADD[]",P,O),T.push(O+P)},function(y){var T=y.stack,P=T.pop(),O=T.pop();x.DEBUG&&console.log(y.step,"SUB[]",P,O),T.push(O-P)},function(y){var T=y.stack,P=T.pop(),O=T.pop();x.DEBUG&&console.log(y.step,"DIV[]",P,O),T.push(64*O/P)},function(y){var T=y.stack,P=T.pop(),O=T.pop();x.DEBUG&&console.log(y.step,"MUL[]",P,O),T.push(O*P/64)},function(y){var T=y.stack,P=T.pop();x.DEBUG&&console.log(y.step,"ABS[]",P),T.push(Math.abs(P))},function(y){var T=y.stack,P=T.pop();x.DEBUG&&console.log(y.step,"NEG[]",P),T.push(-P)},function(y){var T=y.stack,P=T.pop();x.DEBUG&&console.log(y.step,"FLOOR[]",P),T.push(64*Math.floor(P/64))},function(y){var T=y.stack,P=T.pop();x.DEBUG&&console.log(y.step,"CEILING[]",P),T.push(64*Math.ceil(P/64))},Ao.bind(void 0,0),Ao.bind(void 0,1),Ao.bind(void 0,2),Ao.bind(void 0,3),void 0,void 0,void 0,void 0,function(y){var T=y.stack,P=T.pop(),O=T.pop();x.DEBUG&&console.log(y.step,"WCVTF[]",P,O),y.cvt[O]=P*y.ppem/y.font.unitsPerEm},bl.bind(void 0,2),bl.bind(void 0,3),ac.bind(void 0,1),ac.bind(void 0,2),ac.bind(void 0,3),function(y){var T,P=y.stack.pop();switch(x.DEBUG&&console.log(y.step,"SROUND[]",P),y.round=Wf,192&P){case 0:T=.5;break;case 64:T=1;break;case 128:T=2;break;default:throw new Error("invalid SROUND value")}switch(y.srPeriod=T,48&P){case 0:y.srPhase=0;break;case 16:y.srPhase=.25*T;break;case 32:y.srPhase=.5*T;break;case 48:y.srPhase=.75*T;break;default:throw new Error("invalid SROUND value")}y.srThreshold=0==(P&=15)?0:(P/8-.5)*T},function(y){var T,P=y.stack.pop();switch(x.DEBUG&&console.log(y.step,"S45ROUND[]",P),y.round=Wf,192&P){case 0:T=Math.sqrt(2)/2;break;case 64:T=Math.sqrt(2);break;case 128:T=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(y.srPeriod=T,48&P){case 0:y.srPhase=0;break;case 16:y.srPhase=.25*T;break;case 32:y.srPhase=.5*T;break;case 48:y.srPhase=.75*T;break;default:throw new Error("invalid S45ROUND value")}y.srThreshold=0==(P&=15)?0:(P/8-.5)*T},void 0,void 0,function(y){x.DEBUG&&console.log(y.step,"ROFF[]"),y.round=Xu},void 0,function(y){x.DEBUG&&console.log(y.step,"RUTG[]"),y.round=O4},function(y){x.DEBUG&&console.log(y.step,"RDTG[]"),y.round=I4},Ua,Ua,void 0,void 0,void 0,void 0,void 0,function(y){var T=y.stack.pop();x.DEBUG&&console.log(y.step,"SCANCTRL[]",T)},lc.bind(void 0,0),lc.bind(void 0,1),function(y){var T=y.stack,P=T.pop(),O=0;x.DEBUG&&console.log(y.step,"GETINFO[]",P),1&P&&(O=35),32&P&&(O|=4096),T.push(O)},void 0,function(y){var T=y.stack,P=T.pop(),O=T.pop(),j=T.pop();x.DEBUG&&console.log(y.step,"ROLL[]"),T.push(O),T.push(P),T.push(j)},function(y){var T=y.stack,P=T.pop(),O=T.pop();x.DEBUG&&console.log(y.step,"MAX[]",P,O),T.push(Math.max(O,P))},function(y){var T=y.stack,P=T.pop(),O=T.pop();x.DEBUG&&console.log(y.step,"MIN[]",P,O),T.push(Math.min(O,P))},function(y){var T=y.stack.pop();x.DEBUG&&console.log(y.step,"SCANTYPE[]",T)},function(y){var T=y.stack.pop(),P=y.stack.pop();switch(x.DEBUG&&console.log(y.step,"INSTCTRL[]",T,P),T){case 1:return void(y.inhibitGridFit=!!P);case 2:return void(y.ignoreCvt=!!P);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,bo.bind(void 0,1),bo.bind(void 0,2),bo.bind(void 0,3),bo.bind(void 0,4),bo.bind(void 0,5),bo.bind(void 0,6),bo.bind(void 0,7),bo.bind(void 0,8),Gr.bind(void 0,1),Gr.bind(void 0,2),Gr.bind(void 0,3),Gr.bind(void 0,4),Gr.bind(void 0,5),Gr.bind(void 0,6),Gr.bind(void 0,7),Gr.bind(void 0,8),zn.bind(void 0,0,0,0,0,0),zn.bind(void 0,0,0,0,0,1),zn.bind(void 0,0,0,0,0,2),zn.bind(void 0,0,0,0,0,3),zn.bind(void 0,0,0,0,1,0),zn.bind(void 0,0,0,0,1,1),zn.bind(void 0,0,0,0,1,2),zn.bind(void 0,0,0,0,1,3),zn.bind(void 0,0,0,1,0,0),zn.bind(void 0,0,0,1,0,1),zn.bind(void 0,0,0,1,0,2),zn.bind(void 0,0,0,1,0,3),zn.bind(void 0,0,0,1,1,0),zn.bind(void 0,0,0,1,1,1),zn.bind(void 0,0,0,1,1,2),zn.bind(void 0,0,0,1,1,3),zn.bind(void 0,0,1,0,0,0),zn.bind(void 0,0,1,0,0,1),zn.bind(void 0,0,1,0,0,2),zn.bind(void 0,0,1,0,0,3),zn.bind(void 0,0,1,0,1,0),zn.bind(void 0,0,1,0,1,1),zn.bind(void 0,0,1,0,1,2),zn.bind(void 0,0,1,0,1,3),zn.bind(void 0,0,1,1,0,0),zn.bind(void 0,0,1,1,0,1),zn.bind(void 0,0,1,1,0,2),zn.bind(void 0,0,1,1,0,3),zn.bind(void 0,0,1,1,1,0),zn.bind(void 0,0,1,1,1,1),zn.bind(void 0,0,1,1,1,2),zn.bind(void 0,0,1,1,1,3),zn.bind(void 0,1,0,0,0,0),zn.bind(void 0,1,0,0,0,1),zn.bind(void 0,1,0,0,0,2),zn.bind(void 0,1,0,0,0,3),zn.bind(void 0,1,0,0,1,0),zn.bind(void 0,1,0,0,1,1),zn.bind(void 0,1,0,0,1,2),zn.bind(void 0,1,0,0,1,3),zn.bind(void 0,1,0,1,0,0),zn.bind(void 0,1,0,1,0,1),zn.bind(void 0,1,0,1,0,2),zn.bind(void 0,1,0,1,0,3),zn.bind(void 0,1,0,1,1,0),zn.bind(void 0,1,0,1,1,1),zn.bind(void 0,1,0,1,1,2),zn.bind(void 0,1,0,1,1,3),zn.bind(void 0,1,1,0,0,0),zn.bind(void 0,1,1,0,0,1),zn.bind(void 0,1,1,0,0,2),zn.bind(void 0,1,1,0,0,3),zn.bind(void 0,1,1,0,1,0),zn.bind(void 0,1,1,0,1,1),zn.bind(void 0,1,1,0,1,2),zn.bind(void 0,1,1,0,1,3),zn.bind(void 0,1,1,1,0,0),zn.bind(void 0,1,1,1,0,1),zn.bind(void 0,1,1,1,0,2),zn.bind(void 0,1,1,1,0,3),zn.bind(void 0,1,1,1,1,0),zn.bind(void 0,1,1,1,1,1),zn.bind(void 0,1,1,1,1,2),zn.bind(void 0,1,1,1,1,3)];var Q6=Array.from||function(y){return y.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function ri(y){(y=y||{}).empty||(qu(y.familyName,"When creating a new Font object, familyName is required."),qu(y.styleName,"When creating a new Font object, styleName is required."),qu(y.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),qu(y.ascender,"When creating a new Font object, ascender is required."),qu(y.descender,"When creating a new Font object, descender is required."),qu(y.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:y.familyName||" "},fontSubfamily:{en:y.styleName||" "},fullName:{en:y.fullName||y.familyName+" "+y.styleName},postScriptName:{en:y.postScriptName||(y.familyName+y.styleName).replace(/\s/g,"")},designer:{en:y.designer||" "},designerURL:{en:y.designerURL||" "},manufacturer:{en:y.manufacturer||" "},manufacturerURL:{en:y.manufacturerURL||" "},license:{en:y.license||" "},licenseURL:{en:y.licenseURL||" "},version:{en:y.version||"Version 0.1"},description:{en:y.description||" "},copyright:{en:y.copyright||" "},trademark:{en:y.trademark||" "}},this.unitsPerEm=y.unitsPerEm||1e3,this.ascender=y.ascender,this.descender=y.descender,this.createdTimestamp=y.createdTimestamp,this.tables={os2:{usWeightClass:y.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:y.widthClass||this.usWidthClasses.MEDIUM,fsSelection:y.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new Kt.GlyphSet(this,y.glyphs||[]),this.encoding=new it(this),this.position=new Gf(this),this.substitution=new li(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new ga(this):void 0}})}function gd(y,T,P,O){var j={},W=new At.Parser(y,T);j.name=O[W.parseUShort()]||{},W.skip("uShort",1),j.coordinates={};for(var ne=0;ne<P.length;++ne)j.coordinates[P[ne].tag]=W.parseFixed();return j}ri.prototype.hasChar=function(y){return null!==this.encoding.charToGlyphIndex(y)},ri.prototype.charToGlyphIndex=function(y){return this.encoding.charToGlyphIndex(y)},ri.prototype.charToGlyph=function(y){var T=this.charToGlyphIndex(y);return this.glyphs.get(T)||this.glyphs.get(0)},ri.prototype.stringToGlyphs=function(y,T){T=T||this.defaultRenderOptions;for(var P=Q6(y),O=[],j=0;j<P.length;j+=1)O.push(this.charToGlyphIndex(P[j]));var ne=O.length;if(T.features){var ce=T.script||this.substitution.getDefaultScriptName(),me=[];T.features.liga&&(me=me.concat(this.substitution.getFeature("liga",ce,T.language))),T.features.rlig&&(me=me.concat(this.substitution.getFeature("rlig",ce,T.language)));for(var Pe=0;Pe<ne;Pe+=1)for(var Ue=0;Ue<me.length;Ue++){for(var nt=me[Ue],be=nt.sub,Qt=be.length,Ht=0;Ht<Qt&&be[Ht]===O[Pe+Ht];)Ht++;Ht===Qt&&(O.splice(Pe,Qt,nt.by),ne=ne-Qt+1)}}for(var St=new Array(ne),dt=this.glyphs.get(0),bt=0;bt<ne;bt+=1)St[bt]=this.glyphs.get(O[bt])||dt;return St},ri.prototype.nameToGlyphIndex=function(y){return this.glyphNames.nameToGlyphIndex(y)},ri.prototype.nameToGlyph=function(y){var T=this.nameToGlyphIndex(y);return this.glyphs.get(T)||this.glyphs.get(0)},ri.prototype.glyphIndexToName=function(y){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(y):""},ri.prototype.getKerningValue=function(y,T){y=y.index||y,T=T.index||T;var P=this.position.defaultKerningTables;return P?this.position.getKerningValue(P,y,T):this.kerningPairs[y+","+T]||0},ri.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},ri.prototype.forEachGlyph=function(y,T,P,O,j,W){T=void 0!==T?T:0,P=void 0!==P?P:0;var ne,ce=1/this.unitsPerEm*(O=void 0!==O?O:72),me=this.stringToGlyphs(y,j=j||this.defaultRenderOptions);if(j.kerning){var Pe=j.script||this.position.getDefaultScriptName();ne=this.position.getKerningTables(Pe,j.language)}for(var Ue=0;Ue<me.length;Ue+=1){var nt=me[Ue];W.call(this,nt,T,P,O,j),nt.advanceWidth&&(T+=nt.advanceWidth*ce),j.kerning&&Ue<me.length-1&&(T+=(ne?this.position.getKerningValue(ne,nt.index,me[Ue+1].index):this.getKerningValue(nt,me[Ue+1]))*ce),j.letterSpacing?T+=j.letterSpacing*O:j.tracking&&(T+=j.tracking/1e3*O)}return T},ri.prototype.getPath=function(y,T,P,O,j){var W=new Le;return this.forEachGlyph(y,T,P,O,j,function(ne,ce,me,Pe){var Ue=ne.getPath(ce,me,Pe,j,this);W.extend(Ue)}),W},ri.prototype.getPaths=function(y,T,P,O,j){var W=[];return this.forEachGlyph(y,T,P,O,j,function(ne,ce,me,Pe){var Ue=ne.getPath(ce,me,Pe,j,this);W.push(Ue)}),W},ri.prototype.getAdvanceWidth=function(y,T,P){return this.forEachGlyph(y,0,0,T,P,function(){})},ri.prototype.draw=function(y,T,P,O,j,W){this.getPath(T,P,O,j,W).draw(y)},ri.prototype.drawPoints=function(y,T,P,O,j,W){this.forEachGlyph(T,P,O,j,W,function(ne,ce,me,Pe){ne.drawPoints(y,ce,me,Pe)})},ri.prototype.drawMetrics=function(y,T,P,O,j,W){this.forEachGlyph(T,P,O,j,W,function(ne,ce,me,Pe){ne.drawMetrics(y,ce,me,Pe)})},ri.prototype.getEnglishName=function(y){var T=this.names[y];if(T)return T.en},ri.prototype.validate=function(){var y=this;function T(P){var O=y.getEnglishName(P);O&&O.trim()}T("fontFamily"),T("weightName"),T("manufacturer"),T("copyright"),T("version")},ri.prototype.toTables=function(){return E4_fontToTable(this)},ri.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},ri.prototype.toArrayBuffer=function(){for(var y=this.toTables().encode(),T=new ArrayBuffer(y.length),P=new Uint8Array(T),O=0;O<y.length;O++)P[O]=y[O];return T},ri.prototype.download=function(y){var T=this.getEnglishName("fontFamily"),P=this.getEnglishName("fontSubfamily");y=y||T.replace(/\s/g,"")+"-"+P+".otf";var O=this.toArrayBuffer();if("undefined"!=typeof window)window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,O.byteLength,function(ne){ne.root.getFile(y,{create:!0},function(ce){ce.createWriter(function(me){var Pe=new DataView(O),Ue=new Blob([Pe],{type:"font/opentype"});me.write(Ue),me.addEventListener("writeend",function(){location.href=ce.toURL()},!1)})})},function(ne){throw new Error(ne.name+": "+ne.message)});else{var j=d("fs"),W=function(ne){for(var ce=new z(ne.byteLength),me=new Uint8Array(ne),Pe=0;Pe<ce.length;++Pe)ce[Pe]=me[Pe];return ce}(O);j.writeFileSync(y,W)}},ri.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},ri.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},ri.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var cc_parse=function(y,T,P){var O=new At.Parser(y,T),j=O.parseULong();We.argument(65536===j,"Unsupported fvar table version.");var W=O.parseOffset16();O.skip("uShort",1);for(var me,Pe,Ue,nt=O.parseUShort(),be=O.parseUShort(),Qt=O.parseUShort(),Ht=O.parseUShort(),St=[],dt=0;dt<nt;dt++)St.push((me=P,Ue=Pe=void 0,Pe={},Ue=new At.Parser(y,T+W+dt*be),Pe.tag=Ue.parseTag(),Pe.minValue=Ue.parseFixed(),Pe.defaultValue=Ue.parseFixed(),Pe.maxValue=Ue.parseFixed(),Ue.skip("uShort",1),Pe.name=me[Ue.parseUShort()]||{},Pe));for(var bt=[],Cn=T+W+nt*be,bn=0;bn<Qt;bn++)bt.push(gd(y,Cn+bn*Ht,St,P));return{axes:St,instances:bt}},wi=new Array(10);wi[1]=function(){var y=this.offset+this.relativeOffset,T=this.parseUShort();return 1===T?{posFormat:1,coverage:this.parsePointer(Ge.coverage),value:this.parseValueRecord()}:2===T?{posFormat:2,coverage:this.parsePointer(Ge.coverage),values:this.parseValueRecordList()}:void We.assert(!1,"0x"+y.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},wi[2]=function(){var y=this.offset+this.relativeOffset,T=this.parseUShort();We.assert(1===T||2===T,"0x"+y.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var P=this.parsePointer(Ge.coverage),O=this.parseUShort(),j=this.parseUShort();if(1===T)return{posFormat:T,coverage:P,valueFormat1:O,valueFormat2:j,pairSets:this.parseList(Ge.pointer(Ge.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(O),value2:this.parseValueRecord(j)}})))};if(2===T){var W=this.parsePointer(Ge.classDef),ne=this.parsePointer(Ge.classDef),ce=this.parseUShort(),me=this.parseUShort();return{posFormat:T,coverage:P,valueFormat1:O,valueFormat2:j,classDef1:W,classDef2:ne,class1Count:ce,class2Count:me,classRecords:this.parseList(ce,Ge.list(me,function(){return{value1:this.parseValueRecord(O),value2:this.parseValueRecord(j)}}))}}},wi[3]=function(){return{error:"GPOS Lookup 3 not supported"}},wi[4]=function(){return{error:"GPOS Lookup 4 not supported"}},wi[5]=function(){return{error:"GPOS Lookup 5 not supported"}},wi[6]=function(){return{error:"GPOS Lookup 6 not supported"}},wi[7]=function(){return{error:"GPOS Lookup 7 not supported"}},wi[8]=function(){return{error:"GPOS Lookup 8 not supported"}},wi[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var va_parse=function(y,T){var P=new Ge(y,T=T||0),O=P.parseVersion(1);return We.argument(1===O||1.1===O,"Unsupported GPOS table version "+O),1===O?{version:O,scripts:P.parseScriptList(),features:P.parseFeatureList(),lookups:P.parseLookupList(wi)}:{version:O,scripts:P.parseScriptList(),features:P.parseFeatureList(),lookups:P.parseLookupList(wi),variations:P.parseFeatureVariationsList()}},Qs_parse=function(y,T){var P=new At.Parser(y,T),O=P.parseUShort();if(0===O)return function(j){var W={};j.skip("uShort");var ne=j.parseUShort();We.argument(0===ne,"Unsupported kern sub-table version."),j.skip("uShort",2);var ce=j.parseUShort();j.skip("uShort",3);for(var me=0;me<ce;me+=1){var Pe=j.parseUShort(),Ue=j.parseUShort(),nt=j.parseShort();W[Pe+","+Ue]=nt}return W}(P);if(1===O)return function(j){var W={};j.skip("uShort"),1<j.parseULong()&&console.warn("Only the first kern subtable is supported."),j.skip("uLong");var ne=255&j.parseUShort();if(j.skip("uShort"),0==ne){var ce=j.parseUShort();j.skip("uShort",3);for(var me=0;me<ce;me+=1){var Pe=j.parseUShort(),Ue=j.parseUShort(),nt=j.parseShort();W[Pe+","+Ue]=nt}}return W}(P);throw new Error("Unsupported kern table version ("+O+").")},qf_parse=function(y,T,P,O){for(var j=new At.Parser(y,T),W=O?j.parseUShort:j.parseULong,ne=[],ce=0;ce<P+1;ce+=1){var me=W.call(j);O&&(me*=2),ne.push(me)}return ne};function vd(y,T){d("fs").readFile(y,function(P,O){if(P)return T(P.message);T(null,A4(O))})}function yd(y,T){var P=new XMLHttpRequest;P.open("get",y,!0),P.responseType="arraybuffer",P.onload=function(){return P.response?T(null,P.response):T("Font could not be loaded: "+P.statusText)},P.onerror=function(){T("Font could not be loaded")},P.send()}function Ns(y,T){for(var P=[],O=12,j=0;j<T;j+=1){var W=At.getTag(y,O),ne=At.getULong(y,O+4),ce=At.getULong(y,O+8),me=At.getULong(y,O+12);P.push({tag:W,checksum:ne,offset:ce,length:me,compression:!1}),O+=16}return P}function Xi(y,T){if("WOFF"!==T.compression)return{data:y,offset:T.offset};var P=new Uint8Array(y.buffer,T.offset+2,T.compressedLength-2),O=new Uint8Array(T.length);if(function(y,T){var P,O,j=new h(y,T);do{switch(P=K(j),te(j,2,0)){case 0:O=ye(j);break;case 1:O=ie(j,f,m);break;case 2:oe(j,j.ltree,j.dtree),O=ie(j,j.ltree,j.dtree);break;default:O=-3}if(0!==O)throw new Error("Data error")}while(!P);j.destLen<j.dest.length&&("function"==typeof j.dest.slice?j.dest.slice(0,j.destLen):j.dest.subarray(0,j.destLen))}(P,O),O.byteLength!==T.length)throw new Error("Decompression error: "+T.tag+" decompressed length doesn't match recorded length");return{data:new DataView(O.buffer,0),offset:0}}function F4(y){var T,P,O,j,W,ne,ce,me,Pe,Ue,nt,be,Qt,Ht,St=new ri({empty:!0}),dt=new DataView(y,0),bt=[],Cn=At.getTag(dt,0);if(Cn===String.fromCharCode(0,1,0,0)||"true"===Cn||"typ1"===Cn)St.outlinesFormat="truetype",bt=Ns(dt,O=At.getUShort(dt,4));else if("OTTO"===Cn)St.outlinesFormat="cff",bt=Ns(dt,O=At.getUShort(dt,4));else{if("wOFF"!==Cn)throw new Error("Unsupported OpenType signature "+Cn);var bn=At.getTag(dt,4);if(bn===String.fromCharCode(0,1,0,0))St.outlinesFormat="truetype";else{if("OTTO"!==bn)throw new Error("Unsupported OpenType flavor "+Cn);St.outlinesFormat="cff"}bt=function(Ir,Ui){for(var ci=[],Di=44,ti=0;ti<Ui;ti+=1){var Qu=At.getTag(Ir,Di),wl=At.getULong(Ir,Di+4),Vs=At.getULong(Ir,Di+8),xi=At.getULong(Ir,Di+12);ci.push({tag:Qu,offset:wl,compression:Vs<xi&&"WOFF",compressedLength:Vs,length:xi}),Di+=20}return ci}(dt,O=At.getUShort(dt,12))}for(var zr=0;zr<O;zr+=1){var An=bt[zr],Un=void 0;switch(An.tag){case"cmap":Un=Xi(dt,An),St.tables.cmap=le_parse(Un.data,Un.offset),St.encoding=new pt(St.tables.cmap);break;case"cvt ":Un=Xi(dt,An),Ht=new At.Parser(Un.data,Un.offset),St.tables.cvt=Ht.parseShortList(An.length/2);break;case"fvar":W=An;break;case"fpgm":Un=Xi(dt,An),Ht=new At.Parser(Un.data,Un.offset),St.tables.fpgm=Ht.parseByteList(An.length);break;case"head":Un=Xi(dt,An),St.tables.head=Vt_parse(Un.data,Un.offset),St.unitsPerEm=St.tables.head.unitsPerEm,T=St.tables.head.indexToLocFormat;break;case"hhea":Un=Xi(dt,An),St.tables.hhea=cn_parse(Un.data,Un.offset),St.ascender=St.tables.hhea.ascender,St.descender=St.tables.hhea.descender,St.numberOfHMetrics=St.tables.hhea.numberOfHMetrics;break;case"hmtx":Pe=An;break;case"ltag":Un=Xi(dt,An),P=Vr_parse(Un.data,Un.offset);break;case"maxp":Un=Xi(dt,An),St.tables.maxp=$r_parse(Un.data,Un.offset),St.numGlyphs=St.tables.maxp.numGlyphs;break;case"name":be=An;break;case"OS/2":Un=Xi(dt,An),St.tables.os2=cd_parse(Un.data,Un.offset);break;case"post":Un=Xi(dt,An),St.tables.post=S4_parse(Un.data,Un.offset),St.glyphNames=new Ye(St.tables.post);break;case"prep":Un=Xi(dt,An),Ht=new At.Parser(Un.data,Un.offset),St.tables.prep=Ht.parseByteList(An.length);break;case"glyf":ne=An;break;case"loca":nt=An;break;case"CFF ":j=An;break;case"kern":Ue=An;break;case"GPOS":ce=An;break;case"GSUB":me=An;break;case"meta":Qt=An}}var Tn=Xi(dt,be);if(St.tables.name=dr_parse(Tn.data,Tn.offset,P),St.names=St.tables.name,ne&&nt){var Ar=0===T,Pr=Xi(dt,nt),Lr=qf_parse(Pr.data,Pr.offset,St.numGlyphs,Ar),Jr=Xi(dt,ne);St.glyphs=k4.parse(Jr.data,Jr.offset,Lr,St)}else{if(!j)throw new Error("Font doesn't contain TrueType or CFF outlines.");var Xr=Xi(dt,j);en_parse(Xr.data,Xr.offset,St)}var Ei=Xi(dt,Pe);if(Dt_parse(Ei.data,Ei.offset,St.numberOfHMetrics,St.numGlyphs,St.glyphs),function(Ir){for(var Ui,ci=Ir.tables.cmap.glyphIndexMap,Di=Object.keys(ci),ti=0;ti<Di.length;ti+=1){var Qu=Di[ti];(Ui=Ir.glyphs.get(ci[Qu])).addUnicode(parseInt(Qu))}for(var Vs=0;Vs<Ir.glyphs.length;Vs+=1)Ui=Ir.glyphs.get(Vs),Ir.cffEncoding?Ui.name=Ir.isCIDFont?"gid"+Vs:Ir.cffEncoding.charset[Vs]:Ir.glyphNames.names&&(Ui.name=Ir.glyphNames.glyphIndexToName(Vs))}(St),Ue){var Kr=Xi(dt,Ue);St.kerningPairs=Qs_parse(Kr.data,Kr.offset)}else St.kerningPairs={};if(ce){var ei=Xi(dt,ce);St.tables.gpos=va_parse(ei.data,ei.offset),St.position.init()}if(me){var Or=Xi(dt,me);St.tables.gsub=ud_parse(Or.data,Or.offset)}if(W){var ii=Xi(dt,W);St.tables.fvar=cc_parse(ii.data,ii.offset,St.names)}if(Qt){var Ii=Xi(dt,Qt);St.tables.meta=Uf_parse(Ii.data,Ii.offset),St.metas=St.tables.meta}return St}x.Font=ri,x.Glyph=_n,x.Path=Le,x.BoundingBox=we,x._parse=At,x.parse=F4,x.load=function(y,T){("undefined"==typeof window?vd:yd)(y,function(P,O){if(P)return T(P);var j;try{j=F4(O)}catch(W){return T(W,null)}return T(null,j)})},x.loadSync=function(y){return F4(A4(d("fs").readFileSync(y)))},Object.defineProperty(x,"__esModule",{value:!0})}("object"==typeof H&&void 0!==ee?H:this.opentype={})}).call(this,d("buffer").Buffer)},{buffer:4,fs:2}],237:[function(d,ee,H){(function(z){function v(M,w){for(var g=0,u=M.length-1;0<=u;u--){var h=M[u];"."===h?M.splice(u,1):".."===h?(M.splice(u,1),g++):g&&(M.splice(u,1),g--)}if(w)for(;g--;)M.unshift("..");return M}function x(M,w){if(M.filter)return M.filter(w);for(var g=[],u=0;u<M.length;u++)w(M[u],u,M)&&g.push(M[u]);return g}H.resolve=function(){for(var M="",w=!1,g=arguments.length-1;-1<=g&&!w;g--){var u=0<=g?arguments[g]:z.cwd();if("string"!=typeof u)throw new TypeError("Arguments to path.resolve must be strings");u&&(M=u+"/"+M,w="/"===u.charAt(0))}return(w?"/":"")+(M=v(x(M.split("/"),function(h){return!!h}),!w).join("/"))||"."},H.normalize=function(M){var w=H.isAbsolute(M),g="/"===C(M,-1);return(M=v(x(M.split("/"),function(u){return!!u}),!w).join("/"))||w||(M="."),M&&g&&(M+="/"),(w?"/":"")+M},H.isAbsolute=function(M){return"/"===M.charAt(0)},H.join=function(){var M=Array.prototype.slice.call(arguments,0);return H.normalize(x(M,function(w,g){if("string"!=typeof w)throw new TypeError("Arguments to path.join must be strings");return w}).join("/"))},H.relative=function(M,w){function g(L){for(var A=0;A<L.length&&""===L[A];A++);for(var R=L.length-1;0<=R&&""===L[R];R--);return R<A?[]:L.slice(A,R-A+1)}M=H.resolve(M).substr(1),w=H.resolve(w).substr(1);for(var u=g(M.split("/")),h=g(w.split("/")),f=Math.min(u.length,h.length),m=f,b=0;b<f;b++)if(u[b]!==h[b]){m=b;break}var E=[];for(b=m;b<u.length;b++)E.push("..");return(E=E.concat(h.slice(m))).join("/")},H.sep="/",H.delimiter=":",H.dirname=function(M){if("string"!=typeof M&&(M+=""),0===M.length)return".";for(var w=M.charCodeAt(0),g=47===w,u=-1,h=!0,f=M.length-1;1<=f;--f)if(47===(w=M.charCodeAt(f))){if(!h){u=f;break}}else h=!1;return-1===u?g?"/":".":g&&1===u?"/":M.slice(0,u)},H.basename=function(M,w){var g=function(u){"string"!=typeof u&&(u+="");var h,f=0,m=-1,b=!0;for(h=u.length-1;0<=h;--h)if(47===u.charCodeAt(h)){if(!b){f=h+1;break}}else-1===m&&(b=!1,m=h+1);return-1===m?"":u.slice(f,m)}(M);return w&&g.substr(-1*w.length)===w&&(g=g.substr(0,g.length-w.length)),g},H.extname=function(M){"string"!=typeof M&&(M+="");for(var w=-1,g=0,u=-1,h=!0,f=0,m=M.length-1;0<=m;--m){var b=M.charCodeAt(m);if(47===b){if(h)continue;g=m+1;break}-1===u&&(h=!1,u=m+1),46===b?-1===w?w=m:1!==f&&(f=1):-1!==w&&(f=-1)}return-1===w||-1===u||0===f||1===f&&w===u-1&&w===g+1?"":M.slice(w,u)};var C=function(M,w,g){return M.substr(w,g)}}).call(this,d("_process"))},{_process:238}],238:[function(d,ee,H){var z,v,x=ee.exports={};function C(){throw new Error("setTimeout has not been defined")}function M(){throw new Error("clearTimeout has not been defined")}function w(A){if(z===setTimeout)return setTimeout(A,0);if((z===C||!z)&&setTimeout)return z=setTimeout,setTimeout(A,0);try{return z(A,0)}catch(R){try{return z.call(null,A,0)}catch(V){return z.call(this,A,0)}}}!function(){try{z="function"==typeof setTimeout?setTimeout:C}catch(A){z=C}try{v="function"==typeof clearTimeout?clearTimeout:M}catch(A){v=M}}();var g,u=[],h=!1,f=-1;function m(){h&&g&&(h=!1,g.length?u=g.concat(u):f=-1,u.length&&b())}function b(){if(!h){var A=w(m);h=!0;for(var R=u.length;R;){for(g=u,u=[];++f<R;)g&&g[f].run();f=-1,R=u.length}g=null,h=!1,function(V){if(v===clearTimeout)return clearTimeout(V);if((v===M||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(V);try{v(V)}catch(U){try{return v.call(null,V)}catch(Z){return v.call(this,V)}}}(A)}}function E(A,R){this.fun=A,this.array=R}function L(){}x.nextTick=function(A){var R=new Array(arguments.length-1);if(1<arguments.length)for(var V=1;V<arguments.length;V++)R[V-1]=arguments[V];u.push(new E(A,R)),1!==u.length||h||w(b)},E.prototype.run=function(){this.fun.apply(null,this.array)},x.title="browser",x.browser=!0,x.env={},x.argv=[],x.version="",x.versions={},x.on=L,x.addListener=L,x.once=L,x.off=L,x.removeListener=L,x.removeAllListeners=L,x.emit=L,x.prependListener=L,x.prependOnceListener=L,x.listeners=function(A){return[]},x.binding=function(A){throw new Error("process.binding is not supported")},x.cwd=function(){return"/"},x.chdir=function(A){throw new Error("process.chdir is not supported")},x.umask=function(){return 0}},{}],239:[function(d,ee,H){!function(z){"use strict";if(!z.fetch){var v="URLSearchParams"in z,x="Symbol"in z&&"iterator"in Symbol,C="FileReader"in z&&"Blob"in z&&function(){try{return new Blob,!0}catch(q){return!1}}(),M="FormData"in z,w="ArrayBuffer"in z;if(w)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=function(q){return q&&DataView.prototype.isPrototypeOf(q)},h=ArrayBuffer.isView||function(q){return q&&-1<g.indexOf(Object.prototype.toString.call(q))};A.prototype.append=function(q,oe){q=b(q),oe=E(oe);var ie=this.map[q];this.map[q]=ie?ie+","+oe:oe},A.prototype.delete=function(q){delete this.map[b(q)]},A.prototype.get=function(q){return q=b(q),this.has(q)?this.map[q]:null},A.prototype.has=function(q){return this.map.hasOwnProperty(b(q))},A.prototype.set=function(q,oe){this.map[b(q)]=E(oe)},A.prototype.forEach=function(q,oe){for(var ie in this.map)this.map.hasOwnProperty(ie)&&q.call(oe,this.map[ie],ie,this)},A.prototype.keys=function(){var q=[];return this.forEach(function(oe,ie){q.push(ie)}),L(q)},A.prototype.values=function(){var q=[];return this.forEach(function(oe){q.push(oe)}),L(q)},A.prototype.entries=function(){var q=[];return this.forEach(function(oe,ie){q.push([ie,oe])}),L(q)},x&&(A.prototype[Symbol.iterator]=A.prototype.entries);var f=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];Y.prototype.clone=function(){return new Y(this,{body:this._bodyInit})},Q.call(Y.prototype),Q.call(te.prototype),te.prototype.clone=function(){return new te(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new A(this.headers),url:this.url})},te.error=function(){var q=new te(null,{status:0,statusText:""});return q.type="error",q};var m=[301,302,303,307,308];te.redirect=function(q,oe){if(-1===m.indexOf(oe))throw new RangeError("Invalid status code");return new te(null,{status:oe,headers:{location:q}})},z.Headers=A,z.Request=Y,z.Response=te,z.fetch=function(q,oe){return new Promise(function(ie,ye){var Ve=new Y(q,oe),_e=new XMLHttpRequest;_e.onload=function(){var we,Le,$e={status:_e.status,statusText:_e.statusText,headers:(we=_e.getAllResponseHeaders()||"",Le=new A,we.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(We){var tt=We.split(":"),Qe=tt.shift().trim();if(Qe){var ut=tt.join(":").trim();Le.append(Qe,ut)}}),Le)};$e.url="responseURL"in _e?_e.responseURL:$e.headers.get("X-Request-URL"),ie(new te("response"in _e?_e.response:_e.responseText,$e))},_e.onerror=function(){ye(new TypeError("Network request failed"))},_e.ontimeout=function(){ye(new TypeError("Network request failed"))},_e.open(Ve.method,Ve.url,!0),"include"===Ve.credentials?_e.withCredentials=!0:"omit"===Ve.credentials&&(_e.withCredentials=!1),"responseType"in _e&&C&&(_e.responseType="blob"),Ve.headers.forEach(function(we,Le){_e.setRequestHeader(Le,we)}),_e.send(void 0===Ve._bodyInit?null:Ve._bodyInit)})},z.fetch.polyfill=!0}function b(q){if("string"!=typeof q&&(q=String(q)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(q))throw new TypeError("Invalid character in header field name");return q.toLowerCase()}function E(q){return"string"!=typeof q&&(q=String(q)),q}function L(q){var oe={next:function(){var ie=q.shift();return{done:void 0===ie,value:ie}}};return x&&(oe[Symbol.iterator]=function(){return oe}),oe}function A(q){this.map={},q instanceof A?q.forEach(function(oe,ie){this.append(ie,oe)},this):Array.isArray(q)?q.forEach(function(oe){this.append(oe[0],oe[1])},this):q&&Object.getOwnPropertyNames(q).forEach(function(oe){this.append(oe,q[oe])},this)}function R(q){if(q.bodyUsed)return Promise.reject(new TypeError("Already read"));q.bodyUsed=!0}function V(q){return new Promise(function(oe,ie){q.onload=function(){oe(q.result)},q.onerror=function(){ie(q.error)}})}function U(q){var oe=new FileReader,ie=V(oe);return oe.readAsArrayBuffer(q),ie}function Z(q){if(q.slice)return q.slice(0);var oe=new Uint8Array(q.byteLength);return oe.set(new Uint8Array(q)),oe.buffer}function Q(){return this.bodyUsed=!1,this._initBody=function(q){if(this._bodyInit=q)if("string"==typeof q)this._bodyText=q;else if(C&&Blob.prototype.isPrototypeOf(q))this._bodyBlob=q;else if(M&&FormData.prototype.isPrototypeOf(q))this._bodyFormData=q;else if(v&&URLSearchParams.prototype.isPrototypeOf(q))this._bodyText=q.toString();else if(w&&C&&u(q))this._bodyArrayBuffer=Z(q.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!w||!ArrayBuffer.prototype.isPrototypeOf(q)&&!h(q))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=Z(q)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof q?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v&&URLSearchParams.prototype.isPrototypeOf(q)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},C&&(this.blob=function(){var q=R(this);if(q)return q;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?R(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(U)}),this.text=function(){var q,oe,ie,ye=R(this);if(ye)return ye;if(this._bodyBlob)return q=this._bodyBlob,ie=V(oe=new FileReader),oe.readAsText(q),ie;if(this._bodyArrayBuffer)return Promise.resolve(function(Ve){for(var _e=new Uint8Array(Ve),we=new Array(_e.length),Le=0;Le<_e.length;Le++)we[Le]=String.fromCharCode(_e[Le]);return we.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},M&&(this.formData=function(){return this.text().then(K)}),this.json=function(){return this.text().then(JSON.parse)},this}function Y(q,oe){var ie,ye,Ve=(oe=oe||{}).body;if(q instanceof Y){if(q.bodyUsed)throw new TypeError("Already read");this.url=q.url,this.credentials=q.credentials,oe.headers||(this.headers=new A(q.headers)),this.method=q.method,this.mode=q.mode,Ve||null==q._bodyInit||(Ve=q._bodyInit,q.bodyUsed=!0)}else this.url=String(q);if(this.credentials=oe.credentials||this.credentials||"omit",!oe.headers&&this.headers||(this.headers=new A(oe.headers)),this.method=(ye=(ie=oe.method||this.method||"GET").toUpperCase(),-1<f.indexOf(ye)?ye:ie),this.mode=oe.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&Ve)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Ve)}function K(q){var oe=new FormData;return q.trim().split("&").forEach(function(ie){if(ie){var ye=ie.split("="),Ve=ye.shift().replace(/\+/g," "),_e=ye.join("=").replace(/\+/g," ");oe.append(decodeURIComponent(Ve),decodeURIComponent(_e))}}),oe}function te(q,oe){oe=oe||{},this.type="default",this.status=void 0===oe.status?200:oe.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in oe?oe.statusText:"OK",this.headers=new A(oe.headers),this.url=oe.url||"",this._initBody(q)}}("undefined"!=typeof self?self:this)},{}],240:[function(d,ee,H){"use strict";d("core-js/modules/es.function.name"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.string.split"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=C(d("../core/main")),x=C(d("../color/color_conversion"));function C(u){return u&&u.__esModule?u:{default:u}}var M=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],w=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];v.default.prototype._rgbColorName=function(u){var h=x.default._rgbaToHSBA(u);return function(f){var m;if(0!==f[0]){f[0]=Math.round(100*f[0]);var b=f[0].toString().split(""),E=b.length-1;b[E]=parseInt(b[E]),b[E]<2.5?b[E]=0:2.5<=b[E]&&b[E]<7.5&&(b[E]=5),2===b.length?(b[0]=parseInt(b[0]),7.5<=b[E]&&(b[E]=0,b[0]=b[0]+1),f[0]=10*b[0]+b[1]):f[0]=7.5<=b[E]?10:b[E]}f[2]=f[2]/255;for(var L=f.length-1;1<=L;L--)f[L]=f[L]<=.25?0:.25<f[L]&&f[L]<.75?.5:1;if(0===f[0]&&0===f[1]&&1===f[2]){for(var A=2;0<=A;A--)z[A]=Math.round(1e4*z[A])/1e4;for(var R=0;R<M.length;R++){if(M[R].h===z[0]&&M[R].s===z[1]&&M[R].b===z[2]){m=M[R].name;break}m="white"}}else for(var V=0;V<w.length;V++)if(w[V].h===f[0]&&w[V].s===f[1]&&w[V].b===f[2]){m=w[V].name;break}return m}([(z=h)[0],h[1],h[2]])},H.default=v.default},{"../color/color_conversion":246,"../core/main":260,"core-js/modules/es.function.name":163,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.split":188}],241:[function(d,ee,H){"use strict";d("core-js/modules/es.array.concat"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.string.ends-with"),d("core-js/modules/es.string.replace"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z},x="_Description",C="_fallbackDesc",M="_fallbackTable",w="_Label",g="_labelDesc",u="_labelTable";function h(m){if("label"===m||"fallback"===m)throw new Error("description should not be LABEL or FALLBACK");return m.endsWith(".")||m.endsWith(";")||m.endsWith(",")||m.endsWith("?")||m.endsWith("!")||(m+="."),m}v.default.prototype.describe=function(m,b){if(v.default._validateParameters("describe",arguments),"string"==typeof m){var E=this.canvas.id;m=h(m),this.dummyDOM||(this.dummyDOM=document.getElementById(E).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==m&&(this.descriptions.fallback.innerHTML=m):this._describeHTML("fallback",m),b===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==m&&(this.descriptions.label.innerHTML=m):this._describeHTML("label",m))}},v.default.prototype.describeElement=function(m,b,E){if(v.default._validateParameters("describeElement",arguments),"string"==typeof b&&"string"==typeof m){var L=this.canvas.id;b=h(b);var A=function(V){if("label"===V||"fallback"===V)throw new Error("element name should not be LABEL or FALLBACK");return V.endsWith(".")||V.endsWith(";")||V.endsWith(",")?V=V.replace(/.$/,":"):V.endsWith(":")||(V+=":"),V}(m);m=m.replace(/[^a-zA-Z0-9 ]/g,"");var R='<th scope="row">'.concat(A,"</th><td>").concat(b,"</td>");this.dummyDOM||(this.dummyDOM=document.getElementById(L).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[m]?this.descriptions.fallbackElements[m].innerHTML!==R&&(this.descriptions.fallbackElements[m].innerHTML=R):this._describeElementHTML("fallback",m,R),E===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[m]?this.descriptions.labelElements[m].innerHTML!==R&&(this.descriptions.labelElements[m].innerHTML=R):this._describeElementHTML("label",m,R))}},v.default.prototype._describeHTML=function(m,b){var E=this.canvas.id;if("fallback"===m){if(this.dummyDOM.querySelector("#".concat(E+x)))this.dummyDOM.querySelector("#"+E+M).insertAdjacentHTML("beforebegin",'<p id="'.concat(E+C,'"></p>'));else{var L='<div id="'.concat(E).concat(x,'" role="region" aria-label="Canvas Description"><p id="').concat(E).concat(C,'"></p></div>');this.dummyDOM.querySelector("#".concat(E,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(E,"accessibleOutput")).insertAdjacentHTML("beforebegin",L):this.dummyDOM.querySelector("#".concat(E)).innerHTML=L}return this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(E).concat(C)),void(this.descriptions.fallback.innerHTML=b)}if("label"===m){if(this.dummyDOM.querySelector("#".concat(E+w)))this.dummyDOM.querySelector("#".concat(E+u))&&this.dummyDOM.querySelector("#".concat(E+u)).insertAdjacentHTML("beforebegin",'<p id="'.concat(E).concat(g,'"></p>'));else{var A='<div id="'.concat(E).concat(w,'" class="p5Label"><p id="').concat(E).concat(g,'"></p></div>');this.dummyDOM.querySelector("#".concat(E,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(E,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",A):this.dummyDOM.querySelector("#"+E).insertAdjacentHTML("afterend",A)}return this.descriptions.label=this.dummyDOM.querySelector("#"+E+g),void(this.descriptions.label.innerHTML=b)}},v.default.prototype._describeElementHTML=function(m,b,E){var L=this.canvas.id;if("fallback"===m){if(this.dummyDOM.querySelector("#".concat(L+x)))this.dummyDOM.querySelector("#"+L+M)||this.dummyDOM.querySelector("#"+L+C).insertAdjacentHTML("afterend",'<table id="'.concat(L).concat(M,'"><caption>Canvas elements and their descriptions</caption></table>'));else{var A='<div id="'.concat(L).concat(x,'" role="region" aria-label="Canvas Description"><table id="').concat(L).concat(M,'"><caption>Canvas elements and their descriptions</caption></table></div>');this.dummyDOM.querySelector("#".concat(L,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(L,"accessibleOutput")).insertAdjacentHTML("beforebegin",A):this.dummyDOM.querySelector("#"+L).innerHTML=A}var R=document.createElement("tr");return R.id=L+"_fte_"+b,this.dummyDOM.querySelector("#"+L+M).appendChild(R),this.descriptions.fallbackElements[b]=this.dummyDOM.querySelector("#".concat(L).concat("_fte_").concat(b)),void(this.descriptions.fallbackElements[b].innerHTML=E)}if("label"===m){if(this.dummyDOM.querySelector("#".concat(L+w)))this.dummyDOM.querySelector("#".concat(L+u))||this.dummyDOM.querySelector("#"+L+g).insertAdjacentHTML("afterend",'<table id="'.concat(L+u,'"></table>'));else{var V='<div id="'.concat(L).concat(w,'" class="p5Label"><table id="').concat(L).concat(u,'"></table></div>');this.dummyDOM.querySelector("#".concat(L,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(L,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",V):this.dummyDOM.querySelector("#"+L).insertAdjacentHTML("afterend",V)}var U=document.createElement("tr");U.id=L+"_lte_"+b,this.dummyDOM.querySelector("#"+L+u).appendChild(U),this.descriptions.labelElements[b]=this.dummyDOM.querySelector("#".concat(L).concat("_lte_").concat(b)),this.descriptions.labelElements[b].innerHTML=E}},H.default=v.default},{"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.ends-with":181,"core-js/modules/es.string.replace":186}],242:[function(d,ee,H){"use strict";d("core-js/modules/es.array.concat"),d("core-js/modules/es.array.map"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};v.default.prototype._updateGridOutput=function(C){if(this.dummyDOM.querySelector("#".concat(C,"_summary"))){var M=this._accessibleOutputs[C],w=function(h,f){var m="",b="",E=0;for(var L in f){var A=0;for(var R in f[L]){var V='<li id="'.concat(h,"shape").concat(E,'">').concat(f[L][R].color," ").concat(L,",");"line"===L?V+=" location = ".concat(f[L][R].pos,", length = ").concat(f[L][R].length," pixels"):(V+=" location = ".concat(f[L][R].pos),"point"!==L&&(V+=", area = ".concat(f[L][R].area," %")),V+="</li>"),m+=V,A++,E++}b=1<A?"".concat(b," ").concat(A," ").concat(L,"s"):"".concat(b," ").concat(A," ").concat(L)}return{numShapes:[E,b],details:m}}(C,this.ingredients.shapes),g=(h=w.numShapes,m=this.width,b=this.height,E="".concat(this.ingredients.colors.background," canvas, ").concat(m," by ").concat(b," pixels, contains ").concat(h[0]),E=1===h[0]?"".concat(E," shape: ").concat(h[1]):"".concat(E," shapes: ").concat(h[1])),u=function(h,f){var m=0,b="",E=Array.apply(null,Array(10)).map(function(){});for(var L in E)E[L]=Array.apply(null,Array(10)).map(function(){});for(var A in f)for(var R in f[A]){var V;V="line"!==A?'<a href="#'.concat(h,"shape").concat(m,'">').concat(f[A][R].color," ").concat(A,"</a>"):'<a href="#'.concat(h,"shape").concat(m,'">').concat(f[A][R].color," ").concat(A," midpoint</a>"),E[f[A][R].loc.locY][f[A][R].loc.locX]=E[f[A][R].loc.locY][f[A][R].loc.locX]?E[f[A][R].loc.locY][f[A][R].loc.locX]+"  "+V:V,m++}for(var U in E){var Z="<tr>";for(var Q in E[U])Z+="<td>",void 0!==E[U][Q]&&(Z+=E[U][Q]),Z+="</td>";b=b+Z+"</tr>"}return b}(C,this.ingredients.shapes);g!==M.summary.innerHTML&&(M.summary.innerHTML=g),u!==M.map.innerHTML&&(M.map.innerHTML=u),w.details!==M.shapeDetails.innerHTML&&(M.shapeDetails.innerHTML=w.details),this._accessibleOutputs[C]=M}var h,m,b,E},H.default=v.default},{"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.map":159}],243:[function(d,ee,H){"use strict";d("core-js/modules/es.array.concat"),d("core-js/modules/es.array.fill"),d("core-js/modules/es.array.map"),d("core-js/modules/es.number.to-fixed"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};function x(w,g,u){return w[0]<.4*g?w[1]<.4*u?"top left":w[1]>.6*u?"bottom left":"mid left":w[0]>.6*g?w[1]<.4*u?"top right":w[1]>.6*u?"bottom right":"mid right":w[1]<.4*u?"top middle":w[1]>.6*u?"bottom middle":"middle"}function C(w,g,u){var h=Math.floor(w[0]/g*10),f=Math.floor(w[1]/u*10);return 10===h&&--h,10===f&&--f,{locX:h,locY:f}}v.default.prototype.textOutput=function(w){v.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),w===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},v.default.prototype.gridOutput=function(w){v.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),w===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},v.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},v.default.prototype._createOutput=function(w,g){var u,h,f,m=this.canvas.id;this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(m).parentNode);var b="";"Fallback"===g?(u=m+w,this.dummyDOM.querySelector("#".concat(h=m+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(m,"_Description"))?this.dummyDOM.querySelector("#".concat(m,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(h,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(m)).innerHTML='<div id="'.concat(h,'" role="region" aria-label="Canvas Outputs"></div>'))):"Label"===g&&(u=m+w+(b=g),this.dummyDOM.querySelector("#".concat(h=m+"accessibleOutput"+g))||(this.dummyDOM.querySelector("#".concat(m,"_Label"))?this.dummyDOM.querySelector("#".concat(m,"_Label")).insertAdjacentHTML("afterend",'<div id="'.concat(h,'"></div>')):this.dummyDOM.querySelector("#".concat(m)).insertAdjacentHTML("afterend",'<div id="'.concat(h,'"></div>')))),this._accessibleOutputs[u]={},"textOutput"===w?(b="#".concat(m,"gridOutput").concat(b),f='<div id="'.concat(u,'">Text Output<div id="').concat(u,'Summary" aria-label="text output summary"><p id="').concat(u,'_summary"></p><ul id="').concat(u,'_list"></ul></div><table id="').concat(u,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(b)?this.dummyDOM.querySelector(b).insertAdjacentHTML("beforebegin",f):this.dummyDOM.querySelector("#".concat(h)).innerHTML=f,this._accessibleOutputs[u].list=this.dummyDOM.querySelector("#".concat(u,"_list"))):"gridOutput"===w&&(b="#".concat(m,"textOutput").concat(b),f='<div id="'.concat(u,'">Grid Output<p id="').concat(u,'_summary" aria-label="grid output summary"><table id="').concat(u,'_map" summary="grid output content"></table><ul id="').concat(u,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(b)?this.dummyDOM.querySelector(b).insertAdjacentHTML("afterend",f):this.dummyDOM.querySelector("#".concat(h)).innerHTML=f,this._accessibleOutputs[u].map=this.dummyDOM.querySelector("#".concat(u,"_map"))),this._accessibleOutputs[u].shapeDetails=this.dummyDOM.querySelector("#".concat(u,"_shapeDetails")),this._accessibleOutputs[u].summary=this.dummyDOM.querySelector("#".concat(u,"_summary"))},v.default.prototype._updateAccsOutput=function(){var w=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(w+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(w+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(w+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(w+"gridOutputLabel"))},v.default.prototype._accsBackground=function(w){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==w&&(this.ingredients.colors.backgroundRGBA=w,this.ingredients.colors.background=this._rgbColorName(w))},v.default.prototype._accsCanvasColors=function(w,g){"fill"===w?this.ingredients.colors.fillRGBA!==g&&(this.ingredients.colors.fillRGBA=g,this.ingredients.colors.fill=this._rgbColorName(g)):"stroke"===w&&this.ingredients.colors.strokeRGBA!==g&&(this.ingredients.colors.strokeRGBA=g,this.ingredients.colors.stroke=this._rgbColorName(g))},v.default.prototype._accsOutput=function(w,g){"ellipse"===w&&g[2]===g[3]?w="circle":"rectangle"===w&&g[2]===g[3]&&(w="square");var L,A,R,V,u={},h=!0,f=(A=g,V="rectangle"===(L=w)||"ellipse"===L||"arc"===L||"circle"===L||"square"===L?(R=Math.round(A[0]+A[2]/2),Math.round(A[1]+A[3]/2)):"triangle"===L?(R=(A[0]+A[2]+A[4])/3,(A[1]+A[3]+A[5])/3):"quadrilateral"===L?(R=(A[0]+A[2]+A[4]+A[6])/4,(A[1]+A[3]+A[5]+A[7])/4):"line"===L?(R=(A[0]+A[2])/2,(A[1]+A[3])/2):(R=A[0],A[1]),[R,V]);if("line"===w){u.color=this.ingredients.colors.stroke,u.length=Math.round(this.dist(g[0],g[1],g[2],g[3]));var m=x([g[0],[1]],this.width,this.height),b=x([g[2],[3]],this.width,this.height);u.loc=C(f,this.width,this.height),u.pos=m===b?"at ".concat(m):"from ".concat(m," to ").concat(b)}else"point"===w?u.color=this.ingredients.colors.stroke:(u.color=this.ingredients.colors.fill,u.area=function(L,A,R,V){var U=0;if("arc"===L){var Z=((A[5]-A[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI);if(U=Z*A[2]*A[3]/8,"open"===A[6]||"chord"===A[6]){var Q=A[0],Y=A[1],K=A[0]+A[2]/2*Math.cos(A[4]).toFixed(2),te=A[1]+A[3]/2*Math.sin(A[4]).toFixed(2),q=A[0]+A[2]/2*Math.cos(A[5]).toFixed(2),oe=A[1]+A[3]/2*Math.sin(A[5]).toFixed(2),ie=Math.abs(Q*(te-oe)+K*(oe-Y)+q*(Y-te))/2;Z>Math.PI?U+=ie:U-=ie}}else"ellipse"===L||"circle"===L?U=3.14*A[2]/2*A[3]/2:"line"===L||"point"===L?U=0:"quadrilateral"===L?U=Math.abs((A[6]+A[0])*(A[7]-A[1])+(A[0]+A[2])*(A[1]-A[3])+(A[2]+A[4])*(A[3]-A[5])+(A[4]+A[6])*(A[5]-A[7]))/2:"rectangle"===L||"square"===L?U=A[2]*A[3]:"triangle"===L&&(U=Math.abs(A[0]*(A[3]-A[5])+A[2]*(A[5]-A[1])+A[4]*(A[1]-A[3]))/2);return Math.round(100*U/(R*V))}(w,g,this.width,this.height)),u.pos=x(f,this.width,this.height),u.loc=C(f,this.width,this.height);if(this.ingredients.shapes[w]){if(this.ingredients.shapes[w]!==[u]){for(var E in this.ingredients.shapes[w])JSON.stringify(this.ingredients.shapes[w][E])===JSON.stringify(u)&&(h=!1);!0===h&&this.ingredients.shapes[w].push(u)}}else this.ingredients.shapes[w]=[u]},H.default=v.default},{"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.fill":150,"core-js/modules/es.array.map":159,"core-js/modules/es.number.to-fixed":169}],244:[function(d,ee,H){"use strict";d("core-js/modules/es.array.concat"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};v.default.prototype._updateTextOutput=function(C){if(this.dummyDOM.querySelector("#".concat(C,"_summary"))){var M=this._accessibleOutputs[C],w=function(h,f){var m="",b=0;for(var E in f)for(var L in f[E]){var A='<li><a href="#'.concat(h,"shape").concat(b,'">').concat(f[E][L].color," ").concat(E,"</a>");"line"===E?A+=", ".concat(f[E][L].pos,", ").concat(f[E][L].length," pixels long.</li>"):(A+=", at ".concat(f[E][L].pos),"point"!==E&&(A+=", covering ".concat(f[E][L].area,"% of the canvas")),A+=".</li>"),m+=A,b++}return{numShapes:b,listShapes:m}}(C,this.ingredients.shapes),g=(h=w.numShapes,f=this.ingredients.colors.background,b=this.height,E="Your output is a, ".concat(this.width," by ").concat(b," pixels, ").concat(f," canvas containing the following"),E=1===h?"".concat(E," shape:"):"".concat(E," ").concat(h," shapes:")),u=function(h,f){var m="",b=0;for(var E in f)for(var L in f[E]){var A='<tr id="'.concat(h,"shape").concat(b,'"><th>').concat(f[E][L].color," ").concat(E,"</th>");"line"===E?A+="<td>location = ".concat(f[E][L].pos,"</td><td>length = ").concat(f[E][L].length," pixels</td></tr>"):(A+="<td>location = ".concat(f[E][L].pos,"</td>"),"point"!==E&&(A+="<td> area = ".concat(f[E][L].area,"%</td>")),A+="</tr>"),m+=A,b++}return m}(C,this.ingredients.shapes);g!==M.summary.innerHTML&&(M.summary.innerHTML=g),w.listShapes!==M.list.innerHTML&&(M.list.innerHTML=w.listShapes),u!==M.shapeDetails.innerHTML&&(M.shapeDetails.innerHTML=u),this._accessibleOutputs[C]=M}var h,f,b,E},H.default=v.default},{"../core/main":260,"core-js/modules/es.array.concat":148}],245:[function(d,ee,H){"use strict";var z,v=(z=d("./core/main"))&&z.__esModule?z:{default:z};d("./core/constants"),d("./core/environment"),d("./core/friendly_errors/stacktrace"),d("./core/friendly_errors/validate_params"),d("./core/friendly_errors/file_errors"),d("./core/friendly_errors/fes_core"),d("./core/helpers"),d("./core/legacy"),d("./core/preload"),d("./core/p5.Element"),d("./core/p5.Graphics"),d("./core/p5.Renderer"),d("./core/p5.Renderer2D"),d("./core/rendering"),d("./core/shim"),d("./core/structure"),d("./core/transform"),d("./core/shape/2d_primitives"),d("./core/shape/attributes"),d("./core/shape/curves"),d("./core/shape/vertex"),d("./accessibility/outputs"),d("./accessibility/textOutput"),d("./accessibility/gridOutput"),d("./accessibility/color_namer"),d("./color/color_conversion"),d("./color/creating_reading"),d("./color/p5.Color"),d("./color/setting"),d("./data/p5.TypedDict"),d("./data/local_storage.js"),d("./dom/dom"),d("./accessibility/describe"),d("./events/acceleration"),d("./events/keyboard"),d("./events/mouse"),d("./events/touch"),d("./image/filters"),d("./image/image"),d("./image/loading_displaying"),d("./image/p5.Image"),d("./image/pixels"),d("./io/files"),d("./io/p5.Table"),d("./io/p5.TableRow"),d("./io/p5.XML"),d("./math/calculation"),d("./math/math"),d("./math/noise"),d("./math/p5.Vector"),d("./math/random"),d("./math/trigonometry"),d("./typography/attributes"),d("./typography/loading_displaying"),d("./typography/p5.Font"),d("./utilities/array_functions"),d("./utilities/conversion"),d("./utilities/string_functions"),d("./utilities/time_date"),d("./webgl/3d_primitives"),d("./webgl/interaction"),d("./webgl/light"),d("./webgl/loading"),d("./webgl/material"),d("./webgl/p5.Camera"),d("./webgl/p5.Geometry"),d("./webgl/p5.Matrix"),d("./webgl/p5.RendererGL.Immediate"),d("./webgl/p5.RendererGL"),d("./webgl/p5.RendererGL.Retained"),d("./webgl/p5.Shader"),d("./webgl/p5.RenderBuffer"),d("./webgl/p5.Texture"),d("./webgl/text"),d("./core/init"),ee.exports=v.default},{"./accessibility/color_namer":240,"./accessibility/describe":241,"./accessibility/gridOutput":242,"./accessibility/outputs":243,"./accessibility/textOutput":244,"./color/color_conversion":246,"./color/creating_reading":247,"./color/p5.Color":248,"./color/setting":249,"./core/constants":250,"./core/environment":251,"./core/friendly_errors/fes_core":252,"./core/friendly_errors/file_errors":253,"./core/friendly_errors/stacktrace":254,"./core/friendly_errors/validate_params":255,"./core/helpers":256,"./core/init":257,"./core/legacy":259,"./core/main":260,"./core/p5.Element":261,"./core/p5.Graphics":262,"./core/p5.Renderer":263,"./core/p5.Renderer2D":264,"./core/preload":265,"./core/rendering":266,"./core/shape/2d_primitives":267,"./core/shape/attributes":268,"./core/shape/curves":269,"./core/shape/vertex":270,"./core/shim":271,"./core/structure":272,"./core/transform":273,"./data/local_storage.js":274,"./data/p5.TypedDict":275,"./dom/dom":276,"./events/acceleration":277,"./events/keyboard":278,"./events/mouse":279,"./events/touch":280,"./image/filters":281,"./image/image":282,"./image/loading_displaying":283,"./image/p5.Image":284,"./image/pixels":285,"./io/files":286,"./io/p5.Table":287,"./io/p5.TableRow":288,"./io/p5.XML":289,"./math/calculation":290,"./math/math":291,"./math/noise":292,"./math/p5.Vector":293,"./math/random":294,"./math/trigonometry":295,"./typography/attributes":296,"./typography/loading_displaying":297,"./typography/p5.Font":298,"./utilities/array_functions":299,"./utilities/conversion":300,"./utilities/string_functions":301,"./utilities/time_date":302,"./webgl/3d_primitives":303,"./webgl/interaction":304,"./webgl/light":305,"./webgl/loading":306,"./webgl/material":307,"./webgl/p5.Camera":308,"./webgl/p5.Geometry":309,"./webgl/p5.Matrix":310,"./webgl/p5.RenderBuffer":311,"./webgl/p5.RendererGL":314,"./webgl/p5.RendererGL.Immediate":312,"./webgl/p5.RendererGL.Retained":313,"./webgl/p5.Shader":315,"./webgl/p5.Texture":316,"./webgl/text":317}],246:[function(d,ee,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};v.default.ColorConversion={},v.default.ColorConversion._hsbaToHSLA=function(C){var w=C[1],g=C[2],u=(2-w)*g/2;return 0!=u&&(1==u?w=0:u<.5?w/=2-w:w=w*g/(2-2*u)),[C[0],w,u,C[3]]},v.default.ColorConversion._hsbaToRGBA=function(C){var M=6*C[0],w=C[1],g=C[2],u=[];if(0===w)u=[g,g,g,C[3]];else{var h,f,m,b=Math.floor(M),E=g*(1-w),L=g*(1-w*(M-b)),A=g*(1-w*(1+b-M));m=1===b?(h=L,f=g,E):2===b?(h=E,f=g,A):3===b?(h=E,f=L,g):4===b?(h=A,f=E,g):5===b?(h=g,f=E,L):(h=g,f=A,E),u=[h,f,m,C[3]]}return u},v.default.ColorConversion._hslaToHSBA=function(C){var M,g=C[1],u=C[2];return[C[0],g=2*((M=u<.5?(1+g)*u:u+g-u*g)-u)/M,M,C[3]]},v.default.ColorConversion._hslaToRGBA=function(C){var M=6*C[0],w=C[1],g=C[2],u=[];if(0===w)u=[g,g,g,C[3]];else{var h,f=2*g-(h=g<.5?(1+w)*g:g+w-g*w),m=function(b,E,L){return b<0?b+=6:6<=b&&(b-=6),b<1?E+(L-E)*b:b<3?L:b<4?E+(L-E)*(4-b):E};u=[m(2+M,f,h),m(M,f,h),m(M-2,f,h),C[3]]}return u},v.default.ColorConversion._rgbaToHSBA=function(C){var M,w,g=C[0],u=C[1],h=C[2],f=Math.max(g,u,h),m=f-Math.min(g,u,h);return 0==m?w=M=0:(w=m/f,g===f?M=(u-h)/m:u===f?M=2+(h-g)/m:h===f&&(M=4+(g-u)/m),M<0?M+=6:6<=M&&(M-=6)),[M/6,w,f,C[3]]},v.default.ColorConversion._rgbaToHSLA=function(C){var M,w,g=C[0],u=C[1],h=C[2],f=Math.max(g,u,h),m=Math.min(g,u,h),b=f+m,E=f-m;return 0==E?w=M=0:(w=b<1?E/b:E/(2-b),g===f?M=(u-h)/E:u===f?M=2+(h-g)/E:h===f&&(M=4+(g-u)/E),M<0?M+=6:6<=M&&(M-=6)),[M/6,w,b/2,C[3]]},H.default=v.default.ColorConversion},{"../core/main":260}],247:[function(d,ee,H){"use strict";function z(g){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(g)}d("core-js/modules/es.array.map"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v,x=(v=d("../core/main"))&&v.__esModule?v:{default:v},C=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==z(g)&&"function"!=typeof g)return{default:g};var u=M();if(u&&u.has(g))return u.get(g);var h={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in g)if(Object.prototype.hasOwnProperty.call(g,m)){var b=f?Object.getOwnPropertyDescriptor(g,m):null;b&&(b.get||b.set)?Object.defineProperty(h,m,b):h[m]=g[m]}return h.default=g,u&&u.set(g,h),h}(d("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var g=new WeakMap;return M=function(){return g},g}d("./p5.Color"),d("../core/friendly_errors/validate_params"),d("../core/friendly_errors/file_errors"),d("../core/friendly_errors/fes_core"),x.default.prototype.alpha=function(g){return x.default._validateParameters("alpha",arguments),this.color(g)._getAlpha()},x.default.prototype.blue=function(g){return x.default._validateParameters("blue",arguments),this.color(g)._getBlue()},x.default.prototype.brightness=function(g){return x.default._validateParameters("brightness",arguments),this.color(g)._getBrightness()},x.default.prototype.color=function(){return x.default._validateParameters("color",arguments),arguments[0]instanceof x.default.Color?arguments[0]:new x.default.Color(this,arguments[0]instanceof Array?arguments[0]:arguments)},x.default.prototype.green=function(g){return x.default._validateParameters("green",arguments),this.color(g)._getGreen()},x.default.prototype.hue=function(g){return x.default._validateParameters("hue",arguments),this.color(g)._getHue()},x.default.prototype.lerpColor=function(g,u,h){x.default._validateParameters("lerpColor",arguments);var f,m,b,E,L,A,R=this._colorMode,V=this._colorMaxes;if(R===C.RGB)L=g.levels.map(function(U){return U/255}),A=u.levels.map(function(U){return U/255});else if(R===C.HSB)g._getBrightness(),u._getBrightness(),L=g.hsba,A=u.hsba;else{if(R!==C.HSL)throw new Error("".concat(R,"cannot be used for interpolation."));g._getLightness(),u._getLightness(),L=g.hsla,A=u.hsla}return h=Math.max(Math.min(h,1),0),void 0===this.lerp&&(this.lerp=function(U,Z,Q){return Q*(Z-U)+U}),f=this.lerp(L[0],A[0],h),m=this.lerp(L[1],A[1],h),b=this.lerp(L[2],A[2],h),E=this.lerp(L[3],A[3],h),this.color(f*=V[R][0],m*=V[R][1],b*=V[R][2],E*=V[R][3])},x.default.prototype.lightness=function(g){return x.default._validateParameters("lightness",arguments),this.color(g)._getLightness()},x.default.prototype.red=function(g){return x.default._validateParameters("red",arguments),this.color(g)._getRed()},x.default.prototype.saturation=function(g){return x.default._validateParameters("saturation",arguments),this.color(g)._getSaturation()},H.default=x.default},{"../core/constants":250,"../core/friendly_errors/fes_core":252,"../core/friendly_errors/file_errors":253,"../core/friendly_errors/validate_params":255,"../core/main":260,"./p5.Color":248,"core-js/modules/es.array.map":159}],248:[function(d,ee,H){"use strict";function z(L){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(L)}d("core-js/modules/es.array.join"),d("core-js/modules/es.array.map"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.constructor"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.string.trim"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=w(d("../core/main")),x=function(L){if(L&&L.__esModule)return L;if(null===L||"object"!==z(L)&&"function"!=typeof L)return{default:L};var A=M();if(A&&A.has(L))return A.get(L);var R={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var U in L)if(Object.prototype.hasOwnProperty.call(L,U)){var Z=V?Object.getOwnPropertyDescriptor(L,U):null;Z&&(Z.get||Z.set)?Object.defineProperty(R,U,Z):R[U]=L[U]}return R.default=L,A&&A.set(L,R),R}(d("../core/constants")),C=w(d("./color_conversion"));function M(){if("function"!=typeof WeakMap)return null;var L=new WeakMap;return M=function(){return L},L}function w(L){return L&&L.__esModule?L:{default:L}}v.default.Color=function(L,A){if(this._storeModeAndMaxes(L._colorMode,L._colorMaxes),this.mode!==x.RGB&&this.mode!==x.HSL&&this.mode!==x.HSB)throw new Error("".concat(this.mode," is an invalid colorMode."));return this._array=v.default.Color._parseInputs.apply(this,A),this._calculateLevels(),this},v.default.Color.prototype.toString=function(L){var A=this.levels,R=this._array,V=R[3];switch(L){case"#rrggbb":return"#".concat(A[0]<16?"0".concat(A[0].toString(16)):A[0].toString(16),A[1]<16?"0".concat(A[1].toString(16)):A[1].toString(16),A[2]<16?"0".concat(A[2].toString(16)):A[2].toString(16));case"#rrggbbaa":return"#".concat(A[0]<16?"0".concat(A[0].toString(16)):A[0].toString(16),A[1]<16?"0".concat(A[1].toString(16)):A[1].toString(16),A[2]<16?"0".concat(A[2].toString(16)):A[2].toString(16),A[3]<16?"0".concat(A[3].toString(16)):A[3].toString(16));case"#rgb":return"#".concat(Math.round(15*R[0]).toString(16),Math.round(15*R[1]).toString(16),Math.round(15*R[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*R[0]).toString(16),Math.round(15*R[1]).toString(16),Math.round(15*R[2]).toString(16),Math.round(15*R[3]).toString(16));case"rgb":return"rgb(".concat(A[0],", ",A[1],", ",A[2],")");case"rgb%":return"rgb(".concat((100*R[0]).toPrecision(3),"%, ",(100*R[1]).toPrecision(3),"%, ",(100*R[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*R[0]).toPrecision(3),"%, ",(100*R[1]).toPrecision(3),"%, ",(100*R[2]).toPrecision(3),"%, ",(100*R[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[x.HSB][0],", ",this.hsba[1]*this.maxes[x.HSB][1],", ",this.hsba[2]*this.maxes[x.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[x.HSB][0],", ",this.hsba[1]*this.maxes[x.HSB][1],", ",this.hsba[2]*this.maxes[x.HSB][2],", ",V,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*V).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[x.HSL][0],", ",this.hsla[1]*this.maxes[x.HSL][1],", ",this.hsla[2]*this.maxes[x.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[x.HSL][0],", ",this.hsla[1]*this.maxes[x.HSL][1],", ",this.hsla[2]*this.maxes[x.HSL][2],", ",V,")");case"hsla%":return this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*V).toPrecision(3),"%)");case"rgba":default:return"rgba(".concat(A[0],",",A[1],",",A[2],",",V,")")}},v.default.Color.prototype.setRed=function(L){this._array[0]=L/this.maxes[x.RGB][0],this._calculateLevels()},v.default.Color.prototype.setGreen=function(L){this._array[1]=L/this.maxes[x.RGB][1],this._calculateLevels()},v.default.Color.prototype.setBlue=function(L){this._array[2]=L/this.maxes[x.RGB][2],this._calculateLevels()},v.default.Color.prototype.setAlpha=function(L){this._array[3]=L/this.maxes[this.mode][3],this._calculateLevels()},v.default.Color.prototype._calculateLevels=function(){for(var L=this._array,A=this.levels=new Array(L.length),R=L.length-1;0<=R;--R)A[R]=Math.round(255*L[R])},v.default.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},v.default.Color.prototype._storeModeAndMaxes=function(L,A){this.mode=L,this.maxes=A},v.default.Color.prototype._getMode=function(){return this.mode},v.default.Color.prototype._getMaxes=function(){return this.maxes},v.default.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[x.RGB][2]},v.default.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[x.HSB][2]},v.default.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[x.RGB][1]},v.default.Color.prototype._getHue=function(){return this.mode===x.HSB?(this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[x.HSB][0]):(this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[x.HSL][0])},v.default.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[x.HSL][2]},v.default.Color.prototype._getRed=function(){return this._array[0]*this.maxes[x.RGB][0]},v.default.Color.prototype._getSaturation=function(){return this.mode===x.HSB?(this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[x.HSB][1]):(this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[x.HSL][1])};var g={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},u=/\s*/,h=/(\d{1,3})/,f=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,m=new RegExp("".concat(f.source,"%")),b={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",h.source,",",h.source,",",h.source,"\\)$"].join(u.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",m.source,",",m.source,",",m.source,"\\)$"].join(u.source),"i"),RGBA:new RegExp(["^rgba\\(",h.source,",",h.source,",",h.source,",",f.source,"\\)$"].join(u.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",m.source,",",m.source,",",m.source,",",f.source,"\\)$"].join(u.source),"i"),HSL:new RegExp(["^hsl\\(",h.source,",",m.source,",",m.source,"\\)$"].join(u.source),"i"),HSLA:new RegExp(["^hsla\\(",h.source,",",m.source,",",m.source,",",f.source,"\\)$"].join(u.source),"i"),HSB:new RegExp(["^hsb\\(",h.source,",",m.source,",",m.source,"\\)$"].join(u.source),"i"),HSBA:new RegExp(["^hsba\\(",h.source,",",m.source,",",m.source,",",f.source,"\\)$"].join(u.source),"i")};v.default.Color._parseInputs=function(L,A,R,V){var U,Z=arguments.length,Q=this.mode,Y=this.maxes[Q],K=[];if(3<=Z){for(K[0]=L/Y[0],K[1]=A/Y[1],K[2]=R/Y[2],K[3]="number"==typeof V?V/Y[3]:1,U=K.length-1;0<=U;--U){var te=K[U];te<0?K[U]=0:1<te&&(K[U]=1)}return Q===x.HSL?C.default._hslaToRGBA(K):Q===x.HSB?C.default._hsbaToRGBA(K):K}if(1===Z&&"string"==typeof L){var q=L.trim().toLowerCase();if(g[q])return v.default.Color._parseInputs.call(this,g[q]);if(b.HEX3.test(q))return(K=b.HEX3.exec(q).slice(1).map(function(oe){return parseInt(oe+oe,16)/255}))[3]=1,K;if(b.HEX6.test(q))return(K=b.HEX6.exec(q).slice(1).map(function(oe){return parseInt(oe,16)/255}))[3]=1,K;if(b.HEX4.test(q))return b.HEX4.exec(q).slice(1).map(function(oe){return parseInt(oe+oe,16)/255});if(b.HEX8.test(q))return b.HEX8.exec(q).slice(1).map(function(oe){return parseInt(oe,16)/255});if(b.RGB.test(q))return(K=b.RGB.exec(q).slice(1).map(function(oe){return oe/255}))[3]=1,K;if(b.RGB_PERCENT.test(q))return(K=b.RGB_PERCENT.exec(q).slice(1).map(function(oe){return parseFloat(oe)/100}))[3]=1,K;if(b.RGBA.test(q))return b.RGBA.exec(q).slice(1).map(function(oe,ie){return 3===ie?parseFloat(oe):oe/255});if(b.RGBA_PERCENT.test(q))return b.RGBA_PERCENT.exec(q).slice(1).map(function(oe,ie){return 3===ie?parseFloat(oe):parseFloat(oe)/100});if(b.HSL.test(q)?(K=b.HSL.exec(q).slice(1).map(function(oe,ie){return 0===ie?parseInt(oe,10)/360:parseInt(oe,10)/100}))[3]=1:b.HSLA.test(q)&&(K=b.HSLA.exec(q).slice(1).map(function(oe,ie){return 0===ie?parseInt(oe,10)/360:3===ie?parseFloat(oe):parseInt(oe,10)/100})),(K=K.map(function(oe){return Math.max(Math.min(oe,1),0)})).length)return C.default._hslaToRGBA(K);if(b.HSB.test(q)?(K=b.HSB.exec(q).slice(1).map(function(oe,ie){return 0===ie?parseInt(oe,10)/360:parseInt(oe,10)/100}))[3]=1:b.HSBA.test(q)&&(K=b.HSBA.exec(q).slice(1).map(function(oe,ie){return 0===ie?parseInt(oe,10)/360:3===ie?parseFloat(oe):parseInt(oe,10)/100})),K.length){for(U=K.length-1;0<=U;--U)K[U]=Math.max(Math.min(K[U],1),0);return C.default._hsbaToRGBA(K)}K=[1,1,1,1]}else{if(1!==Z&&2!==Z||"number"!=typeof L)throw new Error("".concat(arguments,"is not a valid color representation."));K[0]=L/Y[2],K[1]=L/Y[2],K[2]=L/Y[2],K[3]="number"==typeof A?A/Y[3]:1,K=K.map(function(oe){return Math.max(Math.min(oe,1),0)})}return K},H.default=v.default.Color},{"../core/constants":250,"../core/main":260,"./color_conversion":246,"core-js/modules/es.array.join":157,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.constructor":177,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.trim":190}],249:[function(d,ee,H){"use strict";function z(g){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(g)}d("core-js/modules/es.array.fill"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v,x=(v=d("../core/main"))&&v.__esModule?v:{default:v},C=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==z(g)&&"function"!=typeof g)return{default:g};var u=M();if(u&&u.has(g))return u.get(g);var h={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in g)if(Object.prototype.hasOwnProperty.call(g,m)){var b=f?Object.getOwnPropertyDescriptor(g,m):null;b&&(b.get||b.set)?Object.defineProperty(h,m,b):h[m]=g[m]}return h.default=g,u&&u.set(g,h),h}(d("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var g=new WeakMap;return M=function(){return g},g}d("./p5.Color"),x.default.prototype.background=function(){var g;return(g=this._renderer).background.apply(g,arguments),this},x.default.prototype.clear=function(){return this._renderer.clear(),this},x.default.prototype.colorMode=function(g,u,h,f,m){if(x.default._validateParameters("colorMode",arguments),g===C.RGB||g===C.HSB||g===C.HSL){this._colorMode=g;var b=this._colorMaxes[g];2===arguments.length?(b[0]=u,b[1]=u,b[2]=u,b[3]=u):4===arguments.length?(b[0]=u,b[1]=h,b[2]=f):5===arguments.length&&(b[0]=u,b[1]=h,b[2]=f,b[3]=m)}return this},x.default.prototype.fill=function(){var g;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(g=this._renderer).fill.apply(g,arguments),this},x.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},x.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},x.default.prototype.stroke=function(){var g;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(g=this._renderer).stroke.apply(g,arguments),this},x.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255),this},x.default.prototype.noErase=function(){return this._renderer.noErase(),this},H.default=x.default},{"../core/constants":250,"../core/main":260,"./p5.Color":248,"core-js/modules/es.array.fill":150}],250:[function(d,ee,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.STROKE=H.CURVE=H.BEZIER=H.QUADRATIC=H.LINEAR=H._CTX_MIDDLE=H._DEFAULT_LEADMULT=H._DEFAULT_TEXT_FILL=H.BOLDITALIC=H.BOLD=H.ITALIC=H.NORMAL=H.BLUR=H.ERODE=H.DILATE=H.POSTERIZE=H.INVERT=H.OPAQUE=H.GRAY=H.THRESHOLD=H.BURN=H.DODGE=H.SOFT_LIGHT=H.HARD_LIGHT=H.OVERLAY=H.REPLACE=H.SCREEN=H.MULTIPLY=H.EXCLUSION=H.SUBTRACT=H.DIFFERENCE=H.LIGHTEST=H.DARKEST=H.ADD=H.REMOVE=H.BLEND=H.UP_ARROW=H.TAB=H.SHIFT=H.RIGHT_ARROW=H.RETURN=H.OPTION=H.LEFT_ARROW=H.ESCAPE=H.ENTER=H.DOWN_ARROW=H.DELETE=H.CONTROL=H.BACKSPACE=H.ALT=H.AUTO=H.HSL=H.HSB=H.RGB=H.MITER=H.BEVEL=H.ROUND=H.SQUARE=H.PROJECT=H.PIE=H.CHORD=H.OPEN=H.CLOSE=H.TESS=H.QUAD_STRIP=H.QUADS=H.TRIANGLE_STRIP=H.TRIANGLE_FAN=H.TRIANGLES=H.LINE_LOOP=H.LINE_STRIP=H.LINES=H.POINTS=H.BASELINE=H.BOTTOM=H.TOP=H.CENTER=H.LEFT=H.RIGHT=H.RADIUS=H.CORNERS=H.CORNER=H.RAD_TO_DEG=H.DEG_TO_RAD=H.RADIANS=H.DEGREES=H.TWO_PI=H.TAU=H.QUARTER_PI=H.PI=H.HALF_PI=H.WAIT=H.TEXT=H.MOVE=H.HAND=H.CROSS=H.ARROW=H.WEBGL=H.P2D=H.VERSION=void 0,H.FALLBACK=H.LABEL=H.AXES=H.GRID=H._DEFAULT_FILL=H._DEFAULT_STROKE=H.PORTRAIT=H.LANDSCAPE=H.MIRROR=H.CLAMP=H.REPEAT=H.NEAREST=H.IMAGE=H.IMMEDIATE=H.TEXTURE=H.FILL=void 0;var z=Math.PI;H.VERSION="1.3.1",H.P2D="p2d",H.WEBGL="webgl",H.ARROW="default",H.CROSS="crosshair",H.HAND="pointer",H.MOVE="move",H.TEXT="text",H.WAIT="wait",H.HALF_PI=z/2,H.PI=z,H.QUARTER_PI=z/4,H.TAU=2*z,H.TWO_PI=2*z,H.DEGREES="degrees",H.RADIANS="radians",H.DEG_TO_RAD=z/180,H.RAD_TO_DEG=180/z,H.CORNER="corner",H.CORNERS="corners",H.RADIUS="radius",H.RIGHT="right",H.LEFT="left",H.CENTER="center",H.TOP="top",H.BOTTOM="bottom",H.BASELINE="alphabetic",H.POINTS=0,H.LINES=1,H.LINE_STRIP=3,H.LINE_LOOP=2,H.TRIANGLES=4,H.TRIANGLE_FAN=6,H.TRIANGLE_STRIP=5,H.QUADS="quads",H.QUAD_STRIP="quad_strip",H.TESS="tess",H.CLOSE="close",H.OPEN="open",H.CHORD="chord",H.PIE="pie",H.PROJECT="square",H.SQUARE="butt",H.ROUND="round",H.BEVEL="bevel",H.MITER="miter",H.RGB="rgb",H.HSB="hsb",H.HSL="hsl",H.AUTO="auto",H.ALT=18,H.BACKSPACE=8,H.CONTROL=17,H.DELETE=46,H.DOWN_ARROW=40,H.ENTER=13,H.ESCAPE=27,H.LEFT_ARROW=37,H.OPTION=18,H.RETURN=13,H.RIGHT_ARROW=39,H.SHIFT=16,H.TAB=9,H.UP_ARROW=38,H.BLEND="source-over",H.REMOVE="destination-out",H.ADD="lighter",H.DARKEST="darken",H.LIGHTEST="lighten",H.DIFFERENCE="difference",H.SUBTRACT="subtract",H.EXCLUSION="exclusion",H.MULTIPLY="multiply",H.SCREEN="screen",H.REPLACE="copy",H.OVERLAY="overlay",H.HARD_LIGHT="hard-light",H.SOFT_LIGHT="soft-light",H.DODGE="color-dodge",H.BURN="color-burn",H.THRESHOLD="threshold",H.GRAY="gray",H.OPAQUE="opaque",H.INVERT="invert",H.POSTERIZE="posterize",H.DILATE="dilate",H.ERODE="erode",H.BLUR="blur",H.NORMAL="normal",H.ITALIC="italic",H.BOLD="bold",H.BOLDITALIC="bold italic",H._DEFAULT_TEXT_FILL="#000000",H._DEFAULT_LEADMULT=1.25,H._CTX_MIDDLE="middle",H.LINEAR="linear",H.QUADRATIC="quadratic",H.BEZIER="bezier",H.CURVE="curve",H.STROKE="stroke",H.FILL="fill",H.TEXTURE="texture",H.IMMEDIATE="immediate",H.IMAGE="image",H.NEAREST="nearest",H.REPEAT="repeat",H.CLAMP="clamp",H.MIRROR="mirror",H.LANDSCAPE="landscape",H.PORTRAIT="portrait",H._DEFAULT_STROKE="#000000",H._DEFAULT_FILL="#FFFFFF",H.GRID="grid",H.AXES="axes",H.LABEL="label",H.FALLBACK="fallback"},{}],251:[function(d,ee,H){"use strict";function z(m){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(m)}d("core-js/modules/es.array.concat"),d("core-js/modules/es.array.filter"),d("core-js/modules/es.array.includes"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.string.includes"),d("core-js/modules/es.string.search"),d("core-js/modules/es.string.split"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v,x=(v=d("./main"))&&v.__esModule?v:{default:v},C=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==z(m)&&"function"!=typeof m)return{default:m};var b=M();if(b&&b.has(m))return b.get(m);var E={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in m)if(Object.prototype.hasOwnProperty.call(m,A)){var R=L?Object.getOwnPropertyDescriptor(m,A):null;R&&(R.get||R.set)?Object.defineProperty(E,A,R):E[A]=m[A]}return E.default=m,b&&b.set(m,E),E}(d("./constants"));function M(){if("function"!=typeof WeakMap)return null;var m=new WeakMap;return M=function(){return m},m}var w=[C.ARROW,C.CROSS,C.HAND,C.MOVE,C.TEXT,C.WAIT];x.default.prototype._frameRate=0,x.default.prototype._lastFrameTime=window.performance.now(),x.default.prototype._targetFrameRate=60;var g=window.print;function u(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function h(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}x.default.prototype.print=function(){var m;arguments.length?(m=console).log.apply(m,arguments):g()},x.default.prototype.frameCount=0,x.default.prototype.deltaTime=0,x.default.prototype.focused=document.hasFocus(),x.default.prototype.cursor=function(m,b,E){var L="auto",A=this._curElement.elt;if(w.includes(m))L=m;else if("string"==typeof m){var R="";b&&E&&"number"==typeof b&&"number"==typeof E&&(R="".concat(b," ").concat(E)),L="http://"===m.substring(0,7)||"https://"===m.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(m)?"url(".concat(m,") ").concat(R,", auto"):m}A.style.cursor=L},x.default.prototype.frameRate=function(m){return x.default._validateParameters("frameRate",arguments),"number"!=typeof m||m<0?this._frameRate:(this._setProperty("_targetFrameRate",m),0===m&&this._setProperty("_frameRate",m),this)},x.default.prototype.getFrameRate=function(){return this.frameRate()},x.default.prototype.setFrameRate=function(m){return this.frameRate(m)},x.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},x.default.prototype.displayWidth=screen.width,x.default.prototype.displayHeight=screen.height,x.default.prototype.windowWidth=u(),x.default.prototype.windowHeight=h(),x.default.prototype._onresize=function(m){this._setProperty("windowWidth",u()),this._setProperty("windowHeight",h());var b,E=this._isGlobal?window:this;"function"==typeof E.windowResized&&(void 0===(b=E.windowResized(m))||b||m.preventDefault())},x.default.prototype.width=0,x.default.prototype.height=0,x.default.prototype.fullscreen=function(m){if(x.default._validateParameters("fullscreen",arguments),void 0===m)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;m?function(b){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");b.requestFullscreen?b.requestFullscreen():b.mozRequestFullScreen?b.mozRequestFullScreen():b.webkitRequestFullscreen?b.webkitRequestFullscreen():b.msRequestFullscreen&&b.msRequestFullscreen()}(document.documentElement):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},x.default.prototype.pixelDensity=function(m){var b;return x.default._validateParameters("pixelDensity",arguments),"number"==typeof m?(m!==this._pixelDensity&&(this._pixelDensity=m),(b=this).resizeCanvas(this.width,this.height,!0)):b=this._pixelDensity,b},x.default.prototype.displayDensity=function(){return window.devicePixelRatio},x.default.prototype.getURL=function(){return location.href},x.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(m){return""!==m})},x.default.prototype.getURLParams=function(){for(var m,b=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,E={};null!=(m=b.exec(location.search));)m.index===b.lastIndex&&b.lastIndex++,E[m[1]]=m[2];return E},H.default=x.default},{"./constants":250,"./main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.includes":154,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.includes":182,"core-js/modules/es.string.search":187,"core-js/modules/es.string.split":188}],252:[function(d,ee,H){"use strict";d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.concat"),d("core-js/modules/es.array.filter"),d("core-js/modules/es.array.for-each"),d("core-js/modules/es.array.includes"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.array.join"),d("core-js/modules/es.array.map"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.array.some"),d("core-js/modules/es.function.name"),d("core-js/modules/es.object.assign"),d("core-js/modules/es.object.get-own-property-names"),d("core-js/modules/es.object.keys"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.constructor"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.string.iterator"),d("core-js/modules/es.string.match"),d("core-js/modules/es.string.replace"),d("core-js/modules/es.string.search"),d("core-js/modules/es.string.split"),d("core-js/modules/web.dom-collections.for-each"),d("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../main"))&&z.__esModule?z:{default:z};d("../internationalization");var x=null,C=null;v.default._friendlyError=v.default._checkForUserDefinedFunctions=v.default._fesErrorMonitor=function(){},x=null;function w(u,h){h=h||console.log.bind(console),x||C(),x.some(function(f){if(u.message&&null!==u.message.match("\\W?".concat(f.name,"\\W"))){var m="function"===f.type?"".concat(f.name,"()"):f.name;return h("Did you just try to use p5.js's ".concat(m," ").concat(f.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat("https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup")),!0}})}C=function(){function u(f){return Object.getOwnPropertyNames(f).filter(function(m){return"_"!==m[0]&&!(m in h)&&(h[m]=!0)}).map(function(m){var b;return b="function"==typeof f[m]?"function":m===m.toUpperCase()?"constant":"variable",{name:m,type:b}})}var h={};(x=[].concat(u(v.default.prototype),u(d("../constants")))).sort(function(f,m){return m.name.length-f.name.length})},v.default.prototype._helpForMisusedAtTopLevelCode=w,"complete"!==document.readyState&&(window.addEventListener("error",w,!1),window.addEventListener("load",function(){window.removeEventListener("error",w,!1)})),H.default=v.default},{"../constants":250,"../internationalization":258,"../main":260,"./browser_errors":void 0,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.for-each":152,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.join":157,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.some":161,"core-js/modules/es.function.name":163,"core-js/modules/es.object.assign":170,"core-js/modules/es.object.get-own-property-names":171,"core-js/modules/es.object.keys":173,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.constructor":177,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.match":184,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.search":187,"core-js/modules/es.string.split":188,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.for-each":225,"core-js/modules/web.dom-collections.iterator":226}],253:[function(d,ee,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../main"))&&z.__esModule?z:{default:z};d("../internationalization"),v.default._friendlyFileLoadError=function(){},H.default=v.default},{"../internationalization":258,"../main":260}],254:[function(d,ee,H){"use strict";d("core-js/modules/es.array.filter"),d("core-js/modules/es.array.index-of"),d("core-js/modules/es.array.join"),d("core-js/modules/es.array.map"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.string.match"),d("core-js/modules/es.string.replace"),d("core-js/modules/es.string.split"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../main"))&&z.__esModule?z:{default:z};function x(){var M=/(^|@)\S+:\d+/,w=/^\s*at .*(\S+:\d+|\(native\))/m,g=/^(eval@)?(\[native code])?$/;return{parse:function(u){return void 0!==u.stacktrace||void 0!==u["opera#sourceloc"]?this.parseOpera(u):u.stack&&u.stack.match(w)?this.parseV8OrIE(u):u.stack?this.parseFFOrSafari(u):void 0},extractLocation:function(u){if(-1===u.indexOf(":"))return[u];var h=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(u.replace(/[()]/g,""));return[h[1],h[2]||void 0,h[3]||void 0]},parseV8OrIE:function(u){return u.stack.split("\n").filter(function(h){return!!h.match(w)},this).map(function(h){-1<h.indexOf("(eval ")&&(h=h.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var f=h.replace(/^\s+/,"").replace(/\(eval code/g,"("),m=f.match(/ (\((.+):(\d+):(\d+)\)$)/),b=(f=m?f.replace(m[0],""):f).split(/\s+/).slice(1),E=this.extractLocation(m?m[1]:b.pop());return{functionName:b.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(E[0])?void 0:E[0],lineNumber:E[1],columnNumber:E[2],source:h}},this)},parseFFOrSafari:function(u){return u.stack.split("\n").filter(function(h){return!h.match(g)},this).map(function(h){if(-1<h.indexOf(" > eval")&&(h=h.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===h.indexOf("@")&&-1===h.indexOf(":"))return{functionName:h};var f=/((.*".+"[^@]*)?[^@]*)(?:@)/,m=h.match(f),b=m&&m[1]?m[1]:void 0,E=this.extractLocation(h.replace(f,""));return{functionName:b,fileName:E[0],lineNumber:E[1],columnNumber:E[2],source:h}},this)},parseOpera:function(u){return!u.stacktrace||-1<u.message.indexOf("\n")&&u.message.split("\n").length>u.stacktrace.split("\n").length?this.parseOpera9(u):u.stack?this.parseOpera11(u):this.parseOpera10(u)},parseOpera9:function(u){for(var h=/Line (\d+).*script (?:in )?(\S+)/i,f=u.message.split("\n"),m=[],b=2,E=f.length;b<E;b+=2){var L=h.exec(f[b]);L&&m.push({fileName:L[2],lineNumber:L[1],source:f[b]})}return m},parseOpera10:function(u){for(var h=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,f=u.stacktrace.split("\n"),m=[],b=0,E=f.length;b<E;b+=2){var L=h.exec(f[b]);L&&m.push({functionName:L[3]||void 0,fileName:L[2],lineNumber:L[1],source:f[b]})}return m},parseOpera11:function(u){return u.stack.split("\n").filter(function(h){return!!h.match(M)&&!h.match(/^Error created at/)},this).map(function(h){var f,m=h.split("@"),b=this.extractLocation(m.pop()),E=m.shift()||"",L=E.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return E.match(/\(([^)]*)\)/)&&(f=E.replace(/^[^(]+\(([^)]*)\)$/,"$1")),{functionName:L,args:void 0===f||"[arguments not available]"===f?void 0:f.split(","),fileName:b[0],lineNumber:b[1],columnNumber:b[2],source:h}},this)}}}v.default._getErrorStackParser=function(){return new x},H.default=v.default},{"../main":260,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.join":157,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.match":184,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.split":188}],255:[function(d,ee,H){"use strict";d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.concat"),d("core-js/modules/es.array.for-each"),d("core-js/modules/es.array.includes"),d("core-js/modules/es.array.index-of"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.array.join"),d("core-js/modules/es.array.last-index-of"),d("core-js/modules/es.array.map"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.function.name"),d("core-js/modules/es.map"),d("core-js/modules/es.number.constructor"),d("core-js/modules/es.object.get-prototype-of"),d("core-js/modules/es.object.keys"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.reflect.construct"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.set"),d("core-js/modules/es.string.includes"),d("core-js/modules/es.string.iterator"),d("core-js/modules/es.string.split"),d("core-js/modules/web.dom-collections.for-each"),d("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../main"))&&z.__esModule?z:{default:z};function x(){if("function"!=typeof WeakMap)return null;var w=new WeakMap;return x=function(){return w},w}function C(w){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(w)}(function(w){if(!(w&&w.__esModule||null===w||"object"!==C(w)&&"function"!=typeof w)){var g=x();if(g&&g.has(w))return g.get(w);var u={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in w)if(Object.prototype.hasOwnProperty.call(w,f)){var m=h?Object.getOwnPropertyDescriptor(w,f):null;m&&(m.get||m.set)?Object.defineProperty(u,f,m):u[f]=w[f]}u.default=w,g&&g.set(w,u)}})(d("../constants")),d("../internationalization"),v.default._validateParameters=v.default._clearValidateParamsCache=function(){},H.default=v.default},{"../../../docs/parameterData.json":void 0,"../constants":250,"../internationalization":258,"../main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.for-each":152,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.join":157,"core-js/modules/es.array.last-index-of":158,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.function.name":163,"core-js/modules/es.map":164,"core-js/modules/es.number.constructor":167,"core-js/modules/es.object.get-prototype-of":172,"core-js/modules/es.object.keys":173,"core-js/modules/es.object.to-string":174,"core-js/modules/es.reflect.construct":176,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.set":180,"core-js/modules/es.string.includes":182,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.split":188,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.for-each":225,"core-js/modules/web.dom-collections.iterator":226}],256:[function(d,ee,H){"use strict";function z(M){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(M)}Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=function(M){if(M&&M.__esModule)return M;if(null===M||"object"!==z(M)&&"function"!=typeof M)return{default:M};var w=x();if(w&&w.has(M))return w.get(M);var g={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in M)if(Object.prototype.hasOwnProperty.call(M,h)){var f=u?Object.getOwnPropertyDescriptor(M,h):null;f&&(f.get||f.set)?Object.defineProperty(g,h,f):g[h]=M[h]}return g.default=M,w&&w.set(M,g),g}(d("./constants"));function x(){if("function"!=typeof WeakMap)return null;var M=new WeakMap;return x=function(){return M},M}H.default={modeAdjust:function(M,w,g,u,h){return h===v.CORNER?{x:M,y:w,w:g,h:u}:h===v.CORNERS?{x:M,y:w,w:g-M,h:u-w}:h===v.RADIUS?{x:M-g,y:w-u,w:2*g,h:2*u}:h===v.CENTER?{x:M-.5*g,y:w-.5*u,w:g,h:u}:void 0}}},{"./constants":250}],257:[function(d,ee,H){"use strict";d("core-js/modules/es.array.iterator"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.promise"),d("core-js/modules/es.string.iterator"),d("core-js/modules/web.dom-collections.iterator");var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};d("./internationalization");var x=Promise.resolve();Promise.all([new Promise(function(C,M){"complete"===document.readyState?C():window.addEventListener("load",C,!1)}),x]).then(function(){void 0===window._setupDone?window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!v.default.instance&&new v.default:console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import")})},{"../core/main":260,"./internationalization":258,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.promise":175,"core-js/modules/es.string.iterator":183,"core-js/modules/web.dom-collections.iterator":226}],258:[function(d,ee,H){"use strict";d("core-js/modules/es.array.includes"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.array.join"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.object.keys"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.promise"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.string.includes"),d("core-js/modules/es.string.iterator"),d("core-js/modules/es.string.split"),d("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.initialize=H.translator=void 0;var z,x=M(d("i18next")),C=M(d("i18next-browser-languagedetector"));function M(h){return h&&h.__esModule?h:{default:h}}function w(h,f){for(var m=0;m<f.length;m++){var b=f[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(h,b.key,b)}}var g=function(){function h(E,L){(function(A,R){if(!(A instanceof R))throw new TypeError("Cannot call a class as a function")})(this,h),this.init(E,L)}var f,m;return f=h,(m=[{key:"fetchWithTimeout",value:function(E,L,A){var R=2<arguments.length&&void 0!==A?A:2e3;return Promise.race([fetch(E,L),new Promise(function(V,U){return setTimeout(function(){return U(new Error("timeout"))},R)})])}},{key:"init",value:function(E,L){var A=1<arguments.length&&void 0!==L?L:{};this.services=E,this.options=A}},{key:"read",value:function(E,L,A){var R=this.options.loadPath;if(E===this.options.fallback)A(null,z[E][L]);else if(undefined.includes(E)){var V=this.services.interpolator.interpolate(R,{lng:E,ns:L});this.loadUrl(V,A)}else A("Not found",!1)}},{key:"loadUrl",value:function(E,L){this.fetchWithTimeout(E).then(function(A){if(!A.ok)throw new Error("failed loading ".concat(E));return A.json()},function(){throw new Error("failed loading ".concat(E))}).then(function(A){return L(null,A)}).catch(L)}}])&&w(f.prototype,m),h}();g.type="backend";var u=function(h,f){console.debug("p5.js translator called before translations were loaded"),x.default.t(h,f)};H.translator=u,H.initialize=function(){return x.default.use(C.default).use(g).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:z}).then(function(h){H.translator=u=h},function(h){return console.debug("Translations failed to load (".concat(h,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.join":157,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.keys":173,"core-js/modules/es.object.to-string":174,"core-js/modules/es.promise":175,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.includes":182,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.split":188,"core-js/modules/web.dom-collections.iterator":226,i18next:3,"i18next-browser-languagedetector":3}],259:[function(d,ee,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("./main"))&&z.__esModule?z:{default:z};v.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},v.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},v.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},v.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},H.default=v.default},{"./main":260}],260:[function(d,ee,H){"use strict";function z(u){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(u)}d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.for-each"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.object.get-own-property-names"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.string.iterator"),d("core-js/modules/web.dom-collections.for-each"),d("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0,d("./shim");var v=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==z(u)&&"function"!=typeof u)return{default:u};var h=x();if(h&&h.has(u))return h.get(u);var f={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(Object.prototype.hasOwnProperty.call(u,b)){var E=m?Object.getOwnPropertyDescriptor(u,b):null;E&&(E.get||E.set)?Object.defineProperty(f,b,E):f[b]=u[b]}return f.default=u,h&&h.set(u,f),f}(d("./constants"));function x(){if("function"!=typeof WeakMap)return null;var u=new WeakMap;return x=function(){return u},u}function C(u,h){for(var f=0;f<h.length;f++){var m=h[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,m.key,m)}}var M=function(){function u(b,E,L){var A=this;(function($e,qe){if(!($e instanceof qe))throw new TypeError("Cannot call a class as a function")})(this,u),this._setupDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=E,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var R=Object.getOwnPropertyNames(u.prototype._registeredMethods),V=!0,U=!1,Z=void 0;try{for(var Q,Y=R[Symbol.iterator]();!(V=(Q=Y.next()).done);V=!0){var K=Q.value;this._registeredMethods[K]=u.prototype._registeredMethods[K].slice()}}catch($e){U=!0,Z=$e}finally{try{V||null==Y.return||Y.return()}finally{if(U)throw Z}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){A._userNode&&"string"==typeof A._userNode&&(A._userNode=document.getElementById(A._userNode));var $e=A._isGlobal?window:A;if($e.preload){var qe=document.getElementById(A._loadingScreenId);qe||((qe=document.createElement("div")).innerHTML="Loading...",qe.style.position="absolute",qe.id=A._loadingScreenId,(A._userNode||document.body).appendChild(qe));var We=A._preloadMethods;for(var tt in We){We[tt]=We[tt]||u;var Qe=We[tt];Qe!==u.prototype&&Qe!==u||(A._isGlobal&&(window[tt]=A._wrapPreload(A,tt)),Qe=A),A._registeredPreloadMethods[tt]=Qe[tt],Qe[tt]=A._wrapPreload(Qe,tt)}$e.preload(),A._runIfPreloadsAreDone()}else A._setup(),A._draw()},this._runIfPreloadsAreDone=function(){var $e=this._isGlobal?window:this;if(0===$e._preloadCount){var qe=document.getElementById($e._loadingScreenId);qe&&qe.parentNode.removeChild(qe),this._setupDone||(this._lastFrameTime=window.performance.now(),$e._setup(),$e._draw())}},this._decrementPreload=function(){var $e=this._isGlobal?window:this;"function"==typeof $e.preload&&($e._setProperty("_preloadCount",$e._preloadCount-1),$e._runIfPreloadsAreDone())},this._wrapPreload=function($e,qe){var We=this;return function(){We._incrementPreload();for(var tt=arguments.length,Qe=new Array(tt),ut=0;ut<tt;ut++)Qe[ut]=arguments[ut];return We._registeredPreloadMethods[qe].apply($e,Qe)}},this._incrementPreload=function(){var $e=this._isGlobal?window:this;$e._setProperty("_preloadCount",$e._preloadCount+1)},this._setup=function(){A.createCanvas(A._defaultCanvasSize.width,A._defaultCanvasSize.height,"p2d");var $e=A._isGlobal?window:A;if("function"==typeof $e.preload)for(var qe in A._preloadMethods)$e[qe]=A._preloadMethods[qe][qe],$e[qe]&&A&&($e[qe]=$e[qe].bind(A));A._millisStart=window.performance.now(),"function"==typeof $e.setup&&$e.setup();var We=document.getElementsByTagName("canvas"),tt=!0,Qe=!1,ut=void 0;try{for(var G,J=We[Symbol.iterator]();!(tt=(G=J.next()).done);tt=!0){var ue=G.value;"true"===ue.dataset.hidden&&(ue.style.visibility="",delete ue.dataset.hidden)}}catch(Re){Qe=!0,ut=Re}finally{try{tt||null==J.return||J.return()}finally{if(Qe)throw ut}}A._lastFrameTime=window.performance.now(),A._setupDone=!0,(A._accessibleOutputs.grid||A._accessibleOutputs.text)&&A._updateAccsOutput()},this._draw=function(){var $e=window.performance.now();(!A._loop||1e3/A._targetFrameRate-5<=$e-A._lastFrameTime)&&(A.redraw(),A._frameRate=1e3/($e-A._lastFrameTime),A.deltaTime=$e-A._lastFrameTime,A._setProperty("deltaTime",A.deltaTime),A._lastFrameTime=$e,void 0!==A._updateMouseCoords&&(A._updateMouseCoords(),A._setProperty("movedX",0),A._setProperty("movedY",0))),A._loop&&(A._requestAnimId=window.requestAnimationFrame(A._draw))},this._setProperty=function($e,qe){A[$e]=qe,A._isGlobal&&(window[$e]=qe)},this.remove=function(){var $e=document.getElementById(A._loadingScreenId);if($e&&($e.parentNode.removeChild($e),A._incrementPreload()),A._curElement){for(var qe in A._loop=!1,A._requestAnimId&&window.cancelAnimationFrame(A._requestAnimId),A._events)window.removeEventListener(qe,A._events[qe]);var We=!0,tt=!1,Qe=void 0;try{for(var ut,G=A._elements[Symbol.iterator]();!(We=(ut=G.next()).done);We=!0){var J=ut.value;for(var ue in J.elt&&J.elt.parentNode&&J.elt.parentNode.removeChild(J.elt),J._events)J.elt.removeEventListener(ue,J._events[ue])}}catch(Be){tt=!0,Qe=Be}finally{try{We||null==G.return||G.return()}finally{if(tt)throw Qe}}var Re=A;A._registeredMethods.remove.forEach(function(Be){void 0!==Be&&Be.call(Re)})}if(A._isGlobal){for(var Ee in u.prototype)try{delete window[Ee]}catch(Be){window[Ee]=void 0}for(var Ie in A)if(A.hasOwnProperty(Ie))try{delete window[Ie]}catch(Be){window[Ie]=void 0}u.instance=null}},this._registeredMethods.init.forEach(function($e){void 0!==$e&&$e.call(this)},this),this._setupPromisePreloads();var te=this._createFriendlyGlobalFunctionBinder();if(b)b(this),u._checkForUserDefinedFunctions(this);else{for(var q in this._isGlobal=!0,u.instance=this,u.prototype)if("function"==typeof u.prototype[q]){var oe=q.substring(2);this._events.hasOwnProperty(oe)||(Math.hasOwnProperty(q)&&Math[q]===u.prototype[q]?te(q,u.prototype[q]):te(q,u.prototype[q].bind(this)))}else te(q,u.prototype[q]);for(var ie in this)this.hasOwnProperty(ie)&&te(ie,this[ie])}for(var ye in this._events){var Ve=this["_on".concat(ye)];if(Ve){var _e=Ve.bind(this);window.addEventListener(ye,_e,{passive:!1}),this._events[ye]=_e}}function we(){A._setProperty("focused",!0)}function Le(){A._setProperty("focused",!1)}window.addEventListener("focus",we),window.addEventListener("blur",Le),this.registerMethod("remove",function(){window.removeEventListener("focus",we),window.removeEventListener("blur",Le)}),"complete"===document.readyState?this._start():window.addEventListener("load",this._start.bind(this),!1)}var h,f;return h=u,(f=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=v.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(b,E){u.prototype._preloadMethods.hasOwnProperty(b)||(u.prototype._preloadMethods[b]=E)}},{key:"registerMethod",value:function(b,E){var L=this||u.prototype;L._registeredMethods.hasOwnProperty(b)||(L._registeredMethods[b]=[]),L._registeredMethods[b].push(E)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(b){var E=0<arguments.length&&void 0!==b?b:{},L=E.globalObject||window;return E.log||console.log.bind(console),function(A,R){L[A]=R}}}])&&C(h.prototype,f),u}();for(var w in M.instance=null,M.disableFriendlyErrors=!1,v)M.prototype[w]=v[w];M.prototype._preloadMethods={loadJSON:M.prototype,loadImage:M.prototype,loadStrings:M.prototype,loadXML:M.prototype,loadBytes:M.prototype,loadTable:M.prototype,loadFont:M.prototype,loadModel:M.prototype,loadShader:M.prototype},M.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},M.prototype._registeredPreloadMethods={},H.default=M},{"./constants":250,"./shim":271,"core-js/modules/es.array.for-each":152,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.get-own-property-names":171,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.for-each":225,"core-js/modules/web.dom-collections.iterator":226}],261:[function(d,ee,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("./main"))&&z.__esModule?z:{default:z};v.default.Element=function(C,M){this.elt=C,this._pInst=this._pixelsState=M,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},v.default.Element.prototype.parent=function(C){return void 0===C?this.elt.parentNode:("string"==typeof C?("#"===C[0]&&(C=C.substring(1)),C=document.getElementById(C)):C instanceof v.default.Element&&(C=C.elt),C.appendChild(this.elt),this)},v.default.Element.prototype.id=function(C){return void 0===C?this.elt.id:(this.elt.id=C,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},v.default.Element.prototype.class=function(C){return void 0===C?this.elt.className:(this.elt.className=C,this)},v.default.Element.prototype.mousePressed=function(C){return v.default.Element._adjustListener("mousedown",function(M){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(M),C.call(this)},this),this},v.default.Element.prototype.doubleClicked=function(C){return v.default.Element._adjustListener("dblclick",C,this),this},v.default.Element.prototype.mouseWheel=function(C){return v.default.Element._adjustListener("wheel",C,this),this},v.default.Element.prototype.mouseReleased=function(C){return v.default.Element._adjustListener("mouseup",C,this),this},v.default.Element.prototype.mouseClicked=function(C){return v.default.Element._adjustListener("click",C,this),this},v.default.Element.prototype.mouseMoved=function(C){return v.default.Element._adjustListener("mousemove",C,this),this},v.default.Element.prototype.mouseOver=function(C){return v.default.Element._adjustListener("mouseover",C,this),this},v.default.Element.prototype.mouseOut=function(C){return v.default.Element._adjustListener("mouseout",C,this),this},v.default.Element.prototype.touchStarted=function(C){return v.default.Element._adjustListener("touchstart",C,this),this},v.default.Element.prototype.touchMoved=function(C){return v.default.Element._adjustListener("touchmove",C,this),this},v.default.Element.prototype.touchEnded=function(C){return v.default.Element._adjustListener("touchend",C,this),this},v.default.Element.prototype.dragOver=function(C){return v.default.Element._adjustListener("dragover",C,this),this},v.default.Element.prototype.dragLeave=function(C){return v.default.Element._adjustListener("dragleave",C,this),this},v.default.Element._adjustListener=function(C,M,w){return!1===M?v.default.Element._detachListener(C,w):v.default.Element._attachListener(C,M,w),this},v.default.Element._attachListener=function(C,M,w){w._events[C]&&v.default.Element._detachListener(C,w);var g=M.bind(w);w.elt.addEventListener(C,g,!1),w._events[C]=g},v.default.Element._detachListener=function(C,M){M.elt.removeEventListener(C,M._events[C],!1),M._events[C]=null},v.default.Element.prototype._setProperty=function(C,M){this[C]=M},H.default=v.default.Element},{"./main":260}],262:[function(d,ee,H){"use strict";function z(g){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(g)}d("core-js/modules/es.array.index-of"),d("core-js/modules/es.array.splice"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v,x=(v=d("./main"))&&v.__esModule?v:{default:v},C=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==z(g)&&"function"!=typeof g)return{default:g};var u=M();if(u&&u.has(g))return u.get(g);var h={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in g)if(Object.prototype.hasOwnProperty.call(g,m)){var b=f?Object.getOwnPropertyDescriptor(g,m):null;b&&(b.get||b.set)?Object.defineProperty(h,m,b):h[m]=g[m]}return h.default=g,u&&u.set(g,h),h}(d("./constants"));function M(){if("function"!=typeof WeakMap)return null;var g=new WeakMap;return M=function(){return g},g}x.default.Graphics=function(g,u,h,f){var m=h||C.P2D;this.canvas=document.createElement("canvas");var b=f._userNode||document.body;for(var E in b.appendChild(this.canvas),x.default.Element.call(this,this.canvas,f),x.default.prototype)this[E]||(this[E]="function"==typeof x.default.prototype[E]?x.default.prototype[E].bind(this):x.default.prototype[E]);return x.default.prototype._initializeInstanceVariables.apply(this),this.width=g,this.height=u,this._pixelDensity=f._pixelDensity,this._renderer=m===C.WEBGL?new x.default.RendererGL(this.canvas,this,!1):new x.default.Renderer2D(this.canvas,this,!1),f._elements.push(this),Object.defineProperty(this,"deltaTime",{get:function(){return this._pInst.deltaTime}}),this._renderer.resize(g,u),this._renderer._applyDefaults(),this},x.default.Graphics.prototype=Object.create(x.default.Element.prototype),x.default.Graphics.prototype.reset=function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()},x.default.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var g=this._pInst._elements.indexOf(this);for(var u in-1!==g&&this._pInst._elements.splice(g,1),this._events)this.elt.removeEventListener(u,this._events[u])},H.default=x.default.Graphics},{"./constants":250,"./main":260,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.splice":162}],263:[function(d,ee,H){"use strict";d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.number.constructor"),d("core-js/modules/es.object.assign"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.string.iterator"),d("core-js/modules/es.string.replace"),d("core-js/modules/es.string.split"),d("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("./main"))&&z.__esModule?z:{default:z},x=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==M(u)&&"function"!=typeof u)return{default:u};var h=C();if(h&&h.has(u))return h.get(u);var f={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(Object.prototype.hasOwnProperty.call(u,b)){var E=m?Object.getOwnPropertyDescriptor(u,b):null;E&&(E.get||E.set)?Object.defineProperty(f,b,E):f[b]=u[b]}return f.default=u,h&&h.set(u,f),f}(d("../core/constants"));function C(){if("function"!=typeof WeakMap)return null;var u=new WeakMap;return C=function(){return u},u}function M(u){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(u)}function w(u){var h=0,f=0;if(u.offsetParent)for(;h+=u.offsetLeft,f+=u.offsetTop,u=u.offsetParent;);else h+=u.offsetLeft,f+=u.offsetTop;return[h,f]}v.default.Renderer=function(u,h,f){v.default.Element.call(this,u,h),this.canvas=u,this._pixelsState=h,f?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=x.NORMAL,this._textAscent=null,this._textDescent=null,this._textAlign=x.LEFT,this._textBaseline=x.BASELINE,this._rectMode=x.CORNER,this._ellipseMode=x.CENTER,this._curveTightness=0,this._imageMode=x.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1},v.default.Renderer.prototype=Object.create(v.default.Element.prototype),v.default.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle}}},v.default.Renderer.prototype.pop=function(u){u.properties&&Object.assign(this,u.properties)},v.default.Renderer.prototype.resize=function(u,h){this.width=u,this.height=h,this.elt.width=u*this._pInst._pixelDensity,this.elt.height=h*this._pInst._pixelDensity,this.elt.style.width="".concat(u,"px"),this.elt.style.height="".concat(h,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},v.default.Renderer.prototype.get=function(u,h,f,m){var b=this._pixelsState,E=b._pixelDensity,L=this.canvas;if(void 0===u&&void 0===h)u=h=0,f=b.width,m=b.height;else if(u*=E,h*=E,void 0===f&&void 0===m)return u<0||h<0||u>=L.width||h>=L.height?[0,0,0,0]:this._getPixel(u,h);var A=new v.default.Image(f,m);return A.canvas.getContext("2d").drawImage(L,u,h,f*E,m*E,0,0,f,m),A},v.default.Renderer.prototype.textLeading=function(u){return"number"==typeof u?(this._setProperty("_textLeading",u),this._pInst):this._textLeading},v.default.Renderer.prototype.textSize=function(u){return"number"==typeof u?(this._setProperty("_textSize",u),this._setProperty("_textLeading",u*x._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},v.default.Renderer.prototype.textStyle=function(u){return u?(u!==x.NORMAL&&u!==x.ITALIC&&u!==x.BOLD&&u!==x.BOLDITALIC||this._setProperty("_textStyle",u),this._applyTextProperties()):this._textStyle},v.default.Renderer.prototype.textAscent=function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent},v.default.Renderer.prototype.textDescent=function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent},v.default.Renderer.prototype.textAlign=function(u,h){return void 0!==u?(this._setProperty("_textAlign",u),void 0!==h&&this._setProperty("_textBaseline",h),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}},v.default.Renderer.prototype.text=function(u,h,f,m,b){var E,L,A,R,V,U,Z,Q,Y,K,te=this._pInst,q=Number.MAX_VALUE;if((this._doFill||this._doStroke)&&void 0!==u){if("string"!=typeof u&&(u=u.toString()),E=(u=u.replace(/(\t)/g,"  ")).split("\n"),void 0!==m){for(Z=1,A=Y=0;A<E.length;A++){for(V="",Q=E[A].split(" "),L=0;L<Q.length;L++)U="".concat(V+Q[L]," "),m<this.textWidth(U)&&1<Z?(V="".concat(Q[L]," "),Y+=te.textLeading(),Z=1):(V=U,Z+=1);A<E.length-1&&(Y+=te.textLeading())}switch(this._rectMode===x.CENTER&&(h-=m/2,f-=b/2),this._textAlign){case x.CENTER:h+=m/2;break;case x.RIGHT:h+=m}var oe=!1;if(void 0!==b){switch(this._textBaseline){case x.BOTTOM:K=f+(b-Y),f=Math.max(K,f);break;case x.CENTER:K=f+(b-Y)/2,f=Math.max(K,f);break;case x.BASELINE:oe=!0,this._textBaseline=x.TOP}q=f+b-te.textAscent()}for(A=0;A<E.length;A++){for(V="",Q=E[A].split(" "),L=0;L<Q.length;L++)U="".concat(V+Q[L]," "),m<this.textWidth(U)&&0<V.length?(this._renderText(te,V,h,f,q),V="".concat(Q[L]," "),f+=te.textLeading()):V=U;this._renderText(te,V,h,f,q),f+=te.textLeading(),oe&&(this._textBaseline=x.BASELINE)}}else{var ie=0,ye=te.textAlign().vertical;for(ye===x.CENTER?ie=(E.length-1)*te.textLeading()/2:ye===x.BOTTOM&&(ie=(E.length-1)*te.textLeading()),R=0;R<E.length;R++)this._renderText(te,E[R],h,f-ie,q),f+=te.textLeading()}return te}},v.default.Renderer.prototype._applyDefaults=function(){return this},v.default.Renderer.prototype._isOpenType=function(){var u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._textFont;return"object"===M(u)&&u.font&&u.font.supported},v.default.Renderer.prototype._updateTextMetrics=function(){if(this._isOpenType())return this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent()),this;var u=document.createElement("span");u.style.fontFamily=this._textFont,u.style.fontSize="".concat(this._textSize,"px"),u.innerHTML="ABCjgq|";var h=document.createElement("div");h.style.display="inline-block",h.style.width="1px",h.style.height="0px";var f=document.createElement("div");f.appendChild(u),f.appendChild(h),f.style.height="0px",f.style.overflow="hidden",document.body.appendChild(f),h.style.verticalAlign="baseline";var m=w(h),b=w(u),E=m[1]-b[1];h.style.verticalAlign="bottom",m=w(h),b=w(u);var L=m[1]-b[1]-E;return document.body.removeChild(f),this._setProperty("_textAscent",E),this._setProperty("_textDescent",L),this},H.default=v.default.Renderer},{"../core/constants":250,"./main":260,"core-js/modules/es.array.iterator":156,"core-js/modules/es.number.constructor":167,"core-js/modules/es.object.assign":170,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.split":188,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],264:[function(d,ee,H){"use strict";function z(h){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}d("core-js/modules/es.array.concat"),d("core-js/modules/es.array.fill"),d("core-js/modules/es.array.for-each"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.function.name"),d("core-js/modules/es.number.to-fixed"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.to-string"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=w(d("./main")),x=function(h){if(h&&h.__esModule)return h;if(null===h||"object"!==z(h)&&"function"!=typeof h)return{default:h};var f=M();if(f&&f.has(h))return f.get(h);var m={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in h)if(Object.prototype.hasOwnProperty.call(h,E)){var L=b?Object.getOwnPropertyDescriptor(h,E):null;L&&(L.get||L.set)?Object.defineProperty(m,E,L):m[E]=h[E]}return m.default=h,f&&f.set(h,m),m}(d("./constants")),C=w(d("../image/filters"));function M(){if("function"!=typeof WeakMap)return null;var h=new WeakMap;return M=function(){return h},h}function w(h){return h&&h.__esModule?h:{default:h}}d("./p5.Renderer");var g="rgba(0,0,0,0)";v.default.Renderer2D=function(h,f,m){return v.default.Renderer.call(this,h,f,m),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},v.default.Renderer2D.prototype=Object.create(v.default.Renderer.prototype),v.default.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=x.BLEND,this._setFill(x._DEFAULT_FILL),this._setStroke(x._DEFAULT_STROKE),this.drawingContext.lineCap=x.ROUND,this.drawingContext.font="normal 12px sans-serif"},v.default.Renderer2D.prototype.resize=function(h,f){v.default.Renderer.prototype.resize.call(this,h,f),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},v.default.Renderer2D.prototype.background=function(){if(this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof v.default.Image)this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height);else{var h,f=this._getFill(),m=(h=this._pInst).color.apply(h,arguments);this._pInst._addAccsOutput()&&this._pInst._accsBackground(m.levels);var b=m.toString();this._setFill(b),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(f),this._isErasing&&this._pInst.erase()}this.drawingContext.restore()},v.default.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()},v.default.Renderer2D.prototype.fill=function(){var h,f=(h=this._pInst).color.apply(h,arguments);this._setFill(f.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",f.levels)},v.default.Renderer2D.prototype.stroke=function(){var h,f=(h=this._pInst).color.apply(h,arguments);this._setStroke(f.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",f.levels)},v.default.Renderer2D.prototype.erase=function(h,f){if(!this._isErasing){this._cachedFillStyle=this.drawingContext.fillStyle;var m=this._pInst.color(255,h).toString();this.drawingContext.fillStyle=m,this._cachedStrokeStyle=this.drawingContext.strokeStyle;var b=this._pInst.color(255,f).toString();this.drawingContext.strokeStyle=b;var E=this._cachedBlendMode;this.blendMode(x.REMOVE),this._cachedBlendMode=E,this._isErasing=!0}},v.default.Renderer2D.prototype.noErase=function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)},v.default.Renderer2D.prototype.image=function(h,f,m,b,E,L,A,R,V){var U;h.gifProperties&&h._animateGif(this._pInst);try{this._tint&&(v.default.MediaElement&&h instanceof v.default.MediaElement&&h.loadPixels(),h.canvas&&(U=this._getTintedImageCanvas(h))),U=U||h.canvas||h.elt;var Z=1;h.width&&0<h.width&&(Z=U.width/h.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(U,Z*f,Z*m,Z*b,Z*E,L,A,R,V),this._isErasing&&this._pInst.erase()}catch(Q){if("NS_ERROR_NOT_AVAILABLE"!==Q.name)throw Q}},v.default.Renderer2D.prototype._getTintedImageCanvas=function(h){if(!h.canvas)return h;var f=C.default._toPixels(h.canvas),m=document.createElement("canvas");m.width=h.canvas.width,m.height=h.canvas.height;for(var b=m.getContext("2d"),E=b.createImageData(h.canvas.width,h.canvas.height),L=E.data,A=0;A<f.length;A+=4){var V=f[A+1],U=f[A+2],Z=f[A+3];L[A]=f[A]*this._tint[0]/255,L[A+1]=V*this._tint[1]/255,L[A+2]=U*this._tint[2]/255,L[A+3]=Z*this._tint[3]/255}return b.putImageData(E,0,0),m},v.default.Renderer2D.prototype.blendMode=function(h){if(h===x.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(h!==x.BLEND&&h!==x.REMOVE&&h!==x.DARKEST&&h!==x.LIGHTEST&&h!==x.DIFFERENCE&&h!==x.MULTIPLY&&h!==x.EXCLUSION&&h!==x.SCREEN&&h!==x.REPLACE&&h!==x.OVERLAY&&h!==x.HARD_LIGHT&&h!==x.SOFT_LIGHT&&h!==x.DODGE&&h!==x.BURN&&h!==x.ADD)throw new Error("Mode ".concat(h," not recognized."));this._cachedBlendMode=h,this.drawingContext.globalCompositeOperation=h}},v.default.Renderer2D.prototype.blend=function(){for(var h=this.drawingContext.globalCompositeOperation,f=arguments.length,m=new Array(f),b=0;b<f;b++)m[b]=arguments[b];var E=m[m.length-1],L=Array.prototype.slice.call(m,0,m.length-1);this.drawingContext.globalCompositeOperation=E,v.default.prototype.copy.apply(this,L),this.drawingContext.globalCompositeOperation=h},v.default.Renderer2D.prototype._getPixel=function(h,f){var m;return[(m=this.drawingContext.getImageData(h,f,1,1).data)[0],m[1],m[2],m[3]]},v.default.Renderer2D.prototype.loadPixels=function(){var h=this._pixelsState,f=h._pixelDensity,E=this.drawingContext.getImageData(0,0,this.width*f,this.height*f);h._setProperty("imageData",E),h._setProperty("pixels",E.data)},v.default.Renderer2D.prototype.set=function(h,f,m){h=Math.floor(h),f=Math.floor(f);var b=this._pixelsState;if(m instanceof v.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(b._pixelDensity,b._pixelDensity),this.drawingContext.clearRect(h,f,m.width,m.height),this.drawingContext.drawImage(m.canvas,h,f),this.drawingContext.restore();else{var E=0,L=0,A=0,R=0,V=4*(f*b._pixelDensity*(this.width*b._pixelDensity)+h*b._pixelDensity);if(b.imageData||b.loadPixels.call(b),"number"==typeof m)V<b.pixels.length&&(A=L=E=m,R=255);else if(m instanceof Array){if(m.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");V<b.pixels.length&&(E=m[0],L=m[1],A=m[2],R=m[3])}else m instanceof v.default.Color&&V<b.pixels.length&&(E=m.levels[0],L=m.levels[1],A=m.levels[2],R=m.levels[3]);for(var U=0;U<b._pixelDensity;U++)for(var Z=0;Z<b._pixelDensity;Z++)b.pixels[V=4*((f*b._pixelDensity+Z)*this.width*b._pixelDensity+(h*b._pixelDensity+U))]=E,b.pixels[V+1]=L,b.pixels[V+2]=A,b.pixels[V+3]=R}},v.default.Renderer2D.prototype.updatePixels=function(h,f,m,b){var E=this._pixelsState,L=E._pixelDensity;void 0===h&&void 0===f&&void 0===m&&void 0===b&&(f=h=0,m=this.width,b=this.height),h*=L,f*=L,m*=L,b*=L,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=E.imageData),this.drawingContext.putImageData(E.imageData,h,f,0,0,m,b)},v.default.Renderer2D.prototype._acuteArcToBezier=function(h,f){var m=f/2,b=Math.cos(m),E=Math.sin(m),L=1/Math.tan(m),A=h+m,R=Math.cos(A),V=Math.sin(A),U=(4-b)/3,Z=E+(b-U)*L;return{ax:Math.cos(h).toFixed(7),ay:Math.sin(h).toFixed(7),bx:(U*R+Z*V).toFixed(7),by:(U*V-Z*R).toFixed(7),cx:(U*R-Z*V).toFixed(7),cy:(U*V+Z*R).toFixed(7),dx:Math.cos(h+f).toFixed(7),dy:Math.sin(h+f).toFixed(7)}},v.default.Renderer2D.prototype.arc=function(h,f,m,b,E,L,A){var R=this.drawingContext,V=m/2,U=b/2,Z=0,Q=[];for(h+=V,f+=U;1e-5<=L-E;)Z=Math.min(L-E,x.HALF_PI),Q.push(this._acuteArcToBezier(E,Z)),E+=Z;return this._doFill&&(R.beginPath(),Q.forEach(function(Y,K){0===K&&R.moveTo(h+Y.ax*V,f+Y.ay*U),R.bezierCurveTo(h+Y.bx*V,f+Y.by*U,h+Y.cx*V,f+Y.cy*U,h+Y.dx*V,f+Y.dy*U)}),A!==x.PIE&&null!=A||R.lineTo(h,f),R.closePath(),R.fill()),this._doStroke&&(R.beginPath(),Q.forEach(function(Y,K){0===K&&R.moveTo(h+Y.ax*V,f+Y.ay*U),R.bezierCurveTo(h+Y.bx*V,f+Y.by*U,h+Y.cx*V,f+Y.cy*U,h+Y.dx*V,f+Y.dy*U)}),A===x.PIE?(R.lineTo(h,f),R.closePath()):A===x.CHORD&&R.closePath(),R.stroke()),this},v.default.Renderer2D.prototype.ellipse=function(h){var f=this.drawingContext,m=this._doFill,b=this._doStroke,E=parseFloat(h[0]),L=parseFloat(h[1]),A=parseFloat(h[2]),R=parseFloat(h[3]);if(m&&!b){if(this._getFill()===g)return this}else if(!m&&b&&this._getStroke()===g)return this;var V=A/2*.5522847498,U=R/2*.5522847498,Z=E+A,Q=L+R,Y=E+A/2,K=L+R/2;f.beginPath(),f.moveTo(E,K),f.bezierCurveTo(E,K-U,Y-V,L,Y,L),f.bezierCurveTo(Y+V,L,Z,K-U,Z,K),f.bezierCurveTo(Z,K+U,Y+V,Q,Y,Q),f.bezierCurveTo(Y-V,Q,E,K+U,E,K),m&&f.fill(),b&&f.stroke()},v.default.Renderer2D.prototype.line=function(h,f,m,b){var E=this.drawingContext;return this._doStroke&&(this._getStroke()===g||(E.beginPath(),E.moveTo(h,f),E.lineTo(m,b),E.stroke())),this},v.default.Renderer2D.prototype.point=function(h,f){var m=this.drawingContext;if(!this._doStroke)return this;if(this._getStroke()===g)return this;var b=this._getStroke(),E=this._getFill();this._setFill(b),m.beginPath(),m.arc(h,f,m.lineWidth/2,0,x.TWO_PI,!1),m.fill(),this._setFill(E)},v.default.Renderer2D.prototype.quad=function(h,f,m,b,E,L,A,R){var V=this.drawingContext,U=this._doFill,Z=this._doStroke;if(U&&!Z){if(this._getFill()===g)return this}else if(!U&&Z&&this._getStroke()===g)return this;return V.beginPath(),V.moveTo(h,f),V.lineTo(m,b),V.lineTo(E,L),V.lineTo(A,R),V.closePath(),U&&V.fill(),Z&&V.stroke(),this},v.default.Renderer2D.prototype.rect=function(h){var f=h[0],m=h[1],b=h[2],E=h[3],L=h[4],A=h[5],R=h[6],V=h[7],U=this.drawingContext,Z=this._doFill,Q=this._doStroke;if(Z&&!Q){if(this._getFill()===g)return this}else if(!Z&&Q&&this._getStroke()===g)return this;if(U.beginPath(),void 0===L)U.rect(f,m,b,E);else{void 0===A&&(A=L),void 0===R&&(R=A),void 0===V&&(V=R);var Y=Math.abs(b),K=Math.abs(E),te=Y/2,q=K/2;Y<2*L&&(L=te),K<2*L&&(L=q),Y<2*A&&(A=te),K<2*A&&(A=q),Y<2*R&&(R=te),K<2*R&&(R=q),Y<2*V&&(V=te),K<2*V&&(V=q),U.beginPath(),U.moveTo(f+L,m),U.arcTo(f+b,m,f+b,m+E,A),U.arcTo(f+b,m+E,f,m+E,R),U.arcTo(f,m+E,f,m,V),U.arcTo(f,m,f+b,m,L),U.closePath()}return this._doFill&&U.fill(),this._doStroke&&U.stroke(),this},v.default.Renderer2D.prototype.triangle=function(h){var f=this.drawingContext,m=this._doFill,b=this._doStroke,E=h[0],L=h[1],A=h[2],R=h[3],V=h[4],U=h[5];if(m&&!b){if(this._getFill()===g)return this}else if(!m&&b&&this._getStroke()===g)return this;f.beginPath(),f.moveTo(E,L),f.lineTo(A,R),f.lineTo(V,U),f.closePath(),m&&f.fill(),b&&f.stroke()},v.default.Renderer2D.prototype.endShape=function(h,f,m,b,E,L,A){if(0===f.length)return this;if(!this._doStroke&&!this._doFill)return this;var R,V,U,Z=h===x.CLOSE;Z&&!L&&f.push(f[0]);var Q=f.length;if(!m||A!==x.POLYGON&&null!==A)if(!b||A!==x.POLYGON&&null!==A)if(!E||A!==x.POLYGON&&null!==A)if(A===x.POINTS)for(V=0;V<Q;V++)R=f[V],this._doStroke&&this._pInst.stroke(R[6]),this._pInst.point(R[0],R[1]);else if(A===x.LINES)for(V=0;V+1<Q;V+=2)R=f[V],this._doStroke&&this._pInst.stroke(f[V+1][6]),this._pInst.line(R[0],R[1],f[V+1][0],f[V+1][1]);else if(A===x.TRIANGLES)for(V=0;V+2<Q;V+=3)R=f[V],this.drawingContext.beginPath(),this.drawingContext.moveTo(R[0],R[1]),this.drawingContext.lineTo(f[V+1][0],f[V+1][1]),this.drawingContext.lineTo(f[V+2][0],f[V+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(f[V+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(f[V+2][6]),this.drawingContext.stroke());else if(A===x.TRIANGLE_STRIP)for(V=0;V+1<Q;V++)R=f[V],this.drawingContext.beginPath(),this.drawingContext.moveTo(f[V+1][0],f[V+1][1]),this.drawingContext.lineTo(R[0],R[1]),this._doStroke&&this._pInst.stroke(f[V+1][6]),this._doFill&&this._pInst.fill(f[V+1][5]),V+2<Q&&(this.drawingContext.lineTo(f[V+2][0],f[V+2][1]),this._doStroke&&this._pInst.stroke(f[V+2][6]),this._doFill&&this._pInst.fill(f[V+2][5])),this._doFillStrokeClose(Z);else if(A===x.TRIANGLE_FAN){if(2<Q){for(this.drawingContext.beginPath(),V=2;V<Q;V++)R=f[V],this.drawingContext.moveTo(f[0][0],f[0][1]),this.drawingContext.lineTo(f[V-1][0],f[V-1][1]),this.drawingContext.lineTo(R[0],R[1]),this.drawingContext.lineTo(f[0][0],f[0][1]),V<Q-1&&(this._doFill&&R[5]!==f[V+1][5]||this._doStroke&&R[6]!==f[V+1][6])&&(this._doFill&&(this._pInst.fill(R[5]),this.drawingContext.fill(),this._pInst.fill(f[V+1][5])),this._doStroke&&(this._pInst.stroke(R[6]),this.drawingContext.stroke(),this._pInst.stroke(f[V+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(Z)}}else if(A===x.QUADS)for(V=0;V+3<Q;V+=4){for(R=f[V],this.drawingContext.beginPath(),this.drawingContext.moveTo(R[0],R[1]),U=1;U<4;U++)this.drawingContext.lineTo(f[V+U][0],f[V+U][1]);this.drawingContext.lineTo(R[0],R[1]),this._doFill&&this._pInst.fill(f[V+3][5]),this._doStroke&&this._pInst.stroke(f[V+3][6]),this._doFillStrokeClose(Z)}else if(A===x.QUAD_STRIP){if(3<Q)for(V=0;V+1<Q;V+=2)R=f[V],this.drawingContext.beginPath(),V+3<Q?(this.drawingContext.moveTo(f[V+2][0],f[V+2][1]),this.drawingContext.lineTo(R[0],R[1]),this.drawingContext.lineTo(f[V+1][0],f[V+1][1]),this.drawingContext.lineTo(f[V+3][0],f[V+3][1]),this._doFill&&this._pInst.fill(f[V+3][5]),this._doStroke&&this._pInst.stroke(f[V+3][6])):(this.drawingContext.moveTo(R[0],R[1]),this.drawingContext.lineTo(f[V+1][0],f[V+1][1])),this._doFillStrokeClose(Z)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(f[0][0],f[0][1]),V=1;V<Q;V++)(R=f[V]).isVert&&(R.moveTo?this.drawingContext.moveTo(R[0],R[1]):this.drawingContext.lineTo(R[0],R[1]));this._doFillStrokeClose(Z)}else{for(this.drawingContext.beginPath(),V=0;V<Q;V++)f[V].isVert?f[V].moveTo?this.drawingContext.moveTo(f[V][0],f[V][1]):this.drawingContext.lineTo(f[V][0],f[V][1]):this.drawingContext.quadraticCurveTo(f[V][0],f[V][1],f[V][2],f[V][3]);this._doFillStrokeClose(Z)}else{for(this.drawingContext.beginPath(),V=0;V<Q;V++)f[V].isVert?f[V].moveTo?this.drawingContext.moveTo(f[V][0],f[V][1]):this.drawingContext.lineTo(f[V][0],f[V][1]):this.drawingContext.bezierCurveTo(f[V][0],f[V][1],f[V][2],f[V][3],f[V][4],f[V][5]);this._doFillStrokeClose(Z)}else if(3<Q){var Y=[],K=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(f[1][0],f[1][1]),V=1;V+2<Q;V++)Y[0]=[(R=f[V])[0],R[1]],Y[1]=[R[0]+(K*f[V+1][0]-K*f[V-1][0])/6,R[1]+(K*f[V+1][1]-K*f[V-1][1])/6],Y[2]=[f[V+1][0]+(K*f[V][0]-K*f[V+2][0])/6,f[V+1][1]+(K*f[V][1]-K*f[V+2][1])/6],Y[3]=[f[V+1][0],f[V+1][1]],this.drawingContext.bezierCurveTo(Y[1][0],Y[1][1],Y[2][0],Y[2][1],Y[3][0],Y[3][1]);Z&&this.drawingContext.lineTo(f[V+1][0],f[V+1][1]),this._doFillStrokeClose(Z)}return L=E=b=m=!1,Z&&f.pop(),this},v.default.Renderer2D.prototype.strokeCap=function(h){return h!==x.ROUND&&h!==x.SQUARE&&h!==x.PROJECT||(this.drawingContext.lineCap=h),this},v.default.Renderer2D.prototype.strokeJoin=function(h){return h!==x.ROUND&&h!==x.BEVEL&&h!==x.MITER||(this.drawingContext.lineJoin=h),this},v.default.Renderer2D.prototype.strokeWeight=function(h){return this.drawingContext.lineWidth=void 0===h||0===h?1e-4:h,this},v.default.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},v.default.Renderer2D.prototype._setFill=function(h){h!==this._cachedFillStyle&&(this.drawingContext.fillStyle=h,this._cachedFillStyle=h)},v.default.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},v.default.Renderer2D.prototype._setStroke=function(h){h!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=h,this._cachedStrokeStyle=h)},v.default.Renderer2D.prototype.bezier=function(h,f,m,b,E,L,A,R){return this._pInst.beginShape(),this._pInst.vertex(h,f),this._pInst.bezierVertex(m,b,E,L,A,R),this._pInst.endShape(),this},v.default.Renderer2D.prototype.curve=function(h,f,m,b,E,L,A,R){return this._pInst.beginShape(),this._pInst.curveVertex(h,f),this._pInst.curveVertex(m,b),this._pInst.curveVertex(E,L),this._pInst.curveVertex(A,R),this._pInst.endShape(),this},v.default.Renderer2D.prototype._doFillStrokeClose=function(h){h&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()},v.default.Renderer2D.prototype.applyMatrix=function(h,f,m,b,E,L){this.drawingContext.transform(h,f,m,b,E,L)},v.default.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},v.default.Renderer2D.prototype.rotate=function(h){this.drawingContext.rotate(h)},v.default.Renderer2D.prototype.scale=function(h,f){return this.drawingContext.scale(h,f),this},v.default.Renderer2D.prototype.translate=function(h,f){return h instanceof v.default.Vector&&(f=h.y,h=h.x),this.drawingContext.translate(h,f),this},v.default.Renderer2D.prototype.text=function(h,f,m,b,E){var L;void 0!==b&&this.drawingContext.textBaseline===x.BASELINE&&(L=!0,this.drawingContext.textBaseline=x.TOP);var A=v.default.Renderer.prototype.text.apply(this,arguments);return L&&(this.drawingContext.textBaseline=x.BASELINE),A},v.default.Renderer2D.prototype._renderText=function(h,f,m,b,E){if(!(E<=b))return h.push(),this._isOpenType()?this._textFont._renderPath(f,m,b,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(f,m,b),this._doFill&&(this._fillSet||this._setFill(x._DEFAULT_TEXT_FILL),this.drawingContext.fillText(f,m,b))),h.pop(),h},v.default.Renderer2D.prototype.textWidth=function(h){return this._isOpenType()?this._textFont._textWidth(h,this._textSize):this.drawingContext.measureText(h).width},v.default.Renderer2D.prototype._applyTextProperties=function(){var h,f=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),h=this._textFont,this._isOpenType()&&(h=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(h||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this.drawingContext.textBaseline=this._textBaseline===x.CENTER?x._CTX_MIDDLE:this._textBaseline,f},v.default.Renderer2D.prototype.push=function(){return this.drawingContext.save(),v.default.Renderer.prototype.push.apply(this)},v.default.Renderer2D.prototype.pop=function(h){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,v.default.Renderer.prototype.pop.call(this,h)},H.default=v.default.Renderer2D},{"../image/filters":281,"./constants":250,"./main":260,"./p5.Renderer":263,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.fill":150,"core-js/modules/es.array.for-each":152,"core-js/modules/es.array.slice":160,"core-js/modules/es.function.name":163,"core-js/modules/es.number.to-fixed":169,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179}],265:[function(d,ee,H){"use strict";d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.object.assign"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.promise"),d("core-js/modules/es.string.iterator"),d("core-js/modules/web.dom-collections.iterator");var z,v=(z=d("./main"))&&z.__esModule?z:{default:z};v.default.prototype._promisePreloads=[];var x=!(v.default.prototype.registerPromisePreload=function(M){v.default.prototype._promisePreloads.push(M)});function C(){return{}}v.default.prototype._setupPromisePreloads=function(){var M=!0,w=!1,g=void 0;try{for(var u,h=this._promisePreloads[Symbol.iterator]();!(M=(u=h.next()).done);M=!0){var f=u.value,m=this,b=f.method,E=f.addCallbacks,L=f.legacyPreloadSetup,A=f.target||this,R=A[b].bind(A);if(A===v.default.prototype){if(x)continue;m=null,R=A[b]}A[b]=this._wrapPromisePreload(m,R,E),L&&(A[L.method]=this._legacyPreloadGenerator(m,L,A[b]))}}catch(V){w=!0,g=V}finally{try{M||null==h.return||h.return()}finally{if(w)throw g}}x=!0},v.default.prototype._wrapPromisePreload=function(M,w,g){var u=function(){var h=this;this._incrementPreload();for(var f=null,m=null,b=arguments.length,E=new Array(b),L=0;L<b;L++)E[L]=arguments[L];if(g)for(var A=E.length-1;0<=A&&!m&&"function"==typeof E[A];A--)m=f,f=E.pop();var R=Promise.resolve(w.apply(this,E));return f&&R.then(f),m&&R.catch(m),R.then(function(){return h._decrementPreload()}),R};return M&&(u=u.bind(M)),u},v.default.prototype._legacyPreloadGenerator=function(M,w,g){var u=w.createBaseObject||C,h=function(){var f=this;this._incrementPreload();var m=u.apply(this,arguments);return g.apply(this,arguments).then(function(b){Object.assign(m,b),f._decrementPreload()}),m};return M&&(h=h.bind(M)),h}},{"./main":260,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.assign":170,"core-js/modules/es.object.to-string":174,"core-js/modules/es.promise":175,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],266:[function(d,ee,H){"use strict";d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.filter"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.string.iterator"),d("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("./main"))&&z.__esModule?z:{default:z},x=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==M(u)&&"function"!=typeof u)return{default:u};var h=C();if(h&&h.has(u))return h.get(u);var f={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(Object.prototype.hasOwnProperty.call(u,b)){var E=m?Object.getOwnPropertyDescriptor(u,b):null;E&&(E.get||E.set)?Object.defineProperty(f,b,E):f[b]=u[b]}return f.default=u,h&&h.set(u,f),f}(d("./constants"));function C(){if("function"!=typeof WeakMap)return null;var u=new WeakMap;return C=function(){return u},u}function M(u){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(u)}d("./p5.Graphics"),d("./p5.Renderer2D"),d("../webgl/p5.RendererGL");var w="defaultCanvas0";v.default.prototype.createCanvas=function(u,h,f){v.default._validateParameters("createCanvas",arguments);var m,b=f||x.P2D;if(b===x.WEBGL){if(m=document.getElementById(w)){m.parentNode.removeChild(m);var E=this._renderer;this._elements=this._elements.filter(function(R){return R!==E})}(m=document.createElement("canvas")).id=w,m.classList.add("p5Canvas")}else if(this._defaultGraphicsCreated)m=this.canvas;else{m=document.createElement("canvas");for(var L=0;document.getElementById("defaultCanvas".concat(L));)L++;w="defaultCanvas".concat(L),m.id=w,m.classList.add("p5Canvas")}if(this._setupDone||(m.dataset.hidden=!0,m.style.visibility="hidden"),this._userNode)this._userNode.appendChild(m);else{if(0===document.getElementsByTagName("main").length){var A=document.createElement("main");document.body.appendChild(A)}document.getElementsByTagName("main")[0].appendChild(m)}return b===x.WEBGL?(this._setProperty("_renderer",new v.default.RendererGL(m,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new v.default.Renderer2D(m,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(u,h),this._renderer._applyDefaults(),this._renderer},v.default.prototype.resizeCanvas=function(u,h,f){if(v.default._validateParameters("resizeCanvas",arguments),this._renderer){var m={};for(var b in this.drawingContext){var E=this.drawingContext[b];"object"!==M(E)&&"function"!=typeof E&&(m[b]=E)}for(var L in this._renderer.resize(u,h),this.width=u,this.height=h,m)try{this.drawingContext[L]=m[L]}catch(A){}f||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},v.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},v.default.prototype.createGraphics=function(u,h,f){return v.default._validateParameters("createGraphics",arguments),new v.default.Graphics(u,h,f,this)},v.default.prototype.blendMode=function(u){v.default._validateParameters("blendMode",arguments),u===x.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),u=x.BLEND),this._renderer.blendMode(u)},H.default=v.default},{"../webgl/p5.RendererGL":314,"./constants":250,"./main":260,"./p5.Graphics":262,"./p5.Renderer2D":264,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],267:[function(d,ee,H){"use strict";function z(u){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(u)}d("core-js/modules/es.array.slice"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=w(d("../main")),x=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==z(u)&&"function"!=typeof u)return{default:u};var h=M();if(h&&h.has(u))return h.get(u);var f={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(Object.prototype.hasOwnProperty.call(u,b)){var E=m?Object.getOwnPropertyDescriptor(u,b):null;E&&(E.get||E.set)?Object.defineProperty(f,b,E):f[b]=u[b]}return f.default=u,h&&h.set(u,f),f}(d("../constants")),C=w(d("../helpers"));function M(){if("function"!=typeof WeakMap)return null;var u=new WeakMap;return M=function(){return u},u}function w(u){return u&&u.__esModule?u:{default:u}}d("../friendly_errors/fes_core"),d("../friendly_errors/file_errors"),d("../friendly_errors/validate_params"),v.default.prototype._normalizeArcAngles=function(u,h,f,m,b){var E;return u-=x.TWO_PI*Math.floor(u/x.TWO_PI),h-=x.TWO_PI*Math.floor(h/x.TWO_PI),E=Math.min(Math.abs(u-h),x.TWO_PI-Math.abs(u-h)),b&&(u=u<=x.HALF_PI?Math.atan(f/m*Math.tan(u)):u>x.HALF_PI&&u<=3*x.HALF_PI?Math.atan(f/m*Math.tan(u))+x.PI:Math.atan(f/m*Math.tan(u))+x.TWO_PI,h=h<=x.HALF_PI?Math.atan(f/m*Math.tan(h)):h>x.HALF_PI&&h<=3*x.HALF_PI?Math.atan(f/m*Math.tan(h))+x.PI:Math.atan(f/m*Math.tan(h))+x.TWO_PI),h<u&&(h+=x.TWO_PI),{start:u,stop:h,correspondToSamePoint:E<1e-5}},v.default.prototype.arc=function(u,h,f,m,b,E,L,A){if(v.default._validateParameters("arc",arguments),!this._renderer._doStroke&&!this._renderer._doFill)return this;if(b===E)return this;b=this._toRadians(b),E=this._toRadians(E),f=Math.abs(f),m=Math.abs(m);var R=C.default.modeAdjust(u,h,f,m,this._renderer._ellipseMode),V=this._normalizeArcAngles(b,E,R.w,R.h,!0);return V.correspondToSamePoint?this._renderer.ellipse([R.x,R.y,R.w,R.h,A]):(this._renderer.arc(R.x,R.y,R.w,R.h,V.start,V.stop,L,A),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[R.x,R.y,R.w,R.h,V.start,V.stop,L])),this},v.default.prototype.ellipse=function(u,h,f,m,b){return v.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},v.default.prototype.circle=function(){v.default._validateParameters("circle",arguments);var u=Array.prototype.slice.call(arguments,0,2);return u.push(arguments[2]),u.push(arguments[2]),this._renderEllipse.apply(this,u)},v.default.prototype._renderEllipse=function(u,h,f,m,b){if(!this._renderer._doStroke&&!this._renderer._doFill)return this;f<0&&(f=Math.abs(f)),void 0===m?m=f:m<0&&(m=Math.abs(m));var E=C.default.modeAdjust(u,h,f,m,this._renderer._ellipseMode);return this._renderer.ellipse([E.x,E.y,E.w,E.h,b]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[E.x,E.y,E.w,E.h]),this},v.default.prototype.line=function(){for(var u=arguments.length,h=new Array(u),f=0;f<u;f++)h[f]=arguments[f];var m;return v.default._validateParameters("line",h),this._renderer._doStroke&&(m=this._renderer).line.apply(m,h),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",h),this},v.default.prototype.point=function(){for(var u=arguments.length,h=new Array(u),f=0;f<u;f++)h[f]=arguments[f];var m;return v.default._validateParameters("point",h),this._renderer._doStroke&&(1===h.length&&h[0]instanceof v.default.Vector?this._renderer.point.call(this._renderer,h[0].x,h[0].y,h[0].z):((m=this._renderer).point.apply(m,h),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",h))),this},v.default.prototype.quad=function(){for(var u=arguments.length,h=new Array(u),f=0;f<u;f++)h[f]=arguments[f];var m;return v.default._validateParameters("quad",h),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&h.length<=12?this._renderer.quad.call(this._renderer,h[0],h[1],0,h[2],h[3],0,h[4],h[5],0,h[6],h[7],0,h[8],h[9]):((m=this._renderer).quad.apply(m,h),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",h))),this},v.default.prototype.rect=function(){return v.default._validateParameters("rect",arguments),this._renderRect.apply(this,arguments)},v.default.prototype.square=function(u,h,f,m,b,E,L){return v.default._validateParameters("square",arguments),this._renderRect.call(this,u,h,f,f,m,b,E,L)},v.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var u=C.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),h=[u.x,u.y,u.w,u.h],f=4;f<arguments.length;f++)h[f]=arguments[f];this._renderer.rect(h),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[u.x,u.y,u.w,u.h])}return this},v.default.prototype.triangle=function(){for(var u=arguments.length,h=new Array(u),f=0;f<u;f++)h[f]=arguments[f];return v.default._validateParameters("triangle",h),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(h),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",h),this},H.default=v.default},{"../constants":250,"../friendly_errors/fes_core":252,"../friendly_errors/file_errors":253,"../friendly_errors/validate_params":255,"../helpers":256,"../main":260,"core-js/modules/es.array.slice":160}],268:[function(d,ee,H){"use strict";function z(g){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(g)}Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v,x=(v=d("../main"))&&v.__esModule?v:{default:v},C=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==z(g)&&"function"!=typeof g)return{default:g};var u=M();if(u&&u.has(g))return u.get(g);var h={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in g)if(Object.prototype.hasOwnProperty.call(g,m)){var b=f?Object.getOwnPropertyDescriptor(g,m):null;b&&(b.get||b.set)?Object.defineProperty(h,m,b):h[m]=g[m]}return h.default=g,u&&u.set(g,h),h}(d("../constants"));function M(){if("function"!=typeof WeakMap)return null;var g=new WeakMap;return M=function(){return g},g}x.default.prototype.ellipseMode=function(g){return x.default._validateParameters("ellipseMode",arguments),g!==C.CORNER&&g!==C.CORNERS&&g!==C.RADIUS&&g!==C.CENTER||(this._renderer._ellipseMode=g),this},x.default.prototype.noSmooth=function(){return this.setAttributes("antialias",!1),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},x.default.prototype.rectMode=function(g){return x.default._validateParameters("rectMode",arguments),g!==C.CORNER&&g!==C.CORNERS&&g!==C.RADIUS&&g!==C.CENTER||(this._renderer._rectMode=g),this},x.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},x.default.prototype.strokeCap=function(g){return x.default._validateParameters("strokeCap",arguments),g!==C.ROUND&&g!==C.SQUARE&&g!==C.PROJECT||this._renderer.strokeCap(g),this},x.default.prototype.strokeJoin=function(g){return x.default._validateParameters("strokeJoin",arguments),g!==C.ROUND&&g!==C.BEVEL&&g!==C.MITER||this._renderer.strokeJoin(g),this},x.default.prototype.strokeWeight=function(g){return x.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(g),this},H.default=x.default},{"../constants":250,"../main":260}],269:[function(d,ee,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../main"))&&z.__esModule?z:{default:z};d("../friendly_errors/fes_core"),d("../friendly_errors/file_errors"),d("../friendly_errors/validate_params"),v.default.prototype.bezier=function(){for(var C,M=arguments.length,w=new Array(M),g=0;g<M;g++)w[g]=arguments[g];return v.default._validateParameters("bezier",w),(this._renderer._doStroke||this._renderer._doFill)&&(C=this._renderer).bezier.apply(C,w),this},v.default.prototype.bezierDetail=function(C){return v.default._validateParameters("bezierDetail",arguments),this._bezierDetail=C,this},v.default.prototype.bezierPoint=function(C,M,w,g,u){v.default._validateParameters("bezierPoint",arguments);var h=1-u;return Math.pow(h,3)*C+3*Math.pow(h,2)*u*M+3*h*Math.pow(u,2)*w+Math.pow(u,3)*g},v.default.prototype.bezierTangent=function(C,M,w,g,u){v.default._validateParameters("bezierTangent",arguments);var h=1-u;return 3*g*Math.pow(u,2)-3*w*Math.pow(u,2)+6*w*h*u-6*M*h*u+3*M*Math.pow(h,2)-3*C*Math.pow(h,2)},v.default.prototype.curve=function(){for(var C=arguments.length,M=new Array(C),w=0;w<C;w++)M[w]=arguments[w];var g;return v.default._validateParameters("curve",M),this._renderer._doStroke&&(g=this._renderer).curve.apply(g,M),this},v.default.prototype.curveDetail=function(C){return v.default._validateParameters("curveDetail",arguments),this._curveDetail=C<3?3:C,this},v.default.prototype.curveTightness=function(C){return v.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=C,this},v.default.prototype.curvePoint=function(C,M,w,g,u){v.default._validateParameters("curvePoint",arguments);var h=u*u*u,f=u*u;return C*(-.5*h+f-.5*u)+M*(1.5*h-2.5*f+1)+w*(-1.5*h+2*f+.5*u)+g*(.5*h-.5*f)},v.default.prototype.curveTangent=function(C,M,w,g,u){v.default._validateParameters("curveTangent",arguments);var h=u*u;return C*(-3*h/2+2*u-.5)+M*(9*h/2-5*u)+w*(-9*h/2+4*u+.5)+g*(3*h/2-u)},H.default=v.default},{"../friendly_errors/fes_core":252,"../friendly_errors/file_errors":253,"../friendly_errors/validate_params":255,"../main":260}],270:[function(d,ee,H){"use strict";function z(A){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(A)}d("core-js/modules/es.array.slice"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v,x=(v=d("../main"))&&v.__esModule?v:{default:v},C=function(A){if(A&&A.__esModule)return A;if(null===A||"object"!==z(A)&&"function"!=typeof A)return{default:A};var R=M();if(R&&R.has(A))return R.get(A);var V={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Z in A)if(Object.prototype.hasOwnProperty.call(A,Z)){var Q=U?Object.getOwnPropertyDescriptor(A,Z):null;Q&&(Q.get||Q.set)?Object.defineProperty(V,Z,Q):V[Z]=A[Z]}return V.default=A,R&&R.set(A,V),V}(d("../constants"));function M(){if("function"!=typeof WeakMap)return null;var A=new WeakMap;return M=function(){return A},A}var w=null,g=[],u=[],h=!1,f=!1,m=!1,b=!1,E=!0;x.default.prototype.beginContour=function(){return u=[],b=!0,this},x.default.prototype.beginShape=function(A){var R;return x.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(R=this._renderer).beginShape.apply(R,arguments):(w=A===C.POINTS||A===C.LINES||A===C.TRIANGLES||A===C.TRIANGLE_FAN||A===C.TRIANGLE_STRIP||A===C.QUADS||A===C.QUAD_STRIP?A:null,g=[],u=[]),this},x.default.prototype.bezierVertex=function(){for(var A=arguments.length,R=new Array(A),V=0;V<A;V++)R[V]=arguments[V];var U;if(x.default._validateParameters("bezierVertex",R),this._renderer.isP3D)(U=this._renderer).bezierVertex.apply(U,R);else if(0===g.length)x.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{h=!0;for(var Z=[],Q=0;Q<R.length;Q++)Z[Q]=R[Q];Z.isVert=!1,b?u.push(Z):g.push(Z)}return this},x.default.prototype.curveVertex=function(){for(var A=arguments.length,R=new Array(A),V=0;V<A;V++)R[V]=arguments[V];var U;return x.default._validateParameters("curveVertex",R),this._renderer.isP3D?(U=this._renderer).curveVertex.apply(U,R):(f=!0,this.vertex(R[0],R[1])),this},x.default.prototype.endContour=function(){var A=u[0].slice();A.isVert=u[0].isVert,A.moveTo=!1,u.push(A),E&&(g.push(g[0]),E=!1);for(var R=0;R<u.length;R++)g.push(u[R]);return this},x.default.prototype.endShape=function(A){if(x.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(A,f,h,m,b,w);else{if(0===g.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var R=A===C.CLOSE;R&&!b&&g.push(g[0]),this._renderer.endShape(A,g,f,h,m,b,w),E=!(b=m=h=f=!1),R&&g.pop()}return this},x.default.prototype.quadraticVertex=function(){for(var A=arguments.length,R=new Array(A),V=0;V<A;V++)R[V]=arguments[V];if(x.default._validateParameters("quadraticVertex",R),this._renderer.isP3D){var U;(U=this._renderer).quadraticVertex.apply(U,R)}else{if(this._contourInited){var Z={};return Z.x=R[0],Z.y=R[1],Z.x3=R[2],Z.y3=R[3],Z.type=C.QUADRATIC,this._contourVertices.push(Z),this}if(0<g.length){m=!0;for(var Q=[],Y=0;Y<R.length;Y++)Q[Y]=R[Y];Q.isVert=!1,b?u.push(Q):g.push(Q)}else x.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},x.default.prototype.vertex=function(A,R,V,U,Z){if(this._renderer.isP3D){var Q;(Q=this._renderer).vertex.apply(Q,arguments)}else{var Y=[];Y.isVert=!0,Y[0]=A,Y[1]=R,Y[2]=0,Y[3]=0,Y[4]=0,Y[5]=this._renderer._getFill(),Y[6]=this._renderer._getStroke(),V&&(Y.moveTo=V),b?(0===u.length&&(Y.moveTo=!0),u.push(Y)):g.push(Y)}return this},H.default=x.default},{"../constants":250,"../main":260,"core-js/modules/es.array.slice":160}],271:[function(d,ee,H){"use strict";function z(v){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(v)}d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.filter"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.object.assign"),d("core-js/modules/es.object.keys"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.string.iterator"),d("core-js/modules/es.typed-array.uint8-clamped-array"),d("core-js/modules/es.typed-array.copy-within"),d("core-js/modules/es.typed-array.every"),d("core-js/modules/es.typed-array.fill"),d("core-js/modules/es.typed-array.filter"),d("core-js/modules/es.typed-array.find"),d("core-js/modules/es.typed-array.find-index"),d("core-js/modules/es.typed-array.for-each"),d("core-js/modules/es.typed-array.includes"),d("core-js/modules/es.typed-array.index-of"),d("core-js/modules/es.typed-array.iterator"),d("core-js/modules/es.typed-array.join"),d("core-js/modules/es.typed-array.last-index-of"),d("core-js/modules/es.typed-array.map"),d("core-js/modules/es.typed-array.reduce"),d("core-js/modules/es.typed-array.reduce-right"),d("core-js/modules/es.typed-array.reverse"),d("core-js/modules/es.typed-array.set"),d("core-js/modules/es.typed-array.slice"),d("core-js/modules/es.typed-array.some"),d("core-js/modules/es.typed-array.sort"),d("core-js/modules/es.typed-array.subarray"),d("core-js/modules/es.typed-array.to-locale-string"),d("core-js/modules/es.typed-array.to-string"),d("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(v,x){window.setTimeout(v,1e3/60)},"undefined"==typeof Uint8ClampedArray||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),function(){if(!Object.assign){var v=Object.keys,x=Object.defineProperty,C="function"==typeof Symbol&&"symbol"===z(Symbol()),M=Object.prototype.propertyIsEnumerable,w=function(g){return function(u){return M.call(g,u)}};x(Object,"assign",{value:function(g,u){if(null==g)throw new TypeError("target must be an object");var h,f,m,b,E=Object(g);for(h=1;h<arguments.length;++h)for(f=Object(arguments[h]),b=v(f),C&&Object.getOwnPropertySymbols&&b.push.apply(b,Object.getOwnPropertySymbols(f).filter(w(f))),m=0;m<b.length;++m)E[b[m]]=f[b[m]];return E},configurable:!0,enumerable:!1,writable:!0})}}()},{"core-js/modules/es.array.filter":151,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.assign":170,"core-js/modules/es.object.keys":173,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint8-clamped-array":224,"core-js/modules/web.dom-collections.iterator":226}],272:[function(d,ee,H){"use strict";d("core-js/modules/es.array.for-each"),d("core-js/modules/es.object.assign"),d("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("./main"))&&z.__esModule?z:{default:z};v.default.prototype.noLoop=function(){this._loop=!1},v.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},v.default.prototype.isLooping=function(){return this._loop},v.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},v.default.prototype.pop=function(){var C=this._styles.pop();C?(this._renderer.pop(C.renderer),Object.assign(this,C.props)):console.warn("pop() was called without matching push()")},v.default.prototype.redraw=function(C){if(!this._inUserDraw&&this._setupDone){var M=parseInt(C);(isNaN(M)||M<1)&&(M=1);var w=this._isGlobal?window:this;if("function"==typeof w.draw){void 0===w.setup&&w.scale(w._pixelDensity,w._pixelDensity);for(var g=function(h){h.call(w)},u=0;u<M;u++){w.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),w._renderer.isP3D&&w._renderer._update(),w._setProperty("frameCount",w.frameCount+1),w._registeredMethods.pre.forEach(g),this._inUserDraw=!0;try{w.draw()}finally{this._inUserDraw=!1}w._registeredMethods.post.forEach(g)}}}},H.default=v.default},{"./main":260,"core-js/modules/es.array.for-each":152,"core-js/modules/es.object.assign":170,"core-js/modules/web.dom-collections.for-each":225}],273:[function(d,ee,H){"use strict";d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.from"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.object.get-prototype-of"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.string.iterator"),d("core-js/modules/es.typed-array.uint8-array"),d("core-js/modules/es.typed-array.copy-within"),d("core-js/modules/es.typed-array.every"),d("core-js/modules/es.typed-array.fill"),d("core-js/modules/es.typed-array.filter"),d("core-js/modules/es.typed-array.find"),d("core-js/modules/es.typed-array.find-index"),d("core-js/modules/es.typed-array.for-each"),d("core-js/modules/es.typed-array.includes"),d("core-js/modules/es.typed-array.index-of"),d("core-js/modules/es.typed-array.iterator"),d("core-js/modules/es.typed-array.join"),d("core-js/modules/es.typed-array.last-index-of"),d("core-js/modules/es.typed-array.map"),d("core-js/modules/es.typed-array.reduce"),d("core-js/modules/es.typed-array.reduce-right"),d("core-js/modules/es.typed-array.reverse"),d("core-js/modules/es.typed-array.set"),d("core-js/modules/es.typed-array.slice"),d("core-js/modules/es.typed-array.some"),d("core-js/modules/es.typed-array.sort"),d("core-js/modules/es.typed-array.subarray"),d("core-js/modules/es.typed-array.to-locale-string"),d("core-js/modules/es.typed-array.to-string"),d("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("./main"))&&z.__esModule?z:{default:z};function x(M){return function(w){if(Array.isArray(w)){for(var g=0,u=new Array(w.length);g<w.length;g++)u[g]=w[g];return u}}(M)||function(w){if(Symbol.iterator in Object(w)||"[object Arguments]"===Object.prototype.toString.call(w))return Array.from(w)}(M)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}v.default.prototype.applyMatrix=function(){var M,w,g=arguments[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments[0])||g?(M=this._renderer).applyMatrix.apply(M,x(arguments[0])):(w=this._renderer).applyMatrix.apply(w,arguments),this},v.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},v.default.prototype.rotate=function(M,w){return v.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(M),w),this},v.default.prototype.rotateX=function(M){return this._assert3d("rotateX"),v.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(M)),this},v.default.prototype.rotateY=function(M){return this._assert3d("rotateY"),v.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(M)),this},v.default.prototype.rotateZ=function(M){return this._assert3d("rotateZ"),v.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(M)),this},v.default.prototype.scale=function(M,w,g){if(v.default._validateParameters("scale",arguments),M instanceof v.default.Vector){var u=M;M=u.x,w=u.y,g=u.z}else if(M instanceof Array){var h=M;M=h[0],w=h[1],g=h[2]||1}return isNaN(w)?w=g=M:isNaN(g)&&(g=1),this._renderer.scale.call(this._renderer,M,w,g),this},v.default.prototype.shearX=function(M){v.default._validateParameters("shearX",arguments);var w=this._toRadians(M);return this._renderer.applyMatrix(1,0,Math.tan(w),1,0,0),this},v.default.prototype.shearY=function(M){v.default._validateParameters("shearY",arguments);var w=this._toRadians(M);return this._renderer.applyMatrix(1,Math.tan(w),0,1,0,0),this},v.default.prototype.translate=function(M,w,g){return v.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(M,w,g):this._renderer.translate(M,w),this},H.default=v.default},{"./main":260,"core-js/modules/es.array.from":153,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.get-prototype-of":172,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint8-array":223,"core-js/modules/web.dom-collections.iterator":226}],274:[function(d,ee,H){"use strict";d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.from"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.string.ends-with"),d("core-js/modules/es.string.iterator"),d("core-js/modules/web.dom-collections.iterator");var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};function x(M){return function(w){if(Array.isArray(w)){for(var g=0,u=new Array(w.length);g<w.length;g++)u[g]=w[g];return u}}(M)||function(w){if(Symbol.iterator in Object(w)||"[object Arguments]"===Object.prototype.toString.call(w))return Array.from(w)}(M)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function C(M){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(M)}v.default.prototype.storeItem=function(M,w){"string"!=typeof M&&console.log("The argument that you passed to storeItem() - ".concat(M," is not a string.")),M.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(M," must not end with 'p5TypeID'.")),void 0===w&&console.log("You cannot store undefined variables using storeItem().");var g=C(w);switch(g){case"number":case"boolean":w=w.toString();break;case"object":w instanceof v.default.Color?g="p5.Color":w instanceof v.default.Vector&&(g="p5.Vector",w=[w.x,w.y,w.z]),w=JSON.stringify(w)}localStorage.setItem(M,w);var u="".concat(M,"p5TypeID");localStorage.setItem(u,g)},v.default.prototype.getItem=function(M){var w=localStorage.getItem(M),g=localStorage.getItem("".concat(M,"p5TypeID"));if(void 0===g)console.log("Unable to determine type of item stored under ".concat(M,"in local storage. Did you save the item with something other than setItem()?"));else if(null!==w)switch(g){case"number":w=parseFloat(w);break;case"boolean":w="true"===w;break;case"object":w=JSON.parse(w);break;case"p5.Color":w=JSON.parse(w),w=this.color.apply(this,x(w.levels));break;case"p5.Vector":w=JSON.parse(w),w=this.createVector.apply(this,x(w))}return w},v.default.prototype.clearStorage=function(){localStorage.clear()},v.default.prototype.removeItem=function(M){"string"!=typeof M&&console.log("The argument that you passed to removeItem() - ".concat(M," is not a string.")),localStorage.removeItem(M),localStorage.removeItem("".concat(M,"p5TypeID"))}},{"../core/main":260,"core-js/modules/es.array.from":153,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.ends-with":181,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],275:[function(d,ee,H){"use strict";d("core-js/modules/es.array.concat"),d("core-js/modules/es.object.keys"),d("core-js/modules/es.string.sub"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};v.default.prototype.createStringDict=function(C,M){return v.default._validateParameters("createStringDict",arguments),new v.default.StringDict(C,M)},v.default.prototype.createNumberDict=function(C,M){return v.default._validateParameters("createNumberDict",arguments),new v.default.NumberDict(C,M)},v.default.TypedDict=function(C,M){return C instanceof Object?this.data=C:(this.data={},this.data[C]=M),this},v.default.TypedDict.prototype.size=function(){return Object.keys(this.data).length},v.default.TypedDict.prototype.hasKey=function(C){return this.data.hasOwnProperty(C)},v.default.TypedDict.prototype.get=function(C){if(this.data.hasOwnProperty(C))return this.data[C];console.log("".concat(C," does not exist in this Dictionary"))},v.default.TypedDict.prototype.set=function(C,M){this._validate(M)?this.data[C]=M:console.log("Those values dont work for this dictionary type.")},v.default.TypedDict.prototype._addObj=function(C){for(var M in C)this.set(M,C[M])},v.default.TypedDict.prototype.create=function(C,M){C instanceof Object&&void 0===M?this._addObj(C):void 0!==C?this.set(C,M):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")},v.default.TypedDict.prototype.clear=function(){this.data={}},v.default.TypedDict.prototype.remove=function(C){if(!this.data.hasOwnProperty(C))throw new Error("".concat(C," does not exist in this Dictionary"));delete this.data[C]},v.default.TypedDict.prototype.print=function(){for(var C in this.data)console.log("key:".concat(C," value:").concat(this.data[C]))},v.default.TypedDict.prototype.saveTable=function(C){var M="";for(var w in this.data)M+="".concat(w,",").concat(this.data[w],"\n");var g=new Blob([M],{type:"text/csv"});v.default.prototype.downloadFile(g,C||"mycsv","csv")},v.default.TypedDict.prototype.saveJSON=function(C,M){v.default.prototype.saveJSON(this.data,C,M)},v.default.TypedDict.prototype._validate=function(C){return!0},v.default.StringDict=function(){for(var C=arguments.length,M=new Array(C),w=0;w<C;w++)M[w]=arguments[w];v.default.TypedDict.apply(this,M)},v.default.StringDict.prototype=Object.create(v.default.TypedDict.prototype),v.default.StringDict.prototype._validate=function(C){return"string"==typeof C},v.default.NumberDict=function(){for(var C=arguments.length,M=new Array(C),w=0;w<C;w++)M[w]=arguments[w];v.default.TypedDict.apply(this,M)},v.default.NumberDict.prototype=Object.create(v.default.TypedDict.prototype),v.default.NumberDict.prototype._validate=function(C){return"number"==typeof C},v.default.NumberDict.prototype.add=function(C,M){this.data.hasOwnProperty(C)?this.data[C]+=M:console.log("The key - ".concat(C," does not exist in this dictionary."))},v.default.NumberDict.prototype.sub=function(C,M){this.add(C,-M)},v.default.NumberDict.prototype.mult=function(C,M){this.data.hasOwnProperty(C)?this.data[C]*=M:console.log("The key - ".concat(C," does not exist in this dictionary."))},v.default.NumberDict.prototype.div=function(C,M){this.data.hasOwnProperty(C)?this.data[C]/=M:console.log("The key - ".concat(C," does not exist in this dictionary."))},v.default.NumberDict.prototype._valueTest=function(C){if(0===Object.keys(this.data).length)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var M=this.data[Object.keys(this.data)[0]];for(var w in this.data)this.data[w]*C<M*C&&(M=this.data[w]);return M},v.default.NumberDict.prototype.minValue=function(){return this._valueTest(1)},v.default.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)},v.default.NumberDict.prototype._keyTest=function(C){if(0===Object.keys(this.data).length)throw new Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];for(var M=Object.keys(this.data)[0],w=1;w<Object.keys(this.data).length;w++)Object.keys(this.data)[w]*C<M*C&&(M=Object.keys(this.data)[w]);return M},v.default.NumberDict.prototype.minKey=function(){return this._keyTest(1)},v.default.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)},H.default=v.default.TypedDict},{"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.object.keys":173,"core-js/modules/es.string.sub":189}],276:[function(d,ee,H){"use strict";d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.every"),d("core-js/modules/es.array.filter"),d("core-js/modules/es.array.for-each"),d("core-js/modules/es.array.from"),d("core-js/modules/es.array.index-of"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.array.map"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.array.splice"),d("core-js/modules/es.function.name"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.promise"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.string.iterator"),d("core-js/modules/es.string.replace"),d("core-js/modules/es.string.split"),d("core-js/modules/es.string.trim"),d("core-js/modules/web.dom-collections.for-each"),d("core-js/modules/web.dom-collections.iterator"),d("core-js/modules/web.url"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};function x(u){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(u)}function C(u,h,f){(h._userNode?h._userNode:document.body).appendChild(u);var m=f?new v.default.MediaElement(u,h):new v.default.Element(u,h);return h._elements.push(m),m}function M(u,h,f,m){var b=document.createElement(h);"string"==typeof(f=f||"")&&(f=[f]);var E=!0,L=!1,A=void 0;try{for(var R,V=f[Symbol.iterator]();!(E=(R=V.next()).done);E=!0){var U=R.value,Z=document.createElement("source");Z.setAttribute("src",U),b.appendChild(Z)}}catch(Y){L=!0,A=Y}finally{try{E||null==V.return||V.return()}finally{if(L)throw A}}"function"==typeof m&&b.addEventListener("canplaythrough",function Y(){m(),b.removeEventListener("canplaythrough",Y)});var Q=C(b,u,!0);return Q.loadedmetadata=!1,b.addEventListener("loadedmetadata",function(){Q.width=b.videoWidth,Q.height=b.videoHeight,0===Q.elt.width&&(Q.elt.width=b.videoWidth),0===Q.elt.height&&(Q.elt.height=b.videoHeight),Q.presetPlaybackRate&&(Q.elt.playbackRate=Q.presetPlaybackRate,delete Q.presetPlaybackRate),Q.loadedmetadata=!0}),Q}function w(u,h,f,m){this.callback=u,this.time=h,this.id=f,this.val=m}v.default.prototype.select=function(u,h){v.default._validateParameters("select",arguments);var f=this._getContainer(h).querySelector(u);return f?this._wrapElement(f):null},v.default.prototype.selectAll=function(u,h){v.default._validateParameters("selectAll",arguments);var f=[],m=this._getContainer(h).querySelectorAll(u);if(m)for(var b=0;b<m.length;b++){var E=this._wrapElement(m[b]);f.push(E)}return f},v.default.prototype._getContainer=function(u){var h=document;return"string"==typeof u?h=document.querySelector(u)||document:u instanceof v.default.Element?h=u.elt:u instanceof HTMLElement&&(h=u),h},v.default.prototype._wrapElement=function(u){var h=Array.prototype.slice.call(u.children);if("INPUT"!==u.tagName||"checkbox"!==u.type)return"VIDEO"===u.tagName||"AUDIO"===u.tagName?new v.default.MediaElement(u,this):"SELECT"===u.tagName?this.createSelect(new v.default.Element(u,this)):0<h.length&&h.every(function(m){return"INPUT"===m.tagName||"LABEL"===m.tagName})?this.createRadio(new v.default.Element(u,this)):new v.default.Element(u,this);var f=new v.default.Element(u,this);return f.checked=function(){return 0===arguments.length?this.elt.checked:(this.elt.checked=!!arguments[0],this)},f},v.default.prototype.removeElements=function(u){v.default._validateParameters("removeElements",arguments),this._elements.filter(function(h){return!(h.elt instanceof HTMLCanvasElement)}).map(function(h){return h.remove()})},v.default.Element.prototype.changed=function(u){return v.default.Element._adjustListener("change",u,this),this},v.default.Element.prototype.input=function(u){return v.default.Element._adjustListener("input",u,this),this},v.default.prototype.createDiv=function(){var u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",h=document.createElement("div");return h.innerHTML=u,C(h,this)},v.default.prototype.createP=function(){var u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",h=document.createElement("p");return h.innerHTML=u,C(h,this)},v.default.prototype.createSpan=function(){var u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",h=document.createElement("span");return h.innerHTML=u,C(h,this)},v.default.prototype.createImg=function(){v.default._validateParameters("createImg",arguments);var u,h=document.createElement("img"),f=arguments;return 1<f.length&&"string"==typeof f[1]&&(h.alt=f[1]),2<f.length&&"string"==typeof f[2]&&(h.crossOrigin=f[2]),h.src=f[0],u=C(h,this),h.addEventListener("load",function(){u.width=h.offsetWidth||h.width,u.height=h.offsetHeight||h.height;var m=f[f.length-1];"function"==typeof m&&m(u)}),u},v.default.prototype.createA=function(u,h,f){v.default._validateParameters("createA",arguments);var m=document.createElement("a");return m.href=u,m.innerHTML=h,f&&(m.target=f),C(m,this)},v.default.prototype.createSlider=function(u,h,f,m){v.default._validateParameters("createSlider",arguments);var b=document.createElement("input");return b.type="range",b.min=u,b.max=h,0===m?b.step=1e-18:m&&(b.step=m),"number"==typeof f&&(b.value=f),C(b,this)},v.default.prototype.createButton=function(u,h){v.default._validateParameters("createButton",arguments);var f=document.createElement("button");return f.innerHTML=u,h&&(f.value=h),C(f,this)},v.default.prototype.createCheckbox=function(){v.default._validateParameters("createCheckbox",arguments);var u=document.createElement("div"),h=document.createElement("input");h.type="checkbox",u.appendChild(h);var f=C(u,this);if(f.checked=function(){var E=f.elt.getElementsByTagName("input")[0];if(E){if(0===arguments.length)return E.checked;E.checked=!!arguments[0]}return f},this.value=function(E){return f.value=E,this},arguments[0]){var m=Math.random().toString(36).slice(2),b=document.createElement("label");h.setAttribute("id",m),b.htmlFor=m,f.value(arguments[0]),b.appendChild(document.createTextNode(arguments[0])),u.appendChild(b)}return arguments[1]&&(h.checked=!0),f},v.default.prototype.createSelect=function(){var u;v.default._validateParameters("createSelect",arguments);var h=arguments[0];if(h instanceof v.default.Element&&h.elt instanceof HTMLSelectElement)u=h,this.elt=h.elt;else if(h instanceof HTMLSelectElement)u=C(h,this),this.elt=h;else{var f=document.createElement("select");h&&"boolean"==typeof h&&f.setAttribute("multiple","true"),u=C(f,this),this.elt=f}return u.option=function(m,b){var E;if(void 0!==m){for(var L=0;L<this.elt.length;L+=1)if(this.elt[L].innerHTML===m){E=L;break}if(void 0!==E)!1===b?this.elt.remove(E):this.elt[E].value=b;else{var A=document.createElement("option");A.innerHTML=m,A.value=void 0===b?m:b,this.elt.appendChild(A),this._pInst._elements.push(A)}}},u.selected=function(m){if(void 0!==m){for(var b=0;b<this.elt.length;b+=1)this.elt[b].value.toString()===m.toString()&&(this.elt.selectedIndex=b);return this}if(this.elt.getAttribute("multiple")){var E=[],L=!0,A=!1,R=void 0;try{for(var V,U=this.elt.selectedOptions[Symbol.iterator]();!(L=(V=U.next()).done);L=!0)E.push(V.value.value)}catch(Q){A=!0,R=Q}finally{try{L||null==U.return||U.return()}finally{if(A)throw R}}return E}return this.elt.value},u.disable=function(m){if("string"==typeof m)for(var b=0;b<this.elt.length;b++)this.elt[b].value.toString()===m&&(this.elt[b].disabled=!0,this.elt[b].selected=!1);else this.elt.disabled=!0;return this},u},v.default.prototype.createRadio=function(){var u,h,f=arguments[0];f instanceof HTMLDivElement||f instanceof HTMLSpanElement?(u=f,"string"==typeof arguments[1]&&(h=arguments[1])):("string"==typeof f&&(h=f),u=document.createElement("div"));var m=C(this.elt=u,this);function b(L){return L instanceof HTMLInputElement&&"radio"===L.type}function E(L){return L.nextElementSibling instanceof HTMLLabelElement}return m._name=h||"radioOption",m._getOptionsArray=function(){return Array.from(this.elt.children).filter(b)},m.option=function(L,A){var R,V,U=!0,Z=!1,Q=void 0;try{for(var Y,K=m._getOptionsArray()[Symbol.iterator]();!(U=(Y=K.next()).done);U=!0){var te=Y.value;if(te.value===L){R=te;break}}}catch(q){Z=!0,Q=q}finally{try{U||null==K.return||K.return()}finally{if(Z)throw Q}}return void 0===R&&((R=document.createElement("input")).setAttribute("type","radio"),R.setAttribute("value",L),this.elt.appendChild(R)),E(R)?V=R.nextElementSibling:(V=document.createElement("label"),R.insertAdjacentElement("afterend",V)),V.innerHTML=void 0===A?L:A,R.setAttribute("name",m._name),R},m.remove=function(L){var A=!0,R=!1,V=void 0;try{for(var U,Z=m._getOptionsArray()[Symbol.iterator]();!(A=(U=Z.next()).done);A=!0){var Q=U.value;if(Q.value===L)return E(Q)&&Q.nextElementSibling.remove(),void Q.remove()}}catch(Y){R=!0,V=Y}finally{try{A||null==Z.return||Z.return()}finally{if(R)throw V}}},m.value=function(){var L="",A=!0,R=!1,V=void 0;try{for(var U,Z=m._getOptionsArray()[Symbol.iterator]();!(A=(U=Z.next()).done);A=!0){var Q=U.value;if(Q.checked){L=Q.value;break}}}catch(Y){R=!0,V=Y}finally{try{A||null==Z.return||Z.return()}finally{if(R)throw V}}return L},m.selected=function(L){var A=null;if(void 0===L){var R=!0,V=!1,U=void 0;try{for(var Z,Q=m._getOptionsArray()[Symbol.iterator]();!(R=(Z=Q.next()).done);R=!0){var Y=Z.value;if(Y.checked){A=Y;break}}}catch(Ve){V=!0,U=Ve}finally{try{R||null==Q.return||Q.return()}finally{if(V)throw U}}}else{var K=!0,te=!1,q=void 0;try{for(var oe,ie=m._getOptionsArray()[Symbol.iterator]();!(K=(oe=ie.next()).done);K=!0){var ye=oe.value;ye.value===L&&(ye.setAttribute("checked",!0),A=ye)}}catch(Ve){te=!0,q=Ve}finally{try{K||null==ie.return||ie.return()}finally{if(te)throw q}}}return A},m.disable=function(){var L=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],A=!0,R=!1,V=void 0;try{for(var U,Z=m._getOptionsArray()[Symbol.iterator]();!(A=(U=Z.next()).done);A=!0)U.value.setAttribute("disabled",L)}catch(Q){R=!0,V=Q}finally{try{A||null==Z.return||Z.return()}finally{if(R)throw V}}},m},v.default.prototype.createColorPicker=function(u){v.default._validateParameters("createColorPicker",arguments);var h,f=document.createElement("input");return f.type="color",u?u instanceof v.default.Color?f.value=u.toString("#rrggbb"):(v.default.prototype._colorMode="rgb",v.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},f.value=v.default.prototype.color(u).toString("#rrggbb")):f.value="#000000",(h=C(f,this)).color=function(){return u&&(u.mode&&(v.default.prototype._colorMode=u.mode),u.maxes&&(v.default.prototype._colorMaxes=u.maxes)),v.default.prototype.color(this.elt.value)},h},v.default.prototype.createInput=function(){var u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text";v.default._validateParameters("createInput",arguments);var f=document.createElement("input");return f.setAttribute("value",u),f.setAttribute("type",h),C(f,this)},v.default.prototype.createFileInput=function(u){var h=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(v.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob){var f=document.createElement("input");return f.setAttribute("type","file"),h&&f.setAttribute("multiple",!0),f.addEventListener("change",function(m){var b=!0,E=!1,L=void 0;try{for(var A,R=m.target.files[Symbol.iterator]();!(b=(A=R.next()).done);b=!0)v.default.File._load(A.value,u)}catch(U){E=!0,L=U}finally{try{b||null==R.return||R.return()}finally{if(E)throw L}}},!1),C(f,this)}console.log("The File APIs are not fully supported in this browser. Cannot create element.")},v.default.prototype.createVideo=function(u,h){return v.default._validateParameters("createVideo",arguments),M(this,"video",u,h)},v.default.prototype.createAudio=function(u,h){return v.default._validateParameters("createAudio",arguments),M(this,"audio",u,h)},v.default.prototype.VIDEO="video",v.default.prototype.AUDIO="audio",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(u){var h=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return h?new Promise(function(f,m){h.call(navigator,u,f,m)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),v.default.prototype.createCapture=function(){if(v.default._validateParameters("createCapture",arguments),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");var u,h,f=!0,m=!0,b=!0,E=!1,L=void 0;try{for(var A,R=arguments[Symbol.iterator]();!(b=(A=R.next()).done);b=!0){var V=A.value;V===v.default.prototype.VIDEO?m=!1:V===v.default.prototype.AUDIO?f=!1:"object"===x(V)?u=V:"function"==typeof V&&(h=V)}}catch(Q){E=!0,L=Q}finally{try{b||null==R.return||R.return()}finally{if(E)throw L}}u=u||{video:f,audio:m};var U=document.createElement("video");U.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(u).then(function(Q){try{"srcObject"in U?U.srcObject=Q:U.src=window.URL.createObjectURL(Q)}catch(Y){U.src=Q}},console.log);var Z=C(U,this,!0);return Z.loadedmetadata=!1,U.addEventListener("loadedmetadata",function(){U.play(),U.width?(Z.width=U.width,Z.height=U.height):(Z.width=Z.elt.width=U.videoWidth,Z.height=Z.elt.height=U.videoHeight),Z.loadedmetadata=!0,h&&h(U.srcObject)}),Z},v.default.prototype.createElement=function(u,h){v.default._validateParameters("createElement",arguments);var f=document.createElement(u);return void 0!==h&&(f.innerHTML=h),C(f,this)},v.default.Element.prototype.addClass=function(u){return this.elt.className?this.hasClass(u)||(this.elt.className=this.elt.className+" "+u):this.elt.className=u,this},v.default.Element.prototype.removeClass=function(u){return this.elt.classList.remove(u),this},v.default.Element.prototype.hasClass=function(u){return this.elt.classList.contains(u)},v.default.Element.prototype.toggleClass=function(u){return this.elt.classList.contains(u)?this.elt.classList.remove(u):this.elt.classList.add(u),this},v.default.Element.prototype.child=function(u){return void 0===u?this.elt.childNodes:("string"==typeof u?("#"===u[0]&&(u=u.substring(1)),u=document.getElementById(u)):u instanceof v.default.Element&&(u=u.elt),u instanceof HTMLElement&&this.elt.appendChild(u),this)},v.default.Element.prototype.center=function(u){var h=this.elt.style.display,f="none"===this.elt.style.display,m="none"===this.parent().style.display,b={x:this.elt.offsetLeft,y:this.elt.offsetTop};f&&this.show(),m&&this.parent().show(),this.elt.style.display="block",this.position(0,0);var E=Math.abs(this.parent().offsetWidth-this.elt.offsetWidth),L=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return"both"===u||void 0===u?this.position(E/2+this.parent().offsetLeft,L/2+this.parent().offsetTop):"horizontal"===u?this.position(E/2+this.parent().offsetLeft,b.y):"vertical"===u&&this.position(b.x,L/2+this.parent().offsetTop),this.style("display",h),f&&this.hide(),m&&this.parent().hide(),this},v.default.Element.prototype.html=function(){return 0===arguments.length?this.elt.innerHTML:(arguments[1]?this.elt.insertAdjacentHTML("beforeend",arguments[0]):this.elt.innerHTML=arguments[0],this)},v.default.Element.prototype.position=function(){if(0===arguments.length)return{x:this.elt.offsetLeft,y:this.elt.offsetTop};var u="absolute";return"static"!==arguments[2]&&"fixed"!==arguments[2]&&"relative"!==arguments[2]&&"sticky"!==arguments[2]&&"initial"!==arguments[2]&&"inherit"!==arguments[2]||(u=arguments[2]),this.elt.style.position=u,this.elt.style.left=arguments[0]+"px",this.elt.style.top=arguments[1]+"px",this.x=arguments[0],this.y=arguments[1],this},v.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var u="";return this.elt.style.transform&&(u=(u=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?this.elt.style.transform="translate("+arguments[0]+"px, "+arguments[1]+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+arguments[0]+"px,"+arguments[1]+"px,"+arguments[2]+"px)",this.elt.parentElement.style.perspective=3===arguments.length?"1000px":arguments[3]+"px"),this.elt.style.transform+=u,this},v.default.Element.prototype._rotate=function(){var u="";return this.elt.style.transform&&(u=(u=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?this.elt.style.transform="rotate("+arguments[0]+"deg)":2===arguments.length?this.elt.style.transform="rotate("+arguments[0]+"deg, "+arguments[1]+"deg)":3===arguments.length&&(this.elt.style.transform="rotateX("+arguments[0]+"deg)",this.elt.style.transform+="rotateY("+arguments[1]+"deg)",this.elt.style.transform+="rotateZ("+arguments[2]+"deg)"),this.elt.style.transform+=u,this},v.default.Element.prototype.style=function(u,h){if(h instanceof v.default.Color&&(h="rgba("+h.levels[0]+","+h.levels[1]+","+h.levels[2]+","+h.levels[3]/255+")"),void 0===h){if(-1===u.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(u);for(var f=u.split(";"),m=0;m<f.length;m++){var b=f[m].split(":");b[0]&&b[1]&&(this.elt.style[b[0].trim()]=b[1].trim())}}else if(this.elt.style[u]=h,"width"===u||"height"===u||"left"===u||"top"===u){var E=window.getComputedStyle(this.elt).getPropertyValue(u).replace(/\D+/g,"");this[u]=parseInt(E,10)}return this},v.default.Element.prototype.attribute=function(u,h){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===h?this.elt.getAttribute(u):(this.elt.setAttribute(u,h),this);if(void 0===h)return this.elt.firstChild.getAttribute(u);for(var f=0;f<this.elt.childNodes.length;f++)this.elt.childNodes[f].setAttribute(u,h)},v.default.Element.prototype.removeAttribute=function(u){if(null!=this.elt.firstChild&&("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(var h=0;h<this.elt.childNodes.length;h++)this.elt.childNodes[h].removeAttribute(u);return this.elt.removeAttribute(u),this},v.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},v.default.Element.prototype.show=function(){return this.elt.style.display="block",this},v.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},v.default.Element.prototype.size=function(u,h){if(0===arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var f=u,m=h,b=v.default.prototype.AUTO;if(f!==b||m!==b){if(f===b?f=h*this.width/this.height:m===b&&(m=u*this.height/this.width),this.elt instanceof HTMLCanvasElement){var E,L={},A=this.elt.getContext("2d");for(E in A)L[E]=A[E];for(E in this.elt.setAttribute("width",f*this._pInst._pixelDensity),this.elt.setAttribute("height",m*this._pInst._pixelDensity),this.elt.style.width=f+"px",this.elt.style.height=m+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),L)this.elt.getContext("2d")[E]=L[E]}else this.elt.style.width=f+"px",this.elt.style.height=m+"px",this.elt.width=f,this.elt.height=m;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},v.default.Element.prototype.remove=function(){if(this instanceof v.default.MediaElement){this.stop();var u=this.elt.srcObject;null!==u&&u.getTracks().forEach(function(m){m.stop()})}var h=this._pInst._elements.indexOf(this);for(var f in-1!==h&&this._pInst._elements.splice(h,1),this._events)this.elt.removeEventListener(f,this._events[f]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},v.default.Element.prototype.drop=function(u,h){if(window.File&&window.FileReader&&window.FileList&&window.Blob){if(!this._dragDisabled){this._dragDisabled=!0;var f=function(m){m.preventDefault()};this.elt.addEventListener("dragover",f),this.elt.addEventListener("dragleave",f)}v.default.Element._attachListener("drop",function(m){m.preventDefault(),"function"==typeof h&&h.call(this,m);for(var b=m.dataTransfer.files,E=0;E<b.length;E++)v.default.File._load(b[E],u)},this)}else console.log("The File APIs are not fully supported in this browser.");return this},v.default.MediaElement=function(u,h){v.default.Element.call(this,u,h);var f=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],(this._pixelsState=this)._pixelDensity=1,this._modified=!1,Object.defineProperty(f,"src",{get:function(){var m=f.elt.children[0].src,b=f.elt.src===window.location.href?"":f.elt.src;return m===window.location.href?b:m},set:function(m){for(var b=0;b<f.elt.children.length;b++)f.elt.removeChild(f.elt.children[b]);var E=document.createElement("source");E.src=m,u.appendChild(E),f.elt.src=m,f.modified=!0}}),f._onended=function(){},f.elt.onended=function(){f._onended(f)}},v.default.MediaElement.prototype=Object.create(v.default.Element.prototype),v.default.MediaElement.prototype.play=function(){var u,h=this;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(u=this.elt.play())&&u.catch&&u.catch(function(f){"NotAllowedError"===f.name?v.default._friendlyAutoplayError(h.src):console.error("Media play method encountered an unexpected error",f)}),this},v.default.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},v.default.MediaElement.prototype.pause=function(){return this.elt.pause(),this},v.default.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},v.default.MediaElement.prototype.noLoop=function(){return this.elt.removeAttribute("loop"),this},v.default.MediaElement.prototype._setupAutoplayFailDetection=function(){var u=this,h=setTimeout(function(){return v.default._friendlyAutoplayError(u.src)},500);this.elt.addEventListener("play",function(){return clearTimeout(h)},{passive:!0,once:!0})},v.default.MediaElement.prototype.autoplay=function(u){var h=this,f=this.elt.getAttribute("autoplay");if(this.elt.setAttribute("autoplay",u),u&&!f){var m=function(){return h._setupAutoplayFailDetection()};4===this.elt.readyState?m():this.elt.addEventListener("canplay",m,{passive:!0,once:!0})}return this},v.default.MediaElement.prototype.volume=function(u){if(void 0===u)return this.elt.volume;this.elt.volume=u},v.default.MediaElement.prototype.speed=function(u){if(void 0===u)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=u:this.presetPlaybackRate=u},v.default.MediaElement.prototype.time=function(u){return void 0===u?this.elt.currentTime:(this.elt.currentTime=u,this)},v.default.MediaElement.prototype.duration=function(){return this.elt.duration},v.default.MediaElement.prototype.pixels=[],v.default.MediaElement.prototype._ensureCanvas=function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0))},v.default.MediaElement.prototype.loadPixels=function(){return this._ensureCanvas(),v.default.Renderer2D.prototype.loadPixels.apply(this,arguments)},v.default.MediaElement.prototype.updatePixels=function(u,h,f,m){return this.loadedmetadata&&(this._ensureCanvas(),v.default.Renderer2D.prototype.updatePixels.call(this,u,h,f,m)),this.setModified(!0),this},v.default.MediaElement.prototype.get=function(){return this._ensureCanvas(),v.default.Renderer2D.prototype.get.apply(this,arguments)},v.default.MediaElement.prototype._getPixel=function(){return this.loadPixels(),v.default.Renderer2D.prototype._getPixel.apply(this,arguments)},v.default.MediaElement.prototype.set=function(u,h,f){this.loadedmetadata&&(this._ensureCanvas(),v.default.Renderer2D.prototype.set.call(this,u,h,f),this.setModified(!0))},v.default.MediaElement.prototype.copy=function(){this._ensureCanvas(),v.default.prototype.copy.apply(this,arguments)},v.default.MediaElement.prototype.mask=function(){this.loadPixels(),this.setModified(!0),v.default.Image.prototype.mask.apply(this,arguments)},v.default.MediaElement.prototype.isModified=function(){return this._modified},v.default.MediaElement.prototype.setModified=function(u){this._modified=u},v.default.MediaElement.prototype.onended=function(u){return this._onended=u,this},v.default.MediaElement.prototype.connect=function(u){var h,f;if("function"==typeof v.default.prototype.getAudioContext)h=v.default.prototype.getAudioContext(),f=v.default.soundOut.input;else try{f=(h=u.context).destination}catch(m){throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=h.createMediaElementSource(this.elt),this.audioSourceNode.connect(f)),this.audioSourceNode.connect(u?u.input?u.input:u:f)},v.default.MediaElement.prototype.disconnect=function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()},v.default.MediaElement.prototype.showControls=function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0},v.default.MediaElement.prototype.hideControls=function(){this.elt.controls=!1},v.default.MediaElement.prototype.addCue=function(u,h,f){var m=this._cueIDCounter++,b=new w(h,u,m,f);return this._cues.push(b),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),m},v.default.MediaElement.prototype.removeCue=function(u){for(var h=0;h<this._cues.length;h++)this._cues[h].id===u&&(console.log(u),this._cues.splice(h,1));0===this._cues.length&&(this.elt.ontimeupdate=null)},v.default.MediaElement.prototype.clearCues=function(){this._cues=[],this.elt.ontimeupdate=null},v.default.MediaElement.prototype._onTimeUpdate=function(){for(var u=this.time(),h=0;h<this._cues.length;h++){var f=this._cues[h].time;this._prevTime<f&&f<=u&&this._cues[h].callback(this._cues[h].val)}this._prevTime=u},v.default.File=function(u,h){this.file=u,this._pInst=h;var f=u.type.split("/");this.type=f[0],this.subtype=f[1],this.name=u.name,this.size=u.size,this.data=void 0},v.default.File._createLoader=function(u,h){var f=new FileReader;return f.onload=function(m){var b=new v.default.File(u);if("application/json"===b.file.type)b.data=JSON.parse(m.target.result);else if("text/xml"===b.file.type){var E=(new DOMParser).parseFromString(m.target.result,"text/xml");b.data=new v.default.XML(E.documentElement)}else b.data=m.target.result;h(b)},f},v.default.File._load=function(u,h){if(/^text\//.test(u.type)||"application/json"===u.type)v.default.File._createLoader(u,h).readAsText(u);else if(/^(video|audio)\//.test(u.type)){var f=new v.default.File(u);f.data=URL.createObjectURL(u),h(f)}else v.default.File._createLoader(u,h).readAsDataURL(u)},H.default=v.default},{"../core/main":260,"core-js/modules/es.array.every":149,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.for-each":152,"core-js/modules/es.array.from":153,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.splice":162,"core-js/modules/es.function.name":163,"core-js/modules/es.object.to-string":174,"core-js/modules/es.promise":175,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.split":188,"core-js/modules/es.string.trim":190,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.for-each":225,"core-js/modules/web.dom-collections.iterator":226,"core-js/modules/web.url":228}],277:[function(d,ee,H){"use strict";function z(A){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(A)}Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v,x=(v=d("../core/main"))&&v.__esModule?v:{default:v},C=function(A){if(A&&A.__esModule)return A;if(null===A||"object"!==z(A)&&"function"!=typeof A)return{default:A};var R=M();if(R&&R.has(A))return R.get(A);var V={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Z in A)if(Object.prototype.hasOwnProperty.call(A,Z)){var Q=U?Object.getOwnPropertyDescriptor(A,Z):null;Q&&(Q.get||Q.set)?Object.defineProperty(V,Z,Q):V[Z]=A[Z]}return V.default=A,R&&R.set(A,V),V}(d("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var A=new WeakMap;return M=function(){return A},A}x.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",x.default.prototype.accelerationX=0,x.default.prototype.accelerationY=0,x.default.prototype.accelerationZ=0,x.default.prototype.pAccelerationX=0,x.default.prototype.pAccelerationY=0,x.default.prototype.pAccelerationZ=0,x.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},x.default.prototype.rotationX=0,x.default.prototype.rotationY=0,x.default.prototype.rotationZ=0,x.default.prototype.pRotationX=0,x.default.prototype.pRotationY=0;var w=x.default.prototype.pRotationZ=0,g=0,u=0,h="clockwise",f="clockwise",m="clockwise";x.default.prototype.pRotateDirectionX=void 0,x.default.prototype.pRotateDirectionY=void 0,x.default.prototype.pRotateDirectionZ=void 0,x.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},x.default.prototype.turnAxis=void 0;var b=.5,E=30;x.default.prototype.setMoveThreshold=function(A){x.default._validateParameters("setMoveThreshold",arguments),b=A},x.default.prototype.setShakeThreshold=function(A){x.default._validateParameters("setShakeThreshold",arguments),E=A},x.default.prototype._ondeviceorientation=function(A){this._updatePRotations(),this._angleMode===C.radians&&(A.beta=A.beta*(_PI/180),A.gamma=A.gamma*(_PI/180),A.alpha=A.alpha*(_PI/180)),this._setProperty("rotationX",A.beta),this._setProperty("rotationY",A.gamma),this._setProperty("rotationZ",A.alpha),this._handleMotion()},x.default.prototype._ondevicemotion=function(A){this._updatePAccelerations(),this._setProperty("accelerationX",2*A.acceleration.x),this._setProperty("accelerationY",2*A.acceleration.y),this._setProperty("accelerationZ",2*A.acceleration.z),this._handleMotion()},x.default.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var A,R,V=this._isGlobal?window:this;if("function"==typeof V.deviceMoved&&(Math.abs(this.accelerationX-this.pAccelerationX)>b||Math.abs(this.accelerationY-this.pAccelerationY)>b||Math.abs(this.accelerationZ-this.pAccelerationZ)>b)&&V.deviceMoved(),"function"==typeof V.deviceTurned){var U=this.rotationX+180,Z=this.pRotationX+180,Q=w+180;0<U-Z&&U-Z<270||U-Z<-270?h="clockwise":(U-Z<0||270<U-Z)&&(h="counter-clockwise"),h!==this.pRotateDirectionX&&(Q=U),90<Math.abs(U-Q)&&Math.abs(U-Q)<270&&(Q=U,this._setProperty("turnAxis","X"),V.deviceTurned()),this.pRotateDirectionX=h,w=Q-180;var Y=this.rotationY+180,K=this.pRotationY+180,te=g+180;0<Y-K&&Y-K<270||Y-K<-270?f="clockwise":(Y-K<0||270<Y-this.pRotationY)&&(f="counter-clockwise"),f!==this.pRotateDirectionY&&(te=Y),90<Math.abs(Y-te)&&Math.abs(Y-te)<270&&(te=Y,this._setProperty("turnAxis","Y"),V.deviceTurned()),this.pRotateDirectionY=f,g=te-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?m="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(m="counter-clockwise"),m!==this.pRotateDirectionZ&&(u=this.rotationZ),90<Math.abs(this.rotationZ-u)&&Math.abs(this.rotationZ-u)<270&&(u=this.rotationZ,this._setProperty("turnAxis","Z"),V.deviceTurned()),this.pRotateDirectionZ=m,this._setProperty("turnAxis",void 0)}"function"==typeof V.deviceShaken&&(null!==this.pAccelerationX&&(A=Math.abs(this.accelerationX-this.pAccelerationX),R=Math.abs(this.accelerationY-this.pAccelerationY)),E<A+R&&V.deviceShaken())},H.default=x.default},{"../core/constants":250,"../core/main":260}],278:[function(d,ee,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};v.default.prototype.isKeyPressed=!1,v.default.prototype.keyIsPressed=!1,v.default.prototype.key="",v.default.prototype.keyCode=0,v.default.prototype._onkeydown=function(C){if(!this._downKeys[C.which]){this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",C.which),this._downKeys[C.which]=!0,this._setProperty("key",C.key||String.fromCharCode(C.which)||C.which);var M=this._isGlobal?window:this;"function"==typeof M.keyPressed&&!C.charCode&&!1===M.keyPressed(C)&&C.preventDefault()}},v.default.prototype._onkeyup=function(C){this._downKeys[C.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",C.key||String.fromCharCode(C.which)||C.which),this._setProperty("keyCode",C.which);var M=this._isGlobal?window:this;"function"==typeof M.keyReleased&&!1===M.keyReleased(C)&&C.preventDefault()},v.default.prototype._onkeypress=function(C){if(C.which!==this._lastKeyCodeTyped){this._setProperty("_lastKeyCodeTyped",C.which),this._setProperty("key",C.key||String.fromCharCode(C.which)||C.which);var M=this._isGlobal?window:this;"function"==typeof M.keyTyped&&!1===M.keyTyped(C)&&C.preventDefault()}},v.default.prototype._onblur=function(C){this._downKeys={}},v.default.prototype.keyIsDown=function(C){return v.default._validateParameters("keyIsDown",arguments),this._downKeys[C]||!1},v.default.prototype._areDownKeys=function(){for(var C in this._downKeys)if(this._downKeys.hasOwnProperty(C)&&!0===this._downKeys[C])return!0;return!1},H.default=v.default},{"../core/main":260}],279:[function(d,ee,H){"use strict";function z(g){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(g)}d("core-js/modules/es.array.includes"),d("core-js/modules/es.string.includes"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v,x=(v=d("../core/main"))&&v.__esModule?v:{default:v},C=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==z(g)&&"function"!=typeof g)return{default:g};var u=M();if(u&&u.has(g))return u.get(g);var h={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in g)if(Object.prototype.hasOwnProperty.call(g,m)){var b=f?Object.getOwnPropertyDescriptor(g,m):null;b&&(b.get||b.set)?Object.defineProperty(h,m,b):h[m]=g[m]}return h.default=g,u&&u.set(g,h),h}(d("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var g=new WeakMap;return M=function(){return g},g}x.default.prototype.movedX=0,x.default.prototype.movedY=0,x.default.prototype._hasMouseInteracted=!1,x.default.prototype.mouseX=0,x.default.prototype.mouseY=0,x.default.prototype.pmouseX=0,x.default.prototype.pmouseY=0,x.default.prototype.winMouseX=0,x.default.prototype.winMouseY=0,x.default.prototype.pwinMouseX=0,x.default.prototype.pwinMouseY=0,x.default.prototype.mouseButton=0,x.default.prototype.mouseIsPressed=!1,x.default.prototype._updateNextMouseCoords=function(g){if(null!==this._curElement&&(!g.touches||0<g.touches.length)){var u=function(h,f,m,b){b&&!b.clientX&&(b.touches?b=b.touches[0]:b.changedTouches&&(b=b.changedTouches[0]));var E=h.getBoundingClientRect();return{x:(b.clientX-E.left)/(h.scrollWidth/f||1),y:(b.clientY-E.top)/(h.scrollHeight/m||1),winX:b.clientX,winY:b.clientY,id:b.identifier}}(this._curElement.elt,this.width,this.height,g);this._setProperty("movedX",g.movementX),this._setProperty("movedY",g.movementY),this._setProperty("mouseX",u.x),this._setProperty("mouseY",u.y),this._setProperty("winMouseX",u.winX),this._setProperty("winMouseY",u.winY)}this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},x.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},x.default.prototype._setMouseButton=function(g){this._setProperty("mouseButton",1===g.button?C.CENTER:2===g.button?C.RIGHT:C.LEFT)},x.default.prototype._onmousemove=function(g){var u=this._isGlobal?window:this;this._updateNextMouseCoords(g),this.mouseIsPressed?"function"==typeof u.mouseDragged?!1===u.mouseDragged(g)&&g.preventDefault():"function"==typeof u.touchMoved&&!1===u.touchMoved(g)&&g.preventDefault():"function"==typeof u.mouseMoved&&!1===u.mouseMoved(g)&&g.preventDefault()},x.default.prototype._onmousedown=function(g){var u=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(g),this._updateNextMouseCoords(g),"function"==typeof u.mousePressed?!1===u.mousePressed(g)&&g.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&"function"==typeof u.touchStarted&&!1===u.touchStarted(g)&&g.preventDefault()},x.default.prototype._onmouseup=function(g){var u=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),"function"==typeof u.mouseReleased?!1===u.mouseReleased(g)&&g.preventDefault():"function"==typeof u.touchEnded&&!1===u.touchEnded(g)&&g.preventDefault()},x.default.prototype._ondragend=x.default.prototype._onmouseup,x.default.prototype._ondragover=x.default.prototype._onmousemove,x.default.prototype._onclick=function(g){var u=this._isGlobal?window:this;"function"==typeof u.mouseClicked&&!1===u.mouseClicked(g)&&g.preventDefault()},x.default.prototype._ondblclick=function(g){var u=this._isGlobal?window:this;"function"==typeof u.doubleClicked&&!1===u.doubleClicked(g)&&g.preventDefault()},x.default.prototype._mouseWheelDeltaY=0,x.default.prototype._pmouseWheelDeltaY=0,x.default.prototype._onwheel=function(g){var u=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",g.deltaY),"function"==typeof u.mouseWheel&&(g.delta=g.deltaY,!1===u.mouseWheel(g)&&g.preventDefault())},x.default.prototype.requestPointerLock=function(){var g=this._curElement.elt;return g.requestPointerLock=g.requestPointerLock||g.mozRequestPointerLock,g.requestPointerLock?(g.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},x.default.prototype.exitPointerLock=function(){document.exitPointerLock()},H.default=x.default},{"../core/constants":250,"../core/main":260,"core-js/modules/es.array.includes":154,"core-js/modules/es.string.includes":182}],280:[function(d,ee,H){"use strict";d("core-js/modules/es.array.includes"),d("core-js/modules/es.string.includes"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};function x(M,w,g,u,h){var f=4<arguments.length&&void 0!==h?h:0,m=M.getBoundingClientRect(),L=u.touches[f]||u.changedTouches[f];return{x:(L.clientX-m.left)/(M.scrollWidth/w||1),y:(L.clientY-m.top)/(M.scrollHeight/g||1),winX:L.clientX,winY:L.clientY,id:L.identifier}}v.default.prototype.touches=[],v.default.prototype._updateTouchCoords=function(M){if(null!==this._curElement){for(var w=[],g=0;g<M.touches.length;g++)w[g]=x(this._curElement.elt,this.width,this.height,M,g);this._setProperty("touches",w)}},v.default.prototype._ontouchstart=function(M){var w=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(M),this._updateNextMouseCoords(M),this._updateMouseCoords(),"function"==typeof w.touchStarted?!1===w.touchStarted(M)&&M.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&"function"==typeof w.mousePressed&&!1===w.mousePressed(M)&&M.preventDefault()},v.default.prototype._ontouchmove=function(M){var w=this._isGlobal?window:this;this._updateTouchCoords(M),this._updateNextMouseCoords(M),"function"==typeof w.touchMoved?!1===w.touchMoved(M)&&M.preventDefault():"function"==typeof w.mouseDragged&&!1===w.mouseDragged(M)&&M.preventDefault()},v.default.prototype._ontouchend=function(M){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(M),this._updateNextMouseCoords(M);var w=this._isGlobal?window:this;"function"==typeof w.touchEnded?!1===w.touchEnded(M)&&M.preventDefault():"function"==typeof w.mouseReleased&&!1===w.mouseReleased(M)&&M.preventDefault()},H.default=v.default},{"../core/main":260,"core-js/modules/es.array.includes":154,"core-js/modules/es.string.includes":182}],281:[function(d,ee,H){"use strict";d("core-js/modules/es.array.iterator"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.typed-array.int32-array"),d("core-js/modules/es.typed-array.uint8-array"),d("core-js/modules/es.typed-array.copy-within"),d("core-js/modules/es.typed-array.every"),d("core-js/modules/es.typed-array.fill"),d("core-js/modules/es.typed-array.filter"),d("core-js/modules/es.typed-array.find"),d("core-js/modules/es.typed-array.find-index"),d("core-js/modules/es.typed-array.for-each"),d("core-js/modules/es.typed-array.includes"),d("core-js/modules/es.typed-array.index-of"),d("core-js/modules/es.typed-array.iterator"),d("core-js/modules/es.typed-array.join"),d("core-js/modules/es.typed-array.last-index-of"),d("core-js/modules/es.typed-array.map"),d("core-js/modules/es.typed-array.reduce"),d("core-js/modules/es.typed-array.reduce-right"),d("core-js/modules/es.typed-array.reverse"),d("core-js/modules/es.typed-array.set"),d("core-js/modules/es.typed-array.slice"),d("core-js/modules/es.typed-array.some"),d("core-js/modules/es.typed-array.sort"),d("core-js/modules/es.typed-array.subarray"),d("core-js/modules/es.typed-array.to-locale-string"),d("core-js/modules/es.typed-array.to-string"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v,x,C,M={};M._toPixels=function(u){if(u instanceof ImageData)return u.data;if(u.getContext("2d"))return u.getContext("2d").getImageData(0,0,u.width,u.height).data;if(u.getContext("webgl")){var h=u.getContext("webgl"),m=new Uint8Array(h.drawingBufferWidth*h.drawingBufferHeight*4);return h.readPixels(0,0,u.width,u.height,h.RGBA,h.UNSIGNED_BYTE,m),m}},M._getARGB=function(u,h){var f=4*h;return u[3+f]<<24&4278190080|u[f]<<16&16711680|u[1+f]<<8&65280|255&u[2+f]},M._setPixels=function(u,h){for(var f=0,m=0,b=u.length;m<b;m++)u[0+(f=4*m)]=(16711680&h[m])>>>16,u[f+1]=(65280&h[m])>>>8,u[f+2]=255&h[m],u[f+3]=(4278190080&h[m])>>>24},M._toImageData=function(u){return u instanceof ImageData?u:u.getContext("2d").getImageData(0,0,u.width,u.height)},M._createImageData=function(u,h){return M._tmpCanvas=document.createElement("canvas"),M._tmpCtx=M._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(u,h)},M.apply=function(u,h,f){var m=u.getContext("2d"),b=m.getImageData(0,0,u.width,u.height),E=h(b,f);E instanceof ImageData?m.putImageData(E,0,0,0,0,u.width,u.height):m.putImageData(b,0,0,0,0,u.width,u.height)},M.threshold=function(u,h){var f=M._toPixels(u);void 0===h&&(h=.5);for(var m=Math.floor(255*h),b=0;b<f.length;b+=4)f[b]=f[b+1]=f[b+2]=m<=.2126*f[b]+.7152*f[b+1]+.0722*f[b+2]?255:0},M.gray=function(u){for(var h=M._toPixels(u),f=0;f<h.length;f+=4)h[f]=h[f+1]=h[f+2]=.2126*h[f]+.7152*h[f+1]+.0722*h[f+2]},M.opaque=function(u){for(var h=M._toPixels(u),f=0;f<h.length;f+=4)h[f+3]=255;return h},M.invert=function(u){for(var h=M._toPixels(u),f=0;f<h.length;f+=4)h[f]=255-h[f],h[f+1]=255-h[f+1],h[f+2]=255-h[f+2]},M.posterize=function(u,h){var f=M._toPixels(u);if(h<2||255<h)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var m=h-1,b=0;b<f.length;b+=4){var L=f[b+1],A=f[b+2];f[b]=255*(f[b]*h>>8)/m,f[b+1]=255*(L*h>>8)/m,f[b+2]=255*(A*h>>8)/m}},M.dilate=function(u){for(var h,f,m,b,E,L,A,R,V,U,Z,Q,Y,K,te,q,oe,ie=M._toPixels(u),ye=0,Ve=ie.length?ie.length/4:0,_e=new Int32Array(Ve);ye<Ve;)for(f=(h=ye)+u.width;ye<f;)m=b=M._getARGB(ie,ye),(A=ye-1)<h&&(A=ye),f<=(L=ye+1)&&(L=ye),(R=ye-u.width)<0&&(R=0),Ve<=(V=ye+u.width)&&(V=ye),Q=M._getARGB(ie,R),Z=M._getARGB(ie,A),Y=M._getARGB(ie,V),(E=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))<(te=77*(Z>>16&255)+151*(Z>>8&255)+28*(255&Z))&&(b=Z,E=te),E<(K=77*((U=M._getARGB(ie,L))>>16&255)+151*(U>>8&255)+28*(255&U))&&(b=U,E=K),E<(q=77*(Q>>16&255)+151*(Q>>8&255)+28*(255&Q))&&(b=Q,E=q),E<(oe=77*(Y>>16&255)+151*(Y>>8&255)+28*(255&Y))&&(b=Y,E=oe),_e[ye++]=b;M._setPixels(ie,_e)},M.erode=function(u){for(var h,f,m,b,E,L,A,R,V,U,Z,Q,Y,K,te,q,oe,ie=M._toPixels(u),ye=0,Ve=ie.length?ie.length/4:0,_e=new Int32Array(Ve);ye<Ve;)for(f=(h=ye)+u.width;ye<f;)m=b=M._getARGB(ie,ye),(A=ye-1)<h&&(A=ye),f<=(L=ye+1)&&(L=ye),(R=ye-u.width)<0&&(R=0),Ve<=(V=ye+u.width)&&(V=ye),Q=M._getARGB(ie,R),Z=M._getARGB(ie,A),Y=M._getARGB(ie,V),(te=77*(Z>>16&255)+151*(Z>>8&255)+28*(255&Z))<(E=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))&&(b=Z,E=te),(K=77*((U=M._getARGB(ie,L))>>16&255)+151*(U>>8&255)+28*(255&U))<E&&(b=U,E=K),(q=77*(Q>>16&255)+151*(Q>>8&255)+28*(255&Q))<E&&(b=Q,E=q),(oe=77*(Y>>16&255)+151*(Y>>8&255)+28*(255&Y))<E&&(b=Y,E=oe),_e[ye++]=b;M._setPixels(ie,_e)},M.blur=function(u,h){!function(u,h){for(var f,m,b,E,L,A,R,V,U,Z,Q=M._toPixels(u),Y=u.width,K=u.height,te=Y*K,q=new Int32Array(te),oe=0;oe<te;oe++)q[oe]=M._getARGB(Q,oe);var ie,ye,Ve,_e,we=new Int32Array(te),Le=new Int32Array(te),$e=new Int32Array(te),qe=new Int32Array(te),We=0;for(function(Qe){var ut=3.5*Qe|0;if(z!==(ut=ut<1?1:ut<248?ut:248)){v=1+(z=ut)<<1,x=new Int32Array(v),C=new Array(v);for(var G=0;G<v;G++)C[G]=new Int32Array(256);for(var J,ue,Re,Ee,Ie=1,Be=ut-1;Ie<ut;Ie++){x[ut+Ie]=x[Be]=ue=Be*Be,Re=C[ut+Ie],Ee=C[Be--];for(var ht=0;ht<256;ht++)Re[ht]=Ee[ht]=ue*ht}J=x[ut]=ut*ut,Re=C[ut];for(var ze=0;ze<256;ze++)Re[ze]=J*ze}}(h),ye=0;ye<K;ye++){for(ie=0;ie<Y;ie++){if(E=b=m=L=f=0,(A=ie-z)<0)Z=-A,A=0;else{if(Y<=A)break;Z=0}for(Ve=Z;Ve<v&&!(Y<=A);Ve++){var tt=q[A+We];L+=(_e=C[Ve])[(-16777216&tt)>>>24],m+=_e[(16711680&tt)>>16],b+=_e[(65280&tt)>>8],E+=_e[255&tt],f+=x[Ve],A++}we[R=We+ie]=L/f,Le[R]=m/f,$e[R]=b/f,qe[R]=E/f}We+=Y}for(U=(V=-z)*Y,ye=We=0;ye<K;ye++){for(ie=0;ie<Y;ie++){if(E=b=m=L=f=0,V<0)Z=R=-V,A=ie;else{if(K<=V)break;Z=0,R=V,A=ie+U}for(Ve=Z;Ve<v&&!(K<=R);Ve++)L+=(_e=C[Ve])[we[A]],m+=_e[Le[A]],b+=_e[$e[A]],E+=_e[qe[A]],f+=x[Ve],R++,A+=Y;q[ie+We]=L/f<<24|m/f<<16|b/f<<8|E/f}We+=Y,U+=Y,V++}M._setPixels(Q,q)}(u,h)},H.default=M},{"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.int32-array":206,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint8-array":223}],282:[function(d,ee,H){"use strict";d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.concat"),d("core-js/modules/es.array.filter"),d("core-js/modules/es.array.from"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.array.map"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.object.keys"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.set"),d("core-js/modules/es.string.iterator"),d("core-js/modules/es.string.replace"),d("core-js/modules/es.string.split"),d("core-js/modules/es.typed-array.uint8-array"),d("core-js/modules/es.typed-array.uint32-array"),d("core-js/modules/es.typed-array.copy-within"),d("core-js/modules/es.typed-array.every"),d("core-js/modules/es.typed-array.fill"),d("core-js/modules/es.typed-array.filter"),d("core-js/modules/es.typed-array.find"),d("core-js/modules/es.typed-array.find-index"),d("core-js/modules/es.typed-array.for-each"),d("core-js/modules/es.typed-array.includes"),d("core-js/modules/es.typed-array.index-of"),d("core-js/modules/es.typed-array.iterator"),d("core-js/modules/es.typed-array.join"),d("core-js/modules/es.typed-array.last-index-of"),d("core-js/modules/es.typed-array.map"),d("core-js/modules/es.typed-array.reduce"),d("core-js/modules/es.typed-array.reduce-right"),d("core-js/modules/es.typed-array.reverse"),d("core-js/modules/es.typed-array.set"),d("core-js/modules/es.typed-array.slice"),d("core-js/modules/es.typed-array.some"),d("core-js/modules/es.typed-array.sort"),d("core-js/modules/es.typed-array.subarray"),d("core-js/modules/es.typed-array.to-locale-string"),d("core-js/modules/es.typed-array.to-string"),d("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z=x(d("../core/main")),v=x(d("omggif"));function x(w){return w&&w.__esModule?w:{default:w}}function C(w){return function(g){if(Array.isArray(g)){for(var u=0,h=new Array(g.length);u<g.length;u++)h[u]=g[u];return h}}(w)||function(g){if(Symbol.iterator in Object(g)||"[object Arguments]"===Object.prototype.toString.call(g))return Array.from(g)}(w)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}z.default.prototype.createImage=function(w,g){return z.default._validateParameters("createImage",arguments),new z.default.Image(w,g)},z.default.prototype.saveCanvas=function(){z.default._validateParameters("saveCanvas",arguments);var w,g,u,h,f=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(w=arguments[0],f.shift()):arguments[0]instanceof z.default.Element?(w=arguments[0].elt,f.shift()):w=this._curElement&&this._curElement.elt,1<=f.length&&(g=f[0]),2<=f.length&&(u=f[1]),u=u||z.default.prototype._checkFileExtension(g,u)[1]||"png"){default:h="image/png";break;case"jpeg":case"jpg":h="image/jpeg"}w.toBlob(function(m){z.default.prototype.downloadFile(m,g,u)},h)},z.default.prototype.saveGif=function(w,g){var u=w.gifProperties,h=u.loopLimit;1===h?h=null:null===h&&(h=0);for(var f=new Uint8Array(w.width*w.height*u.numFrames),m=[],b={},E=0;E<u.numFrames;E++){for(var L=new Set,A=u.frames[E].image.data,R=A.length,V=new Uint32Array(w.width*w.height),U=0,Z=0;U<R;U+=4,Z++){var Q=A[U+0]<<16|A[U+1]<<8|A[U+2]<<0;L.add(Q),V[Z]=Q}var Y=C(L).sort().toString();void 0===b[Y]?b[Y]={freq:1,frames:[E]}:(b[Y].freq+=1,b[Y].frames.push(E)),m.push(V)}var K=[],te=Object.keys(b).sort(function(G,J){return b[J].freq-b[G].freq}),q=te[0].split(",").map(function(G){return parseInt(G)});K=K.concat(b[q].frames);for(var oe=new Set(q),ie=1;ie<te.length;ie++){var ye=te[ie].split(",").map(function(G){return parseInt(G)}).filter(function(G){return!oe.has(G)});if(q.length+ye.length<=256){for(var Ve=0;Ve<ye.length;Ve++)q.push(ye[Ve]),oe.add(ye[Ve]);K=K.concat(b[te[ie]].frames)}}K=new Set(K);for(var _e={},we=0;we<q.length;we++)_e[q[we]]||(_e[q[we]]=we);for(var Le=1;Le<q.length;)Le<<=1;q.length=Le;for(var $e={loop:h,palette:new Uint32Array(q)},qe=new v.default.GifWriter(f,w.width,w.height,$e),We={},tt=function(G){for(var J=!K.has(G),ue=J?[]:q,Re=new Uint8Array(w.width*w.height),Ee={},Ie=new Set,Be=0;Be<m[G].length;Be++){var ht=m[G][Be];J?(void 0===Ee[ht]&&(Ee[ht]=ue.length,ue.push(ht)),Re[Be]=Ee[ht]):Re[Be]=_e[ht],0<G&&m[G-1][Be]!==ht&&Ie.add(ht)}var ze={},Ze=ue.filter(function(ft){return!Ie.has(ft)});if(0<Ze.length){var Xe=Ze[0],Je=J?Ee[Xe]:_e[Xe];if(0<G){for(var ct=0;ct<m[G].length;ct++)m[G-1][ct]===m[G][ct]&&(Re[ct]=Je);ze.transparent=Je,We.frameOpts.disposal=1}}if(ze.delay=u.frames[G].delay/10,J){for(var mt=1;mt<ue.length;)mt<<=1;ue.length=mt,ze.palette=new Uint32Array(ue)}0<G&&qe.addFrame(0,0,w.width,w.height,We.pixelPaletteIndex,We.frameOpts),We={pixelPaletteIndex:Re,frameOpts:ze}},Qe=0;Qe<u.numFrames;Qe++)tt(Qe);We.frameOpts.disposal=1,qe.addFrame(0,0,w.width,w.height,We.pixelPaletteIndex,We.frameOpts);var ut=new Blob([f.slice(0,qe.end())],{type:"image/gif"});z.default.prototype.downloadFile(ut,g,"gif")},z.default.prototype.saveFrames=function(w,g,u,h,f){z.default._validateParameters("saveFrames",arguments);var m=u||3;m=z.default.prototype.constrain(m,0,15),m*=1e3;var b=h||15;b=z.default.prototype.constrain(b,0,22);var E=0,L=z.default.prototype._makeFrame,A=this._curElement.elt,R=[],V=setInterval(function(){R.push(L(w+E,g,A)),E++},1e3/b);setTimeout(function(){if(clearInterval(V),f)f(R);else{var U=!0,Z=!1,Q=void 0;try{for(var Y,K=R[Symbol.iterator]();!(U=(Y=K.next()).done);U=!0){var te=Y.value;z.default.prototype.downloadFile(te.imageData,te.filename,te.ext)}}catch(q){Z=!0,Q=q}finally{try{U||null==K.return||K.return()}finally{if(Z)throw Q}}}R=[]},m+.01)},z.default.prototype._makeFrame=function(w,g,u){var h,f;if(h=this?this._curElement.elt:u,g)switch(g.toLowerCase()){case"png":f="image/png";break;case"jpeg":case"jpg":f="image/jpeg";break;default:f="image/png"}else g="png",f="image/png";var m=h.toDataURL(f);m=m.replace(f,"image/octet-stream");var b={};return b.imageData=m,b.filename=w,b.ext=g,b},H.default=z.default},{"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.from":153,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.keys":173,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.set":180,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.split":188,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint32-array":222,"core-js/modules/es.typed-array.uint8-array":223,"core-js/modules/web.dom-collections.iterator":226,omggif:235}],283:[function(d,ee,H){"use strict";function z(m){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(m)}d("core-js/modules/es.array.includes"),d("core-js/modules/es.array.index-of"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.promise"),d("core-js/modules/es.string.includes"),d("core-js/modules/es.typed-array.uint8-array"),d("core-js/modules/es.typed-array.uint8-clamped-array"),d("core-js/modules/es.typed-array.copy-within"),d("core-js/modules/es.typed-array.every"),d("core-js/modules/es.typed-array.fill"),d("core-js/modules/es.typed-array.filter"),d("core-js/modules/es.typed-array.find"),d("core-js/modules/es.typed-array.find-index"),d("core-js/modules/es.typed-array.for-each"),d("core-js/modules/es.typed-array.includes"),d("core-js/modules/es.typed-array.index-of"),d("core-js/modules/es.typed-array.iterator"),d("core-js/modules/es.typed-array.join"),d("core-js/modules/es.typed-array.last-index-of"),d("core-js/modules/es.typed-array.map"),d("core-js/modules/es.typed-array.reduce"),d("core-js/modules/es.typed-array.reduce-right"),d("core-js/modules/es.typed-array.reverse"),d("core-js/modules/es.typed-array.set"),d("core-js/modules/es.typed-array.slice"),d("core-js/modules/es.typed-array.some"),d("core-js/modules/es.typed-array.sort"),d("core-js/modules/es.typed-array.subarray"),d("core-js/modules/es.typed-array.to-locale-string"),d("core-js/modules/es.typed-array.to-string"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=u(d("../core/main")),x=u(d("./filters")),C=u(d("../core/helpers")),M=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==z(m)&&"function"!=typeof m)return{default:m};var b=g();if(b&&b.has(m))return b.get(m);var E={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in m)if(Object.prototype.hasOwnProperty.call(m,A)){var R=L?Object.getOwnPropertyDescriptor(m,A):null;R&&(R.get||R.set)?Object.defineProperty(E,A,R):E[A]=m[A]}return E.default=m,b&&b.set(m,E),E}(d("../core/constants")),w=u(d("omggif"));function g(){if("function"!=typeof WeakMap)return null;var m=new WeakMap;return g=function(){return m},m}function u(m){return m&&m.__esModule?m:{default:m}}function h(m,b){return 0<m&&m<b?m:b}d("../core/friendly_errors/validate_params"),d("../core/friendly_errors/file_errors"),d("../core/friendly_errors/fes_core"),v.default.prototype.loadImage=function(m,b,E){v.default._validateParameters("loadImage",arguments);var L=new v.default.Image(1,1,this),A=this,R=new Request(m,{method:"GET",mode:"cors"});return fetch(m,R).then(function(V){var U=V.headers.get("content-type");if(null===U&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),U&&U.includes("image/gif"))V.arrayBuffer().then(function(Q){Q&&function(Y,K,te,q,oe){var ie=new w.default.GifReader(Y);K.width=K.canvas.width=ie.width,K.height=K.canvas.height=ie.height;var ye=[],Ve=ie.numFrames(),_e=new Uint8ClampedArray(K.width*K.height*4);if(1<Ve){for(var we=function(Qe,ut){try{ut.decodeAndBlitFrameRGBA(Qe,_e)}catch(G){v.default._friendlyFileLoadError(8,K.src),"function"==typeof q?q(G):console.error(G)}},Le=0;Le<Ve;Le++){var $e=ie.frameInfo(Le);1===ie.frameInfo(Le).disposal&&0<Le?K.drawingContext.putImageData(ye[Le-1].image,0,0):(K.drawingContext.clearRect(0,0,K.width,K.height),_e=new Uint8ClampedArray(K.width*K.height*4)),we(Le,ie);var qe=new ImageData(_e,K.width,K.height);K.drawingContext.putImageData(qe,0,0);var We=$e.delay;0===We&&(We=10),ye.push({image:K.drawingContext.getImageData(0,0,K.width,K.height),delay:10*We})}var tt=ie.loopCount();null===tt?tt=1:0===tt&&(tt=null),K.drawingContext.putImageData(ye[0].image,0,0),K.gifProperties={displayIndex:0,loopLimit:tt,loopCount:0,frames:ye,numFrames:Ve,playing:!0,timeDisplayed:0,lastChangeTime:0}}"function"==typeof te&&te(K),oe()}(new Uint8Array(Q),L,b,E,function(Y){A._decrementPreload()}.bind(A))},function(Q){"function"==typeof E?E(Q):console.error(Q)});else{var Z=new Image;Z.onload=function(){L.width=L.canvas.width=Z.width,L.height=L.canvas.height=Z.height,L.drawingContext.drawImage(Z,0,0),L.modified=!0,"function"==typeof b&&b(L),A._decrementPreload()},Z.onerror=function(Q){v.default._friendlyFileLoadError(0,Z.src),"function"==typeof E?E(Q):console.error(Q)},0!==m.indexOf("data:image/")&&(Z.crossOrigin="Anonymous"),Z.src=m}L.modified=!0}).catch(function(V){v.default._friendlyFileLoadError(0,m),"function"==typeof E?E(V):console.error(V)}),L},v.default.prototype.image=function(m,b,E,L,A,R,V,U,Z){v.default._validateParameters("image",arguments);var Q=m.width,Y=m.height;m.elt&&m.elt.videoWidth&&!m.canvas&&(Q=m.elt.videoWidth,Y=m.elt.videoHeight);var K=b,te=E,q=L||Q,oe=A||Y,ie=R||0,ye=V||0,Ve=U||Q,_e=Z||Y;Ve=h(Ve,Q),_e=h(_e,Y);var we=1;m.elt&&!m.canvas&&m.elt.style.width&&(we=m.elt.videoWidth&&!L?m.elt.videoWidth:m.elt.width,we/=parseInt(m.elt.style.width,10)),ie*=we,ye*=we,_e*=we,Ve*=we;var Le=C.default.modeAdjust(K,te,q,oe,this._renderer._imageMode);this._renderer.image(m,ie,ye,Ve,_e,Le.x,Le.y,Le.w,Le.h)},v.default.prototype.tint=function(){for(var m=arguments.length,b=new Array(m),E=0;E<m;E++)b[E]=arguments[E];v.default._validateParameters("tint",b);var L=this.color.apply(this,b);this._renderer._tint=L.levels},v.default.prototype.noTint=function(){this._renderer._tint=null},v.default.prototype._getTintedImageCanvas=function(m){if(!m.canvas)return m;var b=x.default._toPixels(m.canvas),E=document.createElement("canvas");E.width=m.canvas.width,E.height=m.canvas.height;for(var L=E.getContext("2d"),A=L.createImageData(m.canvas.width,m.canvas.height),R=A.data,V=0;V<b.length;V+=4){var Z=b[V+1],Q=b[V+2],Y=b[V+3];R[V]=b[V]*this._renderer._tint[0]/255,R[V+1]=Z*this._renderer._tint[1]/255,R[V+2]=Q*this._renderer._tint[2]/255,R[V+3]=Y*this._renderer._tint[3]/255}return L.putImageData(A,0,0),E},v.default.prototype.imageMode=function(m){v.default._validateParameters("imageMode",arguments),m!==M.CORNER&&m!==M.CORNERS&&m!==M.CENTER||(this._renderer._imageMode=m)},H.default=v.default},{"../core/constants":250,"../core/friendly_errors/fes_core":252,"../core/friendly_errors/file_errors":253,"../core/friendly_errors/validate_params":255,"../core/helpers":256,"../core/main":260,"./filters":281,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.promise":175,"core-js/modules/es.string.includes":182,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint8-array":223,"core-js/modules/es.typed-array.uint8-clamped-array":224,omggif:235}],284:[function(d,ee,H){"use strict";d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.filter"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.string.iterator"),d("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z=x(d("../core/main")),v=x(d("./filters"));function x(M){return M&&M.__esModule?M:{default:M}}z.default.Image=function(M,w){this.width=M,this.height=w,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]},z.default.Image.prototype._animateGif=function(M){var w=this.gifProperties,g=M._lastFrameTime+M.deltaTime;if(0===w.lastChangeTime&&(w.lastChangeTime=g),w.playing){w.timeDisplayed=g-w.lastChangeTime;var u=w.frames[w.displayIndex].delay;if(w.timeDisplayed>=u){var h=Math.floor(w.timeDisplayed/u);if(w.timeDisplayed=0,w.lastChangeTime=g,w.displayIndex+=h,w.loopCount=Math.floor(w.displayIndex/w.numFrames),null!==w.loopLimit&&w.loopCount>=w.loopLimit)w.playing=!1;else{var f=w.displayIndex%w.numFrames;this.drawingContext.putImageData(w.frames[f].image,0,0),w.displayIndex=f,this.setModified(!0)}}}},z.default.Image.prototype._setProperty=function(M,w){this[M]=w,this.setModified(!0)},z.default.Image.prototype.loadPixels=function(){z.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},z.default.Image.prototype.updatePixels=function(M,w,g,u){z.default.Renderer2D.prototype.updatePixels.call(this,M,w,g,u),this.setModified(!0)},z.default.Image.prototype.get=function(M,w,g,u){return z.default._validateParameters("p5.Image.get",arguments),z.default.Renderer2D.prototype.get.apply(this,arguments)},z.default.Image.prototype._getPixel=z.default.Renderer2D.prototype._getPixel,z.default.Image.prototype.set=function(M,w,g){z.default.Renderer2D.prototype.set.call(this,M,w,g),this.setModified(!0)},z.default.Image.prototype.resize=function(M,w){0===M&&0===w?(M=this.canvas.width,w=this.canvas.height):0===M?M=this.canvas.width*w/this.canvas.height:0===w&&(w=this.canvas.height*M/this.canvas.width),M=Math.floor(M),w=Math.floor(w);var g=document.createElement("canvas");if(g.width=M,g.height=w,this.gifProperties)for(var u=this.gifProperties,h=function(b,E){for(var L=0,A=0;A<E.height;A++)for(var R=0;R<E.width;R++){var V=Math.floor(R*b.width/E.width),U=4*(Math.floor(A*b.height/E.height)*b.width+V);E.data[L++]=b.data[U++],E.data[L++]=b.data[U++],E.data[L++]=b.data[U++],E.data[L++]=b.data[U++]}},f=0;f<u.numFrames;f++){var m=this.drawingContext.createImageData(M,w);h(u.frames[f].image,m),u.frames[f].image=m}g.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,g.width,g.height),this.canvas.width=this.width=M,this.canvas.height=this.height=w,this.drawingContext.drawImage(g,0,0,M,w,0,0,M,w),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)},z.default.Image.prototype.copy=function(){for(var M=arguments.length,w=new Array(M),g=0;g<M;g++)w[g]=arguments[g];z.default.prototype.copy.apply(this,w)},z.default.Image.prototype.mask=function(M){void 0===M&&(M=this);var w=this.drawingContext.globalCompositeOperation,g=1;M instanceof z.default.Renderer&&(g=M._pInst._pixelDensity);var u=[M,0,0,g*M.width,g*M.height,0,0,this.width,this.height];this.drawingContext.globalCompositeOperation="destination-in",z.default.Image.prototype.copy.apply(this,u),this.drawingContext.globalCompositeOperation=w,this.setModified(!0)},z.default.Image.prototype.filter=function(M,w){v.default.apply(this.canvas,v.default[M],w),this.setModified(!0)},z.default.Image.prototype.blend=function(){for(var M=arguments.length,w=new Array(M),g=0;g<M;g++)w[g]=arguments[g];z.default._validateParameters("p5.Image.blend",arguments),z.default.prototype.blend.apply(this,w),this.setModified(!0)},z.default.Image.prototype.setModified=function(M){this._modified=M},z.default.Image.prototype.isModified=function(){return this._modified},z.default.Image.prototype.save=function(M,w){this.gifProperties?z.default.prototype.saveGif(this,M):z.default.prototype.saveCanvas(this.canvas,M,w)},z.default.Image.prototype.reset=function(){if(this.gifProperties){var M=this.gifProperties;M.playing=!0,M.timeSinceStart=0,M.timeDisplayed=0,M.lastChangeTime=0,M.loopCount=0,M.displayIndex=0,this.drawingContext.putImageData(M.frames[0].image,0,0)}},z.default.Image.prototype.getCurrentFrame=function(){if(this.gifProperties){var M=this.gifProperties;return M.displayIndex%M.numFrames}},z.default.Image.prototype.setFrame=function(M){if(this.gifProperties){var w=this.gifProperties;M<w.numFrames&&0<=M?(w.timeDisplayed=0,w.lastChangeTime=0,w.displayIndex=M,this.drawingContext.putImageData(w.frames[M].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero.")}},z.default.Image.prototype.numFrames=function(){if(this.gifProperties)return this.gifProperties.numFrames},z.default.Image.prototype.play=function(){this.gifProperties&&(this.gifProperties.playing=!0)},z.default.Image.prototype.pause=function(){this.gifProperties&&(this.gifProperties.playing=!1)},z.default.Image.prototype.delay=function(M,w){if(this.gifProperties){var g=this.gifProperties;if(w<g.numFrames&&0<=w)g.frames[w].delay=M;else{var u=!0,h=!1,f=void 0;try{for(var m,b=g.frames[Symbol.iterator]();!(u=(m=b.next()).done);u=!0)m.value.delay=M}catch(E){h=!0,f=E}finally{try{u||null==b.return||b.return()}finally{if(h)throw f}}}}},H.default=z.default.Image},{"../core/main":260,"./filters":281,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],285:[function(d,ee,H){"use strict";d("core-js/modules/es.array.filter"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z=x(d("../core/main")),v=x(d("./filters"));function x(M){return M&&M.__esModule?M:{default:M}}d("../color/p5.Color"),z.default.prototype.pixels=[],z.default.prototype.blend=function(){for(var M=arguments.length,w=new Array(M),g=0;g<M;g++)w[g]=arguments[g];var u;z.default._validateParameters("blend",w),this._renderer?(u=this._renderer).blend.apply(u,w):z.default.Renderer2D.prototype.blend.apply(this,w)},z.default.prototype.copy=function(){for(var M=arguments.length,w=new Array(M),g=0;g<M;g++)w[g]=arguments[g];var u,h,f,m,b,E,L,A,R;if(z.default._validateParameters("copy",w),9===w.length)u=w[0],h=w[1],f=w[2],m=w[3],b=w[4],E=w[5],L=w[6],A=w[7],R=w[8];else{if(8!==w.length)throw new Error("Signature not supported");u=this,h=w[0],f=w[1],m=w[2],b=w[3],E=w[4],L=w[5],A=w[6],R=w[7]}z.default.prototype._copyHelper(this,u,h,f,m,b,E,L,A,R)},z.default.prototype._copyHelper=function(M,w,g,u,h,f,m,b,E,L){w.loadPixels();var A=w.canvas.width/w.width,R=0,V=0;w._renderer&&w._renderer.isP3D&&(R=w.width/2,V=w.height/2),M._renderer&&M._renderer.isP3D?z.default.RendererGL.prototype.image.call(M._renderer,w,g+R,u+V,h,f,m,b,E,L):M.drawingContext.drawImage(w.canvas,A*(g+R),A*(u+V),A*h,A*f,m,b,E,L)},z.default.prototype.filter=function(M,w){z.default._validateParameters("filter",arguments),v.default.apply(void 0!==this.canvas?this.canvas:this.elt,v.default[M],w)},z.default.prototype.get=function(M,w,g,u){var h;return z.default._validateParameters("get",arguments),(h=this._renderer).get.apply(h,arguments)},z.default.prototype.loadPixels=function(){for(var M=arguments.length,w=new Array(M),g=0;g<M;g++)w[g]=arguments[g];z.default._validateParameters("loadPixels",w),this._renderer.loadPixels()},z.default.prototype.set=function(M,w,g){this._renderer.set(M,w,g)},z.default.prototype.updatePixels=function(M,w,g,u){z.default._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(M,w,g,u)},H.default=z.default},{"../color/p5.Color":248,"../core/main":260,"./filters":281,"core-js/modules/es.array.filter":151}],286:[function(d,ee,H){"use strict";d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.concat"),d("core-js/modules/es.array.includes"),d("core-js/modules/es.array.index-of"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.array.last-index-of"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.array.splice"),d("core-js/modules/es.function.name"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.promise"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.string.includes"),d("core-js/modules/es.string.iterator"),d("core-js/modules/es.string.replace"),d("core-js/modules/es.string.split"),d("core-js/modules/es.typed-array.uint8-array"),d("core-js/modules/es.typed-array.copy-within"),d("core-js/modules/es.typed-array.every"),d("core-js/modules/es.typed-array.fill"),d("core-js/modules/es.typed-array.filter"),d("core-js/modules/es.typed-array.find"),d("core-js/modules/es.typed-array.find-index"),d("core-js/modules/es.typed-array.for-each"),d("core-js/modules/es.typed-array.includes"),d("core-js/modules/es.typed-array.index-of"),d("core-js/modules/es.typed-array.iterator"),d("core-js/modules/es.typed-array.join"),d("core-js/modules/es.typed-array.last-index-of"),d("core-js/modules/es.typed-array.map"),d("core-js/modules/es.typed-array.reduce"),d("core-js/modules/es.typed-array.reduce-right"),d("core-js/modules/es.typed-array.reverse"),d("core-js/modules/es.typed-array.set"),d("core-js/modules/es.typed-array.slice"),d("core-js/modules/es.typed-array.some"),d("core-js/modules/es.typed-array.sort"),d("core-js/modules/es.typed-array.subarray"),d("core-js/modules/es.typed-array.to-locale-string"),d("core-js/modules/es.typed-array.to-string"),d("core-js/modules/web.dom-collections.iterator"),d("core-js/modules/web.url"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z=C(d("../core/main"));d("whatwg-fetch"),d("es6-promise/auto");var v=C(d("fetch-jsonp")),x=C(d("file-saver"));function C(f){return f&&f.__esModule?f:{default:f}}function M(f){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(f)}function w(f,m){var b={};if(void 0===(m=m||[]))for(var E=0;E<f.length;E++)m[E.toString()]=E;for(var L=0;L<m.length;L++)b[m[L]]=f[L];return b}function g(f){return f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function u(f,m){m&&!0!==m&&"true"!==m||(m="");var b="";return(f=f||"untitled")&&f.includes(".")&&(b=f.split(".").pop()),m&&b!==m&&(b=m,f="".concat(f,".").concat(b)),[f,b]}d("../core/friendly_errors/validate_params"),d("../core/friendly_errors/file_errors"),d("../core/friendly_errors/fes_core"),z.default.prototype.loadJSON=function(){for(var f=arguments.length,m=new Array(f),b=0;b<f;b++)m[b]=arguments[b];z.default._validateParameters("loadJSON",m);for(var E,L,A,R=m[0],V={},U="json",Z=1;Z<m.length;Z++){var Q=m[Z];"string"==typeof Q?"jsonp"!==Q&&"json"!==Q||(U=Q):"function"==typeof Q?E?L=Q:E=Q:"object"===M(Q)&&(Q.hasOwnProperty("jsonpCallback")||Q.hasOwnProperty("jsonpCallbackFunction"))&&(U="jsonp",A=Q)}var Y=this;return this.httpDo(R,"GET",A,U,function(K){for(var te in K)V[te]=K[te];void 0!==E&&E(K),Y._decrementPreload()},function(K){if(z.default._friendlyFileLoadError(5,R),!L)throw K;L(K)}),V},z.default.prototype.loadStrings=function(){for(var f=arguments.length,m=new Array(f),b=0;b<f;b++)m[b]=arguments[b];z.default._validateParameters("loadStrings",m);for(var E,L,A=[],R=1;R<m.length;R++){var V=m[R];"function"==typeof V&&(void 0===E?E=V:void 0===L&&(L=V))}var U=this;return z.default.prototype.httpDo.call(this,m[0],"GET","text",function(Z){for(var Q=Z.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),Y=0,K=Q.length;Y<K;Y+=32768)Array.prototype.push.apply(A,Q.slice(Y,Math.min(Y+32768,K)));void 0!==E&&E(A),U._decrementPreload()},function(Z){if(z.default._friendlyFileLoadError(3,Z),!L)throw Z;L(Z)}),A},z.default.prototype.loadTable=function(f){var m,b,E,L=[],A=!1,R=f.substring(f.lastIndexOf(".")+1,f.length);"csv"===R?E=",":"ssv"===R?E=";":"tsv"===R&&(E="\t");for(var V=1;V<arguments.length;V++)"function"==typeof arguments[V]?void 0===m?m=arguments[V]:void 0===b&&(b=arguments[V]):"string"==typeof arguments[V]&&(L.push(arguments[V]),"header"===arguments[V]&&(A=!0),"csv"===arguments[V]?E=",":"ssv"===arguments[V]?E=";":"tsv"===arguments[V]&&(E="\t"));var U=new z.default.Table,Z=this;return this.httpDo(f,"GET","table",function(Q){for(var Y,K,te={},q=[],oe=0,ie=null,ye=function(){te.currentState=0,te.token=""},Ve=function(){ie.push(te.token),ye()},_e=function(){te.currentState=4,q.push(ie),ie=null};;){if(null==(Y=Q[oe++])){if(te.escaped)throw new Error("Unclosed quote in file.");if(ie){Ve(),_e();break}}if(null===ie&&(te.escaped=!1,ie=[],ye()),0===te.currentState){if('"'===Y){te.escaped=!0,te.currentState=1;continue}te.currentState=1}if(1===te.currentState&&te.escaped)if('"'===Y)'"'===Q[oe]?(te.token+='"',oe++):(te.escaped=!1,te.currentState=2);else{if("\r"===Y)continue;te.token+=Y}else"\r"===Y?("\n"===Q[oe]&&oe++,Ve(),_e()):"\n"===Y?(Ve(),_e()):Y===E?Ve():1===te.currentState&&(te.token+=Y)}if(A)U.columns=q.shift();else for(var we=0;we<q[0].length;we++)U.columns[we]="null";for(var Le=0;Le<q.length;Le++)(1!==q[Le].length||"undefined"!==q[Le][0]&&""!==q[Le][0])&&((K=new z.default.TableRow).arr=q[Le],K.obj=w(q[Le],U.columns),U.addRow(K));"function"==typeof m&&m(U),Z._decrementPreload()},function(Q){z.default._friendlyFileLoadError(2,f),b?b(Q):console.error(Q)}),U},z.default.prototype.loadXML=function(){for(var f=arguments.length,m=new Array(f),b=0;b<f;b++)m[b]=arguments[b];for(var E,L,A=new z.default.XML,R=1;R<m.length;R++){var V=m[R];"function"==typeof V&&(void 0===E?E=V:void 0===L&&(L=V))}var U=this;return this.httpDo(m[0],"GET","xml",function(Z){for(var Q in Z)A[Q]=Z[Q];void 0!==E&&E(A),U._decrementPreload()},function(Z){if(z.default._friendlyFileLoadError(1,Z),!L)throw Z;L(Z)}),A},z.default.prototype.loadBytes=function(f,m,b){var E={},L=this;return this.httpDo(f,"GET","arrayBuffer",function(A){E.bytes=new Uint8Array(A),"function"==typeof m&&m(E),L._decrementPreload()},function(A){if(z.default._friendlyFileLoadError(6,f),!b)throw A;b(A)}),E},z.default.prototype.httpGet=function(){z.default._validateParameters("httpGet",arguments);var f=Array.prototype.slice.call(arguments);return f.splice(1,0,"GET"),z.default.prototype.httpDo.apply(this,f)},z.default.prototype.httpPost=function(){z.default._validateParameters("httpPost",arguments);var f=Array.prototype.slice.call(arguments);return f.splice(1,0,"POST"),z.default.prototype.httpDo.apply(this,f)},z.default.prototype.httpDo=function(){for(var f,m,b,E,L,A={},R=0,V="text/plain",U=arguments.length-1;0<U&&"function"==typeof(U<0||arguments.length<=U?void 0:arguments[U]);U--)R++;var Z=arguments.length<=0?void 0:arguments[0];if(arguments.length-R==2&&"string"==typeof Z&&"object"===M(arguments.length<=1?void 0:arguments[1]))E=new Request(Z,arguments.length<=1?void 0:arguments[1]),m=arguments.length<=2?void 0:arguments[2],b=arguments.length<=3?void 0:arguments[3];else{for(var Q,Y="GET",K=1;K<arguments.length;K++){var te=K<0||arguments.length<=K?void 0:arguments[K];if("string"==typeof te)"GET"===te||"POST"===te||"PUT"===te||"DELETE"===te?Y=te:"json"===te||"jsonp"===te||"binary"===te||"arrayBuffer"===te||"xml"===te||"text"===te||"table"===te?f=te:Q=te;else if("number"==typeof te)Q=te.toString();else if("object"===M(te))if(te.hasOwnProperty("jsonpCallback")||te.hasOwnProperty("jsonpCallbackFunction"))for(var q in te)A[q]=te[q];else V=te instanceof z.default.XML?(Q=te.serialize(),"application/xml"):(Q=JSON.stringify(te),"application/json");else"function"==typeof te&&(m?b=te:m=te)}var oe="GET"===Y?new Headers:new Headers({"Content-Type":V});E=new Request(Z,{method:Y,mode:"cors",body:Q,headers:oe})}return(L=(L="jsonp"===(f=f||(Z.includes("json")?"json":Z.includes("xml")?"xml":"text"))?(0,v.default)(Z,A):fetch(E)).then(function(ie){if(!ie.ok){var ye=new Error(ie.body);throw ye.status=ie.status,ye.ok=!1,ye}var Ve=0;switch("jsonp"!==f&&(Ve=ie.headers.get("content-length")),Ve&&64e6<Ve&&z.default._friendlyFileLoadError(7,Z),f){case"json":case"jsonp":return ie.json();case"binary":return ie.blob();case"arrayBuffer":return ie.arrayBuffer();case"xml":return ie.text().then(function(_e){var we=(new DOMParser).parseFromString(_e,"text/xml");return new z.default.XML(we.documentElement)});default:return ie.text()}})).then(m||function(){}),L.catch(b||console.error),L},window.URL=window.URL||window.webkitURL,z.default.prototype._pWriters=[],z.default.prototype.createWriter=function(f,m){var b;for(var E in z.default.prototype._pWriters)if(z.default.prototype._pWriters[E].name===f)return b=new z.default.PrintWriter(f+this.millis(),m),z.default.prototype._pWriters.push(b),b;return b=new z.default.PrintWriter(f,m),z.default.prototype._pWriters.push(b),b},z.default.PrintWriter=function(f,m){var b=this;this.name=f,this.content="",this.write=function(E){this.content+=E},this.print=function(E){this.content+="".concat(E,"\n")},this.clear=function(){this.content=""},this.close=function(){var E=[];for(var L in E.push(this.content),z.default.prototype.writeFile(E,f,m),z.default.prototype._pWriters)z.default.prototype._pWriters[L].name===this.name&&z.default.prototype._pWriters.splice(L,1);b.clear(),b={}}},z.default.prototype.save=function(f,m,b){var E=arguments,L=this._curElement?this._curElement.elt:this.elt;if(0!==E.length)if(E[0]instanceof z.default.Renderer||E[0]instanceof z.default.Graphics)z.default.prototype.saveCanvas(E[0].elt,E[1],E[2]);else if(1===E.length&&"string"==typeof E[0])z.default.prototype.saveCanvas(L,E[0]);else switch(u(E[1],E[2])[1]){case"json":return void z.default.prototype.saveJSON(E[0],E[1],E[2]);case"txt":return void z.default.prototype.saveStrings(E[0],E[1],E[2]);default:E[0]instanceof Array?z.default.prototype.saveStrings(E[0],E[1],E[2]):E[0]instanceof z.default.Table?z.default.prototype.saveTable(E[0],E[1],E[2]):E[0]instanceof z.default.Image?z.default.prototype.saveCanvas(E[0].canvas,E[1]):E[0]instanceof z.default.SoundFile&&z.default.prototype.saveSound(E[0],E[1],E[2],E[3])}else z.default.prototype.saveCanvas(L)},z.default.prototype.saveJSON=function(f,m,b){var E;z.default._validateParameters("saveJSON",arguments),E=b?JSON.stringify(f):JSON.stringify(f,void 0,2),this.saveStrings(E.split("\n"),m,"json")},z.default.prototype.saveJSONObject=z.default.prototype.saveJSON,z.default.prototype.saveJSONArray=z.default.prototype.saveJSON,z.default.prototype.saveStrings=function(f,m,b,E){z.default._validateParameters("saveStrings",arguments);for(var A=this.createWriter(m,b||"txt"),R=0;R<f.length;R++)A.write(E?f[R]+"\r\n":f[R]+"\n");A.close(),A.clear()},z.default.prototype.saveTable=function(f,m,b){var E;z.default._validateParameters("saveTable",arguments),E=void 0===b?m.substring(m.lastIndexOf(".")+1,m.length):b;var L=this.createWriter(m,E),A=f.columns,R=",";if("tsv"===E&&(R="\t"),"html"!==E){if("0"!==A[0]){for(var V=0;V<A.length;V++)L.write(V<A.length-1?A[V]+R:A[V]);L.write("\n")}for(var U=0;U<f.rows.length;U++){var Z=void 0;for(Z=0;Z<f.rows[U].arr.length;Z++)Z<f.rows[U].arr.length-1?"csv"===E&&String(f.rows[U].arr[Z]).includes(",")?L.write('"'+f.rows[U].arr[Z]+'"'+R):L.write(f.rows[U].arr[Z]+R):"csv"===E&&String(f.rows[U].arr[Z]).includes(",")?L.write('"'+f.rows[U].arr[Z]+'"'):L.write(f.rows[U].arr[Z]);L.write("\n")}}else{if(L.print("<html>"),L.print("<head>"),L.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),L.print("</head>"),L.print("<body>"),L.print("  <table>"),"0"!==A[0]){L.print("    <tr>");for(var Q=0;Q<A.length;Q++){var Y=g(A[Q]);L.print("      <td>".concat(Y)),L.print("      </td>")}L.print("    </tr>")}for(var K=0;K<f.rows.length;K++){L.print("    <tr>");for(var te=0;te<f.columns.length;te++){var q=g(f.rows[K].getString(te));L.print("      <td>".concat(q)),L.print("      </td>")}L.print("    </tr>")}L.print("  </table>"),L.print("</body>"),L.print("</html>")}L.close(),L.clear()},z.default.prototype.writeFile=function(f,m,b){var E="application/octet-stream";z.default.prototype._isSafari()&&(E="text/plain");var L=new Blob(f,{type:E});z.default.prototype.downloadFile(L,m,b)},z.default.prototype.downloadFile=function(f,m,b){var E=u(m,b),L=E[0];if(f instanceof Blob)x.default.saveAs(f,L);else{var A=document.createElement("a");if(A.href=f,A.download=L,A.onclick=function(V){document.body.removeChild(V.target),V.stopPropagation()},A.style.display="none",document.body.appendChild(A),z.default.prototype._isSafari()){var R="Hello, Safari user! To download this file...\n";R+="1. Go to File --\x3e Save As.\n",R+='2. Choose "Page Source" as the Format.\n',R+='3. Name it with this extension: ."'.concat(E[1],'"'),alert(R)}A.click()}},z.default.prototype._checkFileExtension=u,z.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},H.default=z.default},{"../core/friendly_errors/fes_core":252,"../core/friendly_errors/file_errors":253,"../core/friendly_errors/validate_params":255,"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.last-index-of":158,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.splice":162,"core-js/modules/es.function.name":163,"core-js/modules/es.object.to-string":174,"core-js/modules/es.promise":175,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.includes":182,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.split":188,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint8-array":223,"core-js/modules/web.dom-collections.iterator":226,"core-js/modules/web.url":228,"es6-promise/auto":229,"fetch-jsonp":231,"file-saver":232,"whatwg-fetch":239}],287:[function(d,ee,H){"use strict";d("core-js/modules/es.array.concat"),d("core-js/modules/es.array.index-of"),d("core-js/modules/es.array.join"),d("core-js/modules/es.array.splice"),d("core-js/modules/es.regexp.constructor"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.string.match"),d("core-js/modules/es.string.replace"),d("core-js/modules/es.string.trim"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};v.default.Table=function(C){this.columns=[],this.rows=[]},v.default.Table.prototype.addRow=function(C){var M=C||new v.default.TableRow;if(void 0===M.arr||void 0===M.obj)throw new Error("invalid TableRow: ".concat(M));return(M.table=this).rows.push(M),M},v.default.Table.prototype.removeRow=function(C){this.rows[C].table=null;var M=this.rows.splice(C+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(M)},v.default.Table.prototype.getRow=function(C){return this.rows[C]},v.default.Table.prototype.getRows=function(){return this.rows},v.default.Table.prototype.findRow=function(C,M){if("string"==typeof M){for(var w=0;w<this.rows.length;w++)if(this.rows[w].obj[M]===C)return this.rows[w]}else for(var g=0;g<this.rows.length;g++)if(this.rows[g].arr[M]===C)return this.rows[g];return null},v.default.Table.prototype.findRows=function(C,M){var w=[];if("string"==typeof M)for(var g=0;g<this.rows.length;g++)this.rows[g].obj[M]===C&&w.push(this.rows[g]);else for(var u=0;u<this.rows.length;u++)this.rows[u].arr[M]===C&&w.push(this.rows[u]);return w},v.default.Table.prototype.matchRow=function(C,M){if("number"==typeof M){for(var w=0;w<this.rows.length;w++)if(this.rows[w].arr[M].match(C))return this.rows[w]}else for(var g=0;g<this.rows.length;g++)if(this.rows[g].obj[M].match(C))return this.rows[g];return null},v.default.Table.prototype.matchRows=function(C,M){var w=[];if("number"==typeof M)for(var g=0;g<this.rows.length;g++)this.rows[g].arr[M].match(C)&&w.push(this.rows[g]);else for(var u=0;u<this.rows.length;u++)this.rows[u].obj[M].match(C)&&w.push(this.rows[u]);return w},v.default.Table.prototype.getColumn=function(C){var M=[];if("string"==typeof C)for(var w=0;w<this.rows.length;w++)M.push(this.rows[w].obj[C]);else for(var g=0;g<this.rows.length;g++)M.push(this.rows[g].arr[C]);return M},v.default.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},v.default.Table.prototype.addColumn=function(C){this.columns.push(C||null)},v.default.Table.prototype.getColumnCount=function(){return this.columns.length},v.default.Table.prototype.getRowCount=function(){return this.rows.length},v.default.Table.prototype.removeTokens=function(C,M){for(var w=[],g=0;g<C.length;g++)w.push(C.charAt(g).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var u=new RegExp(w.join("|"),"g");if(void 0===M)for(var h=0;h<this.columns.length;h++)for(var f=0;f<this.rows.length;f++){var m=this.rows[f].arr[h];m=m.replace(u,""),this.rows[f].arr[h]=m,this.rows[f].obj[this.columns[h]]=m}else if("string"==typeof M)for(var b=0;b<this.rows.length;b++){var E=this.rows[b].obj[M];E=E.replace(u,""),this.rows[b].obj[M]=E;var L=this.columns.indexOf(M);this.rows[b].arr[L]=E}else for(var A=0;A<this.rows.length;A++){var R=this.rows[A].arr[M];R=R.replace(u,""),this.rows[A].arr[M]=R,this.rows[A].obj[this.columns[M]]=R}},v.default.Table.prototype.trim=function(C){var M=new RegExp(" ","g");if(void 0===C)for(var w=0;w<this.columns.length;w++)for(var g=0;g<this.rows.length;g++){var u=this.rows[g].arr[w];u=u.replace(M,""),this.rows[g].arr[w]=u,this.rows[g].obj[this.columns[w]]=u}else if("string"==typeof C)for(var h=0;h<this.rows.length;h++){var f=this.rows[h].obj[C];f=f.replace(M,""),this.rows[h].obj[C]=f;var m=this.columns.indexOf(C);this.rows[h].arr[m]=f}else for(var b=0;b<this.rows.length;b++){var E=this.rows[b].arr[C];E=E.replace(M,""),this.rows[b].arr[C]=E,this.rows[b].obj[this.columns[C]]=E}},v.default.Table.prototype.removeColumn=function(C){var M,w;"string"==typeof C?(M=C,w=this.columns.indexOf(C)):(w=C,M=this.columns[C]);var g=this.columns.splice(w+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(g);for(var u=0;u<this.rows.length;u++){var h=this.rows[u].arr,f=h.splice(w+1,h.length);h.pop(),this.rows[u].arr=h.concat(f),delete this.rows[u].obj[M]}},v.default.Table.prototype.set=function(C,M,w){this.rows[C].set(M,w)},v.default.Table.prototype.setNum=function(C,M,w){this.rows[C].setNum(M,w)},v.default.Table.prototype.setString=function(C,M,w){this.rows[C].setString(M,w)},v.default.Table.prototype.get=function(C,M){return this.rows[C].get(M)},v.default.Table.prototype.getNum=function(C,M){return this.rows[C].getNum(M)},v.default.Table.prototype.getString=function(C,M){return this.rows[C].getString(M)},v.default.Table.prototype.getObject=function(C){for(var M,w={},g=0;g<this.rows.length;g++)if(M=this.rows[g].obj,"string"==typeof C){if(!(0<=this.columns.indexOf(C)))throw new Error('This table has no column named "'.concat(C,'"'));w[M[C]]=M}else w[g]=this.rows[g].obj;return w},v.default.Table.prototype.getArray=function(){for(var C=[],M=0;M<this.rows.length;M++)C.push(this.rows[M].arr);return C},H.default=v.default},{"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.join":157,"core-js/modules/es.array.splice":162,"core-js/modules/es.regexp.constructor":177,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.match":184,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.trim":190}],288:[function(d,ee,H){"use strict";d("core-js/modules/es.array.index-of"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.string.split"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};v.default.TableRow=function(C,M){var w=[],g={};C&&(w=C.split(M=M||","));for(var u=0;u<w.length;u++)g[u]=w[u];this.arr=w,this.obj=g,this.table=null},v.default.TableRow.prototype.set=function(C,M){if("string"==typeof C){var w=this.table.columns.indexOf(C);if(!(0<=w))throw new Error('This table has no column named "'.concat(C,'"'));this.obj[C]=M,this.arr[w]=M}else{if(!(C<this.table.columns.length))throw new Error("Column #".concat(C," is out of the range of this table"));this.arr[C]=M,this.obj[this.table.columns[C]]=M}},v.default.TableRow.prototype.setNum=function(C,M){var w=parseFloat(M);this.set(C,w)},v.default.TableRow.prototype.setString=function(C,M){var w=M.toString();this.set(C,w)},v.default.TableRow.prototype.get=function(C){return"string"==typeof C?this.obj[C]:this.arr[C]},v.default.TableRow.prototype.getNum=function(C){var M;if("NaN"===(M=parseFloat("string"==typeof C?this.obj[C]:this.arr[C])).toString())throw"Error: ".concat(this.obj[C]," is NaN (Not a Number)");return M},v.default.TableRow.prototype.getString=function(C){return"string"==typeof C?this.obj[C].toString():this.arr[C].toString()},H.default=v.default},{"../core/main":260,"core-js/modules/es.array.index-of":155,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.split":188}],289:[function(d,ee,H){"use strict";d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.number.constructor"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.string.iterator"),d("core-js/modules/es.string.replace"),d("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};v.default.XML=function(M){if(M)this.DOM=M;else{var w=document.implementation.createDocument(null,"doc");this.DOM=w.createElement("root")}},v.default.XML.prototype.getParent=function(){return new v.default.XML(this.DOM.parentElement)},v.default.XML.prototype.getName=function(){return this.DOM.tagName},v.default.XML.prototype.setName=function(M){var w=this.DOM.innerHTML,g=this.DOM.attributes,u=document.implementation.createDocument(null,"default").createElement(M);u.innerHTML=w;for(var h=0;h<g.length;h++)u.setAttribute(g[h].nodeName,g.nodeValue);this.DOM=u},v.default.XML.prototype.hasChildren=function(){return 0<this.DOM.children.length},v.default.XML.prototype.listChildren=function(){for(var M=[],w=0;w<this.DOM.childNodes.length;w++)M.push(this.DOM.childNodes[w].nodeName);return M},v.default.XML.prototype.getChildren=function(M){return function(M){for(var w=[],g=0;g<M.length;g++)w.push(new v.default.XML(M[g]));return w}(M?this.DOM.getElementsByTagName(M):this.DOM.children)},v.default.XML.prototype.getChild=function(M){if("string"!=typeof M)return new v.default.XML(this.DOM.children[M]);var w=!0,g=!1,u=void 0;try{for(var h,f=this.DOM.children[Symbol.iterator]();!(w=(h=f.next()).done);w=!0){var m=h.value;if(m.tagName===M)return new v.default.XML(m)}}catch(b){g=!0,u=b}finally{try{w||null==f.return||f.return()}finally{if(g)throw u}}},v.default.XML.prototype.addChild=function(M){M instanceof v.default.XML&&this.DOM.appendChild(M.DOM)},v.default.XML.prototype.removeChild=function(M){var w=-1;if("string"==typeof M){for(var g=0;g<this.DOM.children.length;g++)if(this.DOM.children[g].tagName===M){w=g;break}}else w=M;-1!==w&&this.DOM.removeChild(this.DOM.children[w])},v.default.XML.prototype.getAttributeCount=function(){return this.DOM.attributes.length},v.default.XML.prototype.listAttributes=function(){var M=[],w=!0,g=!1,u=void 0;try{for(var h,f=this.DOM.attributes[Symbol.iterator]();!(w=(h=f.next()).done);w=!0)M.push(h.value.nodeName)}catch(b){g=!0,u=b}finally{try{w||null==f.return||f.return()}finally{if(g)throw u}}return M},v.default.XML.prototype.hasAttribute=function(M){var w={},g=!0,u=!1,h=void 0;try{for(var f,m=this.DOM.attributes[Symbol.iterator]();!(g=(f=m.next()).done);g=!0){var b=f.value;w[b.nodeName]=b.nodeValue}}catch(E){u=!0,h=E}finally{try{g||null==m.return||m.return()}finally{if(u)throw h}}return!!w[M]},v.default.XML.prototype.getNum=function(M,w){var g={},u=!0,h=!1,f=void 0;try{for(var m,b=this.DOM.attributes[Symbol.iterator]();!(u=(m=b.next()).done);u=!0){var E=m.value;g[E.nodeName]=E.nodeValue}}catch(L){h=!0,f=L}finally{try{u||null==b.return||b.return()}finally{if(h)throw f}}return Number(g[M])||w||0},v.default.XML.prototype.getString=function(M,w){var g={},u=!0,h=!1,f=void 0;try{for(var m,b=this.DOM.attributes[Symbol.iterator]();!(u=(m=b.next()).done);u=!0){var E=m.value;g[E.nodeName]=E.nodeValue}}catch(L){h=!0,f=L}finally{try{u||null==b.return||b.return()}finally{if(h)throw f}}return g[M]?String(g[M]):w||null},v.default.XML.prototype.setAttribute=function(M,w){this.DOM.setAttribute(M,w)},v.default.XML.prototype.getContent=function(M){return this.DOM.textContent.replace(/\s\s+/g,",")||M||null},v.default.XML.prototype.setContent=function(M){this.DOM.children.length||(this.DOM.textContent=M)},v.default.XML.prototype.serialize=function(){return(new XMLSerializer).serializeToString(this.DOM)},H.default=v.default},{"../core/main":260,"core-js/modules/es.array.iterator":156,"core-js/modules/es.number.constructor":167,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.replace":186,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],290:[function(d,ee,H){"use strict";d("core-js/modules/es.array.includes"),d("core-js/modules/es.array.index-of"),d("core-js/modules/es.array.map"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.math.hypot"),d("core-js/modules/es.number.constructor"),d("core-js/modules/es.string.includes"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};function x(){if("function"==typeof Math.hypot)return Math.hypot.apply(null,arguments);for(var M=arguments.length,w=[],g=0,u=0;u<M;u++){var h=arguments[u];if((h=+h)==1/0||h===-1/0)return 1/0;g<(h=Math.abs(h))&&(g=h),w[u]=h}0===g&&(g=1);for(var f=0,m=0,b=0;b<M;b++){var E=w[b]/g,L=E*E-m,A=f+L;m=A-f-L,f=A}return Math.sqrt(f)*g}v.default.prototype.abs=Math.abs,v.default.prototype.ceil=Math.ceil,v.default.prototype.constrain=function(M,w,g){return v.default._validateParameters("constrain",arguments),Math.max(Math.min(M,g),w)},v.default.prototype.dist=function(){for(var M=arguments.length,w=new Array(M),g=0;g<M;g++)w[g]=arguments[g];return v.default._validateParameters("dist",w),4===w.length?x(w[2]-w[0],w[3]-w[1]):6===w.length?x(w[3]-w[0],w[4]-w[1],w[5]-w[2]):void 0},v.default.prototype.exp=Math.exp,v.default.prototype.floor=Math.floor,v.default.prototype.lerp=function(M,w,g){return v.default._validateParameters("lerp",arguments),g*(w-M)+M},v.default.prototype.log=Math.log,v.default.prototype.mag=function(M,w){return v.default._validateParameters("mag",arguments),x(M,w)},v.default.prototype.map=function(M,w,g,u,h,f){v.default._validateParameters("map",arguments);var m=(M-w)/(g-w)*(h-u)+u;return f?u<h?this.constrain(m,u,h):this.constrain(m,h,u):m},v.default.prototype.max=function(){for(var M=arguments.length,w=new Array(M),g=0;g<M;g++)w[g]=arguments[g];return w[0]instanceof Array?Math.max.apply(null,w[0]):Math.max.apply(null,w)},v.default.prototype.min=function(){for(var M=arguments.length,w=new Array(M),g=0;g<M;g++)w[g]=arguments[g];return w[0]instanceof Array?Math.min.apply(null,w[0]):Math.min.apply(null,w)},v.default.prototype.norm=function(M,w,g){return v.default._validateParameters("norm",arguments),this.map(M,w,g,0,1)},v.default.prototype.pow=Math.pow,v.default.prototype.round=function(M,w){return w?Number(Math.round(M+"e"+w)+"e-"+w):Math.round(M)},v.default.prototype.sq=function(M){return M*M},v.default.prototype.sqrt=Math.sqrt,v.default.prototype.fract=function(M){v.default._validateParameters("fract",arguments);var w=0,g=Number(M);if(isNaN(g)||Math.abs(g)===1/0)return g;if(g<0&&(g=-g,w=1),!String(g).includes(".")||String(g).includes("e"))return g<1?Math.abs(w-g):0;var u=String(g);return u=Number("0"+u.slice(u.indexOf("."))),Math.abs(w-u)},H.default=v.default},{"../core/main":260,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.math.hypot":165,"core-js/modules/es.number.constructor":167,"core-js/modules/es.string.includes":182}],291:[function(d,ee,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};v.default.prototype.createVector=function(C,M,w){return this instanceof v.default?new v.default.Vector(this,arguments):new v.default.Vector(C,M,w)},H.default=v.default},{"../core/main":260}],292:[function(d,ee,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};function x(h){return.5*(1-Math.cos(h*Math.PI))}var C,M=4095,w=4,g=.5;v.default.prototype.noise=function(h){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,m=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==C){C=new Array(4096);for(var b=0;b<4096;b++)C[b]=Math.random()}h<0&&(h=-h),f<0&&(f=-f),m<0&&(m=-m);for(var E,L,A,R,V,U=Math.floor(h),Z=Math.floor(f),Q=Math.floor(m),Y=h-U,K=f-Z,te=m-Q,q=0,oe=.5,ie=0;ie<w;ie++){var ye=U+(Z<<4)+(Q<<8);E=x(Y),L=x(K),A=C[ye&M],A+=E*(C[ye+1&M]-A),R=C[ye+16&M],A+=L*((R+=E*(C[ye+16+1&M]-R))-A),R=C[(ye+=256)&M],R+=E*(C[ye+1&M]-R),V=C[ye+16&M],R+=L*((V+=E*(C[ye+16+1&M]-V))-R),q+=(A+=x(te)*(R-A))*oe,oe*=g,U<<=1,Z<<=1,Q<<=1,1<=(Y*=2)&&(U++,Y--),1<=(K*=2)&&(Z++,K--),1<=(te*=2)&&(Q++,te--)}return q},v.default.prototype.noiseDetail=function(h,f){0<h&&(w=h),0<f&&(g=f)},v.default.prototype.noiseSeed=function(h){var f,m,b,E=(b=4294967296,{setSeed:function(A){m=f=(null==A?Math.random()*b:A)>>>0},getSeed:function(){return f},rand:function(){return(m=(1664525*m+1013904223)%b)/b}});E.setSeed(h),C=new Array(4096);for(var L=0;L<4096;L++)C[L]=E.rand()},H.default=v.default},{"../core/main":260}],293:[function(d,ee,H){"use strict";function z(h){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}d("core-js/modules/es.array.concat"),d("core-js/modules/es.array.every"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.array.some"),d("core-js/modules/es.math.sign"),d("core-js/modules/es.number.constructor"),d("core-js/modules/es.number.is-finite"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.string.sub"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v,x=(v=d("../core/main"))&&v.__esModule?v:{default:v},C=function(h){if(h&&h.__esModule)return h;if(null===h||"object"!==z(h)&&"function"!=typeof h)return{default:h};var f=M();if(f&&f.has(h))return f.get(h);var m={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in h)if(Object.prototype.hasOwnProperty.call(h,E)){var L=b?Object.getOwnPropertyDescriptor(h,E):null;L&&(L.get||L.set)?Object.defineProperty(m,E,L):m[E]=h[E]}return m.default=h,f&&f.set(h,m),m}(d("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var h=new WeakMap;return M=function(){return h},h}function w(h,f){return 0!==h&&(this.x=this.x%h),0!==f&&(this.y=this.y%f),this}function g(h,f,m){return 0!==h&&(this.x=this.x%h),0!==f&&(this.y=this.y%f),0!==m&&(this.z=this.z%m),this}x.default.Vector=function(h,f,m){var b,E,L;L=h instanceof x.default?(this.p5=h,b=f[0]||0,E=f[1]||0,f[2]||0):(b=h||0,E=f||0,m||0),this.x=b,this.y=E,this.z=L},x.default.Vector.prototype.toString=function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")},x.default.Vector.prototype.set=function(h,f,m){return h instanceof x.default.Vector?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0):h instanceof Array?(this.x=h[0]||0,this.y=h[1]||0,this.z=h[2]||0):(this.x=h||0,this.y=f||0,this.z=m||0),this},x.default.Vector.prototype.copy=function(){return this.p5?new x.default.Vector(this.p5,[this.x,this.y,this.z]):new x.default.Vector(this.x,this.y,this.z)},x.default.Vector.prototype.add=function(h,f,m){return h instanceof x.default.Vector?(this.x+=h.x||0,this.y+=h.y||0,this.z+=h.z||0):h instanceof Array?(this.x+=h[0]||0,this.y+=h[1]||0,this.z+=h[2]||0):(this.x+=h||0,this.y+=f||0,this.z+=m||0),this},x.default.Vector.prototype.rem=function(h,f,m){if(h instanceof x.default.Vector){if(Number.isFinite(h.x)&&Number.isFinite(h.y)&&Number.isFinite(h.z)){var b=parseFloat(h.x),E=parseFloat(h.y),L=parseFloat(h.z);g.call(this,b,E,L)}}else if(h instanceof Array)h.every(function(V){return Number.isFinite(V)})&&(2===h.length&&w.call(this,h[0],h[1]),3===h.length&&g.call(this,h[0],h[1],h[2]));else if(1===arguments.length){if(Number.isFinite(h)&&0!==h)return this.x=this.x%h,this.y=this.y%h,this.z=this.z%h,this}else if(2===arguments.length){var A=Array.prototype.slice.call(arguments);A.every(function(V){return Number.isFinite(V)})&&2===A.length&&w.call(this,A[0],A[1])}else if(3===arguments.length){var R=Array.prototype.slice.call(arguments);R.every(function(V){return Number.isFinite(V)})&&3===R.length&&g.call(this,R[0],R[1],R[2])}},x.default.Vector.prototype.sub=function(h,f,m){return h instanceof x.default.Vector?(this.x-=h.x||0,this.y-=h.y||0,this.z-=h.z||0):h instanceof Array?(this.x-=h[0]||0,this.y-=h[1]||0,this.z-=h[2]||0):(this.x-=h||0,this.y-=f||0,this.z-=m||0),this},x.default.Vector.prototype.mult=function(h,f,m){if(h instanceof x.default.Vector)return Number.isFinite(h.x)&&Number.isFinite(h.y)&&Number.isFinite(h.z)&&"number"==typeof h.x&&"number"==typeof h.y&&"number"==typeof h.z?(this.x*=h.x,this.y*=h.y,this.z*=h.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"),this;if(h instanceof Array)return h.every(function(E){return Number.isFinite(E)})&&h.every(function(E){return"number"==typeof E})?1===h.length?(this.x*=h[0],this.y*=h[0],this.z*=h[0]):2===h.length?(this.x*=h[0],this.y*=h[1]):3===h.length&&(this.x*=h[0],this.y*=h[1],this.z*=h[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"),this;var b=Array.prototype.slice.call(arguments);return b.every(function(E){return Number.isFinite(E)})&&b.every(function(E){return"number"==typeof E})?(1===arguments.length&&(this.x*=h,this.y*=h,this.z*=h),2===arguments.length&&(this.x*=h,this.y*=f),3===arguments.length&&(this.x*=h,this.y*=f,this.z*=m)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this},x.default.Vector.prototype.div=function(h,f,m){if(h instanceof x.default.Vector){if(Number.isFinite(h.x)&&Number.isFinite(h.y)&&Number.isFinite(h.z)&&"number"==typeof h.x&&"number"==typeof h.y&&"number"==typeof h.z){if(0===h.x||0===h.y||0===h.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=h.x,this.y/=h.y,this.z/=h.z}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}if(h instanceof Array){if(h.every(function(E){return Number.isFinite(E)})&&h.every(function(E){return"number"==typeof E})){if(h.some(function(E){return 0===E}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===h.length?(this.x/=h[0],this.y/=h[0],this.z/=h[0]):2===h.length?(this.x/=h[0],this.y/=h[1]):3===h.length&&(this.x/=h[0],this.y/=h[1],this.z/=h[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}var b=Array.prototype.slice.call(arguments);if(b.every(function(E){return Number.isFinite(E)})&&b.every(function(E){return"number"==typeof E})){if(b.some(function(E){return 0===E}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===arguments.length&&(this.x/=h,this.y/=h,this.z/=h),2===arguments.length&&(this.x/=h,this.y/=f),3===arguments.length&&(this.x/=h,this.y/=f,this.z/=m)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this},x.default.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},x.default.Vector.prototype.magSq=function(){var h=this.x,f=this.y,m=this.z;return h*h+f*f+m*m},x.default.Vector.prototype.dot=function(h,f,m){return h instanceof x.default.Vector?this.dot(h.x,h.y,h.z):this.x*(h||0)+this.y*(f||0)+this.z*(m||0)},x.default.Vector.prototype.cross=function(h){var f=this.y*h.z-this.z*h.y,m=this.z*h.x-this.x*h.z,b=this.x*h.y-this.y*h.x;return this.p5?new x.default.Vector(this.p5,[f,m,b]):new x.default.Vector(f,m,b)},x.default.Vector.prototype.dist=function(h){return h.copy().sub(this).mag()},x.default.Vector.prototype.normalize=function(){var h=this.mag();return 0!==h&&this.mult(1/h),this},x.default.Vector.prototype.limit=function(h){var f=this.magSq();return h*h<f&&this.div(Math.sqrt(f)).mult(h),this},x.default.Vector.prototype.setMag=function(h){return this.normalize().mult(h)},x.default.Vector.prototype.heading=function(){var h=Math.atan2(this.y,this.x);return this.p5?this.p5._fromRadians(h):h},x.default.Vector.prototype.setHeading=function(h){var f=this.mag();return this.x=f*Math.cos(h),this.y=f*Math.sin(h),this},x.default.Vector.prototype.rotate=function(h){var f=this.heading()+h;this.p5&&(f=this.p5._toRadians(f));var m=this.mag();return this.x=Math.cos(f)*m,this.y=Math.sin(f)*m,this},x.default.Vector.prototype.angleBetween=function(h){var f,m=this.dot(h)/(this.mag()*h.mag());return f=Math.acos(Math.min(1,Math.max(-1,m))),f*=Math.sign(this.cross(h).z||1),this.p5&&(f=this.p5._fromRadians(f)),f},x.default.Vector.prototype.lerp=function(h,f,m,b){return h instanceof x.default.Vector?this.lerp(h.x,h.y,h.z,f):(this.x+=(h-this.x)*b||0,this.y+=(f-this.y)*b||0,this.z+=(m-this.z)*b||0,this)},x.default.Vector.prototype.reflect=function(h){return h.normalize(),this.sub(h.mult(2*this.dot(h)))},x.default.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},x.default.Vector.prototype.equals=function(h,f,m){var b,E,L;return L=h instanceof x.default.Vector?(b=h.x||0,E=h.y||0,h.z||0):h instanceof Array?(b=h[0]||0,E=h[1]||0,h[2]||0):(b=h||0,E=f||0,m||0),this.x===b&&this.y===E&&this.z===L},x.default.Vector.fromAngle=function(h,f){return void 0===f&&(f=1),new x.default.Vector(f*Math.cos(h),f*Math.sin(h),0)},x.default.Vector.fromAngles=function(h,f,m){void 0===m&&(m=1);var b=Math.cos(f),E=Math.sin(f),L=Math.cos(h),A=Math.sin(h);return new x.default.Vector(m*A*E,-m*L,m*A*b)},x.default.Vector.random2D=function(){return this.fromAngle(Math.random()*C.TWO_PI)},x.default.Vector.random3D=function(){var h=Math.random()*C.TWO_PI,f=2*Math.random()-1,m=Math.sqrt(1-f*f),b=m*Math.cos(h),E=m*Math.sin(h);return new x.default.Vector(b,E,f)},x.default.Vector.add=function(h,f,m){return m?m.set(h):(m=h.copy(),3===arguments.length&&x.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),m.add(f),m},x.default.Vector.rem=function(h,f){if(h instanceof x.default.Vector&&f instanceof x.default.Vector){var m=h.copy();return m.rem(f),m}},x.default.Vector.sub=function(h,f,m){return m?m.set(h):(m=h.copy(),3===arguments.length&&x.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),m.sub(f),m},x.default.Vector.mult=function(h,f,m){return m?m.set(h):(m=h.copy(),3===arguments.length&&x.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),m.mult(f),m},x.default.Vector.rotate=function(h,f,m){return 2===arguments.length?m=h.copy():(m instanceof x.default.Vector||x.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),m.set(h)),m.rotate(f),m},x.default.Vector.div=function(h,f,m){return m?m.set(h):(m=h.copy(),3===arguments.length&&x.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),m.div(f),m},x.default.Vector.dot=function(h,f){return h.dot(f)},x.default.Vector.cross=function(h,f){return h.cross(f)},x.default.Vector.dist=function(h,f){return h.dist(f)},x.default.Vector.lerp=function(h,f,m,b){return b?b.set(h):(b=h.copy(),4===arguments.length&&x.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),b.lerp(f,m),b},x.default.Vector.mag=function(h){var f=h.x,m=h.y,b=h.z;return Math.sqrt(f*f+m*m+b*b)},x.default.Vector.normalize=function(h,f){return arguments.length<2?f=h.copy():(f instanceof x.default.Vector||x.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),f.set(h)),f.normalize()},H.default=x.default.Vector},{"../core/constants":250,"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.every":149,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.some":161,"core-js/modules/es.math.sign":166,"core-js/modules/es.number.constructor":167,"core-js/modules/es.number.is-finite":168,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.sub":189}],294:[function(d,ee,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z},x="_lcg_random_state",C=4294967296,M=0;v.default.prototype._lcg=function(g){return this[g]=(1664525*this[g]+1013904223)%C,this[g]/C},v.default.prototype._lcgSetSeed=function(g,u){this[g]=(null==u?Math.random()*C:u)>>>0},v.default.prototype.randomSeed=function(g){this._lcgSetSeed(x,g),this._gaussian_previous=!1},v.default.prototype.random=function(g,u){var h;if(v.default._validateParameters("random",arguments),h=null!=this[x]?this._lcg(x):Math.random(),void 0===g)return h;if(void 0===u)return g instanceof Array?g[Math.floor(h*g.length)]:h*g;if(u<g){var f=g;g=u,u=f}return h*(u-g)+g},v.default.prototype.randomGaussian=function(g){var u,h,f,m,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(this._gaussian_previous)u=M,this._gaussian_previous=!1;else{for(;1<=(m=(h=this.random(2)-1)*h+(f=this.random(2)-1)*f););u=h*(m=Math.sqrt(-2*Math.log(m)/m)),M=f*m,this._gaussian_previous=!0}return u*b+(g||0)},H.default=v.default},{"../core/main":260}],295:[function(d,ee,H){"use strict";function z(g){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(g)}Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v,x=(v=d("../core/main"))&&v.__esModule?v:{default:v},C=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==z(g)&&"function"!=typeof g)return{default:g};var u=M();if(u&&u.has(g))return u.get(g);var h={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in g)if(Object.prototype.hasOwnProperty.call(g,m)){var b=f?Object.getOwnPropertyDescriptor(g,m):null;b&&(b.get||b.set)?Object.defineProperty(h,m,b):h[m]=g[m]}return h.default=g,u&&u.set(g,h),h}(d("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var g=new WeakMap;return M=function(){return g},g}x.default.prototype._angleMode=C.RADIANS,x.default.prototype.acos=function(g){return this._fromRadians(Math.acos(g))},x.default.prototype.asin=function(g){return this._fromRadians(Math.asin(g))},x.default.prototype.atan=function(g){return this._fromRadians(Math.atan(g))},x.default.prototype.atan2=function(g,u){return this._fromRadians(Math.atan2(g,u))},x.default.prototype.cos=function(g){return Math.cos(this._toRadians(g))},x.default.prototype.sin=function(g){return Math.sin(this._toRadians(g))},x.default.prototype.tan=function(g){return Math.tan(this._toRadians(g))},x.default.prototype.degrees=function(g){return g*C.RAD_TO_DEG},x.default.prototype.radians=function(g){return g*C.DEG_TO_RAD},x.default.prototype.angleMode=function(g){g!==C.DEGREES&&g!==C.RADIANS||(this._angleMode=g)},x.default.prototype._toRadians=function(g){return this._angleMode===C.DEGREES?g*C.DEG_TO_RAD:g},x.default.prototype._toDegrees=function(g){return this._angleMode===C.RADIANS?g*C.RAD_TO_DEG:g},x.default.prototype._fromRadians=function(g){return this._angleMode===C.DEGREES?g*C.RAD_TO_DEG:g},H.default=x.default},{"../core/constants":250,"../core/main":260}],296:[function(d,ee,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};v.default.prototype.textAlign=function(C,M){var w;return v.default._validateParameters("textAlign",arguments),(w=this._renderer).textAlign.apply(w,arguments)},v.default.prototype.textLeading=function(C){var M;return v.default._validateParameters("textLeading",arguments),(M=this._renderer).textLeading.apply(M,arguments)},v.default.prototype.textSize=function(C){var M;return v.default._validateParameters("textSize",arguments),(M=this._renderer).textSize.apply(M,arguments)},v.default.prototype.textStyle=function(C){var M;return v.default._validateParameters("textStyle",arguments),(M=this._renderer).textStyle.apply(M,arguments)},v.default.prototype.textWidth=function(){for(var C,M=arguments.length,w=new Array(M),g=0;g<M;g++)w[g]=arguments[g];return w[0]+="",v.default._validateParameters("textWidth",w),0===w[0].length?0:(C=this._renderer).textWidth.apply(C,w)},v.default.prototype.textAscent=function(){for(var C=arguments.length,M=new Array(C),w=0;w<C;w++)M[w]=arguments[w];return v.default._validateParameters("textAscent",M),this._renderer.textAscent()},v.default.prototype.textDescent=function(){for(var C=arguments.length,M=new Array(C),w=0;w<C;w++)M[w]=arguments[w];return v.default._validateParameters("textDescent",M),this._renderer.textDescent()},v.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},H.default=v.default},{"../core/main":260}],297:[function(d,ee,H){"use strict";function z(h){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}d("core-js/modules/es.array.concat"),d("core-js/modules/es.array.includes"),d("core-js/modules/es.array.last-index-of"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.string.split"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v,x=(v=d("../core/main"))&&v.__esModule?v:{default:v},C=g(d("../core/constants")),M=g(d("opentype.js"));function w(){if("function"!=typeof WeakMap)return null;var h=new WeakMap;return w=function(){return h},h}function g(h){if(h&&h.__esModule)return h;if(null===h||"object"!==z(h)&&"function"!=typeof h)return{default:h};var f=w();if(f&&f.has(h))return f.get(h);var m={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in h)if(Object.prototype.hasOwnProperty.call(h,E)){var L=b?Object.getOwnPropertyDescriptor(h,E):null;L&&(L.get||L.set)?Object.defineProperty(m,E,L):m[E]=h[E]}return m.default=h,f&&f.set(h,m),m}d("../core/friendly_errors/validate_params"),d("../core/friendly_errors/file_errors"),d("../core/friendly_errors/fes_core"),x.default.prototype.loadFont=function(h,f,m){x.default._validateParameters("loadFont",arguments);var b=new x.default.Font(this),E=this;return M.load(h,function(L,A){if(L)return x.default._friendlyFileLoadError(4,h),void 0!==m?m(L):void console.error(L,h);b.font=A,void 0!==f&&f(b),E._decrementPreload();var R,V,U=h.split("\\").pop().split("/").pop(),Z=U.lastIndexOf("."),Q=Z<1?null:U.substr(Z+1);["ttf","otf","woff","woff2"].includes(Q)&&(R=U.substr(0,Z),(V=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(R,";\nsrc: url(").concat(h,");\n}\n"))),document.head.appendChild(V))}),b},x.default.prototype.text=function(h,f,m,b,E){var L;return x.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(L=this._renderer).text.apply(L,arguments):this},x.default.prototype.textFont=function(h,f){if(x.default._validateParameters("textFont",arguments),arguments.length){if(!h)throw new Error("null font passed to textFont");return this._renderer._setProperty("_textFont",h),f&&(this._renderer._setProperty("_textSize",f),this._renderer._setProperty("_textLeading",f*C._DEFAULT_LEADMULT)),this._renderer._applyTextProperties()}return this._renderer._textFont},H.default=x.default},{"../core/constants":250,"../core/friendly_errors/fes_core":252,"../core/friendly_errors/file_errors":253,"../core/friendly_errors/validate_params":255,"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.last-index-of":158,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.split":188,"opentype.js":236}],298:[function(d,ee,H){"use strict";d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.concat"),d("core-js/modules/es.array.fill"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.array.join"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.array.splice"),d("core-js/modules/es.function.name"),d("core-js/modules/es.number.to-fixed"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.string.iterator"),d("core-js/modules/es.string.split"),d("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z},x=function(Y){if(Y&&Y.__esModule)return Y;if(null===Y||"object"!==M(Y)&&"function"!=typeof Y)return{default:Y};var K=C();if(K&&K.has(Y))return K.get(Y);var te={},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var oe in Y)if(Object.prototype.hasOwnProperty.call(Y,oe)){var ie=q?Object.getOwnPropertyDescriptor(Y,oe):null;ie&&(ie.get||ie.set)?Object.defineProperty(te,oe,ie):te[oe]=Y[oe]}return te.default=Y,K&&K.set(Y,te),te}(d("../core/constants"));function C(){if("function"!=typeof WeakMap)return null;var Y=new WeakMap;return C=function(){return Y},Y}function M(Y){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(K){return typeof K}:function(K){return K&&"function"==typeof Symbol&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K})(Y)}function w(Y,K){for(var te=function(Ve,_e){if("object"!==M(Ve))Ve=_e;else for(var we in _e)void 0===Ve[we]&&(Ve[we]=_e[we]);return Ve}(K,{sampleFactor:.1,simplifyThreshold:0}),q=E(Y,0,1),oe=q/(q*te.sampleFactor),ie=[],ye=0;ye<q;ye+=oe)ie.push(E(Y,ye));return te.simplifyThreshold&&function(Ve){for(var _e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,Le=Ve.length-1;3<Ve.length&&0<=Le;--Le)f(h(Ve,Le-1),h(Ve,Le),h(Ve,Le+1),_e)&&Ve.splice(Le%Ve.length,1)}(ie,te.simplifyThreshold),ie}function g(Y){for(var K,te=[],q=0;q<Y.length;q++)"M"===Y[q].type&&(K&&te.push(K),K=[]),K.push(u(Y[q]));return te.push(K),te}function u(Y){var K=[Y.type];return"M"===Y.type||"L"===Y.type?K.push(Y.x,Y.y):"C"===Y.type?K.push(Y.x1,Y.y1,Y.x2,Y.y2,Y.x,Y.y):"Q"===Y.type&&K.push(Y.x1,Y.y1,Y.x,Y.y),K}function h(Y,K){var te=Y.length;return Y[K<0?K%te+te:K%te]}function f(Y,K,te,q){if(!q)return((ie=K)[0]-(oe=Y)[0])*((ye=te)[1]-oe[1])-(ye[0]-oe[0])*(ie[1]-oe[1])==0;var oe,ie,ye;void 0===f.tmpPoint1&&(f.tmpPoint1=[],f.tmpPoint2=[]);var Ve=f.tmpPoint1,_e=f.tmpPoint2;Ve.x=K.x-Y.x,Ve.y=K.y-Y.y,_e.x=te.x-K.x,_e.y=te.y-K.y;var we=Ve.x*_e.x+Ve.y*_e.y,Le=Math.sqrt(Ve.x*Ve.x+Ve.y*Ve.y),$e=Math.sqrt(_e.x*_e.x+_e.y*_e.y);return Math.acos(we/(Le*$e))<q}function m(Y,K,te,q,oe,ie,ye,Ve,_e){var we=1-_e,Le=Math.pow(we,3),$e=Math.pow(we,2),qe=_e*_e,We=qe*_e,tt=Le*Y+3*$e*_e*te+3*we*_e*_e*oe+We*ye,Qe=Le*K+3*$e*_e*q+3*we*_e*_e*ie+We*Ve,ut=Y+2*_e*(te-Y)+qe*(oe-2*te+Y),G=K+2*_e*(q-K)+qe*(ie-2*q+K),J=te+2*_e*(oe-te)+qe*(ye-2*oe+te),ue=q+2*_e*(ie-q)+qe*(Ve-2*ie+q),Re=we*Y+_e*te,Ee=we*K+_e*q,Ie=we*oe+_e*ye,Be=we*ie+_e*Ve,ht=90-180*Math.atan2(ut-J,G-ue)/Math.PI;return(J<ut||G<ue)&&(ht+=180),{x:tt,y:Qe,m:{x:ut,y:G},n:{x:J,y:ue},start:{x:Re,y:Ee},end:{x:Ie,y:Be},alpha:ht}}function b(Y,K,te,q,oe,ie,ye,Ve,_e){return null==_e?U(Y,K,te,q,oe,ie,ye,Ve):m(Y,K,te,q,oe,ie,ye,Ve,function(we,Le,$e,qe,We,tt,Qe,ut,G){if(!(G<0||U(we,Le,$e,qe,We,tt,Qe,ut)<G)){var J,ue=.5,Re=1-ue;for(J=U(we,Le,$e,qe,We,tt,Qe,ut,Re);.01<Math.abs(J-G);)J=U(we,Le,$e,qe,We,tt,Qe,ut,Re+=(J<G?1:-1)*(ue/=2));return Re}}(Y,K,te,q,oe,ie,ye,Ve,_e))}function E(Y,K,te){for(var q,oe,ie,ye,Ve,_e=0,we=0,Le=(Y=function($e,qe){function We(mt,ft,$t){var xn,Ct;if(!mt)return["C",ft.x,ft.y,ft.x,ft.y,ft.x,ft.y];switch(mt[0]in{T:1,Q:1}||(ft.qx=ft.qy=null),mt[0]){case"M":ft.X=mt[1],ft.Y=mt[2];break;case"A":mt=["C"].concat(function Sn(Gn,Et,Tt,Jt,Ge,Gt,At,le,fe,ae){var it,pt,It,Ye,dn,pe=Math.PI,Ne=120*pe/180,Xt=pe/180*(+Ge||0),_n=[],ar=function(si,Sr,fn){return{x:si*Math.cos(fn)-Sr*Math.sin(fn),y:si*Math.sin(fn)+Sr*Math.cos(fn)}};if(ae)it=ae[0],pt=ae[1],It=ae[2],Ye=ae[3];else{Et=(dn=ar(Gn,Et,-Xt)).y;var Kt=((Gn=dn.x)-(le=(dn=ar(le,fe,-Xt)).x))/2,er=(Et-(fe=dn.y))/2,Nr=Kt*Kt/(Tt*Tt)+er*er/(Jt*Jt);1<Nr&&(Tt*=Nr=Math.sqrt(Nr),Jt*=Nr);var fr=Tt*Tt,Pn=Jt*Jt,Fa=(Gt===At?-1:1)*Math.sqrt(Math.abs((fr*Pn-fr*er*er-Pn*Kt*Kt)/(fr*er*er+Pn*Kt*Kt)));It=Fa*Tt*er/Jt+(Gn+le)/2,Ye=Fa*-Jt*Kt/Tt+(Et+fe)/2,it=Math.asin(((Et-Ye)/Jt).toFixed(9)),pt=Math.asin(((fe-Ye)/Jt).toFixed(9)),(it=Gn<It?pe-it:it)<0&&(it=2*pe+it),(pt=le<It?pe-pt:pt)<0&&(pt=2*pe+pt),At&&pt<it&&(it-=2*pe),!At&&it<pt&&(pt-=2*pe)}var $s=pt-it;if(Math.abs($s)>Ne){var xs=pt,Gc=le,Na=fe;pt=it+Ne*(At&&it<pt?1:-1),_n=Sn(le=It+Tt*Math.cos(pt),fe=Ye+Jt*Math.sin(pt),Tt,Jt,Ge,0,At,Gc,Na,[pt,xs,It,Ye])}$s=pt-it;var Zn=Math.cos(it),ji=Math.sin(it),Wc=Math.cos(pt),qc=Math.sin(pt),tc=Math.tan($s/4),Xs=4/3*Tt*tc,Fe=4/3*Jt*tc,Ot=[Gn,Et],en=[Gn+Xs*ji,Et-Fe*Zn],Vt=[le+Xs*qc,fe-Fe*Wc],cn=[le,fe];if(en[0]=2*Ot[0]-en[0],en[1]=2*Ot[1]-en[1],ae)return[en,Vt,cn].concat(_n);for(var Dt=[],Vr=0,$r=(_n=[en,Vt,cn].concat(_n).join().split(",")).length;Vr<$r;Vr++)Dt[Vr]=Vr%2?ar(_n[Vr-1],_n[Vr],Xt).y:ar(_n[Vr],_n[Vr+1],Xt).x;return Dt}.apply(0,[ft.x,ft.y].concat(mt.slice(1))));break;case"S":Ct="C"===$t||"S"===$t?(xn=2*ft.x-ft.bx,2*ft.y-ft.by):(xn=ft.x,ft.y),mt=["C",xn,Ct].concat(mt.slice(1));break;case"T":"Q"===$t||"T"===$t?(ft.qx=2*ft.x-ft.qx,ft.qy=2*ft.y-ft.qy):(ft.qx=ft.x,ft.qy=ft.y),mt=["C"].concat(V(ft.x,ft.y,ft.qx,ft.qy,mt[1],mt[2]));break;case"Q":ft.qx=mt[1],ft.qy=mt[2],mt=["C"].concat(V(ft.x,ft.y,mt[1],mt[2],mt[3],mt[4]));break;case"L":mt=["C"].concat(R(ft.x,ft.y,mt[1],mt[2]));break;case"H":mt=["C"].concat(R(ft.x,ft.y,mt[1],ft.y));break;case"V":mt=["C"].concat(R(ft.x,ft.y,ft.x,mt[1]));break;case"Z":mt=["C"].concat(R(ft.x,ft.y,ft.X,ft.Y))}return mt}function tt(mt,ft){if(7<mt[ft].length){mt[ft].shift();for(var $t=mt[ft];$t.length;)Ee[ft]="A",J&&(Ie[ft]="A"),mt.splice(ft++,0,["C"].concat($t.splice(0,6)));mt.splice(ft,1),ut=Math.max(G.length,J&&J.length||0)}}function Qe(mt,ft,$t,xn,Ct){mt&&ft&&"M"===mt[Ct][0]&&"M"!==ft[Ct][0]&&(ft.splice(Ct,0,["M",xn.x,xn.y]),$t.bx=0,$t.by=0,$t.x=mt[Ct][1],$t.y=mt[Ct][2],ut=Math.max(G.length,J&&J.length||0))}var ut,G=L($e),J=undefined,ue={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Re={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ee=[],Ie=[],Be="",ht="";ut=Math.max(G.length,J&&J.length||0);for(var ze=0;ze<ut;ze++){G[ze]&&(Be=G[ze][0]),"C"!==Be&&(Ee[ze]=Be,ze&&(ht=Ee[ze-1])),G[ze]=We(G[ze],ue,ht),"A"!==Ee[ze]&&"C"===Be&&(Ee[ze]="C"),tt(G,ze),J&&(J[ze]&&(Be=J[ze][0]),"C"!==Be&&(Ie[ze]=Be,ze&&(ht=Ie[ze-1])),J[ze]=We(J[ze],Re,ht),"A"!==Ie[ze]&&"C"===Be&&(Ie[ze]="C"),tt(J,ze)),Qe(G,J,ue,Re,ze),Qe(J,G,Re,ue,ze);var Ze=G[ze],Xe=J&&J[ze],Je=Ze.length,ct=J&&Xe.length;ue.x=Ze[Je-2],ue.y=Ze[Je-1],ue.bx=parseFloat(Ze[Je-4])||ue.x,ue.by=parseFloat(Ze[Je-3])||ue.y,Re.bx=J&&(parseFloat(Xe[ct-4])||Re.x),Re.by=J&&(parseFloat(Xe[ct-3])||Re.y),Re.x=J&&Xe[ct-2],Re.y=J&&Xe[ct-1]}return J?[G,J]:G}(Y)).length;we<Le;we++){if("M"===(ie=Y[we])[0])q=+ie[1],oe=+ie[2];else{if(K<_e+(ye=b(q,oe,ie[1],ie[2],ie[3],ie[4],ie[5],ie[6]))&&!te)return{x:(Ve=b(q,oe,ie[1],ie[2],ie[3],ie[4],ie[5],ie[6],K-_e)).x,y:Ve.y,alpha:Ve.alpha};_e+=ye,q=+ie[5],oe=+ie[6]}ie.shift()}return(Ve=te?_e:m(q,oe,ie[0],ie[1],ie[2],ie[3],ie[4],ie[5],1)).alpha&&(Ve={x:Ve.x,y:Ve.y,alpha:Ve.alpha}),Ve}function L(Y){var K,te=[],q=0,oe=0,ie=0,ye=0,Ve=0;if(!Y)return te;"M"===Y[0][0]&&(ie=q=+Y[0][1],ye=oe=+Y[0][2],Ve++,te[0]=["M",q,oe]);for(var _e,we,Le=3===Y.length&&"M"===Y[0][0]&&"R"===Y[1][0].toUpperCase()&&"Z"===Y[2][0].toUpperCase(),$e=Ve,qe=Y.length;$e<qe;$e++){if(te.push(_e=[]),(we=Y[$e])[0]!==String.prototype.toUpperCase.call(we[0]))switch(_e[0]=String.prototype.toUpperCase.call(we[0]),_e[0]){case"A":_e[1]=we[1],_e[2]=we[2],_e[3]=we[3],_e[4]=we[4],_e[5]=we[5],_e[6]=+(we[6]+q),_e[7]=+(we[7]+oe);break;case"V":_e[1]=+we[1]+oe;break;case"H":_e[1]=+we[1]+q;break;case"R":for(var We=2,tt=(K=[q,oe].concat(we.slice(1))).length;We<tt;We++)K[We]=+K[We]+q,K[++We]=+K[We]+oe;te.pop(),te=te.concat(A(K,Le));break;case"M":ie=+we[1]+q,ye=+we[2]+oe;break;default:for(var Qe=1,ut=we.length;Qe<ut;Qe++)_e[Qe]=+we[Qe]+(Qe%2?q:oe)}else if("R"===we[0])K=[q,oe].concat(we.slice(1)),te.pop(),te=te.concat(A(K,Le)),_e=["R"].concat(we.slice(-2));else for(var G=0,J=we.length;G<J;G++)_e[G]=we[G];switch(_e[0]){case"Z":q=ie,oe=ye;break;case"H":q=_e[1];break;case"V":oe=_e[1];break;case"M":ie=_e[_e.length-2],ye=_e[_e.length-1];break;default:q=_e[_e.length-2],oe=_e[_e.length-1]}}return te}function A(Y,K){for(var te=[],q=0,oe=Y.length;q<oe-2*!K;q+=2){var ie=[{x:+Y[q-2],y:+Y[q-1]},{x:+Y[q],y:+Y[q+1]},{x:+Y[q+2],y:+Y[q+3]},{x:+Y[q+4],y:+Y[q+5]}];K?q?oe-4===q?ie[3]={x:+Y[0],y:+Y[1]}:oe-2===q&&(ie[2]={x:+Y[0],y:+Y[1]},ie[3]={x:+Y[2],y:+Y[3]}):ie[0]={x:+Y[oe-2],y:+Y[oe-1]}:oe-4===q?ie[3]=ie[2]:q||(ie[0]={x:+Y[q],y:+Y[q+1]}),te.push(["C",(6*ie[1].x-ie[0].x+ie[2].x)/6,(6*ie[1].y-ie[0].y+ie[2].y)/6,(ie[1].x+6*ie[2].x-ie[3].x)/6,(ie[1].y+6*ie[2].y-ie[3].y)/6,ie[2].x,ie[2].y])}return te}function R(Y,K,te,q){return[Y,K,te,q,te,q]}function V(Y,K,te,q,oe,ie){return[1/3*Y+2/3*te,1/3*K+2/3*q,1/3*oe+2/3*te,1/3*ie+2/3*q,oe,ie]}function U(Y,K,te,q,oe,ie,ye,Ve,_e){null==_e&&(_e=1);for(var we=(_e=1<_e?1:_e<0?0:_e)/2,Le=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],$e=0,qe=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],We=0;We<12;We++){var tt=we*Le[We]+we,Qe=Z(tt,Y,te,oe,ye),ut=Z(tt,K,q,ie,Ve);$e+=qe[We]*Math.sqrt(Qe*Qe+ut*ut)}return we*$e}function Z(Y,K,te,q,oe){return Y*(Y*(-3*K+9*te-9*q+3*oe)+6*K-12*te+6*q)-3*K+3*te}v.default.Font=function(Y){this.parent=Y,this.cache={},this.font=void 0},v.default.Font.prototype.textBounds=function(Y){var K,te=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,q=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,oe=3<arguments.length?arguments[3]:void 0,ie=4<arguments.length?arguments[4]:void 0,ye=ie&&ie.renderer&&ie.renderer._pInst||this.parent;if(oe=oe||ye._renderer._textSize,!K){var _e,we,Le=[],$e=[],qe=[];qe[0]=[];var We=[],tt=this._scale(oe),Qe=ye._renderer.textLeading(),ut=0;this.font.forEachGlyph(Y,te,q,oe,ie,function(Ee,Ie,Be,ht){var ze=Ee.getMetrics();0===Ee.index||10===Ee.index?qe[ut+=1]=[]:(qe[ut].push(Ie+ze.xMin*tt),qe[ut].push(Ie+ze.xMax*tt),We.push(Be+ut*Qe+-ze.yMin*tt),We.push(Be+ut*Qe+-ze.yMax*tt))}),0<qe[ut].length&&(Le[ut]=Math.min.apply(null,qe[ut]),$e[ut]=Math.max.apply(null,qe[ut]));for(var G=0,J=0;J<=ut;J++){Le[J]=Math.min.apply(null,qe[J]),$e[J]=Math.max.apply(null,qe[J]);var ue=$e[J]-Le[J];G<ue&&(G=ue)}var Re=Math.min.apply(null,Le);K={x:Re,y:_e=Math.min.apply(null,We),h:Math.max.apply(null,We)-_e,w:G,advance:Re-te},we=this._handleAlignment(ye._renderer,Y,K.x,K.y,K.w+K.advance),K.x=we.x,K.y=we.y}return K},v.default.Font.prototype.textToPoints=function(Y,K,te,q,oe){var ie,ye=0,Ve=[],_e=this._getGlyphs(Y);q=q||this.parent._renderer._textSize;for(var we=0;we<_e.length;we++){if(!(_e[ie=we].name&&"space"===_e[ie].name||Y.length===_e.length&&" "===Y[ie]||_e[ie].index&&3===_e[ie].index))for(var Le=g(_e[we].getPath(K,te,q).commands),$e=0;$e<Le.length;$e++)for(var qe=w(Le[$e],oe),We=0;We<qe.length;We++)qe[We].x+=ye,Ve.push(qe[We]);ye+=_e[we].advanceWidth*this._scale(q)}return Ve},v.default.Font.prototype._getGlyphs=function(Y){return this.font.stringToGlyphs(Y)},v.default.Font.prototype._getPath=function(Y,K,te,q){var oe=(q&&q.renderer&&q.renderer._pInst||this.parent)._renderer,ie=this._handleAlignment(oe,Y,K,te);return this.font.getPath(Y,ie.x,ie.y,oe._textSize,q)},v.default.Font.prototype._getPathData=function(Y,K,te,q){var oe=3;return"string"==typeof Y&&2<arguments.length?Y=this._getPath(Y,K,te,q):"object"===M(K)&&(q=K),q&&"number"==typeof q.decimals&&(oe=q.decimals),Y.toPathData(oe)},v.default.Font.prototype._getSVG=function(Y,K,te,q){var oe=3;return"string"==typeof Y&&2<arguments.length?Y=this._getPath(Y,K,te,q):"object"===M(K)&&(q=K),q&&("number"==typeof q.decimals&&(oe=q.decimals),"number"==typeof q.strokeWidth&&(Y.strokeWidth=q.strokeWidth),void 0!==q.fill&&(Y.fill=q.fill),void 0!==q.stroke&&(Y.stroke=q.stroke)),Y.toSVG(oe)},v.default.Font.prototype._renderPath=function(Y,K,te,q){var oe,ie=q&&q.renderer||this.parent._renderer,ye=ie.drawingContext;oe="object"===M(Y)&&Y.commands?Y.commands:this._getPath(Y,K,te,q).commands,ye.beginPath();var Ve=!0,_e=!1,we=void 0;try{for(var Le,$e=oe[Symbol.iterator]();!(Ve=(Le=$e.next()).done);Ve=!0){var qe=Le.value;"M"===qe.type?ye.moveTo(qe.x,qe.y):"L"===qe.type?ye.lineTo(qe.x,qe.y):"C"===qe.type?ye.bezierCurveTo(qe.x1,qe.y1,qe.x2,qe.y2,qe.x,qe.y):"Q"===qe.type?ye.quadraticCurveTo(qe.x1,qe.y1,qe.x,qe.y):"Z"===qe.type&&ye.closePath()}}catch(We){_e=!0,we=We}finally{try{Ve||null==$e.return||$e.return()}finally{if(_e)throw we}}return ie._doStroke&&ie._strokeSet&&ye.stroke(),ie._doFill&&(ie._fillSet||ie._setFill(x._DEFAULT_TEXT_FILL),ye.fill()),this},v.default.Font.prototype._textWidth=function(Y,K){return this.font.getAdvanceWidth(Y,K)},v.default.Font.prototype._textAscent=function(Y){return this.font.ascender*this._scale(Y)},v.default.Font.prototype._textDescent=function(Y){return-this.font.descender*this._scale(Y)},v.default.Font.prototype._scale=function(Y){return 1/this.font.unitsPerEm*(Y||this.parent._renderer._textSize)},v.default.Font.prototype._handleAlignment=function(Y,K,te,q,oe){var ie=Y._textSize;switch(void 0===oe&&(oe=this._textWidth(K,ie)),Y._textAlign){case x.CENTER:te-=oe/2;break;case x.RIGHT:te-=oe}switch(Y._textBaseline){case x.TOP:q+=this._textAscent(ie);break;case x.CENTER:q+=this._textAscent(ie)/2;break;case x.BOTTOM:q-=this._textDescent(ie)}return{x:te,y:q}},H.default=v.default},{"../core/constants":250,"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.fill":150,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.join":157,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.splice":162,"core-js/modules/es.function.name":163,"core-js/modules/es.number.to-fixed":169,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.split":188,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],299:[function(d,ee,H){"use strict";d("core-js/modules/es.array.concat"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.array.splice"),d("core-js/modules/es.array-buffer.constructor"),d("core-js/modules/es.object.to-string"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};v.default.prototype.append=function(C,M){return C.push(M),C},v.default.prototype.arrayCopy=function(C,M,w,g,u){var h,f;C=void 0!==u?(f=Math.min(u,C.length),h=g,C.slice(M,f+M)):(f=void 0!==w?(f=w,Math.min(f,C.length)):C.length,h=0,w=M,C.slice(0,f)),Array.prototype.splice.apply(w,[h,f].concat(C))},v.default.prototype.concat=function(C,M){return C.concat(M)},v.default.prototype.reverse=function(C){return C.reverse()},v.default.prototype.shorten=function(C){return C.pop(),C},v.default.prototype.shuffle=function(C,M){for(var w,g,u=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(C),h=(C=M||u?C:C.slice()).length;1<h;)w=this.random(0,1)*h|0,g=C[--h],C[h]=C[w],C[w]=g;return C},v.default.prototype.sort=function(C,M){var w=M?C.slice(0,Math.min(M,C.length)):C,g=M?C.slice(Math.min(M,C.length)):[];return(w="string"==typeof w[0]?w.sort():w.sort(function(u,h){return u-h})).concat(g)},v.default.prototype.splice=function(C,M,w){return Array.prototype.splice.apply(C,[w,0].concat(M)),C},v.default.prototype.subset=function(C,M,w){return C.slice(M,void 0!==w?M+w:C.length)},H.default=v.default},{"../core/main":260,"core-js/modules/es.array-buffer.constructor":147,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.splice":162,"core-js/modules/es.object.to-string":174}],300:[function(d,ee,H){"use strict";d("core-js/modules/es.array.map"),d("core-js/modules/es.number.constructor"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.string.repeat"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};v.default.prototype.float=function(C){return C instanceof Array?C.map(parseFloat):parseFloat(C)},v.default.prototype.int=function(C){var M=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return C===1/0||"Infinity"===C?1/0:C===-1/0||"-Infinity"===C?-1/0:"string"==typeof C?parseInt(C,M):"number"==typeof C?0|C:"boolean"==typeof C?C?1:0:C instanceof Array?C.map(function(w){return v.default.prototype.int(w,M)}):void 0},v.default.prototype.str=function(C){return C instanceof Array?C.map(v.default.prototype.str):String(C)},v.default.prototype.boolean=function(C){return"number"==typeof C?0!==C:"string"==typeof C?"true"===C.toLowerCase():"boolean"==typeof C?C:C instanceof Array?C.map(v.default.prototype.boolean):void 0},v.default.prototype.byte=function(C){var M=v.default.prototype.int(C,10);return"number"==typeof M?(M+128)%256-128:M instanceof Array?M.map(v.default.prototype.byte):void 0},v.default.prototype.char=function(C){return"number"!=typeof C||isNaN(C)?C instanceof Array?C.map(v.default.prototype.char):"string"==typeof C?v.default.prototype.char(parseInt(C,10)):void 0:String.fromCharCode(C)},v.default.prototype.unchar=function(C){return"string"==typeof C&&1===C.length?C.charCodeAt(0):C instanceof Array?C.map(v.default.prototype.unchar):void 0},v.default.prototype.hex=function(C,M){if(M=null==M?M=8:M,C instanceof Array)return C.map(function(g){return v.default.prototype.hex(g,M)});if(C===1/0||C===-1/0)return(C===1/0?"F":"0").repeat(M);if("number"==typeof C){C<0&&(C=4294967295+C+1);for(var w=Number(C).toString(16).toUpperCase();w.length<M;)w="0".concat(w);return w.length>=M&&(w=w.substring(w.length-M,w.length)),w}},v.default.prototype.unhex=function(C){return C instanceof Array?C.map(v.default.prototype.unhex):parseInt("0x".concat(C),16)},H.default=v.default},{"../core/main":260,"core-js/modules/es.array.map":159,"core-js/modules/es.number.constructor":167,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.repeat":185}],301:[function(d,ee,H){"use strict";d("core-js/modules/es.array.filter"),d("core-js/modules/es.array.index-of"),d("core-js/modules/es.array.join"),d("core-js/modules/es.array.map"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.constructor"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.string.match"),d("core-js/modules/es.string.replace"),d("core-js/modules/es.string.split"),d("core-js/modules/es.string.trim"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};function x(u,h,f){var m=u<0,b=m?u.toString().substring(1):u.toString(),E=b.indexOf("."),L=-1!==E?b.substring(0,E):b,A=-1!==E?b.substring(E+1):"",R=m?"-":"";if(void 0!==f){var V="";(-1!==E||0<f-A.length)&&(V="."),A.length>f&&(A=A.substring(0,f));for(var U=0;U<h-L.length;U++)R+="0";R+=L,R+=V,R+=A;for(var Z=0;Z<f-A.length;Z++)R+="0";return R}for(var Q=0;Q<Math.max(h-L.length,0);Q++)R+="0";return R+b}function C(u,h){var f=(u=u.toString()).indexOf("."),m=-1!==f?u.substring(f):"",b=-1!==f?u.substring(0,f):u;if(b=b.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===h)m="";else if(void 0!==h)if(h>m.length)for(var E=h-(m+=-1===f?".":"").length+1,L=0;L<E;L++)m+="0";else m=m.substring(0,h+1);return b+m}function M(u){return 0<parseFloat(u)?"+".concat(u.toString()):u.toString()}function w(u){return 0<=parseFloat(u)?" ".concat(u.toString()):u.toString()}d("../core/friendly_errors/validate_params"),d("../core/friendly_errors/file_errors"),d("../core/friendly_errors/fes_core"),v.default.prototype.join=function(u,h){return v.default._validateParameters("join",arguments),u.join(h)},v.default.prototype.match=function(u,h){return v.default._validateParameters("match",arguments),u.match(h)},v.default.prototype.matchAll=function(u,h){v.default._validateParameters("matchAll",arguments);for(var f=new RegExp(h,"g"),m=f.exec(u),b=[];null!==m;)b.push(m),m=f.exec(u);return b},v.default.prototype.nf=function(u,h,f){return v.default._validateParameters("nf",arguments),u instanceof Array?u.map(function(m){return x(m,h,f)}):"[object Arguments]"===Object.prototype.toString.call(u)?3===u.length?this.nf(u[0],u[1],u[2]):2===u.length?this.nf(u[0],u[1]):this.nf(u[0]):x(u,h,f)},v.default.prototype.nfc=function(u,h){return v.default._validateParameters("nfc",arguments),u instanceof Array?u.map(function(f){return C(f,h)}):C(u,h)},v.default.prototype.nfp=function(){for(var u=arguments.length,h=new Array(u),f=0;f<u;f++)h[f]=arguments[f];v.default._validateParameters("nfp",h);var m=v.default.prototype.nf.apply(this,h);return m instanceof Array?m.map(M):M(m)},v.default.prototype.nfs=function(){for(var u=arguments.length,h=new Array(u),f=0;f<u;f++)h[f]=arguments[f];v.default._validateParameters("nfs",h);var m=v.default.prototype.nf.apply(this,h);return m instanceof Array?m.map(w):w(m)},v.default.prototype.split=function(u,h){return v.default._validateParameters("split",arguments),u.split(h)},v.default.prototype.splitTokens=function(u,h){var f;if(v.default._validateParameters("splitTokens",arguments),void 0!==h){var m=h,b=/\]/g.exec(m),E=/\[/g.exec(m);f=E&&b?(m=m.slice(0,b.index)+m.slice(b.index+1),E=/\[/g.exec(m),m=m.slice(0,E.index)+m.slice(E.index+1),new RegExp("[\\[".concat(m,"\\]]"),"g")):b?(m=m.slice(0,b.index)+m.slice(b.index+1),new RegExp("[".concat(m,"\\]]"),"g")):E?(m=m.slice(0,E.index)+m.slice(E.index+1),new RegExp("[".concat(m,"\\[]"),"g")):new RegExp("[".concat(m,"]"),"g")}else f=/\s/g;return u.split(f).filter(function(L){return L})},v.default.prototype.trim=function(u){return v.default._validateParameters("trim",arguments),u instanceof Array?u.map(this.trim):u.trim()},H.default=v.default},{"../core/friendly_errors/fes_core":252,"../core/friendly_errors/file_errors":253,"../core/friendly_errors/validate_params":255,"../core/main":260,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.join":157,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.constructor":177,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.match":184,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.split":188,"core-js/modules/es.string.trim":190}],302:[function(d,ee,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};v.default.prototype.day=function(){return(new Date).getDate()},v.default.prototype.hour=function(){return(new Date).getHours()},v.default.prototype.minute=function(){return(new Date).getMinutes()},v.default.prototype.millis=function(){return-1===this._millisStart?0:window.performance.now()-this._millisStart},v.default.prototype.month=function(){return(new Date).getMonth()+1},v.default.prototype.second=function(){return(new Date).getSeconds()},v.default.prototype.year=function(){return(new Date).getFullYear()},H.default=v.default},{"../core/main":260}],303:[function(d,ee,H){"use strict";function z(u){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(u)}d("core-js/modules/es.array.concat"),d("core-js/modules/es.number.to-fixed"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v,x=(v=d("../core/main"))&&v.__esModule?v:{default:v};d("./p5.Geometry");var C=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==z(u)&&"function"!=typeof u)return{default:u};var h=M();if(h&&h.has(u))return h.get(u);var f={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in u)if(Object.prototype.hasOwnProperty.call(u,b)){var E=m?Object.getOwnPropertyDescriptor(u,b):null;E&&(E.get||E.set)?Object.defineProperty(f,b,E):f[b]=u[b]}return f.default=u,h&&h.set(u,f),f}(d("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var u=new WeakMap;return M=function(){return u},u}function w(u,h,f,m,b,E,L){u=u<=0?1:u,h=h<0?0:h,f=f<=0?u:f,m=m<3?3:m;var A,R,V,U=(E=void 0===E||E)?-2:0,Z=(b=b<1?1:b)+((L=void 0===L?0!==h:L)?2:0),Q=Math.atan2(u-h,f),Y=Math.sin(Q),K=Math.cos(Q);for(A=U;A<=Z;++A){var te=A/b,q=f*te,oe=void 0;for(oe=A<0?(te=q=0,u):b<A?(q=f,te=1,h):u+(h-u)*te,-2!==A&&A!==b+2||(oe=0),q-=f/2,R=0;R<m;++R){var ie=R/(m-1),ye=2*Math.PI*ie,Ve=Math.sin(ye),_e=Math.cos(ye);this.vertices.push(new x.default.Vector(Ve*oe,q,_e*oe));var we;we=A<0?new x.default.Vector(0,-1,0):b<A&&h?new x.default.Vector(0,1,0):new x.default.Vector(Ve*K,Y,_e*K),this.vertexNormals.push(we),this.uvs.push(ie,te)}}var Le=0;if(E){for(V=0;V<m;++V)this.faces.push([Le+V,Le+m+(V+1)%m,Le+m+V]);Le+=2*m}for(A=0;A<b;++A){for(R=0;R<m;++R){var qe=(R+1)%m;this.faces.push([Le+R,Le+qe,Le+m+qe]),this.faces.push([Le+R,Le+m+qe,Le+m+R])}Le+=m}if(L)for(Le+=m,R=0;R<m;++R)this.faces.push([Le+R,Le+(R+1)%m,Le+m])}x.default.prototype.plane=function(u,h,f,m){this._assert3d("plane"),x.default._validateParameters("plane",arguments),void 0===u&&(u=50),void 0===h&&(h=u),void 0===f&&(f=1),void 0===m&&(m=1);var b="plane|".concat(f,"|").concat(m);if(!this._renderer.geometryInHash(b)){var E=new x.default.Geometry(f,m,function(){for(var L,A,R,V=0;V<=this.detailY;V++){A=V/this.detailY;for(var U=0;U<=this.detailX;U++)R=new x.default.Vector((L=U/this.detailX)-.5,A-.5,0),this.vertices.push(R),this.uvs.push(L,A)}});E.computeFaces().computeNormals(),f<=1&&m<=1?E._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(b,E)}return this._renderer.drawBuffersScaled(b,u,h,1),this},x.default.prototype.box=function(u,h,f,m,b){this._assert3d("box"),x.default._validateParameters("box",arguments),void 0===u&&(u=50),void 0===h&&(h=u),void 0===f&&(f=h);var E=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;void 0===m&&(m=E?1:4),void 0===b&&(b=E?1:4);var L="box|".concat(m,"|").concat(b);if(!this._renderer.geometryInHash(L)){var A=new x.default.Geometry(m,b,function(){var R=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var V=0;V<R.length;V++){for(var U=R[V],Z=4*V,Q=0;Q<4;Q++){var Y=U[Q],K=new x.default.Vector((2*(1&Y)-1)/2,((2&Y)-1)/2,((4&Y)/2-1)/2);this.vertices.push(K),this.uvs.push(1&Q,(2&Q)/2)}this.faces.push([Z,1+Z,2+Z]),this.faces.push([2+Z,1+Z,3+Z])}});A.computeNormals(),m<=4&&b<=4?A._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(L,A)}return this._renderer.drawBuffersScaled(L,u,h,f),this},x.default.prototype.sphere=function(u,h,f){return this._assert3d("sphere"),x.default._validateParameters("sphere",arguments),void 0===u&&(u=50),void 0===h&&(h=24),void 0===f&&(f=16),this.ellipsoid(u,u,u,h,f),this},x.default.prototype.cylinder=function(u,h,f,m,b,E){this._assert3d("cylinder"),x.default._validateParameters("cylinder",arguments),void 0===u&&(u=50),void 0===h&&(h=u),void 0===f&&(f=24),void 0===m&&(m=1),void 0===E&&(E=!0),void 0===b&&(b=!0);var L="cylinder|".concat(f,"|").concat(m,"|").concat(b,"|").concat(E);if(!this._renderer.geometryInHash(L)){var A=new x.default.Geometry(f,m);w.call(A,1,1,1,f,m,b,E),f<=24&&m<=16?A._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(L,A)}return this._renderer.drawBuffersScaled(L,u,h,u),this},x.default.prototype.cone=function(u,h,f,m,b){this._assert3d("cone"),x.default._validateParameters("cone",arguments),void 0===u&&(u=50),void 0===h&&(h=u),void 0===f&&(f=24),void 0===m&&(m=1),void 0===b&&(b=!0);var E="cone|".concat(f,"|").concat(m,"|").concat(b);if(!this._renderer.geometryInHash(E)){var L=new x.default.Geometry(f,m);w.call(L,1,0,1,f,m,b,!1),f<=24&&m<=16?L._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(E,L)}return this._renderer.drawBuffersScaled(E,u,h,u),this},x.default.prototype.ellipsoid=function(u,h,f,m,b){this._assert3d("ellipsoid"),x.default._validateParameters("ellipsoid",arguments),void 0===u&&(u=50),void 0===h&&(h=u),void 0===f&&(f=u),void 0===m&&(m=24),void 0===b&&(b=16);var E="ellipsoid|".concat(m,"|").concat(b);if(!this._renderer.geometryInHash(E)){var L=new x.default.Geometry(m,b,function(){for(var A=0;A<=this.detailY;A++)for(var R=A/this.detailY,V=Math.PI*R-Math.PI/2,U=Math.cos(V),Z=Math.sin(V),Q=0;Q<=this.detailX;Q++){var Y=Q/this.detailX,K=2*Math.PI*Y,te=Math.cos(K),q=Math.sin(K),oe=new x.default.Vector(U*q,Z,U*te);this.vertices.push(oe),this.vertexNormals.push(oe),this.uvs.push(Y,R)}});L.computeFaces(),m<=24&&b<=24?L._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(E,L)}return this._renderer.drawBuffersScaled(E,u,h,f),this},x.default.prototype.torus=function(u,h,f,m){if(this._assert3d("torus"),x.default._validateParameters("torus",arguments),void 0===u)u=50;else if(!u)return;if(void 0===h)h=10;else if(!h)return;void 0===f&&(f=24),void 0===m&&(m=16);var b=(h/u).toPrecision(4),E="torus|".concat(b,"|").concat(f,"|").concat(m);if(!this._renderer.geometryInHash(E)){var L=new x.default.Geometry(f,m,function(){for(var A=0;A<=this.detailY;A++)for(var R=A/this.detailY,V=2*Math.PI*R,U=Math.cos(V),Z=Math.sin(V),Q=1+b*U,Y=0;Y<=this.detailX;Y++){var K=Y/this.detailX,te=2*Math.PI*K,q=Math.cos(te),oe=Math.sin(te),ie=new x.default.Vector(Q*q,Q*oe,b*Z),ye=new x.default.Vector(U*q,U*oe,Z);this.vertices.push(ie),this.vertexNormals.push(ye),this.uvs.push(K,R)}});L.computeFaces(),f<=24&&m<=16?L._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(E,L)}return this._renderer.drawBuffersScaled(E,u,u,u),this},x.default.RendererGL.prototype.point=function(u,h,f){void 0===f&&(f=0);var m=[];return m.push(new x.default.Vector(u,h,f)),this._drawPoints(m,this.immediateMode.buffers.point),this},x.default.RendererGL.prototype.triangle=function(u){var h=u[0],f=u[1],m=u[2],b=u[3],E=u[4],L=u[5];if(!this.geometryInHash("tri")){var A=new x.default.Geometry(1,1,function(){var U=[];U.push(new x.default.Vector(0,0,0)),U.push(new x.default.Vector(0,1,0)),U.push(new x.default.Vector(1,0,0)),this.strokeIndices=[[0,1],[1,2],[2,0]],this.vertices=U,this.faces=[[0,1,2]],this.uvs=[0,0,0,1,1,1]});A._makeTriangleEdges()._edgesToVertices(),A.computeNormals(),this.createBuffers("tri",A)}var R=this.uMVMatrix.copy();try{var V=new x.default.Matrix([m-h,b-f,0,0,E-h,L-f,0,0,0,0,1,0,h,f,0,1]).mult(this.uMVMatrix);this.uMVMatrix=V,this.drawBuffers("tri")}finally{this.uMVMatrix=R}return this},x.default.RendererGL.prototype.ellipse=function(u){this.arc(u[0],u[1],u[2],u[3],0,C.TWO_PI,C.OPEN,u[4])},x.default.RendererGL.prototype.arc=function(u){var h,f,m=u,b=arguments[1],E=arguments[2],L=arguments[3],A=arguments[4],R=arguments[5],V=arguments[6],U=arguments[7]||25;if(f=Math.abs(R-A)>=C.TWO_PI?"".concat(h="ellipse","|").concat(U,"|"):"".concat(h="arc","|").concat(A,"|").concat(R,"|").concat(V,"|").concat(U,"|"),!this.geometryInHash(f)){var Z=new x.default.Geometry(U,1,function(){if(this.strokeIndices=[],A.toFixed(10)!==R.toFixed(10)){V!==C.PIE&&void 0!==V||(this.vertices.push(new x.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var Y=0;Y<=U;Y++){var K=Y/U*(R-A)+A,te=.5+Math.cos(K)/2,q=.5+Math.sin(K)/2;this.vertices.push(new x.default.Vector(te,q,0)),this.uvs.push([te,q]),Y<U-1&&(this.faces.push([0,Y+1,Y+2]),this.strokeIndices.push([Y+1,Y+2]))}switch(V){case C.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case C.CHORD:this.strokeIndices.push([0,1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case C.OPEN:this.strokeIndices.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1])}}});Z.computeNormals(),U<=50?Z._makeTriangleEdges()._edgesToVertices(Z):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(h," with more than 50 detail")),this.createBuffers(f,Z)}var Q=this.uMVMatrix.copy();try{this.uMVMatrix.translate([m,b,0]),this.uMVMatrix.scale(E,L,1),this.drawBuffers(f)}finally{this.uMVMatrix=Q}return this},x.default.RendererGL.prototype.rect=function(u){var h=this._pInst._glAttributes.perPixelLighting,f=u[0],m=u[1],b=u[2],E=u[3],L=u[4]||(h?1:24),A=u[5]||(h?1:16),R="rect|".concat(L,"|").concat(A);if(!this.geometryInHash(R)){var V=new x.default.Geometry(L,A,function(){for(var Z=0;Z<=this.detailY;Z++)for(var Q=Z/this.detailY,Y=0;Y<=this.detailX;Y++){var K=Y/this.detailX,te=new x.default.Vector(K,Q,0);this.vertices.push(te),this.uvs.push(K,Q)}0<L&&0<A&&(this.strokeIndices=[[0,L],[L,(L+1)*(A+1)-1],[(L+1)*(A+1)-1,(L+1)*A],[(L+1)*A,0]])});V.computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(R,V)}var U=this.uMVMatrix.copy();try{this.uMVMatrix.translate([f,m,0]),this.uMVMatrix.scale(b,E,1),this.drawBuffers(R)}finally{this.uMVMatrix=U}return this},x.default.RendererGL.prototype.quad=function(u,h,f,m,b,E,L,A,R,V,U,Z,Q,Y){void 0===Q&&(Q=2),void 0===Y&&(Y=2);var K="quad|".concat(u,"|").concat(h,"|").concat(f,"|").concat(m,"|").concat(b,"|").concat(E,"|").concat(L,"|").concat(A,"|").concat(R,"|").concat(V,"|").concat(U,"|").concat(Z,"|").concat(Q,"|").concat(Y);if(!this.geometryInHash(K)){var te=new x.default.Geometry(Q,Y,function(){for(var we=1/(this.detailX-1),Le=1/(this.detailY-1),$e=0;$e<this.detailY;$e++)for(var qe=0;qe<this.detailX;qe++){var We=qe*we,tt=$e*Le;this.vertices.push(new x.default.Vector((1-We)*((1-tt)*u+tt*V)+We*((1-tt)*m+tt*L),(1-We)*((1-tt)*h+tt*U)+We*((1-tt)*b+tt*A),(1-We)*((1-tt)*f+tt*Z)+We*((1-tt)*E+tt*R))),this.uvs.push([We,tt])}});te.faces=[];for(var q=0;q<Y-1;q++)for(var oe=0;oe<Q-1;oe++){var ie=oe+q*Q,Ve=oe+1+(q+1)*Q,_e=oe+(q+1)*Q;te.faces.push([ie,oe+1+q*Q,Ve]),te.faces.push([ie,Ve,_e])}te.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(K,te)}return this.drawBuffers(K),this},x.default.RendererGL.prototype.bezier=function(u,h,f,m,b,E,L,A,R,V,U,Z){8===arguments.length&&(U=A,V=L,A=E,L=b,b=m,m=f,f=E=R=Z=0);var Q=this._pInst._bezierDetail||20;this.beginShape();for(var Y=0;Y<=Q;Y++){var K=Math.pow(1-Y/Q,3),te=Y/Q*3*Math.pow(1-Y/Q,2),q=3*Math.pow(Y/Q,2)*(1-Y/Q),oe=Math.pow(Y/Q,3);this.vertex(u*K+m*te+L*q+V*oe,h*K+b*te+A*q+U*oe,f*K+E*te+R*q+Z*oe)}return this.endShape(),this},x.default.RendererGL.prototype.curve=function(u,h,f,m,b,E,L,A,R,V,U,Z){8===arguments.length&&(V=L,U=A,L=b,A=m,b=m=f,f=E=R=Z=0);var Q=this._pInst._curveDetail;this.beginShape();for(var Y=0;Y<=Q;Y++){var K=.5*Math.pow(Y/Q,3),te=.5*Math.pow(Y/Q,2),q=Y/Q*.5;this.vertex(K*(3*m-u-3*L+V)+te*(2*u-5*m+4*L-V)+q*(-u+L)+2*m*.5,K*(3*b-h-3*A+U)+te*(2*h-5*b+4*A-U)+q*(-h+A)+2*b*.5,K*(3*E-f-3*R+Z)+te*(2*f-5*E+4*R-Z)+q*(-f+R)+2*E*.5)}return this.endShape(),this},x.default.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(C.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(C.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},x.default.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var u,b,E=[],L=[],A=[],R=arguments.length;if((u=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var V=1/this._lutBezierDetail,U=0,Z=1,Q=0;U<1;){if(u=parseFloat(U.toFixed(6)),this._lookUpTableBezier[Q]=this._bezierCoefficients(u),Z.toFixed(6)===V.toFixed(6)){u=parseFloat(Z.toFixed(6))+parseFloat(U.toFixed(6)),++Q,this._lookUpTableBezier[Q]=this._bezierCoefficients(u);break}U+=V,Z-=V,++Q}}var Y=this._lookUpTableBezier.length;if(6===R){for(this.isBezier=!0,E=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],L=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],b=0;b<Y;b++)this.vertex(E[0]*this._lookUpTableBezier[b][0]+E[1]*this._lookUpTableBezier[b][1]+E[2]*this._lookUpTableBezier[b][2]+E[3]*this._lookUpTableBezier[b][3],L[0]*this._lookUpTableBezier[b][0]+L[1]*this._lookUpTableBezier[b][1]+L[2]*this._lookUpTableBezier[b][2]+L[3]*this._lookUpTableBezier[b][3]);this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(9===R){for(this.isBezier=!0,E=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],L=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]],A=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],b=0;b<Y;b++)this.vertex(E[0]*this._lookUpTableBezier[b][0]+E[1]*this._lookUpTableBezier[b][1]+E[2]*this._lookUpTableBezier[b][2]+E[3]*this._lookUpTableBezier[b][3],L[0]*this._lookUpTableBezier[b][0]+L[1]*this._lookUpTableBezier[b][1]+L[2]*this._lookUpTableBezier[b][2]+L[3]*this._lookUpTableBezier[b][3],A[0]*this._lookUpTableBezier[b][0]+A[1]*this._lookUpTableBezier[b][1]+A[2]*this._lookUpTableBezier[b][2]+A[3]*this._lookUpTableBezier[b][3]);this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},x.default.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var u,b,E=[],L=[],A=[],R=arguments.length;if((u=0)===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var V=1/this._lutQuadraticDetail,U=0,Z=1,Q=0;U<1;){if(u=parseFloat(U.toFixed(6)),this._lookUpTableQuadratic[Q]=this._quadraticCoefficients(u),Z.toFixed(6)===V.toFixed(6)){u=parseFloat(Z.toFixed(6))+parseFloat(U.toFixed(6)),++Q,this._lookUpTableQuadratic[Q]=this._quadraticCoefficients(u);break}U+=V,Z-=V,++Q}}var Y=this._lookUpTableQuadratic.length;if(4===R){for(this.isQuadratic=!0,E=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],L=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],b=0;b<Y;b++)this.vertex(E[0]*this._lookUpTableQuadratic[b][0]+E[1]*this._lookUpTableQuadratic[b][1]+E[2]*this._lookUpTableQuadratic[b][2],L[0]*this._lookUpTableQuadratic[b][0]+L[1]*this._lookUpTableQuadratic[b][1]+L[2]*this._lookUpTableQuadratic[b][2]);this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(6===R){for(this.isQuadratic=!0,E=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],L=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]],A=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],b=0;b<Y;b++)this.vertex(E[0]*this._lookUpTableQuadratic[b][0]+E[1]*this._lookUpTableQuadratic[b][1]+E[2]*this._lookUpTableQuadratic[b][2],L[0]*this._lookUpTableQuadratic[b][0]+L[1]*this._lookUpTableQuadratic[b][1]+L[2]*this._lookUpTableQuadratic[b][2],A[0]*this._lookUpTableQuadratic[b][0]+A[1]*this._lookUpTableQuadratic[b][1]+A[2]*this._lookUpTableQuadratic[b][2]);this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},x.default.RendererGL.prototype.curveVertex=function(){var u,b,E=[],L=[],A=[],R=arguments.length;if((u=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var V=1/this._lutBezierDetail,U=0,Z=1,Q=0;U<1;){if(u=parseFloat(U.toFixed(6)),this._lookUpTableBezier[Q]=this._bezierCoefficients(u),Z.toFixed(6)===V.toFixed(6)){u=parseFloat(Z.toFixed(6))+parseFloat(U.toFixed(6)),++Q,this._lookUpTableBezier[Q]=this._bezierCoefficients(u);break}U+=V,Z-=V,++Q}}var Y=this._lookUpTableBezier.length;if(2===R){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),8===this.immediateMode._curveVertex.length){for(this.isCurve=!0,E=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),L=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),b=0;b<Y;b++)this.vertex(E[0]*this._lookUpTableBezier[b][0]+E[1]*this._lookUpTableBezier[b][1]+E[2]*this._lookUpTableBezier[b][2]+E[3]*this._lookUpTableBezier[b][3],L[0]*this._lookUpTableBezier[b][0]+L[1]*this._lookUpTableBezier[b][1]+L[2]*this._lookUpTableBezier[b][2]+L[3]*this._lookUpTableBezier[b][3]);for(b=0;b<R;b++)this.immediateMode._curveVertex.shift()}}else if(3===R&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),12===this.immediateMode._curveVertex.length)){for(this.isCurve=!0,E=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),L=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),A=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),b=0;b<Y;b++)this.vertex(E[0]*this._lookUpTableBezier[b][0]+E[1]*this._lookUpTableBezier[b][1]+E[2]*this._lookUpTableBezier[b][2]+E[3]*this._lookUpTableBezier[b][3],L[0]*this._lookUpTableBezier[b][0]+L[1]*this._lookUpTableBezier[b][1]+L[2]*this._lookUpTableBezier[b][2]+L[3]*this._lookUpTableBezier[b][3],A[0]*this._lookUpTableBezier[b][0]+A[1]*this._lookUpTableBezier[b][1]+A[2]*this._lookUpTableBezier[b][2]+A[3]*this._lookUpTableBezier[b][3]);for(b=0;b<R;b++)this.immediateMode._curveVertex.shift()}},x.default.RendererGL.prototype.image=function(u,h,f,m,b,E,L,A,R){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.texture(u),this._pInst.textureMode(C.NORMAL);var V=0;h<=u.width&&(V=h/u.width);var U=1;h+m<=u.width&&(U=(h+m)/u.width);var Z=0;f<=u.height&&(Z=f/u.height);var Q=1;f+b<=u.height&&(Q=(f+b)/u.height),this.beginShape(),this.vertex(E,L,0,V,Z),this.vertex(E+A,L,0,U,Z),this.vertex(E+A,L+R,0,U,Q),this.vertex(E,L+R,0,V,Q),this.endShape(C.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(C.REMOVE)},H.default=x.default},{"../core/constants":250,"../core/main":260,"./p5.Geometry":309,"core-js/modules/es.array.concat":148,"core-js/modules/es.number.to-fixed":169}],304:[function(d,ee,H){"use strict";function z(g){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(g)}d("core-js/modules/es.array.splice"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.to-string"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v,x=(v=d("../core/main"))&&v.__esModule?v:{default:v},C=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==z(g)&&"function"!=typeof g)return{default:g};var u=M();if(u&&u.has(g))return u.get(g);var h={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in g)if(Object.prototype.hasOwnProperty.call(g,m)){var b=f?Object.getOwnPropertyDescriptor(g,m):null;b&&(b.get||b.set)?Object.defineProperty(h,m,b):h[m]=g[m]}return h.default=g,u&&u.set(g,h),h}(d("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var g=new WeakMap;return M=function(){return g},g}x.default.prototype.orbitControl=function(g,u,h){if(this._assert3d("orbitControl"),x.default._validateParameters("orbitControl",arguments),this.mouseX<this.width&&0<this.mouseX&&this.mouseY<this.height&&0<this.mouseY){var f=this._renderer._curCamera;void 0===g&&(g=1),void 0===u&&(u=g),void 0===h&&(h=.5),!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var m=this.height<this.width?this.height:this.width;if(this._mouseWheelDeltaY!==this._pmouseWheelDeltaY&&this._renderer._curCamera._orbit(0,0,0<this._mouseWheelDeltaY?h*m:-h*m),this.mouseIsPressed)if(this.mouseButton===this.LEFT)this._renderer._curCamera._orbit(-g*(this.mouseX-this.pmouseX)/m,u*(this.mouseY-this.pmouseY)/m,0);else if(this.mouseButton===this.RIGHT){var L=f._getLocalAxes(),A=Math.sqrt(L.x[0]*L.x[0]+L.x[2]*L.x[2]);0!==A&&(L.x[0]/=A,L.x[2]/=A);var R=Math.sqrt(L.y[0]*L.y[0]+L.y[2]*L.y[2]);0!==R&&(L.y[0]/=R,L.y[2]/=R);var V=-1*g*(this.mouseX-this.pmouseX),U=-1*u*(this.mouseY-this.pmouseY);f.setPosition(f.eyeX+V*L.x[0]+U*L.z[0],f.eyeY,f.eyeZ+V*L.x[2]+U*L.z[2])}return this}},x.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var g=arguments.length,u=new Array(g),h=0;h<g;h++)u[h]=arguments[h];x.default._validateParameters("debugMode",u);for(var f=this._registeredMethods.post.length-1;0<=f;f--)this._registeredMethods.post[f].toString()!==this._grid().toString()&&this._registeredMethods.post[f].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(f,1);u[0]===C.GRID?this.registerMethod("post",this._grid.call(this,u[1],u[2],u[3],u[4],u[5])):u[0]===C.AXES?this.registerMethod("post",this._axesIcon.call(this,u[1],u[2],u[3],u[4])):(this.registerMethod("post",this._grid.call(this,u[0],u[1],u[2],u[3],u[4])),this.registerMethod("post",this._axesIcon.call(this,u[5],u[6],u[7],u[8])))},x.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var g=this._registeredMethods.post.length-1;0<=g;g--)this._registeredMethods.post[g].toString()!==this._grid().toString()&&this._registeredMethods.post[g].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(g,1)},x.default.prototype._grid=function(g,u,h,f,m){void 0===g&&(g=this.width/2),void 0===u&&(u=Math.round(g/30)<4?4:Math.round(g/30)),void 0===h&&(h=0),void 0===f&&(f=0),void 0===m&&(m=0);var b=g/u,E=g/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var L=0;L<=u;L++)this.beginShape(this.LINES),this.vertex(-E+h,f,L*b-E+m),this.vertex(+E+h,f,L*b-E+m),this.endShape();for(var A=0;A<=u;A++)this.beginShape(this.LINES),this.vertex(A*b-E+h,f,-E+m),this.vertex(A*b-E+h,f,+E+m),this.endShape();this.pop()}},x.default.prototype._axesIcon=function(g,u,h,f){return void 0===g&&(g=40<this.width/20?this.width/20:40),void 0===u&&(u=-this.width/4),void 0===h&&(h=u),void 0===f&&(f=u),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(u,h,f),this.vertex(u+g,h,f),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(u,h,f),this.vertex(u,h+g,f),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(u,h,f),this.vertex(u,h,f+g),this.endShape(),this.pop()}},H.default=x.default},{"../core/constants":250,"../core/main":260,"core-js/modules/es.array.splice":162,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179}],305:[function(d,ee,H){"use strict";function z(g){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(g)}Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v,x=(v=d("../core/main"))&&v.__esModule?v:{default:v},C=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==z(g)&&"function"!=typeof g)return{default:g};var u=M();if(u&&u.has(g))return u.get(g);var h={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in g)if(Object.prototype.hasOwnProperty.call(g,m)){var b=f?Object.getOwnPropertyDescriptor(g,m):null;b&&(b.get||b.set)?Object.defineProperty(h,m,b):h[m]=g[m]}return h.default=g,u&&u.set(g,h),h}(d("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var g=new WeakMap;return M=function(){return g},g}x.default.prototype.ambientLight=function(g,u,h,f){this._assert3d("ambientLight"),x.default._validateParameters("ambientLight",arguments);var m=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(m._array[0],m._array[1],m._array[2]),this._renderer._enableLighting=!0,this},x.default.prototype.specularColor=function(g,u,h){this._assert3d("specularColor"),x.default._validateParameters("specularColor",arguments);var f=this.color.apply(this,arguments);return this._renderer.specularColors=[f._array[0],f._array[1],f._array[2]],this},x.default.prototype.directionalLight=function(g,u,h,f,m,b){var E,L,A,R;this._assert3d("directionalLight"),x.default._validateParameters("directionalLight",arguments),E=g instanceof x.default.Color?g:this.color(g,u,h);var V=arguments[arguments.length-1];R="number"==typeof V?(L=arguments[arguments.length-3],A=arguments[arguments.length-2],arguments[arguments.length-1]):(L=V.x,A=V.y,V.z);var U=Math.sqrt(L*L+A*A+R*R);return this._renderer.directionalLightDirections.push(L/U,A/U,R/U),this._renderer.directionalLightDiffuseColors.push(E._array[0],E._array[1],E._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},x.default.prototype.pointLight=function(g,u,h,f,m,b){var E,L,A,R;this._assert3d("pointLight"),x.default._validateParameters("pointLight",arguments),E=g instanceof x.default.Color?g:this.color(g,u,h);var V=arguments[arguments.length-1];return R="number"==typeof V?(L=arguments[arguments.length-3],A=arguments[arguments.length-2],arguments[arguments.length-1]):(L=V.x,A=V.y,V.z),this._renderer.pointLightPositions.push(L,A,R),this._renderer.pointLightDiffuseColors.push(E._array[0],E._array[1],E._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},x.default.prototype.lights=function(){if(this._assert3d("lights"),this._colorMode===C.RGB)this.ambientLight(128,128,128),this.directionalLight(128,128,128,0,0,-1);else{var g=this._colorMaxes[this._colorMode][2];this.ambientLight(0,0,g),this.directionalLight(0,0,g,0,0,-1)}return this},x.default.prototype.lightFalloff=function(g,u,h){return this._assert3d("lightFalloff"),x.default._validateParameters("lightFalloff",arguments),g<0&&(g=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),u<0&&(u=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),h<0&&(h=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===g&&0===u&&0===h&&(g=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=g,this._renderer.linearAttenuation=u,this._renderer.quadraticAttenuation=h,this},x.default.prototype.spotLight=function(g,u,h,f,m,b,E,L,A,R,V){var U,Z,Q;this._assert3d("spotLight"),x.default._validateParameters("spotLight",arguments);var Y=arguments.length;switch(Y){case 11:case 10:U=this.color(g,u,h),Z=new x.default.Vector(f,m,b),Q=new x.default.Vector(E,L,A);break;case 9:g instanceof x.default.Color?(U=g,Z=new x.default.Vector(u,h,f),Q=new x.default.Vector(m,b,E),R=L,V=A):f instanceof x.default.Vector?(U=this.color(g,u,h),Z=f,Q=new x.default.Vector(m,b,E),R=L,V=A):E instanceof x.default.Vector?(U=this.color(g,u,h),Z=new x.default.Vector(f,m,b),Q=E,R=L,V=A):(U=this.color(g,u,h),Z=new x.default.Vector(f,m,b),Q=new x.default.Vector(E,L,A));break;case 8:Q=g instanceof x.default.Color?(U=g,Z=new x.default.Vector(u,h,f),new x.default.Vector(m,b,E)):f instanceof x.default.Vector?(U=this.color(g,u,h),Z=f,new x.default.Vector(m,b,E)):(U=this.color(g,u,h),Z=new x.default.Vector(f,m,b),E),R=L;break;case 7:g instanceof x.default.Color&&u instanceof x.default.Vector?(U=g,Z=u,Q=new x.default.Vector(h,f,m),R=b,V=E):g instanceof x.default.Color&&m instanceof x.default.Vector?(U=g,Z=new x.default.Vector(u,h,f),Q=m,R=b,V=E):f instanceof x.default.Vector&&m instanceof x.default.Vector?(U=this.color(g,u,h),Z=f,Q=m,R=b,V=E):Q=g instanceof x.default.Color?(U=g,Z=new x.default.Vector(u,h,f),new x.default.Vector(m,b,E)):f instanceof x.default.Vector?(U=this.color(g,u,h),Z=f,new x.default.Vector(m,b,E)):(U=this.color(g,u,h),Z=new x.default.Vector(f,m,b),E);break;case 6:f instanceof x.default.Vector&&m instanceof x.default.Vector?(U=this.color(g,u,h),Z=f,Q=m,R=b):g instanceof x.default.Color&&m instanceof x.default.Vector?(U=g,Z=new x.default.Vector(u,h,f),Q=m,R=b):g instanceof x.default.Color&&u instanceof x.default.Vector&&(U=g,Z=u,Q=new x.default.Vector(h,f,m),R=b);break;case 5:g instanceof x.default.Color&&u instanceof x.default.Vector&&h instanceof x.default.Vector?(U=g,Z=u,Q=h,R=f,V=m):f instanceof x.default.Vector&&m instanceof x.default.Vector?(U=this.color(g,u,h),Z=f,Q=m):g instanceof x.default.Color&&m instanceof x.default.Vector?(U=g,Z=new x.default.Vector(u,h,f),Q=m):g instanceof x.default.Color&&u instanceof x.default.Vector&&(U=g,Z=u,Q=new x.default.Vector(h,f,m));break;case 4:U=g,Z=u,Q=h,R=f;break;case 3:U=g,Z=u,Q=h;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(Y<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(U._array[0],U._array[1],U._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(Z.x,Z.y,Z.z),Q.normalize(),this._renderer.spotLightDirections.push(Q.x,Q.y,Q.z),void 0===R&&(R=Math.PI/3),void 0!==V&&V<1?(V=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===V&&(V=100),R=this._renderer._pInst._toRadians(R),this._renderer.spotLightAngle.push(Math.cos(R)),this._renderer.spotLightConc.push(V),this._renderer._enableLighting=!0,this},x.default.prototype.noLights=function(){return this._assert3d("noLights"),x.default._validateParameters("noLights",arguments),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this},H.default=x.default},{"../core/constants":250,"../core/main":260}],306:[function(d,ee,H){"use strict";d("core-js/modules/es.array.concat"),d("core-js/modules/es.array.index-of"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.array.splice"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.string.match"),d("core-js/modules/es.string.split"),d("core-js/modules/es.string.trim"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};function x(M,w,g){for(var u=0,h=M.length;u<h;u++)if(M[u]!==w.getUint8(g+u,!1))return!1;return!0}d("./p5.Geometry"),v.default.prototype.loadModel=function(M){var w,g,u;v.default._validateParameters("loadModel",arguments);var h=M.slice(-4);"boolean"==typeof arguments[1]?(w=arguments[1],g=arguments[2],u=arguments[3],void 0!==arguments[4]&&(h=arguments[4])):(w=!1,g=arguments[1],u=arguments[2],void 0!==arguments[3]&&(h=arguments[3]));var f=new v.default.Geometry;f.gid="".concat(M,"|").concat(w);var m=this;return h.match(/\.stl$/i)?this.httpDo(M,"GET","arrayBuffer",function(b){(function(E,L){if(function(V){for(var U=new DataView(V),Z=[115,111,108,105,100],Q=0;Q<5;Q++)if(x(Z,U,Q))return!1;return!0}(L))!function(V,U){for(var Z,Q,Y,K,te,q,oe,ie=new DataView(U),ye=ie.getUint32(80,!0),Ve=!1,_e=0;_e<70;_e++)1129270351===ie.getUint32(_e,!1)&&82===ie.getUint8(_e+4)&&61===ie.getUint8(_e+5)&&(Ve=!0,K=[],te=ie.getUint8(_e+6)/255,q=ie.getUint8(_e+7)/255,oe=ie.getUint8(_e+8)/255);for(var we=0;we<ye;we++){var Le=84+50*we,$e=ie.getFloat32(Le,!0),qe=ie.getFloat32(4+Le,!0),We=ie.getFloat32(8+Le,!0);if(Ve){var tt=ie.getUint16(48+Le,!0);Y=0==(32768&tt)?(Z=(31&tt)/31,Q=(tt>>5&31)/31,(tt>>10&31)/31):(Z=te,Q=q,oe)}for(var Qe=new v.default.Vector($e,qe,We),ut=1;ut<=3;ut++){var G=Le+12*ut,J=new v.default.Vector(ie.getFloat32(G,!0),ie.getFloat32(4+G,!0),ie.getFloat32(8+G,!0));V.vertices.push(J),V.vertexNormals.push(Qe),Ve&&K.push(Z,Q,Y)}V.faces.push([3*we,3*we+1,3*we+2]),V.uvs.push([0,0],[0,0],[0,0])}}(E,L);else{var A=new DataView(L);if(!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");!function(V,U){for(var Z,Q,Y="",K=[],te=0;te<U.length;++te){for(var q=U[te].trim(),oe=q.split(" "),ie=0;ie<oe.length;++ie)""===oe[ie]&&oe.splice(ie,1);if(0!==oe.length)switch(Y){case"":if("solid"!==oe[0])return console.error(q),console.error('Invalid state "'.concat(oe[0],'", should be "solid"'));Y="solid";break;case"solid":if("facet"!==oe[0]||"normal"!==oe[1])return console.error(q),console.error('Invalid state "'.concat(oe[0],'", should be "facet normal"'));Z=new v.default.Vector(parseFloat(oe[2]),parseFloat(oe[3]),parseFloat(oe[4])),V.vertexNormals.push(Z,Z,Z),Y="facet normal";break;case"facet normal":if("outer"!==oe[0]||"loop"!==oe[1])return console.error(q),console.error('Invalid state "'.concat(oe[0],'", should be "outer loop"'));Y="vertex";break;case"vertex":if("vertex"===oe[0])Q=new v.default.Vector(parseFloat(oe[1]),parseFloat(oe[2]),parseFloat(oe[3])),V.vertices.push(Q),V.uvs.push([0,0]),K.push(V.vertices.indexOf(Q));else{if("endloop"!==oe[0])return console.error(q),console.error('Invalid state "'.concat(oe[0],'", should be "vertex" or "endloop"'));V.faces.push(K),K=[],Y="endloop"}break;case"endloop":if("endfacet"!==oe[0])return console.error(q),console.error('Invalid state "'.concat(oe[0],'", should be "endfacet"'));Y="endfacet";break;case"endfacet":if("endsolid"!==oe[0]){if("facet"!==oe[0]||"normal"!==oe[1])return console.error(q),console.error('Invalid state "'.concat(oe[0],'", should be "endsolid" or "facet normal"'));Z=new v.default.Vector(parseFloat(oe[2]),parseFloat(oe[3]),parseFloat(oe[4])),V.vertexNormals.push(Z,Z,Z),Y="facet normal"}break;default:console.error('Invalid state "'.concat(Y,'"'))}}}(E,new TextDecoder("utf-8").decode(A).split("\n"))}})(f,b),w&&f.normalize(),m._decrementPreload(),"function"==typeof g&&g(f)},u):h.match(/\.obj$/i)?this.loadStrings(M,function(b){(function(E,L){for(var A={v:[],vt:[],vn:[]},R={},V=0;V<L.length;++V){var U=L[V].trim().split(/\b\s+/);if(0<U.length)if("v"===U[0]||"vn"===U[0]){var Z=new v.default.Vector(parseFloat(U[1]),parseFloat(U[2]),parseFloat(U[3]));A[U[0]].push(Z)}else if("vt"===U[0]){var Q=[parseFloat(U[1]),1-parseFloat(U[2])];A[U[0]].push(Q)}else if("f"===U[0])for(var Y=3;Y<U.length;++Y){for(var K=[],te=[1,Y-1,Y],q=0;q<te.length;++q){var oe=U[te[q]],ie=0;if(void 0!==R[oe])ie=R[oe];else{for(var ye=oe.split("/"),Ve=0;Ve<ye.length;Ve++)ye[Ve]=parseInt(ye[Ve])-1;ie=R[oe]=E.vertices.length,E.vertices.push(A.v[ye[0]].copy()),E.uvs.push(A.vt[ye[1]]?A.vt[ye[1]].slice():[0,0]),A.vn[ye[2]]&&E.vertexNormals.push(A.vn[ye[2]].copy())}K.push(ie)}K[0]!==K[1]&&K[0]!==K[2]&&K[1]!==K[2]&&E.faces.push(K)}}0===E.vertexNormals.length&&E.computeNormals()})(f,b),w&&f.normalize(),m._decrementPreload(),"function"==typeof g&&g(f)},u):(v.default._friendlyFileLoadError(3,M),u?u():console.error("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),f},v.default.prototype.model=function(M){this._assert3d("model"),v.default._validateParameters("model",arguments),0<M.vertices.length&&(this._renderer.geometryInHash(M.gid)||(M._makeTriangleEdges()._edgesToVertices(),this._renderer.createBuffers(M.gid,M)),this._renderer.drawBuffers(M.gid))},H.default=v.default},{"../core/main":260,"./p5.Geometry":309,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.splice":162,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.match":184,"core-js/modules/es.string.split":188,"core-js/modules/es.string.trim":190}],307:[function(d,ee,H){"use strict";function z(g){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(g)}d("core-js/modules/es.array.join"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v,x=(v=d("../core/main"))&&v.__esModule?v:{default:v},C=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==z(g)&&"function"!=typeof g)return{default:g};var u=M();if(u&&u.has(g))return u.get(g);var h={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in g)if(Object.prototype.hasOwnProperty.call(g,m)){var b=f?Object.getOwnPropertyDescriptor(g,m):null;b&&(b.get||b.set)?Object.defineProperty(h,m,b):h[m]=g[m]}return h.default=g,u&&u.set(g,h),h}(d("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var g=new WeakMap;return M=function(){return g},g}d("./p5.Texture"),x.default.prototype.loadShader=function(g,u,h,f){function m(){E._decrementPreload(),h&&h(b)}x.default._validateParameters("loadShader",arguments),f=f||console.error;var b=new x.default.Shader,E=this,L=!1,A=!1;return this.loadStrings(g,function(R){b._vertSrc=R.join("\n"),A=!0,L&&m()},f),this.loadStrings(u,function(R){b._fragSrc=R.join("\n"),L=!0,A&&m()},f),b},x.default.prototype.createShader=function(g,u){return this._assert3d("createShader"),x.default._validateParameters("createShader",arguments),new x.default.Shader(this._renderer,g,u)},x.default.prototype.shader=function(g){return this._assert3d("shader"),x.default._validateParameters("shader",arguments),void 0===g._renderer&&(g._renderer=this._renderer),g.isStrokeShader()?this._renderer.userStrokeShader=g:(this._renderer.userFillShader=g,this._renderer._useNormalMaterial=!1),g.init(),this},x.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},x.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var g=arguments.length,u=new Array(g),h=0;h<g;h++)u[h]=arguments[h];return x.default._validateParameters("normalMaterial",u),this._renderer.drawMode=C.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},x.default.prototype.texture=function(g){return this._assert3d("texture"),x.default._validateParameters("texture",arguments),g.gifProperties&&g._animateGif(this),this._renderer.drawMode=C.TEXTURE,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._tex=g,this._renderer._setProperty("_doFill",!0),this},x.default.prototype.textureMode=function(g){g!==C.IMAGE&&g!==C.NORMAL?console.warn("You tried to set ".concat(g," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=g},x.default.prototype.textureWrap=function(g){var u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:g;this._renderer.textureWrapX=g,this._renderer.textureWrapY=u;for(var h=this._renderer.textures,f=0;f<h.length;f++)h[f].setWrapMode(g,u)},x.default.prototype.ambientMaterial=function(g,u,h){this._assert3d("ambientMaterial"),x.default._validateParameters("ambientMaterial",arguments);var f=x.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=f._array,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},x.default.prototype.emissiveMaterial=function(g,u,h,f){this._assert3d("emissiveMaterial"),x.default._validateParameters("emissiveMaterial",arguments);var m=x.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=m._array,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},x.default.prototype.specularMaterial=function(g,u,h,f){this._assert3d("specularMaterial"),x.default._validateParameters("specularMaterial",arguments);var m=x.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=m._array,this._renderer._useSpecularMaterial=!0,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},x.default.prototype.shininess=function(g){return this._assert3d("shininess"),x.default._validateParameters("shininess",arguments),g<1&&(g=1),this._renderer._useShininess=g,this},x.default.RendererGL.prototype._applyColorBlend=function(g){var u=this.GL,h=this.drawMode===C.TEXTURE||g[g.length-1]<1||this._isErasing;return h!==this._isBlending&&(h||this.curBlendMode!==C.BLEND&&this.curBlendMode!==C.ADD?u.enable(u.BLEND):u.disable(u.BLEND),u.depthMask(!0),this._isBlending=h),this._applyBlendMode(),g},x.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var g=this.GL;switch(this.curBlendMode){case C.BLEND:case C.ADD:g.blendEquation(g.FUNC_ADD),g.blendFunc(g.SRC_ALPHA,g.ONE_MINUS_SRC_ALPHA);break;case C.REMOVE:g.blendEquation(g.FUNC_REVERSE_SUBTRACT),g.blendFunc(g.SRC_ALPHA,g.DST_ALPHA);break;case C.MULTIPLY:g.blendEquationSeparate(g.FUNC_ADD,g.FUNC_ADD),g.blendFuncSeparate(g.ZERO,g.SRC_COLOR,g.ONE,g.ONE);break;case C.SCREEN:g.blendEquationSeparate(g.FUNC_ADD,g.FUNC_ADD),g.blendFuncSeparate(g.ONE_MINUS_DST_COLOR,g.ONE,g.ONE,g.ONE);break;case C.EXCLUSION:g.blendEquationSeparate(g.FUNC_ADD,g.FUNC_ADD),g.blendFuncSeparate(g.ONE_MINUS_DST_COLOR,g.ONE_MINUS_SRC_COLOR,g.ONE,g.ONE);break;case C.REPLACE:g.blendEquation(g.FUNC_ADD),g.blendFunc(g.ONE,g.ZERO);break;case C.SUBTRACT:g.blendEquationSeparate(g.FUNC_REVERSE_SUBTRACT,g.FUNC_ADD),g.blendFuncSeparate(g.SRC_ALPHA,g.ONE,g.ONE,g.ONE);break;case C.DARKEST:this.blendExt?(g.blendEquationSeparate(this.blendExt.MIN_EXT,g.FUNC_ADD),g.blendFuncSeparate(g.ONE,g.ONE,g.ONE,g.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case C.LIGHTEST:this.blendExt?(g.blendEquationSeparate(this.blendExt.MAX_EXT,g.FUNC_ADD),g.blendFuncSeparate(g.ONE,g.ONE,g.ONE,g.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}},H.default=x.default},{"../core/constants":250,"../core/main":260,"./p5.Texture":316,"core-js/modules/es.array.join":157}],308:[function(d,ee,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};v.default.prototype.camera=function(){var C;this._assert3d("camera");for(var M=arguments.length,w=new Array(M),g=0;g<M;g++)w[g]=arguments[g];return v.default._validateParameters("camera",w),(C=this._renderer._curCamera).camera.apply(C,w),this},v.default.prototype.perspective=function(){var C;this._assert3d("perspective");for(var M=arguments.length,w=new Array(M),g=0;g<M;g++)w[g]=arguments[g];return v.default._validateParameters("perspective",w),(C=this._renderer._curCamera).perspective.apply(C,w),this},v.default.prototype.ortho=function(){var C;this._assert3d("ortho");for(var M=arguments.length,w=new Array(M),g=0;g<M;g++)w[g]=arguments[g];return v.default._validateParameters("ortho",w),(C=this._renderer._curCamera).ortho.apply(C,w),this},v.default.prototype.frustum=function(){var C;this._assert3d("frustum");for(var M=arguments.length,w=new Array(M),g=0;g<M;g++)w[g]=arguments[g];return v.default._validateParameters("frustum",w),(C=this._renderer._curCamera).frustum.apply(C,w),this},v.default.prototype.createCamera=function(){this._assert3d("createCamera");var C=new v.default.Camera(this._renderer);return C._computeCameraDefaultSettings(),C._setDefaultCamera(),this._renderer._curCamera=C},v.default.Camera=function(C){this._renderer=C,this.cameraType="default",this.cameraMatrix=new v.default.Matrix,this.projMatrix=new v.default.Matrix},v.default.Camera.prototype.perspective=function(C,M,w,g){this.cameraType=0<arguments.length?"custom":"default",this.cameraFOV=void 0===C?C=this.defaultCameraFOV:this._renderer._pInst._toRadians(C),void 0===M&&(M=this.defaultAspectRatio),void 0===w&&(w=this.defaultCameraNear),void 0===g&&(g=this.defaultCameraFar),w<=1e-4&&(w=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),g<w&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=M,this.cameraNear=w,this.cameraFar=g,this.projMatrix=v.default.Matrix.identity();var u=1/Math.tan(this.cameraFOV/2),h=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(u/M,0,0,0,0,-u,0,0,0,0,(g+w)*h,-1,0,0,2*g*w*h,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])},v.default.Camera.prototype.ortho=function(C,M,w,g,u,h){void 0===C&&(C=-this._renderer.width/2),void 0===M&&(M=this._renderer.width/2),void 0===w&&(w=-this._renderer.height/2),void 0===g&&(g=this._renderer.height/2),void 0===u&&(u=0),void 0===h&&(h=Math.max(this._renderer.width,this._renderer.height));var f=M-C,m=g-w,b=h-u,E=2/f,L=2/m,A=-2/b,R=-(M+C)/f,V=-(g+w)/m,U=-(h+u)/b;this.projMatrix=v.default.Matrix.identity(),this.projMatrix.set(E,0,0,0,0,-L,0,0,0,0,A,0,R,V,U,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},v.default.Camera.prototype.frustum=function(C,M,w,g,u,h){void 0===C&&(C=-this._renderer.width/2),void 0===M&&(M=this._renderer.width/2),void 0===w&&(w=-this._renderer.height/2),void 0===g&&(g=this._renderer.height/2),void 0===u&&(u=0),void 0===h&&(h=Math.max(this._renderer.width,this._renderer.height));var f=M-C,m=g-w,b=h-u,E=2*u/f,L=2*u/m,A=-2*h*u/b,R=(M+C)/f,V=(g+w)/m,U=-(h+u)/b;this.projMatrix=v.default.Matrix.identity(),this.projMatrix.set(E,0,0,0,0,L,0,0,R,V,U,-1,0,0,A,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},v.default.Camera.prototype._rotateView=function(C,M,w,g){var u=this.centerX,h=this.centerY,f=this.centerZ;u-=this.eyeX,h-=this.eyeY,f-=this.eyeZ;var m=v.default.Matrix.identity(this._renderer._pInst);m.rotate(this._renderer._pInst._toRadians(C),M,w,g);var b=[u*m.mat4[0]+h*m.mat4[4]+f*m.mat4[8],u*m.mat4[1]+h*m.mat4[5]+f*m.mat4[9],u*m.mat4[2]+h*m.mat4[6]+f*m.mat4[10]];b[0]+=this.eyeX,b[1]+=this.eyeY,b[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,b[0],b[1],b[2],this.upX,this.upY,this.upZ)},v.default.Camera.prototype.pan=function(C){var M=this._getLocalAxes();this._rotateView(C,M.y[0],M.y[1],M.y[2])},v.default.Camera.prototype.tilt=function(C){var M=this._getLocalAxes();this._rotateView(C,M.x[0],M.x[1],M.x[2])},v.default.Camera.prototype.lookAt=function(C,M,w){this.camera(this.eyeX,this.eyeY,this.eyeZ,C,M,w,this.upX,this.upY,this.upZ)},v.default.Camera.prototype.camera=function(C,M,w,g,u,h,f,m,b){void 0===C&&(w=this.defaultEyeZ,g=C=this.defaultEyeX,u=M=this.defaultEyeY,m=1,b=f=h=0),this.eyeX=C,this.eyeY=M,this.eyeZ=w,void 0!==g&&(this.centerX=g,this.centerY=u,this.centerZ=h),void 0!==f&&(this.upX=f,this.upY=m,this.upZ=b);var E=this._getLocalAxes();return this.cameraMatrix.set(E.x[0],E.y[0],E.z[0],0,E.x[1],E.y[1],E.z[1],0,E.x[2],E.y[2],E.z[2],0,0,0,0,1),this.cameraMatrix.translate([-C,-M,-w]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},v.default.Camera.prototype.move=function(C,M,w){var g=this._getLocalAxes(),u=[g.x[0]*C,g.x[1]*C,g.x[2]*C],h=[g.y[0]*M,g.y[1]*M,g.y[2]*M],f=[g.z[0]*w,g.z[1]*w,g.z[2]*w];this.camera(this.eyeX+u[0]+h[0]+f[0],this.eyeY+u[1]+h[1]+f[1],this.eyeZ+u[2]+h[2]+f[2],this.centerX+u[0]+h[0]+f[0],this.centerY+u[1]+h[1]+f[1],this.centerZ+u[2]+h[2]+f[2],0,1,0)},v.default.Camera.prototype.setPosition=function(C,M,w){this.camera(C,M,w,this.centerX+(C-this.eyeX),this.centerY+(M-this.eyeY),this.centerZ+(w-this.eyeZ),0,1,0)},v.default.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ},v.default.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"},v.default.Camera.prototype._resize=function(){"default"===this.cameraType?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)},v.default.Camera.prototype.copy=function(){var C=new v.default.Camera(this._renderer);return C.cameraFOV=this.cameraFOV,C.aspectRatio=this.aspectRatio,C.eyeX=this.eyeX,C.eyeY=this.eyeY,C.eyeZ=this.eyeZ,C.centerX=this.centerX,C.centerY=this.centerY,C.centerZ=this.centerZ,C.cameraNear=this.cameraNear,C.cameraFar=this.cameraFar,C.cameraType=this.cameraType,C.cameraMatrix=this.cameraMatrix.copy(),C.projMatrix=this.projMatrix.copy(),C},v.default.Camera.prototype._getLocalAxes=function(){var C=this.eyeX-this.centerX,M=this.eyeY-this.centerY,w=this.eyeZ-this.centerZ,g=Math.sqrt(C*C+M*M+w*w);0!==g&&(C/=g,M/=g,w/=g);var u=this.upX,h=this.upY,f=this.upZ,m=h*w-f*M,b=-u*w+f*C,E=u*M-h*C;u=M*E-w*b,h=-C*E+w*m,f=C*b-M*m;var L=Math.sqrt(m*m+b*b+E*E);0!==L&&(m/=L,b/=L,E/=L);var A=Math.sqrt(u*u+h*h+f*f);return 0!==A&&(u/=A,h/=A,f/=A),{x:[m,b,E],y:[u,h,f],z:[C,M,w]}},v.default.Camera.prototype._orbit=function(C,M,w){var g=this.eyeX-this.centerX,u=this.eyeY-this.centerY,h=this.eyeZ-this.centerZ,f=Math.sqrt(g*g+u*u+h*h),m=Math.atan2(g,h),b=Math.acos(Math.max(-1,Math.min(1,u/f)));m+=C,(f+=w)<0&&(f=.1),(b+=M)>Math.PI?b=Math.PI:b<=0&&(b=.001);var E=Math.sin(b)*f*Math.sin(m),L=Math.cos(b)*f,A=Math.sin(b)*f*Math.cos(m);this.camera(E+this.centerX,L+this.centerY,A+this.centerZ,this.centerX,this.centerY,this.centerZ,0,1,0)},v.default.Camera.prototype._isActive=function(){return this===this._renderer._curCamera},v.default.prototype.setCamera=function(C){this._renderer._curCamera=C,this._renderer.uPMatrix.set(C.projMatrix.mat4[0],C.projMatrix.mat4[1],C.projMatrix.mat4[2],C.projMatrix.mat4[3],C.projMatrix.mat4[4],C.projMatrix.mat4[5],C.projMatrix.mat4[6],C.projMatrix.mat4[7],C.projMatrix.mat4[8],C.projMatrix.mat4[9],C.projMatrix.mat4[10],C.projMatrix.mat4[11],C.projMatrix.mat4[12],C.projMatrix.mat4[13],C.projMatrix.mat4[14],C.projMatrix.mat4[15])},H.default=v.default.Camera},{"../core/main":260}],309:[function(d,ee,H){"use strict";d("core-js/modules/es.string.sub"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};v.default.Geometry=function(C,M,w){return this.vertices=[],this.lineVertices=[],this.lineNormals=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.detailX=void 0!==C?C:1,this.detailY=void 0!==M?M:1,this.dirtyFlags={},w instanceof Function&&w.call(this),this},v.default.Geometry.prototype.reset=function(){this.lineVertices.length=0,this.lineNormals.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}},v.default.Geometry.prototype.computeFaces=function(){this.faces.length=0;for(var C,M,w,g,u=this.detailX+1,h=0;h<this.detailY;h++)for(var f=0;f<this.detailX;f++)M=(C=h*u+f)+1,w=(h+1)*u+f+1,this.faces.push([C,M,g=(h+1)*u+f]),this.faces.push([g,M,w]);return this},v.default.Geometry.prototype._getFaceNormal=function(C){var M=this.faces[C],w=this.vertices[M[0]],u=this.vertices[M[2]],h=v.default.Vector.sub(this.vertices[M[1]],w),f=v.default.Vector.sub(u,w),m=v.default.Vector.cross(h,f),b=v.default.Vector.mag(m),E=b/(v.default.Vector.mag(h)*v.default.Vector.mag(f));return 0===E||isNaN(E)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),m):(1<E&&(E=1),m.mult(Math.asin(E)/b))},v.default.Geometry.prototype.computeNormals=function(){var C,M=this.vertexNormals,w=this.vertices,g=this.faces;for(C=M.length=0;C<w.length;++C)M.push(new v.default.Vector);for(var u=0;u<g.length;++u)for(var h=g[u],f=this._getFaceNormal(u),m=0;m<3;++m)M[h[m]].add(f);for(C=0;C<w.length;++C)M[C].normalize();return this},v.default.Geometry.prototype.averageNormals=function(){for(var C=0;C<=this.detailY;C++){var M=this.detailX+1,w=v.default.Vector.add(this.vertexNormals[C*M],this.vertexNormals[C*M+this.detailX]);w=v.default.Vector.div(w,2),this.vertexNormals[C*M]=w,this.vertexNormals[C*M+this.detailX]=w}return this},v.default.Geometry.prototype.averagePoleNormals=function(){for(var C=new v.default.Vector(0,0,0),M=0;M<this.detailX;M++)C.add(this.vertexNormals[M]);C=v.default.Vector.div(C,this.detailX);for(var w=0;w<this.detailX;w++)this.vertexNormals[w]=C;C=new v.default.Vector(0,0,0);for(var g=this.vertices.length-1;g>this.vertices.length-1-this.detailX;g--)C.add(this.vertexNormals[g]);C=v.default.Vector.div(C,this.detailX);for(var u=this.vertices.length-1;u>this.vertices.length-1-this.detailX;u--)this.vertexNormals[u]=C;return this},v.default.Geometry.prototype._makeTriangleEdges=function(){if(this.edges.length=0,Array.isArray(this.strokeIndices))for(var C=0,M=this.strokeIndices.length;C<M;C++)this.edges.push(this.strokeIndices[C]);else for(var w=0;w<this.faces.length;w++)this.edges.push([this.faces[w][0],this.faces[w][1]]),this.edges.push([this.faces[w][1],this.faces[w][2]]),this.edges.push([this.faces[w][2],this.faces[w][0]]);return this},v.default.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0;for(var C=this.lineNormals.length=0;C<this.edges.length;C++){var M=this.vertices[this.edges[C][0]],w=this.vertices[this.edges[C][1]],g=w.copy().sub(M).normalize(),u=M.array(),h=M.array(),f=w.array(),m=w.array(),b=g.array(),E=g.array();b.push(1),E.push(-1),this.lineNormals.push(b,E,b,b,E,E),this.lineVertices.push(u,h,f,f,h,m)}return this},v.default.Geometry.prototype.normalize=function(){if(0<this.vertices.length){for(var C=this.vertices[0].copy(),M=this.vertices[0].copy(),w=0;w<this.vertices.length;w++)C.x=Math.max(C.x,this.vertices[w].x),M.x=Math.min(M.x,this.vertices[w].x),C.y=Math.max(C.y,this.vertices[w].y),M.y=Math.min(M.y,this.vertices[w].y),C.z=Math.max(C.z,this.vertices[w].z),M.z=Math.min(M.z,this.vertices[w].z);for(var g=v.default.Vector.lerp(C,M,.5),u=v.default.Vector.sub(C,M),h=200/Math.max(Math.max(u.x,u.y),u.z),f=0;f<this.vertices.length;f++)this.vertices[f].sub(g),this.vertices[f].mult(h)}return this},H.default=v.default.Geometry},{"../core/main":260,"core-js/modules/es.string.sub":189}],310:[function(d,ee,H){"use strict";d("core-js/modules/es.array.iterator"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.typed-array.float32-array"),d("core-js/modules/es.typed-array.copy-within"),d("core-js/modules/es.typed-array.every"),d("core-js/modules/es.typed-array.fill"),d("core-js/modules/es.typed-array.filter"),d("core-js/modules/es.typed-array.find"),d("core-js/modules/es.typed-array.find-index"),d("core-js/modules/es.typed-array.for-each"),d("core-js/modules/es.typed-array.includes"),d("core-js/modules/es.typed-array.index-of"),d("core-js/modules/es.typed-array.iterator"),d("core-js/modules/es.typed-array.join"),d("core-js/modules/es.typed-array.last-index-of"),d("core-js/modules/es.typed-array.map"),d("core-js/modules/es.typed-array.reduce"),d("core-js/modules/es.typed-array.reduce-right"),d("core-js/modules/es.typed-array.reverse"),d("core-js/modules/es.typed-array.set"),d("core-js/modules/es.typed-array.slice"),d("core-js/modules/es.typed-array.some"),d("core-js/modules/es.typed-array.sort"),d("core-js/modules/es.typed-array.subarray"),d("core-js/modules/es.typed-array.to-locale-string"),d("core-js/modules/es.typed-array.to-string"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z},x=Array,C=function(w){return w instanceof Array};"undefined"!=typeof Float32Array&&(x=Float32Array,C=function(w){return w instanceof Array||w instanceof Float32Array}),v.default.Matrix=function(){for(var w=new Array(arguments.length),g=0;g<w.length;++g)w[g]=arguments[g];return w.length&&w[w.length-1]instanceof v.default&&(this.p5=w[w.length-1]),"mat3"===w[0]?this.mat3=Array.isArray(w[1])?w[1]:new x([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(w[0])?w[0]:new x([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},v.default.Matrix.prototype.set=function(w){return w instanceof v.default.Matrix?this.mat4=w.mat4:C(w)?this.mat4=w:16===arguments.length&&(this.mat4[0]=w,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this},v.default.Matrix.prototype.get=function(){return new v.default.Matrix(this.mat4,this.p5)},v.default.Matrix.prototype.copy=function(){var w=new v.default.Matrix(this.p5);return w.mat4[0]=this.mat4[0],w.mat4[1]=this.mat4[1],w.mat4[2]=this.mat4[2],w.mat4[3]=this.mat4[3],w.mat4[4]=this.mat4[4],w.mat4[5]=this.mat4[5],w.mat4[6]=this.mat4[6],w.mat4[7]=this.mat4[7],w.mat4[8]=this.mat4[8],w.mat4[9]=this.mat4[9],w.mat4[10]=this.mat4[10],w.mat4[11]=this.mat4[11],w.mat4[12]=this.mat4[12],w.mat4[13]=this.mat4[13],w.mat4[14]=this.mat4[14],w.mat4[15]=this.mat4[15],w},v.default.Matrix.identity=function(w){return new v.default.Matrix(w)},v.default.Matrix.prototype.transpose=function(w){var g,u,h,f,m,b;return w instanceof v.default.Matrix?(g=w.mat4[1],u=w.mat4[2],h=w.mat4[3],f=w.mat4[6],m=w.mat4[7],b=w.mat4[11],this.mat4[0]=w.mat4[0],this.mat4[1]=w.mat4[4],this.mat4[2]=w.mat4[8],this.mat4[3]=w.mat4[12],this.mat4[4]=g,this.mat4[5]=w.mat4[5],this.mat4[6]=w.mat4[9],this.mat4[7]=w.mat4[13],this.mat4[8]=u,this.mat4[9]=f,this.mat4[10]=w.mat4[10],this.mat4[11]=w.mat4[14],this.mat4[12]=h,this.mat4[13]=m,this.mat4[14]=b,this.mat4[15]=w.mat4[15]):C(w)&&(g=w[1],u=w[2],h=w[3],f=w[6],m=w[7],b=w[11],this.mat4[0]=w[0],this.mat4[1]=w[4],this.mat4[2]=w[8],this.mat4[3]=w[12],this.mat4[4]=g,this.mat4[5]=w[5],this.mat4[6]=w[9],this.mat4[7]=w[13],this.mat4[8]=u,this.mat4[9]=f,this.mat4[10]=w[10],this.mat4[11]=w[14],this.mat4[12]=h,this.mat4[13]=m,this.mat4[14]=b,this.mat4[15]=w[15]),this},v.default.Matrix.prototype.invert=function(w){var g,u,h,f,m,b,E,L,A,R,V,U,Z,Q,Y,K;w instanceof v.default.Matrix?(g=w.mat4[0],u=w.mat4[1],h=w.mat4[2],f=w.mat4[3],m=w.mat4[4],b=w.mat4[5],E=w.mat4[6],L=w.mat4[7],A=w.mat4[8],R=w.mat4[9],V=w.mat4[10],U=w.mat4[11],Z=w.mat4[12],Q=w.mat4[13],Y=w.mat4[14],K=w.mat4[15]):C(w)&&(g=w[0],u=w[1],h=w[2],f=w[3],m=w[4],b=w[5],E=w[6],L=w[7],A=w[8],R=w[9],V=w[10],U=w[11],Z=w[12],Q=w[13],Y=w[14],K=w[15]);var te=g*b-u*m,q=g*E-h*m,oe=g*L-f*m,ie=u*E-h*b,ye=u*L-f*b,Ve=h*L-f*E,_e=A*Q-R*Z,we=A*Y-V*Z,Le=A*K-U*Z,$e=R*Y-V*Q,qe=R*K-U*Q,We=V*K-U*Y,tt=te*We-q*qe+oe*$e+ie*Le-ye*we+Ve*_e;return tt?(this.mat4[0]=(b*We-E*qe+L*$e)*(tt=1/tt),this.mat4[1]=(h*qe-u*We-f*$e)*tt,this.mat4[2]=(Q*Ve-Y*ye+K*ie)*tt,this.mat4[3]=(V*ye-R*Ve-U*ie)*tt,this.mat4[4]=(E*Le-m*We-L*we)*tt,this.mat4[5]=(g*We-h*Le+f*we)*tt,this.mat4[6]=(Y*oe-Z*Ve-K*q)*tt,this.mat4[7]=(A*Ve-V*oe+U*q)*tt,this.mat4[8]=(m*qe-b*Le+L*_e)*tt,this.mat4[9]=(u*Le-g*qe-f*_e)*tt,this.mat4[10]=(Z*ye-Q*oe+K*te)*tt,this.mat4[11]=(R*oe-A*ye-U*te)*tt,this.mat4[12]=(b*we-m*$e-E*_e)*tt,this.mat4[13]=(g*$e-u*we+h*_e)*tt,this.mat4[14]=(Q*q-Z*ie-Y*te)*tt,this.mat4[15]=(A*ie-R*q+V*te)*tt,this):null},v.default.Matrix.prototype.invert3x3=function(){var w=this.mat3[0],g=this.mat3[1],u=this.mat3[2],h=this.mat3[3],f=this.mat3[4],m=this.mat3[5],b=this.mat3[6],E=this.mat3[7],L=this.mat3[8],A=L*f-m*E,R=-L*h+m*b,V=E*h-f*b,U=w*A+g*R+u*V;return U?(this.mat3[0]=A*(U=1/U),this.mat3[1]=(-L*g+u*E)*U,this.mat3[2]=(m*g-u*f)*U,this.mat3[3]=R*U,this.mat3[4]=(L*w-u*b)*U,this.mat3[5]=(-m*w+u*h)*U,this.mat3[6]=V*U,this.mat3[7]=(-E*w+g*b)*U,this.mat3[8]=(f*w-g*h)*U,this):null},v.default.Matrix.prototype.transpose3x3=function(w){var g=w[1],u=w[2],h=w[5];return this.mat3[1]=w[3],this.mat3[2]=w[6],this.mat3[3]=g,this.mat3[5]=w[7],this.mat3[6]=u,this.mat3[7]=h,this},v.default.Matrix.prototype.inverseTranspose=function(w){void 0===this.mat3?console.error("sorry, this function only works with mat3"):(this.mat3[0]=w.mat4[0],this.mat3[1]=w.mat4[1],this.mat3[2]=w.mat4[2],this.mat3[3]=w.mat4[4],this.mat3[4]=w.mat4[5],this.mat3[5]=w.mat4[6],this.mat3[6]=w.mat4[8],this.mat3[7]=w.mat4[9],this.mat3[8]=w.mat4[10]);var g=this.invert3x3();if(g)g.transpose3x3(this.mat3);else for(var u=0;u<9;u++)this.mat3[u]=0;return this},v.default.Matrix.prototype.determinant=function(){return(this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4])*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-(this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4])*(this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13])+(this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4])*(this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13])+(this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5])*(this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12])-(this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5])*(this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12])+(this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6])*(this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12])},v.default.Matrix.prototype.mult=function(w){var g;if(w===this||w===this.mat4)g=this.copy().mat4;else if(w instanceof v.default.Matrix)g=w.mat4;else if(C(w))g=w;else{if(16!==arguments.length)return;g=arguments}var u=this.mat4[0],h=this.mat4[1],f=this.mat4[2],m=this.mat4[3];return this.mat4[0]=u*g[0]+h*g[4]+f*g[8]+m*g[12],this.mat4[1]=u*g[1]+h*g[5]+f*g[9]+m*g[13],this.mat4[2]=u*g[2]+h*g[6]+f*g[10]+m*g[14],this.mat4[3]=u*g[3]+h*g[7]+f*g[11]+m*g[15],this.mat4[4]=(u=this.mat4[4])*g[0]+(h=this.mat4[5])*g[4]+(f=this.mat4[6])*g[8]+(m=this.mat4[7])*g[12],this.mat4[5]=u*g[1]+h*g[5]+f*g[9]+m*g[13],this.mat4[6]=u*g[2]+h*g[6]+f*g[10]+m*g[14],this.mat4[7]=u*g[3]+h*g[7]+f*g[11]+m*g[15],this.mat4[8]=(u=this.mat4[8])*g[0]+(h=this.mat4[9])*g[4]+(f=this.mat4[10])*g[8]+(m=this.mat4[11])*g[12],this.mat4[9]=u*g[1]+h*g[5]+f*g[9]+m*g[13],this.mat4[10]=u*g[2]+h*g[6]+f*g[10]+m*g[14],this.mat4[11]=u*g[3]+h*g[7]+f*g[11]+m*g[15],this.mat4[12]=(u=this.mat4[12])*g[0]+(h=this.mat4[13])*g[4]+(f=this.mat4[14])*g[8]+(m=this.mat4[15])*g[12],this.mat4[13]=u*g[1]+h*g[5]+f*g[9]+m*g[13],this.mat4[14]=u*g[2]+h*g[6]+f*g[10]+m*g[14],this.mat4[15]=u*g[3]+h*g[7]+f*g[11]+m*g[15],this},v.default.Matrix.prototype.apply=function(w){var g;if(w===this||w===this.mat4)g=this.copy().mat4;else if(w instanceof v.default.Matrix)g=w.mat4;else if(C(w))g=w;else{if(16!==arguments.length)return;g=arguments}var u=this.mat4,h=u[0],f=u[4],m=u[8],b=u[12];u[0]=g[0]*h+g[1]*f+g[2]*m+g[3]*b,u[4]=g[4]*h+g[5]*f+g[6]*m+g[7]*b,u[8]=g[8]*h+g[9]*f+g[10]*m+g[11]*b,u[12]=g[12]*h+g[13]*f+g[14]*m+g[15]*b;var E=u[1],L=u[5],A=u[9],R=u[13];u[1]=g[0]*E+g[1]*L+g[2]*A+g[3]*R,u[5]=g[4]*E+g[5]*L+g[6]*A+g[7]*R,u[9]=g[8]*E+g[9]*L+g[10]*A+g[11]*R,u[13]=g[12]*E+g[13]*L+g[14]*A+g[15]*R;var V=u[2],U=u[6],Z=u[10],Q=u[14];u[2]=g[0]*V+g[1]*U+g[2]*Z+g[3]*Q,u[6]=g[4]*V+g[5]*U+g[6]*Z+g[7]*Q,u[10]=g[8]*V+g[9]*U+g[10]*Z+g[11]*Q,u[14]=g[12]*V+g[13]*U+g[14]*Z+g[15]*Q;var Y=u[3],K=u[7],te=u[11],q=u[15];return u[3]=g[0]*Y+g[1]*K+g[2]*te+g[3]*q,u[7]=g[4]*Y+g[5]*K+g[6]*te+g[7]*q,u[11]=g[8]*Y+g[9]*K+g[10]*te+g[11]*q,u[15]=g[12]*Y+g[13]*K+g[14]*te+g[15]*q,this},v.default.Matrix.prototype.scale=function(w,g,u){return w instanceof v.default.Vector?(g=w.y,u=w.z,w=w.x):w instanceof Array&&(g=w[1],u=w[2],w=w[0]),this.mat4[0]*=w,this.mat4[1]*=w,this.mat4[2]*=w,this.mat4[3]*=w,this.mat4[4]*=g,this.mat4[5]*=g,this.mat4[6]*=g,this.mat4[7]*=g,this.mat4[8]*=u,this.mat4[9]*=u,this.mat4[10]*=u,this.mat4[11]*=u,this},v.default.Matrix.prototype.rotate=function(w,g,u,h){g instanceof v.default.Vector?(u=g.y,h=g.z,g=g.x):g instanceof Array&&(u=g[1],h=g[2],g=g[0]);var f=Math.sqrt(g*g+u*u+h*h);g*=1/f,u*=1/f,h*=1/f;var m=this.mat4[0],b=this.mat4[1],E=this.mat4[2],L=this.mat4[3],A=this.mat4[4],R=this.mat4[5],V=this.mat4[6],U=this.mat4[7],Z=this.mat4[8],Q=this.mat4[9],Y=this.mat4[10],K=this.mat4[11],te=Math.sin(w),q=Math.cos(w),oe=1-q,ie=g*g*oe+q,ye=u*g*oe+h*te,Ve=h*g*oe-u*te,_e=g*u*oe-h*te,we=u*u*oe+q,Le=h*u*oe+g*te,$e=g*h*oe+u*te,qe=u*h*oe-g*te,We=h*h*oe+q;return this.mat4[0]=m*ie+A*ye+Z*Ve,this.mat4[1]=b*ie+R*ye+Q*Ve,this.mat4[2]=E*ie+V*ye+Y*Ve,this.mat4[3]=L*ie+U*ye+K*Ve,this.mat4[4]=m*_e+A*we+Z*Le,this.mat4[5]=b*_e+R*we+Q*Le,this.mat4[6]=E*_e+V*we+Y*Le,this.mat4[7]=L*_e+U*we+K*Le,this.mat4[8]=m*$e+A*qe+Z*We,this.mat4[9]=b*$e+R*qe+Q*We,this.mat4[10]=E*$e+V*qe+Y*We,this.mat4[11]=L*$e+U*qe+K*We,this},v.default.Matrix.prototype.translate=function(w){var g=w[0],u=w[1],h=w[2]||0;this.mat4[12]+=this.mat4[0]*g+this.mat4[4]*u+this.mat4[8]*h,this.mat4[13]+=this.mat4[1]*g+this.mat4[5]*u+this.mat4[9]*h,this.mat4[14]+=this.mat4[2]*g+this.mat4[6]*u+this.mat4[10]*h,this.mat4[15]+=this.mat4[3]*g+this.mat4[7]*u+this.mat4[11]*h},v.default.Matrix.prototype.rotateX=function(w){this.rotate(w,1,0,0)},v.default.Matrix.prototype.rotateY=function(w){this.rotate(w,0,1,0)},v.default.Matrix.prototype.rotateZ=function(w){this.rotate(w,0,0,1)},v.default.Matrix.prototype.perspective=function(w,g,u,h){var f=1/Math.tan(w/2),m=1/(u-h);return this.mat4[0]=f/g,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=f,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(h+u)*m,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*h*u*m,this.mat4[15]=0,this},v.default.Matrix.prototype.ortho=function(w,g,u,h,f,m){var b=1/(w-g),E=1/(u-h),L=1/(f-m);return this.mat4[0]=-2*b,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*E,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*L,this.mat4[11]=0,this.mat4[12]=(w+g)*b,this.mat4[13]=(h+u)*E,this.mat4[14]=(m+f)*L,this.mat4[15]=1,this},H.default=v.default.Matrix},{"../core/main":260,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.float32-array":200,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220}],311:[function(d,ee,H){"use strict";d("core-js/modules/es.array.map"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};v.default.RenderBuffer=function(C,M,w,g,u,h){this.size=C,this.src=M,this.dst=w,this.attr=g,this._renderer=u,this.map=h},v.default.RenderBuffer.prototype._prepareBuffer=function(C,M){var w,u=this._renderer.GL;w=C.model?C.model:C;var h=M.attributes[this.attr];if(h){var f=C[this.dst],m=w[this.src];if(0<m.length){var b=!f;if(b&&(C[this.dst]=f=u.createBuffer()),u.bindBuffer(u.ARRAY_BUFFER,f),b||!1!==w.dirtyFlags[this.src]){var E=this.map,L=E?E(m):m;this._renderer._bindBuffer(f,u.ARRAY_BUFFER,L),w.dirtyFlags[this.src]=!1}M.enableAttrib(h,this.size)}}},H.default=v.default.RenderBuffer},{"../core/main":260,"core-js/modules/es.array.map":159}],312:[function(d,ee,H){"use strict";function z(g){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(g)}d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.fill"),d("core-js/modules/es.array.for-each"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.string.iterator"),d("core-js/modules/es.typed-array.float32-array"),d("core-js/modules/es.typed-array.copy-within"),d("core-js/modules/es.typed-array.every"),d("core-js/modules/es.typed-array.fill"),d("core-js/modules/es.typed-array.filter"),d("core-js/modules/es.typed-array.find"),d("core-js/modules/es.typed-array.find-index"),d("core-js/modules/es.typed-array.for-each"),d("core-js/modules/es.typed-array.includes"),d("core-js/modules/es.typed-array.index-of"),d("core-js/modules/es.typed-array.iterator"),d("core-js/modules/es.typed-array.join"),d("core-js/modules/es.typed-array.last-index-of"),d("core-js/modules/es.typed-array.map"),d("core-js/modules/es.typed-array.reduce"),d("core-js/modules/es.typed-array.reduce-right"),d("core-js/modules/es.typed-array.reverse"),d("core-js/modules/es.typed-array.set"),d("core-js/modules/es.typed-array.slice"),d("core-js/modules/es.typed-array.some"),d("core-js/modules/es.typed-array.sort"),d("core-js/modules/es.typed-array.subarray"),d("core-js/modules/es.typed-array.to-locale-string"),d("core-js/modules/es.typed-array.to-string"),d("core-js/modules/web.dom-collections.for-each"),d("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v,x=(v=d("../core/main"))&&v.__esModule?v:{default:v},C=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==z(g)&&"function"!=typeof g)return{default:g};var u=M();if(u&&u.has(g))return u.get(g);var h={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in g)if(Object.prototype.hasOwnProperty.call(g,m)){var b=f?Object.getOwnPropertyDescriptor(g,m):null;b&&(b.get||b.set)?Object.defineProperty(h,m,b):h[m]=g[m]}return h.default=g,u&&u.set(g,h),h}(d("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var g=new WeakMap;return M=function(){return g},g}d("./p5.RenderBuffer"),x.default.RendererGL.prototype.beginShape=function(g){return this.immediateMode.shapeMode=void 0!==g?g:C.TRIANGLE_FAN,this.immediateMode.geometry.reset(),this},x.default.RendererGL.prototype.vertex=function(g,u){var h,f,m;h=f=m=0,3===arguments.length?h=arguments[2]:4===arguments.length?(f=arguments[2],m=arguments[3]):5===arguments.length&&(h=arguments[2],f=arguments[3],m=arguments[4]);var b=new x.default.Vector(g,u,h);this.immediateMode.geometry.vertices.push(b);var E=this.curFillColor||[.5,.5,.5,1];return this.immediateMode.geometry.vertexColors.push(E[0],E[1],E[2],E[3]),this.textureMode===C.IMAGE&&(null!==this._tex?0<this._tex.width&&0<this._tex.height&&(f/=this._tex.width,m/=this._tex.height):null===this._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(f,m),this.immediateMode._bezierVertex[0]=g,this.immediateMode._bezierVertex[1]=u,this.immediateMode._bezierVertex[2]=h,this.immediateMode._quadraticVertex[0]=g,this.immediateMode._quadraticVertex[1]=u,this.immediateMode._quadraticVertex[2]=h,this},x.default.RendererGL.prototype.endShape=function(g,u,h,f,m,b){return this.immediateMode.shapeMode===C.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this._processVertices.apply(this,arguments),this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},x.default.RendererGL.prototype._processVertices=function(g){0!==this.immediateMode.geometry.vertices.length&&(this._doStroke&&this.drawMode!==C.TEXTURE&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,g===C.CLOSE),this.immediateMode.geometry._edgesToVertices()),(this.isBezier||this.isQuadratic||this.isCurve||this.immediateMode.shapeMode===C.TESS)&&this.immediateMode.shapeMode!==C.LINES&&this._tesselateShape())},x.default.RendererGL.prototype._calculateEdges=function(g,u,h){var f=[],m=0;switch(g){case C.TRIANGLE_STRIP:for(m=0;m<u.length-2;m++)f.push([m,m+1]),f.push([m,m+2]);f.push([m,m+1]);break;case C.TRIANGLES:for(m=0;m<u.length-2;m+=3)f.push([m,m+1]),f.push([m+1,m+2]),f.push([m+2,m]);break;case C.LINES:for(m=0;m<u.length-1;m+=2)f.push([m,m+1]);break;default:for(m=0;m<u.length-1;m++)f.push([m,m+1])}return h&&f.push([u.length-1,0]),f},x.default.RendererGL.prototype._tesselateShape=function(){this.immediateMode.shapeMode=C.TRIANGLES;var g=[new Float32Array(this._vToNArray(this.immediateMode.geometry.vertices))],u=this._triangulate(g);this.immediateMode.geometry.vertices=[];for(var h=0,f=u.length;h<f;h+=3)this.vertex(u[h],u[h+1],u[h+2])},x.default.RendererGL.prototype._drawImmediateFill=function(){var g=this.GL,u=this._getImmediateFillShader();this._calculateNormals(this.immediateMode.geometry),this._setFillUniforms(u);var h=!0,f=!1,m=void 0;try{for(var b,E=this.immediateMode.buffers.fill[Symbol.iterator]();!(h=(b=E.next()).done);h=!0)b.value._prepareBuffer(this.immediateMode.geometry,u)}catch(L){f=!0,m=L}finally{try{h||null==E.return||E.return()}finally{if(f)throw m}}this.immediateMode.shapeMode!==C.LINE_STRIP&&this.immediateMode.shapeMode!==C.LINES||(this.immediateMode.shapeMode=C.TRIANGLE_FAN),this._applyColorBlend(this.curFillColor),g.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),u.unbindShader()},x.default.RendererGL.prototype._drawImmediateStroke=function(){var g=this.GL,u=this._getImmediateStrokeShader();this._setStrokeUniforms(u);var h=!0,f=!1,m=void 0;try{for(var b,E=this.immediateMode.buffers.stroke[Symbol.iterator]();!(h=(b=E.next()).done);h=!0)b.value._prepareBuffer(this.immediateMode.geometry,u)}catch(L){f=!0,m=L}finally{try{h||null==E.return||E.return()}finally{if(f)throw m}}this._applyColorBlend(this.curStrokeColor),g.drawArrays(g.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),u.unbindShader()},x.default.RendererGL.prototype._calculateNormals=function(g){g.vertices.forEach(function(){g.vertexNormals.push(new x.default.Vector(0,0,1))})},H.default=x.default.RendererGL},{"../core/constants":250,"../core/main":260,"./p5.RenderBuffer":311,"core-js/modules/es.array.fill":150,"core-js/modules/es.array.for-each":152,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.float32-array":200,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/web.dom-collections.for-each":225,"core-js/modules/web.dom-collections.iterator":226}],313:[function(d,ee,H){"use strict";d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.fill"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.object.keys"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.string.iterator"),d("core-js/modules/es.typed-array.float32-array"),d("core-js/modules/es.typed-array.uint16-array"),d("core-js/modules/es.typed-array.copy-within"),d("core-js/modules/es.typed-array.every"),d("core-js/modules/es.typed-array.fill"),d("core-js/modules/es.typed-array.filter"),d("core-js/modules/es.typed-array.find"),d("core-js/modules/es.typed-array.find-index"),d("core-js/modules/es.typed-array.for-each"),d("core-js/modules/es.typed-array.includes"),d("core-js/modules/es.typed-array.index-of"),d("core-js/modules/es.typed-array.iterator"),d("core-js/modules/es.typed-array.join"),d("core-js/modules/es.typed-array.last-index-of"),d("core-js/modules/es.typed-array.map"),d("core-js/modules/es.typed-array.reduce"),d("core-js/modules/es.typed-array.reduce-right"),d("core-js/modules/es.typed-array.reverse"),d("core-js/modules/es.typed-array.set"),d("core-js/modules/es.typed-array.slice"),d("core-js/modules/es.typed-array.some"),d("core-js/modules/es.typed-array.sort"),d("core-js/modules/es.typed-array.subarray"),d("core-js/modules/es.typed-array.to-locale-string"),d("core-js/modules/es.typed-array.to-string"),d("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};d("./p5.RendererGL"),d("./p5.RenderBuffer");var x=0;v.default.RendererGL.prototype._initBufferDefaults=function(M){if(this._freeBuffers(M),1e3<++x){var w=Object.keys(this.retainedMode.geometry)[0];delete this.retainedMode.geometry[w],x--}return this.retainedMode.geometry[M]={}},v.default.RendererGL.prototype._freeBuffers=function(M){var w=this.retainedMode.geometry[M];if(w){delete this.retainedMode.geometry[M],x--;var g=this.GL;w.indexBuffer&&g.deleteBuffer(w.indexBuffer),u(this.retainedMode.buffers.stroke),u(this.retainedMode.buffers.fill)}function u(h){var f=!0,m=!1,b=void 0;try{for(var E,L=h[Symbol.iterator]();!(f=(E=L.next()).done);f=!0){var A=E.value;w[A.dst]&&(g.deleteBuffer(w[A.dst]),w[A.dst]=null)}}catch(R){m=!0,b=R}finally{try{f||null==L.return||L.return()}finally{if(m)throw b}}}},v.default.RendererGL.prototype.createBuffers=function(M,w){var g=this.GL,u=this._initBufferDefaults(M);u.model=w;var h=u.indexBuffer;if(w.faces.length){h=h||(u.indexBuffer=g.createBuffer());var f=v.default.RendererGL.prototype._flatten(w.faces);this._bindBuffer(h,g.ELEMENT_ARRAY_BUFFER,f,Uint16Array),u.vertexCount=3*w.faces.length}else h&&(g.deleteBuffer(h),u.indexBuffer=null),u.vertexCount=w.vertices?w.vertices.length:0;return u.lineVertexCount=w.lineVertices?w.lineVertices.length:0,u},v.default.RendererGL.prototype.drawBuffers=function(M){var w=this.GL,g=this.retainedMode.geometry[M];if(this._doStroke&&0<g.lineVertexCount){var u=this._getRetainedStrokeShader();this._setStrokeUniforms(u);var h=!0,f=!1,m=void 0;try{for(var b,E=this.retainedMode.buffers.stroke[Symbol.iterator]();!(h=(b=E.next()).done);h=!0)b.value._prepareBuffer(g,u)}catch(Q){f=!0,m=Q}finally{try{h||null==E.return||E.return()}finally{if(f)throw m}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(w.TRIANGLES,M),u.unbindShader()}if(this._doFill){var L=this._getRetainedFillShader();this._setFillUniforms(L);var A=!0,R=!1,V=void 0;try{for(var U,Z=this.retainedMode.buffers.fill[Symbol.iterator]();!(A=(U=Z.next()).done);A=!0)U.value._prepareBuffer(g,L)}catch(Q){R=!0,V=Q}finally{try{A||null==Z.return||Z.return()}finally{if(R)throw V}}g.indexBuffer&&this._bindBuffer(g.indexBuffer,w.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(w.TRIANGLES,M),L.unbindShader()}return this},v.default.RendererGL.prototype.drawBuffersScaled=function(M,w,g,u){var h=this.uMVMatrix.copy();try{this.uMVMatrix.scale(w,g,u),this.drawBuffers(M)}finally{this.uMVMatrix=h}},v.default.RendererGL.prototype._drawArrays=function(M,w){return this.GL.drawArrays(M,0,this.retainedMode.geometry[w].lineVertexCount),this},v.default.RendererGL.prototype._drawElements=function(M,w){var g=this.retainedMode.geometry[w],u=this.GL;g.indexBuffer?u.drawElements(u.TRIANGLES,g.vertexCount,u.UNSIGNED_SHORT,0):u.drawArrays(M||u.TRIANGLES,0,g.vertexCount)},v.default.RendererGL.prototype._drawPoints=function(M,w){var g=this.GL,u=this._getImmediatePointShader();this._setPointUniforms(u),this._bindBuffer(w,g.ARRAY_BUFFER,this._vToNArray(M),Float32Array,g.STATIC_DRAW),u.enableAttrib(u.attributes.aPosition,3),g.drawArrays(g.Points,0,M.length),u.unbindShader()},H.default=v.default.RendererGL},{"../core/main":260,"./p5.RenderBuffer":311,"./p5.RendererGL":314,"core-js/modules/es.array.fill":150,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.keys":173,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.float32-array":200,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint16-array":221,"core-js/modules/web.dom-collections.iterator":226}],314:[function(d,ee,H){"use strict";function z(m){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(m)}d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.concat"),d("core-js/modules/es.array.fill"),d("core-js/modules/es.array.filter"),d("core-js/modules/es.array.from"),d("core-js/modules/es.array.includes"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.object.assign"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.string.includes"),d("core-js/modules/es.string.iterator"),d("core-js/modules/es.typed-array.float32-array"),d("core-js/modules/es.typed-array.float64-array"),d("core-js/modules/es.typed-array.int16-array"),d("core-js/modules/es.typed-array.uint8-array"),d("core-js/modules/es.typed-array.uint16-array"),d("core-js/modules/es.typed-array.uint32-array"),d("core-js/modules/es.typed-array.copy-within"),d("core-js/modules/es.typed-array.every"),d("core-js/modules/es.typed-array.fill"),d("core-js/modules/es.typed-array.filter"),d("core-js/modules/es.typed-array.find"),d("core-js/modules/es.typed-array.find-index"),d("core-js/modules/es.typed-array.for-each"),d("core-js/modules/es.typed-array.includes"),d("core-js/modules/es.typed-array.index-of"),d("core-js/modules/es.typed-array.iterator"),d("core-js/modules/es.typed-array.join"),d("core-js/modules/es.typed-array.last-index-of"),d("core-js/modules/es.typed-array.map"),d("core-js/modules/es.typed-array.reduce"),d("core-js/modules/es.typed-array.reduce-right"),d("core-js/modules/es.typed-array.reverse"),d("core-js/modules/es.typed-array.set"),d("core-js/modules/es.typed-array.slice"),d("core-js/modules/es.typed-array.some"),d("core-js/modules/es.typed-array.sort"),d("core-js/modules/es.typed-array.subarray"),d("core-js/modules/es.typed-array.to-locale-string"),d("core-js/modules/es.typed-array.to-string"),d("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=w(d("../core/main")),x=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==z(m)&&"function"!=typeof m)return{default:m};var b=M();if(b&&b.has(m))return b.get(m);var E={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in m)if(Object.prototype.hasOwnProperty.call(m,A)){var R=L?Object.getOwnPropertyDescriptor(m,A):null;R&&(R.get||R.set)?Object.defineProperty(E,A,R):E[A]=m[A]}return E.default=m,b&&b.set(m,E),E}(d("../core/constants")),C=w(d("libtess"));function M(){if("function"!=typeof WeakMap)return null;var m=new WeakMap;return M=function(){return m},m}function w(m){return m&&m.__esModule?m:{default:m}}function g(m){return function(b){if(Array.isArray(b)){for(var E=0,L=new Array(b.length);E<b.length;E++)L[E]=b[E];return L}}(m)||function(b){if(Symbol.iterator in Object(b)||"[object Arguments]"===Object.prototype.toString.call(b))return Array.from(b)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}d("./p5.Shader"),d("./p5.Camera"),d("../core/p5.Renderer"),d("./p5.Matrix"),d("path");var u="precision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\n\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  if (uSpecular)\n    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);\n  lr.diffuse = _lambertDiffuse(lightDir, normal);\n  return lr;\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n",h={immediateVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nvarying vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n  gl_FragColor = vColor;\n}",normalVert:"attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying vec3 vVertexNormal;\nvarying highp vec2 vVertTexCoord;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n}\n",normalFrag:"precision mediump float;\nvarying vec3 vVertexNormal;\nvoid main(void) {\n  gl_FragColor = vec4(vVertexNormal, 1.0);\n}",basicFrag:"precision mediump float;\nuniform vec4 uMaterialColor;\nvoid main(void) {\n  gl_FragColor = uMaterialColor;\n}",lightVert:u+"// include lighting.glgl\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n}\n",lightTextureFrag:"precision highp float;\n\nuniform vec4 uMaterialColor;\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    gl_FragColor = uMaterialColor;\n  }\n  else {\n    gl_FragColor = isTexture ? texture2D(uSampler, vVertTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;\n    gl_FragColor.rgb = gl_FragColor.rgb * vDiffuseColor + vSpecularColor;\n  }\n}",phongVert:"precision highp float;\nprecision highp int;\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 5; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n}\n",phongFrag:u+"// include lighting.glsl\nprecision highp float;\nprecision highp int;\n\nuniform vec4 uMaterialColor;\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  if(uEmissive && !isTexture) {\n    gl_FragColor = uMaterialColor;\n  }\n  else {\n    gl_FragColor = isTexture ? texture2D(uSampler, vTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;\n    gl_FragColor.rgb = gl_FragColor.rgb * (diffuse + vAmbientColor) + specular;\n  }\n}",fontVert:"precision mediump float;\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nvarying vec2 vTexCoord;\nvarying float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord;\n  w = gl_Position.w;\n}\n",fontFrag:"#extension GL_OES_standard_derivatives : enable\nprecision mediump float;\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nvarying vec2 vTexCoord;\n\n// some helper functions\nint round(float v) { return ifloor(v + 0.5); }\nivec2 round(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = round(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  gl_FragColor = uMaterialColor;\n  gl_FragColor.a *= saturate(max(antialias, cover));\n}",lineVert:"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\n\nattribute vec4 aPosition;\nattribute vec4 aDirection;\n  \nvoid main() {\n  // using a scale <1 moves the lines towards the camera\n  // in order to prevent popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  vec3 scale = vec3(0.9995);\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posq = uModelViewMatrix * (aPosition + vec4(aDirection.xyz, 0));\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  \n  posp.xyz = posp.xyz * scale;\n  posq.xyz = posq.xyz * scale;\n\n  vec4 p = uProjectionMatrix * posp;\n  vec4 q = uProjectionMatrix * posq;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangent = normalize((q.xy*p.w - p.xy*q.w) * uViewport.zw);\n\n  // flip tangent to normal (it's already normalized)\n  vec2 normal = vec2(-tangent.y, tangent.x);\n\n  float thickness = aDirection.w * uStrokeWeight;\n  vec2 offset = normal * thickness / 2.0;\n\n  vec2 curPerspScale;\n\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n    // invert Y, projections in Processing invert Y\n    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  gl_Position.xy = p.xy + offset.xy * curPerspScale;\n  gl_Position.zw = p.zw;\n}\n",lineFrag:"precision mediump float;\nprecision mediump int;\n\nuniform vec4 uMaterialColor;\n\nvoid main() {\n  gl_FragColor = uMaterialColor;\n}",pointVert:"attribute vec3 aPosition;\nuniform float uPointSize;\nvarying float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}",pointFrag:"precision mediump float;\nprecision mediump int;\nuniform vec4 uMaterialColor;\nvarying float vStrokeWeight;\n\nvoid main(){\n\tfloat mask = 0.0;\n\n\t// make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n    // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n\tmask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n\t// if strokeWeight is 1 or less lets just draw a square\n\t// this prevents weird artifacting from carving circles when our points are really small\n\t// if strokeWeight is larger than 1, we just use it as is\n\n\tmask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n\t// throw away the borders of the mask\n    // otherwise we get weird alpha blending issues\n\n\tif(mask > 0.98){\n      discard;\n  \t}\n\n  \tgl_FragColor = vec4(uMaterialColor.rgb * (1.0 - mask), uMaterialColor.a) ;\n}"};v.default.RendererGL=function(m,b,E,L){return v.default.Renderer.call(this,m,b,E),this._setAttributeDefaults(b),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this._pInst._setProperty("drawingContext",this.drawingContext),this._isErasing=!1,this._enableLighting=!1,this.ambientLightColors=[],this.specularColors=[1,1,1],this.directionalLightDirections=[],this.directionalLightDiffuseColors=[],this.directionalLightSpecularColors=[],this.pointLightPositions=[],this.pointLightDiffuseColors=[],this.pointLightSpecularColors=[],this.spotLightPositions=[],this.spotLightDirections=[],this.spotLightDiffuseColors=[],this.spotLightSpecularColors=[],this.spotLightAngle=[],this.spotLightConc=[],this.drawMode=x.FILL,this.curFillColor=this._cachedFillStyle=[1,1,1,1],this.curStrokeColor=this._cachedStrokeStyle=[0,0,0,1],this.curBlendMode=x.BLEND,this._cachedBlendMode=void 0,this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useSpecularMaterial=!1,this._useEmissiveMaterial=!1,this._useNormalMaterial=!1,this._useShininess=1,this._tint=[255,255,255,255],this.constantAttenuation=1,this.linearAttenuation=0,this.quadraticAttenuation=0,this.uMVMatrix=new v.default.Matrix,this.uPMatrix=new v.default.Matrix,this.uNMatrix=new v.default.Matrix("mat3"),this._curCamera=new v.default.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.userFillShader=void 0,this.userStrokeShader=void 0,this.userPointShader=void 0,this.retainedMode={geometry:{},buffers:{stroke:[new v.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new v.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],fill:[new v.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new v.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new v.default.RenderBuffer(4,"vertexColors","colorBuffer","aMaterialColor",this),new v.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new v.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],text:[new v.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new v.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)]}},this.immediateMode={geometry:new v.default.Geometry,shapeMode:x.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new v.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new v.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new v.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new v.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new v.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],stroke:[new v.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new v.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],point:this.GL.createBuffer()}},this.pointSize=5,this.curStrokeWeight=1,this.textures=[],this.textureMode=x.IMAGE,this.textureWrapX=x.CLAMP,this.textureWrapY=x.CLAMP,this._tex=null,this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this._tessy=this._initTessy(),this.fontInfos={},this._curShader=void 0,this},v.default.RendererGL.prototype=Object.create(v.default.Renderer.prototype),v.default.RendererGL.prototype._setAttributeDefaults=function(m){var b={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!1,preserveDrawingBuffer:!0,perPixelLighting:!0};m._glAttributes=null===m._glAttributes?b:Object.assign(b,m._glAttributes)},v.default.RendererGL.prototype._initContext=function(){try{if(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes),null===this.drawingContext)throw new Error("Error creating webgl context");var m=this.drawingContext;m.enable(m.DEPTH_TEST),m.depthFunc(m.LEQUAL),m.viewport(0,0,m.drawingBufferWidth,m.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}catch(b){throw b}},v.default.RendererGL.prototype._resetContext=function(m,b){var E=this.width,L=this.height,A=this.canvas.id,R=this._pInst instanceof v.default.Graphics;if(R){var V=this._pInst;V.canvas.parentNode.removeChild(V.canvas),V.canvas=document.createElement("canvas"),(V._pInst._userNode||document.body).appendChild(V.canvas),v.default.Element.call(V,V.canvas,V._pInst),V.width=E,V.height=L}else{var U=this.canvas;U&&U.parentNode.removeChild(U),(U=document.createElement("canvas")).id=A,this._pInst._userNode?this._pInst._userNode.appendChild(U):document.body.appendChild(U),this._pInst.canvas=U}var Z=new v.default.RendererGL(this._pInst.canvas,this._pInst,!R);this._pInst._setProperty("_renderer",Z),Z.resize(E,L),Z._applyDefaults(),R||this._pInst._elements.push(Z),"function"==typeof b&&setTimeout(function(){b.apply(window._renderer,m)},0)},v.default.prototype.setAttributes=function(m,b){if(void 0!==this._glAttributes){var E=!0;if(void 0!==b?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[m]!==b&&(this._glAttributes[m]=b,E=!1)):m instanceof Object&&this._glAttributes!==m&&(this._glAttributes=m,E=!1),this._renderer.isP3D&&!E){if(!this._setupDone)for(var L in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(L))return void console.error("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}else console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.")},v.default.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)},v.default.RendererGL.prototype.background=function(){var m,b=(m=this._pInst).color.apply(m,arguments);this.GL.clearColor(b.levels[0]/255,b.levels[1]/255,b.levels[2]/255,b.levels[3]/255),this.GL.clear(this.GL.COLOR_BUFFER_BIT)},v.default.RendererGL.prototype.fill=function(m,b,E,L){var A=v.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=A._array,this.drawMode=x.FILL,this._useNormalMaterial=!1,this._tex=null},v.default.RendererGL.prototype.stroke=function(m,b,E,L){arguments[3]=255;var A=v.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=A._array},v.default.RendererGL.prototype.strokeCap=function(m){console.error("Sorry, strokeCap() is not yet implemented in WEBGL mode")},v.default.RendererGL.prototype.strokeJoin=function(m){console.error("Sorry, strokeJoin() is not yet implemented in WEBGL mode")},v.default.RendererGL.prototype.filter=function(m){console.error("filter() does not work in WEBGL mode")},v.default.RendererGL.prototype.blendMode=function(m){m===x.DARKEST||m===x.LIGHTEST||m===x.ADD||m===x.BLEND||m===x.SUBTRACT||m===x.SCREEN||m===x.EXCLUSION||m===x.REPLACE||m===x.MULTIPLY||m===x.REMOVE?this.curBlendMode=m:m!==x.BURN&&m!==x.OVERLAY&&m!==x.HARD_LIGHT&&m!==x.SOFT_LIGHT&&m!==x.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")},v.default.RendererGL.prototype.erase=function(m,b){this._isErasing||(this._applyBlendMode(x.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,m/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,b/255])},v.default.RendererGL.prototype.noErase=function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))},v.default.RendererGL.prototype.strokeWeight=function(m){this.curStrokeWeight!==m&&(this.pointSize=m,this.curStrokeWeight=m)},v.default.RendererGL.prototype._getPixel=function(m,b){var E;return E=new Uint8Array(4),this.drawingContext.readPixels(m,b,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,E),[E[0],E[1],E[2],E[3]]},v.default.RendererGL.prototype.loadPixels=function(){if(!0===this._pInst._glAttributes.preserveDrawingBuffer){var b=this._pixelsState.pixels,E=this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4;b instanceof Uint8Array&&b.length===E||(b=new Uint8Array(E),this._pixelsState._setProperty("pixels",b));var L=this._pInst._pixelDensity;this.GL.readPixels(0,0,this.width*L,this.height*L,this.GL.RGBA,this.GL.UNSIGNED_BYTE,b)}else console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true.")},v.default.RendererGL.prototype.geometryInHash=function(m){return void 0!==this.retainedMode.geometry[m]},v.default.RendererGL.prototype.resize=function(m,b){v.default.Renderer.prototype.resize.call(this,m,b),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize();var E=this._pixelsState;void 0!==E.pixels&&E._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},v.default.RendererGL.prototype.clear=function(){this.GL.clearColor((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},v.default.RendererGL.prototype.applyMatrix=function(m,b,E,L,A,R){16===arguments.length?v.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([m,b,0,0,E,L,0,0,0,0,1,0,A,R,0,1])},v.default.RendererGL.prototype.translate=function(m,b,E){return m instanceof v.default.Vector&&(E=m.z,b=m.y,m=m.x),this.uMVMatrix.translate([m,b,E]),this},v.default.RendererGL.prototype.scale=function(m,b,E){return this.uMVMatrix.scale(m,b,E),this},v.default.RendererGL.prototype.rotate=function(m,b){return void 0===b?this.rotateZ(m):(v.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},v.default.RendererGL.prototype.rotateX=function(m){return this.rotate(m,1,0,0),this},v.default.RendererGL.prototype.rotateY=function(m){return this.rotate(m,0,1,0),this},v.default.RendererGL.prototype.rotateZ=function(m){return this.rotate(m,0,0,1),this},v.default.RendererGL.prototype.push=function(){var m=v.default.Renderer.prototype.push.apply(this),b=m.properties;return b.uMVMatrix=this.uMVMatrix.copy(),b.uPMatrix=this.uPMatrix.copy(),b._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),b.ambientLightColors=this.ambientLightColors.slice(),b.specularColors=this.specularColors.slice(),b.directionalLightDirections=this.directionalLightDirections.slice(),b.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),b.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),b.pointLightPositions=this.pointLightPositions.slice(),b.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),b.pointLightSpecularColors=this.pointLightSpecularColors.slice(),b.spotLightPositions=this.spotLightPositions.slice(),b.spotLightDirections=this.spotLightDirections.slice(),b.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),b.spotLightSpecularColors=this.spotLightSpecularColors.slice(),b.spotLightAngle=this.spotLightAngle.slice(),b.spotLightConc=this.spotLightConc.slice(),b.userFillShader=this.userFillShader,b.userStrokeShader=this.userStrokeShader,b.userPointShader=this.userPointShader,b.pointSize=this.pointSize,b.curStrokeWeight=this.curStrokeWeight,b.curStrokeColor=this.curStrokeColor,b.curFillColor=this.curFillColor,b._useSpecularMaterial=this._useSpecularMaterial,b._useEmissiveMaterial=this._useEmissiveMaterial,b._useShininess=this._useShininess,b.constantAttenuation=this.constantAttenuation,b.linearAttenuation=this.linearAttenuation,b.quadraticAttenuation=this.quadraticAttenuation,b._enableLighting=this._enableLighting,b._useNormalMaterial=this._useNormalMaterial,b._tex=this._tex,b.drawMode=this.drawMode,m},v.default.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix=v.default.Matrix.identity(this._pInst),this},v.default.RendererGL.prototype._getImmediateStrokeShader=function(){var m=this.userStrokeShader;return m&&m.isStrokeShader()?m:this._getLineShader()},v.default.RendererGL.prototype._getRetainedStrokeShader=v.default.RendererGL.prototype._getImmediateStrokeShader,v.default.RendererGL.prototype._getImmediateFillShader=function(){var m=this.userFillShader;if(this._useNormalMaterial&&(!m||!m.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!m||!m.isLightShader())return this._getLightShader()}else if(this._tex){if(!m||!m.isTextureShader())return this._getLightShader()}else if(!m)return this._getImmediateModeShader();return m},v.default.RendererGL.prototype._getRetainedFillShader=function(){if(this._useNormalMaterial)return this._getNormalShader();var m=this.userFillShader;if(this._enableLighting){if(!m||!m.isLightShader())return this._getLightShader()}else if(this._tex){if(!m||!m.isTextureShader())return this._getLightShader()}else if(!m)return this._getColorShader();return m},v.default.RendererGL.prototype._getImmediatePointShader=function(){var m=this.userPointShader;return m&&m.isPointShader()?m:this._getPointShader()},v.default.RendererGL.prototype._getRetainedLineShader=v.default.RendererGL.prototype._getImmediateLineShader,v.default.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this._defaultLightShader=this._pInst._glAttributes.perPixelLighting?new v.default.Shader(this,h.phongVert,h.phongFrag):new v.default.Shader(this,h.lightVert,h.lightTextureFrag)),this._defaultLightShader},v.default.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new v.default.Shader(this,h.immediateVert,h.vertexColorFrag)),this._defaultImmediateModeShader},v.default.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new v.default.Shader(this,h.normalVert,h.normalFrag)),this._defaultNormalShader},v.default.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new v.default.Shader(this,h.normalVert,h.basicFrag)),this._defaultColorShader},v.default.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new v.default.Shader(this,h.pointVert,h.pointFrag)),this._defaultPointShader},v.default.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new v.default.Shader(this,h.lineVert,h.lineFrag)),this._defaultLineShader},v.default.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new v.default.Shader(this,h.fontVert,h.fontFrag)),this._defaultFontShader},v.default.RendererGL.prototype._getEmptyTexture=function(){if(!this._emptyTexture){var m=new v.default.Image(1,1);m.set(0,0,255),this._emptyTexture=new v.default.Texture(this,m)}return this._emptyTexture},v.default.RendererGL.prototype.getTexture=function(m){var b=this.textures,E=!0,L=!1,A=void 0;try{for(var R,V=b[Symbol.iterator]();!(E=(R=V.next()).done);E=!0){var U=R.value;if(U.src===m)return U}}catch(Q){L=!0,A=Q}finally{try{E||null==V.return||V.return()}finally{if(L)throw A}}var Z=new v.default.Texture(this,m);return b.push(Z),Z},v.default.RendererGL.prototype._setStrokeUniforms=function(m){m.bindShader(),m.setUniform("uMaterialColor",this.curStrokeColor),m.setUniform("uStrokeWeight",this.curStrokeWeight)},v.default.RendererGL.prototype._setFillUniforms=function(m){m.bindShader(),m.setUniform("uMaterialColor",this.curFillColor),m.setUniform("isTexture",!!this._tex),this._tex&&m.setUniform("uSampler",this._tex),m.setUniform("uTint",this._tint),m.setUniform("uSpecular",this._useSpecularMaterial),m.setUniform("uEmissive",this._useEmissiveMaterial),m.setUniform("uShininess",this._useShininess),m.setUniform("uUseLighting",this._enableLighting),m.setUniform("uPointLightCount",this.pointLightDiffuseColors.length/3),m.setUniform("uPointLightLocation",this.pointLightPositions),m.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),m.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),m.setUniform("uDirectionalLightCount",this.directionalLightDiffuseColors.length/3),m.setUniform("uLightingDirection",this.directionalLightDirections),m.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),m.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),m.setUniform("uAmbientLightCount",this.ambientLightColors.length/3),m.setUniform("uAmbientColor",this.ambientLightColors),m.setUniform("uSpotLightCount",this.spotLightDiffuseColors.length/3),m.setUniform("uSpotLightAngle",this.spotLightAngle),m.setUniform("uSpotLightConc",this.spotLightConc),m.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),m.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),m.setUniform("uSpotLightLocation",this.spotLightPositions),m.setUniform("uSpotLightDirection",this.spotLightDirections),m.setUniform("uConstantAttenuation",this.constantAttenuation),m.setUniform("uLinearAttenuation",this.linearAttenuation),m.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),m.bindTextures()},v.default.RendererGL.prototype._setPointUniforms=function(m){m.bindShader(),m.setUniform("uMaterialColor",this.curStrokeColor),m.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)},v.default.RendererGL.prototype._bindBuffer=function(m,b,E,L,A){if(this.GL.bindBuffer(b=b||this.GL.ARRAY_BUFFER,m),void 0!==E){var R=new(L||Float32Array)(E);this.GL.bufferData(b,R,A||this.GL.STATIC_DRAW)}},v.default.RendererGL.prototype._arraysEqual=function(m,b){var E=m.length;if(E!==b.length)return!1;for(var L=0;L<E;L++)if(m[L]!==b[L])return!1;return!0},v.default.RendererGL.prototype._isTypedArray=function(m){return m instanceof Uint32Array},v.default.RendererGL.prototype._flatten=function(m){if(0===m.length)return[];if(2e4<m.length){var b,E=Object.prototype.toString,L=[],A=m.slice();for(b=A.pop();"[object Array]"===E.call(b)?A.push.apply(A,g(b)):L.push(b),A.length&&void 0!==(b=A.pop()););return L.reverse(),L}var R;return(R=[]).concat.apply(R,g(m))},v.default.RendererGL.prototype._vToNArray=function(m){var b=[],E=!0,L=!1,A=void 0;try{for(var R,V=m[Symbol.iterator]();!(E=(R=V.next()).done);E=!0){var U=R.value;b.push(U.x,U.y,U.z)}}catch(Z){L=!0,A=Z}finally{try{E||null==V.return||V.return()}finally{if(L)throw A}}return b},v.default.prototype._assert3d=function(m){if(!this._renderer.isP3D)throw new Error("".concat(m,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},v.default.RendererGL.prototype._initTessy=function(){var m=new C.default.GluTesselator;return m.gluTessCallback(C.default.gluEnum.GLU_TESS_VERTEX_DATA,function(b,E){E[E.length]=b[0],E[E.length]=b[1],E[E.length]=b[2]}),m.gluTessCallback(C.default.gluEnum.GLU_TESS_BEGIN,function(b){b!==C.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(b))}),m.gluTessCallback(C.default.gluEnum.GLU_TESS_ERROR,function(b){console.log("error callback"),console.log("error number: ".concat(b))}),m.gluTessCallback(C.default.gluEnum.GLU_TESS_COMBINE,function(b,E,L){return[b[0],b[1],b[2]]}),m.gluTessCallback(C.default.gluEnum.GLU_TESS_EDGE_FLAG,function(b){}),m},v.default.RendererGL.prototype._triangulate=function(m){this._tessy.gluTessNormal(0,0,1);var b=[];this._tessy.gluTessBeginPolygon(b);for(var E=0;E<m.length;E++){this._tessy.gluTessBeginContour();for(var L=m[E],A=0;A<L.length;A+=3){var R=[L[A],L[A+1],L[A+2]];this._tessy.gluTessVertex(R,R)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),b},v.default.RendererGL.prototype._bezierCoefficients=function(m){var b=m*m,E=1-m,L=E*E;return[L*E,3*L*m,3*E*b,b*m]},v.default.RendererGL.prototype._quadraticCoefficients=function(m){var b=1-m;return[b*b,2*b*m,m*m]},v.default.RendererGL.prototype._bezierToCatmull=function(m){return[m[1],m[1]+(m[2]-m[0])/this._curveTightness,m[2]-(m[3]-m[1])/this._curveTightness,m[2]]},H.default=v.default.RendererGL},{"../core/constants":250,"../core/main":260,"../core/p5.Renderer":263,"./p5.Camera":308,"./p5.Matrix":310,"./p5.Shader":315,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.fill":150,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.from":153,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.assign":170,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.includes":182,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.float32-array":200,"core-js/modules/es.typed-array.float64-array":201,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.int16-array":205,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint16-array":221,"core-js/modules/es.typed-array.uint32-array":222,"core-js/modules/es.typed-array.uint8-array":223,"core-js/modules/web.dom-collections.iterator":226,libtess:234,path:237}],315:[function(d,ee,H){"use strict";d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.index-of"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.function.name"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.string.iterator"),d("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var z,v=(z=d("../core/main"))&&z.__esModule?z:{default:z};v.default.Shader=function(C,M,w){this._renderer=C,this._vertSrc=M,this._fragSrc=w,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]},v.default.Shader.prototype.init=function(){if(0===this._glProgram){var C=this._renderer.GL;if(this._vertShader=C.createShader(C.VERTEX_SHADER),C.shaderSource(this._vertShader,this._vertSrc),C.compileShader(this._vertShader),!C.getShaderParameter(this._vertShader,C.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:".concat(C.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=C.createShader(C.FRAGMENT_SHADER),C.shaderSource(this._fragShader,this._fragSrc),C.compileShader(this._fragShader),!C.getShaderParameter(this._fragShader,C.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:".concat(C.getShaderInfoLog(this._fragShader))),null;this._glProgram=C.createProgram(),C.attachShader(this._glProgram,this._vertShader),C.attachShader(this._glProgram,this._fragShader),C.linkProgram(this._glProgram),C.getProgramParameter(this._glProgram,C.LINK_STATUS)||console.error("Snap! Error linking shader program: ".concat(C.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this},v.default.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var C=this._renderer.GL,M=C.getProgramParameter(this._glProgram,C.ACTIVE_ATTRIBUTES),w=0;w<M;++w){var g=C.getActiveAttrib(this._glProgram,w),u=g.name,h=C.getAttribLocation(this._glProgram,u),f={};f.name=u,f.location=h,f.index=w,f.type=g.type,f.size=g.size,this.attributes[u]=f}this._loadedAttributes=!0}},v.default.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var C=this._renderer.GL,M=C.getProgramParameter(this._glProgram,C.ACTIVE_UNIFORMS),w=0,g=0;g<M;++g){var u=C.getActiveUniform(this._glProgram,g),h={};h.location=C.getUniformLocation(this._glProgram,u.name),h.size=u.size;var f=u.name;1<u.size&&(f=f.substring(0,f.indexOf("[0]"))),h.name=f,h.type=u.type,h._cachedData=void 0,h.type===C.SAMPLER_2D&&(h.samplerIndex=w,w++,this.samplers.push(h)),h.isArray=h.type===C.FLOAT_MAT3||h.type===C.FLOAT_MAT4||h.type===C.FLOAT_VEC2||h.type===C.FLOAT_VEC3||h.type===C.FLOAT_VEC4||h.type===C.INT_VEC2||h.type===C.INT_VEC3||h.type===C.INT_VEC4,this.uniforms[f]=h}this._loadedUniforms=!0}},v.default.Shader.prototype.compile=function(){},v.default.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))},v.default.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},v.default.Shader.prototype.bindTextures=function(){var C=this._renderer.GL,M=!0,w=!1,g=void 0;try{for(var u,h=this.samplers[Symbol.iterator]();!(M=(u=h.next()).done);M=!0){var f=u.value,m=f.texture;void 0===m&&(m=this._renderer._getEmptyTexture()),C.activeTexture(C.TEXTURE0+f.samplerIndex),m.bindTexture(),m.update(),C.uniform1i(f.location,f.samplerIndex)}}catch(b){w=!0,g=b}finally{try{M||null==h.return||h.return()}finally{if(w)throw g}}},v.default.Shader.prototype.updateTextures=function(){var C=!0,M=!1,w=void 0;try{for(var g,u=this.samplers[Symbol.iterator]();!(C=(g=u.next()).done);C=!0){var h=g.value.texture;h&&h.update()}}catch(f){M=!0,w=f}finally{try{C||null==u.return||u.return()}finally{if(M)throw w}}},v.default.Shader.prototype.unbindTextures=function(){},v.default.Shader.prototype._setMatrixUniforms=function(){this.setUniform("uProjectionMatrix",this._renderer.uPMatrix.mat4),this.isStrokeShader()&&this.setUniform("uPerspective","default"===this._renderer._curCamera.cameraType?1:0),this.setUniform("uModelViewMatrix",this._renderer.uMVMatrix.mat4),this.setUniform("uViewMatrix",this._renderer._curCamera.cameraMatrix.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},v.default.Shader.prototype.useProgram=function(){return this._renderer._curShader!==this&&(this._renderer.GL.useProgram(this._glProgram),this._renderer._curShader=this),this},v.default.Shader.prototype.setUniform=function(C,M){var w=this.uniforms[C];if(w){var g=this._renderer.GL;if(w.isArray){if(w._cachedData&&this._renderer._arraysEqual(w._cachedData,M))return;w._cachedData=M.slice(0)}else{if(w._cachedData&&w._cachedData===M)return;w._cachedData=M}var u=w.location;switch(this.useProgram(),w.type){case g.BOOL:g.uniform1i(u,!0===M?1:0);break;case g.INT:1<w.size?M.length&&g.uniform1iv(u,M):g.uniform1i(u,M);break;case g.FLOAT:1<w.size?M.length&&g.uniform1fv(u,M):g.uniform1f(u,M);break;case g.FLOAT_MAT3:g.uniformMatrix3fv(u,!1,M);break;case g.FLOAT_MAT4:g.uniformMatrix4fv(u,!1,M);break;case g.FLOAT_VEC2:1<w.size?M.length&&g.uniform2fv(u,M):g.uniform2f(u,M[0],M[1]);break;case g.FLOAT_VEC3:1<w.size?M.length&&g.uniform3fv(u,M):g.uniform3f(u,M[0],M[1],M[2]);break;case g.FLOAT_VEC4:1<w.size?M.length&&g.uniform4fv(u,M):g.uniform4f(u,M[0],M[1],M[2],M[3]);break;case g.INT_VEC2:1<w.size?M.length&&g.uniform2iv(u,M):g.uniform2i(u,M[0],M[1]);break;case g.INT_VEC3:1<w.size?M.length&&g.uniform3iv(u,M):g.uniform3i(u,M[0],M[1],M[2]);break;case g.INT_VEC4:1<w.size?M.length&&g.uniform4iv(u,M):g.uniform4i(u,M[0],M[1],M[2],M[3]);break;case g.SAMPLER_2D:g.activeTexture(g.TEXTURE0+w.samplerIndex),w.texture=this._renderer.getTexture(M),g.uniform1i(w.location,w.samplerIndex)}return this}},v.default.Shader.prototype.isLightShader=function(){return void 0!==this.attributes.aNormal||void 0!==this.uniforms.uUseLighting||void 0!==this.uniforms.uAmbientLightCount||void 0!==this.uniforms.uDirectionalLightCount||void 0!==this.uniforms.uPointLightCount||void 0!==this.uniforms.uAmbientColor||void 0!==this.uniforms.uDirectionalDiffuseColors||void 0!==this.uniforms.uDirectionalSpecularColors||void 0!==this.uniforms.uPointLightLocation||void 0!==this.uniforms.uPointLightDiffuseColors||void 0!==this.uniforms.uPointLightSpecularColors||void 0!==this.uniforms.uLightingDirection||void 0!==this.uniforms.uSpecular},v.default.Shader.prototype.isNormalShader=function(){return void 0!==this.attributes.aNormal},v.default.Shader.prototype.isTextureShader=function(){return 0<this.samplerIndex},v.default.Shader.prototype.isColorShader=function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor},v.default.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},v.default.Shader.prototype.isStrokeShader=function(){return void 0!==this.uniforms.uStrokeWeight},v.default.Shader.prototype.enableAttrib=function(C,M,w,g,u,h){if(C){var f=C.location;if(-1!==f){var m=this._renderer.GL;C.enabled||(m.enableVertexAttribArray(f),C.enabled=!0),this._renderer.GL.vertexAttribPointer(f,M,w||m.FLOAT,g||!1,u||0,h||0)}}return this},H.default=v.default.Shader},{"../core/main":260,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.slice":160,"core-js/modules/es.function.name":163,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],316:[function(d,ee,H){"use strict";function z(g){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(g)}d("core-js/modules/es.array.iterator"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.typed-array.uint8-array"),d("core-js/modules/es.typed-array.copy-within"),d("core-js/modules/es.typed-array.every"),d("core-js/modules/es.typed-array.fill"),d("core-js/modules/es.typed-array.filter"),d("core-js/modules/es.typed-array.find"),d("core-js/modules/es.typed-array.find-index"),d("core-js/modules/es.typed-array.for-each"),d("core-js/modules/es.typed-array.includes"),d("core-js/modules/es.typed-array.index-of"),d("core-js/modules/es.typed-array.iterator"),d("core-js/modules/es.typed-array.join"),d("core-js/modules/es.typed-array.last-index-of"),d("core-js/modules/es.typed-array.map"),d("core-js/modules/es.typed-array.reduce"),d("core-js/modules/es.typed-array.reduce-right"),d("core-js/modules/es.typed-array.reverse"),d("core-js/modules/es.typed-array.set"),d("core-js/modules/es.typed-array.slice"),d("core-js/modules/es.typed-array.some"),d("core-js/modules/es.typed-array.sort"),d("core-js/modules/es.typed-array.subarray"),d("core-js/modules/es.typed-array.to-locale-string"),d("core-js/modules/es.typed-array.to-string"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v,x=(v=d("../core/main"))&&v.__esModule?v:{default:v},C=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==z(g)&&"function"!=typeof g)return{default:g};var u=M();if(u&&u.has(g))return u.get(g);var h={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in g)if(Object.prototype.hasOwnProperty.call(g,m)){var b=f?Object.getOwnPropertyDescriptor(g,m):null;b&&(b.get||b.set)?Object.defineProperty(h,m,b):h[m]=g[m]}return h.default=g,u&&u.set(g,h),h}(d("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var g=new WeakMap;return M=function(){return g},g}x.default.Texture=function(g,u){this._renderer=g;var h=this._renderer.GL;this.src=u,this.glTex=void 0,this.glTarget=h.TEXTURE_2D,this.glFormat=h.RGBA,this.mipmaps=!1,this.glMinFilter=h.LINEAR,this.glMagFilter=h.LINEAR,this.glWrapS=h.CLAMP_TO_EDGE,this.glWrapT=h.CLAMP_TO_EDGE,this.isSrcMediaElement=void 0!==x.default.MediaElement&&u instanceof x.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==x.default.Element&&u instanceof x.default.Element&&!(u instanceof x.default.Graphics),this.isSrcP5Image=u instanceof x.default.Image,this.isSrcP5Graphics=u instanceof x.default.Graphics,this.isImageData="undefined"!=typeof ImageData&&u instanceof ImageData;var f=this._getTextureDataFromSource();return this.width=f.width,this.height=f.height,this.init(f),this},x.default.Texture.prototype._getTextureDataFromSource=function(){var g;return this.isSrcP5Image?g=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcHTMLElement?g=this.src.elt:this.isImageData&&(g=this.src),g},x.default.Texture.prototype.init=function(g){var u=this._renderer.GL;if(this.glTex=u.createTexture(),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,this.glMagFilter),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,this.glMinFilter),0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata){var h=new Uint8Array([1,1,1,1]);u.texImage2D(this.glTarget,0,u.RGBA,1,1,0,this.glFormat,u.UNSIGNED_BYTE,h)}else u.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,u.UNSIGNED_BYTE,g)},x.default.Texture.prototype.update=function(){var g=this.src;if(0===g.width||0===g.height)return!1;var u=this._getTextureDataFromSource(),h=!1,f=this._renderer.GL;return u.width!==this.width||u.height!==this.height?(h=!0,this.width=u.width,this.height=u.height,this.isSrcP5Image?g.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&g.setModified(!0)):this.isSrcP5Image?g.isModified()&&(h=!0,g.setModified(!1)):this.isSrcMediaElement?g.isModified()?(h=!0,g.setModified(!1)):g.loadedmetadata&&this._videoPrevUpdateTime!==g.time()&&(this._videoPrevUpdateTime=g.time(),h=!0):this.isImageData?g._dirty&&(h=!(g._dirty=!1)):h=!0,h&&(this.bindTexture(),f.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,f.UNSIGNED_BYTE,u)),h},x.default.Texture.prototype.bindTexture=function(){return this._renderer.GL.bindTexture(this.glTarget,this.glTex),this},x.default.Texture.prototype.unbindTexture=function(){this._renderer.GL.bindTexture(this.glTarget,null)},x.default.Texture.prototype.setInterpolation=function(g,u){var h=this._renderer.GL;this.glMinFilter=g===C.NEAREST?h.NEAREST:h.LINEAR,this.glMagFilter=u===C.NEAREST?h.NEAREST:h.LINEAR,this.bindTexture(),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,this.glMinFilter),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()},x.default.Texture.prototype.setWrapMode=function(g,u){function h(E){return 0==(E&E-1)}var f=this._renderer.GL,m=h(this.width),b=h(this.height);g===C.REPEAT?m&&b?this.glWrapS=f.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=f.CLAMP_TO_EDGE):g===C.MIRROR?m&&b?this.glWrapS=f.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=f.CLAMP_TO_EDGE):this.glWrapS=f.CLAMP_TO_EDGE,u===C.REPEAT?m&&b?this.glWrapT=f.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=f.CLAMP_TO_EDGE):u===C.MIRROR?m&&b?this.glWrapT=f.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=f.CLAMP_TO_EDGE):this.glWrapT=f.CLAMP_TO_EDGE,this.bindTexture(),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,this.glWrapS),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()},H.default=x.default.Texture},{"../core/constants":250,"../core/main":260,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint8-array":223}],317:[function(d,ee,H){"use strict";function z(f){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(f)}d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.string.iterator"),d("core-js/modules/es.string.split"),d("core-js/modules/es.string.sub"),d("core-js/modules/web.dom-collections.iterator");var v,x=(v=d("../core/main"))&&v.__esModule?v:{default:v},C=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==z(f)&&"function"!=typeof f)return{default:f};var m=M();if(m&&m.has(f))return m.get(f);var b={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var L in f)if(Object.prototype.hasOwnProperty.call(f,L)){var A=E?Object.getOwnPropertyDescriptor(f,L):null;A&&(A.get||A.set)?Object.defineProperty(b,L,A):b[L]=f[L]}return b.default=f,m&&m.set(f,b),b}(d("../core/constants"));function M(){if("function"!=typeof WeakMap)return null;var f=new WeakMap;return M=function(){return f},f}function w(f,m){this.width=f,this.height=m,this.infos=[],this.findImage=function(b){var E,L,A=this.width*this.height;if(A<b)throw new Error("font is too complex to render in 3D");for(var R=this.infos.length-1;0<=R;--R){var V=this.infos[R];if(V.index+b<A){L=(E=V).imageData;break}}if(!E){try{L=new ImageData(this.width,this.height)}catch(K){var U=document.getElementsByTagName("canvas")[0],Z=!U;U||((U=document.createElement("canvas")).style.display="none",document.body.appendChild(U));var Q=U.getContext("2d");Q&&(L=Q.createImageData(this.width,this.height)),Z&&document.body.removeChild(U)}this.infos.push(E={index:0,imageData:L})}var Y=E.index;return E.index+=b,L._dirty=!0,{imageData:L,index:Y}}}function g(f,m,b,E,L){var A=f.imageData.data,R=4*f.index++;A[R++]=m,A[R++]=b,A[R++]=E,A[R++]=L}function u(f){this.font=f,this.strokeImageInfos=new w(64,64),this.colDimImageInfos=new w(64,64),this.rowDimImageInfos=new w(64,64),this.colCellImageInfos=new w(64,64),this.rowCellImageInfos=new w(64,64),this.glyphInfos={},this.getGlyphInfo=function(m){var b=this.glyphInfos[m.index];if(b)return b;var E,L=m.getBoundingBox(),A=L.x1,R=L.y1,V=L.x2-A,U=L.y2-R,Z=m.path.commands;if(0==V||0==U||!Z.length)return this.glyphInfos[m.index]={};var Q,Y,K,te,q=[],oe=[],ie=[];for(E=8;0<=E;--E)ie.push([]);for(E=8;0<=E;--E)oe.push([]);function ye(ft,$t,xn){var Ct=q.length;function Sn(fe,ae,pe){for(var Ne=fe.length;0<Ne--;){var it=fe[Ne];it<ae&&(ae=it),pe<it&&(pe=it)}return{min:ae,max:pe}}q.push(xn);for(var Gn=Sn(ft,1,0),Et=Math.max(Math.floor(9*Gn.min),0),Tt=Math.min(Math.ceil(9*Gn.max),9),Jt=Et;Jt<Tt;++Jt)ie[Jt].push(Ct);for(var Ge=Sn($t,1,0),Gt=Math.max(Math.floor(9*Ge.min),0),At=Math.min(Math.ceil(9*Ge.max),9),le=Gt;le<At;++le)oe[le].push(Ct)}function Ve(ft){return($t=255*ft)<0?0:255<$t?255:$t;var $t}function _e(ft,$t,xn,Ct){this.p0=ft,this.c0=$t,this.c1=xn,this.p1=Ct,this.toQuadratic=function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}},this.quadError=function(){return x.default.Vector.sub(x.default.Vector.sub(this.p1,this.p0),x.default.Vector.mult(x.default.Vector.sub(this.c1,this.c0),3)).mag()/2},this.split=function(Sn){var Gn=x.default.Vector.lerp(this.p0,this.c0,Sn),Et=x.default.Vector.lerp(this.c0,this.c1,Sn),Tt=x.default.Vector.lerp(Gn,Et,Sn);this.c1=x.default.Vector.lerp(this.c1,this.p1,Sn),this.c0=x.default.Vector.lerp(Et,this.c1,Sn);var Jt=x.default.Vector.lerp(Tt,this.c0,Sn),Ge=new _e(this.p0,Gn,Tt,Jt);return this.p0=Jt,Ge},this.splitInflections=function(){var Sn=x.default.Vector.sub(this.c0,this.p0),Gn=x.default.Vector.sub(x.default.Vector.sub(this.c1,this.c0),Sn),Et=x.default.Vector.sub(x.default.Vector.sub(x.default.Vector.sub(this.p1,this.c1),Sn),x.default.Vector.mult(Gn,2)),Tt=[],Jt=Gn.x*Et.y-Gn.y*Et.x;if(0!==Jt){var Ge=Sn.x*Et.y-Sn.y*Et.x,Gt=Sn.x*Gn.y-Sn.y*Gn.x,At=Ge*Ge-4*Jt*Gt;if(0<=At){Jt<0&&(Jt=-Jt,Ge=-Ge,Gt=-Gt);var le=Math.sqrt(At),fe=(-Ge-le)/(2*Jt),ae=(-Ge+le)/(2*Jt);0<fe&&fe<1&&(Tt.push(this.split(fe)),ae=1-(1-ae)/(1-fe)),0<ae&&ae<1&&Tt.push(this.split(ae))}}return Tt.push(this),Tt}}function we(ft,$t,xn,Ct,Sn,Gn,Et,Tt){var Jt=new _e(new x.default.Vector(ft,$t),new x.default.Vector(xn,Ct),new x.default.Vector(Sn,Gn),new x.default.Vector(Et,Tt)).splitInflections(),Ge=[],Gt=30/h,At=!0,le=!1,fe=void 0;try{for(var ae,pe=Jt[Symbol.iterator]();!(At=(ae=pe.next()).done);At=!0){for(var Ne=ae.value,it=[],pt=void 0;!(.125<=(pt=Gt/Ne.quadError()));){var It=Math.pow(pt,1/3),Ye=Ne.split(It),Xt=Ne.split(1-It/(1-It));Ge.push(Ye),it.push(Ne),Ne=Xt}pt<1&&Ge.push(Ne.split(.5)),Ge.push(Ne),Array.prototype.push.apply(Ge,it.reverse())}}catch(_n){le=!0,fe=_n}finally{try{At||null==pe.return||pe.return()}finally{if(le)throw fe}}return Ge}function Le(ft,$t,xn,Ct){ye([ft,xn],[$t,Ct],{x:ft,y:$t,cx:(ft+xn)/2,cy:($t+Ct)/2})}function $e(ft,$t,xn,Ct){return Math.abs(xn-ft)<1e-5&&Math.abs(Ct-$t)<1e-5}var qe=!0,We=!1,tt=void 0;try{for(var Qe,ut=Z[Symbol.iterator]();!(qe=(Qe=ut.next()).done);qe=!0){var G=Qe.value,J=(G.x-A)/V,ue=(G.y-R)/U;if(!$e(Q,Y,J,ue)){switch(G.type){case"M":K=J,te=ue;break;case"L":Le(Q,Y,J,ue);break;case"Q":var Re=(G.x1-A)/V,Ee=(G.y1-R)/U;ye([Q,J,Re],[Y,ue,Ee],{x:Q,y:Y,cx:Re,cy:Ee});break;case"Z":$e(Q,Y,K,te)?q.push({x:Q,y:Y}):(Le(Q,Y,K,te),q.push({x:K,y:te}));break;case"C":for(var Ie=we(Q,Y,(G.x1-A)/V,(G.y1-R)/U,(G.x2-A)/V,(G.y2-R)/U,J,ue),Be=0;Be<Ie.length;Be++){var ht=Ie[Be].toQuadratic();ye([ht.x,ht.x1,ht.cx],[ht.y,ht.y1,ht.cy],ht)}break;default:throw new Error("unknown command type: ".concat(G.type))}Q=J,Y=ue}}}catch(ft){We=!0,tt=ft}finally{try{qe||null==ut.return||ut.return()}finally{if(We)throw tt}}for(var ze=q.length,Ze=this.strokeImageInfos.findImage(ze),Xe=Ze.index,Je=0;Je<ze;++Je){var ct=q[Je];g(Ze,Ve(ct.x),Ve(ct.y),Ve(ct.cx),Ve(ct.cy))}function mt(ft,$t,xn){for(var Ct=ft.length,Sn=$t.findImage(Ct),Gn=Sn.index,Et=0,Tt=0;Tt<Ct;++Tt)Et+=ft[Tt].length;for(var Jt=xn.findImage(Et),Ge=0;Ge<Ct;++Ge){var Gt=ft[Ge],At=Gt.length,le=Jt.index;g(Sn,le>>7,127&le,At>>7,127&At);for(var fe=0;fe<At;++fe){var ae=Gt[fe]+Xe;g(Jt,ae>>7,127&ae,0,0)}}return{cellImageInfo:Jt,dimOffset:Gn,dimImageInfo:Sn}}return(b=this.glyphInfos[m.index]={glyph:m,uGlyphRect:[L.x1,-L.y1,L.x2,-L.y2],strokeImageInfo:Ze,strokes:q,colInfo:mt(ie,this.colDimImageInfos,this.colCellImageInfos),rowInfo:mt(oe,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[b.colInfo.dimOffset,b.rowInfo.dimOffset],b}}d("./p5.Shader"),d("./p5.RendererGL.Retained"),x.default.RendererGL.prototype._applyTextProperties=function(){},x.default.RendererGL.prototype.textWidth=function(f){return this._isOpenType()?this._textFont._textWidth(f,this._textSize):0};var h=Math.sqrt(3);x.default.RendererGL.prototype._renderText=function(f,m,b,E,L){if(this._textFont&&"string"!=typeof this._textFont){if(!(L<=E)&&this._doFill){if(!this._isOpenType())return console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported"),f;f.push();var A=this._doStroke,R=this.drawMode;this._doStroke=!1,this.drawMode=C.TEXTURE;var V=this._textFont.font,U=this._textFont._fontInfo;U=U||(this._textFont._fontInfo=new u(V));var Z=this._textFont._handleAlignment(this,m,b,E),Q=this._textSize/V.unitsPerEm;this.translate(Z.x,Z.y,0),this.scale(Q,Q,1);var Y=this.GL,K=!this._defaultFontShader,te=this._getFontShader();te.init(),te.bindShader(),K&&(te.setUniform("uGridImageSize",[64,64]),te.setUniform("uCellsImageSize",[64,64]),te.setUniform("uStrokeImageSize",[64,64]),te.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor);var q=this.retainedMode.geometry.glyph;if(!q){var oe=this._textGeom=new x.default.Geometry(1,1,function(){for(var Ie=0;Ie<=1;Ie++)for(var Be=0;Be<=1;Be++)this.vertices.push(new x.default.Vector(Be,Ie,0)),this.uvs.push(Be,Ie)});oe.computeFaces().computeNormals(),q=this.createBuffers("glyph",oe)}var ie=!0,ye=!1,Ve=void 0;try{for(var _e,we=this.retainedMode.buffers.text[Symbol.iterator]();!(ie=(_e=we.next()).done);ie=!0)_e.value._prepareBuffer(q,te)}catch(Ie){ye=!0,Ve=Ie}finally{try{ie||null==we.return||we.return()}finally{if(ye)throw Ve}}this._bindBuffer(q.indexBuffer,Y.ELEMENT_ARRAY_BUFFER),te.setUniform("uMaterialColor",this.curFillColor);try{var Le=0,$e=null,qe=V.stringToGlyphs(m),We=!0,tt=!1,Qe=void 0;try{for(var ut,G=qe[Symbol.iterator]();!(We=(ut=G.next()).done);We=!0){var J=ut.value;$e&&(Le+=V.getKerningValue($e,J));var ue=U.getGlyphInfo(J);if(ue.uGlyphRect){var Re=ue.rowInfo,Ee=ue.colInfo;te.setUniform("uSamplerStrokes",ue.strokeImageInfo.imageData),te.setUniform("uSamplerRowStrokes",Re.cellImageInfo.imageData),te.setUniform("uSamplerRows",Re.dimImageInfo.imageData),te.setUniform("uSamplerColStrokes",Ee.cellImageInfo.imageData),te.setUniform("uSamplerCols",Ee.dimImageInfo.imageData),te.setUniform("uGridOffset",ue.uGridOffset),te.setUniform("uGlyphRect",ue.uGlyphRect),te.setUniform("uGlyphOffset",Le),te.bindTextures(),Y.drawElements(Y.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)}Le+=J.advanceWidth,$e=J}}catch(Ie){tt=!0,Qe=Ie}finally{try{We||null==G.return||G.return()}finally{if(tt)throw Qe}}}finally{te.unbindShader(),this._doStroke=A,this.drawMode=R,f.pop()}return f}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":250,"../core/main":260,"./p5.RendererGL.Retained":313,"./p5.Shader":315,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.split":188,"core-js/modules/es.string.sub":189,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}]},{},[245])(245)},969:(zo,d,ee)=>{"use strict";function H(n){return"function"==typeof n}let z=!1;const v={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else z&&console.log("RxJS: Back to a better error behavior. Thank you. <3");z=n},get useDeprecatedSynchronousErrorHandling(){return z}};function x(n){setTimeout(()=>{throw n},0)}const C={closed:!0,next(n){},error(n){if(v.useDeprecatedSynchronousErrorHandling)throw n;x(n)},complete(){}},M=Array.isArray||(n=>n&&"number"==typeof n.length);function w(n){return null!==n&&"object"==typeof n}const u=(()=>{function n(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,r)=>`${r+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return n.prototype=Object.create(Error.prototype),n})();class h{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof h)t.remove(this);else if(null!==t)for(let s=0;s<t.length;++s)t[s].remove(this);if(H(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(s){e=s instanceof u?f(s.errors):[s]}}if(M(o)){let s=-1,a=o.length;for(;++s<a;){const l=o[s];if(w(l))try{l.unsubscribe()}catch(c){e=e||[],c instanceof u?e=e.concat(f(c.errors)):e.push(c)}}}if(e)throw new u(e)}add(e){let t=e;if(!e)return h.EMPTY;switch(typeof e){case"function":t=new h(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof h)){const o=t;t=new h,t._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=t;if(null===r)t._parentOrParents=this;else if(r instanceof h){if(r===this)return t;t._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return t;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[t]:i.push(t),t}remove(e){const t=this._subscriptions;if(t){const r=t.indexOf(e);-1!==r&&t.splice(r,1)}}}var n;function f(n){return n.reduce((e,t)=>e.concat(t instanceof u?t.errors:t),[])}h.EMPTY=((n=new h).closed=!0,n);const m="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class E extends h{constructor(e,t,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=C;break;case 1:if(!e){this.destination=C;break}if("object"==typeof e){e instanceof E?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new L(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new L(this,e,t,r)}}[m](){return this}static create(e,t,r){const i=new E(e,t,r);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class L extends E{constructor(e,t,r,i){super(),this._parentSubscriber=e;let o,s=this;H(t)?o=t:t&&(o=t.next,r=t.error,i=t.complete,t!==C&&(s=Object.create(t),H(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=r,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:r}=v;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):x(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;x(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(r){if(this.unsubscribe(),v.useDeprecatedSynchronousErrorHandling)throw r;x(r)}}__tryOrSetError(e,t,r){if(!v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(i){return v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(x(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const V="function"==typeof Symbol&&Symbol.observable||"@@observable";function U(n){return n}let Y=(()=>{class n{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const{operator:o}=this,s=function(n,e,t){if(n){if(n instanceof E)return n;if(n[m])return n[m]()}return n||e||t?new E(n,e,t):new E(C)}(t,r,i);if(s.add(o?o.call(s,this.source):this.source||v.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),v.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),function(n){for(;n;){const{closed:e,destination:t,isStopped:r}=n;if(e||r)return!1;n=t&&t instanceof E?t:null}return!0}(t)?t.error(r):console.warn(r)}}forEach(t,r){return new(r=K(r))((i,o)=>{let s;s=this.subscribe(a=>{try{t(a)}catch(l){o(l),s&&s.unsubscribe()}},o,i)})}_subscribe(t){const{source:r}=this;return r&&r.subscribe(t)}[V](){return this}pipe(...t){return 0===t.length?this:function(n){return 0===n.length?U:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=K(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function K(n){if(n||(n=v.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const q=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class oe extends h{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}class ie extends E{constructor(e){super(e),this.destination=e}}let ye=(()=>{class n extends Y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[m](){return new ie(this)}lift(t){const r=new Ve(this,this);return r.operator=t,r}next(t){if(this.closed)throw new q;if(!this.isStopped){const{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].next(t)}}error(t){if(this.closed)throw new q;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].error(t);this.observers.length=0}complete(){if(this.closed)throw new q;this.isStopped=!0;const{observers:t}=this,r=t.length,i=t.slice();for(let o=0;o<r;o++)i[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new q;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new q;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new oe(this,t))}asObservable(){const t=new Y;return t.source=this,t}}return n.create=(e,t)=>new Ve(e,t),n})();class Ve extends ye{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):h.EMPTY}}function _e(n){return n&&"function"==typeof n.schedule}function we(n,e){return function(r){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new Le(n,e))}}class Le{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new $e(e,this.project,this.thisArg))}}class $e extends E{constructor(e,t,r){super(e),this.project=t,this.count=0,this.thisArg=r||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const qe=n=>e=>{for(let t=0,r=n.length;t<r&&!e.closed;t++)e.next(n[t]);e.complete()},Qe="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",ue=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Re(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const Ee=n=>{if(n&&"function"==typeof n[V])return(n=>e=>{const t=n[V]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(n);if(ue(n))return qe(n);if(Re(n))return(n=>e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,x),e))(n);if(n&&"function"==typeof n[Qe])return(n=>e=>{const t=n[Qe]();for(;;){let r;try{r=t.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(n);{const t=`You provided ${w(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function ht(n,e){return new Y(t=>{const r=new h;let i=0;return r.add(e.schedule(function(){i!==n.length?(t.next(n[i++]),t.closed||r.add(this.schedule())):t.complete()})),r})}function ct(n,e){return e?function(n,e){if(null!=n){if(function(n){return n&&"function"==typeof n[V]}(n))return function(n,e){return new Y(t=>{const r=new h;return r.add(e.schedule(()=>{const i=n[V]();r.add(i.subscribe({next(o){r.add(e.schedule(()=>t.next(o)))},error(o){r.add(e.schedule(()=>t.error(o)))},complete(){r.add(e.schedule(()=>t.complete()))}}))})),r})}(n,e);if(Re(n))return function(n,e){return new Y(t=>{const r=new h;return r.add(e.schedule(()=>n.then(i=>{r.add(e.schedule(()=>{t.next(i),r.add(e.schedule(()=>t.complete()))}))},i=>{r.add(e.schedule(()=>t.error(i)))}))),r})}(n,e);if(ue(n))return ht(n,e);if(function(n){return n&&"function"==typeof n[Qe]}(n)||"string"==typeof n)return function(n,e){if(!n)throw new Error("Iterable cannot be null");return new Y(t=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=n[Qe](),r.add(e.schedule(function(){if(t.closed)return;let o,s;try{const a=i.next();o=a.value,s=a.done}catch(a){return void t.error(a)}s?t.complete():(t.next(o),this.schedule())}))})),r})}(n,e)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,e):n instanceof Y?n:new Y(Ee(n))}class mt extends E{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class $t extends E{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function Ct(n,e){if(e.closed)return;if(n instanceof Y)return n.subscribe(e);let t;try{t=Ee(n)(e)}catch(r){e.error(r)}return t}function Sn(n,e,t=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(Sn((i,o)=>ct(n(i,o)).pipe(we((s,a)=>e(i,s,o,a))),t)):("number"==typeof e&&(t=e),r=>r.lift(new Gn(n,t)))}class Gn{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new Et(e,this.project,this.concurrent))}}class Et extends $t{constructor(e,t,r=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t)}_innerSub(e){const t=new mt(this),r=this.destination;r.add(t);const i=Ct(e,t);i!==t&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Jt(n=Number.POSITIVE_INFINITY){return Sn(U,n)}function Ge(n,e){return e?ht(n,e):new Y(qe(n))}function Gt(...n){let e=Number.POSITIVE_INFINITY,t=null,r=n[n.length-1];return _e(r)?(t=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(e=n.pop())):"number"==typeof r&&(e=n.pop()),null===t&&1===n.length&&n[0]instanceof Y?n[0]:Jt(e)(Ge(n,t))}function At(){return function(e){return e.lift(new le(e))}}class le{constructor(e){this.connectable=e}call(e,t){const{connectable:r}=this;r._refCount++;const i=new fe(e,r),o=t.subscribe(i);return i.closed||(i.connection=r.connect()),o}}class fe extends E{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:r}=this,i=e._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}}class ae extends Y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new h,e.add(this.source.subscribe(new Ne(this.getSubject(),this))),e.closed&&(this._connection=null,e=h.EMPTY)),e}refCount(){return At()(this)}}const pe=(()=>{const n=ae.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class Ne extends ie{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function Xt(){return new ye}function _n(){return n=>At()(function(n,e){return function(r){let i;i="function"==typeof n?n:function(){return n};const o=Object.create(r,pe);return o.source=r,o.subjectFactory=i,o}}(Xt)(n))}function dn(n){for(let e in n)if(n[e]===dn)return e;throw Error("Could not find renamed property on target object.")}function ar(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Kt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Kt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function er(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Nr=dn({__forward_ref__:dn});function fr(n){return n.__forward_ref__=fr,n.toString=function(){return Kt(this())},n}function Pn(n){return Fa(n)?n():n}function Fa(n){return"function"==typeof n&&n.hasOwnProperty(Nr)&&n.__forward_ref__===fr}class xs extends Error{constructor(e,t){super(function(n,e){return`${n?`NG0${n}: `:""}${e}`}(e,t)),this.code=e}}function Zn(n){return"string"==typeof n?n:null==n?"":String(n)}function ji(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Zn(n)}function Xs(n,e){const t=e?` in ${e}`:"";throw new xs("201",`No provider for ${ji(n)} found${t}`)}function ao(n,e){null==n&&function(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function sn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function dr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ks(n){return cd(n,rc)||cd(n,Uf)}function cd(n,e){return n.hasOwnProperty(e)?n[e]:null}function nc(n){return n&&(n.hasOwnProperty(ud)||n.hasOwnProperty(C4))?n[ud]:null}const rc=dn({\u0275prov:dn}),ud=dn({\u0275inj:dn}),Uf=dn({ngInjectableDef:dn}),C4=dn({ngInjectorDef:dn});var Wn=(()=>((Wn=Wn||{})[Wn.Default=0]="Default",Wn[Wn.Host=1]="Host",Wn[Wn.Self=2]="Self",Wn[Wn.SkipSelf=4]="SkipSelf",Wn[Wn.Optional=8]="Optional",Wn))();let hd;function Va(n){const e=hd;return hd=n,e}function E4(n,e,t){const r=Ks(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Wn.Optional?null:void 0!==e?e:void Xs(Kt(n),"Injector")}function Ha(n){return{toString:n}.toString()}var Ms=(()=>((Ms=Ms||{})[Ms.OnPush=0]="OnPush",Ms[Ms.Default=1]="Default",Ms))(),li=(()=>((li=li||{})[li.Emulated=0]="Emulated",li[li.None=2]="None",li[li.ShadowDom=3]="ShadowDom",li))();const K6="undefined"!=typeof globalThis&&globalThis,z4="undefined"!=typeof window&&window,A4="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Qr=K6||"undefined"!=typeof global&&global||z4||A4,ic={},fi=[],$u=dn({\u0275cmp:dn}),Ba=dn({\u0275dir:dn}),dd=dn({\u0275pipe:dn}),fd=dn({\u0275mod:dn}),k4=dn({\u0275loc:dn}),ga=dn({\u0275fac:dn}),Xu=dn({__NG_ELEMENT_ID__:dn});let L4=0;function tr(n){return Ha(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ms.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||fi,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||li.Emulated,id:"c",styles:n.styles||fi,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,o=n.features,s=n.pipes;return r.id+=L4++,r.inputs=$c(n.inputs,t),r.outputs=$c(n.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(O4):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(I4):null,r})}function O4(n){return lo(n)||function(n){return n[Ba]||null}(n)}function I4(n){return function(n){return n[dd]||null}(n)}const Wf={};function $n(n){return Ha(()=>{const e={type:n.type,bootstrap:n.bootstrap||fi,declarations:n.declarations||fi,imports:n.imports||fi,exports:n.exports||fi,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Wf[n.id]=n.type),e})}function $c(n,e){if(null==n)return ic;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}const tn=tr;function lo(n){return n[$u]||null}function Ko(n,e){const t=n[fd]||null;if(!t&&!0===e)throw new Error(`Type ${Kt(n)} does not have '\u0275mod' property.`);return t}function va(n){return Array.isArray(n)&&"object"==typeof n[1]}function Qs(n){return Array.isArray(n)&&!0===n[1]}function qf(n){return 0!=(8&n.flags)}function vd(n){return 2==(2&n.flags)}function yd(n){return 1==(1&n.flags)}function Ns(n){return null!==n.template}function Xi(n){return 0!=(512&n[2])}function An(n,e){return n.hasOwnProperty(ga)?n[ga]:null}class Un{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Tn(){return Ar}function Ar(n){return n.type.prototype.ngOnChanges&&(n.setInput=Lr),Pr}function Pr(){const n=Xr(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===ic)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Lr(n,e,t,r){const i=Xr(n)||function(n,e){return n[Jr]=e}(n,{previous:ic,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[t],l=s[a];o[a]=new Un(l&&l.currentValue,e,s===ic),n[r]=e}Tn.ngInherit=!0;const Jr="__ngSimpleChanges__";function Xr(n){return n[Jr]||null}let Ir;function ci(){return void 0!==Ir?Ir:"undefined"!=typeof document?document:void 0}function ti(n){return!!n.listen}const wl={createRenderer:(n,e)=>ci()};function xi(n){for(;Array.isArray(n);)n=n[0];return n}function Zc(n,e){return xi(e[n])}function ya(n,e){return xi(e[n.index])}function tg(n,e){return n.data[e]}function Js(n,e){const t=e[n];return va(t)?t:t[0]}function Bb(n){return 4==(4&n[2])}function ng(n){return 128==(128&n[2])}function Qc(n,e){return null==e?null:n[e]}function jb(n){n[18]=0}function rg(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const pr={lFrame:Kb(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ub(){return pr.bindingsEnabled}function Ut(){return pr.lFrame.lView}function Zr(){return pr.lFrame.tView}function Vo(n){return pr.lFrame.contextLView=n,n[8]}function Po(){let n=Yb();for(;null!==n&&64===n.type;)n=n.parent;return n}function Yb(){return pr.lFrame.currentTNode}function xl(n,e){const t=pr.lFrame;t.currentTNode=n,t.isParent=e}function ig(){return pr.lFrame.isParent}function og(){pr.lFrame.isParent=!1}function N4(){return pr.isInCheckNoChangesMode}function V4(n){pr.isInCheckNoChangesMode=n}function bd(){return pr.lFrame.bindingIndex++}function uc(n){const e=pr.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function kN(n,e){const t=pr.lFrame;t.bindingIndex=t.bindingRootIndex=n,sg(e)}function sg(n){pr.lFrame.currentDirectiveIndex=n}function ag(n){const e=pr.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function qb(){return pr.lFrame.currentQueryIndex}function lg(n){pr.lFrame.currentQueryIndex=n}function ON(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function $b(n,e,t){if(t&Wn.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&Wn.Host||(i=ON(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,n=o}const r=pr.lFrame=Xb();return r.currentTNode=e,r.lView=n,!0}function H4(n){const e=Xb(),t=n[1];pr.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Xb(){const n=pr.lFrame,e=null===n?null:n.child;return null===e?Kb(n):e}function Kb(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Zb(){const n=pr.lFrame;return pr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Qb=Zb;function B4(){const n=Zb();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ts(){return pr.lFrame.selectedIndex}function Jc(n){pr.lFrame.selectedIndex=n}function Ki(){const n=pr.lFrame;return tg(n.tView,n.selectedIndex)}function j4(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:p}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=p&&(n.destroyHooks||(n.destroyHooks=[])).push(t,p)}}function U4(n,e,t){Jb(n,e,3,t)}function Y4(n,e,t,r){(3&n[2])===t&&Jb(n,e,t,r)}function cg(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function Jb(n,e,t,r){const o=null!=r?r:-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(UN(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function UN(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Xf{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function G4(n,e,t){const r=ti(n);let i=0;for(;i<t.length;){const o=t[i];if("number"==typeof o){if(0!==o)break;i++;const s=t[i++],a=t[i++],l=t[i++];r?n.setAttribute(e,a,l,s):e.setAttributeNS(s,a,l)}else{const s=o,a=t[++i];hg(s)?r&&n.setProperty(e,s,a):r?n.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function ew(n){return 3===n||4===n||6===n}function hg(n){return 64===n.charCodeAt(0)}function W4(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||tw(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function tw(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function nw(n){return-1!==n}function wd(n){return 32767&n}function xd(n,e){let t=function(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let dg=!0;function q4(n){const e=dg;return dg=n,e}let XN=0;function Zf(n,e){const t=pg(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,fg(r.data,n),fg(e,null),fg(r.blueprint,null));const i=$4(n,e),o=n.injectorIndex;if(nw(i)){const s=wd(i),a=xd(i,e),l=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function fg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function pg(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function $4(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const o=i[1],s=o.type;if(r=2===s?o.declTNode:1===s?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function X4(n,e,t){!function(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Xu)&&(r=t[Xu]),null==r&&(r=t[Xu]=XN++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function ow(n,e,t){if(t&Wn.Optional)return n;Xs(e,"NodeInjector")}function sw(n,e,t,r){if(t&Wn.Optional&&void 0===r&&(r=null),0==(t&(Wn.Self|Wn.Host))){const i=n[9],o=Va(void 0);try{return i?i.get(e,r,t&Wn.Optional):E4(e,r,t&Wn.Optional)}finally{Va(o)}}return ow(r,e,t)}function aw(n,e,t,r=Wn.Default,i){if(null!==n){const o=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Xu)?n[Xu]:void 0;return"number"==typeof e?e>=0?255&e:QN:e}(t);if("function"==typeof o){if(!$b(e,n,r))return r&Wn.Host?ow(i,t,r):sw(e,t,r,i);try{const s=o(r);if(null!=s||r&Wn.Optional)return s;Xs(t)}finally{Qb()}}else if("number"==typeof o){let s=null,a=pg(n,e),l=-1,c=r&Wn.Host?e[16][6]:null;for((-1===a||r&Wn.SkipSelf)&&(l=-1===a?$4(n,e):e[a+8],-1!==l&&uw(r,!1)?(s=e[1],a=wd(l),e=xd(l,e)):a=-1);-1!==a;){const p=e[1];if(cw(o,a,p.data)){const _=JN(a,e,t,s,r,c);if(_!==lw)return _}l=e[a+8],-1!==l&&uw(r,e[1].data[a+8]===c)&&cw(o,a,e)?(s=p,a=wd(l),e=xd(l,e)):a=-1}}}return sw(e,t,r,i)}const lw={};function QN(){return new Md(Po(),Ut())}function JN(n,e,t,r,i,o){const s=e[1],a=s.data[n+8],p=K4(a,s,t,null==r?vd(a)&&dg:r!=s&&0!=(3&a.type),i&Wn.Host&&o===a);return null!==p?Qf(e,s,p,a):lw}function K4(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,p=o>>20,S=i?a+p:n.directiveEnd;for(let D=r?a:a+p;D<S;D++){const k=s[D];if(D<l&&t===k||D>=l&&k.type===t)return D}if(i){const D=s[l];if(D&&Ns(D)&&D.type===t)return l}return null}function Qf(n,e,t,r){let i=n[t];const o=e.data;if(function(n){return n instanceof Xf}(i)){const s=i;s.resolving&&function(n,e){throw new xs("200",`Circular dependency in DI detected for ${n}`)}(ji(o[t]));const a=q4(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Va(s.injectImpl):null;$b(n,r,Wn.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=Ar(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==l&&Va(l),q4(a),s.resolving=!1,Qb()}}return i}function cw(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function uw(n,e){return!(n&Wn.Self||n&Wn.Host&&e)}class Md{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return aw(this._tNode,this._lView,e,r,t)}}function Hs(n){return Ha(()=>{const e=n.prototype.constructor,t=e[ga]||mg(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[ga]||mg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function mg(n){return Fa(n)?()=>{const e=mg(Pn(n));return e&&e()}:An(n)}function Jf(n){return function(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(ew(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(Po(),n)}const Cd="__parameters__";function Ju(n,e,t){return Ha(()=>{const r=function(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,p){const _=l.hasOwnProperty(Cd)?l[Cd]:Object.defineProperty(l,Cd,{value:[]})[Cd];for(;_.length<=p;)_.push(null);return(_[p]=_[p]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class Nn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=sn({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const rV=new Nn("AnalyzeForEntryComponents"),Z4=Function;function _a(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),_a(r,e)):e!==n&&e.push(r)}return e}function Sl(n,e){n.forEach(t=>Array.isArray(t)?Sl(t,e):e(t))}function J4(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function eh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function tu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function ea(n,e,t){let r=Ed(n,e);return r>=0?n[1|r]=t:(r=~r,function(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function vg(n,e){const t=Ed(n,e);if(t>=0)return n[1|t]}function Ed(n,e){return function(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const r0={},_g="__NG_DI_FLAG__",Dd="ngTempTokenPath",fV=/\n/gm,bg="__source",wg=dn({provide:String,useValue:dn});let i0;function zd(n){const e=i0;return i0=n,e}function mV(n,e=Wn.Default){if(void 0===i0)throw new Error("inject() must be called from an injection context");return null===i0?E4(n,void 0,e):i0.get(n,e&Wn.Optional?null:void 0,e)}function Ke(n,e=Wn.Default){return(hd||mV)(Pn(n),e)}const gV=Ke;function th(n){const e=[];for(let t=0;t<n.length;t++){const r=Pn(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,o=Wn.Default;for(let s=0;s<r.length;s++){const a=r[s],l=vV(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(Ke(i,o))}else e.push(Ke(r))}return e}function o0(n,e){return n[_g]=e,n.prototype[_g]=e,n}function vV(n){return n[_g]}function gw(n,e,t,r){const i=n[Dd];throw e[bg]&&i.unshift(e[bg]),n.message=function(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=Kt(e);if(Array.isArray(e))i=e.map(Kt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Kt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(fV,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Dd]=null,n}const Ad=o0(Ju("Inject",n=>({token:n})),-1),Zo=o0(Ju("Optional"),8),Ya=o0(Ju("SkipSelf"),4);let r2,i2;function kd(n){var e;return(null===(e=function(){if(void 0===r2&&(r2=null,Qr.trustedTypes))try{r2=Qr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return r2}())||void 0===e?void 0:e.createHTML(n))||n}function ww(n){var e;return(null===(e=function(){if(void 0===i2&&(i2=null,Qr.trustedTypes))try{i2=Qr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return i2}())||void 0===e?void 0:e.createHTML(n))||n}class nh{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class DV extends nh{getTypeName(){return"HTML"}}class zV extends nh{getTypeName(){return"Style"}}class AV extends nh{getTypeName(){return"Script"}}class PV extends nh{getTypeName(){return"URL"}}class kV extends nh{getTypeName(){return"ResourceURL"}}function ta(n){return n instanceof nh?n.changingThisBreaksApplicationSecurity:n}function Cl(n,e){const t=Sw(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function Sw(n){return n instanceof nh&&n.getTypeName()||null}class NV{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(kd(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class VV{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=kd(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=kd(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const s=t.item(i).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const BV=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,jV=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function a0(n){return(n=String(n)).match(BV)||n.match(jV)?n:"unsafe:"+n}function Tw(n){return(n=String(n)).split(",").map(e=>a0(e.trim())).join(", ")}function Tl(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function l0(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const Ew=Tl("area,br,col,hr,img,wbr"),Dw=Tl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zw=Tl("rp,rt"),Cg=l0(Ew,l0(Dw,Tl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),l0(zw,Tl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),l0(zw,Dw)),Tg=Tl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Eg=Tl("srcset"),Aw=l0(Tg,Eg,Tl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Tl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),UV=Tl("script,style,template");class YV{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Cg.hasOwnProperty(t))return this.sanitizedSomething=!0,!UV.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!Aw.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;Tg[a]&&(l=a0(l)),Eg[a]&&(l=Tw(l)),this.buf.push(" ",s,'="',Pw(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Cg.hasOwnProperty(t)&&!Ew.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Pw(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const GV=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,WV=/([^\#-~ |!])/g;function Pw(n){return n.replace(/&/g,"&amp;").replace(GV,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(WV,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let o2;function kw(n,e){let t=null;try{o2=o2||function(n){const e=new VV(n);return function(){try{return!!(new window.DOMParser).parseFromString(kd(""),"text/html")}catch(n){return!1}}()?new NV(e):e}(n);let r=e?String(e):"";t=o2.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=o2.getInertBodyElement(r)}while(r!==o);return kd((new YV).sanitizeChildren(Dg(t)||t))}finally{if(t){const r=Dg(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Dg(n){return"content"in n&&function(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Mi=(()=>((Mi=Mi||{})[Mi.NONE=0]="NONE",Mi[Mi.HTML=1]="HTML",Mi[Mi.STYLE=2]="STYLE",Mi[Mi.SCRIPT=3]="SCRIPT",Mi[Mi.URL=4]="URL",Mi[Mi.RESOURCE_URL=5]="RESOURCE_URL",Mi))();function Lw(n){const e=c0();return e?ww(e.sanitize(Mi.HTML,n)||""):Cl(n,"HTML")?ww(ta(n)):kw(ci(),Zn(n))}function zg(n){const e=c0();return e?e.sanitize(Mi.URL,n)||"":Cl(n,"URL")?ta(n):a0(Zn(n))}function c0(){const n=Ut();return n&&n[12]}const Rw="__ngContext__";function ls(n,e){n[Rw]=e}function Pg(n){const e=function(n){return n[Rw]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function s2(n){return n.ngOriginalError}function cH(n,...e){n.error(...e)}class rh{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=this._findContext(e),i=function(n){return n&&n.ngErrorLogger||cH}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(e){return e?function(n){return n.ngDebugContext}(e)||this._findContext(s2(e)):null}_findOriginalError(e){let t=e&&s2(e);for(;t&&s2(t);)t=s2(t);return t||null}}const Gw=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Qr))();function El(n){return n instanceof Function?n():n}var na=(()=>((na=na||{})[na.Important=1]="Important",na[na.DashCase=2]="DashCase",na))();function Og(n,e){return undefined(n,e)}function h0(n){const e=n[3];return Qs(e)?e[3]:e}function Ig(n){return Kw(n[13])}function Rg(n){return Kw(n[4])}function Kw(n){for(;null!==n&&!Qs(n);)n=n[4];return n}function Od(n,e,t,r,i){if(null!=r){let o,s=!1;Qs(r)?o=r:va(r)&&(s=!0,r=r[0]);const a=xi(r);0===n&&null!==t?null==i?nx(e,t,a):ih(e,t,a,i||null,!0):1===n&&null!==t?ih(e,t,a,i||null,!0):2===n?function(n,e,t){const r=l2(n,e);r&&function(n,e,t,r){ti(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function(n,e,t,r,i){const o=t[7];o!==xi(t)&&Od(e,n,r,o,i);for(let a=10;a<t.length;a++){const l=t[a];d0(l[1],l,n,e,r,o)}}(e,n,o,t,i)}}function Ng(n,e,t){return ti(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function Qw(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,rg(i,-1)),t.splice(r,1)}function Vg(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&Qw(i,r),e>0&&(n[t-1][4]=r[4]);const o=eh(n,10+e);!function(n,e){d0(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Jw(n,e){if(!(256&e[2])){const t=e[11];ti(t)&&t.destroyNode&&d0(n,e,t,3,null,null),function(n){let e=n[13];if(!e)return Hg(n[1],n);for(;e;){let t=null;if(va(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)va(e)&&Hg(e[1],e),e=e[3];null===e&&(e=n),va(e)&&Hg(e[1],e),t=e&&e[4]}e=t}}(e)}}function Hg(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Xf)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(i)}finally{}}}}(n,e),function(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+1],a="function"==typeof s?s(e):xi(e[s]),l=r[i=t[o+2]],c=t[o+3];"boolean"==typeof c?a.removeEventListener(t[o],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{const s=r[i=t[o+1]];t[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)r[o]();e[7]=null}}(n,e),1===e[1].type&&ti(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&Qs(e[3])){t!==e[3]&&Qw(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function ex(n,e,t){return function(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===li.None||i===li.Emulated)return null}return ya(r,t)}(n,e.parent,t)}function ih(n,e,t,r,i){ti(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function nx(n,e,t){ti(n)?n.appendChild(e,t):e.appendChild(t)}function rx(n,e,t,r,i){null!==r?ih(n,e,t,r,i):nx(n,e,t)}function l2(n,e){return ti(n)?n.parentNode(e):e.parentNode}function ix(n,e,t){return sx(n,e,t)}let sx=function(n,e,t){return 40&n.type?ya(n,t):null};function c2(n,e,t,r){const i=ex(n,r,e),o=e[11],a=ix(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)rx(o,i,t[l],a,!1);else rx(o,i,t,a,!1)}function u2(n,e){if(null!==e){const t=e.type;if(3&t)return ya(e,n);if(4&t)return jg(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return u2(n,r);{const i=n[e.index];return Qs(i)?jg(-1,i):xi(i)}}if(32&t)return Og(e,n)()||xi(n[e.index]);{const r=lx(n,e);return null!==r?Array.isArray(r)?r[0]:u2(h0(n[16]),r):u2(n,e.next)}}return null}function lx(n,e){return null!==e?n[16][6].projection[e.projection]:null}function jg(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return u2(r,i)}return e[7]}function Ug(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],l=t.type;if(s&&0===e&&(a&&ls(xi(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)Ug(n,e,t.child,r,i,o,!1),Od(e,n,i,a,o);else if(32&l){const c=Og(t,r);let p;for(;p=c();)Od(e,n,i,p,o);Od(e,n,i,a,o)}else 16&l?ux(n,e,r,t,i,o):Od(e,n,i,a,o);t=s?t.projectionNext:t.next}}function d0(n,e,t,r,i,o){Ug(t,r,n.firstChild,e,i,o,!1)}function ux(n,e,t,r,i,o){const s=t[16],l=s[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Od(e,n,i,l[c],o);else Ug(n,e,l,s[3],i,o,!0)}function hx(n,e,t){ti(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Yg(n,e,t){ti(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function dx(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const fx="ng-template";function IH(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==dx(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function px(n){return 4===n.type&&n.value!==fx}function RH(n,e,t){return e===(4!==n.type||t?n.value:fx)}function FH(n,e,t){let r=4;const i=n.attrs||[],o=function(n){for(let e=0;e<n.length;e++)if(ew(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!RH(n,l,t)||""===l&&1===e.length){if(Ga(r))return!1;s=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!IH(n.attrs,c,t)){if(Ga(r))return!1;s=!0}continue}const _=NH(8&r?"class":l,i,px(n),t);if(-1===_){if(Ga(r))return!1;s=!0;continue}if(""!==c){let S;S=_>o?"":i[_+1].toLowerCase();const D=8&r?S:null;if(D&&-1!==dx(D,c,0)||2&r&&c!==S){if(Ga(r))return!1;s=!0}}}}else{if(!s&&!Ga(r)&&!Ga(l))return!1;if(s&&Ga(l))continue;s=!1,r=l|1&r}}return Ga(r)||s}function Ga(n){return 0==(1&n)}function NH(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function mx(n,e,t=!1){for(let r=0;r<e.length;r++)if(FH(n,e[r],t))return!0;return!1}function jH(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function gx(n,e){return n?":not("+e.trim()+")":e}function UH(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Ga(s)&&(e+=gx(o,i),i=""),r=s,o=o||!Ga(r);t++}return""!==i&&(e+=gx(o,i)),e}const _r={};function an(n){vx(Zr(),Ut(),Ts()+n,N4())}function vx(n,e,t,r){if(!r)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&U4(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Y4(e,o,0,t)}Jc(t)}function h2(n,e){return n<<17|e<<2}function Wa(n){return n>>17&32767}function Gg(n){return 2|n}function hc(n){return(131068&n)>>2}function Wg(n,e){return-131069&n|e<<2}function qg(n){return 1|n}function Ex(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],o=t[r+1];if(-1!==o){const s=n.data[o];lg(i),s.contentQueries(2,e[o],o)}}}function f0(n,e,t,r,i,o,s,a,l,c){const p=e.blueprint.slice();return p[0]=i,p[2]=140|r,jb(p),p[3]=p[15]=n,p[8]=t,p[10]=s||n&&n[10],p[11]=a||n&&n[11],p[12]=l||n&&n[12]||null,p[9]=c||n&&n[9]||null,p[6]=o,p[16]=2==e.type?n[16]:p,p}function Id(n,e,t,r,i){let o=n.data[e];if(null===o)o=function(n,e,t,r,i){const o=Yb(),s=ig(),l=n.data[e]=function(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,e,t,r,i),pr.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function(){const n=pr.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return xl(o,!0),o}function Rd(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function p0(n,e,t){H4(e);try{const r=n.viewQuery;null!==r&&cv(1,r,t);const i=n.template;null!==i&&Dx(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Ex(n,e),n.staticViewQueries&&cv(2,n.viewQuery,t);const o=n.components;null!==o&&function(n,e){for(let t=0;t<e.length;t++)xB(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,B4()}}function Fd(n,e,t,r){const i=e[2];if(256==(256&i))return;H4(e);const o=N4();try{jb(e),function(n){pr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Dx(n,e,t,2,r);const s=3==(3&i);if(!o)if(s){const c=n.preOrderCheckHooks;null!==c&&U4(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Y4(e,c,0,null),cg(e,0)}if(function(n){for(let e=Ig(n);null!==e;e=Rg(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],o=i[3];0==(1024&i[2])&&rg(o,1),i[2]|=1024}}}(e),function(n){for(let e=Ig(n);null!==e;e=Rg(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];ng(r)&&Fd(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&Ex(n,e),!o)if(s){const c=n.contentCheckHooks;null!==c&&U4(e,c)}else{const c=n.contentHooks;null!==c&&Y4(e,c,1),cg(e,1)}!function(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Jc(~i);else{const o=i,s=t[++r],a=t[++r];kN(s,o),a(2,e[o])}}}finally{Jc(-1)}}(n,e);const a=n.components;null!==a&&function(n,e){for(let t=0;t<e.length;t++)wB(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&cv(2,l,r),!o)if(s){const c=n.viewCheckHooks;null!==c&&U4(e,c)}else{const c=n.viewHooks;null!==c&&Y4(e,c,2),cg(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,rg(e[3],-1))}finally{B4()}}function nB(n,e,t,r){const i=e[10],o=!N4(),s=Bb(e);try{o&&!s&&i.begin&&i.begin(),s&&p0(n,e,r),Fd(n,e,t,r)}finally{o&&!s&&i.end&&i.end()}}function Dx(n,e,t,r,i){const o=Ts(),s=2&r;try{Jc(-1),s&&e.length>20&&vx(n,e,20,N4()),t(r,i)}finally{Jc(o)}}function zx(n,e,t){if(qf(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function tv(n,e,t){!Ub()||(function(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;n.firstCreatePass||Zf(t,e),ls(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const l=n.data[a],c=Ns(l);c&&gB(e,t,l);const p=Qf(e,n,a,t);ls(p,e),null!==s&&vB(0,a-i,p,l,0,s),c&&(Js(t.index,e)[8]=p)}}(n,e,t,ya(t,e)),128==(128&t.flags)&&function(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,a=pr.lFrame.currentDirectiveIndex;try{Jc(s);for(let l=r;l<i;l++){const c=n.data[l],p=e[l];sg(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Fx(c,p)}}finally{Jc(-1),sg(a)}}(n,e,t))}function nv(n,e,t=ya){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function Ax(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=p2(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function p2(n,e,t,r,i,o,s,a,l,c){const p=20+r,_=p+i,S=function(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:_r);return t}(p,_),D="function"==typeof c?c():c;return S[1]={type:n,blueprint:S,template:t,queries:null,viewQuery:a,declTNode:e,data:S.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:D,incompleteFirstPass:!1}}function Lx(n,e,t,r){const i=Ux(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&Yx(n).push(r,i.length-1))}function Ox(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function ra(n,e,t,r,i,o,s,a){const l=ya(e,t);let p,c=e.inputs;!a&&null!=c&&(p=c[r])?(qx(n,t,p,r,i),vd(e)&&function(n,e){const t=Js(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,ti(o)?o.setProperty(l,r,i):hg(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function rv(n,e,t,r){let i=!1;if(Ub()){const o=function(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];mx(t,s.selectors,!1)&&(i||(i=[]),X4(Zf(t,e),n,s.type),Ns(s)?(Nx(n,t),i.unshift(s)):i.push(s))}return i}(n,e,t),s=null===r?null:{"":-1};if(null!==o){i=!0,Vx(t,n.data.length,o.length);for(let p=0;p<o.length;p++){const _=o[p];_.providersResolver&&_.providersResolver(_)}let a=!1,l=!1,c=Rd(n,e,o.length,null);for(let p=0;p<o.length;p++){const _=o[p];t.mergedAttrs=W4(t.mergedAttrs,_.hostAttrs),Hx(n,t,e,c,_),mB(c,_,s),null!==_.contentQueries&&(t.flags|=8),(null!==_.hostBindings||null!==_.hostAttrs||0!==_.hostVars)&&(t.flags|=128);const S=_.type.prototype;!a&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}!function(n,e){const r=e.directiveEnd,i=n.data,o=e.attrs,s=[];let a=null,l=null;for(let c=e.directiveStart;c<r;c++){const p=i[c],_=p.inputs,S=null===o||px(e)?null:yB(_,o);s.push(S),a=Ox(_,c,a),l=Ox(p.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=l}(n,t)}s&&function(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new xs("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],o)}}}(t,r,s)}return t.mergedAttrs=W4(t.mergedAttrs,t.attrs),i}function Rx(n,e,t,r,i,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,s)}}function Fx(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Nx(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function mB(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ns(e)&&(t[""]=n)}}function Vx(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Hx(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=An(i.type)),s=new Xf(o,Ns(i),null);n.blueprint[r]=s,t[r]=s,Rx(n,e,0,r,Rd(n,t,i.hostVars,_r),i)}function gB(n,e,t){const r=ya(e,n),i=Ax(t),o=n[10],s=m2(n,f0(n,i,null,t.onPush?64:16,r,e,o,o.createRenderer(r,t),null,null));n[e.index]=s}function Dl(n,e,t,r,i,o){const s=ya(n,e);!function(n,e,t,r,i,o,s){if(null==o)ti(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==s?Zn(o):s(o,r||"",i);ti(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[11],s,o,n.value,t,r,i)}function vB(n,e,t,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let l=0;l<s.length;){const c=s[l++],p=s[l++],_=s[l++];null!==a?r.setInput(t,_,c,p):t[p]=_}}}function yB(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function Bx(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function wB(n,e){const t=Js(e,n);if(ng(t)){const r=t[1];80&t[2]?Fd(r,t,r.template,t[8]):t[5]>0&&ov(t)}}function ov(n){for(let r=Ig(n);null!==r;r=Rg(r))for(let i=10;i<r.length;i++){const o=r[i];if(1024&o[2]){const s=o[1];Fd(s,o,s.template,o[8])}else o[5]>0&&ov(o)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Js(t[r],n);ng(i)&&i[5]>0&&ov(i)}}function xB(n,e){const t=Js(e,n),r=t[1];(function(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),p0(r,t,t[8])}function m2(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function sv(n){for(;n;){n[2]|=64;const e=h0(n);if(Xi(n)&&!e)return n;n=e}return null}function lv(n,e,t){const r=e[10];r.begin&&r.begin();try{Fd(n,e,n.template,t)}catch(i){throw Wx(e,i),i}finally{r.end&&r.end()}}function jx(n){!function(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=Pg(t),i=r[1];nB(i,r,i.template,t)}}(n[8])}function cv(n,e,t){lg(0),e(n,t)}const EB=(()=>Promise.resolve(null))();function Ux(n){return n[7]||(n[7]=[])}function Yx(n){return n.cleanup||(n.cleanup=[])}function Wx(n,e){const t=n[9],r=t?t.get(rh,null):null;r&&r.handleError(e)}function qx(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],l=e[s],c=n.data[s];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function fc(n,e,t){const r=Zc(e,n);!function(n,e,t){ti(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function g2(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=er(i,a):2==o&&(r=er(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const Nd=new Nn("INJECTOR",-1);class $x{get(e,t=r0){if(t===r0){const r=new Error(`NullInjectorError: No provider for ${Kt(e)}!`);throw r.name="NullInjectorError",r}return t}}const m0=new Nn("Set Injector scope."),g0={},AB={};let uv;function Xx(){return void 0===uv&&(uv=new $x),uv}function Kx(n,e=null,t=null,r){return new kB(n,t,e||Xx(),r)}class kB{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];t&&Sl(t,a=>this.processProvider(a,e,t)),Sl([e],a=>this.processInjectorType(a,[],o)),this.records.set(Nd,Vd(void 0,this));const s=this.records.get(m0);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof e?null:Kt(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=r0,r=Wn.Default){this.assertNotDestroyed();const i=zd(this),o=Va(void 0);try{if(!(r&Wn.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof Nn}(e)&&Ks(e);a=l&&this.injectableDefInScope(l)?Vd(hv(e),g0):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Wn.Self?Xx():this.parent).get(e,t=r&Wn.Optional&&t===r0?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Dd]=s[Dd]||[]).unshift(Kt(e)),i)throw s;return gw(s,e,"R3InjectorError",this.source)}throw s}finally{Va(o),zd(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(Kt(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,r){if(!(e=Pn(e)))return!1;let i=nc(e);const o=null==i&&e.ngModule||void 0,s=void 0===o?e:o,a=-1!==r.indexOf(s);if(void 0!==o&&(i=nc(o)),null==i)return!1;if(null!=i.imports&&!a){let p;r.push(s);try{Sl(i.imports,_=>{this.processInjectorType(_,t,r)&&(void 0===p&&(p=[]),p.push(_))})}finally{}if(void 0!==p)for(let _=0;_<p.length;_++){const{ngModule:S,providers:D}=p[_];Sl(D,k=>this.processProvider(k,S,D||fi))}}this.injectorDefTypes.add(s);const l=An(s)||(()=>new s);this.records.set(s,Vd(l,g0));const c=i.providers;if(null!=c&&!a){const p=e;Sl(c,_=>this.processProvider(_,p,c))}return void 0!==o&&void 0!==e.providers}processProvider(e,t,r){let i=Hd(e=Pn(e))?e:Pn(e&&e.provide);const o=function(n,e,t){return Qx(n)?Vd(void 0,n.useValue):Vd(Zx(n),g0)}(e);if(Hd(e)||!0!==e.multi)this.records.get(i);else{let s=this.records.get(i);s||(s=Vd(void 0,g0,!0),s.factory=()=>th(s.multi),this.records.set(i,s)),i=e,s.multi.push(e)}this.records.set(i,o)}hydrate(e,t){return t.value===g0&&(t.value=AB,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Pn(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function hv(n){const e=Ks(n),t=null!==e?e.factory:An(n);if(null!==t)return t;if(n instanceof Nn)throw new Error(`Token ${Kt(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const e=n.length;if(e>0){const r=tu(e,"?");throw new Error(`Can't resolve all parameters for ${Kt(n)}: (${r.join(", ")}).`)}const t=function(n){const e=n&&(n[rc]||n[Uf]);if(e){const t=function(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Error("unreachable")}function Zx(n,e,t){let r;if(Hd(n)){const i=Pn(n);return An(i)||hv(i)}if(Qx(n))r=()=>Pn(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...th(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))r=()=>Ke(Pn(n.useExisting));else{const i=Pn(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return An(i)||hv(i);r=()=>new i(...th(n.deps))}return r}function Vd(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Qx(n){return null!==n&&"object"==typeof n&&wg in n}function Hd(n){return"function"==typeof n}const Jx=function(n,e,t){return function(n,e=null,t=null,r){const i=Kx(n,e,t,r);return i._resolveInjectorDefTypes(),i}({name:t},e,n,t)};let ui=(()=>{class n{static create(t,r){return Array.isArray(t)?Jx(t,r,""):Jx(t.providers,t.parent,t.name||"")}}return n.THROW_IF_NOT_FOUND=r0,n.NULL=new $x,n.\u0275prov=sn({token:n,providedIn:"any",factory:()=>Ke(Nd)}),n.__NG_ELEMENT_ID__=-1,n})();function JB(n,e){j4(Pg(n)[1],Po())}function ni(n){let e=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Ns(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=vv(n.inputs),s.declaredInputs=vv(n.declaredInputs),s.outputs=vv(n.outputs);const a=i.hostBindings;a&&rj(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&tj(n,l),c&&nj(n,c),ar(n.inputs,i.inputs),ar(n.declaredInputs,i.declaredInputs),ar(n.outputs,i.outputs),Ns(i)&&i.data.animation){const p=n.data;p.animation=(p.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===ni&&(t=!1)}}e=Object.getPrototypeOf(e)}!function(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=W4(i.hostAttrs,t=W4(t,i.hostAttrs))}}(r)}function vv(n){return n===ic?{}:n===fi?[]:n}function tj(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function nj(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function rj(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let v2=null;function Bd(){if(!v2){const n=Qr.Symbol;if(n&&n.iterator)v2=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(v2=r)}}}return v2}function y0(n){return!!yv(n)&&(Array.isArray(n)||!(n instanceof Map)&&Bd()in n)}function yv(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function cs(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Ds(n,e,t,r){const i=Ut();return cs(i,bd(),e)&&(Zr(),Dl(Ki(),i,n,e,t,r)),Ds}function Ud(n,e,t,r){return cs(n,bd(),t)?e+Zn(t)+r:_r}function Yd(n,e,t,r,i,o){const a=function(n,e,t,r){const i=cs(n,e,t);return cs(n,e+1,r)||i}(n,pr.lFrame.bindingIndex,t,i);return uc(2),a?e+Zn(t)+r+Zn(i)+o:_r}function Rn(n,e,t,r,i,o,s,a){const l=Ut(),c=Zr(),p=n+20,_=c.firstCreatePass?function(n,e,t,r,i,o,s,a,l){const c=e.consts,p=Id(e,n,4,s||null,Qc(c,a));rv(e,t,p,Qc(c,l)),j4(e,p);const _=p.tViews=p2(2,p,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,p),_.queries=e.queries.embeddedTView(p)),p}(p,c,l,e,t,r,i,o,s):c.data[p];xl(_,!1);const S=l[11].createComment("");c2(c,l,S,_),ls(S,l),m2(l,l[p]=Bx(S,l,S,_)),yd(_)&&tv(c,l,_),null!=s&&nv(l,_,a)}function Xa(n){return function(n,e){return n[e]}(pr.lFrame.contextLView,20+n)}function Ae(n,e=Wn.Default){const t=Ut();return null===t?Ke(n,e):aw(Po(),t,Pn(n),e)}function Wt(n,e,t){const r=Ut();return cs(r,bd(),e)&&ra(Zr(),Ki(),r,n,e,r[11],t,!1),Wt}function Mv(n,e,t,r,i){const s=i?"class":"style";qx(n,t,e.inputs[s],s,r)}function Pt(n,e,t,r){const i=Ut(),o=Zr(),s=20+n,a=i[11],l=i[s]=Ng(a,e,pr.lFrame.currentNamespace),c=o.firstCreatePass?function(n,e,t,r,i,o,s){const a=e.consts,c=Id(e,n,2,i,Qc(a,o));return rv(e,t,c,Qc(a,s)),null!==c.attrs&&g2(c,c.attrs,!1),null!==c.mergedAttrs&&g2(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,0,e,t,r):o.data[s];xl(c,!0);const p=c.mergedAttrs;null!==p&&G4(a,l,p);const _=c.classes;null!==_&&Yg(a,l,_);const S=c.styles;null!==S&&hx(a,l,S),64!=(64&c.flags)&&c2(o,i,l,c),0===pr.lFrame.elementDepthCount&&ls(l,i),pr.lFrame.elementDepthCount++,yd(c)&&(tv(o,i,c),zx(o,c,i)),null!==r&&nv(i,c)}function kt(){let n=Po();ig()?og():(n=n.parent,xl(n,!1));const e=n;pr.lFrame.elementDepthCount--;const t=Zr();t.firstCreatePass&&(j4(t,n),qf(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(e)&&Mv(t,e,Ut(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(e)&&Mv(t,e,Ut(),e.stylesWithoutHost,!1)}function Vn(n,e,t,r){Pt(n,e,t,r),kt()}function zs(n,e,t){const r=Ut(),i=Zr(),o=n+20,s=i.firstCreatePass?function(n,e,t,r,i){const o=e.consts,s=Qc(o,r),a=Id(e,n,8,"ng-container",s);return null!==s&&g2(a,s,!0),rv(e,t,a,Qc(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,t):i.data[o];xl(s,!0);const a=r[o]=r[11].createComment("");c2(i,r,a,s),ls(a,r),yd(s)&&(tv(i,r,s),zx(i,s,r)),null!=t&&nv(r,s)}function As(){let n=Po();const e=Zr();ig()?og():(n=n.parent,xl(n,!1)),e.firstCreatePass&&(j4(e,n),qf(n)&&e.queries.elementEnd(n))}function xa(){return Ut()}function b0(n){return!!n&&"function"==typeof n.then}const b2=function(n){return!!n&&"function"==typeof n.subscribe};function nr(n,e,t,r){const i=Ut(),o=Zr(),s=Po();return function(n,e,t,r,i,o,s,a){const l=yd(r),p=n.firstCreatePass&&Yx(n),_=e[8],S=Ux(e);let D=!0;if(3&r.type||a){const B=ya(r,e),F=a?a(B):B,I=S.length,X=a?$=>a(xi($[r.index])):r.index;if(ti(t)){let $=null;if(!a&&l&&($=function(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[7],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==$)($.__ngLastListenerFn__||$).__ngNextListenerFn__=o,$.__ngLastListenerFn__=o,D=!1;else{o=Sv(r,e,_,o,!1);const re=t.listen(F,i,o);S.push(o,re),p&&p.push(i,X,I,I+1)}}else o=Sv(r,e,_,o,!0),F.addEventListener(i,o,s),S.push(o),p&&p.push(i,X,I,s)}else o=Sv(r,e,_,o,!1);const k=r.outputs;let N;if(D&&null!==k&&(N=k[i])){const B=N.length;if(B)for(let F=0;F<B;F+=2){const de=e[N[F]][N[F+1]].subscribe(o),se=S.length;S.push(o,de),p&&p.push(i,r.index,se,-(se+1))}}}(o,i,i[11],s,n,e,!!t,r),nr}function HM(n,e,t,r){try{return!1!==t(r)}catch(i){return Wx(n,i),!1}}function Sv(n,e,t,r,i){return function o(s){if(s===Function)return r;const a=2&n.flags?Js(n.index,e):e;0==(32&e[2])&&sv(a);let l=HM(e,0,r,s),c=o.__ngNextListenerFn__;for(;c;)l=HM(e,0,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function Qn(n=1){return function(n){return(pr.lFrame.contextLView=function(n,e){for(;n>0;)e=e[15],n--;return e}(n,pr.lFrame.contextLView))[8]}(n)}function Nj(n,e){let t=null;const r=function(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?mx(n,o,!0):jH(r,o))return i}else t=i}return t}function Ps(n){const e=Ut()[16][6];if(!e.projection){const r=e.projection=tu(n?n.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=n?Nj(o,n):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function Ho(n,e=0,t){const r=Ut(),i=Zr(),o=Id(i,20+n,16,null,t||null);null===o.projection&&(o.projection=e),og(),64!=(64&o.flags)&&function(n,e,t){ux(e[11],0,e,t,ex(n,t,e),ix(t.parent||e[6],t,e))}(i,r,o)}function w2(n,e,t,r,i){const o=Ut(),s=Ud(o,e,t,r);return s!==_r&&ra(Zr(),Ki(),o,n,s,o[11],i,!1),w2}function KM(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?Wa(o):hc(o),l=!1;for(;0!==a&&(!1===l||s);){const p=n[a+1];Bj(n[a],e)&&(l=!0,n[a+1]=r?qg(p):Gg(p)),a=r?Wa(p):hc(p)}l&&(n[t+1]=r?Gg(o):qg(o))}function Bj(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ed(n,e)>=0}function Oo(n,e,t){return Ka(n,e,t,!1),Oo}function Hr(n,e){return Ka(n,e,null,!0),Hr}function Ka(n,e,t,r){const i=Ut(),o=Zr(),s=uc(2);o.firstUpdatePass&&function(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[Ts()],s=function(n,e){return e>=n.expandoStartIndex}(n,t);(function(n,e){return 0!=(n.flags&(e?16:32))})(o,r)&&null===e&&!s&&(e=!1),e=function(n,e,t,r){const i=ag(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=w0(t=Cv(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=Cv(i,n,e,t,r),null===o){let l=function(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==hc(r))return n[Wa(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=Cv(null,n,e,l[1],r),l=w0(l,e.attrs,r),function(n,e,t,r){n[Wa(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else o=function(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=w0(r,n[o].hostAttrs,t);return w0(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Wa(s),l=hc(s);n[r]=t;let p,c=!1;if(Array.isArray(t)){const _=t;p=_[1],(null===p||Ed(_,p)>0)&&(c=!0)}else p=t;if(i)if(0!==l){const S=Wa(n[a+1]);n[r+1]=h2(S,a),0!==S&&(n[S+1]=Wg(n[S+1],r)),n[a+1]=function(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=h2(a,0),0!==a&&(n[a+1]=Wg(n[a+1],r)),a=r;else n[r+1]=h2(l,0),0===a?a=r:n[l+1]=Wg(n[l+1],r),l=r;c&&(n[r+1]=Gg(n[r+1])),KM(n,p,r,!0),KM(n,p,r,!1),function(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Ed(o,e)>=0&&(t[r+1]=qg(t[r+1]))}(e,p,n,r,o),s=h2(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}(o,n,s,r),e!==_r&&cs(i,s,e)&&function(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];x2(function(n){return 1==(1&n)}(c)?aS(l,e,t,i,hc(c),s):void 0)||(x2(o)||function(n){return 2==(2&n)}(c)&&(o=aS(l,null,t,i,a,s)),function(n,e,t,r,i){const o=ti(n);if(e)i?o?n.addClass(t,r):t.classList.add(r):o?n.removeClass(t,r):t.classList.remove(r);else{let s=-1===r.indexOf("-")?void 0:na.DashCase;if(null==i)o?n.removeStyle(t,r,s):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),s|=na.Important),o?n.setStyle(t,r,i,s):t.style.setProperty(r,i,a?"important":"")}}}(r,s,Zc(Ts(),t),i,o))}(o,o.data[Ts()],i,i[11],n,i[s+1]=function(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Kt(ta(n)))),n}(e,t),r,s)}function Cv(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=w0(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function w0(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ea(n,s,!!t||e[++o]))}return void 0===n?null:n}function aS(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),p=c?l[1]:l,_=null===p;let S=t[i+1];S===_r&&(S=_?fi:void 0);let D=_?vg(S,r):p===r?S:void 0;if(c&&!x2(D)&&(D=vg(l,r)),x2(D)&&(a=D,s))return a;const k=n[i+1];i=s?Wa(k):hc(k)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=vg(l,r))}return a}function x2(n){return void 0!==n}function uo(n,e=""){const t=Ut(),r=Zr(),i=n+20,o=r.firstCreatePass?Id(r,i,1,e,null):r.data[i],s=t[i]=function(n,e){return ti(n)?n.createText(e):n.createTextNode(e)}(t[11],e);c2(r,t,s,o),xl(o,!1)}function mc(n){return Tv("",n,""),mc}function Tv(n,e,t){const r=Ut(),i=Ud(r,n,e,t);return i!==_r&&fc(r,Ts(),i),Tv}function x0(n,e,t,r,i){const o=Ut(),s=Yd(o,n,e,t,r,i);return s!==_r&&fc(o,Ts(),s),x0}function Ev(n,e,t){const r=Ut();return cs(r,bd(),e)&&ra(Zr(),Ki(),r,n,e,r[11],t,!0),Ev}function M2(n,e,t){const r=Ut();if(cs(r,bd(),e)){const o=Zr(),s=Ki();ra(o,s,r,n,e,function(n,e,t){return(null===n||Ns(n))&&(t=function(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}(ag(o.data),s,r),t,!0)}return M2}const sh=void 0;var xU=["en",[["a","p"],["AM","PM"],sh],[["AM","PM"],sh,sh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sh,"{1} 'at' {0}",sh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===t?1:5}];let Jd={};function TS(n){return n in Jd||(Jd[n]=Qr.ng&&Qr.ng.common&&Qr.ng.common.locales&&Qr.ng.common.locales[n]),Jd[n]}var vn=(()=>((vn=vn||{})[vn.LocaleId=0]="LocaleId",vn[vn.DayPeriodsFormat=1]="DayPeriodsFormat",vn[vn.DayPeriodsStandalone=2]="DayPeriodsStandalone",vn[vn.DaysFormat=3]="DaysFormat",vn[vn.DaysStandalone=4]="DaysStandalone",vn[vn.MonthsFormat=5]="MonthsFormat",vn[vn.MonthsStandalone=6]="MonthsStandalone",vn[vn.Eras=7]="Eras",vn[vn.FirstDayOfWeek=8]="FirstDayOfWeek",vn[vn.WeekendRange=9]="WeekendRange",vn[vn.DateFormat=10]="DateFormat",vn[vn.TimeFormat=11]="TimeFormat",vn[vn.DateTimeFormat=12]="DateTimeFormat",vn[vn.NumberSymbols=13]="NumberSymbols",vn[vn.NumberFormats=14]="NumberFormats",vn[vn.CurrencyCode=15]="CurrencyCode",vn[vn.CurrencySymbol=16]="CurrencySymbol",vn[vn.CurrencyName=17]="CurrencyName",vn[vn.Currencies=18]="Currencies",vn[vn.Directionality=19]="Directionality",vn[vn.PluralCase=20]="PluralCase",vn[vn.ExtraData=21]="ExtraData",vn))();const S2="en-US";let ES=S2;function Dv(n){ao(n,"Expected localeId to be defined"),"string"==typeof n&&(ES=n.toLowerCase().replace(/_/g,"-"))}function Pv(n,e,t,r,i){if(n=Pn(n),Array.isArray(n))for(let o=0;o<n.length;o++)Pv(n[o],e,t,r,i);else{const o=Zr(),s=Ut();let a=Hd(n)?n:Pn(n.provide),l=Zx(n);const c=Po(),p=1048575&c.providerIndexes,_=c.directiveStart,S=c.providerIndexes>>20;if(Hd(n)||!n.multi){const D=new Xf(l,i,Ae),k=Lv(a,e,i?p:p+S,_);-1===k?(X4(Zf(c,s),o,a),kv(o,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(D),s.push(D)):(t[k]=D,s[k]=D)}else{const D=Lv(a,e,p+S,_),k=Lv(a,e,p,p+S),N=D>=0&&t[D],B=k>=0&&t[k];if(i&&!B||!i&&!N){X4(Zf(c,s),o,a);const F=function(n,e,t,r,i){const o=new Xf(n,t,Ae);return o.multi=[],o.index=e,o.componentProviders=0,ZS(o,i,r&&!t),o}(i?bY:_Y,t.length,i,r,l);!i&&B&&(t[k].providerFactory=F),kv(o,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(F),s.push(F)}else kv(o,n,D>-1?D:k,ZS(t[i?k:D],l,!i&&r));!i&&r&&B&&t[k].componentProviders++}}}function kv(n,e,t,r){const i=Hd(e);if(i||function(n){return!!n.useClass}(e)){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const a=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=a.indexOf(t);-1===l?a.push(t,[r,s]):a[l+1].push(r,s)}else a.push(t,s)}}}function ZS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Lv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function _Y(n,e,t,r){return Ov(this.multi,[])}function bY(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Qf(t,t[1],this.providerFactory.index,r);o=a.slice(0,s),Ov(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Ov(i,o);return o}function Ov(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Rr(n,e=[]){return t=>{t.providersResolver=(r,i)=>function(n,e,t){const r=Zr();if(r.firstCreatePass){const i=Ns(n);Pv(t,r.data,r.blueprint,i,!0),Pv(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class QS{}const eC="ngComponent";class MY{resolveComponentFactory(e){throw function(n){const e=Error(`No component factory found for ${Kt(n)}. Did you add it to @NgModule.entryComponents?`);return e[eC]=n,e}(e)}}let Qa=(()=>{class n{}return n.NULL=new MY,n})();function z2(...n){}function t1(n,e){return new jn(ya(n,e))}const TY=function(){return t1(Po(),Ut())};let jn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=TY,n})();function tC(n){return n instanceof jn?n.nativeElement:n}class Ma{}let Ri=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>DY(),n})();const DY=function(){const n=Ut(),t=Js(Po().index,n);return function(n){return n[11]}(va(t)?t:n)};let Rv=(()=>{class n{}return n.\u0275prov=sn({token:n,providedIn:"root",factory:()=>null}),n})();class E0{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const nC=new E0("12.2.16");class rC{constructor(){}supports(e){return y0(e)}create(e){return new kY(e)}}const PY=(n,e)=>e;class kY{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||PY}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<oC(r,i,o)?t:r,a=oC(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,p=l-i;if(c!=p){for(let S=0;S<c;S++){const D=S<o.length?o[S]:o[S]=0,k=D+S;p<=k&&k<c&&(o[S]=D+1)}o[s.previousIndex]=p-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!y0(e))throw new Error(`Error trying to diff '${Kt(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Bd()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new LY(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new iC),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new iC),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class LY{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class OY{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class iC{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new OY,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oC(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class sC{constructor(){}supports(e){return e instanceof Map||yv(e)}create(){return new IY}}class IY{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||yv(e)))throw new Error(`Error trying to diff '${Kt(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new RY(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class RY{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function aC(){return new n1([new rC])}let n1=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||aC()),deps:[[n,new Ya,new Zo]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'`)}}return n.\u0275prov=sn({token:n,providedIn:"root",factory:aC}),n})();function lC(){return new r1([new sC])}let r1=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||lC()),deps:[[n,new Ya,new Zo]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return n.\u0275prov=sn({token:n,providedIn:"root",factory:lC}),n})();function A2(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(xi(o)),Qs(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&A2(l[1],l,c,r)}const s=t.type;if(8&s)A2(n,e,t.child,r);else if(32&s){const a=Og(t,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=lx(e,t);if(Array.isArray(a))r.push(...a);else{const l=h0(e[16]);A2(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class D0{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return A2(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Qs(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Vg(e,r),eh(t,r))}this._attachedToViewContainer=!1}Jw(this._lView[1],this._lView)}onDestroy(e){Lx(this._lView[1],this._lView,null,e)}markForCheck(){sv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){lv(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,e,t){V4(!0);try{lv(n,e,t)}finally{V4(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,e){d0(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class NY extends D0{constructor(e){super(e),this._view=e}detectChanges(){jx(this._view)}checkNoChanges(){!function(n){V4(!0);try{jx(n)}finally{V4(!1)}}(this._view)}get context(){return null}}const HY=function(n){return function(n,e,t){if(vd(n)&&!t){const r=Js(n.index,e);return new D0(r,r)}return 47&n.type?new D0(e[16],e):null}(Po(),Ut(),16==(16&n))};let wo=(()=>{class n{}return n.__NG_ELEMENT_ID__=HY,n})();const UY=[new sC],GY=new n1([new rC]),WY=new r1(UY),$Y=function(){return P2(Po(),Ut())};let ho=(()=>{class n{}return n.__NG_ELEMENT_ID__=$Y,n})();const XY=ho,KY=class extends XY{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=f0(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(t)),p0(t,r,e),new D0(r)}};function P2(n,e){return 4&n.type?new KY(e,n,t1(n,e)):null}class kl{}class cC{}const JY=function(){return dC(Po(),Ut())};let xo=(()=>{class n{}return n.__NG_ELEMENT_ID__=JY,n})();const tG=xo,uC=class extends tG{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return t1(this._hostTNode,this._hostLView)}get injector(){return new Md(this._hostTNode,this._hostLView)}get parentInjector(){const e=$4(this._hostTNode,this._hostLView);if(nw(e)){const t=xd(e,this._hostLView),r=wd(e);return new Md(t[1].data[r+8],t)}return new Md(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=hC(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,o){const s=r||this.parentInjector;if(!o&&null==e.ngModule&&s){const l=s.get(kl,null);l&&(o=l)}const a=e.create(s,i,void 0,o);return this.insert(a.hostView,t),a}insert(e,t){const r=e._lView,i=r[1];if(function(n){return Qs(n[3])}(r)){const p=this.indexOf(e);if(-1!==p)this.detach(p);else{const _=r[3],S=new uC(_,_[6],_[3]);S.detach(S.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function(n,e,t,r){const i=10+r,o=t.length;r>0&&(t[i-1][4]=e),r<o-10?(e[4]=t[i],J4(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,s,o);const a=jg(o,s),l=r[11],c=l2(l,s[7]);return null!==c&&function(n,e,t,r,i,o){r[0]=i,r[6]=e,d0(n,r,t,1,i,o)}(i,s[6],l,r,c,a),e.attachToViewContainerRef(),J4(Fv(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=hC(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Vg(this._lContainer,t);r&&(eh(Fv(this._lContainer),t),Jw(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Vg(this._lContainer,t);return r&&null!=eh(Fv(this._lContainer),t)?new D0(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function hC(n){return n[8]}function Fv(n){return n[8]||(n[8]=[])}function dC(n,e){let t;const r=e[n.index];if(Qs(r))t=r;else{let i;if(8&n.type)i=xi(r);else{const o=e[11];i=o.createComment("");const s=ya(n,e);ih(o,l2(o,s),i,function(n,e){return ti(n)?n.nextSibling(e):e.nextSibling}(o,s),!1)}e[n.index]=t=Bx(r,e,i,n),m2(e,t)}return new uC(t,n,e)}const a1={};class kC extends Qa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=lo(e);return new OC(t,this.ngModule)}}function LC(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const ZG=new Nn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Gw});class OC extends QS{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function(n){return n.map(UH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return LC(this.componentDef.inputs)}get outputs(){return LC(this.componentDef.outputs)}create(e,t,r,i){const o=(i=i||this.ngModule)?function(n,e){return{get:(t,r,i)=>{const o=n.get(t,a1,i);return o!==a1||r===a1?o:e.get(t,r,i)}}}(e,i.injector):e,s=o.get(Ma,wl),a=o.get(Rv,null),l=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",p=r?function(n,e,t){if(ti(n))return n.selectRootElement(e,t===li.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(l,r,this.componentDef.encapsulation):Ng(s.createRenderer(null,this.componentDef),c,function(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),_=this.componentDef.onPush?576:528,S=function(n,e){return{components:[],scheduler:n||Gw,clean:EB,playerHandler:e||null,flags:0}}(),D=p2(0,null,null,1,0,null,null,null,null,null),k=f0(null,D,S,_,null,null,s,l,a,o);let N,B;H4(k);try{const F=function(n,e,t,r,i,o){const s=t[1];t[20]=n;const l=Id(s,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(g2(l,c,!0),null!==n&&(G4(i,n,c),null!==l.classes&&Yg(i,n,l.classes),null!==l.styles&&hx(i,n,l.styles)));const p=r.createRenderer(n,e),_=f0(t,Ax(e),null,e.onPush?64:16,t[20],l,r,p,o||null,null);return s.firstCreatePass&&(X4(Zf(l,t),s,e.type),Nx(s,l),Vx(l,t.length,1)),m2(t,_),t[20]=_}(p,this.componentDef,k,s,l);if(p)if(r)G4(l,p,["ng-version",nC.full]);else{const{attrs:I,classes:X}=function(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!Ga(i))break;i=o}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);I&&G4(l,p,I),X&&X.length>0&&Yg(l,p,X.join(" "))}if(B=tg(D,20),void 0!==t){const I=B.projection=[];for(let X=0;X<this.ngContentSelectors.length;X++){const $=t[X];I.push(null!=$?Array.from($):null)}}N=function(n,e,t,r,i){const o=t[1],s=function(n,e,t){const r=Po();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),Hx(n,r,e,Rd(n,e,1,null),t));const i=Qf(e,n,r.directiveStart,r);ls(i,e);const o=ya(r,e);return o&&ls(o,e),i}(o,t,e);if(r.components.push(s),n[8]=s,i&&i.forEach(l=>l(s,e)),e.contentQueries){const l=Po();e.contentQueries(1,s,l.directiveStart)}const a=Po();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Jc(a.index),Rx(t[1],a,0,a.directiveStart,a.directiveEnd,e),Fx(e,s)),s}(F,this.componentDef,k,S,[JB]),p0(D,k,null)}finally{B4()}return new eW(this.componentType,N,t1(B,k),k,B)}}class eW extends class{}{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new NY(i),this.componentType=e}get injector(){return new Md(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const l1=new Map;class rW extends kl{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new kC(this);const r=Ko(e),i=function(n){return n[k4]||null}(e);i&&Dv(i),this._bootstrapComponents=El(r.bootstrap),this._r3Injector=Kx(e,t,[{provide:kl,useValue:this},{provide:Qa,useValue:this.componentFactoryResolver}],Kt(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=ui.THROW_IF_NOT_FOUND,r=Wn.Default){return e===ui||e===kl||e===Nd?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Kv extends cC{constructor(e){super(),this.moduleType=e,null!==Ko(e)&&function(n){const e=new Set;!function t(r){const i=Ko(r,!0),o=i.id;null!==o&&(function(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${Kt(e)} vs ${Kt(e.name)}`)}(o,l1.get(o),r),l1.set(o,r));const s=El(i.imports);for(const a of s)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new rW(this.moduleType,e)}}function R2(n,e,t){const r=function(){const n=pr.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}()+n,i=Ut();return i[r]===_r?function(n,e,t){return n[e]=t}(i,r,t?e.call(t):e()):function(n,e){return n[e]}(i,r)}function Zv(n){return e=>{setTimeout(n,void 0,e)}}const Hn=class extends ye{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,o,s;let a=e,l=t||(()=>null),c=r;if(e&&"object"==typeof e){const _=e;a=null===(i=_.next)||void 0===i?void 0:i.bind(_),l=null===(o=_.error)||void 0===o?void 0:o.bind(_),c=null===(s=_.complete)||void 0===s?void 0:s.bind(_)}this.__isAsync&&(l=Zv(l),a&&(a=Zv(a)),c&&(c=Zv(c)));const p=super.subscribe({next:a,error:l,complete:c});return e instanceof h&&e.add(p),p}};function wW(){return this._results[Bd()]()}class ou{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Bd(),r=ou.prototype;r[t]||(r[t]=wW)}get changes(){return this._changes||(this._changes=new Hn)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=_a(e);(this._changesDetected=!function(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Qv{constructor(e){this.queryList=e,this.matches=null}clone(){return new Qv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Jv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Jv(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==WC(e,t).matches&&this.queries[t].setDirty()}}class jC{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class e5{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new e5(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class t5{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new t5(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,SW(t,o)),this.matchTNodeWithReadOption(e,t,K4(t,e,o,!1,!1))}else r===ho?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,K4(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===jn||i===xo||i===ho&&4&t.type)this.addMatch(t.index,-2);else{const o=K4(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function SW(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function TW(n,e,t,r){return-1===t?function(n,e){return 11&n.type?t1(n,e):4&n.type?P2(n,e):null}(e,n):-2===t?function(n,e,t){return t===jn?t1(e,n):t===ho?P2(e,n):t===xo?dC(e,n):void 0}(n,e,r):Qf(n,n[1],t,e)}function UC(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:TW(e,o[c],s[l+1],t.metadata.read))}i.matches=a}return i.matches}function n5(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=UC(n,e,i,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const c=o[a+1],p=e[-l];for(let _=10;_<p.length;_++){const S=p[_];S[17]===S[3]&&n5(S[1],S,c,r)}if(null!==p[9]){const _=p[9];for(let S=0;S<_.length;S++){const D=_[S];n5(D[1],D,c,r)}}}}}return r}function gr(n){const e=Ut(),t=Zr(),r=qb();lg(r+1);const i=WC(t,r);if(n.dirty&&Bb(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?n5(t,e,r,[]):UC(t,e,i,r);n.reset(o,tC),n.notifyOnChanges()}return!0}return!1}function mi(n,e,t){const r=Zr();r.firstCreatePass&&(GC(r,new jC(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),YC(r,Ut(),e)}function Qo(n,e,t,r){const i=Zr();if(i.firstCreatePass){const o=Po();GC(i,new jC(e,t,r),o.index),function(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}YC(i,Ut(),t)}function vr(){return function(n,e){return n[19].queries[e].queryList}(Ut(),qb())}function YC(n,e,t){const r=new ou(4==(4&t));Lx(n,e,r,r.destroy),null===e[19]&&(e[19]=new Jv),e[19].queries.push(new Qv(r))}function GC(n,e,t){null===n.queries&&(n.queries=new e5),n.queries.track(new t5(e,t))}function WC(n,e){return n.queries.getByIndex(e)}function Ll(n,e){return P2(n,e)}const H0=new Nn("Application Initializer");let u1=(()=>{class n{constructor(t){this.appInits=t,this.resolve=z2,this.reject=z2,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(b0(o))t.push(o);else if(b2(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(Ke(H0,8))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})();const B0=new Nn("AppId"),nq={provide:B0,useFactory:function(){return`${l5()}${l5()}${l5()}`},deps:[]};function l5(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const uT=new Nn("Platform Initializer"),ch=new Nn("Platform ID"),hT=new Nn("appBootstrapListener");let V2=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})();const su=new Nn("LocaleId"),dT=new Nn("DefaultCurrencyCode");class iq{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const c5=function(n){return new Kv(n)},oq=c5,sq=function(n){return Promise.resolve(c5(n))},fT=function(n){const e=c5(n),r=El(Ko(n).declarations).reduce((i,o)=>{const s=lo(o);return s&&i.push(new OC(s)),i},[]);return new iq(e,r)},aq=fT,lq=function(n){return Promise.resolve(fT(n))};let uh=(()=>{class n{constructor(){this.compileModuleSync=oq,this.compileModuleAsync=sq,this.compileModuleAndAllComponentsSync=aq,this.compileModuleAndAllComponentsAsync=lq}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})();const hq=(()=>Promise.resolve(0))();function u5(n){"undefined"==typeof Zone?hq.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class yr{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hn(!1),this.onMicrotaskEmpty=new Hn(!1),this.onStable=new Hn(!1),this.onError=new Hn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let n=Qr.requestAnimationFrame,e=Qr.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(n){const e=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Qr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,d5(n),n.isCheckStableRunning=!0,h5(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),d5(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return pT(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),mT(n)}},onInvoke:(t,r,i,o,s,a,l)=>{try{return pT(n),t.invoke(i,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),mT(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,d5(n),h5(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(yr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,fq,z2,z2);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const fq={};function h5(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function d5(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function pT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function mT(n){n._nesting--,h5(n)}class gq{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hn,this.onMicrotaskEmpty=new Hn,this.onStable=new Hn,this.onError=new Hn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let f5=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yr.assertNotInAngularZone(),u5(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())u5(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(Ke(yr))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})(),gT=(()=>{class n{constructor(){this._applications=new Map,p5.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return p5.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})();class vq{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let p5=new vq,vT=!0,yT=!1;function B2(){return yT=!0,vT}let tl;const _T=new Nn("AllowMultipleToken");class m5{constructor(e,t){this.name=e,this.token=t}}function bT(n,e,t=[]){const r=`Platform: ${e}`,i=new Nn(r);return(o=[])=>{let s=wT();if(!s||s.injector.get(_T,!1))if(n)n(t.concat(o).concat({provide:i,useValue:!0}));else{const a=t.concat(o).concat({provide:i,useValue:!0},{provide:m0,useValue:"platform"});!function(n){if(tl&&!tl.destroyed&&!tl.injector.get(_T,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");tl=n.get(xT);const e=n.get(uT,null);e&&e.forEach(t=>t())}(ui.create({providers:a,name:r}))}return function(n){const e=wT();if(!e)throw new Error("No platform exists!");if(!e.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function wT(){return tl&&!tl.destroyed?tl:null}let xT=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function(n,e){let t;return t="noop"===n?new gq:("zone.js"===n?void 0:n)||new yr({enableLongStackTrace:B2(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:yr,useValue:a}];return a.run(()=>{const c=ui.create({providers:l,parent:this.injector,name:t.moduleType.name}),p=t.create(c),_=p.injector.get(rh,null);if(!_)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const S=a.onError.subscribe({next:D=>{_.handleError(D)}});p.onDestroy(()=>{g5(this._modules,p),S.unsubscribe()})}),function(n,e,t){try{const r=t();return b0(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(_,a,()=>{const S=p.injector.get(u1);return S.runInitializers(),S.donePromise.then(()=>(Dv(p.injector.get(su,S2)||S2),this._moduleDoBootstrap(p),p))})})}bootstrapModule(t,r=[]){const i=MT({},r);return function(n,e,t){const r=new Kv(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(hh);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${Kt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(Ke(ui))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})();function MT(n,e){return Array.isArray(e)?e.reduce(MT,n):Object.assign(Object.assign({},n),e)}let hh=(()=>{class n{constructor(t,r,i,o,s){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Y(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new Y(c=>{let p;this._zone.runOutsideAngular(()=>{p=this._zone.onStable.subscribe(()=>{yr.assertNotInAngularZone(),u5(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const _=this._zone.onUnstable.subscribe(()=>{yr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{p.unsubscribe(),_.unsubscribe()}});this.isStable=Gt(a,l.pipe(_n()))}bootstrap(t,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=t instanceof QS?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const o=function(n){return n.isBoundToModule}(i)?void 0:this._injector.get(kl),a=i.create(ui.NULL,[],r||i.selector,o),l=a.location.nativeElement,c=a.injector.get(f5,null),p=c&&a.injector.get(gT);return c&&p&&p.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),g5(this.components,a),p&&p.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;g5(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(hT,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(Ke(yr),Ke(ui),Ke(rh),Ke(Qa),Ke(u1))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})();function g5(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class j2{}class kq{}const Lq={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Oq=(()=>{class n{constructor(t,r){this._compiler=t,this._config=r||Lq}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[r,i]=t.split("#");return void 0===i&&(i="default"),ee(255)(r).then(o=>o[i]).then(o=>ET(o,r,i)).then(o=>this._compiler.compileModuleAsync(o))}loadFactory(t){let[r,i]=t.split("#"),o="NgFactory";return void 0===i&&(i="default",o=""),ee(255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(s=>s[i+o]).then(s=>ET(s,r,i))}}return n.\u0275fac=function(t){return new(t||n)(Ke(uh),Ke(kq,8))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})();function ET(n,e,t){if(!n)throw new Error(`Cannot find '${t}' in '${e}'`);return n}const Yq=bT(null,"core",[{provide:ch,useValue:"unknown"},{provide:xT,deps:[ui]},{provide:gT,deps:[]},{provide:V2,deps:[]}]),Xq=[{provide:hh,useClass:hh,deps:[yr,ui,rh,Qa,u1]},{provide:ZG,deps:[yr],useFactory:function(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:u1,useClass:u1,deps:[[new Zo,H0]]},{provide:uh,useClass:uh,deps:[]},nq,{provide:n1,useFactory:function(){return GY},deps:[]},{provide:r1,useFactory:function(){return WY},deps:[]},{provide:su,useFactory:function(n){return Dv(n=n||"undefined"!=typeof $localize&&$localize.locale||S2),n},deps:[[new Ad(su),new Zo,new Ya]]},{provide:dT,useValue:"USD"}];let Zq=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(Ke(hh))},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({providers:Xq}),n})(),Q2=null;function Ol(){return Q2}const rr=new Nn("DocumentToken");let ph=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=sn({factory:K$,token:n,providedIn:"platform"}),n})();function K$(){return Ke(ZT)}const Z$=new Nn("Location Initialized");let ZT=(()=>{class n extends ph{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ol().getBaseHref(this._doc)}onPopState(t){const r=Ol().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ol().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){QT()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){QT()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(Ke(rr))},n.\u0275prov=sn({factory:Q$,token:n,providedIn:"platform"}),n})();function QT(){return!!window.history.pushState}function Q$(){return new ZT(Ke(rr))}function P5(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function JT(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function vc(n){return n&&"?"!==n[0]?"?"+n:n}let f1=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=sn({factory:J$,token:n,providedIn:"root"}),n})();function J$(n){const e=Ke(rr).location;return new eE(Ke(ph),e&&e.origin||"")}const k5=new Nn("appBaseHref");let eE=(()=>{class n extends f1{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return P5(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+vc(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+vc(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+vc(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(Ke(ph),Ke(k5,8))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})(),eX=(()=>{class n extends f1{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=P5(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+vc(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+vc(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(Ke(ph),Ke(k5,8))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})(),W0=(()=>{class n{constructor(t,r){this._subject=new Hn,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=JT(tE(i)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+vc(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,tE(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vc(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vc(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.\u0275fac=function(t){return new(t||n)(Ke(f1),Ke(ph))},n.normalizeQueryParams=vc,n.joinWithSlash=P5,n.stripTrailingSlash=JT,n.\u0275prov=sn({factory:tX,token:n,providedIn:"root"}),n})();function tX(){return new W0(Ke(f1),Ke(ph))}function tE(n){return n.replace(/\/index.html$/,"")}var Mo=(()=>((Mo=Mo||{})[Mo.Zero=0]="Zero",Mo[Mo.One=1]="One",Mo[Mo.Two=2]="Two",Mo[Mo.Few=3]="Few",Mo[Mo.Many=4]="Many",Mo[Mo.Other=5]="Other",Mo))();const cX=function(n){return function(n){const e=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=TS(e);if(t)return t;const r=e.split("-")[0];if(t=TS(r),t)return t;if("en"===r)return xU;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[vn.PluralCase]};class l3{}let NX=(()=>{class n extends l3{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(cX(r||this.locale)(t)){case Mo.Zero:return"zero";case Mo.One:return"one";case Mo.Two:return"two";case Mo.Few:return"few";case Mo.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(Ke(su))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})();function uE(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}let c3=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(y0(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Kt(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(Ae(n1),Ae(r1),Ae(jn),Ae(Ri))},n.\u0275dir=tn({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class BX{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mh=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((i,o,s)=>{if(null==i.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new BX(null,this._ngForOf,-1,-1),null===s?void 0:s),l=new hE(i,a);r.push(l)}else if(null==s)this._viewContainer.remove(null===o?void 0:o);else if(null!==o){const a=this._viewContainer.get(o);this._viewContainer.move(a,s);const l=new hE(i,a);r.push(l)}});for(let i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(let i=0,o=this._viewContainer.length;i<o;i++){const s=this._viewContainer.get(i);s.context.index=i,s.context.count=o,s.context.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{this._viewContainer.get(i.currentIndex).context.$implicit=i.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(Ae(xo),Ae(ho),Ae(n1))},n.\u0275dir=tn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class hE{constructor(e,t){this.record=e,this.view=t}}let js=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new UX,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){dE("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){dE("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(Ae(xo),Ae(ho))},n.\u0275dir=tn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class UX{constructor(){this.$implicit=null,this.ngIf=null}}function dE(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Kt(e)}'.`)}class B5{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let u3=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=tn({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),fE=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new B5(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(Ae(xo),Ae(ho),Ae(u3,9))},n.\u0275dir=tn({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),pE=(()=>{class n{constructor(t,r,i){i._addDefault(new B5(t,r))}}return n.\u0275fac=function(t){return new(t||n)(Ae(xo),Ae(ho),Ae(u3,9))},n.\u0275dir=tn({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),lu=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split(".");null!=(r=null!=r&&o?`${r}${o}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(Ae(jn),Ae(r1),Ae(Ri))},n.\u0275dir=tn({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),p1=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(Ae(xo))},n.\u0275dir=tn({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Tn]}),n})(),ia=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({providers:[{provide:l3,useClass:NX}]}),n})();const vE="browser";let yE=(()=>{class n{}return n.\u0275prov=sn({token:n,providedIn:"root",factory:()=>new mK(Ke(rr),window)}),n})();class mK{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=_E(this.window.history)||_E(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function _E(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class bE{}class Y5 extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){Q2||(Q2=n)}(new Y5)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(X0=X0||document.querySelector("base"),X0?X0.getAttribute("href"):null);return null==t?null:function(n){h3=h3||document.createElement("a"),h3.setAttribute("href",n);const e=h3.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){X0=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return uE(document.cookie,e)}}let h3,X0=null;const wE=new Nn("TRANSITION_ID"),wK=[{provide:H0,useFactory:function(n,e,t){return()=>{t.get(u1).donePromise.then(()=>{const r=Ol(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[wE,rr,ui],multi:!0}];class G5{static init(){!function(n){p5=n}(new G5)}addToWindow(e){Qr.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},Qr.getAllAngularTestabilities=()=>e.getAllTestabilities(),Qr.getAllAngularRootElements=()=>e.getAllRootElements(),Qr.frameworkStabilizers||(Qr.frameworkStabilizers=[]),Qr.frameworkStabilizers.push(r=>{const i=Qr.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?Ol().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let xK=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})();const K0=new Nn("EventManagerPlugins");let f3=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(Ke(K0),Ke(yr))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})();class W5{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Ol().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let ME=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})(),Z0=(()=>{class n extends ME{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(SE),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(SE))}}return n.\u0275fac=function(t){return new(t||n)(Ke(rr))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})();function SE(n){Ol().remove(n)}const q5={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},$5=/%COMP%/g;function p3(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?p3(n,i,t):(i=i.replace($5,n),t.push(i))}return t}function EE(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let m3=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new X5(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case li.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new FK(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case li.ShadowDom:return new NK(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=p3(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(Ke(f3),Ke(Z0),Ke(B0))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})();class X5{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(q5[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=q5[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=q5[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(na.DashCase|na.Important)?e.style.setProperty(t,r,i&na.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&na.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,EE(r)):this.eventManager.addEventListener(e,t,EE(r))}}class FK extends X5{constructor(e,t,r,i){super(e),this.component=r;const o=p3(i+"-"+r.id,r.styles,[]);t.addStyles(o),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace($5,n)}(i+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace($5,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class NK extends X5{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=p3(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let VK=(()=>{class n extends W5{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(Ke(rr))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})();const AE=["alt","control","meta","shift"],WK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PE={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},qK={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $K=(()=>{class n extends W5{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ol().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="";if(AE.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(t){let r="",i=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&PE.hasOwnProperty(e)&&(e=PE[e]))}return WK[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),AE.forEach(o=>{o!=i&&qK[o](t)&&(r+=o+".")}),r+=i,r}static eventCallback(t,r,i){return o=>{n.getEventFullKey(o)===t&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(Ke(rr))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})(),m1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=sn({factory:function(){return Ke(Z5)},token:n,providedIn:"root"}),n})(),Z5=(()=>{class n extends m1{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Mi.NONE:return r;case Mi.HTML:return Cl(r,"HTML")?ta(r):kw(this._doc,String(r)).toString();case Mi.STYLE:return Cl(r,"Style")?ta(r):r;case Mi.SCRIPT:if(Cl(r,"Script"))return ta(r);throw new Error("unsafe value used in a script context");case Mi.URL:return Sw(r),Cl(r,"URL")?ta(r):a0(String(r));case Mi.RESOURCE_URL:if(Cl(r,"ResourceURL"))return ta(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function(n){return new DV(n)}(t)}bypassSecurityTrustStyle(t){return function(n){return new zV(n)}(t)}bypassSecurityTrustScript(t){return function(n){return new AV(n)}(t)}bypassSecurityTrustUrl(t){return function(n){return new PV(n)}(t)}bypassSecurityTrustResourceUrl(t){return function(n){return new kV(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(Ke(rr))},n.\u0275prov=sn({factory:function(){return function(n){return new Z5(n.get(rr))}(Ke(Nd))},token:n,providedIn:"root"}),n})();const nZ=bT(Yq,"browser",[{provide:ch,useValue:vE},{provide:uT,useValue:function(){Y5.makeCurrent(),G5.init()},multi:!0},{provide:rr,useFactory:function(){return function(n){Ir=n}(document),document},deps:[]}]),rZ=[[],{provide:m0,useValue:"root"},{provide:rh,useFactory:function(){return new rh},deps:[]},{provide:K0,useClass:VK,multi:!0,deps:[rr,yr,ch]},{provide:K0,useClass:$K,multi:!0,deps:[rr]},[],{provide:m3,useClass:m3,deps:[f3,Z0,B0]},{provide:Ma,useExisting:m3},{provide:ME,useExisting:Z0},{provide:Z0,useClass:Z0,deps:[rr]},{provide:f5,useClass:f5,deps:[yr]},{provide:f3,useClass:f3,deps:[K0,yr]},{provide:bE,useClass:xK,deps:[]},[]];let Q5=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:B0,useValue:t.appId},{provide:wE,useExisting:B0},wK]}}}return n.\u0275fac=function(t){return new(t||n)(Ke(n,12))},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({providers:rZ,imports:[ia,Zq]}),n})();function Xn(...n){let e=n[n.length-1];return _e(e)?(n.pop(),ht(n,e)):Ge(n)}"undefined"!=typeof window&&window;class Wi extends ye{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new q;return this._value}next(e){super.next(this._value=e)}}class hZ extends E{notifyNext(e,t,r,i,o){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class dZ extends E{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function fZ(n,e,t,r,i=new dZ(n,t,r)){if(!i.closed)return e instanceof Y?e.subscribe(i):Ee(e)(i)}const LE={};function g1(...n){let e,t;return _e(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&M(n[0])&&(n=n[0]),Ge(n,t).lift(new pZ(e))}class pZ{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new mZ(e,this.resultSelector))}}class mZ extends hZ{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(LE),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(fZ(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const i=this.values,s=this.toRespond?i[r]===LE?--this.toRespond:this.toRespond:0;i[r]=t,0===s&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const g3=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function ey(...n){return Jt(1)(Xn(...n))}const gh=new Y(n=>n.complete());function v3(n){return n?function(n){return new Y(e=>n.schedule(()=>e.complete()))}(n):gh}function OE(n){return new Y(e=>{let t;try{t=n()}catch(i){return void e.error(i)}return(t?ct(t):v3()).subscribe(e)})}function sl(n,e){return"function"==typeof e?t=>t.pipe(sl((r,i)=>ct(n(r,i)).pipe(we((o,s)=>e(r,o,i,s))))):t=>t.lift(new yZ(n))}class yZ{constructor(e){this.project=e}call(e,t){return t.subscribe(new _Z(e,this.project))}}class _Z extends $t{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new mt(this),i=this.destination;i.add(r),this.innerSubscription=Ct(e,r),this.innerSubscription!==r&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const IE=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function vh(n){return e=>0===n?v3():e.lift(new bZ(n))}class bZ{constructor(e){if(this.total=e,this.total<0)throw new IE}call(e,t){return t.subscribe(new wZ(e,this.total))}}class wZ extends E{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function Il(...n){const e=n[n.length-1];return _e(e)?(n.pop(),t=>ey(n,t,e)):t=>ey(n,t)}function RE(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(i){return i.lift(new xZ(n,e,t))}}class xZ{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new MZ(e,this.accumulator,this.seed,this.hasSeed))}}class MZ extends E{constructor(e,t,r,i){super(e),this.accumulator=t,this._seed=r,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=r,this.destination.next(r)}}function Qi(n,e){return function(r){return r.lift(new SZ(n,e))}}class SZ{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new CZ(e,this.predicate,this.thisArg))}}class CZ extends E{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function uu(n){return function(t){const r=new TZ(n),i=t.lift(r);return r.caught=i}}class TZ{constructor(e){this.selector=e}call(e,t){return t.subscribe(new EZ(e,this.selector,this.caught))}}class EZ extends $t{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(o){return void super.error(o)}this._unsubscribeAndRecycle();const r=new mt(this);this.add(r);const i=Ct(t,r);i!==r&&this.add(i)}}}function v1(n,e){return Sn(n,e,1)}function ty(n){return function(t){return 0===n?v3():t.lift(new DZ(n))}}class DZ{constructor(e){if(this.total=e,this.total<0)throw new IE}call(e,t){return t.subscribe(new zZ(e,this.total))}}class zZ extends E{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,i=this.count++;t.length<r?t.push(e):t[i%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,i=this.ring;for(let o=0;o<r;o++){const s=t++%r;e.next(i[s])}}e.complete()}}function FE(n=kZ){return e=>e.lift(new AZ(n))}class AZ{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new PZ(e,this.errorFactory))}}class PZ extends E{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function kZ(){return new g3}function NE(n=null){return e=>e.lift(new LZ(n))}class LZ{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new OZ(e,this.defaultValue))}}class OZ extends E{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function yh(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Qi((i,o)=>n(i,o,r)):U,vh(1),t?NE(e):FE(()=>new g3))}function hu(){}function Jo(n,e,t){return function(i){return i.lift(new RZ(n,e,t))}}class RZ{constructor(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}call(e,t){return t.subscribe(new FZ(e,this.nextOrObserver,this.error,this.complete))}}class FZ extends E{constructor(e,t,r,i){super(e),this._tapNext=hu,this._tapError=hu,this._tapComplete=hu,this._tapError=r||hu,this._tapComplete=i||hu,H(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||hu,this._tapError=t.error||hu,this._tapComplete=t.complete||hu)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}function ny(n){return e=>e.lift(new NZ(n))}class NZ{constructor(e){this.callback=e}call(e,t){return t.subscribe(new VZ(e,this.callback))}}class VZ extends E{constructor(e,t){super(e),this.add(new h(t))}}class _c{constructor(e,t){this.id=e,this.url=t}}class ry extends _c{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _h extends _c{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class VE extends _c{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class HZ extends _c{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class BZ extends _c{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jZ extends _c{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UZ extends _c{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class YZ extends _c{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GZ extends _c{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HE{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class BE{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class WZ{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qZ{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $Z{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XZ{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jE{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Fr="primary";class KZ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function y1(n){return new KZ(n)}const UE="ngNavigationCancelingError";function iy(n){const e=Error("NavigationCancelingError: "+n);return e[UE]=!0,e}function QZ(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Rl(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!YE(n[i],e[i]))return!1;return!0}function YE(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function GE(n){return Array.prototype.concat.apply([],n)}function WE(n){return n.length>0?n[n.length-1]:null}function es(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Fl(n){return b2(n)?n:b0(n)?ct(Promise.resolve(n)):Xn(n)}const tQ={exact:function XE(n,e,t){if(!wh(n.segments,e.segments)||!y3(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!XE(n.children[r],e.children[r],t))return!1;return!0},subset:KE},qE={exact:function(n,e){return Rl(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>YE(n[t],e[t]))},ignored:()=>!0};function $E(n,e,t){return tQ[t.paths](n.root,e.root,t.matrixParams)&&qE[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function KE(n,e,t){return ZE(n,e,e.segments,t)}function ZE(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!wh(i,t)||e.hasChildren()||!y3(i,t,r))}if(n.segments.length===t.length){if(!wh(n.segments,t)||!y3(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!KE(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(wh(n.segments,i)&&y3(n.segments,i,r)&&n.children[Fr])&&ZE(n.children[Fr],e,o,r)}}function y3(n,e,t){return e.every((r,i)=>qE[t](n[i].parameters,r.parameters))}class bh{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=y1(this.queryParams)),this._queryParamMap}toString(){return sQ.serialize(this)}}class Yr{constructor(e,t){this.segments=e,this.children=t,this.parent=null,es(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _3(this)}}class Q0{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=y1(this.parameters)),this._parameterMap}toString(){return tD(this)}}function wh(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class oy{}class QE{parse(e){const t=new mQ(e);return new bh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${`/${J0(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${b3(t)}=${b3(i)}`).join("&"):`${b3(t)}=${b3(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(n){return encodeURI(n)}(e.fragment)}`:""}`}}const sQ=new QE;function _3(n){return n.segments.map(e=>tD(e)).join("/")}function J0(n,e){if(!n.hasChildren())return _3(n);if(e){const t=n.children[Fr]?J0(n.children[Fr],!1):"",r=[];return es(n.children,(i,o)=>{o!==Fr&&r.push(`${o}:${J0(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return es(n.children,(r,i)=>{i===Fr&&(t=t.concat(e(r,i)))}),es(n.children,(r,i)=>{i!==Fr&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Fr?[J0(n.children[Fr],!1)]:[`${i}:${J0(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Fr]?`${_3(n)}/${t[0]}`:`${_3(n)}/(${t.join("//")})`}}function JE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function b3(n){return JE(n).replace(/%3B/gi,";")}function sy(n){return JE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function w3(n){return decodeURIComponent(n)}function eD(n){return w3(n.replace(/\+/g,"%20"))}function tD(n){return`${sy(n.path)}${function(n){return Object.keys(n).map(e=>`;${sy(e)}=${sy(n[e])}`).join("")}(n.parameters)}`}const uQ=/^[^\/()?;=#]+/;function x3(n){const e=n.match(uQ);return e?e[0]:""}const hQ=/^[^=?&#]+/,fQ=/^[^?&#]+/;class mQ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yr([],{}):new Yr([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Fr]=new Yr(e,t)),r}parseSegment(){const e=x3(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Q0(w3(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=x3(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=x3(this.remaining);i&&(r=i,this.capture(r))}e[w3(t)]=w3(r)}parseQueryParam(e){const t=function(n){const e=n.match(hQ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function(n){const e=n.match(fQ);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=eD(t),o=eD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=x3(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let o;r.indexOf(":")>-1?(o=r.substr(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Fr);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Fr]:new Yr([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class nD{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ay(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ay(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ly(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ly(e,this._root).map(t=>t.value)}}function ay(n,e){if(n===e.value)return e;for(const t of e.children){const r=ay(n,t);if(r)return r}return null}function ly(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ly(n,t);if(r.length)return r.unshift(e),r}return[]}class bc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ep(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class rD extends nD{constructor(e,t){super(e),this.snapshot=t,cy(this,e)}toString(){return this.snapshot.toString()}}function iD(n,e){const t=function(n,e){const s=new M3([],{},{},"",{},Fr,e,null,n.root,-1,{});return new sD("",new bc(s,[]))}(n,e),r=new Wi([new Q0("",{})]),i=new Wi({}),o=new Wi({}),s=new Wi({}),a=new Wi(""),l=new _1(r,i,s,a,o,Fr,e,t.root);return l.snapshot=t.root,new rD(new bc(l,[]),t)}class _1{constructor(e,t,r,i,o,s,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(we(e=>y1(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(we(e=>y1(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function oD(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class M3{constructor(e,t,r,i,o,s,a,l,c,p,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=p,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=y1(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=y1(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sD extends nD{constructor(e,t){super(t),this.url=e,cy(this,t)}toString(){return aD(this._root)}}function cy(n,e){e.value._routerState=n,e.children.forEach(t=>cy(n,t))}function aD(n){const e=n.children.length>0?` { ${n.children.map(aD).join(", ")} } `:"";return`${n.value}${e}`}function uy(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Rl(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Rl(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Rl(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Rl(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function hy(n,e){return Rl(n.params,e.params)&&function(n,e){return wh(n,e)&&n.every((t,r)=>Rl(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||hy(n.parent,e.parent))}function S3(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return S3(n,r,i);return S3(n,r)})}(n,e,t);return new bc(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return lD(e,s),s}}const r=function(n){return new _1(new Wi(n.url),new Wi(n.params),new Wi(n.queryParams),new Wi(n.fragment),new Wi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>S3(n,o));return new bc(r,i)}}function lD(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)lD(n.children[t],e.children[t])}function C3(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function tp(n){return"object"==typeof n&&null!=n&&n.outlets}function dy(n,e,t,r,i){let o={};return r&&es(r,(s,a)=>{o[a]=Array.isArray(s)?s.map(l=>`${l}`):`${s}`}),new bh(t.root===n?e:cD(t.root,n,e),o,i)}function cD(n,e,t){const r={};return es(n.children,(i,o)=>{r[o]=i===e?t:cD(i,e,t)}),new Yr(n.segments,r)}class uD{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&C3(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(tp);if(i&&i!==WE(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fy{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function hD(n,e,t){if(n||(n=new Yr([],{})),0===n.segments.length&&n.hasChildren())return T3(n,e,t);const r=function(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(tp(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!fD(l,c,s))return o;r+=2}else{if(!fD(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Yr(n.segments.slice(0,r.pathIndex),{});return o.children[Fr]=new Yr(n.segments.slice(r.pathIndex),n.children),T3(o,0,i)}return r.match&&0===i.length?new Yr(n.segments,{}):r.match&&!n.hasChildren()?py(n,e,t):r.match?T3(n,0,i):py(n,e,t)}function T3(n,e,t){if(0===t.length)return new Yr(n.segments,{});{const r=function(n){return tp(n[0])?n[0].outlets:{[Fr]:n}}(t),i={};return es(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=hD(n.children[s],e,o))}),es(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new Yr(n.segments,i)}}function py(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(tp(o)){const l=EQ(o.outlets);return new Yr(r,l)}if(0===i&&C3(t[0])){r.push(new Q0(n.segments[e].path,dD(t[0]))),i++;continue}const s=tp(o)?o.outlets[Fr]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&C3(a)?(r.push(new Q0(s,dD(a))),i+=2):(r.push(new Q0(s,{})),i++)}return new Yr(r,{})}function EQ(n){const e={};return es(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=py(new Yr([],{}),0,t))}),e}function dD(n){const e={};return es(n,(t,r)=>e[r]=`${t}`),e}function fD(n,e,t){return n==t.path&&Rl(e,t.parameters)}class zQ{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),uy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ep(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),es(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const i=r.outlet.detach(),o=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:i,route:e,contexts:o})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ep(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ep(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new XZ(o.value.snapshot))}),e.children.length&&this.forwardEvent(new qZ(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(uy(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),pD(a.route)}else{const a=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=i,s.resolver=l,s.outlet&&s.outlet.activateWith(i,l),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}function pD(n){uy(n.value),n.children.forEach(pD)}class my{constructor(e,t){this.routes=e,this.module=t}}function du(n){return"function"==typeof n}function xh(n){return n instanceof bh}const np=Symbol("INITIAL_VALUE");function rp(){return sl(n=>g1(n.map(e=>e.pipe(vh(1),Il(np)))).pipe(RE((e,t)=>{let r=!1;return t.reduce((i,o,s)=>i!==np?i:(o===np&&(r=!0),r||!1!==o&&s!==t.length-1&&!xh(o)?i:o),e)},np),Qi(e=>e!==np),we(e=>xh(e)?e:!0===e),vh(1)))}let mD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tr({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&Vn(0,"router-outlet")},directives:function(){return[O3]},encapsulation:2}),n})();function gD(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];RQ(r,FQ(e,r))}}function RQ(n,e){n.children&&gD(n.children,e)}function FQ(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function gy(n){const e=n.children&&n.children.map(gy),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Fr&&(t.component=mD),t}function Da(n){return n.outlet||Fr}function vD(n,e){const t=n.filter(r=>Da(r)===e);return t.push(...n.filter(r=>Da(r)!==e)),t}const yD={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function E3(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},yD):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const o=(e.matcher||QZ)(t,n,e);if(!o)return Object.assign({},yD);const s={};es(o.posParams,(l,c)=>{s[c]=l.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:a,positionalParamSegments:null!==(r=o.posParams)&&void 0!==r?r:{}}}function D3(n,e,t,r,i="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>z3(n,e,r)&&Da(r)!==Fr)}(n,t,r)){const s=new Yr(e,function(n,e,t,r){const i={};i[Fr]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&Da(o)!==Fr){const s=new Yr([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,i[Da(o)]=s}return i}(n,e,r,new Yr(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>z3(n,e,r))}(n,t,r)){const s=new Yr(n.segments,function(n,e,t,r,i,o){const s={};for(const a of r)if(z3(n,t,a)&&!i[Da(a)]){const l=new Yr([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:e.length,s[Da(a)]=l}return Object.assign(Object.assign({},i),s)}(n,e,t,r,n.children,i));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const o=new Yr(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function z3(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function _D(n,e,t,r){return!!(Da(n)===r||r!==Fr&&z3(e,t,n))&&("**"===n.path||E3(e,n,t).matched)}function bD(n,e,t){return 0===e.length&&!n.children[t]}class ip{constructor(e){this.segmentGroup=e||null}}class wD{constructor(e){this.urlTree=e}}function A3(n){return new Y(e=>e.error(new ip(n)))}function xD(n){return new Y(e=>e.error(new wD(n)))}function jQ(n){return new Y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class GQ{constructor(e,t,r,i,o){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(kl)}apply(){const e=D3(this.urlTree.root,[],[],this.config).segmentGroup,t=new Yr(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Fr).pipe(we(o=>this.createUrlTree(vy(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(uu(o=>{if(o instanceof wD)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof ip?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Fr).pipe(we(i=>this.createUrlTree(vy(i),e.queryParams,e.fragment))).pipe(uu(i=>{throw i instanceof ip?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Yr([],{[Fr]:e}):e;return new bh(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(we(o=>new Yr([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return ct(i).pipe(v1(o=>{const s=r.children[o],a=vD(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(we(l=>({segment:l,outlet:o})))}),RE((o,s)=>(o[s.outlet]=s.segment,o),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Qi((i,o)=>n(i,o,r)):U,ty(1),t?NE(e):FE(()=>new g3))}())}expandSegment(e,t,r,i,o,s){return ct(r).pipe(v1(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,o,s).pipe(uu(c=>{if(c instanceof ip)return Xn(null);throw c}))),yh(a=>!!a),uu((a,l)=>{if(a instanceof g3||"EmptyError"===a.name){if(bD(t,i,o))return Xn(new Yr([],{}));throw new ip(t)}throw a}))}expandSegmentAgainstRoute(e,t,r,i,o,s,a){return _D(i,t,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s):A3(t):A3(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?xD(o):this.lineralizeSegments(r,o).pipe(Sn(s=>{const a=new Yr(s,{});return this.expandSegment(e,a,t,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:l,lastChild:c,positionalParamSegments:p}=E3(t,i,o);if(!a)return A3(t);const _=this.applyRedirectCommands(l,i.redirectTo,p);return i.redirectTo.startsWith("/")?xD(_):this.lineralizeSegments(i,_).pipe(Sn(S=>this.expandSegment(e,t,r,S.concat(o.slice(c)),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Xn(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(we(S=>(r._loadedConfig=S,new Yr(i,{})))):Xn(new Yr(i,{}));const{matched:s,consumedSegments:a,lastChild:l}=E3(t,r,i);if(!s)return A3(t);const c=i.slice(l);return this.getChildConfig(e,r,i).pipe(Sn(_=>{const S=_.module,D=_.routes,{segmentGroup:k,slicedSegments:N}=D3(t,a,c,D),B=new Yr(k.segments,k.children);if(0===N.length&&B.hasChildren())return this.expandChildren(S,D,B).pipe(we($=>new Yr(a,$)));if(0===D.length&&0===N.length)return Xn(new Yr(a,{}));const F=Da(r)===o;return this.expandSegment(S,B,D,N,F?Fr:o,!0).pipe(we(X=>new Yr(a.concat(X.segments),X.children)))}))}getChildConfig(e,t,r){return t.children?Xn(new my(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Xn(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(Sn(i=>i?this.configLoader.load(e.injector,t).pipe(we(o=>(t._loadedConfig=o,o))):function(n){return new Y(e=>e.error(iy(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):Xn(new my([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?Xn(i.map(s=>{const a=e.get(s);let l;if(function(n){return n&&du(n.canLoad)}(a))l=a.canLoad(t,r);else{if(!du(a))throw new Error("Invalid CanLoad guard");l=a(t,r)}return Fl(l)})).pipe(rp(),Jo(s=>{if(!xh(s))return;const a=iy(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),we(s=>!0===s)):Xn(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Xn(r);if(i.numberOfChildren>1||!i.children[Fr])return jQ(e.redirectTo);i=i.children[Fr]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new bh(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return es(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return es(t.children,(a,l)=>{s[l]=this.createSegmentGroup(e,a,r,i)}),new Yr(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function vy(n){const e={};for(const r of Object.keys(n.children)){const o=vy(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function(n){if(1===n.numberOfChildren&&n.children[Fr]){const e=n.children[Fr];return new Yr(n.segments.concat(e.segments),e.children)}return n}(new Yr(n.segments,e))}class MD{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class P3{constructor(e,t){this.component=e,this.route=t}}function $Q(n,e,t){const r=n._root;return op(r,e?e._root:null,t,[r.value])}function k3(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function op(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=ep(e);return n.children.forEach(s=>{(function(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!wh(n.url,e.url);case"pathParamsOrQueryParamsChange":return!wh(n.url,e.url)||!Rl(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hy(n,e)||!Rl(n.queryParams,e.queryParams);case"paramsChange":default:return!hy(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new MD(r)):(o.data=s.data,o._resolvedData=s._resolvedData),op(n,e,o.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new P3(a.outlet.component,s))}else s&&sp(e,a,i),i.canActivateChecks.push(new MD(r)),op(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),es(o,(s,a)=>sp(s,t.getContext(a),i)),i}function sp(n,e,t){const r=ep(n),i=n.value;es(r,(o,s)=>{sp(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new P3(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class aJ{}function SD(n){return new Y(e=>e.error(n))}class cJ{constructor(e,t,r,i,o,s){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}recognize(){const e=D3(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Fr);if(null===t)return null;const r=new M3([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Fr,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new bc(r,t),o=new sD(this.url,i);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(e){const t=e.value,r=oD(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const o of Object.keys(t.children)){const s=t.children[o],a=vD(e,o),l=this.processSegmentGroup(a,s,o);if(null===l)return null;r.push(...l)}const i=CD(r);return function(n){n.sort((e,t)=>e.value.outlet===Fr?-1:t.value.outlet===Fr?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const o of e){const s=this.processSegmentAgainstRoute(o,t,r,i);if(null!==s)return s}return bD(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!_D(e,t,r,i))return null;let o,s=[],a=[];if("**"===e.path){const D=r.length>0?WE(r).parameters:{};o=new M3(r,D,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,DD(e),Da(e),e.component,e,TD(t),ED(t)+r.length,zD(e))}else{const D=E3(t,e,r);if(!D.matched)return null;s=D.consumedSegments,a=r.slice(D.lastChild),o=new M3(s,D.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,DD(e),Da(e),e.component,e,TD(t),ED(t)+s.length,zD(e))}const l=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:p}=D3(t,s,a,l.filter(D=>void 0===D.redirectTo),this.relativeLinkResolution);if(0===p.length&&c.hasChildren()){const D=this.processChildren(l,c);return null===D?null:[new bc(o,D)]}if(0===l.length&&0===p.length)return[new bc(o,[])];const _=Da(e)===i,S=this.processSegment(l,c,p,_?Fr:i);return null===S?null:[new bc(o,S)]}}function dJ(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function CD(n){const e=[],t=new Set;for(const r of n){if(!dJ(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=CD(r.children);e.push(new bc(r.value,i))}return e.filter(r=>!t.has(r))}function TD(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ED(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function DD(n){return n.data||{}}function zD(n){return n.resolve||{}}function yy(n){return sl(e=>{const t=n(e);return t?ct(t).pipe(we(()=>e)):Xn(e)})}class bJ extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const _y=new Nn("ROUTES");class AD{constructor(e,t,r,i){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(we(o=>{this.onLoadEndListener&&this.onLoadEndListener(t);const s=o.create(e);return new my(GE(s.injector.get(_y,void 0,Wn.Self|Wn.Optional)).map(gy),s)}),uu(o=>{throw t._loader$=void 0,o}));return t._loader$=new ae(i,()=>new ye).pipe(At()),t._loader$}loadModuleFactory(e){return"string"==typeof e?ct(this.loader.load(e)):Fl(e()).pipe(Sn(t=>t instanceof cC?Xn(t):ct(this.compiler.compileModuleAsync(t))))}}class wJ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new b1,this.attachRef=null}}class b1{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new wJ,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class MJ{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function SJ(n){throw n}function CJ(n,e,t){return e.parse("/")}function PD(n,e){return Xn(null)}const TJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},EJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ds=(()=>{class n{constructor(t,r,i,o,s,a,l,c){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ye,this.errorHandler=SJ,this.malformedUriErrorHandler=CJ,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:PD,afterPreactivation:PD},this.urlHandlingStrategy=new MJ,this.routeReuseStrategy=new bJ,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(kl),this.console=s.get(V2);const S=s.get(yr);this.isNgZoneEnabled=S instanceof yr&&yr.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new bh(new Yr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new AD(a,l,D=>this.triggerEvent(new HE(D)),D=>this.triggerEvent(new BE(D))),this.routerState=iD(this.currentUrlTree,this.rootComponentType),this.transitions=new Wi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Qi(i=>0!==i.id),we(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),sl(i=>{let o=!1,s=!1;return Xn(i).pipe(Jo(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),sl(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return L3(a.source)&&(this.browserUrlTree=a.extractedUrl),Xn(a).pipe(sl(_=>{const S=this.transitions.getValue();return r.next(new ry(_.id,this.serializeUrl(_.extractedUrl),_.source,_.restoredState)),S!==this.transitions.getValue()?gh:Promise.resolve(_)}),function(n,e,t,r){return sl(i=>function(n,e,t,r,i){return new GQ(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(we(o=>Object.assign(Object.assign({},i),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Jo(_=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:_.urlAfterRedirects})}),function(n,e,t,r,i){return Sn(o=>function(n,e,t,r,i="emptyOnly",o="legacy"){try{const s=new cJ(n,e,t,r,i,o).recognize();return null===s?SD(new aJ):Xn(s)}catch(s){return SD(s)}}(n,e,o.urlAfterRedirects,t(o.urlAfterRedirects),r,i).pipe(we(s=>Object.assign(Object.assign({},o),{targetSnapshot:s}))))}(this.rootComponentType,this.config,_=>this.serializeUrl(_),this.paramsInheritanceStrategy,this.relativeLinkResolution),Jo(_=>{"eager"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(_.urlAfterRedirects,_),this.browserUrlTree=_.urlAfterRedirects);const S=new BZ(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);r.next(S)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:S,extractedUrl:D,source:k,restoredState:N,extras:B}=a,F=new ry(S,this.serializeUrl(D),k,N);r.next(F);const I=iD(D,this.rootComponentType).snapshot;return Xn(Object.assign(Object.assign({},a),{targetSnapshot:I,urlAfterRedirects:D,extras:Object.assign(Object.assign({},B),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,this.browserUrlTree=a.urlAfterRedirects,a.resolve(null),gh}),yy(a=>{const{targetSnapshot:l,id:c,extractedUrl:p,rawUrl:_,extras:{skipLocationChange:S,replaceUrl:D}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:p,rawUrlTree:_,skipLocationChange:!!S,replaceUrl:!!D})}),Jo(a=>{const l=new jZ(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),we(a=>Object.assign(Object.assign({},a),{guards:$Q(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(n,e){return Sn(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?Xn(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return ct(n).pipe(Sn(i=>function(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Xn(o.map(a=>{const l=k3(a,e,i);let c;if(function(n){return n&&du(n.canDeactivate)}(l))c=Fl(l.canDeactivate(n,e,t,r));else{if(!du(l))throw new Error("Invalid CanDeactivate guard");c=Fl(l(n,e,t,r))}return c.pipe(yh())})).pipe(rp()):Xn(!0)}(i.component,i.route,t,e,r)),yh(i=>!0!==i,!0))}(s,r,i,n).pipe(Sn(a=>a&&function(n){return"boolean"==typeof n}(a)?function(n,e,t,r){return ct(e).pipe(v1(i=>ey(function(n,e){return null!==n&&e&&e(new WZ(n)),Xn(!0)}(i.route.parent,r),function(n,e){return null!==n&&e&&e(new $Z(n)),Xn(!0)}(i.route,r),function(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>OE(()=>Xn(s.guards.map(l=>{const c=k3(l,s.node,t);let p;if(function(n){return n&&du(n.canActivateChild)}(c))p=Fl(c.canActivateChild(r,n));else{if(!du(c))throw new Error("Invalid CanActivateChild guard");p=Fl(c(r,n))}return p.pipe(yh())})).pipe(rp())));return Xn(o).pipe(rp())}(n,i.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?Xn(r.map(o=>OE(()=>{const s=k3(o,e,t);let a;if(function(n){return n&&du(n.canActivate)}(s))a=Fl(s.canActivate(e,n));else{if(!du(s))throw new Error("Invalid CanActivate guard");a=Fl(s(e,n))}return a.pipe(yh())}))).pipe(rp()):Xn(!0)}(n,i.route,t))),yh(i=>!0!==i,!0))}(r,o,n,e):Xn(a)),we(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Jo(a=>{if(xh(a.guardsResult)){const c=iy(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new UZ(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Qi(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),yy(a=>{if(a.guards.canActivateChecks.length)return Xn(a).pipe(Jo(l=>{const c=new YZ(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),sl(l=>{let c=!1;return Xn(l).pipe(function(n,e){return Sn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Xn(t);let o=0;return ct(i).pipe(v1(s=>function(n,e,t,r){return function(n,e,t,r){const i=Object.keys(n);if(0===i.length)return Xn({});const o={};return ct(i).pipe(Sn(s=>function(n,e,t,r){const i=k3(n,e,r);return Fl(i.resolve?i.resolve(e,t):i(e,t))}(n[s],e,t,r).pipe(Jo(a=>{o[s]=a}))),ty(1),Sn(()=>Object.keys(o).length===i.length?Xn(o):gh))}(n._resolve,n,e,r).pipe(we(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),oD(n,t).resolve),null)))}(s.route,r,n,e)),Jo(()=>o++),ty(1),Sn(s=>o===i.length?Xn(t):gh))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Jo({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),Jo(l=>{const c=new GZ(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),yy(a=>{const{targetSnapshot:l,id:c,extractedUrl:p,rawUrl:_,extras:{skipLocationChange:S,replaceUrl:D}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:p,rawUrlTree:_,skipLocationChange:!!S,replaceUrl:!!D})}),we(a=>{const l=function(n,e,t){const r=S3(n,e._root,t?t._root:void 0);return new rD(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),Jo(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>we(r=>(new zQ(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Jo({next(){o=!0},complete(){o=!0}}),ny(()=>{var a;if(!o&&!s){const l=`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(i),this.cancelNavigationTransition(i,l)):this.cancelNavigationTransition(i,l)}(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),uu(a=>{if(s=!0,function(n){return n&&n[UE]}(a)){const l=xh(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const c=new VE(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),l?setTimeout(()=>{const p=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),_={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||L3(i.source)};this.scheduleNavigation(p,"imperative",null,_,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new HZ(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return gh}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:i,state:o,urlTree:s}=r,a={replaceUrl:!0};if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(a.state=l)}this.scheduleNavigation(s,i,o,a)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const i=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!i||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){gD(t),this.config=t.map(gy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=i||this.routerState.root,p=l?this.currentUrlTree.fragment:s;let _=null;switch(a){case"merge":_=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":_=this.currentUrlTree.queryParams;break;default:_=o||null}return null!==_&&(_=this.removeEmptyProps(_)),function(n,e,t,r,i){if(0===t.length)return dy(e.root,e.root,e,r,i);const o=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new uD(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return es(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new uD(t,e,r)}(t);if(o.toRoot())return dy(e.root,new Yr([],{}),e,r,i);const s=function(n,e,t){if(n.isAbsolute)return new fy(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const o=t.snapshot._urlSegment;return new fy(o,o===e.root,0)}const r=C3(n.commands[0])?0:1;return function(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new fy(r,!1,i-o)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(o,e,n),a=s.processChildren?T3(s.segmentGroup,s.index,o.commands):hD(s.segmentGroup,s.index,o.commands);return dy(s.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,_,null!=p?p:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=xh(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},TJ):!1===r?Object.assign({},EJ):r,xh(t))return $E(this.currentUrlTree,t,i);const o=this.parseUrl(t);return $E(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new _h(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,o,s){var a,l;if(this.disposed)return Promise.resolve(!1);const c=this.getTransition(),p=L3(r)&&c&&!L3(c.source),D=(this.lastSuccessfulId===c.id||this.currentNavigation?c.rawUrl:c.urlAfterRedirects).toString()===t.toString();if(p&&D)return Promise.resolve(!0);let k,N,B;s?(k=s.resolve,N=s.reject,B=s.promise):B=new Promise((X,$)=>{k=X,N=$});const F=++this.navigationId;let I;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),I=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):I=0,this.setTransition({id:F,targetPageId:I,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:k,reject:N,promise:B,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),B.catch(X=>Promise.reject(X))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){var i,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new VE(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(Ke(Z4),Ke(oy),Ke(b1),Ke(W0),Ke(ui),Ke(j2),Ke(uh),Ke(void 0))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})();function L3(n){return"imperative"!==n}let w1=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.route=r,this.commands=[],this.onChanges=new ye,null==i&&o.setAttribute(s.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:x1(this.skipLocationChange),replaceUrl:x1(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:x1(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(Ae(ds),Ae(_1),Jf("tabindex"),Ae(Ri),Ae(jn))},n.\u0275dir=tn({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&nr("click",function(){return r.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Tn]}),n})(),Mh=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=[],this.onChanges=new ye,this.subscription=t.events.subscribe(o=>{o instanceof _h&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,o,s){if(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target)return!0;const a={skipLocationChange:x1(this.skipLocationChange),replaceUrl:x1(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:x1(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(Ae(ds),Ae(_1),Ae(f1))},n.\u0275dir=tn({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&nr("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&(Ev("href",r.href,zg),Ds("target",r.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Tn]}),n})();function x1(n){return""===n||!!n}let O3=(()=>{class n{constructor(t,r,i,o,s){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Hn,this.deactivateEvents=new Hn,this.name=o||Fr,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const s=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new PJ(t,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(Ae(b1),Ae(xo),Ae(Qa),Jf("name"),Ae(wo))},n.\u0275dir=tn({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class PJ{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===_1?this.route:e===b1?this.childContexts:this.parent.get(e,t)}}class kD{}class LD{preload(e,t){return Xn(null)}}let OD=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=o,this.preloadingStrategy=s,this.loader=new AD(r,i,c=>t.triggerEvent(new HE(c)),c=>t.triggerEvent(new BE(c)))}setUpPreloading(){this.subscription=this.router.events.pipe(Qi(t=>t instanceof _h),v1(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(kl);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const s=o._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(t,o)):o.children&&i.push(this.processRoutes(t,o.children));return ct(i).pipe(Jt(),we(o=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Xn(r._loadedConfig):this.loader.load(t.injector,r)).pipe(Sn(o=>(r._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(Ke(ds),Ke(j2),Ke(uh),Ke(ui),Ke(kD))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})(),by=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ry?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof _h&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof jE&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new jE(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(Ke(ds),Ke(yE),Ke(void 0))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})();const Sh=new Nn("ROUTER_CONFIGURATION"),ID=new Nn("ROUTER_FORROOT_GUARD"),LJ=[W0,{provide:oy,useClass:QE},{provide:ds,useFactory:function(n,e,t,r,i,o,s,a={},l,c){const p=new ds(null,n,e,t,r,i,o,GE(s));return l&&(p.urlHandlingStrategy=l),c&&(p.routeReuseStrategy=c),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(a,p),a.enableTracing&&p.events.subscribe(_=>{var S,D;null===(S=console.group)||void 0===S||S.call(console,`Router Event: ${_.constructor.name}`),console.log(_.toString()),console.log(_),null===(D=console.groupEnd)||void 0===D||D.call(console)}),p},deps:[oy,b1,W0,ui,j2,uh,_y,Sh,[class{},new Zo],[class{},new Zo]]},b1,{provide:_1,useFactory:function(n){return n.routerState.root},deps:[ds]},{provide:j2,useClass:Oq},OD,LD,class{preload(e,t){return t().pipe(uu(()=>Xn(null)))}},{provide:Sh,useValue:{enableTracing:!1}}];function OJ(){return new m5("Router",ds)}let RD=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[LJ,FD(t),{provide:ID,useFactory:FJ,deps:[[ds,new Zo,new Ya]]},{provide:Sh,useValue:r||{}},{provide:f1,useFactory:RJ,deps:[ph,[new Ad(k5),new Zo],Sh]},{provide:by,useFactory:IJ,deps:[ds,yE,Sh]},{provide:kD,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:LD},{provide:m5,multi:!0,useFactory:OJ},[wy,{provide:H0,multi:!0,useFactory:BJ,deps:[wy]},{provide:ND,useFactory:jJ,deps:[wy]},{provide:hT,multi:!0,useExisting:ND}]]}}static forChild(t){return{ngModule:n,providers:[FD(t)]}}}return n.\u0275fac=function(t){return new(t||n)(Ke(ID,8),Ke(ds,8))},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({}),n})();function IJ(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new by(n,e,t)}function RJ(n,e,t={}){return t.useHash?new eX(n,e):new eE(n,e)}function FJ(n){return"guarded"}function FD(n){return[{provide:rV,multi:!0,useValue:n},{provide:_y,multi:!0,useValue:n}]}let wy=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ye}appInitializer(){return this.injector.get(Z$,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),o=this.injector.get(ds),s=this.injector.get(Sh);return"disabled"===s.initialNavigation?(o.setUpLocationChangeListener(),r(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?Xn(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),o.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Sh),i=this.injector.get(OD),o=this.injector.get(by),s=this.injector.get(ds),a=this.injector.get(hh);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&s.initialNavigation(),i.setUpPreloading(),o.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(Ke(ui))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})();function BJ(n){return n.appInitializer.bind(n)}function jJ(n){return n.bootstrapListener.bind(n)}const ND=new Nn("Router Initializer"),I3=class{constructor(e,t){this.__id=(new Date).getTime(),this.defOption={fontSize:16},this.divWidth=10,this.divHeight=10,this.domdiv=e,this.divWidth=e.offsetWidth,this.divHeight=e.offsetHeight,this.setOption(t),e.style.fontSize=this.nowOption.fontSize+"px"}setOption(e){void 0===e&&(e={}),this.nowOption=this.deepCopy(this.defOption,e)}deepCopy(e,t){let r=Object.assign({},e);for(let i in t)"object"!=typeof e[i]||null===e[i]||Array.isArray(e[i])?void 0!==t[i]&&(r[i]=t[i]):r[i]=this.deepCopy(e[i],t[i]);return r}updateData(e){}dispose(){}reSize(){}};function WJ(){}function xy(n){return null==n?WJ:function(){return this.querySelector(n)}}function VD(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function $J(){return[]}function HD(n){return null==n?$J:function(){return this.querySelectorAll(n)}}function BD(n){return function(){return this.matches(n)}}function jD(n){return function(e){return e.matches(n)}}var ZJ=Array.prototype.find;function JJ(){return this.firstElementChild}var tee=Array.prototype.filter;function nee(){return this.children}function UD(n){return new Array(n.length)}function R3(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}function aee(n){return function(){return n}}function lee(n,e,t,r,i,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):t[s]=new R3(n,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function cee(n,e,t,r,i,o,s){var a,l,D,c=new Map,p=e.length,_=o.length,S=new Array(p);for(a=0;a<p;++a)(l=e[a])&&(S[a]=D=s.call(l,l.__data__,a,e)+"",c.has(D)?i[a]=l:c.set(D,l));for(a=0;a<_;++a)D=s.call(n,o[a],a,o)+"",(l=c.get(D))?(r[a]=l,l.__data__=o[a],c.delete(D)):t[a]=new R3(n,o[a]);for(a=0;a<p;++a)(l=e[a])&&c.get(S[a])===l&&(i[a]=l)}function uee(n){return n.__data__}function vee(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}R3.prototype={constructor:R3,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var My="http://www.w3.org/1999/xhtml";const YD={svg:"http://www.w3.org/2000/svg",xhtml:My,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function F3(n){var e=n+="",t=e.indexOf(":");return t>=0&&"xmlns"!==(e=n.slice(0,t))&&(n=n.slice(t+1)),YD.hasOwnProperty(e)?{space:YD[e],local:n}:n}function See(n){return function(){this.removeAttribute(n)}}function Cee(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Tee(n,e){return function(){this.setAttribute(n,e)}}function Eee(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function Dee(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttribute(n):this.setAttribute(n,t)}}function zee(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function GD(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Pee(n){return function(){this.style.removeProperty(n)}}function kee(n,e,t){return function(){this.style.setProperty(n,e,t)}}function Lee(n,e,t){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,t)}}function M1(n,e){return n.style.getPropertyValue(e)||GD(n).getComputedStyle(n,null).getPropertyValue(e)}function Iee(n){return function(){delete this[n]}}function Ree(n,e){return function(){this[n]=e}}function Fee(n,e){return function(){var t=e.apply(this,arguments);null==t?delete this[n]:this[n]=t}}function WD(n){return n.trim().split(/^|\s+/)}function Sy(n){return n.classList||new qD(n)}function qD(n){this._node=n,this._names=WD(n.getAttribute("class")||"")}function $D(n,e){for(var t=Sy(n),r=-1,i=e.length;++r<i;)t.add(e[r])}function XD(n,e){for(var t=Sy(n),r=-1,i=e.length;++r<i;)t.remove(e[r])}function Vee(n){return function(){$D(this,n)}}function Hee(n){return function(){XD(this,n)}}function Bee(n,e){return function(){(e.apply(this,arguments)?$D:XD)(this,n)}}function Uee(){this.textContent=""}function Yee(n){return function(){this.textContent=n}}function Gee(n){return function(){var e=n.apply(this,arguments);this.textContent=null==e?"":e}}function qee(){this.innerHTML=""}function $ee(n){return function(){this.innerHTML=n}}function Xee(n){return function(){var e=n.apply(this,arguments);this.innerHTML=null==e?"":e}}function Zee(){this.nextSibling&&this.parentNode.appendChild(this)}function Jee(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tte(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===My&&e.documentElement.namespaceURI===My?e.createElement(n):e.createElementNS(t,n)}}function nte(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function KD(n){var e=F3(n);return(e.local?nte:tte)(e)}function ite(){return null}function ste(){var n=this.parentNode;n&&n.removeChild(this)}function lte(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function cte(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function fte(n){return n.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}function pte(n){return function(){var e=this.__on;if(e){for(var o,t=0,r=-1,i=e.length;t<i;++t)o=e[t],n.type&&o.type!==n.type||o.name!==n.name?e[++r]=o:this.removeEventListener(o.type,o.listener,o.options);++r?e.length=r:delete this.__on}}}function mte(n,e,t){return function(){var i,r=this.__on,o=function(n){return function(e){n.call(this,e,this.__data__)}}(e);if(r)for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===n.type&&i.name===n.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=t),void(i.value=e);this.addEventListener(n.type,o,t),i={type:n.type,name:n.name,value:e,listener:o,options:t},r?r.push(i):this.__on=[i]}}function ZD(n,e,t){var r=GD(n),i=r.CustomEvent;"function"==typeof i?i=new i(e,t):(i=r.document.createEvent("Event"),t?(i.initEvent(e,t.bubbles,t.cancelable),i.detail=t.detail):i.initEvent(e,!1,!1)),n.dispatchEvent(i)}function vte(n,e){return function(){return ZD(this,n,e)}}function yte(n,e){return function(){return ZD(this,n,e.apply(this,arguments))}}qD.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var QD=[null];function Us(n,e){this._groups=n,this._parents=e}function JD(){return new Us([[document.documentElement]],QD)}Us.prototype=JD.prototype={constructor:Us,select:function(n){"function"!=typeof n&&(n=xy(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var l,c,o=e[i],s=o.length,a=r[i]=new Array(s),p=0;p<s;++p)(l=o[p])&&(c=n.call(l,l.__data__,p,o))&&("__data__"in l&&(c.__data__=l.__data__),a[p]=c);return new Us(r,this._parents)},selectAll:function(n){n="function"==typeof n?function(n){return function(){var e=n.apply(this,arguments);return null==e?[]:VD(e)}}(n):HD(n);for(var e=this._groups,t=e.length,r=[],i=[],o=0;o<t;++o)for(var l,s=e[o],a=s.length,c=0;c<a;++c)(l=s[c])&&(r.push(n.call(l,l.__data__,c,s)),i.push(l));return new Us(r,i)},selectChild:function(n){return this.select(null==n?JJ:function(n){return function(){return ZJ.call(this.children,n)}}("function"==typeof n?n:jD(n)))},selectChildren:function(n){return this.selectAll(null==n?nee:function(n){return function(){return tee.call(this.children,n)}}("function"==typeof n?n:jD(n)))},filter:function(n){"function"!=typeof n&&(n=BD(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var l,o=e[i],s=o.length,a=r[i]=[],c=0;c<s;++c)(l=o[c])&&n.call(l,l.__data__,c,o)&&a.push(l);return new Us(r,this._parents)},data:function(n,e){if(!arguments.length)return Array.from(this,uee);var t=e?cee:lee,r=this._parents,i=this._groups;"function"!=typeof n&&(n=aee(n));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var p=r[c],_=i[c],S=_.length,D=VD(n.call(p,p&&p.__data__,c,r)),k=D.length,N=a[c]=new Array(k),B=s[c]=new Array(k),F=l[c]=new Array(S);t(p,_,N,B,F,D,e);for(var $,re,I=0,X=0;I<k;++I)if($=N[I]){for(I>=X&&(X=I+1);!(re=B[X])&&++X<k;);$._next=re||null}}return(s=new Us(s,r))._enter=a,s._exit=l,s},enter:function(){return new Us(this._enter||this._groups.map(UD),this._parents)},exit:function(){return new Us(this._exit||this._groups.map(UD),this._parents)},join:function(n,e,t){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof n?n(r):r.append(n+""),null!=e&&(i=e(i)),null==t?o.remove():t(o),r&&i?r.merge(i).order():i},merge:function(n){if(!(n instanceof Us))throw new Error("invalid merge");for(var e=this._groups,t=n._groups,r=e.length,o=Math.min(r,t.length),s=new Array(r),a=0;a<o;++a)for(var S,l=e[a],c=t[a],p=l.length,_=s[a]=new Array(p),D=0;D<p;++D)(S=l[D]||c[D])&&(_[D]=S);for(;a<r;++a)s[a]=e[a];return new Us(s,this._parents)},selection:function(){return this},order:function(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var s,r=n[e],i=r.length-1,o=r[i];--i>=0;)(s=r[i])&&(o&&4^s.compareDocumentPosition(o)&&o.parentNode.insertBefore(s,o),o=s);return this},sort:function(n){function e(_,S){return _&&S?n(_.__data__,S.__data__):!_-!S}n||(n=vee);for(var t=this._groups,r=t.length,i=new Array(r),o=0;o<r;++o){for(var c,s=t[o],a=s.length,l=i[o]=new Array(a),p=0;p<a;++p)(c=s[p])&&(l[p]=c);l.sort(e)}return new Us(i,this._parents).order()},call:function(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function(){let n=0;for(const e of this)++n;return n},empty:function(){return!this.node()},each:function(n){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var a,i=e[t],o=0,s=i.length;o<s;++o)(a=i[o])&&n.call(a,a.__data__,o,i);return this},attr:function(n,e){var t=F3(n);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((null==e?t.local?Cee:See:"function"==typeof e?t.local?zee:Dee:t.local?Eee:Tee)(t,e))},style:function(n,e,t){return arguments.length>1?this.each((null==e?Pee:"function"==typeof e?Lee:kee)(n,e,null==t?"":t)):M1(this.node(),n)},property:function(n,e){return arguments.length>1?this.each((null==e?Iee:"function"==typeof e?Fee:Ree)(n,e)):this.node()[n]},classed:function(n,e){var t=WD(n+"");if(arguments.length<2){for(var r=Sy(this.node()),i=-1,o=t.length;++i<o;)if(!r.contains(t[i]))return!1;return!0}return this.each(("function"==typeof e?Bee:e?Vee:Hee)(t,e))},text:function(n){return arguments.length?this.each(null==n?Uee:("function"==typeof n?Gee:Yee)(n)):this.node().textContent},html:function(n){return arguments.length?this.each(null==n?qee:("function"==typeof n?Xee:$ee)(n)):this.node().innerHTML},raise:function(){return this.each(Zee)},lower:function(){return this.each(Jee)},append:function(n){var e="function"==typeof n?n:KD(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(n,e){var t="function"==typeof n?n:KD(n),r=null==e?ite:"function"==typeof e?e:xy(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(ste)},clone:function(n){return this.select(n?cte:lte)},datum:function(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function(n,e,t){var i,s,r=fte(n+""),o=r.length;if(!(arguments.length<2)){for(a=e?mte:pte,i=0;i<o;++i)this.each(a(r[i],e,t));return this}var a=this.node().__on;if(a)for(var p,l=0,c=a.length;l<c;++l)for(i=0,p=a[l];i<o;++i)if((s=r[i]).type===p.type&&s.name===p.name)return p.value},dispatch:function(n,e){return this.each(("function"==typeof e?yte:vte)(n,e))},[Symbol.iterator]:function*(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var s,r=n[e],i=0,o=r.length;i<o;++i)(s=r[i])&&(yield s)}};const ap=JD;var xte={value:()=>{}};function ez(){for(var r,n=0,e=arguments.length,t={};n<e;++n){if(!(r=arguments[n]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new N3(t)}function N3(n){this._=n}function Mte(n,e){return n.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}function Ste(n,e){for(var i,t=0,r=n.length;t<r;++t)if((i=n[t]).name===e)return i.value}function tz(n,e,t){for(var r=0,i=n.length;r<i;++r)if(n[r].name===e){n[r]=xte,n=n.slice(0,r).concat(n.slice(r+1));break}return null!=t&&n.push({name:e,value:t}),n}N3.prototype=ez.prototype={constructor:N3,on:function(n,e){var i,t=this._,r=Mte(n+"",t),o=-1,s=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(n=r[o]).type)t[i]=tz(t[i],n.name,e);else if(null==e)for(i in t)t[i]=tz(t[i],n.name,null);return this}for(;++o<s;)if((i=(n=r[o]).type)&&(i=Ste(t[i],n.name)))return i},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new N3(n)},call:function(n,e){if((i=arguments.length-2)>0)for(var i,o,t=new Array(i),r=0;r<i;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(r=0,i=(o=this._[n]).length;r<i;++r)o[r].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],i=0,o=r.length;i<o;++i)r[i].value.apply(e,t)}};const Cte=ez;var V3,up,S1=0,lp=0,cp=0,H3=0,Ch=0,B3=0,hp="object"==typeof performance&&performance.now?performance:Date,rz="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Cy(){return Ch||(rz(Tte),Ch=hp.now()+B3)}function Tte(){Ch=0}function j3(){this._call=this._time=this._next=null}function iz(n,e,t){var r=new j3;return r.restart(n,e,t),r}function oz(){Ch=(H3=hp.now())+B3,S1=lp=0;try{!function(){Cy(),++S1;for(var e,n=V3;n;)(e=Ch-n._time)>=0&&n._call.call(null,e),n=n._next;--S1}()}finally{S1=0,function(){for(var n,t,e=V3,r=1/0;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:V3=t);up=n,Ty(r)}(),Ch=0}}function Dte(){var n=hp.now(),e=n-H3;e>1e3&&(B3-=e,H3=n)}function Ty(n){S1||(lp&&(lp=clearTimeout(lp)),n-Ch>24?(n<1/0&&(lp=setTimeout(oz,n-hp.now()-B3)),cp&&(cp=clearInterval(cp))):(cp||(H3=hp.now(),cp=setInterval(Dte,1e3)),S1=1,rz(oz)))}function sz(n,e,t){var r=new j3;return r.restart(i=>{r.stop(),n(i+e)},e=null==e?0:+e,t),r}j3.prototype=iz.prototype={constructor:j3,restart:function(n,e,t){if("function"!=typeof n)throw new TypeError("callback is not a function");t=(null==t?Cy():+t)+(null==e?0:+e),!this._next&&up!==this&&(up?up._next=this:V3=this,up=this),this._call=n,this._time=t,Ty()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ty())}};var Ate=Cte("start","end","cancel","interrupt"),Pte=[];function G3(n,e,t,r,i,o){var s=n.__transition;if(s){if(t in s)return}else n.__transition={};!function(n,e,t){var i,r=n.__transition;function s(c){var p,_,S,D;if(1!==t.state)return l();for(p in r)if((D=r[p]).name===t.name){if(3===D.state)return sz(s);4===D.state?(D.state=6,D.timer.stop(),D.on.call("interrupt",n,n.__data__,D.index,D.group),delete r[p]):+p<e&&(D.state=6,D.timer.stop(),D.on.call("cancel",n,n.__data__,D.index,D.group),delete r[p])}if(sz(function(){3===t.state&&(t.state=4,t.timer.restart(a,t.delay,t.time),a(c))}),t.state=2,t.on.call("start",n,n.__data__,t.index,t.group),2===t.state){for(t.state=3,i=new Array(S=t.tween.length),p=0,_=-1;p<S;++p)(D=t.tween[p].value.call(n,n.__data__,t.index,t.group))&&(i[++_]=D);i.length=_+1}}function a(c){for(var p=c<t.duration?t.ease.call(null,c/t.duration):(t.timer.restart(l),t.state=5,1),_=-1,S=i.length;++_<S;)i[_].call(n,p);5===t.state&&(t.on.call("end",n,n.__data__,t.index,t.group),l())}function l(){for(var c in t.state=6,t.timer.stop(),delete r[e],r)return;delete n.__transition}r[e]=t,t.timer=iz(function(c){t.state=1,t.timer.restart(s,t.delay,t.time),t.delay<=c&&s(c-t.delay)},0,t.time)}(n,t,{name:e,index:r,group:i,on:Ate,tween:Pte,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function zy(n,e){var t=al(n,e);if(t.state>0)throw new Error("too late; already scheduled");return t}function Nl(n,e){var t=al(n,e);if(t.state>3)throw new Error("too late; already running");return t}function al(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function ll(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}var W3,uz=180/Math.PI,Ay={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function hz(n,e,t,r,i,o){var s,a,l;return(s=Math.sqrt(n*n+e*e))&&(n/=s,e/=s),(l=n*t+e*r)&&(t-=n*l,r-=e*l),(a=Math.sqrt(t*t+r*r))&&(t/=a,r/=a,l/=a),n*r<e*t&&(n=-n,e=-e,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,n)*uz,skewX:Math.atan(l)*uz,scaleX:s,scaleY:a}}function dz(n,e,t,r){function i(c){return c.length?c.pop()+" ":""}return function(c,p){var _=[],S=[];return c=n(c),p=n(p),function(c,p,_,S,D,k){if(c!==_||p!==S){var N=D.push("translate(",null,e,null,t);k.push({i:N-4,x:ll(c,_)},{i:N-2,x:ll(p,S)})}else(_||S)&&D.push("translate("+_+e+S+t)}(c.translateX,c.translateY,p.translateX,p.translateY,_,S),function(c,p,_,S){c!==p?(c-p>180?p+=360:p-c>180&&(c+=360),S.push({i:_.push(i(_)+"rotate(",null,r)-2,x:ll(c,p)})):p&&_.push(i(_)+"rotate("+p+r)}(c.rotate,p.rotate,_,S),function(c,p,_,S){c!==p?S.push({i:_.push(i(_)+"skewX(",null,r)-2,x:ll(c,p)}):p&&_.push(i(_)+"skewX("+p+r)}(c.skewX,p.skewX,_,S),function(c,p,_,S,D,k){if(c!==_||p!==S){var N=D.push(i(D)+"scale(",null,",",null,")");k.push({i:N-4,x:ll(c,_)},{i:N-2,x:ll(p,S)})}else(1!==_||1!==S)&&D.push(i(D)+"scale("+_+","+S+")")}(c.scaleX,c.scaleY,p.scaleX,p.scaleY,_,S),c=p=null,function(D){for(var B,k=-1,N=S.length;++k<N;)_[(B=S[k]).i]=B.x(D);return _.join("")}}}var Fte=dz(function(n){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?Ay:hz(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),Nte=dz(function(n){return null!=n&&(W3||(W3=document.createElementNS("http://www.w3.org/2000/svg","g")),W3.setAttribute("transform",n),n=W3.transform.baseVal.consolidate())?hz((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):Ay},", ",")",")");function Vte(n,e){var t,r;return function(){var i=Nl(this,n),o=i.tween;if(o!==t)for(var s=0,a=(r=t=o).length;s<a;++s)if(r[s].name===e){(r=r.slice()).splice(s,1);break}i.tween=r}}function Hte(n,e,t){var r,i;if("function"!=typeof t)throw new Error;return function(){var o=Nl(this,n),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:t},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function Py(n,e,t){var r=n._id;return n.each(function(){var i=Nl(this,r);(i.value||(i.value={}))[e]=t.apply(this,arguments)}),function(i){return al(i,r).value[e]}}function ky(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function fz(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function dp(){}var q3=1/.7,C1="\\s*([+-]?\\d+)\\s*",pp="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jte=/^#([0-9a-f]{3,8})$/,Ute=new RegExp("^rgb\\("+[C1,C1,C1]+"\\)$"),Yte=new RegExp("^rgb\\("+[Vl,Vl,Vl]+"\\)$"),Gte=new RegExp("^rgba\\("+[C1,C1,C1,pp]+"\\)$"),Wte=new RegExp("^rgba\\("+[Vl,Vl,Vl,pp]+"\\)$"),qte=new RegExp("^hsl\\("+[pp,Vl,Vl]+"\\)$"),$te=new RegExp("^hsla\\("+[pp,Vl,Vl,pp]+"\\)$"),pz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function mz(){return this.rgb().formatHex()}function gz(){return this.rgb().formatRgb()}function wc(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=jte.exec(n))?(t=e[1].length,e=parseInt(e[1],16),6===t?vz(e):3===t?new oa(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===t?$3(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===t?$3(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ute.exec(n))?new oa(e[1],e[2],e[3],1):(e=Yte.exec(n))?new oa(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Gte.exec(n))?$3(e[1],e[2],e[3],e[4]):(e=Wte.exec(n))?$3(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=qte.exec(n))?bz(e[1],e[2]/100,e[3]/100,1):(e=$te.exec(n))?bz(e[1],e[2]/100,e[3]/100,e[4]):pz.hasOwnProperty(n)?vz(pz[n]):"transparent"===n?new oa(NaN,NaN,NaN,0):null}function vz(n){return new oa(n>>16&255,n>>8&255,255&n,1)}function $3(n,e,t,r){return r<=0&&(n=e=t=NaN),new oa(n,e,t,r)}function Kte(n){return n instanceof dp||(n=wc(n)),n?new oa((n=n.rgb()).r,n.g,n.b,n.opacity):new oa}function X3(n,e,t,r){return 1===arguments.length?Kte(n):new oa(n,e,t,null==r?1:r)}function oa(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}function yz(){return"#"+Ly(this.r)+Ly(this.g)+Ly(this.b)}function _z(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===n?")":", "+n+")")}function Ly(n){return((n=Math.max(0,Math.min(255,Math.round(n)||0)))<16?"0":"")+n.toString(16)}function bz(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Hl(n,e,t,r)}function wz(n){if(n instanceof Hl)return new Hl(n.h,n.s,n.l,n.opacity);if(n instanceof dp||(n=wc(n)),!n)return new Hl;if(n instanceof Hl)return n;var e=(n=n.rgb()).r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),o=Math.max(e,t,r),s=NaN,a=o-i,l=(o+i)/2;return a?(s=e===o?(t-r)/a+6*(t<r):t===o?(r-e)/a+2:(e-t)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Hl(s,a,l,n.opacity)}function Hl(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}function Oy(n,e,t){return 255*(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)}function xz(n,e,t,r,i){var o=n*n,s=o*n;return((1-3*n+3*o-s)*e+(4-6*o+3*s)*t+(1+3*n+3*o-3*s)*r+s*i)/6}ky(dp,wc,{copy:function(n){return Object.assign(new this.constructor,this,n)},displayable:function(){return this.rgb().displayable()},hex:mz,formatHex:mz,formatHsl:function(){return wz(this).formatHsl()},formatRgb:gz,toString:gz}),ky(oa,X3,fz(dp,{brighter:function(n){return n=null==n?q3:Math.pow(q3,n),new oa(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new oa(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yz,formatHex:yz,formatRgb:_z,toString:_z})),ky(Hl,function(n,e,t,r){return 1===arguments.length?wz(n):new Hl(n,e,t,null==r?1:r)},fz(dp,{brighter:function(n){return n=null==n?q3:Math.pow(q3,n),new Hl(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new Hl(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+360*(this.h<0),e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new oa(Oy(n>=240?n-240:n+120,i,r),Oy(n,i,r),Oy(n<120?n+240:n-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===n?")":", "+n+")")}}));const Iy=n=>()=>n;function Sz(n,e){var t=e-n;return t?function(n,e){return function(t){return n+t*e}}(n,t):Iy(isNaN(n)?e:n)}const K3=function n(e){var t=function(n){return 1==(n=+n)?Sz:function(e,t){return t-e?function(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}(e,t,n):Iy(isNaN(e)?t:e)}}(e);function r(i,o){var s=t((i=X3(i)).r,(o=X3(o)).r),a=t(i.g,o.g),l=t(i.b,o.b),c=Sz(i.opacity,o.opacity);return function(p){return i.r=s(p),i.g=a(p),i.b=l(p),i.opacity=c(p),i+""}}return r.gamma=n,r}(1);function Cz(n){return function(e){var s,a,t=e.length,r=new Array(t),i=new Array(t),o=new Array(t);for(s=0;s<t;++s)a=X3(e[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=n(r),i=n(i),o=n(o),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=o(l),a+""}}}Cz(function(n){var e=n.length-1;return function(t){var r=t<=0?t=0:t>=1?(t=1,e-1):Math.floor(t*e),i=n[r],o=n[r+1];return xz((t-r/e)*e,r>0?n[r-1]:2*i-o,i,o,r<e-1?n[r+2]:2*o-i)}}),Cz(function(n){var e=n.length;return function(t){var r=Math.floor(((t%=1)<0?++t:t)*e);return xz((t-r/e)*e,n[(r+e-1)%e],n[r%e],n[(r+1)%e],n[(r+2)%e])}});var Ry=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fy=new RegExp(Ry.source,"g");function Tz(n,e){var r,i,o,t=Ry.lastIndex=Fy.lastIndex=0,s=-1,a=[],l=[];for(n+="",e+="";(r=Ry.exec(n))&&(i=Fy.exec(e));)(o=i.index)>t&&(o=e.slice(t,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:ll(r,i)})),t=Fy.lastIndex;return t<e.length&&(o=e.slice(t),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?function(n){return function(e){return n(e)+""}}(l[0].x):function(n){return function(){return n}}(e):(e=l.length,function(c){for(var _,p=0;p<e;++p)a[(_=l[p]).i]=_.x(c);return a.join("")})}function Ez(n,e){var t;return("number"==typeof e?ll:e instanceof wc?K3:(t=wc(e))?(e=t,K3):Tz)(n,e)}function ine(n){return function(){this.removeAttribute(n)}}function one(n){return function(){this.removeAttributeNS(n.space,n.local)}}function sne(n,e,t){var r,o,i=t+"";return function(){var s=this.getAttribute(n);return s===i?null:s===r?o:o=e(r=s,t)}}function ane(n,e,t){var r,o,i=t+"";return function(){var s=this.getAttributeNS(n.space,n.local);return s===i?null:s===r?o:o=e(r=s,t)}}function lne(n,e,t){var r,i,o;return function(){var s,l,a=t(this);return null==a?void this.removeAttribute(n):(s=this.getAttribute(n))===(l=a+"")?null:s===r&&l===i?o:(i=l,o=e(r=s,a))}}function cne(n,e,t){var r,i,o;return function(){var s,l,a=t(this);return null==a?void this.removeAttributeNS(n.space,n.local):(s=this.getAttributeNS(n.space,n.local))===(l=a+"")?null:s===r&&l===i?o:(i=l,o=e(r=s,a))}}function hne(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function dne(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function fne(n,e){var t,r;function i(){var o=e.apply(this,arguments);return o!==r&&(t=(r=o)&&dne(n,o)),t}return i._value=e,i}function pne(n,e){var t,r;function i(){var o=e.apply(this,arguments);return o!==r&&(t=(r=o)&&hne(n,o)),t}return i._value=e,i}function gne(n,e){return function(){zy(this,n).delay=+e.apply(this,arguments)}}function vne(n,e){return e=+e,function(){zy(this,n).delay=e}}function _ne(n,e){return function(){Nl(this,n).duration=+e.apply(this,arguments)}}function bne(n,e){return e=+e,function(){Nl(this,n).duration=e}}function xne(n,e){if("function"!=typeof e)throw new Error;return function(){Nl(this,n).ease=e}}function zne(n,e,t){var r,i,o=function(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(e)?zy:Nl;return function(){var s=o(this,n),a=s.on;a!==r&&(i=(r=a).copy()).on(e,t),s.on=i}}var Ine=ap.prototype.constructor;function Dz(n){return function(){this.style.removeProperty(n)}}function jne(n,e,t){return function(r){this.style.setProperty(n,e.call(this,r),t)}}function Une(n,e,t){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&jne(n,s,t)),r}return o._value=e,o}function $ne(n){return function(e){this.textContent=n.call(this,e)}}function Xne(n){var e,t;function r(){var i=n.apply(this,arguments);return i!==t&&(e=(t=i)&&$ne(i)),e}return r._value=n,r}var Jne=0;function xc(n,e,t,r){this._groups=n,this._parents=e,this._name=t,this._id=r}function zz(){return++Jne}var Th=ap.prototype;xc.prototype=function(n){return ap().transition(n)}.prototype={constructor:xc,select:function(n){var e=this._name,t=this._id;"function"!=typeof n&&(n=xy(n));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var p,_,a=r[s],l=a.length,c=o[s]=new Array(l),S=0;S<l;++S)(p=a[S])&&(_=n.call(p,p.__data__,S,a))&&("__data__"in p&&(_.__data__=p.__data__),c[S]=_,G3(c[S],e,t,S,c,al(p,t)));return new xc(o,this._parents,e,t)},selectAll:function(n){var e=this._name,t=this._id;"function"!=typeof n&&(n=HD(n));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var p,l=r[a],c=l.length,_=0;_<c;++_)if(p=l[_]){for(var D,S=n.call(p,p.__data__,_,l),k=al(p,t),N=0,B=S.length;N<B;++N)(D=S[N])&&G3(D,e,t,N,S,k);o.push(S),s.push(p)}return new xc(o,s,e,t)},filter:function(n){"function"!=typeof n&&(n=BD(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var l,o=e[i],s=o.length,a=r[i]=[],c=0;c<s;++c)(l=o[c])&&n.call(l,l.__data__,c,o)&&a.push(l);return new xc(r,this._parents,this._name,this._id)},merge:function(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,r=e.length,o=Math.min(r,t.length),s=new Array(r),a=0;a<o;++a)for(var S,l=e[a],c=t[a],p=l.length,_=s[a]=new Array(p),D=0;D<p;++D)(S=l[D]||c[D])&&(_[D]=S);for(;a<r;++a)s[a]=e[a];return new xc(s,this._parents,this._name,this._id)},selection:function(){return new Ine(this._groups,this._parents)},transition:function(){for(var n=this._name,e=this._id,t=zz(),r=this._groups,i=r.length,o=0;o<i;++o)for(var l,s=r[o],a=s.length,c=0;c<a;++c)if(l=s[c]){var p=al(l,e);G3(l,n,t,c,s,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new xc(r,this._parents,n,t)},call:Th.call,nodes:Th.nodes,node:Th.node,size:Th.size,empty:Th.empty,each:Th.each,on:function(n,e){var t=this._id;return arguments.length<2?al(this.node(),t).on.on(n):this.each(zne(t,n,e))},attr:function(n,e){var t=F3(n),r="transform"===t?Nte:Ez;return this.attrTween(n,"function"==typeof e?(t.local?cne:lne)(t,r,Py(this,"attr."+n,e)):null==e?(t.local?one:ine)(t):(t.local?ane:sne)(t,r,e))},attrTween:function(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;var r=F3(n);return this.tween(t,(r.local?fne:pne)(r,e))},style:function(n,e,t){var r="transform"==(n+="")?Fte:Ez;return null==e?this.styleTween(n,function(n,e){var t,r,i;return function(){var o=M1(this,n),s=(this.style.removeProperty(n),M1(this,n));return o===s?null:o===t&&s===r?i:i=e(t=o,r=s)}}(n,r)).on("end.style."+n,Dz(n)):"function"==typeof e?this.styleTween(n,function(n,e,t){var r,i,o;return function(){var s=M1(this,n),a=t(this),l=a+"";return null==a&&(this.style.removeProperty(n),l=a=M1(this,n)),s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a))}}(n,r,Py(this,"style."+n,e))).each(function(n,e){var t,r,i,a,o="style."+e,s="end."+o;return function(){var l=Nl(this,n),c=l.on,p=null==l.value[o]?a||(a=Dz(e)):void 0;(c!==t||i!==p)&&(r=(t=c).copy()).on(s,i=p),l.on=r}}(this._id,n)):this.styleTween(n,function(n,e,t){var r,o,i=t+"";return function(){var s=M1(this,n);return s===i?null:s===r?o:o=e(r=s,t)}}(n,r,e),t).on("end.style."+n,null)},styleTween:function(n,e,t){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Une(n,e,null==t?"":t))},text:function(n){return this.tween("text","function"==typeof n?function(n){return function(){var e=n(this);this.textContent=null==e?"":e}}(Py(this,"text",n)):function(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;return this.tween(e,Xne(n))},remove:function(){return this.on("end.remove",function(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}(this._id))},tween:function(n,e){var t=this._id;if(n+="",arguments.length<2){for(var s,r=al(this.node(),t).tween,i=0,o=r.length;i<o;++i)if((s=r[i]).name===n)return s.value;return null}return this.each((null==e?Vte:Hte)(t,n,e))},delay:function(n){var e=this._id;return arguments.length?this.each(("function"==typeof n?gne:vne)(e,n)):al(this.node(),e).delay},duration:function(n){var e=this._id;return arguments.length?this.each(("function"==typeof n?_ne:bne)(e,n)):al(this.node(),e).duration},ease:function(n){var e=this._id;return arguments.length?this.each(xne(e,n)):al(this.node(),e).ease},easeVarying:function(n){if("function"!=typeof n)throw new Error;return this.each(function(n,e){return function(){var t=e.apply(this,arguments);if("function"!=typeof t)throw new Error;Nl(this,n).ease=t}}(this._id,n))},end:function(){var n,e,t=this,r=t._id,i=t.size();return new Promise(function(o,s){var a={value:s},l={value:function(){0==--i&&o()}};t.each(function(){var c=Nl(this,r),p=c.on;p!==n&&((e=(n=p).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),0===i&&o()})},[Symbol.iterator]:Th[Symbol.iterator]};var nre={time:null,delay:0,duration:250,ease:function(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function rre(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}ap.prototype.interrupt=function(n){return this.each(function(){!function(n,e){var r,i,s,t=n.__transition,o=!0;if(t){for(s in e=null==e?null:e+"",t)(r=t[s]).name===e?(i=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(i?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete t[s]):o=!1;o&&delete n.__transition}}(this,n)})},ap.prototype.transition=function(n){var e,t;n instanceof xc?(e=n._id,n=n._name):(e=zz(),(t=nre).time=Cy(),n=null==n?null:n+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var l,s=r[o],a=s.length,c=0;c<a;++c)(l=s[c])&&G3(l,n,e,c,s,t||rre(l,e));return new xc(r,this._parents,n,e)};Math;function mp(n){return{type:n}}function fre(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);if(204!==n.status&&205!==n.status)return n.json()}["w","e"].map(mp),["n","s"].map(mp),["n","w","e","s","nw","ne","sw","se"].map(mp);var ki=1e-6,Wr=Math.PI,Ys=Wr/2,Iz=Wr/4,za=2*Wr,sa=180/Wr,Co=Wr/180,po=Math.abs,Rz=Math.atan,gp=Math.atan2,mo=Math.cos,gre=(Math,Math.exp),vre=(Math,Math,Math.log),Ji=(Math,Math.sin),yre=Math.sign||function(n){return n>0?1:n<0?-1:0},J3=Math.sqrt,_re=Math.tan;function vp(n){return n>1?Ys:n<-1?-Ys:Math.asin(n)}function jy(n,e){function t(r,i){return r=n(r,i),e(r[0],r[1])}return n.invert&&e.invert&&(t.invert=function(r,i){return(r=e.invert(r,i))&&n.invert(r[0],r[1])}),t}function Uy(n,e){return[po(n)>Wr?n+Math.round(-n/za)*za:n,e]}function Fz(n,e,t){return(n%=za)?e||t?jy(Vz(n),Hz(e,t)):Vz(n):e||t?Hz(e,t):Uy}function Nz(n){return function(e,t){return[(e+=n)>Wr?e-za:e<-Wr?e+za:e,t]}}function Vz(n){var e=Nz(n);return e.invert=Nz(-n),e}function Hz(n,e){var t=mo(n),r=Ji(n),i=mo(e),o=Ji(e);function s(a,l){var c=mo(l),p=mo(a)*c,_=Ji(a)*c,S=Ji(l),D=S*t+p*r;return[gp(_*i-D*o,p*t-S*r),vp(D*i+_*o)]}return s.invert=function(a,l){var c=mo(l),p=mo(a)*c,_=Ji(a)*c,S=Ji(l),D=S*i-_*o;return[gp(_*i+S*o,p*t+D*r),vp(D*t-p*r)]},s}function yp(){}function Bz(){var e,n=[];return{point:function(t,r,i){e.push([t,r,i])},lineStart:function(){n.push(e=[])},lineEnd:yp,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var t=n;return n=[],e=null,t}}}function em(n,e){return po(n[0]-e[0])<ki&&po(n[1]-e[1])<ki}function tm(n,e,t,r){this.x=n,this.z=e,this.o=t,this.e=r,this.v=!1,this.n=this.p=null}function jz(n,e,t,r,i){var a,l,o=[],s=[];if(n.forEach(function(k){if(!((N=k.length-1)<=0)){var N,I,B=k[0],F=k[N];if(em(B,F)){if(!B[2]&&!F[2]){for(i.lineStart(),a=0;a<N;++a)i.point((B=k[a])[0],B[1]);return void i.lineEnd()}F[0]+=2*ki}o.push(I=new tm(B,k,null,!0)),s.push(I.o=new tm(B,null,I,!1)),o.push(I=new tm(F,k,null,!1)),s.push(I.o=new tm(F,null,I,!0))}}),o.length){for(s.sort(e),Uz(o),Uz(s),a=0,l=s.length;a<l;++a)s[a].e=t=!t;for(var p,_,c=o[0];;){for(var S=c,D=!0;S.v;)if((S=S.n)===c)return;p=S.z,i.lineStart();do{if(S.v=S.o.v=!0,S.e){if(D)for(a=0,l=p.length;a<l;++a)i.point((_=p[a])[0],_[1]);else r(S.x,S.n.x,1,i);S=S.n}else{if(D)for(a=(p=S.p.z).length-1;a>=0;--a)i.point((_=p[a])[0],_[1]);else r(S.x,S.p.x,-1,i);S=S.p}p=(S=S.o).z,D=!D}while(!S.v);i.lineEnd()}}}function Uz(n){if(e=n.length){for(var e,i,t=0,r=n[0];++t<e;)r.n=i=n[t],i.p=r,r=i;r.n=i=n[0],i.p=r}}Uy.invert=Uy;class Yy{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=t[i],s=e+o,a=Math.abs(e)<Math.abs(o)?e-(s-o):o-(s-e);a&&(t[r++]=a),e=s}return t[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let r,i,o,t=this._n,s=0;if(t>0){for(s=e[--t];t>0&&(r=s,i=e[--t],s=r+i,o=i-(s-r),!o););t>0&&(o<0&&e[t-1]<0||o>0&&e[t-1]>0)&&(i=2*o,r=s+i,i==r-s&&(s=r))}return s}}function Gy(n){return[gp(n[1],n[0]),vp(n[2])]}function D1(n){var e=n[0],t=n[1],r=mo(t);return[r*mo(e),r*Ji(e),Ji(t)]}function nm(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function rm(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function Wy(n,e){n[0]+=e[0],n[1]+=e[1],n[2]+=e[2]}function im(n,e){return[n[0]*e,n[1]*e,n[2]*e]}function qy(n){var e=J3(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=e,n[1]/=e,n[2]/=e}function $y(n){return po(n[0])<=Wr?n[0]:yre(n[0])*((po(n[0])+Wr)%za-Wr)}function Yz(n){return Array.from(function*(n){for(const e of n)yield*e}(n))}function Gz(n,e,t,r){return function(i){var c,p,_,o=e(i),s=Bz(),a=e(s),l=!1,S={point:D,lineStart:N,lineEnd:B,polygonStart:function(){S.point=F,S.lineStart=I,S.lineEnd=X,p=[],c=[]},polygonEnd:function(){S.point=D,S.lineStart=N,S.lineEnd=B,p=Yz(p);var $=function(n,e){var t=$y(e),r=e[1],i=Ji(r),o=[Ji(t),-mo(t),0],s=0,a=0,l=new Yy;1===i?r=Ys+ki:-1===i&&(r=-Ys-ki);for(var c=0,p=n.length;c<p;++c)if(S=(_=n[c]).length)for(var _,S,D=_[S-1],k=$y(D),N=D[1]/2+Iz,B=Ji(N),F=mo(N),I=0;I<S;++I,k=$,B=de,F=se,D=X){var X=_[I],$=$y(X),re=X[1]/2+Iz,de=Ji(re),se=mo(re),Me=$-k,He=Me>=0?1:-1,Oe=He*Me,ve=Oe>Wr,st=B*de;if(l.add(gp(st*He*Ji(Oe),F*se+st*mo(Oe))),s+=ve?Me+He*za:Me,ve^k>=t^$>=t){var je=rm(D1(D),D1(X));qy(je);var ge=rm(o,je);qy(ge);var xe=(ve^Me>=0?-1:1)*vp(ge[2]);(r>xe||r===xe&&(je[0]||je[1]))&&(a+=ve^Me>=0?1:-1)}}return(s<-ki||s<ki&&l<-1e-12)^1&a}(c,r);p.length?(l||(i.polygonStart(),l=!0),jz(p,Cre,$,t,i)):$&&(l||(i.polygonStart(),l=!0),i.lineStart(),t(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),p=c=null},sphere:function(){i.polygonStart(),i.lineStart(),t(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function D($,re){n($,re)&&i.point($,re)}function k($,re){o.point($,re)}function N(){S.point=k,o.lineStart()}function B(){S.point=D,o.lineEnd()}function F($,re){_.push([$,re]),a.point($,re)}function I(){a.lineStart(),_=[]}function X(){F(_[0][0],_[0][1]),a.lineEnd();var de,Me,He,Oe,$=a.clean(),re=s.result(),se=re.length;if(_.pop(),c.push(_),_=null,se){if(1&$){if((Me=(He=re[0]).length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),de=0;de<Me;++de)i.point((Oe=He[de])[0],Oe[1]);i.lineEnd()}return}se>1&&2&$&&re.push(re.pop().concat(re.shift())),p.push(re.filter(Sre))}}return S}}function Sre(n){return n.length>1}function Cre(n,e){return((n=n.x)[0]<0?n[1]-Ys-ki:Ys-n[1])-((e=e.x)[0]<0?e[1]-Ys-ki:Ys-e[1])}const Wz=Gz(function(){return!0},function(n){var i,e=NaN,t=NaN,r=NaN;return{lineStart:function(){n.lineStart(),i=1},point:function(o,s){var a=o>0?Wr:-Wr,l=po(o-e);po(l-Wr)<ki?(n.point(e,t=(t+s)/2>0?Ys:-Ys),n.point(r,t),n.lineEnd(),n.lineStart(),n.point(a,t),n.point(o,t),i=0):r!==a&&l>=Wr&&(po(e-r)<ki&&(e-=r*ki),po(o-a)<ki&&(o-=a*ki),t=function(n,e,t,r){var i,o,s=Ji(n-t);return po(s)>ki?Rz((Ji(e)*(o=mo(r))*Ji(t)-Ji(r)*(i=mo(e))*Ji(n))/(i*o*s)):(e+r)/2}(e,t,o,s),n.point(r,t),n.lineEnd(),n.lineStart(),n.point(a,t),i=0),n.point(e=o,t=s),r=a},lineEnd:function(){n.lineEnd(),e=t=NaN},clean:function(){return 2-i}}},function(n,e,t,r){var i;if(null==n)r.point(-Wr,i=t*Ys),r.point(0,i),r.point(Wr,i),r.point(Wr,0),r.point(Wr,-i),r.point(0,-i),r.point(-Wr,-i),r.point(-Wr,0),r.point(-Wr,i);else if(po(n[0]-e[0])>ki){var o=n[0]<e[0]?Wr:-Wr;r.point(-o,i=t*o/2),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-Wr,-Ys]);function $z(n,e){(e=D1(e))[0]-=n,qy(e);var t=function(n){return n>1?0:n<-1?Wr:Math.acos(n)}(-e[1]);return((-e[2]<0?-t:t)+za-ki)%za}function zre(n){var e=mo(n),t=6*Co,r=e>0,i=po(e)>ki;function s(p,_){return mo(p)*mo(_)>e}function l(p,_,S){var N=[1,0,0],B=rm(D1(p),D1(_)),F=nm(B,B),I=B[0],X=F-I*I;if(!X)return!S&&p;var $=e*F/X,re=-e*I/X,de=rm(N,B),se=im(N,$);Wy(se,im(B,re));var He=de,Oe=nm(se,He),ve=nm(He,He),st=Oe*Oe-ve*(nm(se,se)-1);if(!(st<0)){var je=J3(st),ge=im(He,(-Oe-je)/ve);if(Wy(ge,se),ge=Gy(ge),!S)return ge;var rt,xe=p[0],he=_[0],ke=p[1],et=_[1];he<xe&&(rt=xe,xe=he,he=rt);var yt=he-xe,vt=po(yt-Wr)<ki;if(!vt&&et<ke&&(rt=ke,ke=et,et=rt),vt||yt<ki?vt?ke+et>0^ge[1]<(po(ge[0]-xe)<ki?ke:et):ke<=ge[1]&&ge[1]<=et:yt>Wr^(xe<=ge[0]&&ge[0]<=he)){var xt=im(He,(-Oe+je)/ve);return Wy(xt,se),[ge,Gy(xt)]}}}function c(p,_){var S=r?n:Wr-n,D=0;return p<-S?D|=1:p>S&&(D|=2),_<-S?D|=4:_>S&&(D|=8),D}return Gz(s,function(p){var _,S,D,k,N;return{lineStart:function(){k=D=!1,N=1},point:function(B,F){var X,I=[B,F],$=s(B,F),re=r?$?0:c(B,F):$?c(B+(B<0?Wr:-Wr),F):0;if(!_&&(k=D=$)&&p.lineStart(),$!==D&&(!(X=l(_,I))||em(_,X)||em(I,X))&&(I[2]=1),$!==D)N=0,$?(p.lineStart(),X=l(I,_),p.point(X[0],X[1])):(X=l(_,I),p.point(X[0],X[1],2),p.lineEnd()),_=X;else if(i&&_&&r^$){var de;!(re&S)&&(de=l(I,_,!0))&&(N=0,r?(p.lineStart(),p.point(de[0][0],de[0][1]),p.point(de[1][0],de[1][1]),p.lineEnd()):(p.point(de[1][0],de[1][1]),p.lineEnd(),p.lineStart(),p.point(de[0][0],de[0][1],3)))}$&&(!_||!em(_,I))&&p.point(I[0],I[1]),_=I,D=$,S=re},lineEnd:function(){D&&p.lineEnd(),_=null},clean:function(){return N|(k&&D)<<1}}},function(p,_,S,D){!function(n,e,t,r,i,o){if(t){var s=mo(e),a=Ji(e),l=r*t;null==i?(i=e+r*za,o=e-l/2):(i=$z(s,i),o=$z(s,o),(r>0?i<o:i>o)&&(i+=r*za));for(var c,p=i;r>0?p>o:p<o;p-=l)c=Gy([s,-a*mo(p),-a*Ji(p)]),n.point(c[0],c[1])}}(D,n,t,S,p,_)},r?[0,-n]:[-Wr,n-Wr])}var _p=1e9,om=-_p;function Pre(n,e,t,r){function i(c,p){return n<=c&&c<=t&&e<=p&&p<=r}function o(c,p,_,S){var D=0,k=0;if(null==c||(D=s(c,_))!==(k=s(p,_))||l(c,p)<0^_>0)do{S.point(0===D||3===D?n:t,D>1?r:e)}while((D=(D+_+4)%4)!==k);else S.point(p[0],p[1])}function s(c,p){return po(c[0]-n)<ki?p>0?0:3:po(c[0]-t)<ki?p>0?2:1:po(c[1]-e)<ki?p>0?1:0:p>0?3:2}function a(c,p){return l(c.x,p.x)}function l(c,p){var _=s(c,1),S=s(p,1);return _!==S?_-S:0===_?p[1]-c[1]:1===_?c[0]-p[0]:2===_?c[1]-p[1]:p[0]-c[0]}return function(c){var S,D,k,N,B,F,I,X,$,re,de,p=c,_=Bz(),se={point:Me,lineStart:function(){se.point=ge,D&&D.push(k=[]),re=!0,$=!1,I=X=NaN},lineEnd:function(){S&&(ge(N,B),F&&$&&_.rejoin(),S.push(_.result())),se.point=Me,$&&p.lineEnd()},polygonStart:function(){p=_,S=[],D=[],de=!0},polygonEnd:function(){var xe=function(){for(var xe=0,he=0,ke=D.length;he<ke;++he)for(var Ft,xt,et=D[he],rt=1,yt=et.length,vt=et[0],zt=vt[0],Zt=vt[1];rt<yt;++rt)Ft=zt,xt=Zt,zt=(vt=et[rt])[0],Zt=vt[1],xt<=r?Zt>r&&(zt-Ft)*(r-xt)>(Zt-xt)*(n-Ft)&&++xe:Zt<=r&&(zt-Ft)*(r-xt)<(Zt-xt)*(n-Ft)&&--xe;return xe}(),he=de&&xe,ke=(S=Yz(S)).length;(he||ke)&&(c.polygonStart(),he&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),ke&&jz(S,a,xe,o,c),c.polygonEnd()),p=c,S=D=k=null}};function Me(xe,he){i(xe,he)&&p.point(xe,he)}function ge(xe,he){var ke=i(xe,he);if(D&&k.push([xe,he]),re)N=xe,B=he,F=ke,re=!1,ke&&(p.lineStart(),p.point(xe,he));else if(ke&&$)p.point(xe,he);else{var et=[I=Math.max(om,Math.min(_p,I)),X=Math.max(om,Math.min(_p,X))],rt=[xe=Math.max(om,Math.min(_p,xe)),he=Math.max(om,Math.min(_p,he))];!function(n,e,t,r,i,o){var k,s=n[0],a=n[1],p=0,_=1,S=e[0]-s,D=e[1]-a;if(k=t-s,S||!(k>0)){if(k/=S,S<0){if(k<p)return;k<_&&(_=k)}else if(S>0){if(k>_)return;k>p&&(p=k)}if(k=i-s,S||!(k<0)){if(k/=S,S<0){if(k>_)return;k>p&&(p=k)}else if(S>0){if(k<p)return;k<_&&(_=k)}if(k=r-a,D||!(k>0)){if(k/=D,D<0){if(k<p)return;k<_&&(_=k)}else if(D>0){if(k>_)return;k>p&&(p=k)}if(k=o-a,D||!(k<0)){if(k/=D,D<0){if(k>_)return;k>p&&(p=k)}else if(D>0){if(k<p)return;k<_&&(_=k)}return p>0&&(n[0]=s+p*S,n[1]=a+p*D),_<1&&(e[0]=s+_*S,e[1]=a+_*D),!0}}}}}(et,rt,n,e,t,r)?ke&&(p.lineStart(),p.point(xe,he),de=!1):($||(p.lineStart(),p.point(et[0],et[1])),p.point(rt[0],rt[1]),ke||p.lineEnd(),de=!1)}I=xe,X=he,$=ke}return se}}const Xz=n=>n;function sm(n){return function(e){var t=new Xy;for(var r in n)t[r]=n[r];return t.stream=e,t}}function Xy(){}function am(n,e){n&&Zz.hasOwnProperty(n.type)&&Zz[n.type](n,e)}Xy.prototype={constructor:Xy,point:function(n,e){this.stream.point(n,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Kz={Feature:function(n,e){am(n.geometry,e)},FeatureCollection:function(n,e){for(var t=n.features,r=-1,i=t.length;++r<i;)am(t[r].geometry,e)}},Zz={Sphere:function(n,e){e.sphere()},Point:function(n,e){e.point((n=n.coordinates)[0],n[1],n[2])},MultiPoint:function(n,e){for(var t=n.coordinates,r=-1,i=t.length;++r<i;)e.point((n=t[r])[0],n[1],n[2])},LineString:function(n,e){Ky(n.coordinates,e,0)},MultiLineString:function(n,e){for(var t=n.coordinates,r=-1,i=t.length;++r<i;)Ky(t[r],e,0)},Polygon:function(n,e){Qz(n.coordinates,e)},MultiPolygon:function(n,e){for(var t=n.coordinates,r=-1,i=t.length;++r<i;)Qz(t[r],e)},GeometryCollection:function(n,e){for(var t=n.geometries,r=-1,i=t.length;++r<i;)am(t[r],e)}};function Ky(n,e,t){var o,r=-1,i=n.length-t;for(e.lineStart();++r<i;)e.point((o=n[r])[0],o[1],o[2]);e.lineEnd()}function Qz(n,e){var t=-1,r=n.length;for(e.polygonStart();++t<r;)Ky(n[t],e,1);e.polygonEnd()}var z1=1/0,lm=z1,bp=-z1,cm=bp;const Jz={point:function(n,e){n<z1&&(z1=n),n>bp&&(bp=n),e<lm&&(lm=e),e>cm&&(cm=e)},lineStart:yp,lineEnd:yp,polygonStart:yp,polygonEnd:yp,result:function(){var n=[[z1,lm],[bp,cm]];return bp=cm=-(lm=z1=1/0),n}};function Zy(n,e,t){var r=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),null!=r&&n.clipExtent(null),function(n,e){n&&Kz.hasOwnProperty(n.type)?Kz[n.type](n,e):am(n,e)}(t,n.stream(Jz)),e(Jz.result()),null!=r&&n.clipExtent(r),n}function eA(n,e,t){return Zy(n,function(r){var i=e[1][0]-e[0][0],o=e[1][1]-e[0][1],s=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+e[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(o-s*(r[1][1]+r[0][1]))/2;n.scale(150*s).translate([a,l])},t)}var Nre=mo(30*Co);function nA(n,e){return+e?function(n,e){function t(r,i,o,s,a,l,c,p,_,S,D,k,N,B){var F=c-r,I=p-i,X=F*F+I*I;if(X>4*e&&N--){var $=s+S,re=a+D,de=l+k,se=J3($*$+re*re+de*de),Me=vp(de/=se),He=po(po(de)-1)<ki||po(o-_)<ki?(o+_)/2:gp(re,$),Oe=n(He,Me),ve=Oe[0],st=Oe[1],je=ve-r,ge=st-i,xe=I*je-F*ge;(xe*xe/X>e||po((F*je+I*ge)/X-.5)>.3||s*S+a*D+l*k<Nre)&&(t(r,i,o,s,a,l,ve,st,He,$/=se,re/=se,de,N,B),B.point(ve,st),t(ve,st,He,$,re,de,c,p,_,S,D,k,N,B))}}return function(r){var i,o,s,a,l,c,p,_,S,D,k,N,B={point:F,lineStart:I,lineEnd:$,polygonStart:function(){r.polygonStart(),B.lineStart=re},polygonEnd:function(){r.polygonEnd(),B.lineStart=I}};function F(Me,He){Me=n(Me,He),r.point(Me[0],Me[1])}function I(){_=NaN,B.point=X,r.lineStart()}function X(Me,He){var Oe=D1([Me,He]),ve=n(Me,He);t(_,S,p,D,k,N,_=ve[0],S=ve[1],p=Me,D=Oe[0],k=Oe[1],N=Oe[2],16,r),r.point(_,S)}function $(){B.point=F,r.lineEnd()}function re(){I(),B.point=de,B.lineEnd=se}function de(Me,He){X(i=Me,He),o=_,s=S,a=D,l=k,c=N,B.point=X}function se(){t(_,S,p,D,k,N,o,s,i,a,l,c,16,r),B.lineEnd=$,$()}return B}}(n,e):function(n){return sm({point:function(e,t){e=n(e,t),this.stream.point(e[0],e[1])}})}(n)}var Bre=sm({point:function(n,e){this.stream.point(n*Co,e*Co)}});function rA(n,e,t,r,i,o){if(!o)return function(n,e,t,r,i){function o(s,a){return[e+n*(s*=r),t-n*(a*=i)]}return o.invert=function(s,a){return[(s-e)/n*r,(t-a)/n*i]},o}(n,e,t,r,i);var s=mo(o),a=Ji(o),l=s*n,c=a*n,p=s/n,_=a/n,S=(a*t-s*e)/n,D=(a*e+s*t)/n;function k(N,B){return[l*(N*=r)-c*(B*=i)+e,t-c*N-l*B]}return k.invert=function(N,B){return[r*(p*N-_*B+S),i*(D-_*N-p*B)]},k}function Qy(n,e){return[n,vre(_re((Ys+e)/2))]}Qy.invert=function(n,e){return[n,2*Rz(gre(e))-Ys]};var Jy=Math.sqrt(50),e7=Math.sqrt(10),t7=Math.sqrt(2);function iA(n,e,t){var r=(e-n)/Math.max(0,t),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Jy?10:o>=e7?5:o>=t7?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Jy?10:o>=e7?5:o>=t7?2:1)}function oA(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function sA(n){let e=n,t=n;function r(s,a,l,c){for(null==l&&(l=0),null==c&&(c=s.length);l<c;){const p=l+c>>>1;t(s[p],a)<0?l=p+1:c=p}return l}return 1===n.length&&(e=(s,a)=>n(s)-a,t=function(n){return(e,t)=>oA(n(e),t)}(n)),{left:r,center:function(s,a,l,c){null==l&&(l=0),null==c&&(c=s.length);const p=r(s,a,l,c-1);return p>l&&e(s[p-1],a)>-e(s[p],a)?p-1:p},right:function(s,a,l,c){for(null==l&&(l=0),null==c&&(c=s.length);l<c;){const p=l+c>>>1;t(s[p],a)>0?c=p:l=p+1}return l}}}const Qre=sA(oA).right,Jre=(sA(function(n){return null===n?NaN:+n}),Qre);function lA(n,e){var s,t=e?e.length:0,r=n?Math.min(t,n.length):0,i=new Array(r),o=new Array(t);for(s=0;s<r;++s)i[s]=n7(n[s],e[s]);for(;s<t;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function eie(n,e){var t=new Date;return n=+n,e=+e,function(r){return t.setTime(n*(1-r)+e*r),t}}function tie(n,e){var i,t={},r={};for(i in(null===n||"object"!=typeof n)&&(n={}),(null===e||"object"!=typeof e)&&(e={}),e)i in n?t[i]=n7(n[i],e[i]):r[i]=e[i];return function(o){for(i in t)r[i]=t[i](o);return r}}function nie(n,e){e||(e=[]);var i,t=n?Math.min(e.length,n.length):0,r=e.slice();return function(o){for(i=0;i<t;++i)r[i]=n[i]*(1-o)+e[i]*o;return r}}function n7(n,e){var r,t=typeof e;return null==e||"boolean"===t?Iy(e):("number"===t?ll:"string"===t?(r=wc(e))?(e=r,K3):Tz:e instanceof wc?K3:e instanceof Date?eie:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}(e)?nie:Array.isArray(e)?lA:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?tie:ll)(n,e)}function iie(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function sie(n){return+n}var cA=[0,1];function A1(n){return n}function r7(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:function(n){return function(){return n}}(isNaN(e)?NaN:.5)}function lie(n,e,t){var r=n[0],i=n[1],o=e[0],s=e[1];return i<r?(r=r7(i,r),o=t(s,o)):(r=r7(r,i),o=t(o,s)),function(a){return o(r(a))}}function cie(n,e,t){var r=Math.min(n.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=r7(n[s],n[s+1]),o[s]=t(e[s],e[s+1]);return function(a){var l=Jre(n,a,1,r)-1;return o[l](i[l](a))}}function uie(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function die(){return function(){var r,i,o,a,l,c,n=cA,e=cA,t=n7,s=A1;function p(){var S=Math.min(n.length,e.length);return s!==A1&&(s=function(n,e){var t;return n>e&&(t=n,n=e,e=t),function(r){return Math.max(n,Math.min(e,r))}}(n[0],n[S-1])),a=S>2?cie:lie,l=c=null,_}function _(S){return null==S||isNaN(S=+S)?o:(l||(l=a(n.map(r),e,t)))(r(s(S)))}return _.invert=function(S){return s(i((c||(c=a(e,n.map(r),ll)))(S)))},_.domain=function(S){return arguments.length?(n=Array.from(S,sie),p()):n.slice()},_.range=function(S){return arguments.length?(e=Array.from(S),p()):e.slice()},_.rangeRound=function(S){return e=Array.from(S),t=iie,p()},_.clamp=function(S){return arguments.length?(s=!!S||A1,p()):s!==A1},_.interpolate=function(S){return arguments.length?(t=S,p()):t},_.unknown=function(S){return arguments.length?(o=S,_):o},function(S,D){return r=S,i=D,p()}}()(A1,A1)}function fie(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n)}return this}var uA,pie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function um(n){if(!(e=pie.exec(n)))throw new Error("invalid format: "+n);var e;return new i7({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function i7(n){this.fill=void 0===n.fill?" ":n.fill+"",this.align=void 0===n.align?">":n.align+"",this.sign=void 0===n.sign?"-":n.sign+"",this.symbol=void 0===n.symbol?"":n.symbol+"",this.zero=!!n.zero,this.width=void 0===n.width?void 0:+n.width,this.comma=!!n.comma,this.precision=void 0===n.precision?void 0:+n.precision,this.trim=!!n.trim,this.type=void 0===n.type?"":n.type+""}function hm(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,r=n.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+n.slice(t+1)]}function P1(n){return(n=hm(Math.abs(n)))?n[1]:NaN}function hA(n,e){var t=hm(n,e);if(!t)return n+"";var r=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}um.prototype=i7.prototype,i7.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const dA={"%":(n,e)=>(100*n).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:function(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)},e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>hA(100*n,e),r:hA,s:function(n,e){var t=hm(n,e);if(!t)return n+"";var r=t[0],i=t[1],o=i-(uA=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+hm(n,Math.max(0,e+o-1))[0]},X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function fA(n){return n}var dm,gA,vA,pA=Array.prototype.map,mA=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Tie(n){var e=n.domain;return n.ticks=function(t){var r=e();return function(n,e,t){var r,o,s,a,i=-1;if(t=+t,(n=+n)==(e=+e)&&t>0)return[n];if((r=e<n)&&(o=n,n=e,e=o),0===(a=iA(n,e,t))||!isFinite(a))return[];if(a>0){let l=Math.round(n/a),c=Math.round(e/a);for(l*a<n&&++l,c*a>e&&--c,s=new Array(o=c-l+1);++i<o;)s[i]=(l+i)*a}else{a=-a;let l=Math.round(n*a),c=Math.round(e*a);for(l/a<n&&++l,c/a>e&&--c,s=new Array(o=c-l+1);++i<o;)s[i]=(l+i)/a}return r&&s.reverse(),s}(r[0],r[r.length-1],null==t?10:t)},n.tickFormat=function(t,r){var i=e();return function(n,e,t,r){var o,i=function(n,e,t){var r=Math.abs(e-n)/Math.max(0,t),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Jy?i*=10:o>=e7?i*=5:o>=t7&&(i*=2),e<n?-i:i}(n,e,t);switch((r=um(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(n),Math.abs(e));return null==r.precision&&!isNaN(o=function(n,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(P1(e)/3)))-P1(Math.abs(n)))}(i,s))&&(r.precision=o),vA(r,s);case"":case"e":case"g":case"p":case"r":null==r.precision&&!isNaN(o=function(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,P1(e)-P1(n))+1}(i,Math.max(Math.abs(n),Math.abs(e))))&&(r.precision=o-("e"===r.type));break;case"f":case"%":null==r.precision&&!isNaN(o=function(n){return Math.max(0,-P1(Math.abs(n)))}(i))&&(r.precision=o-2*("%"===r.type))}return gA(r)}(i[0],i[i.length-1],null==t?10:t,r)},n.nice=function(t){null==t&&(t=10);var l,c,r=e(),i=0,o=r.length-1,s=r[i],a=r[o],p=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);p-- >0;){if((c=iA(s,a,t))===l)return r[i]=s,r[o]=a,e(r);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else{if(!(c<0))break;s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c}l=c}return n},n}function o7(){var n=die();return n.copy=function(){return uie(n,o7())},fie.apply(n,arguments),Tie(n)}function s7(n){return"string"==typeof n?new Us([[document.querySelector(n)]],[document.documentElement]):new Us([[n]],QD)}dm=function(n){var e=void 0===n.grouping||void 0===n.thousands?fA:function(n,e){return function(t,r){for(var i=t.length,o=[],s=0,a=n[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(t.substring(i-=a,i+a)),!((l+=a+1)>r));)a=n[s=(s+1)%n.length];return o.reverse().join(e)}}(pA.call(n.grouping,Number),n.thousands+""),t=void 0===n.currency?"":n.currency[0]+"",r=void 0===n.currency?"":n.currency[1]+"",i=void 0===n.decimal?".":n.decimal+"",o=void 0===n.numerals?fA:function(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}(pA.call(n.numerals,String)),s=void 0===n.percent?"%":n.percent+"",a=void 0===n.minus?"\u2212":n.minus+"",l=void 0===n.nan?"NaN":n.nan+"";function c(_){var S=(_=um(_)).fill,D=_.align,k=_.sign,N=_.symbol,B=_.zero,F=_.width,I=_.comma,X=_.precision,$=_.trim,re=_.type;"n"===re?(I=!0,re="g"):dA[re]||(void 0===X&&(X=12),$=!0,re="g"),(B||"0"===S&&"="===D)&&(B=!0,S="0",D="=");var de="$"===N?t:"#"===N&&/[boxX]/.test(re)?"0"+re.toLowerCase():"",se="$"===N?r:/[%p]/.test(re)?s:"",Me=dA[re],He=/[defgprs%]/.test(re);function Oe(ve){var ge,xe,he,st=de,je=se;if("c"===re)je=Me(ve)+je,ve="";else{var ke=(ve=+ve)<0||1/ve<0;if(ve=isNaN(ve)?l:Me(Math.abs(ve),X),$&&(ve=function(n){e:for(var i,e=n.length,t=1,r=-1;t<e;++t)switch(n[t]){case".":r=i=t;break;case"0":0===r&&(r=t),i=t;break;default:if(!+n[t])break e;r>0&&(r=0)}return r>0?n.slice(0,r)+n.slice(i+1):n}(ve)),ke&&0==+ve&&"+"!==k&&(ke=!1),st=(ke?"("===k?k:a:"-"===k||"("===k?"":k)+st,je=("s"===re?mA[8+uA/3]:"")+je+(ke&&"("===k?")":""),He)for(ge=-1,xe=ve.length;++ge<xe;)if(48>(he=ve.charCodeAt(ge))||he>57){je=(46===he?i+ve.slice(ge+1):ve.slice(ge))+je,ve=ve.slice(0,ge);break}}I&&!B&&(ve=e(ve,1/0));var et=st.length+ve.length+je.length,rt=et<F?new Array(F-et+1).join(S):"";switch(I&&B&&(ve=e(rt+ve,rt.length?F-je.length:1/0),rt=""),D){case"<":ve=st+ve+je+rt;break;case"=":ve=st+rt+ve+je;break;case"^":ve=rt.slice(0,et=rt.length>>1)+st+ve+je+rt.slice(et);break;default:ve=rt+st+ve+je}return o(ve)}return X=void 0===X?6:/[gprs]/.test(re)?Math.max(1,Math.min(21,X)):Math.max(0,Math.min(20,X)),Oe.toString=function(){return _+""},Oe}return{format:c,formatPrefix:function(_,S){var D=c(((_=um(_)).type="f",_)),k=3*Math.max(-8,Math.min(8,Math.floor(P1(S)/3))),N=Math.pow(10,-k),B=mA[8+k/3];return function(F){return D(N*F)+B}}}}({thousands:",",grouping:[3],currency:["$",""]}),gA=dm.format,vA=dm.formatPrefix;const a7=Math.PI,l7=2*a7,Eh=1e-6,Eie=l7-Eh;function c7(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function yA(){return new c7}c7.prototype=yA.prototype={constructor:c7,moveTo:function(n,e){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,e){this._+="L"+(this._x1=+n)+","+(this._y1=+e)},quadraticCurveTo:function(n,e,t,r){this._+="Q"+ +n+","+ +e+","+(this._x1=+t)+","+(this._y1=+r)},bezierCurveTo:function(n,e,t,r,i,o){this._+="C"+ +n+","+ +e+","+ +t+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(n,e,t,r,i){var o=this._x1,s=this._y1,a=(t=+t)-(n=+n),l=(r=+r)-(e=+e),c=o-n,p=s-e,_=c*c+p*p;if((i=+i)<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=n)+","+(this._y1=e);else if(_>Eh)if(Math.abs(p*a-l*c)>Eh&&i){var S=t-o,D=r-s,k=a*a+l*l,N=S*S+D*D,B=Math.sqrt(k),F=Math.sqrt(_),I=i*Math.tan((a7-Math.acos((k+_-N)/(2*B*F)))/2),X=I/F,$=I/B;Math.abs(X-1)>Eh&&(this._+="L"+(n+X*c)+","+(e+X*p)),this._+="A"+i+","+i+",0,0,"+ +(p*S>c*D)+","+(this._x1=n+$*a)+","+(this._y1=e+$*l)}else this._+="L"+(this._x1=n)+","+(this._y1=e)},arc:function(n,e,t,r,i,o){n=+n,e=+e,o=!!o;var s=(t=+t)*Math.cos(r),a=t*Math.sin(r),l=n+s,c=e+a,p=1^o,_=o?r-i:i-r;if(t<0)throw new Error("negative radius: "+t);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Eh||Math.abs(this._y1-c)>Eh)&&(this._+="L"+l+","+c),t&&(_<0&&(_=_%l7+l7),_>Eie?this._+="A"+t+","+t+",0,1,"+p+","+(n-s)+","+(e-a)+"A"+t+","+t+",0,1,"+p+","+(this._x1=l)+","+(this._y1=c):_>Eh&&(this._+="A"+t+","+t+",0,"+ +(_>=a7)+","+p+","+(this._x1=n+t*Math.cos(i))+","+(this._y1=e+t*Math.sin(i))))},rect:function(n,e,t,r){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+e)+"h"+ +t+"v"+ +r+"h"+-t+"Z"},toString:function(){return this._}};const _A=yA;function bA(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function Uo(n){return function(){return n}}function wA(n){this._context=n}function xA(n){return new wA(n)}function MA(n){return n[0]}function SA(n){return n[1]}function CA(n){return n<0?-1:1}function TA(n,e,t){var r=n._x1-n._x0,i=e-n._x1,o=(n._y1-n._y0)/(r||i<0&&-0),s=(t-n._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(CA(o)+CA(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function EA(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function u7(n,e,t){var r=n._x0,o=n._x1,s=n._y1,a=(o-r)/3;n._context.bezierCurveTo(r+a,n._y0+a*e,o-a,s-a*t,o,s)}function fm(n){this._context=n}function zA(n){this._context=n}function Aie(n){return new fm(n)}function k1(n,e,t){this.k=n,this.x=e,this.y=t}wA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e)}}},fm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:u7(this,this._t0,EA(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(e=+e,(n=+n)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,u7(this,EA(this,t=TA(this,n,e)),t);break;default:u7(this,this._t0,t=TA(this,n,e))}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}},(function(n){this._context=new zA(n)}.prototype=Object.create(fm.prototype)).point=function(n,e){fm.prototype.point.call(this,e,n)},zA.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,r,i,o){this._context.bezierCurveTo(e,n,r,t,o,i)}},k1.prototype={constructor:k1,scale:function(n){return 1===n?this:new k1(this.k*n,this.x,this.y)},translate:function(n,e){return 0===n&0===e?this:new k1(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new k1(1,0,0);class Nie extends I3{constructor(e,t){super(e,t),this.commitwidht=722,this.commitheight=112,this.colors=["#ebedf0","#9be9a8","#40c463","#30a14e","#216e39"],this.month=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.week=["Mon","Wed","Fri"],console.log("object :>> ",this.divWidth,this.divHeight),this.svg=s7(e).append("svg").attr("width",this.divWidth).attr("height",this.divHeight).style("position","absolute"),this.commitG=this.svg.append("g").attr("class","commitG").attr("transform","translate("+this.divWidth/2+",160)"),this.infoG=this.svg.append("g").attr("class","infoG").attr("transform","translate("+this.divWidth/2+",160)");let{boxw:r,boxh:i}=this.drawRects(5);this.drawIonf(r,i)}updateData(e){this.drawRects(e)}drawRects(e){let r=[];for(let a=0;a<376;a++){let l=Math.round(4*Math.random());e<10*Math.random()&&(l=0),r.push(l)}let i=this.commitG.selectAll("g").filter(".rects").data([1]).join("g").attr("class","rects");i.selectAll("rect").data(r).join("rect").attr("width",10).attr("height",10).attr("x",(a,l)=>13*Math.floor(l/7)).attr("y",(a,l)=>13*Math.floor(l%7)).attr("rx",2).attr("ry",2).attr("fill",a=>this.colors[a]).attr("stroke","#1b1f230f").attr("stroke-width",1).attr("opacity",(a,l)=>l<3?0:1);let o=10,s=10;return i.each(function(){let a=this.getBBox();o=a.width,s=a.height,s7(this).attr("transform","translate("+-o/2+","+-s/2+")")}),{boxw:o,boxh:s}}drawIonf(e,t){let r=e+70,i=t+80;this.infoG.append("rect").attr("width",r).attr("height",i).attr("x",-r/2-10).attr("y",-i/2).attr("rx",8).attr("ry",8).attr("stroke","#e1e4e8").attr("fill","none").attr("stroke-width",1),this.infoG.append("text").text("Learn how we count contributions.").attr("fill","#586069").attr("font-size","0.75em").attr("x",-e/2).attr("y",t/2+20).attr("font-size","12px"),this.infoG.append("text").text("Less").attr("fill","#586069").attr("font-size","0.75em").attr("x",e/2-150).attr("y",t/2+20).attr("font-size","12px"),this.infoG.append("text").text("More").attr("fill","#586069").attr("font-size","0.75em").attr("x",e/2-50).attr("y",t/2+20).attr("font-size","12px"),this.infoG.selectAll("rect").filter("frect").data(this.colors).join("rect").attr("class","frect").attr("width",10).attr("height",10).attr("x",(o,s)=>e/2-118+13*s).attr("y",t/2+10).attr("rx",2).attr("ry",2).attr("stroke","#1b1f230f").attr("fill",o=>o).attr("stroke-width",1),this.infoG.selectAll("text").filter("month").data(this.month).join("text").attr("class","month").text(o=>o).attr("x",(o,s)=>59*s-e/2).attr("y",-t/2-10).attr("fill","#24292e").attr("font-size","9px"),this.infoG.selectAll("text").filter("week").attr("class","week").data(this.week).join("text").text(o=>o).attr("x",-e/2-30).attr("y",(o,s)=>25*s+22-t/2).attr("fill","#24292e").attr("font-size","9px")}addHelper(){let e=this.svg.append("g").attr("transform","translate("+this.divWidth/2+","+this.divHeight/2+")").attr("opacity",.8);e.append("line").attr("x1",-100).attr("y1",0).attr("x2",100).attr("y2",0).attr("stroke","#666").attr("stroke-width",1),e.append("line").attr("x1",0).attr("y1",-100).attr("x2",0).attr("y2",100).attr("stroke","#666").attr("stroke-width",1)}}function On(n,e,t,r){var s,i=arguments.length,o=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o}function kn(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)}const OA=new Nn("cdk-dir-doc",{providedIn:"root",factory:function(){return gV(rr)}});let eo=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Hn,t){const i=t.documentElement?t.documentElement.dir:null,o=(t.body?t.body.dir:null)||i;this.value="ltr"===o||"rtl"===o?o:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(Ke(OA,8))},n.\u0275prov=sn({factory:function(){return new n(Ke(OA,8))},token:n,providedIn:"root"}),n})(),Uie=(()=>{class n{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new Hn}get dir(){return this._dir}set dir(t){const r=this._dir,i=t&&t.toLowerCase();this._rawDir=t,this._dir="ltr"===i||"rtl"===i?i:"ltr",r!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=tn({type:n,selectors:[["","dir",""]],hostVars:1,hostBindings:function(t,r){2&t&&Ds("dir",r._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],features:[Rr([{provide:eo,useExisting:n}])]}),n})(),Aa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({}),n})();function _m(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function bm(n,e){return new Y(t=>{const r=n.length;if(0===r)return void t.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const l=ct(n[a]);let c=!1;t.add(l.subscribe({next:p=>{c||(c=!0,s++),i[a]=p},error:p=>t.error(p),complete:()=>{o++,(o===r||!c)&&(s===r&&t.next(e?e.reduce((p,_,S)=>(p[_]=i[S],p),{}):i),t.complete())}}))}})}let FA=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(Ae(Ri),Ae(jn))},n.\u0275dir=tn({type:n}),n})(),Dh=(()=>{class n extends FA{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Hs(n)))(r||n)}}(),n.\u0275dir=tn({type:n,features:[ni]}),n})();const aa=new Nn("NgValueAccessor"),Jie={provide:aa,useExisting:fr(()=>wm),multi:!0},toe=new Nn("CompositionEventMode");let wm=(()=>{class n extends FA{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=Ol()?Ol().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(Ae(Ri),Ae(jn),Ae(toe,8))},n.\u0275dir=tn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&nr("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Rr([Jie]),ni]}),n})();const ms=new Nn("NgValidators"),pu=new Nn("NgAsyncValidators");function $A(n){return null!=n}function XA(n){const e=b0(n)?ct(n):n;return b2(e),e}function KA(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ZA(n,e){return e.map(t=>t(n))}function QA(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function f7(n){return null!=n?function(n){if(!n)return null;const e=n.filter($A);return 0==e.length?null:function(t){return KA(ZA(t,e))}}(QA(n)):null}function p7(n){return null!=n?function(n){if(!n)return null;const e=n.filter($A);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if(M(e))return bm(e,null);if(w(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return bm(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return bm(n=1===n.length&&M(n[0])?n[0]:n,null).pipe(we(t=>e(...t)))}return bm(n,null)}(ZA(t,e).map(XA)).pipe(we(KA))}}(QA(n)):null}function tP(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function m7(n){return n?Array.isArray(n)?n:[n]:[]}function xm(n,e){return Array.isArray(n)?n.includes(e):n===e}function iP(n,e){const t=m7(e);return m7(n).forEach(i=>{xm(t,i)||t.push(i)}),t}function oP(n,e){return m7(e).filter(t=>!xm(n,t))}let sP=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=f7(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=p7(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=tn({type:n}),n})(),Is=(()=>{class n extends sP{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Hs(n)))(r||n)}}(),n.\u0275dir=tn({type:n,features:[ni]}),n})();class gu extends sP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let L1=(()=>{class n extends class{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(Ae(gu,2))},n.\u0275dir=tn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Hr("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[ni]}),n})();function wp(n,e){(function(n,e){const t=function(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(tP(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(tP(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Tm(e._rawValidators,i),Tm(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&lP(n,e)})}(n,e),function(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&lP(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Tm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function lP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Dm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const xp="VALID",zm="INVALID",O1="PENDING",Mp="DISABLED";function w7(n){return(M7(n)?n.validators:n)||null}function hP(n){return Array.isArray(n)?f7(n):n||null}function x7(n,e){return(M7(e)?e.asyncValidators:n)||null}function dP(n){return Array.isArray(n)?p7(n):n||null}function M7(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class S7{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=hP(this._rawValidators),this._composedAsyncValidatorFn=dP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===xp}get invalid(){return this.status===zm}get pending(){return this.status==O1}get disabled(){return this.status===Mp}get enabled(){return this.status!==Mp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=hP(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=dP(e)}addValidators(e){this.setValidators(iP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(iP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(oP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(oP(e,this._rawAsyncValidators))}hasValidator(e){return xm(this._rawValidators,e)}hasAsyncValidator(e){return xm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=O1,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Mp,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=xp,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xp||this.status===O1)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mp:xp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=O1,this._hasOwnPendingAsyncValidator=!0;const t=XA(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=r instanceof C7?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof goe&&r.at(i)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Hn,this.statusChanges=new Hn}_calculateStatus(){return this._allControlsDisabled()?Mp:this.errors?zm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(O1)?O1:this._anyControlsHaveStatus(zm)?zm:xp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){M7(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Am extends S7{constructor(e=null,t,r){super(w7(t),x7(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Dm(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Dm(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class C7 extends S7{constructor(e,t,r){super(w7(t),x7(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof Am?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class goe extends S7{constructor(e,t,r){super(w7(t),x7(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Am?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const _oe={provide:gu,useExisting:fr(()=>zh)},mP=(()=>Promise.resolve(null))();let zh=(()=>{class n extends gu{constructor(t,r,i,o){super(),this.control=new Am,this._registered=!1,this.update=new Hn,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===wm?t=o:function(n){return Object.getPrototypeOf(n.constructor)===Dh}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){wp(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){mP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;mP.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(Ae(Is,9),Ae(ms,10),Ae(pu,10),Ae(aa,10))},n.\u0275dir=tn({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Rr([_oe]),ni,Tn]}),n})(),vP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({}),n})(),OP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({imports:[[vP]]}),n})(),O7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({imports:[OP]}),n})();function Sc(n){return null!=n&&"false"!=`${n}`}function Ah(n,e=0){return IP(n)?Number(n):e}function IP(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function RP(n){return Array.isArray(n)?n:[n]}function go(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ph(n){return n instanceof jn?n.nativeElement:n}const NP={},Pm="[NG-ZORRO]:";function VP(n,...e){B2()&&function(...n){const e=n.reduce((t,r)=>t+r.toString(),"");return!NP[e]&&(NP[e]=!0,!0)}(...e)&&n(...e)}const I7=(...n)=>VP((...e)=>console.warn(Pm,...e),...n),HP=(...n)=>{{const e=(new Error).stack;return VP((...t)=>console.warn(Pm,"deprecated:",...t,e),...n)}};function km(n){return null!=n}function BP(n){return Sc(n)}function F7(n,e){return function(r,i,o){const s=`$$__${i}`;return Object.prototype.hasOwnProperty.call(r,s)&&I7(`The prop "${s}" is already exist, it will be overrided by ${n} decorator.`),Object.defineProperty(r,s,{configurable:!0,writable:!0}),{get(){return o&&o.get?o.get.bind(this)():this[s]},set(a){o&&o.set&&o.set.bind(this)(e(a)),this[s]=e(a)}}}}function Jn(){return F7("InputBoolean",BP)}function Cp(n){return F7("InputNumber",e=>function(n,e=0){return IP(n)?Number(n):e}(e,n))}function UP(n){n.stopPropagation(),n.preventDefault()}function Lm(n,e,t){return isNaN(n)||n<e?e:n>t?t:n}function wr(n){return e=>e.lift(new lse(n))}"undefined"!=typeof window&&window;class lse{constructor(e){this.notifier=e}call(e,t){const r=new cse(e),i=Ct(this.notifier,new mt(r));return i&&!r.seenValue?(r.add(i),t.subscribe(r)):r}}class cse extends $t{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let U7;try{U7="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){U7=!1}let Tp,kh,Y7,qi=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(n){return n===vE}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!U7)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(Ke(ch))},n.\u0275prov=sn({factory:function(){return new n(Ke(ch))},token:n,providedIn:"root"}),n})(),Bl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({}),n})();function hse(n){return function(){if(null==Tp&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Tp=!0}))}finally{Tp=Tp||!1}return Tp}()?n:!!n.capture}function $P(){if(null==kh){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return kh=!1,kh;if("scrollBehavior"in document.documentElement.style)kh=!0;else{const n=Element.prototype.scrollTo;kh=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return kh}function ts(n,e){(function(n){return"string"==typeof n&&-1!==n.indexOf(".")&&1===parseFloat(n)})(n)&&(n="100%");var t=function(n){return"string"==typeof n&&-1!==n.indexOf("%")}(n);return n=360===e?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:n=360===e?(n<0?n%e+e:n%e)/parseFloat(String(e)):n%e/parseFloat(String(e))}function Rm(n){return Math.min(1,Math.max(0,n))}function XP(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function Fm(n){return n<=1?100*Number(n)+"%":n}function Lh(n){return 1===n.length?"0"+n:String(n)}function KP(n,e,t){n=ts(n,255),e=ts(e,255),t=ts(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),o=0,s=0,a=(r+i)/2;if(r===i)s=0,o=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case n:o=(e-t)/l+(e<t?6:0);break;case e:o=(t-n)/l+2;break;case t:o=(n-e)/l+4}o/=6}return{h:o,s,l:a}}function G7(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*t*(e-n):t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function ZP(n,e,t){n=ts(n,255),e=ts(e,255),t=ts(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),o=0,s=r,a=r-i,l=0===r?0:a/r;if(r===i)o=0;else{switch(r){case n:o=(e-t)/a+(e<t?6:0);break;case e:o=(t-n)/a+2;break;case t:o=(n-e)/a+4}o/=6}return{h:o,s:l,v:s}}function QP(n,e,t,r){var i=[Lh(Math.round(n).toString(16)),Lh(Math.round(e).toString(16)),Lh(Math.round(t).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function JP(n){return Math.round(255*parseFloat(n)).toString(16)}function ek(n){return la(n)/255}function la(n){return parseInt(n,16)}var W7={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var vu="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",q7="[\\s|\\(]+("+vu+")[,|\\s]+("+vu+")[,|\\s]+("+vu+")\\s*\\)?",$7="[\\s|\\(]+("+vu+")[,|\\s]+("+vu+")[,|\\s]+("+vu+")[,|\\s]+("+vu+")\\s*\\)?",cl={CSS_UNIT:new RegExp(vu),rgb:new RegExp("rgb"+q7),rgba:new RegExp("rgba"+$7),hsl:new RegExp("hsl"+q7),hsla:new RegExp("hsla"+$7),hsv:new RegExp("hsv"+q7),hsva:new RegExp("hsva"+$7),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Cc(n){return Boolean(cl.CSS_UNIT.exec(String(n)))}var Dp=function(){function n(e,t){var r;if(void 0===e&&(e=""),void 0===t&&(t={}),e instanceof n)return e;"number"==typeof e&&(e=function(n){return{r:n>>16,g:(65280&n)>>8,b:255&n}}(e)),this.originalInput=e;var i=function(n){var e={r:0,g:0,b:0},t=1,r=null,i=null,o=null,s=!1,a=!1;return"string"==typeof n&&(n=function(n){if(0===(n=n.trim().toLowerCase()).length)return!1;var e=!1;if(W7[n])n=W7[n],e=!0;else if("transparent"===n)return{r:0,g:0,b:0,a:0,format:"name"};var t=cl.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=cl.rgba.exec(n))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=cl.hsl.exec(n))?{h:t[1],s:t[2],l:t[3]}:(t=cl.hsla.exec(n))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=cl.hsv.exec(n))?{h:t[1],s:t[2],v:t[3]}:(t=cl.hsva.exec(n))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=cl.hex8.exec(n))?{r:la(t[1]),g:la(t[2]),b:la(t[3]),a:ek(t[4]),format:e?"name":"hex8"}:(t=cl.hex6.exec(n))?{r:la(t[1]),g:la(t[2]),b:la(t[3]),format:e?"name":"hex"}:(t=cl.hex4.exec(n))?{r:la(t[1]+t[1]),g:la(t[2]+t[2]),b:la(t[3]+t[3]),a:ek(t[4]+t[4]),format:e?"name":"hex8"}:!!(t=cl.hex3.exec(n))&&{r:la(t[1]+t[1]),g:la(t[2]+t[2]),b:la(t[3]+t[3]),format:e?"name":"hex"}}(n)),"object"==typeof n&&(Cc(n.r)&&Cc(n.g)&&Cc(n.b)?(e=function(n,e,t){return{r:255*ts(n,255),g:255*ts(e,255),b:255*ts(t,255)}}(n.r,n.g,n.b),s=!0,a="%"===String(n.r).substr(-1)?"prgb":"rgb"):Cc(n.h)&&Cc(n.s)&&Cc(n.v)?(r=Fm(n.s),i=Fm(n.v),e=function(n,e,t){n=6*ts(n,360),e=ts(e,100),t=ts(t,100);var r=Math.floor(n),i=n-r,o=t*(1-e),s=t*(1-i*e),a=t*(1-(1-i)*e),l=r%6;return{r:255*[t,s,o,o,a,t][l],g:255*[a,t,t,s,o,o][l],b:255*[o,o,a,t,t,s][l]}}(n.h,r,i),s=!0,a="hsv"):Cc(n.h)&&Cc(n.s)&&Cc(n.l)&&(r=Fm(n.s),o=Fm(n.l),e=function(n,e,t){var r,i,o;if(n=ts(n,360),e=ts(e,100),t=ts(t,100),0===e)i=t,o=t,r=t;else{var s=t<.5?t*(1+e):t+e-t*e,a=2*t-s;r=G7(a,s,n+1/3),i=G7(a,s,n),o=G7(a,s,n-1/3)}return{r:255*r,g:255*i,b:255*o}}(n.h,r,o),s=!0,a="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=XP(t),{ok:s,format:n.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=t.format)&&void 0!==r?r:i.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),o=e.r/255,s=e.g/255,a=e.b/255;return.2126*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))+.7152*(s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4))+.0722*(a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=XP(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.toHsv=function(){var e=ZP(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=ZP(this.r,this.g,this.b),t=Math.round(360*e.h),r=Math.round(100*e.s),i=Math.round(100*e.v);return 1===this.a?"hsv("+t+", "+r+"%, "+i+"%)":"hsva("+t+", "+r+"%, "+i+"%, "+this.roundA+")"},n.prototype.toHsl=function(){var e=KP(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=KP(this.r,this.g,this.b),t=Math.round(360*e.h),r=Math.round(100*e.s),i=Math.round(100*e.l);return 1===this.a?"hsl("+t+", "+r+"%, "+i+"%)":"hsla("+t+", "+r+"%, "+i+"%, "+this.roundA+")"},n.prototype.toHex=function(e){return void 0===e&&(e=!1),QP(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(n,e,t,r,i){var o=[Lh(Math.round(n).toString(16)),Lh(Math.round(e).toString(16)),Lh(Math.round(t).toString(16)),Lh(JP(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),r=Math.round(this.b);return 1===this.a?"rgb("+e+", "+t+", "+r+")":"rgba("+e+", "+t+", "+r+", "+this.roundA+")"},n.prototype.toPercentageRgb=function(){var e=function(t){return Math.round(100*ts(t,255))+"%"};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(100*ts(t,255))};return 1===this.a?"rgb("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%)":"rgba("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%, "+this.roundA+")"},n.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+QP(this.r,this.g,this.b,!1),t=0,r=Object.entries(W7);t<r.length;t++){var i=r[t];if(e===i[1])return i[0]}return!1},n.prototype.toString=function(e){var t=Boolean(e);e=null!=e?e:this.format;var r=!1;return!t&&this.a<1&&this.a>=0&&(e.startsWith("hex")||"name"===e)?"name"===e&&0===this.a?this.toName():this.toRgbString():("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=Rm(t.l),new n(t)},n.prototype.brighten=function(e){void 0===e&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(-e/100*255))),t.g=Math.max(0,Math.min(255,t.g-Math.round(-e/100*255))),t.b=Math.max(0,Math.min(255,t.b-Math.round(-e/100*255))),new n(t)},n.prototype.darken=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=Rm(t.l),new n(t)},n.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=Rm(t.s),new n(t)},n.prototype.saturate=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=Rm(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),r=(t.h+e)%360;return t.h=r<0?360+r:r,new n(t)},n.prototype.mix=function(e,t){void 0===t&&(t=50);var r=this.toRgb(),i=new n(e).toRgb(),o=t/100;return new n({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},n.prototype.analogous=function(e,t){void 0===e&&(e=6),void 0===t&&(t=30);var r=this.toHsl(),i=360/t,o=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(new n(r));return o},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){void 0===e&&(e=6);for(var t=this.toHsv(),r=t.h,i=t.s,o=t.v,s=[],a=1/e;e--;)s.push(new n({h:r,s:i,v:o})),o=(o+a)%1;return s},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),r=new n(e).toRgb();return new n({r:r.r+(t.r-r.r)*t.a,g:r.g+(t.g-r.g)*t.a,b:r.b+(t.b-r.b)*t.a})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),r=t.h,i=[this],o=360/e,s=1;s<e;s++)i.push(new n({h:(r+s*o)%360,s:t.s,l:t.l}));return i},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}(),Dse=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function ik(n,e,t){var r;return(r=Math.round(n.h)>=60&&Math.round(n.h)<=240?t?Math.round(n.h)-2*e:Math.round(n.h)+2*e:t?Math.round(n.h)+2*e:Math.round(n.h)-2*e)<0?r+=360:r>=360&&(r-=360),r}function ok(n,e,t){return 0===n.h&&0===n.s?n.s:((r=t?n.s-.16*e:4===e?n.s+.16:n.s+.05*e)>1&&(r=1),t&&5===e&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function sk(n,e,t){var r;return(r=t?n.v+.05*e:n.v-.15*e)>1&&(r=1),Number(r.toFixed(2))}function X7(n){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=[],r=new Dp(n),i=5;i>0;i-=1){var o=r.toHsv(),s=new Dp({h:ik(o,i,!0),s:ok(o,i,!0),v:sk(o,i,!0)}).toHexString();t.push(s)}t.push(r.toHexString());for(var a=1;a<=4;a+=1){var l=r.toHsv(),c=new Dp({h:ik(l,a),s:ok(l,a),v:sk(l,a)}).toHexString();t.push(c)}return"dark"===e.theme?Dse.map(function(p){var _=p.index,S=p.opacity;return new Dp(e.backgroundColor||"#141414").mix(t[_],100*S).toHexString()}):t}var K7={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},gs={},Z7={};Object.keys(K7).forEach(function(n){gs[n]=X7(K7[n]),gs[n].primary=gs[n][5],Z7[n]=X7(K7[n],{theme:"dark",backgroundColor:"#141414"}),Z7[n].primary=Z7[n][5]});class ak{}class zp{}class Tc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Tc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Tc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Tc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class zse{encodeKey(e){return lk(e)}encodeValue(e){return lk(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Pse=/%(\d[a-f0-9])/gi,kse={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function lk(n){return encodeURIComponent(n).replace(Pse,(e,t)=>{var r;return null!==(r=kse[t])&&void 0!==r?r:e})}function ck(n){return`${n}`}class yu{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new zse,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new yu({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ck(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(ck(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Lse{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function uk(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function hk(n){return"undefined"!=typeof Blob&&n instanceof Blob}function dk(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Ap{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Tc),this.context||(this.context=new Lse),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new yu,this.urlWithParams=t}serializeBody(){return null===this.body?null:uk(this.body)||hk(this.body)||dk(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof yu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||dk(this.body)?null:hk(this.body)?this.body.type||null:uk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof yu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,o=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,p=e.params||this.params;const _=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((S,D)=>S.set(D,e.setHeaders[D]),c)),e.setParams&&(p=Object.keys(e.setParams).reduce((S,D)=>S.set(D,e.setParams[D]),p)),new Ap(r,i,s,{params:p,headers:c,context:_,reportProgress:l,responseType:o,withCredentials:a})}}var To=(()=>((To=To||{})[To.Sent=0]="Sent",To[To.UploadProgress=1]="UploadProgress",To[To.ResponseHeader=2]="ResponseHeader",To[To.DownloadProgress=3]="DownloadProgress",To[To.Response=4]="Response",To[To.User=5]="User",To))();class Q7{constructor(e,t=200,r="OK"){this.headers=e.headers||new Tc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class J7 extends Q7{constructor(e={}){super(e),this.type=To.ResponseHeader}clone(e={}){return new J7({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Vm extends Q7{constructor(e={}){super(e),this.type=To.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Vm({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class fk extends Q7{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function e9(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let pk=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ap)o=t;else{let l,c;l=i.headers instanceof Tc?i.headers:new Tc(i.headers),i.params&&(c=i.params instanceof yu?i.params:new yu({fromObject:i.params})),o=new Ap(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=Xn(o).pipe(v1(l=>this.handler.handle(l)));if(t instanceof Ap||"events"===i.observe)return s;const a=s.pipe(Qi(l=>l instanceof Vm));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(we(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(we(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(we(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(we(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new yu).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,e9(i,r))}post(t,r,i={}){return this.request("POST",t,e9(i,r))}put(t,r,i={}){return this.request("PUT",t,e9(i,r))}}return n.\u0275fac=function(t){return new(t||n)(Ke(ak))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})();class mk{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const gk=new Nn("HTTP_INTERCEPTORS");let Rse=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})();const Fse=/^\)\]\}',?\n/;let vk=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((D,k)=>i.setRequestHeader(D,k.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const D=t.detectContentTypeHeader();null!==D&&i.setRequestHeader("Content-Type",D)}if(t.responseType){const D=t.responseType.toLowerCase();i.responseType="json"!==D?D:"text"}const o=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const D=1223===i.status?204:i.status,k=i.statusText||"OK",N=new Tc(i.getAllResponseHeaders()),B=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new J7({headers:N,status:D,statusText:k,url:B}),s},l=()=>{let{headers:D,status:k,statusText:N,url:B}=a(),F=null;204!==k&&(F=void 0===i.response?i.responseText:i.response),0===k&&(k=F?200:0);let I=k>=200&&k<300;if("json"===t.responseType&&"string"==typeof F){const X=F;F=F.replace(Fse,"");try{F=""!==F?JSON.parse(F):null}catch($){F=X,I&&(I=!1,F={error:$,text:F})}}I?(r.next(new Vm({body:F,headers:D,status:k,statusText:N,url:B||void 0})),r.complete()):r.error(new fk({error:F,headers:D,status:k,statusText:N,url:B||void 0}))},c=D=>{const{url:k}=a(),N=new fk({error:D,status:i.status||0,statusText:i.statusText||"Unknown Error",url:k||void 0});r.error(N)};let p=!1;const _=D=>{p||(r.next(a()),p=!0);let k={type:To.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(k.total=D.total),"text"===t.responseType&&!!i.responseText&&(k.partialText=i.responseText),r.next(k)},S=D=>{let k={type:To.UploadProgress,loaded:D.loaded};D.lengthComputable&&(k.total=D.total),r.next(k)};return i.addEventListener("load",l),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",_),null!==o&&i.upload&&i.upload.addEventListener("progress",S)),i.send(o),r.next({type:To.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",l),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",_),null!==o&&i.upload&&i.upload.removeEventListener("progress",S)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(Ke(bE))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})();const t9=new Nn("XSRF_COOKIE_NAME"),n9=new Nn("XSRF_HEADER_NAME");class yk{}let Vse=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=uE(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(Ke(rr),Ke(ch),Ke(t9))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})(),r9=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const o=this.tokenService.getToken();return null!==o&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,o)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(Ke(yk),Ke(n9))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})(),Hse=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(gk,[]);this.chain=r.reduceRight((i,o)=>new mk(i,o),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(Ke(zp),Ke(ui))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})(),Bse=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:r9,useClass:Rse}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:t9,useValue:t.cookieName}:[],t.headerName?{provide:n9,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({providers:[r9,{provide:gk,useExisting:r9,multi:!0},{provide:yk,useClass:Vse},{provide:t9,useValue:"XSRF-TOKEN"},{provide:n9,useValue:"X-XSRF-TOKEN"}]}),n})(),jse=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({providers:[pk,{provide:ak,useClass:Hse},vk,{provide:zp,useExisting:vk}],imports:[[Bse.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const Ec="[@ant-design/icons-angular]:";function _k(n){B2()&&console.warn(`${Ec} ${n}.`)}function bk(n){return X7(n)[0]}function Hm(n,e){switch(e){case"fill":return`${n}-fill`;case"outline":return`${n}-o`;case"twotone":return`${n}-twotone`;case void 0:return n;default:throw new Error(`${Ec}Theme "${e}" is not a recognized theme!`)}}function wk(n){return"object"==typeof n&&"string"==typeof n.name&&("string"==typeof n.theme||void 0===n.theme)&&"string"==typeof n.icon}function Bm(n){const e=n.split(":");switch(e.length){case 1:return[n,""];case 2:return[e[1],e[0]];default:throw new Error(`${Ec}The icon type ${n} is not valid!`)}}function tae(){return new Error(`${Ec}<svg> tag not found.`)}let i9=(()=>{class n{constructor(t,r,i,o){this._rendererFactory=t,this._handler=r,this._document=i,this.sanitizer=o,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new ye,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new pk(this._handler))}set twoToneColor({primaryColor:t,secondaryColor:r}){this._twoToneColorPalette.primaryColor=t,this._twoToneColorPalette.secondaryColor=r||bk(t)}get twoToneColor(){return Object.assign({},this._twoToneColorPalette)}useJsonpLoading(){this._enableJsonpLoading?_k("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window.__ant_icon_load=t=>{this._jsonpIconLoad$.next(t)})}changeAssetsSource(t){this._assetsUrlRoot=t.endsWith("/")?t:t+"/"}addIcon(...t){t.forEach(r=>{this._svgDefinitions.set(Hm(r.name,r.theme),r)})}addIconLiteral(t,r){const[i,o]=Bm(t);if(!o)throw new Error(`${Ec}Type should have a namespace. Try "namespace:${name}".`);this.addIcon({name:t,icon:r})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(t,r){const i=wk(t)?t:this._svgDefinitions.get(t)||null;return(i?Xn(i):this._loadIconDynamically(t)).pipe(we(s=>{if(!s)throw function(n){return new Error(`${Ec}the icon ${n} does not exist or is not registered.`)}(t);return this._loadSVGFromCacheOrCreateNew(s,r)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(t){if(!this._http&&!this._enableJsonpLoading)return Xn((console.error(`${Ec} you need to import "HttpClientModule" to use dynamic importing..`),null));let r=this._inProgressFetches.get(t);if(!r){const[i,o]=Bm(t),s=o?{name:t,icon:""}:function(n){const e=n.split("-"),t=function(n){return"o"===n?"outline":n}(e.splice(e.length-1,1)[0]);return{name:e.join("-"),theme:t,icon:""}}(i),l=(o?`${this._assetsUrlRoot}assets/${o}/${i}`:`${this._assetsUrlRoot}assets/${s.theme}/${s.name}`)+(this._enableJsonpLoading?".js":".svg"),c=this.sanitizer.sanitize(Mi.URL,l);if(!c)throw function(n){return new Error(`${Ec}The url "${n}" is unsafe.`)}(l);r=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(s,c):this._http.get(c,{responseType:"text"}).pipe(we(_=>Object.assign(Object.assign({},s),{icon:_})))).pipe(Jo(_=>this.addIcon(_)),ny(()=>this._inProgressFetches.delete(t)),uu(()=>Xn(null)),_n()),this._inProgressFetches.set(t,r)}return r}_loadIconDynamicallyWithJsonp(t,r){return new Y(i=>{const o=this._document.createElement("script"),s=setTimeout(()=>{a(),i.error(new Error(`${Ec}Importing timeout error.`))},6e3);function a(){o.parentNode.removeChild(o),clearTimeout(s)}o.src=r,this._document.body.appendChild(o),this._jsonpIconLoad$.pipe(Qi(l=>l.name===t.name&&l.theme===t.theme),vh(1)).subscribe(l=>{i.next(l),a()})})}_loadSVGFromCacheOrCreateNew(t,r){let i;const o=r||this._twoToneColorPalette.primaryColor,s=bk(o)||this._twoToneColorPalette.secondaryColor,a="twotone"===t.theme?function(n,e,t,r){return`${Hm(n,e)}-${t}-${r}`}(t.name,t.theme,o,s):void 0===t.theme?t.name:Hm(t.name,t.theme),l=this._svgRenderedDefinitions.get(a);return l?i=l.icon:(i=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(function(n){return""!==Bm(n)[1]}(t.name)?t.icon:function(n){return n.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')}(t.icon)),"twotone"===t.theme,o,s)),this._svgRenderedDefinitions.set(a,Object.assign(Object.assign({},t),{icon:i}))),function(n){return n.cloneNode(!0)}(i)}_createSVGElementFromString(t){const r=this._document.createElement("div");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw tae;return i}_setSVGAttribute(t){return this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em"),t}_colorizeSVGIcon(t,r,i,o){if(r){const s=t.childNodes,a=s.length;for(let l=0;l<a;l++){const c=s[l];"secondaryColor"===c.getAttribute("fill")?this._renderer.setAttribute(c,"fill",o):this._renderer.setAttribute(c,"fill",i)}}return this._renderer.setAttribute(t,"fill","currentColor"),t}}return n.\u0275fac=function(t){return new(t||n)(Ke(Ma),Ke(zp,8),Ke(rr,8),Ke(m1))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})(),oae=(()=>{class n{constructor(t,r,i){this._iconService=t,this._elementRef=r,this._renderer=i}ngOnChanges(t){(t.type||t.theme||t.twoToneColor)&&this._changeIcon()}_changeIcon(){return new Promise(t=>{if(this.type){const r=this._getSelfRenderMeta();this._iconService.getRenderedContent(this._parseIconType(this.type,this.theme),this.twoToneColor).subscribe(i=>{!function(n,e){return n.type===e.type&&n.theme===e.theme&&n.twoToneColor===e.twoToneColor}(r,this._getSelfRenderMeta())?t(null):(this._setSVGElement(i),t(i))})}else this._clearSVGElement(),t(null)})}_getSelfRenderMeta(){return{type:this.type,theme:this.theme,twoToneColor:this.twoToneColor}}_parseIconType(t,r){if(wk(t))return t;{const[i,o]=Bm(t);return o?t:function(n){return n.endsWith("-fill")||n.endsWith("-o")||n.endsWith("-twotone")}(i)?(r&&_k(`'type' ${i} already gets a theme inside so 'theme' ${r} would be ignored`),i):Hm(i,r||this._iconService.defaultTheme)}}_setSVGElement(t){this._clearSVGElement(),this._renderer.appendChild(this._elementRef.nativeElement,t)}_clearSVGElement(){var t;const r=this._elementRef.nativeElement,i=r.childNodes;for(let s=i.length-1;s>=0;s--){const a=i[s];"svg"===(null===(t=a.tagName)||void 0===t?void 0:t.toLowerCase())&&this._renderer.removeChild(r,a)}}}return n.\u0275fac=function(t){return new(t||n)(Ae(i9),Ae(jn),Ae(Ri))},n.\u0275dir=tn({type:n,selectors:[["","antIcon",""]],inputs:{type:"type",theme:"theme",twoToneColor:"twoToneColor"},features:[Tn]}),n})();function Pp(n){return e=>e.lift(new sae(n))}class sae{constructor(e){this.value=e}call(e,t){return t.subscribe(new aae(e,this.value))}}class aae extends E{constructor(e,t){super(e),this.value=t}_next(e){this.destination.next(this.value)}}const xk=new Nn("nz-config"),Mk=function(n){return void 0!==n};let R1=(()=>{class n{constructor(t){this.configUpdated$=new ye,this.config=t||{}}getConfigForComponent(t){return this.config[t]}getConfigChangeEventForComponent(t){return this.configUpdated$.pipe(Qi(r=>r===t),Pp(void 0))}set(t,r){this.config[t]=Object.assign(Object.assign({},this.config[t]),r),this.configUpdated$.next(t)}}return n.\u0275fac=function(t){return new(t||n)(Ke(xk,8))},n.\u0275prov=sn({factory:function(){return new n(Ke(xk,8))},token:n,providedIn:"root"}),n})();function F1(){return function(e,t,r){const i=`$$__assignedValue__${t}`;return Object.defineProperty(e,i,{configurable:!0,writable:!0,enumerable:!1}),{get(){const o=(null==r?void 0:r.get)?r.get.bind(this)():this[i];if(((this.assignmentCount||{})[t]||0)>1&&Mk(o))return o;const l=(this.nzConfigService.getConfigForComponent(this._nzModuleName)||{})[t];return Mk(l)?l:o},set(o){this.assignmentCount=this.assignmentCount||{},this.assignmentCount[t]=(this.assignmentCount[t]||0)+1,(null==r?void 0:r.set)?r.set.bind(this)(o):this[i]=o},configurable:!0,enumerable:!0}}}const Sk={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'},Qae=[{name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'},{name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},{name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'},{name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'},{name:"close-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z" /><path d="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"close-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z" /></svg>'},{name:"close",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z" /></svg>'},{name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'},{name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'},{name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'},{name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'},{name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'},{name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'},{name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'},{name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'},{name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'},{name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'},{name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'},{name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'},{name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'},{name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'},{name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'},{name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'},{name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'},{name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'},Sk,{name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'},Sk,{name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'},{name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'},{name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'},{name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'},{name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'},{name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'}],jm=new Nn("nz_icons"),Ck=(new Nn("nz_icon_default_twotone_color"),"#1890ff");let Tk=(()=>{class n extends i9{constructor(t,r,i,o,s,a){super(t,o,s,r),this.nzConfigService=i,this.configUpdated$=new ye,this.iconfontCache=new Set,this.onConfigChange(),this.addIcon(...Qae,...a||[]),this.configDefaultTwotoneColor(),this.configDefaultTheme()}normalizeSvgElement(t){t.getAttribute("viewBox")||this._renderer.setAttribute(t,"viewBox","0 0 1024 1024"),(!t.getAttribute("width")||!t.getAttribute("height"))&&(this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em")),t.getAttribute("fill")||this._renderer.setAttribute(t,"fill","currentColor")}fetchFromIconfont(t){const{scriptUrl:r}=t;if(this._document&&!this.iconfontCache.has(r)){const i=this._renderer.createElement("script");this._renderer.setAttribute(i,"src",r),this._renderer.setAttribute(i,"data-namespace",r.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,i),this.iconfontCache.add(r)}}createIconfontIcon(t){return this._createSVGElementFromString(`<svg><use xlink:href="${t}"></svg>`)}onConfigChange(){this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){const t=this.getConfig();this.defaultTheme=t.nzTheme||"outline"}configDefaultTwotoneColor(){const r=this.getConfig().nzTwotoneColor||Ck;let i=Ck;r&&(r.startsWith("#")?i=r:I7("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:i}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}}return n.\u0275fac=function(t){return new(t||n)(Ke(Ma),Ke(m1),Ke(R1),Ke(zp,8),Ke(rr,8),Ke(jm,8))},n.\u0275prov=sn({factory:function(){return new n(Ke(Ma),Ke(m1),Ke(R1),Ke(zp,8),Ke(rr,8),Ke(jm,8))},token:n,providedIn:"root"}),n})();const Ek=new Nn("nz_icons_patch");let Dk=(()=>{class n{constructor(t,r){this.extraIcons=t,this.rootIconService=r,this.patched=!1}doPatch(){this.patched||(this.extraIcons.forEach(t=>this.rootIconService.addIcon(t)),this.patched=!0)}}return n.\u0275fac=function(t){return new(t||n)(Ke(Ek,2),Ke(Tk))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})(),jl=(()=>{class n extends oae{constructor(t,r,i,o){super(r,t,i),this.iconService=r,this.renderer=i,this.cacheClassName=null,this.nzRotate=0,this.spin=!1,o&&o.doPatch(),this.el=t.nativeElement}set nzSpin(t){this.spin=t}set nzType(t){this.type=t}set nzTheme(t){this.theme=t}set nzTwotoneColor(t){this.twoToneColor=t}set nzIconfont(t){this.iconfont=t}ngOnChanges(t){const{nzType:r,nzTwotoneColor:i,nzSpin:o,nzTheme:s,nzRotate:a}=t;r||i||o||s?this.changeIcon2():a?this.handleRotate(this.el.firstChild):this._setSVGElement(this.iconService.createIconfontIcon(`#${this.iconfont}`))}ngOnInit(){this.renderer.setAttribute(this.el,"class",`anticon ${this.el.className}`.trim())}ngAfterContentChecked(){if(!this.type){const t=this.el.children;let r=t.length;if(!this.type&&t.length)for(;r--;){const i=t[r];"svg"===i.tagName.toLowerCase()&&this.iconService.normalizeSvgElement(i)}}}changeIcon2(){this.setClassName(),this._changeIcon().then(t=>{t&&(this.setSVGData(t),this.handleSpin(t),this.handleRotate(t))})}handleSpin(t){this.spin||"loading"===this.type?this.renderer.addClass(t,"anticon-spin"):this.renderer.removeClass(t,"anticon-spin")}handleRotate(t){this.nzRotate?this.renderer.setAttribute(t,"style",`transform: rotate(${this.nzRotate}deg)`):this.renderer.removeAttribute(t,"style")}setClassName(){this.cacheClassName&&this.renderer.removeClass(this.el,this.cacheClassName),this.cacheClassName=`anticon-${this.type}`,this.renderer.addClass(this.el,this.cacheClassName)}setSVGData(t){this.renderer.setAttribute(t,"data-icon",this.type),this.renderer.setAttribute(t,"aria-hidden","true")}}return n.\u0275fac=function(t){return new(t||n)(Ae(jn),Ae(Tk),Ae(Ri),Ae(Dk,8))},n.\u0275dir=tn({type:n,selectors:[["","nz-icon",""]],hostVars:2,hostBindings:function(t,r){2&t&&Hr("anticon",!0)},inputs:{nzRotate:"nzRotate",nzSpin:"nzSpin",nzType:"nzType",nzTheme:"nzTheme",nzTwotoneColor:"nzTwotoneColor",nzIconfont:"nzIconfont"},exportAs:["nzIcon"],features:[ni,Tn]}),On([Jn(),kn("design:type",Boolean),kn("design:paramtypes",[Boolean])],n.prototype,"nzSpin",null),n})(),Dc=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:jm,useValue:t}]}}static forChild(t){return{ngModule:n,providers:[Dk,{provide:Ek,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({imports:[[Bl]]}),n})();class Jae extends h{constructor(e,t){super()}schedule(e,t=0){return this}}class Um extends Jae{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=!!o&&o||new Error(o)}if(r)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,r=t.actions,i=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let zk=(()=>{class n{constructor(t,r=n.now){this.SchedulerAction=t,this.now=r}schedule(t,r=0,i){return new this.SchedulerAction(this,t).schedule(i,r)}}return n.now=()=>Date.now(),n})();class ul extends zk{constructor(e,t=zk.now){super(e,()=>ul.delegate&&ul.delegate!==this?ul.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,r){return ul.delegate&&ul.delegate!==this?ul.delegate.schedule(e,t,r):super.schedule(e,t,r)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Ym=new ul(Um);class ele{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new tle(e,this.dueTime,this.scheduler))}}class tle extends E{constructor(e,t,r){super(e),this.dueTime=t,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(nle,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function nle(n){n.debouncedNext()}let o9=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=sn({factory:function(){return new n},token:n,providedIn:"root"}),n})(),kk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({providers:[o9]}),n})();class sle extends class{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ye,this._typeaheadSubscription=h.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new ye,this.change=new ye,e instanceof ou&&e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Jo(t=>this._pressedLetters.push(t)),function(n,e=Ym){return t=>t.lift(new ele(n,e))}(e),Qi(()=>this._pressedLetters.length>0),we(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const o=(this._activeItemIndex+i)%r.length,s=r[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||_m(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e),i=t[r];this._activeItem=null==i?null:i,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof ou?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}"undefined"!=typeof Element&&Element;const Hk=new Nn("cdk-focus-monitor-default-options"),Ul=hse({passive:!0,capture:!0});let s9=(()=>{class n{constructor(t,r,i,o){this._ngZone=t,this._platform=r,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=s=>{if(!this._lastTouchTarget){const a=function(n){return 0===n.buttons}(s)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(a)}},this._documentTouchstartListener=s=>{!function(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(s)?(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Gm(s),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)):this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard")},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=s=>{const a=Gm(s),l="focus"===s.type?this._onFocus:this._onBlur;for(let c=a;c;c=c.parentElement)l.call(this,s,c)},this._document=i,this._detectionMode=(null==o?void 0:o.detectionMode)||0}monitor(t,r=!1){const i=Ph(t);if(!this._platform.isBrowser||1!==i.nodeType)return Xn(null);const o=function(n){if(function(){if(null==Y7){const n="undefined"!=typeof document?document.head:null;Y7=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Y7}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;const a={checkChildren:r,subject:new ye,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=Ph(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const o=Ph(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOriginForCurrentEventQueue(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,r,i){i?t.classList.add(r):t.classList.remove(r)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,r){this._toggleClass(t,"cdk-focused",!!r),this._toggleClass(t,"cdk-touch-focused","touch"===r),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===r),this._toggleClass(t,"cdk-mouse-focused","mouse"===r),this._toggleClass(t,"cdk-program-focused","program"===r)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const r=Gm(t);return this._lastTouchTarget instanceof Node&&r instanceof Node&&(r===this._lastTouchTarget||r.contains(this._lastTouchTarget))}_onFocus(t,r){const i=this._elementInfo.get(r);!i||!i.checkChildren&&r!==Gm(t)||this._originChanged(r,this._getFocusOrigin(t),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ul),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ul)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const o=this._getDocument(),s=this._getWindow();o.addEventListener("keydown",this._documentKeydownListener,Ul),o.addEventListener("mousedown",this._documentMousedownListener,Ul),o.addEventListener("touchstart",this._documentTouchstartListener,Ul),s.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ul),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ul),this._rootNodeFocusListenerCount.delete(r))}if(!--this._monitoredElementCount){const i=this._getDocument(),o=this._getWindow();i.removeEventListener("keydown",this._documentKeydownListener,Ul),i.removeEventListener("mousedown",this._documentMousedownListener,Ul),i.removeEventListener("touchstart",this._documentTouchstartListener,Ul),o.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(Ke(yr),Ke(qi),Ke(rr,8),Ke(Hk,8))},n.\u0275prov=sn({factory:function(){return new n(Ke(yr),Ke(qi),Ke(rr,8),Ke(Hk,8))},token:n,providedIn:"root"}),n})();function Gm(n){return n.composedPath?n.composedPath()[0]:n.target}let Dle=(()=>{class n{constructor(t,r){this._elementRef=t,this._focusMonitor=r,this.cdkFocusChange=new Hn}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>this.cdkFocusChange.emit(r))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(Ae(jn),Ae(s9))},n.\u0275dir=tn({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const Bk="cdk-high-contrast-black-on-white",jk="cdk-high-contrast-white-on-black",a9="cdk-high-contrast-active";let zle=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(a9),t.remove(Bk),t.remove(jk);const r=this.getHighContrastMode();1===r?(t.add(a9),t.add(Bk)):2===r&&(t.add(a9),t.add(jk))}}}return n.\u0275fac=function(t){return new(t||n)(Ke(qi),Ke(rr))},n.\u0275prov=sn({factory:function(){return new n(Ke(qi),Ke(rr))},token:n,providedIn:"root"}),n})(),Ale=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(Ke(zle))},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({imports:[[Bl,kk]]}),n})();const Ple=["inputElement"];let Uk=(()=>{class n{constructor(t,r,i,o){this.elementRef=t,this.cdr=r,this.focusMonitor=i,this.directionality=o,this.destroy$=new ye,this.isFocused=!1,this.disabledUp=!1,this.disabledDown=!1,this.dir="ltr",this.onChange=()=>{},this.onTouched=()=>{},this.nzBlur=new Hn,this.nzFocus=new Hn,this.nzSize="default",this.nzMin=-1/0,this.nzMax=1/0,this.nzParser=s=>s.trim().replace(/\u3002/g,".").replace(/[^\w\.-]+/g,""),this.nzPrecisionMode="toFixed",this.nzPlaceHolder="",this.nzStep=1,this.nzInputMode="decimal",this.nzId=null,this.nzDisabled=!1,this.nzAutoFocus=!1,this.nzFormatter=s=>s,this.elementRef.nativeElement.classList.add("ant-input-number")}onModelChange(t){this.parsedValue=this.nzParser(t),this.inputElement.nativeElement.value=`${this.parsedValue}`;const r=this.getCurrentValidValue(this.parsedValue);this.setValue(r)}getCurrentValidValue(t){let r=t;return r=""===r?"":this.isNotCompleteNumber(r)?this.value:`${this.getValidValue(r)}`,this.toNumber(r)}isNotCompleteNumber(t){return isNaN(t)||""===t||null===t||!(!t||t.toString().indexOf(".")!==t.toString().length-1)}getValidValue(t){let r=parseFloat(t);return isNaN(r)?t:(r<this.nzMin&&(r=this.nzMin),r>this.nzMax&&(r=this.nzMax),r)}toNumber(t){if(this.isNotCompleteNumber(t))return t;const r=String(t);if(r.indexOf(".")>=0&&km(this.nzPrecision)){if("function"==typeof this.nzPrecisionMode)return this.nzPrecisionMode(t,this.nzPrecision);if("cut"===this.nzPrecisionMode){const i=r.split(".");return i[1]=i[1].slice(0,this.nzPrecision),Number(i.join("."))}return Number(Number(t).toFixed(this.nzPrecision))}return Number(t)}getRatio(t){let r=1;return t.metaKey||t.ctrlKey?r=.1:t.shiftKey&&(r=10),r}down(t,r){this.isFocused||this.focus(),this.step("down",t,r)}up(t,r){this.isFocused||this.focus(),this.step("up",t,r)}getPrecision(t){const r=t.toString();if(r.indexOf("e-")>=0)return parseInt(r.slice(r.indexOf("e-")+2),10);let i=0;return r.indexOf(".")>=0&&(i=r.length-r.indexOf(".")-1),i}getMaxPrecision(t,r){if(km(this.nzPrecision))return this.nzPrecision;const i=this.getPrecision(r),o=this.getPrecision(this.nzStep),s=this.getPrecision(t);return t?Math.max(s,i+o):i+o}getPrecisionFactor(t,r){const i=this.getMaxPrecision(t,r);return Math.pow(10,i)}upStep(t,r){const i=this.getPrecisionFactor(t,r),o=Math.abs(this.getMaxPrecision(t,r));let s;return s="number"==typeof t?((i*t+i*this.nzStep*r)/i).toFixed(o):this.nzMin===-1/0?this.nzStep:this.nzMin,this.toNumber(s)}downStep(t,r){const i=this.getPrecisionFactor(t,r),o=Math.abs(this.getMaxPrecision(t,r));let s;return s="number"==typeof t?((i*t-i*this.nzStep*r)/i).toFixed(o):this.nzMin===-1/0?-this.nzStep:this.nzMin,this.toNumber(s)}step(t,r,i=1){if(this.stop(),r.preventDefault(),this.nzDisabled)return;const o=this.getCurrentValidValue(this.parsedValue)||0;let s=0;"up"===t?s=this.upStep(o,i):"down"===t&&(s=this.downStep(o,i));const a=s>this.nzMax||s<this.nzMin;s>this.nzMax?s=this.nzMax:s<this.nzMin&&(s=this.nzMin),this.setValue(s),this.updateDisplayValue(s),this.isFocused=!0,!a&&(this.autoStepTimer=setTimeout(()=>{this[t](r,i)},300))}stop(){this.autoStepTimer&&clearTimeout(this.autoStepTimer)}setValue(t){if(`${this.value}`!=`${t}`&&this.onChange(t),this.value=t,this.parsedValue=t,this.disabledUp=this.disabledDown=!1,t||0===t){const r=Number(t);r>=this.nzMax&&(this.disabledUp=!0),r<=this.nzMin&&(this.disabledDown=!0)}}updateDisplayValue(t){const r=km(this.nzFormatter(t))?this.nzFormatter(t):"";this.displayValue=r,this.inputElement.nativeElement.value=`${r}`}onKeyDown(t){if(38===t.keyCode){const r=this.getRatio(t);this.up(t,r),this.stop()}else if(40===t.keyCode){const r=this.getRatio(t);this.down(t,r),this.stop()}else 13===t.keyCode&&this.updateDisplayValue(this.value)}writeValue(t){this.value=t,this.setValue(t),this.updateDisplayValue(t),this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.nzDisabled=t,this.cdr.markForCheck()}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}ngOnInit(){var t;this.focusMonitor.monitor(this.elementRef,!0).subscribe(r=>{r?(this.isFocused=!0,this.nzFocus.emit()):(this.isFocused=!1,this.updateDisplayValue(this.value),this.nzBlur.emit(),Promise.resolve().then(()=>this.onTouched()))}),this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(wr(this.destroy$)).subscribe(r=>{this.dir=r})}ngOnChanges(t){if(t.nzFormatter&&!t.nzFormatter.isFirstChange()){const r=this.getCurrentValidValue(this.parsedValue);this.setValue(r),this.updateDisplayValue(r)}}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(Ae(jn),Ae(wo),Ae(s9),Ae(eo,8))},n.\u0275cmp=tr({type:n,selectors:[["nz-input-number"]],viewQuery:function(t,r){if(1&t&&mi(Ple,7),2&t){let i;gr(i=vr())&&(r.inputElement=i.first)}},hostVars:10,hostBindings:function(t,r){2&t&&Hr("ant-input-number-focused",r.isFocused)("ant-input-number-lg","large"===r.nzSize)("ant-input-number-sm","small"===r.nzSize)("ant-input-number-disabled",r.nzDisabled)("ant-input-number-rtl","rtl"===r.dir)},inputs:{nzSize:"nzSize",nzMin:"nzMin",nzMax:"nzMax",nzParser:"nzParser",nzPrecisionMode:"nzPrecisionMode",nzPlaceHolder:"nzPlaceHolder",nzStep:"nzStep",nzInputMode:"nzInputMode",nzId:"nzId",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus",nzFormatter:"nzFormatter",nzPrecision:"nzPrecision"},outputs:{nzBlur:"nzBlur",nzFocus:"nzFocus"},exportAs:["nzInputNumber"],features:[Rr([{provide:aa,useExisting:fr(()=>n),multi:!0}]),Tn],decls:8,vars:13,consts:[[1,"ant-input-number-handler-wrap"],["unselectable","unselectable",1,"ant-input-number-handler","ant-input-number-handler-up",3,"mousedown","mouseup","mouseleave"],["nz-icon","","nzType","up",1,"ant-input-number-handler-up-inner"],["unselectable","unselectable",1,"ant-input-number-handler","ant-input-number-handler-down",3,"mousedown","mouseup","mouseleave"],["nz-icon","","nzType","down",1,"ant-input-number-handler-down-inner"],[1,"ant-input-number-input-wrap"],["autocomplete","off",1,"ant-input-number-input",3,"disabled","placeholder","ngModel","keydown","keyup","ngModelChange"],["inputElement",""]],template:function(t,r){1&t&&(Pt(0,"div",0),Pt(1,"span",1),nr("mousedown",function(o){return r.up(o)})("mouseup",function(){return r.stop()})("mouseleave",function(){return r.stop()}),Vn(2,"i",2),kt(),Pt(3,"span",3),nr("mousedown",function(o){return r.down(o)})("mouseup",function(){return r.stop()})("mouseleave",function(){return r.stop()}),Vn(4,"i",4),kt(),kt(),Pt(5,"div",5),Pt(6,"input",6,7),nr("keydown",function(o){return r.onKeyDown(o)})("keyup",function(){return r.stop()})("ngModelChange",function(o){return r.onModelChange(o)}),kt(),kt()),2&t&&(an(1),Hr("ant-input-number-handler-up-disabled",r.disabledUp),an(2),Hr("ant-input-number-handler-down-disabled",r.disabledDown),an(3),Wt("disabled",r.nzDisabled)("placeholder",r.nzPlaceHolder)("ngModel",r.displayValue),Ds("id",r.nzId)("autofocus",r.nzAutoFocus?"autofocus":null)("min",r.nzMin)("max",r.nzMax)("step",r.nzStep)("inputmode",r.nzInputMode))},directives:[jl,wm,L1,zh],encapsulation:2,changeDetection:0}),On([Jn(),kn("design:type",Object)],n.prototype,"nzDisabled",void 0),On([Jn(),kn("design:type",Object)],n.prototype,"nzAutoFocus",void 0),n})(),kle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({imports:[[Aa,ia,O7,Dc]]}),n})(),kp=(()=>{class n{constructor(t,r){this.elementRef=t,this.renderer=r,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}setHiddenAttribute(){!0===this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden",""):!1===this.hidden||null===this.hidden?this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden"):"string"==typeof this.hidden&&this.renderer.setAttribute(this.elementRef.nativeElement,"hidden",this.hidden)}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}}return n.\u0275fac=function(t){return new(t||n)(Ae(jn),Ae(Ri))},n.\u0275dir=tn({type:n,selectors:[["","nz-button",""],["nz-button-group"],["","nz-icon",""],["","nz-menu-item",""],["","nz-submenu",""],["nz-select-top-control"],["nz-select-placeholder"],["nz-input-group"]],inputs:{hidden:"hidden"},features:[Tn]}),n})(),Yk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({imports:[[Bl]]}),n})();class Gk{}const zc="*";function Yl(n,e){return{type:7,name:n,definitions:e,options:{}}}function to(n,e=null){return{type:4,styles:e,timings:n}}function Wk(n,e=null){return{type:2,steps:n,options:e}}function kr(n){return{type:6,styles:n,offset:null}}function _u(n,e,t){return{type:0,name:n,styles:e,options:t}}function vo(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function qk(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function $k(n,e){return{type:12,timings:n,animation:e}}function Xk(n){Promise.resolve(null).then(n)}class N1{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Xk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Kk{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?Xk(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function Zk(){return"undefined"!=typeof window&&void 0!==window.document}function c9(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function bu(n){switch(n.length){case 0:return new N1;case 1:return n[0];default:return new Kk(n)}}function Qk(n,e,t,r,i={},o={}){const s=[],a=[];let l=-1,c=null;if(r.forEach(p=>{const _=p.offset,S=_==l,D=S&&c||{};Object.keys(p).forEach(k=>{let N=k,B=p[k];if("offset"!==k)switch(N=e.normalizePropertyName(N,s),B){case"!":B=i[k];break;case zc:B=o[k];break;default:B=e.normalizeStyleValue(k,N,B,s)}D[N]=B}),S||a.push(D),c=D,l=_}),s.length){const p="\n - ";throw new Error(`Unable to animate due to the following errors:${p}${s.join(p)}`)}return a}function u9(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&h9(t,"start",n)));break;case"done":n.onDone(()=>r(t&&h9(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&h9(t,"destroy",n)))}}function h9(n,e,t){const r=t.totalTime,o=d9(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function d9(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function ca(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function Jk(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let f9=(n,e)=>!1,p9=(n,e)=>!1,eL=(n,e,t)=>[];const tL=c9();(tL||"undefined"!=typeof Element)&&(f9=Zk()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),p9=(()=>{if(tL||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):p9}})(),eL=(n,e,t)=>{let r=[];if(t){const i=n.querySelectorAll(e);for(let o=0;o<i.length;o++)r.push(i[o])}else{const i=n.querySelector(e);i&&r.push(i)}return r});let Oh=null,nL=!1;function m9(n){Oh||(Oh=("undefined"!=typeof document?document.body:null)||{},nL=!!Oh.style&&"WebkitAppearance"in Oh.style);let e=!0;return Oh.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Oh.style,!e&&nL&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Oh.style)),e}const g9=p9,v9=f9,y9=eL;function rL(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let iL=(()=>{class n{validateStyleProperty(t){return m9(t)}matchesElement(t,r){return g9(t,r)}containsElement(t,r){return v9(t,r)}query(t,r,i){return y9(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],l){return new N1(i,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})(),_9=(()=>{class n{}return n.NOOP=new iL,n})();const b9="ng-enter",Wm="ng-leave",qm="ng-trigger",$m=".ng-trigger",sL="ng-animating",w9=".ng-animating";function Ih(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:x9(parseFloat(e[1]),e[2])}function x9(n,e){switch(e){case"s":return 1e3*n;default:return n}}function Xm(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let i,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=x9(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=x9(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),a=!0),o<0&&(e.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&e.splice(l,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:o,easing:s}}(n,e,t)}function V1(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function wu(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else V1(n,t);return t}function lL(n,e,t){return t?e+":"+t+";":""}function cL(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=lL(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=lL(0,Ble(t),n.style[t]));n.setAttribute("style",e)}function Gl(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=S9(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),c9()&&cL(n))}function Rh(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=S9(t);n.style[r]=""}),c9()&&cL(n))}function Lp(n){return Array.isArray(n)?1==n.length?n[0]:Wk(n):n}const M9=new RegExp("{{\\s*(.+?)\\s*}}","g");function uL(n){let e=[];if("string"==typeof n){let t;for(;t=M9.exec(n);)e.push(t[1]);M9.lastIndex=0}return e}function Km(n,e,t){const r=n.toString(),i=r.replace(M9,(o,s)=>{let a=e[s];return e.hasOwnProperty(s)||(t.push(`Please provide a value for the animation param ${s}`),a=""),a.toString()});return i==r?n:i}function Zm(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Hle=/-+([a-z0-9])/g;function S9(n){return n.replace(Hle,(...e)=>e[1].toUpperCase())}function Ble(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function hL(n,e){return 0===n||0===e}function dL(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(a=>{o.hasOwnProperty(a)||s.push(a),o[a]=t[a]}),s.length)for(var i=1;i<e.length;i++){let a=e[i];s.forEach(function(l){a[l]=C9(n,l)})}}return e}function ua(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function C9(n,e){return window.getComputedStyle(n)[e]}function jle(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const l=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(fL(i,s));"<"==o[0]&&!("*"==i&&"*"==s)&&e.push(fL(s,i))}(r,t,e)):t.push(n),t}const Jm=new Set(["true","1"]),e8=new Set(["false","0"]);function fL(n,e){const t=Jm.has(n)||e8.has(n),r=Jm.has(e)||e8.has(e);return(i,o)=>{let s="*"==n||n==i,a="*"==e||e==o;return!s&&t&&"boolean"==typeof i&&(s=i?Jm.has(n):e8.has(n)),!a&&r&&"boolean"==typeof o&&(a=o?Jm.has(e):e8.has(e)),s&&a}}const Gle=new RegExp("s*:selfs*,?","g");function T9(n,e,t){return new Wle(n).build(e,t)}class Wle{constructor(e){this._driver=e}build(e,t){const r=new Xle(t);return this._resetContextStyleTimingState(r),ua(this,Lp(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(p=>{l.name=p,o.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,s.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};if(r.styles.forEach(a=>{if(t8(a)){const l=a;Object.keys(l).forEach(c=>{uL(l[c]).forEach(p=>{s.hasOwnProperty(p)||o.add(p)})})}}),o.size){const a=Zm(o.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ua(this,Lp(e.animation),t);return{type:1,matchers:jle(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Fh(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ua(this,r,t)),options:Fh(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(s=>{t.currentTime=r;const a=ua(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:o,options:Fh(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return E9(Xm(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=E9(0,0,"");return o.dynamic=!0,o.strValue=r,o}return t=t||Xm(r,e),E9(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:kr({});if(5==o.type)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const c={};r.easing&&(c.easing=r.easing),s=kr(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(s=>{"string"==typeof s?s==zc?r.push(s):t.errors.push(`The provided style string value ${s} is not allowed.`):r.push(s)}):r.push(e.styles);let i=!1,o=null;return r.forEach(s=>{if(t8(s)){const a=s,l=a.easing;if(l&&(o=l,delete a.easing),!i)for(let c in a)if(a[c].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{"string"!=typeof s&&Object.keys(s).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void t.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=t.collectedStyles[t.currentQuerySelector],c=l[a];let p=!0;c&&(o!=i&&o>=c.startTime&&i<=c.endTime&&(t.errors.push(`The CSS property "${a}" that exists between the times of "${c.startTime}ms" and "${c.endTime}ms" is also being animated in a parallel animation between the times of "${o}ms" and "${i}ms"`),p=!1),o=c.startTime),p&&(l[a]={startTime:o,endTime:i}),t.options&&function(n,e,t){const r=e.params||{},i=uL(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(`Unable to resolve the local animation param ${o} in the given list of values`)})}(s[a],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let o=0;const s=[];let a=!1,l=!1,c=0;const p=e.steps.map(F=>{const I=this._makeStyleAst(F,t);let X=null!=I.offset?I.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t8(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(t8(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(I.styles),$=0;return null!=X&&(o++,$=I.offset=X),l=l||$<0||$>1,a=a||$<c,c=$,s.push($),I});l&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");const _=e.steps.length;let S=0;o>0&&o<_?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==o&&(S=1/(_-1));const D=_-1,k=t.currentTime,N=t.currentAnimateTimings,B=N.duration;return p.forEach((F,I)=>{const X=S>0?I==D?1:S*I:s[I],$=X*B;t.currentTime=k+N.delay+$,N.duration=$,this._validateStyleAst(F,t),F.offset=X,r.styles.push(F)}),r}visitReference(e,t){return{type:8,animation:ua(this,Lp(e.animation),t),options:Fh(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Fh(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Fh(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Gle,"")),[n=n.replace(/@\*/g,$m).replace(/@\w+/g,t=>$m+"-"+t.substr(1)).replace(/:animating/g,w9),e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,ca(t.collectedStyles,t.currentQuerySelector,{});const a=ua(this,Lp(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Fh(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Xm(e.timings,t.errors,!0);return{type:12,animation:ua(this,Lp(e.animation),t),timings:r,options:null}}}class Xle{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function t8(n){return!Array.isArray(n)&&"object"==typeof n}function Fh(n){return n?(n=V1(n)).params&&(n.params=function(n){return n?V1(n):null}(n.params)):n={},n}function E9(n,e,t){return{duration:n,delay:e,easing:t}}function D9(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class n8{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const ece=new RegExp(":enter","g"),nce=new RegExp(":leave","g");function z9(n,e,t,r,i,o={},s={},a,l,c=[]){return(new rce).buildKeyframes(n,e,t,r,i,o,s,a,l,c)}class rce{buildKeyframes(e,t,r,i,o,s,a,l,c,p=[]){c=c||new n8;const _=new A9(e,t,c,i,o,p,[]);_.options=l,_.currentTimeline.setStyles([s],null,_.errors,l),ua(this,r,_);const S=_.timelines.filter(D=>D.containsAnimation());if(S.length&&Object.keys(a).length){const D=S[S.length-1];D.allowOnlyTimelineStyles()||D.setStyles([a],null,_.errors,l)}return S.length?S.map(D=>D.buildKeyframes()):[D9(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const s=null!=r.duration?Ih(r.duration):null,a=null!=r.delay?Ih(r.delay):null;return 0!==s&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),ua(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=r8);const s=Ih(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>ua(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Ih(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),ua(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Xm(t.params?Km(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Ih(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=r8);let s=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,p)=>{t.currentQueryIndex=p;const _=t.createSubContext(e.options,c);o&&_.delayNextStep(o),c===t.element&&(l=_.currentTimeline),ua(this,e.animation,_),_.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,_.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const p=t.currentTimeline;l&&p.delayNextStep(l);const _=p.currentTime;ua(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-_+(i.startTime-r.currentTimeline.startTime)}}const r8={};class A9{constructor(e,t,r,i,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=r8,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new i8(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Ih(r.duration)),null!=r.delay&&(i.delay=Ih(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Km(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new A9(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=r8,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},o=new ice(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(ece,"."+this._enterClassName)).replace(nce,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!o&&0==a.length&&s.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),a}}class i8{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new i8(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||zc,this._currentKeyframe[t]=zc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const o=i&&i.params||{},s=function(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(o=>{t[o]=zc})):wu(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(s).forEach(a=>{const l=Km(s[a],o,r);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:zc),this._updateStyle(a,l)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=wu(a,!0);Object.keys(c).forEach(p=>{const _=c[p];"!"==_?e.add(p):_==zc&&t.add(p)}),r||(c.offset=l/this.duration),i.push(c)});const o=e.size?Zm(e.values()):[],s=t.size?Zm(t.values()):[];if(r){const a=i[0],l=V1(a);a.offset=0,l.offset=1,i=[a,l]}return D9(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class ice extends i8{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=r+t,a=t/s,l=wu(e[0],!1);l.offset=0,o.push(l);const c=wu(e[0],!1);c.offset=gL(a),o.push(c);const p=e.length-1;for(let _=1;_<=p;_++){let S=wu(e[_],!1);S.offset=gL((t+S.offset*r)/s),o.push(S)}r=s,t=0,i="",e=o}return D9(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function gL(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class P9{}class sce extends P9{normalizePropertyName(e,t){return S9(e)}normalizeStyleValue(e,t,r,i){let o="";const s=r.toString().trim();if(ace[t]&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(`Please provide a CSS unit value for ${e}:${r}`)}return s+o}}const ace=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function vL(n,e,t,r,i,o,s,a,l,c,p,_,S){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:p,totalTime:_,errors:S}}const k9={};class yL{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],o=this._stateStyles[e],s=i?i.buildStyles(t,r):{};return o?o.buildStyles(t,r):s}build(e,t,r,i,o,s,a,l,c,p){const _=[],S=this.ast.options&&this.ast.options.params||k9,k=this.buildStyles(r,a&&a.params||k9,_),N=l&&l.params||k9,B=this.buildStyles(i,N,_),F=new Set,I=new Map,X=new Map,$="void"===i,re={params:Object.assign(Object.assign({},S),N)},de=p?[]:z9(e,t,this.ast.animation,o,s,k,B,re,c,_);let se=0;if(de.forEach(He=>{se=Math.max(He.duration+He.delay,se)}),_.length)return vL(t,this._triggerName,r,i,$,k,B,[],[],I,X,se,_);de.forEach(He=>{const Oe=He.element,ve=ca(I,Oe,{});He.preStyleProps.forEach(je=>ve[je]=!0);const st=ca(X,Oe,{});He.postStyleProps.forEach(je=>st[je]=!0),Oe!==t&&F.add(Oe)});const Me=Zm(F.values());return vL(t,this._triggerName,r,i,$,k,B,de,Me,I,X,se)}}class uce{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=V1(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!=s&&(i[o]=s)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const s=o;Object.keys(s).forEach(a=>{let l=s[a];l.length>1&&(l=Km(l,i,t));const c=this.normalizer.normalizePropertyName(a,t);l=this.normalizer.normalizeStyleValue(a,c,l,t),r[c]=l})}}),r}}class dce{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new uce(i.style,i.options&&i.options.params||{},r)}),_L(this.states,"true","1"),_L(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new yL(e,i,this.states))}),this.fallbackTransition=function(n,e,t){return new yL(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function _L(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const pce=new n8;class mce{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],i=T9(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,r){const i=e.element,o=Qk(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations[e];let s;const a=new Map;if(o?(s=z9(this._driver,t,o,b9,Wm,{},{},r,pce,i),s.forEach(p=>{const _=ca(a,p.element,{});p.postStyleProps.forEach(S=>_[S]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),s=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);a.forEach((p,_)=>{Object.keys(p).forEach(S=>{p[S]=this._driver.computeStyle(_,S,zc)})});const c=bu(s.map(p=>{const _=a.get(p.element);return this._buildPlayer(p,{},_)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,i){const o=d9(t,"","","");return u9(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const bL="ng-animate-queued",wL="ng-animate-disabled",xL=".ng-animate-disabled",_ce=[],ML={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bce={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Pa="__ng_removed";class L9{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(r?e.value:e),r){const o=V1(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Op="void",O9=new L9(Op);class wce{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ka(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const o=ca(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);const a=ca(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(ka(e,qm),ka(e,qm+"-"+t),a[t]=O9),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),s=new I9(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(ka(e,qm),ka(e,qm+"-"+t),this._engine.statesByElement.set(e,a={}));let l=a[t];const c=new L9(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[t]=c,l||(l=O9),c.value!==Op&&l.value===c.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,c.params)){const N=[],B=o.matchStyles(l.value,l.params,N),F=o.matchStyles(c.value,c.params,N);N.length?this._engine.reportError(N):this._engine.afterFlush(()=>{Rh(e,B),Gl(e,F)})}return}const S=ca(this._engine.playersByElement,e,[]);S.forEach(N=>{N.namespaceId==this.id&&N.triggerName==t&&N.queued&&N.destroy()});let D=o.matchTransition(l.value,c.value,e,c.params),k=!1;if(!D){if(!i)return;D=o.fallbackTransition,k=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:D,fromState:l,toState:c,player:s,isFallbackTransition:k}),k||(ka(e,bL),s.onStart(()=>{H1(e,bL)})),s.onDone(()=>{let N=this.players.indexOf(s);N>=0&&this.players.splice(N,1);const B=this._engine.playersByElement.get(e);if(B){let F=B.indexOf(s);F>=0&&B.splice(F,1)}}),this.players.push(s),S.push(s),s}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,$m,!0);r.forEach(i=>{if(i[Pa])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e);if(o){const s=[];if(Object.keys(o).forEach(a=>{if(this._triggers[a]){const l=this.trigger(e,a,Op,i);l&&s.push(l)}}),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&bu(s).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const l=this._triggers[s].fallbackTransition,c=r[s]||O9,p=new L9(Op),_=new I9(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:p,player:_,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Pa];(!o||o===ML)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ka(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const l=d9(o,r.triggerName,r.fromState.value,r.toState.value);l._data=e,u9(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class xce{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new wce(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let o=r;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,t)){this._namespaceList.splice(o+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let o=0;o<i.length;o++){const s=r[i[o]].namespaceId;if(s){const a=this._fetchNamespace(s);a&&t.add(a)}}}return t}trigger(e,t,r,i){if(o8(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!o8(t))return;const o=t[Pa];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ka(e,wL)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),H1(e,wL))}removeNode(e,t,r,i){if(o8(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i){this.collectedLeaveElements.push(t),t[Pa]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,i,o){return o8(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,$m,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,w9,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return bu(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Pa];if(t&&t.setForRemoval){if(e[Pa]=ML,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,xL)&&this.markElementAsDisabled(e,!1),this.driver.query(e,xL,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ka(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?bu(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new n8,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,p=new Set;this.disabledNodes.forEach(he=>{p.add(he);const ke=this.driver.query(he,".ng-animate-queued",!0);for(let et=0;et<ke.length;et++)p.add(ke[et])});const _=this.bodyNode,S=Array.from(this.statesByElement.keys()),D=TL(S,this.collectedEnterElements),k=new Map;let N=0;D.forEach((he,ke)=>{const et=b9+N++;k.set(ke,et),he.forEach(rt=>ka(rt,et))});const B=[],F=new Set,I=new Set;for(let he=0;he<this.collectedLeaveElements.length;he++){const ke=this.collectedLeaveElements[he],et=ke[Pa];et&&et.setForRemoval&&(B.push(ke),F.add(ke),et.hasAnimation?this.driver.query(ke,".ng-star-inserted",!0).forEach(rt=>F.add(rt)):I.add(ke))}const X=new Map,$=TL(S,Array.from(F));$.forEach((he,ke)=>{const et=Wm+N++;X.set(ke,et),he.forEach(rt=>ka(rt,et))}),e.push(()=>{D.forEach((he,ke)=>{const et=k.get(ke);he.forEach(rt=>H1(rt,et))}),$.forEach((he,ke)=>{const et=X.get(ke);he.forEach(rt=>H1(rt,et))}),B.forEach(he=>{this.processLeaveNode(he)})});const re=[],de=[];for(let he=this._namespaceList.length-1;he>=0;he--)this._namespaceList[he].drainQueuedTransitions(t).forEach(et=>{const rt=et.player,yt=et.element;if(re.push(rt),this.collectedEnterElements.length){const at=yt[Pa];if(at&&at.setForMove)return void rt.destroy()}const vt=!_||!this.driver.containsElement(_,yt),Ft=X.get(yt),xt=k.get(yt),zt=this._buildInstruction(et,r,xt,Ft,vt);if(zt.errors&&zt.errors.length)de.push(zt);else{if(vt)return rt.onStart(()=>Rh(yt,zt.fromStyles)),rt.onDestroy(()=>Gl(yt,zt.toStyles)),void i.push(rt);if(et.isFallbackTransition)return rt.onStart(()=>Rh(yt,zt.fromStyles)),rt.onDestroy(()=>Gl(yt,zt.toStyles)),void i.push(rt);zt.timelines.forEach(at=>at.stretchStartingKeyframe=!0),r.append(yt,zt.timelines),s.push({instruction:zt,player:rt,element:yt}),zt.queriedElements.forEach(at=>ca(a,at,[]).push(rt)),zt.preStyleProps.forEach((at,qt)=>{const gn=Object.keys(at);if(gn.length){let nn=l.get(qt);nn||l.set(qt,nn=new Set),gn.forEach(ln=>nn.add(ln))}}),zt.postStyleProps.forEach((at,qt)=>{const gn=Object.keys(at);let nn=c.get(qt);nn||c.set(qt,nn=new Set),gn.forEach(ln=>nn.add(ln))})}});if(de.length){const he=[];de.forEach(ke=>{he.push(`@${ke.triggerName} has failed due to:\n`),ke.errors.forEach(et=>he.push(`- ${et}\n`))}),re.forEach(ke=>ke.destroy()),this.reportError(he)}const se=new Map,Me=new Map;s.forEach(he=>{const ke=he.element;r.has(ke)&&(Me.set(ke,ke),this._beforeAnimationBuild(he.player.namespaceId,he.instruction,se))}),i.forEach(he=>{const ke=he.element;this._getPreviousPlayers(ke,!1,he.namespaceId,he.triggerName,null).forEach(rt=>{ca(se,ke,[]).push(rt),rt.destroy()})});const He=B.filter(he=>DL(he,l,c)),Oe=new Map;CL(Oe,this.driver,I,c,zc).forEach(he=>{DL(he,l,c)&&He.push(he)});const st=new Map;D.forEach((he,ke)=>{CL(st,this.driver,new Set(he),l,"!")}),He.forEach(he=>{const ke=Oe.get(he),et=st.get(he);Oe.set(he,Object.assign(Object.assign({},ke),et))});const je=[],ge=[],xe={};s.forEach(he=>{const{element:ke,player:et,instruction:rt}=he;if(r.has(ke)){if(p.has(ke))return et.onDestroy(()=>Gl(ke,rt.toStyles)),et.disabled=!0,et.overrideTotalTime(rt.totalTime),void i.push(et);let yt=xe;if(Me.size>1){let Ft=ke;const xt=[];for(;Ft=Ft.parentNode;){const zt=Me.get(Ft);if(zt){yt=zt;break}xt.push(Ft)}xt.forEach(zt=>Me.set(zt,yt))}const vt=this._buildAnimation(et.namespaceId,rt,se,o,st,Oe);if(et.setRealPlayer(vt),yt===xe)je.push(et);else{const Ft=this.playersByElement.get(yt);Ft&&Ft.length&&(et.parentPlayer=bu(Ft)),i.push(et)}}else Rh(ke,rt.fromStyles),et.onDestroy(()=>Gl(ke,rt.toStyles)),ge.push(et),p.has(ke)&&i.push(et)}),ge.forEach(he=>{const ke=o.get(he.element);if(ke&&ke.length){const et=bu(ke);he.setRealPlayer(et)}}),i.forEach(he=>{he.parentPlayer?he.syncPlayerEvents(he.parentPlayer):he.destroy()});for(let he=0;he<B.length;he++){const ke=B[he],et=ke[Pa];if(H1(ke,Wm),et&&et.hasAnimation)continue;let rt=[];if(a.size){let vt=a.get(ke);vt&&vt.length&&rt.push(...vt);let Ft=this.driver.query(ke,w9,!0);for(let xt=0;xt<Ft.length;xt++){let zt=a.get(Ft[xt]);zt&&zt.length&&rt.push(...zt)}}const yt=rt.filter(vt=>!vt.destroyed);yt.length?Tce(this,ke,yt):this.processLeaveNode(ke)}return B.length=0,je.forEach(he=>{this.players.push(he),he.onDone(()=>{he.destroy();const ke=this.players.indexOf(he);this.players.splice(ke,1)}),he.play()}),je}elementContainsData(e,t){let r=!1;const i=t[Pa];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==Op;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,p=c!==o,_=ca(r,c,[]);this._getPreviousPlayers(c,p,s,a,t.toState).forEach(D=>{const k=D.getRealPlayer();k.beforeDestroy&&k.beforeDestroy(),D.destroy(),_.push(D)})}Rh(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){const a=t.triggerName,l=t.element,c=[],p=new Set,_=new Set,S=t.timelines.map(k=>{const N=k.element;p.add(N);const B=N[Pa];if(B&&B.removedBeforeQueried)return new N1(k.duration,k.delay);const F=N!==l,I=function(n){const e=[];return EL(n,e),e}((r.get(N)||_ce).map(se=>se.getRealPlayer())).filter(se=>!!se.element&&se.element===N),X=o.get(N),$=s.get(N),re=Qk(0,this._normalizer,0,k.keyframes,X,$),de=this._buildPlayer(k,re,I);if(k.subTimeline&&i&&_.add(N),F){const se=new I9(e,a,N);se.setRealPlayer(de),c.push(se)}return de});c.forEach(k=>{ca(this.playersByQueriedElement,k.element,[]).push(k),k.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,k.element,k))}),p.forEach(k=>ka(k,sL));const D=bu(S);return D.onDestroy(()=>{p.forEach(k=>H1(k,sL)),Gl(l,t.toStyles)}),_.forEach(k=>{ca(i,k,[]).push(D)}),D}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new N1(e.duration,e.delay)}}class I9{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new N1,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>u9(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ca(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function o8(n){return n&&1===n.nodeType}function SL(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function CL(n,e,t,r,i){const o=[];t.forEach(l=>o.push(SL(l)));const s=[];r.forEach((l,c)=>{const p={};l.forEach(_=>{const S=p[_]=e.computeStyle(c,_,i);(!S||0==S.length)&&(c[Pa]=bce,s.push(c))}),n.set(c,p)});let a=0;return t.forEach(l=>SL(l,o[a++])),s}function TL(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:s(c),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&t.get(l).push(a)}),t}const s8="$$classes";function ka(n,e){if(n.classList)n.classList.add(e);else{let t=n[s8];t||(t=n[s8]={}),t[e]=!0}}function H1(n,e){if(n.classList)n.classList.remove(e);else{let t=n[s8];t&&delete t[e]}}function Tce(n,e,t){bu(t).onDone(()=>n.processLeaveNode(e))}function EL(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Kk?EL(r.players,e):e.push(r)}}function DL(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class a8{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new xce(e,t,r),this._timelineEngine=new mce(e,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){const s=e+"-"+i;let a=this._triggerCache[s];if(!a){const l=[],c=T9(this._driver,o,l);if(l.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function(n,e,t){return new dce(n,e,t)}(i,c,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,s]=Jk(r);this._timelineEngine.command(o,t,s,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[s,a]=Jk(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function zL(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=R9(e[0]),e.length>1&&(r=R9(e[e.length-1]))):e&&(t=R9(e)),t||r?new zce(n,t,r):null}let zce=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Gl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Gl(this._element,this._initialStyles),this._endStyles&&(Gl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Rh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Rh(this._element,this._endStyles),this._endStyles=null),Gl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function R9(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];Ace(i)&&(e=e||{},e[i]=n[i])}return e}function Ace(n){return"display"===n||"position"===n}const AL="animation",PL="animationend";class Lce{constructor(e,t,r,i,o,s,a){this._element=e,this._name=t,this._duration=r,this._delay=i,this._easing=o,this._fillMode=s,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(n,e){const t=N9(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),l8(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),OL(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){kL(this._element,this._name,"paused")}resume(){kL(this._element,this._name,"running")}setPosition(e){const t=LL(this._element,this._name);this._position=e*this._duration,l8(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),OL(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=N9(n,"").split(","),i=F9(r,e);i>=0&&(r.splice(i,1),l8(n,"",r.join(",")))}(this._element,this._name))}}function kL(n,e,t){l8(n,"PlayState",t,LL(n,e))}function LL(n,e){const t=N9(n,"");return t.indexOf(",")>0?F9(t.split(","),e):F9([t],e)}function F9(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function OL(n,e,t){t?n.removeEventListener(PL,e):n.addEventListener(PL,e)}function l8(n,e,t,r){const i=AL+e;if(null!=r){const o=n.style[i];if(o.length){const s=o.split(",");s[r]=t,t=s.join(",")}}n.style[i]=t}function N9(n,e){return n.style[AL+e]||""}class IL{constructor(e,t,r,i,o,s,a,l){this.element=e,this.keyframes=t,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+o,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Lce(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:C9(this.element,r))})}this.currentSnapshot=e}}class Vce extends N1{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=rL(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class FL{constructor(){this._count=0}validateStyleProperty(e){return m9(e)}matchesElement(e,t){return g9(e,t)}containsElement(e,t){return v9(e,t)}query(e,t,r){return y9(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(a=>rL(a));let i=`@keyframes ${t} {\n`,o="";r.forEach(a=>{o=" ";const l=parseFloat(a.offset);i+=`${o}${100*l}% {\n`,o+=" ",Object.keys(a).forEach(c=>{const p=a[c];switch(c){case"offset":return;case"easing":return void(p&&(i+=`${o}animation-timing-function: ${p};\n`));default:return void(i+=`${o}${c}: ${p};\n`)}}),i+=`${o}}\n`}),i+="}\n";const s=document.createElement("style");return s.textContent=i,s}animate(e,t,r,i,o,s=[],a){const l=s.filter(B=>B instanceof IL),c={};hL(r,i)&&l.forEach(B=>{let F=B.currentSnapshot;Object.keys(F).forEach(I=>c[I]=F[I])});const p=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(e[i]=r[i])})}),e}(t=dL(e,t,c));if(0==r)return new Vce(e,p);const _="gen_css_kf_"+this._count++,S=this.buildKeyframeElement(e,_,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(S);const k=zL(e,t),N=new IL(e,t,_,r,i,o,p,k);return N.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(S)),N}}class VL{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:C9(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Yce{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(HL().toString()),this._cssKeyframesDriver=new FL}validateStyleProperty(e){return m9(e)}matchesElement(e,t){return g9(e,t)}containsElement(e,t){return v9(e,t)}query(e,t,r){return y9(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,i,o,s=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,i,o,s);const p={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(p.easing=o);const _={},S=s.filter(k=>k instanceof VL);hL(r,i)&&S.forEach(k=>{let N=k.currentSnapshot;Object.keys(N).forEach(B=>_[B]=N[B])});const D=zL(e,t=dL(e,t=t.map(k=>wu(k,!1)),_));return new VL(e,t,p,D)}}function HL(){return Zk()&&Element.prototype.animate||{}}let Wce=(()=>{class n extends Gk{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:li.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Wk(t):t;return BL(this._renderer,null,r,"register",[i]),new qce(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(Ke(Ma),Ke(rr))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})();class qce extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new $ce(this._id,e,t||{},this._renderer)}}class $ce{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return BL(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function BL(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const jL="@.disabled";let Xce=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,s)=>{s&&s.parentNode(o)&&s.removeChild(o.parentNode,o)}}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let p=this._rendererCache.get(o);return p||(p=new UL("",o,this.engine),this._rendererCache.set(o,p)),p}const s=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=p=>{Array.isArray(p)?p.forEach(l):this.engine.registerTrigger(s,a,t,p.name,p)};return r.data.animation.forEach(l),new Kce(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(Ke(Ma),Ke(a8),Ke(yr))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})();class UL{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==jL?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Kce extends UL{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==jL?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.substr(1),s="";return"@"!=o.charAt(0)&&([o,s]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let Jce=(()=>{class n extends a8{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(Ke(rr),Ke(_9),Ke(P9))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})();const Ip=new Nn("AnimationModuleType"),YL=[{provide:Gk,useClass:Wce},{provide:P9,useFactory:function(){return new sce}},{provide:a8,useClass:Jce},{provide:Ma,useFactory:function(n,e,t){return new Xce(n,e,t)},deps:[m3,a8,yr]}],GL=[{provide:_9,useFactory:function(){return"function"==typeof HL()?new Yce:new FL}},{provide:Ip,useValue:"BrowserAnimations"},...YL],WL=[{provide:_9,useClass:iL},{provide:Ip,useValue:"NoopAnimations"},...YL];let rue=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?WL:GL}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({providers:GL,imports:[Q5]}),n})();class iue{constructor(e,t,r,i){this.triggerElement=e,this.ngZone=t,this.insertExtraNode=r,this.platformId=i,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=o=>{!this.triggerElement||!this.triggerElement.getAttribute||this.triggerElement.getAttribute("disabled")||"INPUT"===o.target.tagName||this.triggerElement.className.indexOf("disabled")>=0||this.fadeOutWave()},this.platform=new qi(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}get waveAttributeName(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}bindTriggerEvent(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.removeTriggerEvent(),this.triggerElement&&this.triggerElement.addEventListener("click",this.clickHandler,!0)})}removeTriggerEvent(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}removeStyleAndExtraNode(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}destroy(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}fadeOutWave(){const e=this.triggerElement,t=this.getWaveColor(e);e.setAttribute(this.waveAttributeName,"true"),!(Date.now()<this.lastTime+this.waveTransitionDuration)&&(this.isValidColor(t)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style")),this.styleForPseudo.innerHTML=`\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ${t};\n      }`,document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",e.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(()=>{e.removeAttribute(this.waveAttributeName),this.removeStyleAndExtraNode()},this.waveTransitionDuration))}isValidColor(e){return!!e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&this.isNotGrey(e)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(e)&&"transparent"!==e}isNotGrey(e){const t=e.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(t&&t[1]&&t[2]&&t[3]&&t[1]===t[2]&&t[2]===t[3])}getWaveColor(e){const t=getComputedStyle(e);return t.getPropertyValue("border-top-color")||t.getPropertyValue("border-color")||t.getPropertyValue("background-color")}runTimeoutOutsideZone(e,t){this.ngZone.runOutsideAngular(()=>setTimeout(e,t))}}const oue={disabled:!1},sue=new Nn("nz-wave-global-options",{providedIn:"root",factory:function(){return oue}});let u8=(()=>{class n{constructor(t,r,i,o,s){this.ngZone=t,this.elementRef=r,this.config=i,this.animationType=o,this.platformId=s,this.nzWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}get disabled(){return this.waveDisabled}get rendererRef(){return this.waveRenderer}isConfigDisabled(){let t=!1;return this.config&&"boolean"==typeof this.config.disabled&&(t=this.config.disabled),"NoopAnimations"===this.animationType&&(t=!0),t}ngOnDestroy(){this.waveRenderer&&this.waveRenderer.destroy()}ngOnInit(){this.renderWaveIfEnabled()}renderWaveIfEnabled(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new iue(this.elementRef.nativeElement,this.ngZone,this.nzWaveExtraNode,this.platformId))}disable(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}enable(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}}return n.\u0275fac=function(t){return new(t||n)(Ae(yr),Ae(jn),Ae(sue,8),Ae(Ip,8),Ae(ch))},n.\u0275dir=tn({type:n,selectors:[["","nz-wave",""],["button","nz-button","",3,"nzType","link",3,"nzType","text"]],inputs:{nzWaveExtraNode:"nzWaveExtraNode"},exportAs:["nzWave"]}),n})(),V9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({imports:[[Bl]]}),n})();const lue=["nz-button",""];function cue(n,e){1&n&&Vn(0,"i",1)}const qL=["*"];let H9=(()=>{class n{constructor(t,r,i,o,s){this.elementRef=t,this.cdr=r,this.renderer=i,this.nzConfigService=o,this.directionality=s,this._nzModuleName="button",this.nzBlock=!1,this.nzGhost=!1,this.nzSearch=!1,this.nzLoading=!1,this.nzDanger=!1,this.disabled=!1,this.tabIndex=null,this.nzType=null,this.nzShape=null,this.nzSize="default",this.dir="ltr",this.destroy$=new ye,this.loading$=new ye,this.elementRef.nativeElement.classList.add("ant-btn"),this.nzConfigService.getConfigChangeEventForComponent("button").pipe(wr(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}insertSpan(t,r){t.forEach(i=>{if("#text"===i.nodeName){const o=r.createElement("span"),s=r.parentNode(i);r.insertBefore(s,o,i),r.appendChild(o,i)}})}assertIconOnly(t,r){const i=Array.from(t.childNodes),o=i.filter(c=>"I"===c.nodeName).length,s=i.every(c=>"#text"!==c.nodeName);i.every(c=>"SPAN"!==c.nodeName)&&s&&o>=1&&r.addClass(t,"ant-btn-icon-only")}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe(wr(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(t){const{nzLoading:r,nzType:i}=t;r&&this.loading$.next(this.nzLoading),"danger"===(null==i?void 0:i.currentValue)&&HP("'danger' value of 'nzType' in Button is going to be removed in 12.0.0. Please use 'nzDanger' instead.")}ngAfterViewInit(){this.assertIconOnly(this.elementRef.nativeElement,this.renderer),this.insertSpan(this.elementRef.nativeElement.childNodes,this.renderer)}ngAfterContentInit(){this.loading$.pipe(Il(this.nzLoading),Qi(()=>!!this.nzIconDirectiveElement),wr(this.destroy$)).subscribe(t=>{const r=this.nzIconDirectiveElement.nativeElement;t?this.renderer.setStyle(r,"display","none"):this.renderer.removeStyle(r,"display")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(Ae(jn),Ae(wo),Ae(Ri),Ae(R1),Ae(eo,8))},n.\u0275cmp=tr({type:n,selectors:[["button","nz-button",""],["a","nz-button",""]],contentQueries:function(t,r,i){if(1&t&&Qo(i,jl,5,jn),2&t){let o;gr(o=vr())&&(r.nzIconDirectiveElement=o.first)}},hostVars:32,hostBindings:function(t,r){2&t&&(Ds("tabindex",r.disabled?-1:null===r.tabIndex?null:r.tabIndex)("disabled",r.disabled||null),Hr("ant-btn-primary","primary"===r.nzType)("ant-btn-dashed","dashed"===r.nzType)("ant-btn-link","link"===r.nzType)("ant-btn-text","text"===r.nzType)("ant-btn-danger","danger"===r.nzType)("ant-btn-circle","circle"===r.nzShape)("ant-btn-round","round"===r.nzShape)("ant-btn-lg","large"===r.nzSize)("ant-btn-sm","small"===r.nzSize)("ant-btn-dangerous",r.nzDanger)("ant-btn-loading",r.nzLoading)("ant-btn-background-ghost",r.nzGhost)("ant-btn-block",r.nzBlock)("ant-input-search-button",r.nzSearch)("ant-btn-rtl","rtl"===r.dir))},inputs:{nzBlock:"nzBlock",nzGhost:"nzGhost",nzSearch:"nzSearch",nzLoading:"nzLoading",nzDanger:"nzDanger",disabled:"disabled",tabIndex:"tabIndex",nzType:"nzType",nzShape:"nzShape",nzSize:"nzSize"},exportAs:["nzButton"],features:[Tn],attrs:lue,ngContentSelectors:qL,decls:2,vars:1,consts:[["nz-icon","","nzType","loading",4,"ngIf"],["nz-icon","","nzType","loading"]],template:function(t,r){1&t&&(Ps(),Rn(0,cue,1,0,"i",0),Ho(1)),2&t&&Wt("ngIf",r.nzLoading)},directives:[js,jl,kp],encapsulation:2,changeDetection:0}),On([Jn(),kn("design:type",Boolean)],n.prototype,"nzBlock",void 0),On([Jn(),kn("design:type",Boolean)],n.prototype,"nzGhost",void 0),On([Jn(),kn("design:type",Boolean)],n.prototype,"nzSearch",void 0),On([Jn(),kn("design:type",Boolean)],n.prototype,"nzLoading",void 0),On([Jn(),kn("design:type",Boolean)],n.prototype,"nzDanger",void 0),On([Jn(),kn("design:type",Boolean)],n.prototype,"disabled",void 0),On([F1(),kn("design:type",String)],n.prototype,"nzSize",void 0),n})(),XL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({imports:[[Aa,ia,V9,Dc,Yk],Yk,V9]}),n})();const hue=["container"];function due(n,e){1&n&&(Pt(0,"span"),uo(1," (\u4f60\u662f\u6bd4\u5730\u94c1\u7ad9\u8fd8\u52aa\u529b\u7684\u7537\u4eba\uff01)"),kt())}let fue=(()=>{class n{constructor(){this.demoValue=5}ngOnInit(){}ngAfterViewInit(){const t=this.container.nativeElement;setTimeout(()=>{this.scene=new Nie(t,{})},10)}onClick(){this.scene.updateData(this.demoValue)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tr({type:n,selectors:[["app-one"]],viewQuery:function(t,r){if(1&t&&mi(hue,5),2&t){let i;gr(i=vr())&&(r.container=i.first)}},decls:10,vars:5,consts:[[2,"width","100%","height","100%"],["container",""],[1,"good"],[3,"ngModel","nzMin","nzMax","nzStep","ngModelChange"],["nz-button","","nzType","dashed",3,"click"],[4,"ngIf"]],template:function(t,r){1&t&&(Pt(0,"div",0,1),Pt(2,"div",2),Pt(3,"span"),uo(4,"\u52aa\u529b\u7cfb\u6570(0-10)\uff1a"),kt(),Pt(5,"nz-input-number",3),nr("ngModelChange",function(o){return r.demoValue=o}),kt(),Pt(6,"span"),Pt(7,"button",4),nr("click",function(){return r.onClick()}),uo(8,"\u786e\u5b9a"),kt(),kt(),Rn(9,due,2,0,"span",5),kt(),kt()),2&t&&(an(5),Wt("ngModel",r.demoValue)("nzMin",0)("nzMax",10)("nzStep",1),an(4),Wt("ngIf",10==r.demoValue))},directives:[Uk,L1,zh,H9,u8,kp,js],styles:[".good[_ngcontent-%COMP%]{position:absolute;z-index:10}.good[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:10px}"]}),n})();function KL(n,e,t,r,i,o,s){try{var a=n[o](s),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}const Ro=1001,W1=1002,Fo=1003,No=1006,Mu=1009,Ac=1015,$1=1016,Bp=1020,X1=1022,vs=1023,K1=1026,jp=1027,Z1=2400,Q1=2401,ys=3e3,Vh=3001,Up=35044,Yp=35048;class Su{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const i=this._listeners[e];if(void 0!==i){const o=i.indexOf(t);-1!==o&&i.splice(o,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const r=this._listeners[e.type];if(void 0!==r){e.target=this;const i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}}const Hh=Math.PI/180,Gp=180/Math.PI,ns=[];for(let n=0;n<256;n++)ns[n]=(n<16?"0":"")+n.toString(16);const Ghe="undefined"!=typeof crypto&&"randomUUID"in crypto;function ha(){if(Ghe)return crypto.randomUUID().toUpperCase();const n=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(ns[255&n]+ns[n>>8&255]+ns[n>>16&255]+ns[n>>24&255]+"-"+ns[255&e]+ns[e>>8&255]+"-"+ns[e>>16&15|64]+ns[e>>24&255]+"-"+ns[63&t|128]+ns[t>>8&255]+"-"+ns[t>>16&255]+ns[t>>24&255]+ns[255&r]+ns[r>>8&255]+ns[r>>16&255]+ns[r>>24&255]).toUpperCase()}function rs(n,e,t){return Math.max(e,Math.min(t,n))}function Wp(n,e,t){return(1-t)*n+t*e}function Z9(n){return 0==(n&n-1)&&0!==n}function CO(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}class Rt{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}Rt.prototype.isVector2=!0;class Yo{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,o,s,a,l,c){const p=this.elements;return p[0]=e,p[1]=i,p[2]=a,p[3]=t,p[4]=o,p[5]=l,p[6]=r,p[7]=s,p[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,o=this.elements,s=r[0],a=r[3],l=r[6],c=r[1],p=r[4],_=r[7],S=r[2],D=r[5],k=r[8],N=i[0],B=i[3],F=i[6],I=i[1],X=i[4],$=i[7],re=i[2],de=i[5],se=i[8];return o[0]=s*N+a*I+l*re,o[3]=s*B+a*X+l*de,o[6]=s*F+a*$+l*se,o[1]=c*N+p*I+_*re,o[4]=c*B+p*X+_*de,o[7]=c*F+p*$+_*se,o[2]=S*N+D*I+k*re,o[5]=S*B+D*X+k*de,o[8]=S*F+D*$+k*se,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],p=e[8];return t*s*p-t*a*c-r*o*p+r*a*l+i*o*c-i*s*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],p=e[8],_=p*s-a*c,S=a*l-p*o,D=c*o-s*l,k=t*_+r*S+i*D;if(0===k)return this.set(0,0,0,0,0,0,0,0,0);const N=1/k;return e[0]=_*N,e[1]=(i*c-p*r)*N,e[2]=(a*r-i*s)*N,e[3]=S*N,e[4]=(p*t-i*l)*N,e[5]=(i*o-a*t)*N,e[6]=D*N,e[7]=(r*l-c*t)*N,e[8]=(s*t-r*o)*N,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,o,s,a){const l=Math.cos(o),c=Math.sin(o);return this.set(r*l,r*c,-r*(l*s+c*a)+s+e,-i*c,i*l,-i*(-c*s+l*a)+a+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,o=i[0],s=i[3],a=i[6],l=i[1],c=i[4],p=i[7];return i[0]=t*o+r*l,i[3]=t*s+r*c,i[6]=t*a+r*p,i[1]=-r*o+t*l,i[4]=-r*s+t*c,i[7]=-r*a+t*p,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}function TO(n){if(0===n.length)return-1/0;let e=n[0];for(let t=1,r=n.length;t<r;++t)n[t]>e&&(e=n[t]);return e}function x8(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}let tf;Yo.prototype.isMatrix3=!0,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;class nf{static getDataURL(e){if(/^data:/i.test(e.src)||"undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===tf&&(tf=x8("canvas")),tf.width=e.width,tf.height=e.height;const r=tf.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=tf}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}}let sde=0;class Go extends Su{constructor(e=Go.DEFAULT_IMAGE,t=Go.DEFAULT_MAPPING,r=Ro,i=Ro,o=No,s=1008,a=vs,l=Mu,c=1,p=ys){super(),Object.defineProperty(this,"id",{value:sde++}),this.uuid=ha(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=s,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Rt(0,0),this.repeat=new Rt(1,1),this.center=new Rt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Yo,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=p,this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const i=this.image;if(void 0===i.uuid&&(i.uuid=ha()),!t&&void 0===e.images[i.uuid]){let o;if(Array.isArray(i)){o=[];for(let s=0,a=i.length;s<a;s++)o.push(Q9(i[s].isDataTexture?i[s].image:i[s]))}else o=Q9(i);e.images[i.uuid]={uuid:i.uuid,url:o}}r.image=i.uuid}return t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case Ro:e.x=e.x<0?0:1;break;case W1:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case Ro:e.y=e.y<0?0:1;break;case W1:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&this.version++}}function Q9(n){return"undefined"!=typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&n instanceof ImageBitmap?nf.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Go.DEFAULT_IMAGE=void 0,Go.DEFAULT_MAPPING=300,Go.prototype.isTexture=!0;class Si{constructor(e=0,t=0,r=0,i=1){this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i+s[12]*o,this.y=s[1]*t+s[5]*r+s[9]*i+s[13]*o,this.z=s[2]*t+s[6]*r+s[10]*i+s[14]*o,this.w=s[3]*t+s[7]*r+s[11]*i+s[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,o;const s=.01,a=.1,l=e.elements,c=l[0],p=l[4],_=l[8],S=l[1],D=l[5],k=l[9],N=l[2],B=l[6],F=l[10];if(Math.abs(p-S)<s&&Math.abs(_-N)<s&&Math.abs(k-B)<s){if(Math.abs(p+S)<a&&Math.abs(_+N)<a&&Math.abs(k+B)<a&&Math.abs(c+D+F-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const X=(c+1)/2,$=(D+1)/2,re=(F+1)/2,de=(p+S)/4,se=(_+N)/4,Me=(k+B)/4;return X>$&&X>re?X<s?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(X),i=de/r,o=se/r):$>re?$<s?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt($),r=de/i,o=Me/i):re<s?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(re),r=se/o,i=Me/o),this.set(r,i,o,t),this}let I=Math.sqrt((B-k)*(B-k)+(_-N)*(_-N)+(S-p)*(S-p));return Math.abs(I)<.001&&(I=1),this.x=(B-k)/I,this.y=(_-N)/I,this.z=(S-p)/I,this.w=Math.acos((c+D+F-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,r){return void 0!==r&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}Si.prototype.isVector4=!0;class Wl extends Su{constructor(e,t,r={}){super(),this.width=e,this.height=t,this.depth=1,this.scissor=new Si(0,0,e,t),this.scissorTest=!1,this.viewport=new Si(0,0,e,t),this.texture=new Go(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:e,height:t,depth:1},this.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,this.texture.internalFormat=void 0!==r.internalFormat?r.internalFormat:null,this.texture.minFilter=void 0!==r.minFilter?r.minFilter:No,this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0!==r.stencilBuffer&&r.stencilBuffer,this.depthTexture=void 0!==r.depthTexture?r.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=xN({},this.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}Wl.prototype.isWebGLRenderTarget=!0,class extends Wl{constructor(e,t,r){super(e,t);const i=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=i.clone()}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,o=this.texture.length;i<o;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone();return this}}.prototype.isWebGLMultipleRenderTargets=!0;class EO extends Wl{constructor(e,t,r){super(e,t,r),this.samples=4}copy(e){return super.copy.call(this,e),this.samples=e.samples,this}}EO.prototype.isWebGLMultisampleRenderTarget=!0;class Wo{constructor(e=0,t=0,r=0,i=1){this._x=e,this._y=t,this._z=r,this._w=i}static slerp(e,t,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,i)}static slerpFlat(e,t,r,i,o,s,a){let l=r[i+0],c=r[i+1],p=r[i+2],_=r[i+3];const S=o[s+0],D=o[s+1],k=o[s+2],N=o[s+3];if(0===a)return e[t+0]=l,e[t+1]=c,e[t+2]=p,void(e[t+3]=_);if(1===a)return e[t+0]=S,e[t+1]=D,e[t+2]=k,void(e[t+3]=N);if(_!==N||l!==S||c!==D||p!==k){let B=1-a;const F=l*S+c*D+p*k+_*N,I=F>=0?1:-1,X=1-F*F;if(X>Number.EPSILON){const re=Math.sqrt(X),de=Math.atan2(re,F*I);B=Math.sin(B*de)/re,a=Math.sin(a*de)/re}const $=a*I;if(l=l*B+S*$,c=c*B+D*$,p=p*B+k*$,_=_*B+N*$,B===1-a){const re=1/Math.sqrt(l*l+c*c+p*p+_*_);l*=re,c*=re,p*=re,_*=re}}e[t]=l,e[t+1]=c,e[t+2]=p,e[t+3]=_}static multiplyQuaternionsFlat(e,t,r,i,o,s){const a=r[i],l=r[i+1],c=r[i+2],p=r[i+3],_=o[s],S=o[s+1],D=o[s+2],k=o[s+3];return e[t]=a*k+p*_+l*D-c*S,e[t+1]=l*k+p*S+c*_-a*D,e[t+2]=c*k+p*D+a*S-l*_,e[t+3]=p*k-a*_-l*S-c*D,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,i=e._y,o=e._z,s=e._order,a=Math.cos,l=Math.sin,c=a(r/2),p=a(i/2),_=a(o/2),S=l(r/2),D=l(i/2),k=l(o/2);switch(s){case"XYZ":this._x=S*p*_+c*D*k,this._y=c*D*_-S*p*k,this._z=c*p*k+S*D*_,this._w=c*p*_-S*D*k;break;case"YXZ":this._x=S*p*_+c*D*k,this._y=c*D*_-S*p*k,this._z=c*p*k-S*D*_,this._w=c*p*_+S*D*k;break;case"ZXY":this._x=S*p*_-c*D*k,this._y=c*D*_+S*p*k,this._z=c*p*k+S*D*_,this._w=c*p*_-S*D*k;break;case"ZYX":this._x=S*p*_-c*D*k,this._y=c*D*_+S*p*k,this._z=c*p*k-S*D*_,this._w=c*p*_+S*D*k;break;case"YZX":this._x=S*p*_+c*D*k,this._y=c*D*_+S*p*k,this._z=c*p*k-S*D*_,this._w=c*p*_-S*D*k;break;case"XZY":this._x=S*p*_-c*D*k,this._y=c*D*_-S*p*k,this._z=c*p*k+S*D*_,this._w=c*p*_+S*D*k;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],o=t[8],s=t[1],a=t[5],l=t[9],c=t[2],p=t[6],_=t[10],S=r+a+_;if(S>0){const D=.5/Math.sqrt(S+1);this._w=.25/D,this._x=(p-l)*D,this._y=(o-c)*D,this._z=(s-i)*D}else if(r>a&&r>_){const D=2*Math.sqrt(1+r-a-_);this._w=(p-l)/D,this._x=.25*D,this._y=(i+s)/D,this._z=(o+c)/D}else if(a>_){const D=2*Math.sqrt(1+a-r-_);this._w=(o-c)/D,this._x=(i+s)/D,this._y=.25*D,this._z=(l+p)/D}else{const D=2*Math.sqrt(1+_-r-a);this._w=(s-i)/D,this._x=(o+c)/D,this._y=(l+p)/D,this._z=.25*D}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(rs(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(0===r)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,o=e._z,s=e._w,a=t._x,l=t._y,c=t._z,p=t._w;return this._x=r*p+s*a+i*c-o*l,this._y=i*p+s*l+o*a-r*c,this._z=o*p+s*c+r*l-i*a,this._w=s*p-r*a-i*l-o*c,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const r=this._x,i=this._y,o=this._z,s=this._w;let a=s*e._w+r*e._x+i*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=r,this._y=i,this._z=o,this;const l=1-a*a;if(l<=Number.EPSILON){const D=1-t;return this._w=D*s+t*this._w,this._x=D*r+t*this._x,this._y=D*i+t*this._y,this._z=D*o+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),p=Math.atan2(c,a),_=Math.sin((1-t)*p)/c,S=Math.sin(t*p)/c;return this._w=s*_+this._w*S,this._x=r*_+this._x*S,this._y=i*_+this._y*S,this._z=o*_+this._z*S,this._onChangeCallback(),this}slerpQuaternions(e,t,r){this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(o),r*Math.cos(o),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Wo.prototype.isQuaternion=!0;class Ce{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.z=r}set(e,t,r){return void 0===r&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(DO.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(DO.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[3]*r+o[6]*i,this.y=o[1]*t+o[4]*r+o[7]*i,this.z=o[2]*t+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,o=e.elements,s=1/(o[3]*t+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*t+o[4]*r+o[8]*i+o[12])*s,this.y=(o[1]*t+o[5]*r+o[9]*i+o[13])*s,this.z=(o[2]*t+o[6]*r+o[10]*i+o[14])*s,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,o=e.x,s=e.y,a=e.z,l=e.w,c=l*t+s*i-a*r,p=l*r+a*t-o*i,_=l*i+o*r-s*t,S=-o*t-s*r-a*i;return this.x=c*l+S*-o+p*-a-_*-s,this.y=p*l+S*-s+_*-o-c*-a,this.z=_*l+S*-a+c*-s-p*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i,this.y=o[1]*t+o[5]*r+o[9]*i,this.z=o[2]*t+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,o=e.z,s=t.x,a=t.y,l=t.z;return this.x=i*l-o*a,this.y=o*s-r*l,this.z=r*a-i*s,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return J9.copy(this).projectOnVector(e),this.sub(J9)}reflect(e){return this.sub(J9.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(rs(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,r=Math.sqrt(1-bN(e,2));return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}Ce.prototype.isVector3=!0;const J9=new Ce,DO=new Wo;class La{constructor(e=new Ce(1/0,1/0,1/0),t=new Ce(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,o=-1/0,s=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const p=e[l],_=e[l+1],S=e[l+2];p<t&&(t=p),_<r&&(r=_),S<i&&(i=S),p>o&&(o=p),_>s&&(s=_),S>a&&(a=S)}return this.min.set(t,r,i),this.max.set(o,s,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,o=-1/0,s=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const p=e.getX(l),_=e.getY(l),S=e.getZ(l);p<t&&(t=p),_<r&&(r=_),S<i&&(i=S),p>o&&(o=p),_>s&&(s=_),S>a&&(a=S)}return this.min.set(t,r,i),this.max.set(o,s,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=qp.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),e_.copy(t.boundingBox),e_.applyMatrix4(e.matrixWorld),this.union(e_));const r=e.children;for(let i=0,o=r.length;i<o;i++)this.expandByObject(r[i]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,qp),qp.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter($p),M8.subVectors(this.max,$p),rf.subVectors(e.a,$p),of.subVectors(e.b,$p),sf.subVectors(e.c,$p),Cu.subVectors(of,rf),Tu.subVectors(sf,of),Bh.subVectors(rf,sf);let t=[0,-Cu.z,Cu.y,0,-Tu.z,Tu.y,0,-Bh.z,Bh.y,Cu.z,0,-Cu.x,Tu.z,0,-Tu.x,Bh.z,0,-Bh.x,-Cu.y,Cu.x,0,-Tu.y,Tu.x,0,-Bh.y,Bh.x,0];return!(!t_(t,rf,of,sf,M8)||(t=[1,0,0,0,1,0,0,0,1],!t_(t,rf,of,sf,M8)))&&(S8.crossVectors(Cu,Tu),t=[S8.x,S8.y,S8.z],t_(t,rf,of,sf,M8))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return qp.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=.5*this.getSize(qp).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Pc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Pc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Pc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Pc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Pc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Pc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Pc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Pc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Pc)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}La.prototype.isBox3=!0;const Pc=[new Ce,new Ce,new Ce,new Ce,new Ce,new Ce,new Ce,new Ce],qp=new Ce,e_=new La,rf=new Ce,of=new Ce,sf=new Ce,Cu=new Ce,Tu=new Ce,Bh=new Ce,$p=new Ce,M8=new Ce,S8=new Ce,jh=new Ce;function t_(n,e,t,r,i){for(let o=0,s=n.length-3;o<=s;o+=3){jh.fromArray(n,o);const a=i.x*Math.abs(jh.x)+i.y*Math.abs(jh.y)+i.z*Math.abs(jh.z),l=e.dot(jh),c=t.dot(jh),p=r.dot(jh);if(Math.max(-Math.max(l,c,p),Math.min(l,c,p))>a)return!1}return!0}const lde=new La,zO=new Ce,n_=new Ce,r_=new Ce;class Uh{constructor(e=new Ce,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;void 0!==t?r.copy(t):lde.setFromPoints(e).getCenter(r);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){r_.subVectors(e,this.center);const t=r_.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=.5*(r-this.radius);this.center.add(r_.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return n_.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(zO.copy(e.center).add(n_)),this.expandByPoint(zO.copy(e.center).sub(n_)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const kc=new Ce,i_=new Ce,C8=new Ce,Eu=new Ce,o_=new Ce,T8=new Ce,s_=new Ce;class Yh{constructor(e=new Ce,t=new Ce(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,kc)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=kc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(kc.copy(this.direction).multiplyScalar(t).add(this.origin),kc.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){i_.copy(e).add(t).multiplyScalar(.5),C8.copy(t).sub(e).normalize(),Eu.copy(this.origin).sub(i_);const o=.5*e.distanceTo(t),s=-this.direction.dot(C8),a=Eu.dot(this.direction),l=-Eu.dot(C8),c=Eu.lengthSq(),p=Math.abs(1-s*s);let _,S,D,k;if(p>0)if(_=s*l-a,S=s*a-l,k=o*p,_>=0)if(S>=-k)if(S<=k){const N=1/p;_*=N,S*=N,D=_*(_+s*S+2*a)+S*(s*_+S+2*l)+c}else S=o,_=Math.max(0,-(s*S+a)),D=-_*_+S*(S+2*l)+c;else S=-o,_=Math.max(0,-(s*S+a)),D=-_*_+S*(S+2*l)+c;else S<=-k?(_=Math.max(0,-(-s*o+a)),S=_>0?-o:Math.min(Math.max(-o,-l),o),D=-_*_+S*(S+2*l)+c):S<=k?(_=0,S=Math.min(Math.max(-o,-l),o),D=S*(S+2*l)+c):(_=Math.max(0,-(s*o+a)),S=_>0?o:Math.min(Math.max(-o,-l),o),D=-_*_+S*(S+2*l)+c);else S=s>0?-o:o,_=Math.max(0,-(s*S+a)),D=-_*_+S*(S+2*l)+c;return r&&r.copy(this.direction).multiplyScalar(_).add(this.origin),i&&i.copy(C8).multiplyScalar(S).add(i_),D}intersectSphere(e,t){kc.subVectors(e.center,this.origin);const r=kc.dot(this.direction),i=kc.dot(kc)-r*r,o=e.radius*e.radius;if(i>o)return null;const s=Math.sqrt(o-i),a=r-s,l=r+s;return a<0&&l<0?null:this.at(a<0?l:a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return null===r?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,o,s,a,l;const c=1/this.direction.x,p=1/this.direction.y,_=1/this.direction.z,S=this.origin;return c>=0?(r=(e.min.x-S.x)*c,i=(e.max.x-S.x)*c):(r=(e.max.x-S.x)*c,i=(e.min.x-S.x)*c),p>=0?(o=(e.min.y-S.y)*p,s=(e.max.y-S.y)*p):(o=(e.max.y-S.y)*p,s=(e.min.y-S.y)*p),r>s||o>i||((o>r||r!=r)&&(r=o),(s<i||i!=i)&&(i=s),_>=0?(a=(e.min.z-S.z)*_,l=(e.max.z-S.z)*_):(a=(e.max.z-S.z)*_,l=(e.min.z-S.z)*_),r>l||a>i)||((a>r||r!=r)&&(r=a),(l<i||i!=i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return null!==this.intersectBox(e,kc)}intersectTriangle(e,t,r,i,o){o_.subVectors(t,e),T8.subVectors(r,e),s_.crossVectors(o_,T8);let a,s=this.direction.dot(s_);if(s>0){if(i)return null;a=1}else{if(!(s<0))return null;a=-1,s=-s}Eu.subVectors(this.origin,e);const l=a*this.direction.dot(T8.crossVectors(Eu,T8));if(l<0)return null;const c=a*this.direction.dot(o_.cross(Eu));if(c<0||l+c>s)return null;const p=-a*Eu.dot(s_);return p<0?null:this.at(p/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Yn{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,o,s,a,l,c,p,_,S,D,k,N,B){const F=this.elements;return F[0]=e,F[4]=t,F[8]=r,F[12]=i,F[1]=o,F[5]=s,F[9]=a,F[13]=l,F[2]=c,F[6]=p,F[10]=_,F[14]=S,F[3]=D,F[7]=k,F[11]=N,F[15]=B,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Yn).fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/af.setFromMatrixColumn(e,0).length(),o=1/af.setFromMatrixColumn(e,1).length(),s=1/af.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*o,t[5]=r[5]*o,t[6]=r[6]*o,t[7]=0,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,r=e.x,i=e.y,o=e.z,s=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),p=Math.cos(o),_=Math.sin(o);if("XYZ"===e.order){const S=s*p,D=s*_,k=a*p,N=a*_;t[0]=l*p,t[4]=-l*_,t[8]=c,t[1]=D+k*c,t[5]=S-N*c,t[9]=-a*l,t[2]=N-S*c,t[6]=k+D*c,t[10]=s*l}else if("YXZ"===e.order){const S=l*p,D=l*_,k=c*p,N=c*_;t[0]=S+N*a,t[4]=k*a-D,t[8]=s*c,t[1]=s*_,t[5]=s*p,t[9]=-a,t[2]=D*a-k,t[6]=N+S*a,t[10]=s*l}else if("ZXY"===e.order){const S=l*p,D=l*_,k=c*p,N=c*_;t[0]=S-N*a,t[4]=-s*_,t[8]=k+D*a,t[1]=D+k*a,t[5]=s*p,t[9]=N-S*a,t[2]=-s*c,t[6]=a,t[10]=s*l}else if("ZYX"===e.order){const S=s*p,D=s*_,k=a*p,N=a*_;t[0]=l*p,t[4]=k*c-D,t[8]=S*c+N,t[1]=l*_,t[5]=N*c+S,t[9]=D*c-k,t[2]=-c,t[6]=a*l,t[10]=s*l}else if("YZX"===e.order){const S=s*l,D=s*c,k=a*l,N=a*c;t[0]=l*p,t[4]=N-S*_,t[8]=k*_+D,t[1]=_,t[5]=s*p,t[9]=-a*p,t[2]=-c*p,t[6]=D*_+k,t[10]=S-N*_}else if("XZY"===e.order){const S=s*l,D=s*c,k=a*l,N=a*c;t[0]=l*p,t[4]=-_,t[8]=c*p,t[1]=S*_+N,t[5]=s*p,t[9]=D*_-k,t[2]=k*_-D,t[6]=a*p,t[10]=N*_+S}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(cde,e,ude)}lookAt(e,t,r){const i=this.elements;return da.subVectors(e,t),0===da.lengthSq()&&(da.z=1),da.normalize(),Du.crossVectors(r,da),0===Du.lengthSq()&&(1===Math.abs(r.z)?da.x+=1e-4:da.z+=1e-4,da.normalize(),Du.crossVectors(r,da)),Du.normalize(),E8.crossVectors(da,Du),i[0]=Du.x,i[4]=E8.x,i[8]=da.x,i[1]=Du.y,i[5]=E8.y,i[9]=da.y,i[2]=Du.z,i[6]=E8.z,i[10]=da.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,o=this.elements,s=r[0],a=r[4],l=r[8],c=r[12],p=r[1],_=r[5],S=r[9],D=r[13],k=r[2],N=r[6],B=r[10],F=r[14],I=r[3],X=r[7],$=r[11],re=r[15],de=i[0],se=i[4],Me=i[8],He=i[12],Oe=i[1],ve=i[5],st=i[9],je=i[13],ge=i[2],xe=i[6],he=i[10],ke=i[14],et=i[3],rt=i[7],yt=i[11],vt=i[15];return o[0]=s*de+a*Oe+l*ge+c*et,o[4]=s*se+a*ve+l*xe+c*rt,o[8]=s*Me+a*st+l*he+c*yt,o[12]=s*He+a*je+l*ke+c*vt,o[1]=p*de+_*Oe+S*ge+D*et,o[5]=p*se+_*ve+S*xe+D*rt,o[9]=p*Me+_*st+S*he+D*yt,o[13]=p*He+_*je+S*ke+D*vt,o[2]=k*de+N*Oe+B*ge+F*et,o[6]=k*se+N*ve+B*xe+F*rt,o[10]=k*Me+N*st+B*he+F*yt,o[14]=k*He+N*je+B*ke+F*vt,o[3]=I*de+X*Oe+$*ge+re*et,o[7]=I*se+X*ve+$*xe+re*rt,o[11]=I*Me+X*st+$*he+re*yt,o[15]=I*He+X*je+$*ke+re*vt,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],o=e[12],s=e[1],a=e[5],l=e[9],c=e[13],p=e[2],_=e[6],S=e[10],D=e[14];return e[3]*(+o*l*_-i*c*_-o*a*S+r*c*S+i*a*D-r*l*D)+e[7]*(+t*l*D-t*c*S+o*s*S-i*s*D+i*c*p-o*l*p)+e[11]*(+t*c*_-t*a*D-o*s*_+r*s*D+o*a*p-r*c*p)+e[15]*(-i*a*p-t*l*_+t*a*S+i*s*_-r*s*S+r*l*p)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],p=e[8],_=e[9],S=e[10],D=e[11],k=e[12],N=e[13],B=e[14],F=e[15],I=_*B*c-N*S*c+N*l*D-a*B*D-_*l*F+a*S*F,X=k*S*c-p*B*c-k*l*D+s*B*D+p*l*F-s*S*F,$=p*N*c-k*_*c+k*a*D-s*N*D-p*a*F+s*_*F,re=k*_*l-p*N*l-k*a*S+s*N*S+p*a*B-s*_*B,de=t*I+r*X+i*$+o*re;if(0===de)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const se=1/de;return e[0]=I*se,e[1]=(N*S*o-_*B*o-N*i*D+r*B*D+_*i*F-r*S*F)*se,e[2]=(a*B*o-N*l*o+N*i*c-r*B*c-a*i*F+r*l*F)*se,e[3]=(_*l*o-a*S*o-_*i*c+r*S*c+a*i*D-r*l*D)*se,e[4]=X*se,e[5]=(p*B*o-k*S*o+k*i*D-t*B*D-p*i*F+t*S*F)*se,e[6]=(k*l*o-s*B*o-k*i*c+t*B*c+s*i*F-t*l*F)*se,e[7]=(s*S*o-p*l*o+p*i*c-t*S*c-s*i*D+t*l*D)*se,e[8]=$*se,e[9]=(k*_*o-p*N*o-k*r*D+t*N*D+p*r*F-t*_*F)*se,e[10]=(s*N*o-k*a*o+k*r*c-t*N*c-s*r*F+t*a*F)*se,e[11]=(p*a*o-s*_*o-p*r*c+t*_*c+s*r*D-t*a*D)*se,e[12]=re*se,e[13]=(p*N*i-k*_*i+k*r*S-t*N*S-p*r*B+t*_*B)*se,e[14]=(k*a*i-s*N*i-k*r*l+t*N*l+s*r*B-t*a*B)*se,e[15]=(s*_*i-p*a*i+p*r*l-t*_*l-s*r*S+t*a*S)*se,this}scale(e){const t=this.elements,r=e.x,i=e.y,o=e.z;return t[0]*=r,t[4]*=i,t[8]*=o,t[1]*=r,t[5]*=i,t[9]*=o,t[2]*=r,t[6]*=i,t[10]*=o,t[3]*=r,t[7]*=i,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),o=1-r,s=e.x,a=e.y,l=e.z,c=o*s,p=o*a;return this.set(c*s+r,c*a-i*l,c*l+i*a,0,c*a+i*l,p*a+r,p*l-i*s,0,c*l-i*a,p*l+i*s,o*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,o,s){return this.set(1,r,o,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,o=t._x,s=t._y,a=t._z,l=t._w,c=o+o,p=s+s,_=a+a,S=o*c,D=o*p,k=o*_,N=s*p,B=s*_,F=a*_,I=l*c,X=l*p,$=l*_,re=r.x,de=r.y,se=r.z;return i[0]=(1-(N+F))*re,i[1]=(D+$)*re,i[2]=(k-X)*re,i[3]=0,i[4]=(D-$)*de,i[5]=(1-(S+F))*de,i[6]=(B+I)*de,i[7]=0,i[8]=(k+X)*se,i[9]=(B-I)*se,i[10]=(1-(S+N))*se,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let o=af.set(i[0],i[1],i[2]).length();const s=af.set(i[4],i[5],i[6]).length(),a=af.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],hl.copy(this);const c=1/o,p=1/s,_=1/a;return hl.elements[0]*=c,hl.elements[1]*=c,hl.elements[2]*=c,hl.elements[4]*=p,hl.elements[5]*=p,hl.elements[6]*=p,hl.elements[8]*=_,hl.elements[9]*=_,hl.elements[10]*=_,t.setFromRotationMatrix(hl),r.x=o,r.y=s,r.z=a,this}makePerspective(e,t,r,i,o,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,c=2*o/(r-i),p=(t+e)/(t-e),_=(r+i)/(r-i),S=-(s+o)/(s-o),D=-2*s*o/(s-o);return a[0]=2*o/(t-e),a[4]=0,a[8]=p,a[12]=0,a[1]=0,a[5]=c,a[9]=_,a[13]=0,a[2]=0,a[6]=0,a[10]=S,a[14]=D,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,o,s){const a=this.elements,l=1/(t-e),c=1/(r-i),p=1/(s-o),_=(t+e)*l,S=(r+i)*c,D=(s+o)*p;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-_,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-S,a[2]=0,a[6]=0,a[10]=-2*p,a[14]=-D,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}Yn.prototype.isMatrix4=!0;const af=new Ce,hl=new Yn,cde=new Ce(0,0,0),ude=new Ce(1,1,1),Du=new Ce,E8=new Ce,da=new Ce,AO=new Yn,PO=new Wo;class lf{constructor(e=0,t=0,r=0,i=lf.DefaultOrder){this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,o=i[0],s=i[4],a=i[8],l=i[1],c=i[5],p=i[9],_=i[2],S=i[6],D=i[10];switch(t){case"XYZ":this._y=Math.asin(rs(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-p,D),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(S,c),this._z=0);break;case"YXZ":this._x=Math.asin(-rs(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(a,D),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-_,o),this._z=0);break;case"ZXY":this._x=Math.asin(rs(S,-1,1)),Math.abs(S)<.9999999?(this._y=Math.atan2(-_,D),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-rs(_,-1,1)),Math.abs(_)<.9999999?(this._x=Math.atan2(S,D),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(rs(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-p,c),this._y=Math.atan2(-_,o)):(this._x=0,this._y=Math.atan2(a,D));break;case"XZY":this._z=Math.asin(-rs(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(S,c),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-p,D),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===r&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return AO.makeRotationFromQuaternion(e),this.setFromRotationMatrix(AO,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return PO.setFromEuler(this),this.setFromQuaternion(PO,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new Ce(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}lf.prototype.isEuler=!0,lf.DefaultOrder="XYZ",lf.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class kO{constructor(){this.mask=1}set(e){this.mask=1<<e|0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}}let hde=0;const LO=new Ce,cf=new Wo,Lc=new Yn,D8=new Ce,Xp=new Ce,dde=new Ce,fde=new Wo,OO=new Ce(1,0,0),IO=new Ce(0,1,0),RO=new Ce(0,0,1),pde={type:"added"},FO={type:"removed"};class hi extends Su{constructor(){super(),Object.defineProperty(this,"id",{value:hde++}),this.uuid=ha(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=hi.DefaultUp.clone();const e=new Ce,t=new lf,r=new Wo,i=new Ce(1,1,1);t._onChange(function(){r.setFromEuler(t,!1)}),r._onChange(function(){t.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Yn},normalMatrix:{value:new Yo}}),this.matrix=new Yn,this.matrixWorld=new Yn,this.matrixAutoUpdate=hi.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new kO,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return cf.setFromAxisAngle(e,t),this.quaternion.multiply(cf),this}rotateOnWorldAxis(e,t){return cf.setFromAxisAngle(e,t),this.quaternion.premultiply(cf),this}rotateX(e){return this.rotateOnAxis(OO,e)}rotateY(e){return this.rotateOnAxis(IO,e)}rotateZ(e){return this.rotateOnAxis(RO,e)}translateOnAxis(e,t){return LO.copy(e).applyQuaternion(this.quaternion),this.position.add(LO.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(OO,e)}translateY(e){return this.translateOnAxis(IO,e)}translateZ(e){return this.translateOnAxis(RO,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Lc.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?D8.copy(e):D8.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Xp.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Lc.lookAt(Xp,D8,this.up):Lc.lookAt(D8,Xp,this.up),this.quaternion.setFromRotationMatrix(Lc),i&&(Lc.extractRotation(i.matrixWorld),cf.setFromRotationMatrix(Lc),this.quaternion.premultiply(cf.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(pde)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(FO)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(FO)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Lc.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Lc.multiply(e.parent.matrixWorld)),e.applyMatrix4(Lc),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,t);if(void 0!==s)return s}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Xp,e,dde),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Xp,fde,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(!0===e&&null!==r&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].updateWorldMatrix(!1,!0)}}toJSON(e){const t=void 0===e||"string"==typeof e,r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};function o(a,l){return void 0===a[l.uuid]&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(i.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){const l=a.shapes;if(Array.isArray(l))for(let c=0,p=l.length;c<p;c++)o(e.shapes,l[c]);else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(o(e.materials,this.material[l]));i.material=a}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++)i.animations.push(o(e.animations,this.animations[a]))}if(t){const a=s(e.geometries),l=s(e.materials),c=s(e.textures),p=s(e.images),_=s(e.shapes),S=s(e.skeletons),D=s(e.animations);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),p.length>0&&(r.images=p),_.length>0&&(r.shapes=_),S.length>0&&(r.skeletons=S),D.length>0&&(r.animations=D)}return r.object=i,r;function s(a){const l=[];for(const c in a){const p=a[c];delete p.metadata,l.push(p)}return l}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let r=0;r<e.children.length;r++)this.add(e.children[r].clone());return this}}hi.DefaultUp=new Ce(0,1,0),hi.DefaultMatrixAutoUpdate=!0,hi.prototype.isObject3D=!0;const dl=new Ce,Oc=new Ce,a_=new Ce,Ic=new Ce,uf=new Ce,hf=new Ce,NO=new Ce,l_=new Ce,c_=new Ce,u_=new Ce;class Do{constructor(e=new Ce,t=new Ce,r=new Ce){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),dl.subVectors(e,t),i.cross(dl);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,t,r,i,o){dl.subVectors(i,t),Oc.subVectors(r,t),a_.subVectors(e,t);const s=dl.dot(dl),a=dl.dot(Oc),l=dl.dot(a_),c=Oc.dot(Oc),p=Oc.dot(a_),_=s*c-a*a;if(0===_)return o.set(-2,-1,-1);const S=1/_,D=(c*l-a*p)*S,k=(s*p-a*l)*S;return o.set(1-D-k,k,D)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Ic),Ic.x>=0&&Ic.y>=0&&Ic.x+Ic.y<=1}static getUV(e,t,r,i,o,s,a,l){return this.getBarycoord(e,t,r,i,Ic),l.set(0,0),l.addScaledVector(o,Ic.x),l.addScaledVector(s,Ic.y),l.addScaledVector(a,Ic.z),l}static isFrontFacing(e,t,r,i){return dl.subVectors(r,t),Oc.subVectors(e,t),dl.cross(Oc).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return dl.subVectors(this.c,this.b),Oc.subVectors(this.a,this.b),.5*dl.cross(Oc).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Do.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Do.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,o){return Do.getUV(e,this.a,this.b,this.c,t,r,i,o)}containsPoint(e){return Do.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Do.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,o=this.c;let s,a;uf.subVectors(i,r),hf.subVectors(o,r),l_.subVectors(e,r);const l=uf.dot(l_),c=hf.dot(l_);if(l<=0&&c<=0)return t.copy(r);c_.subVectors(e,i);const p=uf.dot(c_),_=hf.dot(c_);if(p>=0&&_<=p)return t.copy(i);const S=l*_-p*c;if(S<=0&&l>=0&&p<=0)return s=l/(l-p),t.copy(r).addScaledVector(uf,s);u_.subVectors(e,o);const D=uf.dot(u_),k=hf.dot(u_);if(k>=0&&D<=k)return t.copy(o);const N=D*c-l*k;if(N<=0&&c>=0&&k<=0)return a=c/(c-k),t.copy(r).addScaledVector(hf,a);const B=p*k-D*_;if(B<=0&&_-p>=0&&D-k>=0)return NO.subVectors(o,i),a=(_-p)/(_-p+(D-k)),t.copy(i).addScaledVector(NO,a);const F=1/(B+N+S);return s=N*F,a=S*F,t.copy(r).addScaledVector(uf,s).addScaledVector(hf,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let mde=0;class is extends Su{constructor(){super(),Object.defineProperty(this,"id",{value:mde++}),this.uuid=ha(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.format=vs,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const r=e[t];if(void 0===r){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if("shading"===t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===r;continue}const i=this[t];void 0!==i?i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(o){const s=[];for(const a in o){const l=o[a];delete l.metadata,s.push(l)}return s}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),void 0!==this.sheen&&(r.sheen=this.sheen),this.sheenTint&&this.sheenTint.isColor&&(r.sheenTint=this.sheenTint.getHex()),void 0!==this.sheenRoughness&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(r.specularIntensity=this.specularIntensity),this.specularTint&&this.specularTint.isColor&&(r.specularTint=this.specularTint.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularTintMap&&this.specularTintMap.isTexture&&(r.specularTintMap=this.specularTintMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(r.combine=this.combine)),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(r.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(r.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationTint&&(r.attenuationTint=this.attenuationTint.getHex()),void 0!==this.size&&(r.size=this.size),null!==this.shadowSide&&(r.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(r.blending=this.blending),0!==this.side&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.format!==vs&&(r.format=this.format),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(r.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(r.flatShading=this.flatShading),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),t){const o=i(e.textures),s=i(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.format=e.format,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(null!==t){const i=t.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=t[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}is.prototype.isMaterial=!0;const VO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},fl={h:0,s:0,l:0},z8={h:0,s:0,l:0};function h_(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+6*(e-n)*(2/3-t):n}function d_(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function f_(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}let wn=(()=>{class n{constructor(t,r,i){return void 0===r&&void 0===i?this.set(t):this.setRGB(t,r,i)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this}setRGB(t,r,i){return this.r=t,this.g=r,this.b=i,this}setHSL(t,r,i){if(t=function(n,e){return(n%e+e)%e}(t,1),r=rs(r,0,1),i=rs(i,0,1),0===r)this.r=this.g=this.b=i;else{const o=i<=.5?i*(1+r):i+r-i*r,s=2*i-o;this.r=h_(s,o,t+1/3),this.g=h_(s,o,t),this.b=h_(s,o,t-1/3)}return this}setStyle(t){function r(o){void 0!==o&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let o;const a=i[2];switch(i[1]){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(o[1],10))/255,this.g=Math.min(255,parseInt(o[2],10))/255,this.b=Math.min(255,parseInt(o[3],10))/255,r(o[4]),this;if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(o[1],10))/100,this.g=Math.min(100,parseInt(o[2],10))/100,this.b=Math.min(100,parseInt(o[3],10))/100,r(o[4]),this;break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(o[1])/360,c=parseInt(o[2],10)/100,p=parseInt(o[3],10)/100;return r(o[4]),this.setHSL(l,c,p)}}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(t)){const o=i[1],s=o.length;if(3===s)return this.r=parseInt(o.charAt(0)+o.charAt(0),16)/255,this.g=parseInt(o.charAt(1)+o.charAt(1),16)/255,this.b=parseInt(o.charAt(2)+o.charAt(2),16)/255,this;if(6===s)return this.r=parseInt(o.charAt(0)+o.charAt(1),16)/255,this.g=parseInt(o.charAt(2)+o.charAt(3),16)/255,this.b=parseInt(o.charAt(4)+o.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}setColorName(t){const r=VO[t.toLowerCase()];return void 0!==r?this.setHex(r):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copyGammaToLinear(t,r=2){return this.r=Math.pow(t.r,r),this.g=Math.pow(t.g,r),this.b=Math.pow(t.b,r),this}copyLinearToGamma(t,r=2){const i=r>0?1/r:1;return this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this}convertGammaToLinear(t){return this.copyGammaToLinear(this,t),this}convertLinearToGamma(t){return this.copyLinearToGamma(this,t),this}copySRGBToLinear(t){return this.r=d_(t.r),this.g=d_(t.g),this.b=d_(t.b),this}copyLinearToSRGB(t){return this.r=f_(t.r),this.g=f_(t.g),this.b=f_(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(t){const r=this.r,i=this.g,o=this.b,s=Math.max(r,i,o),a=Math.min(r,i,o);let l,c;const p=(a+s)/2;if(a===s)l=0,c=0;else{const _=s-a;switch(c=p<=.5?_/(s+a):_/(2-s-a),s){case r:l=(i-o)/_+(i<o?6:0);break;case i:l=(o-r)/_+2;break;case o:l=(r-i)/_+4}l/=6}return t.h=l,t.s=c,t.l=p,t}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(t,r,i){return this.getHSL(fl),fl.h+=t,fl.s+=r,fl.l+=i,this.setHSL(fl.h,fl.s,fl.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,r){return this.r=t.r+r.r,this.g=t.g+r.g,this.b=t.b+r.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,r){return this.r+=(t.r-this.r)*r,this.g+=(t.g-this.g)*r,this.b+=(t.b-this.b)*r,this}lerpColors(t,r,i){return this.r=t.r+(r.r-t.r)*i,this.g=t.g+(r.g-t.g)*i,this.b=t.b+(r.b-t.b)*i,this}lerpHSL(t,r){this.getHSL(fl),t.getHSL(z8);const i=Wp(fl.h,z8.h,r),o=Wp(fl.s,z8.s,r),s=Wp(fl.l,z8.l,r);return this.setHSL(i,o,s),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,r=0){return this.r=t[r],this.g=t[r+1],this.b=t[r+2],this}toArray(t=[],r=0){return t[r]=this.r,t[r+1]=this.g,t[r+2]=this.b,t}fromBufferAttribute(t,r){return this.r=t.getX(r),this.g=t.getY(r),this.b=t.getZ(r),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}return n.NAMES=VO,n})();wn.prototype.isColor=!0,wn.prototype.r=1,wn.prototype.g=1,wn.prototype.b=1;class pl extends is{constructor(e){super(),this.type="MeshBasicMaterial",this.color=new wn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}pl.prototype.isMeshBasicMaterial=!0;const Li=new Ce,A8=new Rt;class Ci{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===r,this.usage=Up,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),s=new wn),t[r++]=s.r,t[r++]=s.g,t[r++]=s.b}return this}copyVector2sArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),s=new Rt),t[r++]=s.x,t[r++]=s.y}return this}copyVector3sArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),s=new Ce),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z}return this}copyVector4sArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),s=new Si),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z,t[r++]=s.w}return this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,r=this.count;t<r;t++)A8.fromBufferAttribute(this,t),A8.applyMatrix3(e),this.setXY(t,A8.x,A8.y);else if(3===this.itemSize)for(let t=0,r=this.count;t<r;t++)Li.fromBufferAttribute(this,t),Li.applyMatrix3(e),this.setXYZ(t,Li.x,Li.y,Li.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Li.x=this.getX(t),Li.y=this.getY(t),Li.z=this.getZ(t),Li.applyMatrix4(e),this.setXYZ(t,Li.x,Li.y,Li.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Li.x=this.getX(t),Li.y=this.getY(t),Li.z=this.getZ(t),Li.applyNormalMatrix(e),this.setXYZ(t,Li.x,Li.y,Li.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Li.x=this.getX(t),Li.y=this.getY(t),Li.z=this.getZ(t),Li.transformDirection(e),this.setXYZ(t,Li.x,Li.y,Li.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,o){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Up&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}}Ci.prototype.isBufferAttribute=!0;class p_ extends Ci{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class m_ extends Ci{constructor(e,t,r){super(new Uint32Array(e),t,r)}}(class extends Ci{constructor(e,t,r){super(new Uint16Array(e),t,r)}}).prototype.isFloat16BufferAttribute=!0;class Bn extends Ci{constructor(e,t,r){super(new Float32Array(e),t,r)}}let Mde=0;const Oa=new Yn,g_=new hi,df=new Ce,fa=new La,Kp=new La,qo=new Ce;class lr extends Su{constructor(){super(),Object.defineProperty(this,"id",{value:Mde++}),this.uuid=ha(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(TO(e)>65535?m_:p_)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(void 0!==r){const o=(new Yo).getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Oa.makeRotationFromQuaternion(e),this.applyMatrix4(Oa),this}rotateX(e){return Oa.makeRotationX(e),this.applyMatrix4(Oa),this}rotateY(e){return Oa.makeRotationY(e),this.applyMatrix4(Oa),this}rotateZ(e){return Oa.makeRotationZ(e),this.applyMatrix4(Oa),this}translate(e,t,r){return Oa.makeTranslation(e,t,r),this.applyMatrix4(Oa),this}scale(e,t,r){return Oa.makeScale(e,t,r),this.applyMatrix4(Oa),this}lookAt(e){return g_.lookAt(e),g_.updateMatrix(),this.applyMatrix4(g_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(df).negate(),this.translate(df.x,df.y,df.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];t.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new Bn(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new La);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Ce(-1/0,-1/0,-1/0),new Ce(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++)fa.setFromBufferAttribute(t[r]),this.morphTargetsRelative?(qo.addVectors(this.boundingBox.min,fa.min),this.boundingBox.expandByPoint(qo),qo.addVectors(this.boundingBox.max,fa.max),this.boundingBox.expandByPoint(qo)):(this.boundingBox.expandByPoint(fa.min),this.boundingBox.expandByPoint(fa.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Uh);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Ce,1/0);if(e){const r=this.boundingSphere.center;if(fa.setFromBufferAttribute(e),t)for(let o=0,s=t.length;o<s;o++)Kp.setFromBufferAttribute(t[o]),this.morphTargetsRelative?(qo.addVectors(fa.min,Kp.min),fa.expandByPoint(qo),qo.addVectors(fa.max,Kp.max),fa.expandByPoint(qo)):(fa.expandByPoint(Kp.min),fa.expandByPoint(Kp.max));fa.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)qo.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(qo));if(t)for(let o=0,s=t.length;o<s;o++){const a=t[o],l=this.morphTargetsRelative;for(let c=0,p=a.count;c<p;c++)qo.fromBufferAttribute(a,c),l&&(df.fromBufferAttribute(e,c),qo.add(df)),i=Math.max(i,r.distanceToSquared(qo))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const r=e.array,i=t.position.array,o=t.normal.array,s=t.uv.array,a=i.length/3;void 0===t.tangent&&this.setAttribute("tangent",new Ci(new Float32Array(4*a),4));const l=t.tangent.array,c=[],p=[];for(let Oe=0;Oe<a;Oe++)c[Oe]=new Ce,p[Oe]=new Ce;const _=new Ce,S=new Ce,D=new Ce,k=new Rt,N=new Rt,B=new Rt,F=new Ce,I=new Ce;function X(Oe,ve,st){_.fromArray(i,3*Oe),S.fromArray(i,3*ve),D.fromArray(i,3*st),k.fromArray(s,2*Oe),N.fromArray(s,2*ve),B.fromArray(s,2*st),S.sub(_),D.sub(_),N.sub(k),B.sub(k);const je=1/(N.x*B.y-B.x*N.y);!isFinite(je)||(F.copy(S).multiplyScalar(B.y).addScaledVector(D,-N.y).multiplyScalar(je),I.copy(D).multiplyScalar(N.x).addScaledVector(S,-B.x).multiplyScalar(je),c[Oe].add(F),c[ve].add(F),c[st].add(F),p[Oe].add(I),p[ve].add(I),p[st].add(I))}let $=this.groups;0===$.length&&($=[{start:0,count:r.length}]);for(let Oe=0,ve=$.length;Oe<ve;++Oe){const st=$[Oe],je=st.start;for(let xe=je,he=je+st.count;xe<he;xe+=3)X(r[xe+0],r[xe+1],r[xe+2])}const re=new Ce,de=new Ce,se=new Ce,Me=new Ce;function He(Oe){se.fromArray(o,3*Oe),Me.copy(se);const ve=c[Oe];re.copy(ve),re.sub(se.multiplyScalar(se.dot(ve))).normalize(),de.crossVectors(Me,ve);const je=de.dot(p[Oe])<0?-1:1;l[4*Oe]=re.x,l[4*Oe+1]=re.y,l[4*Oe+2]=re.z,l[4*Oe+3]=je}for(let Oe=0,ve=$.length;Oe<ve;++Oe){const st=$[Oe],je=st.start;for(let xe=je,he=je+st.count;xe<he;xe+=3)He(r[xe+0]),He(r[xe+1]),He(r[xe+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let r=this.getAttribute("normal");if(void 0===r)r=new Ci(new Float32Array(3*t.count),3),this.setAttribute("normal",r);else for(let S=0,D=r.count;S<D;S++)r.setXYZ(S,0,0,0);const i=new Ce,o=new Ce,s=new Ce,a=new Ce,l=new Ce,c=new Ce,p=new Ce,_=new Ce;if(e)for(let S=0,D=e.count;S<D;S+=3){const k=e.getX(S+0),N=e.getX(S+1),B=e.getX(S+2);i.fromBufferAttribute(t,k),o.fromBufferAttribute(t,N),s.fromBufferAttribute(t,B),p.subVectors(s,o),_.subVectors(i,o),p.cross(_),a.fromBufferAttribute(r,k),l.fromBufferAttribute(r,N),c.fromBufferAttribute(r,B),a.add(p),l.add(p),c.add(p),r.setXYZ(k,a.x,a.y,a.z),r.setXYZ(N,l.x,l.y,l.z),r.setXYZ(B,c.x,c.y,c.z)}else for(let S=0,D=t.count;S<D;S+=3)i.fromBufferAttribute(t,S+0),o.fromBufferAttribute(t,S+1),s.fromBufferAttribute(t,S+2),p.subVectors(s,o),_.subVectors(i,o),p.cross(_),r.setXYZ(S+0,p.x,p.y,p.z),r.setXYZ(S+1,p.x,p.y,p.z),r.setXYZ(S+2,p.x,p.y,p.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,t){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const i in r){if(void 0===e.attributes[i])continue;const s=r[i].array,a=e.attributes[i],l=a.array,c=a.itemSize*t,p=Math.min(l.length,s.length-c);for(let _=0,S=c;_<p;_++,S++)s[S]=l[_]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)qo.fromBufferAttribute(e,t),qo.normalize(),e.setXYZ(t,qo.x,qo.y,qo.z)}toNonIndexed(){function e(a,l){const c=a.array,p=a.itemSize,_=a.normalized,S=new c.constructor(l.length*p);let D=0,k=0;for(let N=0,B=l.length;N<B;N++){D=a.isInterleavedBufferAttribute?l[N]*a.data.stride+a.offset:l[N]*p;for(let F=0;F<p;F++)S[k++]=c[D++]}return new Ci(S,p,_)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new lr,r=this.index.array,i=this.attributes;for(const a in i){const c=e(i[a],r);t.setAttribute(a,c)}const o=this.morphAttributes;for(const a in o){const l=[],c=o[a];for(let p=0,_=c.length;p<_;p++){const D=e(c[p],r);l.push(D)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,l=s.length;a<l;a++){const c=s[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const l=this.parameters;for(const c in l)void 0!==l[c]&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r)e.data.attributes[l]=r[l].toJSON(e.data);const i={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],p=[];for(let _=0,S=c.length;_<S;_++)p.push(c[_].toJSON(e.data));p.length>0&&(i[l]=p,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;null!==r&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i)this.setAttribute(c,i[c].clone(t));const o=e.morphAttributes;for(const c in o){const p=[],_=o[c];for(let S=0,D=_.length;S<D;S++)p.push(_[S].clone(t));this.morphAttributes[c]=p}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,p=s.length;c<p;c++){const _=s[c];this.addGroup(_.start,_.count,_.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const l=e.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}lr.prototype.isBufferGeometry=!0;const HO=new Yn,ff=new Yh,v_=new Uh,zu=new Ce,Au=new Ce,Pu=new Ce,y_=new Ce,__=new Ce,b_=new Ce,P8=new Ce,k8=new Ce,L8=new Ce,O8=new Rt,I8=new Rt,R8=new Rt,w_=new Ce,F8=new Ce;class Hi extends hi{constructor(e=new lr,t=new pl){super(),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){const r=this.geometry,i=this.material,o=this.matrixWorld;if(void 0===i||(null===r.boundingSphere&&r.computeBoundingSphere(),v_.copy(r.boundingSphere),v_.applyMatrix4(o),!1===e.ray.intersectsSphere(v_))||(HO.copy(o).invert(),ff.copy(e.ray).applyMatrix4(HO),null!==r.boundingBox&&!1===ff.intersectsBox(r.boundingBox)))return;let s;if(r.isBufferGeometry){const a=r.index,l=r.attributes.position,c=r.morphAttributes.position,p=r.morphTargetsRelative,_=r.attributes.uv,S=r.attributes.uv2,D=r.groups,k=r.drawRange;if(null!==a)if(Array.isArray(i))for(let N=0,B=D.length;N<B;N++){const F=D[N],I=i[F.materialIndex];for(let re=Math.max(F.start,k.start),de=Math.min(a.count,Math.min(F.start+F.count,k.start+k.count));re<de;re+=3){const se=a.getX(re),Me=a.getX(re+1),He=a.getX(re+2);s=N8(this,I,e,ff,l,c,p,_,S,se,Me,He),s&&(s.faceIndex=Math.floor(re/3),s.face.materialIndex=F.materialIndex,t.push(s))}}else for(let F=Math.max(0,k.start),I=Math.min(a.count,k.start+k.count);F<I;F+=3){const X=a.getX(F),$=a.getX(F+1),re=a.getX(F+2);s=N8(this,i,e,ff,l,c,p,_,S,X,$,re),s&&(s.faceIndex=Math.floor(F/3),t.push(s))}else if(void 0!==l)if(Array.isArray(i))for(let N=0,B=D.length;N<B;N++){const F=D[N],I=i[F.materialIndex];for(let re=Math.max(F.start,k.start),de=Math.min(l.count,Math.min(F.start+F.count,k.start+k.count));re<de;re+=3)s=N8(this,I,e,ff,l,c,p,_,S,re,re+1,re+2),s&&(s.faceIndex=Math.floor(re/3),s.face.materialIndex=F.materialIndex,t.push(s))}else for(let F=Math.max(0,k.start),I=Math.min(l.count,k.start+k.count);F<I;F+=3)s=N8(this,i,e,ff,l,c,p,_,S,F,F+1,F+2),s&&(s.faceIndex=Math.floor(F/3),t.push(s))}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}function N8(n,e,t,r,i,o,s,a,l,c,p,_){zu.fromBufferAttribute(i,c),Au.fromBufferAttribute(i,p),Pu.fromBufferAttribute(i,_);const S=n.morphTargetInfluences;if(o&&S){P8.set(0,0,0),k8.set(0,0,0),L8.set(0,0,0);for(let k=0,N=o.length;k<N;k++){const B=S[k],F=o[k];0!==B&&(y_.fromBufferAttribute(F,c),__.fromBufferAttribute(F,p),b_.fromBufferAttribute(F,_),s?(P8.addScaledVector(y_,B),k8.addScaledVector(__,B),L8.addScaledVector(b_,B)):(P8.addScaledVector(y_.sub(zu),B),k8.addScaledVector(__.sub(Au),B),L8.addScaledVector(b_.sub(Pu),B)))}zu.add(P8),Au.add(k8),Pu.add(L8)}n.isSkinnedMesh&&(n.boneTransform(c,zu),n.boneTransform(p,Au),n.boneTransform(_,Pu));const D=function(n,e,t,r,i,o,s,a){let l;if(l=1===e.side?r.intersectTriangle(s,o,i,!0,a):r.intersectTriangle(i,o,s,2!==e.side,a),null===l)return null;F8.copy(a),F8.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(F8);return c<t.near||c>t.far?null:{distance:c,point:F8.clone(),object:n}}(n,e,t,r,zu,Au,Pu,w_);if(D){a&&(O8.fromBufferAttribute(a,c),I8.fromBufferAttribute(a,p),R8.fromBufferAttribute(a,_),D.uv=Do.getUV(w_,zu,Au,Pu,O8,I8,R8,new Rt)),l&&(O8.fromBufferAttribute(l,c),I8.fromBufferAttribute(l,p),R8.fromBufferAttribute(l,_),D.uv2=Do.getUV(w_,zu,Au,Pu,O8,I8,R8,new Rt));const k={a:c,b:p,c:_,normal:new Ce,materialIndex:0};Do.getNormal(zu,Au,Pu,k.normal),D.face=k}return D}Hi.prototype.isMesh=!0;class ku extends lr{constructor(e=1,t=1,r=1,i=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:o,depthSegments:s};const a=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);const l=[],c=[],p=[],_=[];let S=0,D=0;function k(N,B,F,I,X,$,re,de,se,Me,He){const Oe=$/se,ve=re/Me,st=$/2,je=re/2,ge=de/2,xe=se+1,he=Me+1;let ke=0,et=0;const rt=new Ce;for(let yt=0;yt<he;yt++){const vt=yt*ve-je;for(let Ft=0;Ft<xe;Ft++)rt[N]=(Ft*Oe-st)*I,rt[B]=vt*X,rt[F]=ge,c.push(rt.x,rt.y,rt.z),rt[N]=0,rt[B]=0,rt[F]=de>0?1:-1,p.push(rt.x,rt.y,rt.z),_.push(Ft/se),_.push(1-yt/Me),ke+=1}for(let yt=0;yt<Me;yt++)for(let vt=0;vt<se;vt++){const xt=S+vt+xe*(yt+1),zt=S+(vt+1)+xe*(yt+1),Zt=S+(vt+1)+xe*yt;l.push(S+vt+xe*yt,xt,Zt),l.push(xt,zt,Zt),et+=6}a.addGroup(D,et,He),D+=et,S+=ke}k("z","y","x",-1,-1,r,t,e,s,o,0),k("z","y","x",1,-1,r,t,-e,s,o,1),k("x","z","y",1,1,e,r,t,i,s,2),k("x","z","y",1,-1,e,r,-t,i,s,3),k("x","y","z",1,-1,e,t,r,i,o,4),k("x","y","z",-1,-1,e,t,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new Bn(c,3)),this.setAttribute("normal",new Bn(p,3)),this.setAttribute("uv",new Bn(_,2))}static fromJSON(e){return new ku(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function pf(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];e[t][r]=i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.clone():Array.isArray(i)?i.slice():i}}return e}function _s(n){const e={};for(let t=0;t<n.length;t++){const r=pf(n[t]);for(const i in r)e[i]=r[i]}return e}const Cde={clone:pf,merge:_s};class ml extends is{constructor(e){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=pf(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;t.uniforms[i]=s&&s.isTexture?{type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?{type:"c",value:s.getHex()}:s&&s.isVector2?{type:"v2",value:s.toArray()}:s&&s.isVector3?{type:"v3",value:s.toArray()}:s&&s.isVector4?{type:"v4",value:s.toArray()}:s&&s.isMatrix3?{type:"m3",value:s.toArray()}:s&&s.isMatrix4?{type:"m4",value:s.toArray()}:{value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)!0===this.extensions[i]&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}ml.prototype.isShaderMaterial=!0;class V8 extends hi{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Yn,this.projectionMatrix=new Yn,this.projectionMatrixInverse=new Yn}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}V8.prototype.isCamera=!0;class $o extends V8{constructor(e=50,t=1,r=.1,i=2e3){super(),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Gp*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Hh*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Gp*Math.atan(Math.tan(.5*Hh*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,o,s){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Hh*this.fov)/this.zoom,r=2*t,i=this.aspect*r,o=-.5*i;const s=this.view;if(null!==this.view&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;o+=s.offsetX*i/l,t-=s.offsetY*r/c,i*=s.width/l,r*=s.height/c}const a=this.filmOffset;0!==a&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}$o.prototype.isPerspectiveCamera=!0;class x_ extends hi{constructor(e,t,r){if(super(),this.type="CubeCamera",!0!==r.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=r;const i=new $o(90,1,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Ce(1,0,0)),this.add(i);const o=new $o(90,1,e,t);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new Ce(-1,0,0)),this.add(o);const s=new $o(90,1,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new Ce(0,1,0)),this.add(s);const a=new $o(90,1,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new Ce(0,-1,0)),this.add(a);const l=new $o(90,1,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new Ce(0,0,1)),this.add(l);const c=new $o(90,1,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new Ce(0,0,-1)),this.add(c)}update(e,t){null===this.parent&&this.updateMatrixWorld();const r=this.renderTarget,[i,o,s,a,l,c]=this.children,p=e.xr.enabled,_=e.getRenderTarget();e.xr.enabled=!1;const S=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,o),e.setRenderTarget(r,2),e.render(t,s),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=S,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(_),e.xr.enabled=p}}class Zp extends Go{constructor(e,t,r,i,o,s,a,l,c,p){super(e=void 0!==e?e:[],t=void 0!==t?t:301,r,i,o,s,a,l,c,p),this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}Zp.prototype.isCubeTexture=!0;class M_ extends Wl{constructor(e,t,r){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=r),super(e,e,t),this.texture=new Zp(void 0,(t=t||{}).mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:No,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=vs,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r_uniforms={tEquirect:{value:null}},r_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",r_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",i=new ku(5,5,5),o=new ml({name:"CubemapFromEquirect",uniforms:pf(r_uniforms),vertexShader:r_vertexShader,fragmentShader:r_fragmentShader,side:1,blending:0});o.uniforms.tEquirect.value=t;const s=new Hi(i,o),a=t.minFilter;return 1008===t.minFilter&&(t.minFilter=No),new x_(1,10,this).update(e,s),t.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,r,i){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,r,i);e.setRenderTarget(o)}}M_.prototype.isWebGLCubeRenderTarget=!0;const S_=new Ce,Dde=new Ce,zde=new Yo;class Rc{constructor(e=new Ce(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=S_.subVectors(r,t).cross(Dde.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(S_),i=this.normal.dot(r);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:t.copy(r).multiplyScalar(o).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||zde.getNormalMatrix(e),i=this.coplanarPoint(S_).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}Rc.prototype.isPlane=!0;const vf=new Uh,H8=new Ce;class B8{constructor(e=new Rc,t=new Rc,r=new Rc,i=new Rc,o=new Rc,s=new Rc){this.planes=[e,t,r,i,o,s]}set(e,t,r,i,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(o),a[5].copy(s),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],o=r[1],s=r[2],a=r[3],l=r[4],c=r[5],p=r[6],_=r[7],S=r[8],D=r[9],k=r[10],N=r[11],B=r[12],F=r[13],I=r[14],X=r[15];return t[0].setComponents(a-i,_-l,N-S,X-B).normalize(),t[1].setComponents(a+i,_+l,N+S,X+B).normalize(),t[2].setComponents(a+o,_+c,N+D,X+F).normalize(),t[3].setComponents(a-o,_-c,N-D,X-F).normalize(),t[4].setComponents(a-s,_-p,N-k,X-I).normalize(),t[5].setComponents(a+s,_+p,N+k,X+I).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),vf.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(vf)}intersectsSprite(e){return vf.center.set(0,0,0),vf.radius=.7071067811865476,vf.applyMatrix4(e.matrixWorld),this.intersectsSphere(vf)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(H8.x=i.normal.x>0?e.max.x:e.min.x,H8.y=i.normal.y>0?e.max.y:e.min.y,H8.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(H8)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function BO(){let n=null,e=!1,t=null,r=null;function i(o,s){t(o,s),r=n.requestAnimationFrame(i)}return{start:function(){!0!==e&&null!==t&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){n=o}}}function Ade(n,e){const t=e.isWebGL2,r=new WeakMap;return{get:function(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)},remove:function(c){c.isInterleavedBufferAttribute&&(c=c.data);const p=r.get(c);p&&(n.deleteBuffer(p.buffer),r.delete(c))},update:function(c,p){if(c.isGLBufferAttribute){const S=r.get(c);return void((!S||S.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version}))}c.isInterleavedBufferAttribute&&(c=c.data);const _=r.get(c);void 0===_?r.set(c,function(c,p){const _=c.array,S=c.usage,D=n.createBuffer();n.bindBuffer(p,D),n.bufferData(p,_,S),c.onUploadCallback();let k=5126;return _ instanceof Float32Array?k=5126:_ instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):_ instanceof Uint16Array?c.isFloat16BufferAttribute?t?k=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):k=5123:_ instanceof Int16Array?k=5122:_ instanceof Uint32Array?k=5125:_ instanceof Int32Array?k=5124:_ instanceof Int8Array?k=5120:(_ instanceof Uint8Array||_ instanceof Uint8ClampedArray)&&(k=5121),{buffer:D,type:k,bytesPerElement:_.BYTES_PER_ELEMENT,version:c.version}}(c,p)):_.version<c.version&&(function(c,p,_){const S=p.array,D=p.updateRange;n.bindBuffer(_,c),-1===D.count?n.bufferSubData(_,0,S):(t?n.bufferSubData(_,D.offset*S.BYTES_PER_ELEMENT,S,D.offset,D.count):n.bufferSubData(_,D.offset*S.BYTES_PER_ELEMENT,S.subarray(D.offset,D.offset+D.count)),D.count=-1)}(_.buffer,c,p),_.version=c.version)}}}class Fc extends lr{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const o=e/2,s=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,p=l+1,_=e/a,S=t/l,D=[],k=[],N=[],B=[];for(let F=0;F<p;F++){const I=F*S-s;for(let X=0;X<c;X++)k.push(X*_-o,-I,0),N.push(0,0,1),B.push(X/a),B.push(1-F/l)}for(let F=0;F<l;F++)for(let I=0;I<a;I++){const $=I+c*(F+1),re=I+1+c*(F+1),de=I+1+c*F;D.push(I+c*F,$,de),D.push($,re,de)}this.setIndex(D),this.setAttribute("position",new Bn(k,3)),this.setAttribute("normal",new Bn(N,3)),this.setAttribute("uv",new Bn(B,2))}static fromJSON(e){return new Fc(e.width,e.height,e.widthSegments,e.heightSegments)}}const jr={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenTint, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenTint * ( D * V );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec;\n\t\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\t\treflectVec = reflect( - viewDir, normal );\n\t\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\t#else\n\t\t\t\treflectVec = refract( - viewDir, normal, refractionRatio );\n\t\t\t#endif\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tlightMapIrradiance *= PI;\n\t#endif\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularTintFactor = specularTint;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARTINTMAP\n\t\t\tspecularTintFactor *= specularTintMapTexelToLinear( texture2D( specularTintMap, vUv ) ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularTintFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularTintFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenTint = sheenTint;\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenTint;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenTint, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform vec2 morphTargetsTextureSize;\n\t\tvec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {\n\t\t\tfloat texelIndex = float( vertexIndex * stride + offset );\n\t\t\tfloat y = floor( texelIndex / morphTargetsTextureSize.x );\n\t\t\tfloat x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tvec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );\n\t\t\treturn texture( morphTargetsTexture, morphUV ).xyz;\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\t#ifndef USE_MORPHNORMALS\n\t\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];\n\t\t\t#else\n\t\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];\n\t\t\t#endif\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationTint, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationTint;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( float roughness, float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,\n\t\tvec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,\n\t\tvec3 attenuationColor, float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularTint;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARTINTMAP\n\t\tuniform sampler2D specularTintMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenTint;\n\tuniform float sheenRoughness;\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - clearcoat * Fcc ) + clearcoatSpecular * clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},mn={common:{diffuse:{value:new wn(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Yo},uv2Transform:{value:new Yo},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Rt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new wn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new wn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Yo}},sprite:{diffuse:{value:new wn(16777215)},opacity:{value:1},center:{value:new Rt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Yo}}},ql={basic:{uniforms:_s([mn.common,mn.specularmap,mn.envmap,mn.aomap,mn.lightmap,mn.fog]),vertexShader:jr.meshbasic_vert,fragmentShader:jr.meshbasic_frag},lambert:{uniforms:_s([mn.common,mn.specularmap,mn.envmap,mn.aomap,mn.lightmap,mn.emissivemap,mn.fog,mn.lights,{emissive:{value:new wn(0)}}]),vertexShader:jr.meshlambert_vert,fragmentShader:jr.meshlambert_frag},phong:{uniforms:_s([mn.common,mn.specularmap,mn.envmap,mn.aomap,mn.lightmap,mn.emissivemap,mn.bumpmap,mn.normalmap,mn.displacementmap,mn.fog,mn.lights,{emissive:{value:new wn(0)},specular:{value:new wn(1118481)},shininess:{value:30}}]),vertexShader:jr.meshphong_vert,fragmentShader:jr.meshphong_frag},standard:{uniforms:_s([mn.common,mn.envmap,mn.aomap,mn.lightmap,mn.emissivemap,mn.bumpmap,mn.normalmap,mn.displacementmap,mn.roughnessmap,mn.metalnessmap,mn.fog,mn.lights,{emissive:{value:new wn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:jr.meshphysical_vert,fragmentShader:jr.meshphysical_frag},toon:{uniforms:_s([mn.common,mn.aomap,mn.lightmap,mn.emissivemap,mn.bumpmap,mn.normalmap,mn.displacementmap,mn.gradientmap,mn.fog,mn.lights,{emissive:{value:new wn(0)}}]),vertexShader:jr.meshtoon_vert,fragmentShader:jr.meshtoon_frag},matcap:{uniforms:_s([mn.common,mn.bumpmap,mn.normalmap,mn.displacementmap,mn.fog,{matcap:{value:null}}]),vertexShader:jr.meshmatcap_vert,fragmentShader:jr.meshmatcap_frag},points:{uniforms:_s([mn.points,mn.fog]),vertexShader:jr.points_vert,fragmentShader:jr.points_frag},dashed:{uniforms:_s([mn.common,mn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:jr.linedashed_vert,fragmentShader:jr.linedashed_frag},depth:{uniforms:_s([mn.common,mn.displacementmap]),vertexShader:jr.depth_vert,fragmentShader:jr.depth_frag},normal:{uniforms:_s([mn.common,mn.bumpmap,mn.normalmap,mn.displacementmap,{opacity:{value:1}}]),vertexShader:jr.meshnormal_vert,fragmentShader:jr.meshnormal_frag},sprite:{uniforms:_s([mn.sprite,mn.fog]),vertexShader:jr.sprite_vert,fragmentShader:jr.sprite_frag},background:{uniforms:{uvTransform:{value:new Yo},t2D:{value:null}},vertexShader:jr.background_vert,fragmentShader:jr.background_frag},cube:{uniforms:_s([mn.envmap,{opacity:{value:1}}]),vertexShader:jr.cube_vert,fragmentShader:jr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:jr.equirect_vert,fragmentShader:jr.equirect_frag},distanceRGBA:{uniforms:_s([mn.common,mn.displacementmap,{referencePosition:{value:new Ce},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:jr.distanceRGBA_vert,fragmentShader:jr.distanceRGBA_frag},shadow:{uniforms:_s([mn.lights,mn.fog,{color:{value:new wn(0)},opacity:{value:1}}]),vertexShader:jr.shadow_vert,fragmentShader:jr.shadow_frag}};function Cfe(n,e,t,r,i){const o=new wn(0);let a,l,s=0,c=null,p=0,_=null;function D(k,N){t.buffers.color.setClear(k.r,k.g,k.b,N,i)}return{getClearColor:function(){return o},setClearColor:function(k,N=1){o.set(k),s=N,D(o,s)},getClearAlpha:function(){return s},setClearAlpha:function(k){s=k,D(o,s)},render:function(k,N){let B=!1,F=!0===N.isScene?N.background:null;F&&F.isTexture&&(F=e.get(F));const I=n.xr,X=I.getSession&&I.getSession();X&&"additive"===X.environmentBlendMode&&(F=null),null===F?D(o,s):F&&F.isColor&&(D(F,1),B=!0),(n.autoClear||B)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),F&&(F.isCubeTexture||306===F.mapping)?(void 0===l&&(l=new Hi(new ku(1,1,1),new ml({name:"BackgroundCubeMaterial",uniforms:pf(ql.cube.uniforms),vertexShader:ql.cube.vertexShader,fragmentShader:ql.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function($,re,de){this.matrixWorld.copyPosition(de.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(l)),l.material.uniforms.envMap.value=F,l.material.uniforms.flipEnvMap.value=F.isCubeTexture&&!1===F.isRenderTargetTexture?-1:1,(c!==F||p!==F.version||_!==n.toneMapping)&&(l.material.needsUpdate=!0,c=F,p=F.version,_=n.toneMapping),k.unshift(l,l.geometry,l.material,0,0,null)):F&&F.isTexture&&(void 0===a&&(a=new Hi(new Fc(2,2),new ml({name:"BackgroundMaterial",uniforms:pf(ql.background.uniforms),vertexShader:ql.background.vertexShader,fragmentShader:ql.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(a)),a.material.uniforms.t2D.value=F,!0===F.matrixAutoUpdate&&F.updateMatrix(),a.material.uniforms.uvTransform.value.copy(F.matrix),(c!==F||p!==F.version||_!==n.toneMapping)&&(a.material.needsUpdate=!0,c=F,p=F.version,_=n.toneMapping),k.unshift(a,a.geometry,a.material,0,0,null))}}}function Tfe(n,e,t,r){const i=n.getParameter(34921),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),s=r.isWebGL2||null!==o,a={},l=N(null);let c=l;function S(je){return r.isWebGL2?n.bindVertexArray(je):o.bindVertexArrayOES(je)}function D(je){return r.isWebGL2?n.deleteVertexArray(je):o.deleteVertexArrayOES(je)}function N(je){const ge=[],xe=[],he=[];for(let ke=0;ke<i;ke++)ge[ke]=0,xe[ke]=0,he[ke]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ge,enabledAttributes:xe,attributeDivisors:he,object:je,attributes:{},index:null}}function I(){const je=c.newAttributes;for(let ge=0,xe=je.length;ge<xe;ge++)je[ge]=0}function X(je){$(je,0)}function $(je,ge){const he=c.enabledAttributes,ke=c.attributeDivisors;c.newAttributes[je]=1,0===he[je]&&(n.enableVertexAttribArray(je),he[je]=1),ke[je]!==ge&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](je,ge),ke[je]=ge)}function re(){const je=c.newAttributes,ge=c.enabledAttributes;for(let xe=0,he=ge.length;xe<he;xe++)ge[xe]!==je[xe]&&(n.disableVertexAttribArray(xe),ge[xe]=0)}function de(je,ge,xe,he,ke,et){!0!==r.isWebGL2||5124!==xe&&5125!==xe?n.vertexAttribPointer(je,ge,xe,he,ke,et):n.vertexAttribIPointer(je,ge,xe,ke,et)}function ve(){st(),c!==l&&(c=l,S(c.object))}function st(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(je,ge,xe,he,ke){let et=!1;if(s){const rt=function(je,ge,xe){const he=!0===xe.wireframe;let ke=a[je.id];void 0===ke&&(ke={},a[je.id]=ke);let et=ke[ge.id];void 0===et&&(et={},ke[ge.id]=et);let rt=et[he];return void 0===rt&&(rt=N(r.isWebGL2?n.createVertexArray():o.createVertexArrayOES()),et[he]=rt),rt}(he,xe,ge);c!==rt&&(c=rt,S(c.object)),et=function(je,ge){const xe=c.attributes,he=je.attributes;let ke=0;for(const et in he){const rt=xe[et],yt=he[et];if(void 0===rt||rt.attribute!==yt||rt.data!==yt.data)return!0;ke++}return c.attributesNum!==ke||c.index!==ge}(he,ke),et&&function(je,ge){const xe={},he=je.attributes;let ke=0;for(const et in he){const rt=he[et],yt={};yt.attribute=rt,rt.data&&(yt.data=rt.data),xe[et]=yt,ke++}c.attributes=xe,c.attributesNum=ke,c.index=ge}(he,ke)}else{const rt=!0===ge.wireframe;(c.geometry!==he.id||c.program!==xe.id||c.wireframe!==rt)&&(c.geometry=he.id,c.program=xe.id,c.wireframe=rt,et=!0)}!0===je.isInstancedMesh&&(et=!0),null!==ke&&t.update(ke,34963),et&&(function(je,ge,xe,he){if(!1===r.isWebGL2&&(je.isInstancedMesh||he.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;I();const ke=he.attributes,et=xe.getAttributes(),rt=ge.defaultAttributeValues;for(const yt in et){const vt=et[yt];if(vt.location>=0){let Ft=ke[yt];if(void 0===Ft&&("instanceMatrix"===yt&&je.instanceMatrix&&(Ft=je.instanceMatrix),"instanceColor"===yt&&je.instanceColor&&(Ft=je.instanceColor)),void 0!==Ft){const xt=Ft.normalized,zt=Ft.itemSize,Zt=t.get(Ft);if(void 0===Zt)continue;const at=Zt.buffer,qt=Zt.type,gn=Zt.bytesPerElement;if(Ft.isInterleavedBufferAttribute){const nn=Ft.data,ln=nn.stride,or=Ft.offset;if(nn&&nn.isInstancedInterleavedBuffer){for(let Lt=0;Lt<vt.locationSize;Lt++)$(vt.location+Lt,nn.meshPerAttribute);!0!==je.isInstancedMesh&&void 0===he._maxInstanceCount&&(he._maxInstanceCount=nn.meshPerAttribute*nn.count)}else for(let Lt=0;Lt<vt.locationSize;Lt++)X(vt.location+Lt);n.bindBuffer(34962,at);for(let Lt=0;Lt<vt.locationSize;Lt++)de(vt.location+Lt,zt/vt.locationSize,qt,xt,ln*gn,(or+zt/vt.locationSize*Lt)*gn)}else{if(Ft.isInstancedBufferAttribute){for(let nn=0;nn<vt.locationSize;nn++)$(vt.location+nn,Ft.meshPerAttribute);!0!==je.isInstancedMesh&&void 0===he._maxInstanceCount&&(he._maxInstanceCount=Ft.meshPerAttribute*Ft.count)}else for(let nn=0;nn<vt.locationSize;nn++)X(vt.location+nn);n.bindBuffer(34962,at);for(let nn=0;nn<vt.locationSize;nn++)de(vt.location+nn,zt/vt.locationSize,qt,xt,zt*gn,zt/vt.locationSize*nn*gn)}}else if(void 0!==rt){const xt=rt[yt];if(void 0!==xt)switch(xt.length){case 2:n.vertexAttrib2fv(vt.location,xt);break;case 3:n.vertexAttrib3fv(vt.location,xt);break;case 4:n.vertexAttrib4fv(vt.location,xt);break;default:n.vertexAttrib1fv(vt.location,xt)}}}}re()}(je,ge,xe,he),null!==ke&&n.bindBuffer(34963,t.get(ke).buffer))},reset:ve,resetDefaultState:st,dispose:function(){ve();for(const je in a){const ge=a[je];for(const xe in ge){const he=ge[xe];for(const ke in he)D(he[ke].object),delete he[ke];delete ge[xe]}delete a[je]}},releaseStatesOfGeometry:function(je){if(void 0===a[je.id])return;const ge=a[je.id];for(const xe in ge){const he=ge[xe];for(const ke in he)D(he[ke].object),delete he[ke];delete ge[xe]}delete a[je.id]},releaseStatesOfProgram:function(je){for(const ge in a){const xe=a[ge];if(void 0===xe[je.id])continue;const he=xe[je.id];for(const ke in he)D(he[ke].object),delete he[ke];delete xe[je.id]}},initAttributes:I,enableAttribute:X,disableUnusedAttributes:re}}function Efe(n,e,t,r){const i=r.isWebGL2;let o;this.setMode=function(c){o=c},this.render=function(c,p){n.drawArrays(o,c,p),t.update(p,o,1)},this.renderInstances=function(c,p,_){if(0===_)return;let S,D;if(i)S=n,D="drawArraysInstanced";else if(S=e.get("ANGLE_instanced_arrays"),D="drawArraysInstancedANGLE",null===S)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");S[D](o,c,p,_),t.update(p,o,_)}}function Dfe(n,e,t){let r;function o(se){if("highp"===se){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";se="mediump"}return"mediump"===se&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s="undefined"!=typeof WebGL2RenderingContext&&n instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&n instanceof WebGL2ComputeRenderingContext;let a=void 0!==t.precision?t.precision:"highp";const l=o(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=s||e.has("WEBGL_draw_buffers"),p=!0===t.logarithmicDepthBuffer,_=n.getParameter(34930),S=n.getParameter(35660),D=n.getParameter(3379),k=n.getParameter(34076),N=n.getParameter(34921),B=n.getParameter(36347),F=n.getParameter(36348),I=n.getParameter(36349),X=S>0,$=s||e.has("OES_texture_float");return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===e.has("EXT_texture_filter_anisotropic")){const se=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(se.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:o,precision:a,logarithmicDepthBuffer:p,maxTextures:_,maxVertexTextures:S,maxTextureSize:D,maxCubemapSize:k,maxAttributes:N,maxVertexUniforms:B,maxVaryings:F,maxFragmentUniforms:I,vertexTextures:X,floatFragmentTextures:$,floatVertexTextures:X&&$,maxSamples:s?n.getParameter(36183):0}}function zfe(n){const e=this;let t=null,r=0,i=!1,o=!1;const s=new Rc,a=new Yo,l={value:null,needsUpdate:!1};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function p(_,S,D,k){const N=null!==_?_.length:0;let B=null;if(0!==N){if(B=l.value,!0!==k||null===B){const F=D+4*N,I=S.matrixWorldInverse;a.getNormalMatrix(I),(null===B||B.length<F)&&(B=new Float32Array(F));for(let X=0,$=D;X!==N;++X,$+=4)s.copy(_[X]).applyMatrix4(I,a),s.normal.toArray(B,$),B[$+3]=s.constant}l.value=B,l.needsUpdate=!0}return e.numPlanes=N,e.numIntersection=0,B}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(_,S,D){const k=0!==_.length||S||0!==r||i;return i=S,t=p(_,D,0),r=_.length,k},this.beginShadows=function(){o=!0,p(null)},this.endShadows=function(){o=!1,c()},this.setState=function(_,S,D){const k=_.clippingPlanes,N=_.clipIntersection,B=_.clipShadows,F=n.get(_);if(!i||null===k||0===k.length||o&&!B)o?p(null):c();else{const I=o?0:r,X=4*I;let $=F.clippingState||null;l.value=$,$=p(k,S,X,D);for(let re=0;re!==X;++re)$[re]=t[re];F.clippingState=$,this.numIntersection=N?this.numPlanes:0,this.numPlanes+=I}}}function Afe(n){let e=new WeakMap;function t(s,a){return 303===a?s.mapping=301:304===a&&(s.mapping=302),s}function i(s){const a=s.target;a.removeEventListener("dispose",i);const l=e.get(a);void 0!==l&&(e.delete(a),l.dispose())}return{get:function(s){if(s&&s.isTexture&&!1===s.isRenderTargetTexture){const a=s.mapping;if(303===a||304===a){if(e.has(s))return t(e.get(s).texture,s.mapping);{const l=s.image;if(l&&l.height>0){const c=n.getRenderTarget(),p=new M_(l.height/2);return p.fromEquirectangularTexture(n,s),e.set(s,p),n.setRenderTarget(c),s.addEventListener("dispose",i),t(p.texture,s.mapping)}return null}}}return s},dispose:function(){e=new WeakMap}}}ql.physical={uniforms:_s([ql.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Rt(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenTint:{value:new wn(0)},sheenRoughness:{value:0},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Rt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationTint:{value:new wn(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularTint:{value:new wn(1,1,1)},specularTintMap:{value:null}}]),vertexShader:jr.meshphysical_vert,fragmentShader:jr.meshphysical_frag};class Qp extends V8{constructor(e=-1,t=1,r=1,i=-1,o=.1,s=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,o,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,s=r+e,a=i+t,l=i-t;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,s=o+c*this.view.width,a-=p*this.view.offsetY,l=a-p*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}Qp.prototype.isOrthographicCamera=!0;class Jp extends ml{constructor(e){super(e),this.type="RawShaderMaterial"}}Jp.prototype.isRawShaderMaterial=!0;const $l=Math.pow(2,8),jO=[.125,.215,.35,.446,.526,.582],UO=5+jO.length,Ou={[ys]:0,[Vh]:1,3002:2,3004:3,3005:4,3006:5,3007:6},C_=new Qp,{_lodPlanes:e4,_sizeLods:YO,_sigmas:j8}=Lfe(),GO=new wn;let T_=null;const Gh=(1+Math.sqrt(5))/2,bf=1/Gh,WO=[new Ce(1,1,1),new Ce(-1,1,1),new Ce(1,1,-1),new Ce(-1,1,-1),new Ce(0,Gh,bf),new Ce(0,Gh,-bf),new Ce(bf,0,Gh),new Ce(-bf,0,Gh),new Ce(Gh,bf,0),new Ce(-Gh,bf,0)];class Pfe{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=function(n){const e=new Float32Array(20),t=new Ce(0,1,0);return new Jp({name:"SphericalGaussianBlur",defines:{n:20},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:t},inputEncoding:{value:Ou[ys]},outputEncoding:{value:Ou[ys]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){T_=this._renderer.getRenderTarget();const o=this._allocateTargets();return this._sceneToCubeUV(e,r,i,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){null===this._cubemapShader&&(this._cubemapShader=XO(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){null===this._equirectShader&&(this._equirectShader=$O(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(let e=0;e<e4.length;e++)e4[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(T_),e.scissorTest=!1,U8(e,0,0,e.width,e.height)}_fromTexture(e){T_=this._renderer.getRenderTarget();const t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}_allocateTargets(e){const t={magFilter:Fo,minFilter:Fo,generateMipmaps:!1,type:Mu,format:1023,encoding:kfe(e)?e.encoding:3002,depthBuffer:!1},r=qO(t);return r.depthBuffer=!e,this._pingPongRenderTarget=qO(t),r}_compileMaterial(e){const t=new Hi(e4[0],e);this._renderer.compile(t,C_)}_sceneToCubeUV(e,t,r,i){const a=new $o(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],p=this._renderer,_=p.autoClear,S=p.outputEncoding,D=p.toneMapping;p.getClearColor(GO),p.toneMapping=0,p.outputEncoding=ys,p.autoClear=!1;const k=new pl({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),N=new Hi(new ku,k);let B=!1;const F=e.background;F?F.isColor&&(k.color.copy(F),e.background=null,B=!0):(k.color.copy(GO),B=!0);for(let I=0;I<6;I++){const X=I%3;0==X?(a.up.set(0,l[I],0),a.lookAt(c[I],0,0)):1==X?(a.up.set(0,0,l[I]),a.lookAt(0,c[I],0)):(a.up.set(0,l[I],0),a.lookAt(0,0,c[I])),U8(i,X*$l,I>2?$l:0,$l,$l),p.setRenderTarget(i),B&&p.render(N,a),p.render(e,a)}N.geometry.dispose(),N.material.dispose(),p.toneMapping=D,p.outputEncoding=S,p.autoClear=_,e.background=F}_setEncoding(e,t){e.value=!0===this._renderer.capabilities.isWebGL2&&t.format===vs&&t.type===Mu&&t.encoding===Vh?Ou[ys]:Ou[t.encoding]}_textureToCubeUV(e,t){const r=this._renderer;e.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=XO()):null==this._equirectShader&&(this._equirectShader=$O());const i=e.isCubeTexture?this._cubemapShader:this._equirectShader,o=new Hi(e4[0],i),s=i.uniforms;s.envMap.value=e,e.isCubeTexture||s.texelSize.value.set(1/e.image.width,1/e.image.height),this._setEncoding(s.inputEncoding,e),this._setEncoding(s.outputEncoding,t.texture),U8(t,0,0,3*$l,2*$l),r.setRenderTarget(t),r.render(o,C_)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<UO;i++){const o=Math.sqrt(j8[i]*j8[i]-j8[i-1]*j8[i-1]);this._blur(e,i-1,i,o,WO[(i-1)%WO.length])}t.autoClear=r}_blur(e,t,r,i,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,r,i,"latitudinal",o),this._halfBlur(s,e,r,r,i,"longitudinal",o)}_halfBlur(e,t,r,i,o,s,a){const l=this._renderer,c=this._blurMaterial;"latitudinal"!==s&&"longitudinal"!==s&&console.error("blur direction must be either latitudinal or longitudinal!");const _=new Hi(e4[i],c),S=c.uniforms,D=YO[r]-1,k=isFinite(o)?Math.PI/(2*D):2*Math.PI/39,N=o/k,B=isFinite(o)?1+Math.floor(3*N):20;B>20&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${B} samples when the maximum is set to 20`);const F=[];let I=0;for(let de=0;de<20;++de){const se=de/N,Me=Math.exp(-se*se/2);F.push(Me),0==de?I+=Me:de<B&&(I+=2*Me)}for(let de=0;de<F.length;de++)F[de]=F[de]/I;S.envMap.value=e.texture,S.samples.value=B,S.weights.value=F,S.latitudinal.value="latitudinal"===s,a&&(S.poleAxis.value=a),S.dTheta.value=k,S.mipInt.value=8-r,this._setEncoding(S.inputEncoding,e.texture),this._setEncoding(S.outputEncoding,e.texture);const X=YO[i];U8(t,3*Math.max(0,$l-2*X),(0===i?0:2*$l)+2*X*(i>4?i-8+4:0),3*X,2*X),l.setRenderTarget(t),l.render(_,C_)}}function kfe(n){return void 0!==n&&n.type===Mu&&(n.encoding===ys||n.encoding===Vh||3007===n.encoding)}function Lfe(){const n=[],e=[],t=[];let r=8;for(let i=0;i<UO;i++){const o=Math.pow(2,r);e.push(o);let s=1/o;i>4?s=jO[i-8+4-1]:0==i&&(s=0),t.push(s);const a=1/(o-1),l=-a/2,c=1+a/2,p=[l,l,c,l,c,c,l,l,c,c,l,c],_=6,S=6,D=3,k=2,N=1,B=new Float32Array(D*S*_),F=new Float32Array(k*S*_),I=new Float32Array(N*S*_);for(let $=0;$<_;$++){const re=$%3*2/3-1,de=$>2?0:-1;B.set([re,de,0,re+2/3,de,0,re+2/3,de+1,0,re,de,0,re+2/3,de+1,0,re,de+1,0],D*S*$),F.set(p,k*S*$),I.set([$,$,$,$,$,$],N*S*$)}const X=new lr;X.setAttribute("position",new Ci(B,D)),X.setAttribute("uv",new Ci(F,k)),X.setAttribute("faceIndex",new Ci(I,N)),n.push(X),r>4&&r--}return{_lodPlanes:n,_sizeLods:e,_sigmas:t}}function qO(n){const e=new Wl(3*$l,3*$l,n);return e.texture.mapping=306,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function U8(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function $O(){const n=new Rt(1,1);return new Jp({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:n},inputEncoding:{value:Ou[ys]},outputEncoding:{value:Ou[ys]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function XO(){return new Jp({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Ou[ys]},outputEncoding:{value:Ou[ys]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Ife(n){let e=new WeakMap,t=null;function o(a){const l=a.target;l.removeEventListener("dispose",o);const c=e.get(l);void 0!==c&&(e.delete(l),c.dispose())}return{get:function(a){if(a&&a.isTexture&&!1===a.isRenderTargetTexture){const l=a.mapping,c=303===l||304===l,p=301===l||302===l;if(c||p){if(e.has(a))return e.get(a).texture;{const _=a.image;if(c&&_&&_.height>0||p&&_&&function(a){let l=0;for(let p=0;p<6;p++)void 0!==a[p]&&l++;return 6===l}(_)){const S=n.getRenderTarget();null===t&&(t=new Pfe(n));const D=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,D),n.setRenderTarget(S),a.addEventListener("dispose",o),D.texture}return null}}}return a},dispose:function(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function Rfe(n){const e={};function t(r){if(void 0!==e[r])return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return null!==t(r)},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float")},get:function(r){const i=t(r);return null===i&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Ffe(n,e,t,r){const i={},o=new WeakMap;function s(_){const S=_.target;null!==S.index&&e.remove(S.index);for(const k in S.attributes)e.remove(S.attributes[k]);S.removeEventListener("dispose",s),delete i[S.id];const D=o.get(S);D&&(e.remove(D),o.delete(S)),r.releaseStatesOfGeometry(S),!0===S.isInstancedBufferGeometry&&delete S._maxInstanceCount,t.memory.geometries--}function c(_){const S=[],D=_.index,k=_.attributes.position;let N=0;if(null!==D){const I=D.array;N=D.version;for(let X=0,$=I.length;X<$;X+=3){const re=I[X+0],de=I[X+1],se=I[X+2];S.push(re,de,de,se,se,re)}}else{N=k.version;for(let X=0,$=k.array.length/3-1;X<$;X+=3){const re=X+0,de=X+1,se=X+2;S.push(re,de,de,se,se,re)}}const B=new(TO(S)>65535?m_:p_)(S,1);B.version=N;const F=o.get(_);F&&e.remove(F),o.set(_,B)}return{get:function(_,S){return!0===i[S.id]||(S.addEventListener("dispose",s),i[S.id]=!0,t.memory.geometries++),S},update:function(_){const S=_.attributes;for(const k in S)e.update(S[k],34962);const D=_.morphAttributes;for(const k in D){const N=D[k];for(let B=0,F=N.length;B<F;B++)e.update(N[B],34962)}},getWireframeAttribute:function(_){const S=o.get(_);if(S){const D=_.index;null!==D&&S.version<D.version&&c(_)}else c(_);return o.get(_)}}}function Nfe(n,e,t,r){const i=r.isWebGL2;let o,a,l;this.setMode=function(S){o=S},this.setIndex=function(S){a=S.type,l=S.bytesPerElement},this.render=function(S,D){n.drawElements(o,D,a,S*l),t.update(D,o,1)},this.renderInstances=function(S,D,k){if(0===k)return;let N,B;if(i)N=n,B="drawElementsInstanced";else if(N=e.get("ANGLE_instanced_arrays"),B="drawElementsInstancedANGLE",null===N)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");N[B](o,D,a,S*l,k),t.update(D,o,k)}}function Vfe(n){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(o,s,a){switch(t.calls++,s){case 4:t.triangles+=a*(o/3);break;case 1:t.lines+=a*(o/2);break;case 3:t.lines+=a*(o-1);break;case 2:t.lines+=a*o;break;case 0:t.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s)}}}}class z_ extends Go{constructor(e=null,t=1,r=1,i=1){super(null),this.image={data:e,width:t,height:r,depth:i},this.magFilter=Fo,this.minFilter=Fo,this.wrapR=Ro,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}function Hfe(n,e){return n[0]-e[0]}function Bfe(n,e){return Math.abs(e[1])-Math.abs(n[1])}function KO(n,e){let t=1;const r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?t=127:r instanceof Int16Array?t=32767:r instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),n.divideScalar(t)}function jfe(n,e,t){const r={},i=new Float32Array(8),o=new WeakMap,s=new Ce,a=[];for(let c=0;c<8;c++)a[c]=[c,0];return{update:function(c,p,_,S){const D=c.morphTargetInfluences;if(!0===e.isWebGL2){const k=p.morphAttributes.position.length;let N=o.get(p);if(void 0===N||N.count!==k){void 0!==N&&N.texture.dispose();const I=void 0!==p.morphAttributes.normal,X=p.morphAttributes.position,$=p.morphAttributes.normal||[],de=!0===I?2:1;let se=p.attributes.position.count*de,Me=1;se>e.maxTextureSize&&(Me=Math.ceil(se/e.maxTextureSize),se=e.maxTextureSize);const He=new Float32Array(se*Me*4*k),Oe=new z_(He,se,Me,k);Oe.format=vs,Oe.type=Ac;const ve=4*de;for(let st=0;st<k;st++){const je=X[st],ge=$[st],xe=se*Me*4*st;for(let he=0;he<je.count;he++){s.fromBufferAttribute(je,he),!0===je.normalized&&KO(s,je);const ke=he*ve;He[xe+ke+0]=s.x,He[xe+ke+1]=s.y,He[xe+ke+2]=s.z,He[xe+ke+3]=0,!0===I&&(s.fromBufferAttribute(ge,he),!0===ge.normalized&&KO(s,ge),He[xe+ke+4]=s.x,He[xe+ke+5]=s.y,He[xe+ke+6]=s.z,He[xe+ke+7]=0)}}N={count:k,texture:Oe,size:new Rt(se,Me)},o.set(p,N)}let B=0;for(let I=0;I<D.length;I++)B+=D[I];const F=p.morphTargetsRelative?1:1-B;S.getUniforms().setValue(n,"morphTargetBaseInfluence",F),S.getUniforms().setValue(n,"morphTargetInfluences",D),S.getUniforms().setValue(n,"morphTargetsTexture",N.texture,t),S.getUniforms().setValue(n,"morphTargetsTextureSize",N.size)}else{const k=void 0===D?0:D.length;let N=r[p.id];if(void 0===N||N.length!==k){N=[];for(let $=0;$<k;$++)N[$]=[$,0];r[p.id]=N}for(let $=0;$<k;$++){const re=N[$];re[0]=$,re[1]=D[$]}N.sort(Bfe);for(let $=0;$<8;$++)$<k&&N[$][1]?(a[$][0]=N[$][0],a[$][1]=N[$][1]):(a[$][0]=Number.MAX_SAFE_INTEGER,a[$][1]=0);a.sort(Hfe);const B=p.morphAttributes.position,F=p.morphAttributes.normal;let I=0;for(let $=0;$<8;$++){const re=a[$],de=re[0],se=re[1];de!==Number.MAX_SAFE_INTEGER&&se?(B&&p.getAttribute("morphTarget"+$)!==B[de]&&p.setAttribute("morphTarget"+$,B[de]),F&&p.getAttribute("morphNormal"+$)!==F[de]&&p.setAttribute("morphNormal"+$,F[de]),i[$]=se,I+=se):(B&&!0===p.hasAttribute("morphTarget"+$)&&p.deleteAttribute("morphTarget"+$),F&&!0===p.hasAttribute("morphNormal"+$)&&p.deleteAttribute("morphNormal"+$),i[$]=0)}const X=p.morphTargetsRelative?1:1-I;S.getUniforms().setValue(n,"morphTargetBaseInfluence",X),S.getUniforms().setValue(n,"morphTargetInfluences",i)}}}}function Ufe(n,e,t,r){let i=new WeakMap;function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),null!==c.instanceColor&&t.remove(c.instanceColor)}return{update:function(l){const c=r.render.frame,_=e.get(l,l.geometry);return i.get(_)!==c&&(e.update(_),i.set(_,c)),l.isInstancedMesh&&(!1===l.hasEventListener("dispose",a)&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),null!==l.instanceColor&&t.update(l.instanceColor,34962)),_},dispose:function(){i=new WeakMap}}}z_.prototype.isDataTexture2DArray=!0;class ZO extends Go{constructor(e=null,t=1,r=1,i=1){super(null),this.image={data:e,width:t,height:r,depth:i},this.magFilter=Fo,this.minFilter=Fo,this.wrapR=Ro,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}ZO.prototype.isDataTexture3D=!0;const QO=new Go,Yfe=new z_,Gfe=new ZO,JO=new Zp,eI=[],tI=[],nI=new Float32Array(16),rI=new Float32Array(9),iI=new Float32Array(4);function wf(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let o=eI[i];if(void 0===o&&(o=new Float32Array(i),eI[i]=o),0!==e){r.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=t,n[s].toArray(o,a)}return o}function Rs(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function bs(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function oI(n,e){let t=tI[e];void 0===t&&(t=new Int32Array(e),tI[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function Wfe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function qfe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Rs(t,e))return;n.uniform2fv(this.addr,e),bs(t,e)}}function $fe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Rs(t,e))return;n.uniform3fv(this.addr,e),bs(t,e)}}function Xfe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Rs(t,e))return;n.uniform4fv(this.addr,e),bs(t,e)}}function Kfe(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(Rs(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),bs(t,e)}else{if(Rs(t,r))return;iI.set(r),n.uniformMatrix2fv(this.addr,!1,iI),bs(t,r)}}function Zfe(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(Rs(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),bs(t,e)}else{if(Rs(t,r))return;rI.set(r),n.uniformMatrix3fv(this.addr,!1,rI),bs(t,r)}}function Qfe(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(Rs(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),bs(t,e)}else{if(Rs(t,r))return;nI.set(r),n.uniformMatrix4fv(this.addr,!1,nI),bs(t,r)}}function Jfe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function e0e(n,e){const t=this.cache;Rs(t,e)||(n.uniform2iv(this.addr,e),bs(t,e))}function t0e(n,e){const t=this.cache;Rs(t,e)||(n.uniform3iv(this.addr,e),bs(t,e))}function n0e(n,e){const t=this.cache;Rs(t,e)||(n.uniform4iv(this.addr,e),bs(t,e))}function r0e(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function i0e(n,e){const t=this.cache;Rs(t,e)||(n.uniform2uiv(this.addr,e),bs(t,e))}function o0e(n,e){const t=this.cache;Rs(t,e)||(n.uniform3uiv(this.addr,e),bs(t,e))}function s0e(n,e){const t=this.cache;Rs(t,e)||(n.uniform4uiv(this.addr,e),bs(t,e))}function a0e(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.safeSetTexture2D(e||QO,i)}function l0e(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||Gfe,i)}function c0e(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.safeSetTextureCube(e||JO,i)}function u0e(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||Yfe,i)}function d0e(n,e){n.uniform1fv(this.addr,e)}function f0e(n,e){const t=wf(e,this.size,2);n.uniform2fv(this.addr,t)}function p0e(n,e){const t=wf(e,this.size,3);n.uniform3fv(this.addr,t)}function m0e(n,e){const t=wf(e,this.size,4);n.uniform4fv(this.addr,t)}function g0e(n,e){const t=wf(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function v0e(n,e){const t=wf(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function y0e(n,e){const t=wf(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function _0e(n,e){n.uniform1iv(this.addr,e)}function b0e(n,e){n.uniform2iv(this.addr,e)}function w0e(n,e){n.uniform3iv(this.addr,e)}function x0e(n,e){n.uniform4iv(this.addr,e)}function M0e(n,e){n.uniform1uiv(this.addr,e)}function S0e(n,e){n.uniform2uiv(this.addr,e)}function C0e(n,e){n.uniform3uiv(this.addr,e)}function T0e(n,e){n.uniform4uiv(this.addr,e)}function E0e(n,e,t){const r=e.length,i=oI(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.safeSetTexture2D(e[o]||QO,i[o])}function D0e(n,e,t){const r=e.length,i=oI(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.safeSetTextureCube(e[o]||JO,i[o])}function A0e(n,e,t){this.id=n,this.addr=t,this.cache=[],this.setValue=function(n){switch(n){case 5126:return Wfe;case 35664:return qfe;case 35665:return $fe;case 35666:return Xfe;case 35674:return Kfe;case 35675:return Zfe;case 35676:return Qfe;case 5124:case 35670:return Jfe;case 35667:case 35671:return e0e;case 35668:case 35672:return t0e;case 35669:case 35673:return n0e;case 5125:return r0e;case 36294:return i0e;case 36295:return o0e;case 36296:return s0e;case 35678:case 36198:case 36298:case 36306:case 35682:return a0e;case 35679:case 36299:case 36307:return l0e;case 35680:case 36300:case 36308:case 36293:return c0e;case 36289:case 36303:case 36311:case 36292:return u0e}}(e.type)}function sI(n,e,t){this.id=n,this.addr=t,this.cache=[],this.size=e.size,this.setValue=function(n){switch(n){case 5126:return d0e;case 35664:return f0e;case 35665:return p0e;case 35666:return m0e;case 35674:return g0e;case 35675:return v0e;case 35676:return y0e;case 5124:case 35670:return _0e;case 35667:case 35671:return b0e;case 35668:case 35672:return w0e;case 35669:case 35673:return x0e;case 5125:return M0e;case 36294:return S0e;case 36295:return C0e;case 36296:return T0e;case 35678:case 36198:case 36298:case 36306:case 35682:return E0e;case 35680:case 36300:case 36308:case 36293:return D0e}}(e.type)}function aI(n){this.id=n,this.seq=[],this.map={}}sI.prototype.updateCache=function(n){const e=this.cache;n instanceof Float32Array&&e.length!==n.length&&(this.cache=new Float32Array(n.length)),bs(e,n)},aI.prototype.setValue=function(n,e,t){const r=this.seq;for(let i=0,o=r.length;i!==o;++i){const s=r[i];s.setValue(n,e[s.id],t)}};const A_=/(\w+)(\])?(\[|\.)?/g;function lI(n,e){n.seq.push(e),n.map[e.id]=e}function P0e(n,e,t){const r=n.name,i=r.length;for(A_.lastIndex=0;;){const o=A_.exec(r),s=A_.lastIndex;let a=o[1];const c=o[3];if("]"===o[2]&&(a|=0),void 0===c||"["===c&&s+2===i){lI(t,void 0===c?new A0e(a,n,e):new sI(a,n,e));break}{let _=t.map[a];void 0===_&&(_=new aI(a),lI(t,_)),t=_}}}function Iu(n,e){this.seq=[],this.map={};const t=n.getProgramParameter(e,35718);for(let r=0;r<t;++r){const i=n.getActiveUniform(e,r);P0e(i,n.getUniformLocation(e,i.name),this)}}function cI(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}Iu.prototype.setValue=function(n,e,t,r){const i=this.map[e];void 0!==i&&i.setValue(n,t,r)},Iu.prototype.setOptional=function(n,e,t){const r=e[t];void 0!==r&&this.setValue(n,t,r)},Iu.upload=function(n,e,t,r){for(let i=0,o=e.length;i!==o;++i){const s=e[i],a=t[s.id];!1!==a.needsUpdate&&s.setValue(n,a.value,r)}},Iu.seqWithValue=function(n,e){const t=[];for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.id in e&&t.push(o)}return t};let k0e=0;function uI(n){switch(n){case ys:return["Linear","( value )"];case Vh:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function hI(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();return r&&""===i?"":t.toUpperCase()+"\n\n"+i+"\n\n"+function(n){const e=n.split("\n");for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join("\n")}(n.getShaderSource(e))}function xf(n,e){const t=uI(e);return"vec4 "+n+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function O0e(n,e){const t=uI(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function I0e(n,e){let t;switch(e){case 1:t="Linear";break;case 2:t="Reinhard";break;case 3:t="OptimizedCineon";break;case 4:t="ACESFilmic";break;case 5:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function t4(n){return""!==n}function dI(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function fI(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const V0e=/^[ \t]*#include +<([\w\d./]+)>/gm;function P_(n){return n.replace(V0e,H0e)}function H0e(n,e){const t=jr[e];if(void 0===t)throw new Error("Can not resolve #include <"+e+">");return P_(t)}const B0e=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,j0e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function pI(n){return n.replace(j0e,mI).replace(B0e,U0e)}function U0e(n,e,t,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),mI(0,e,t,r)}function mI(n,e,t,r){let i="";for(let o=parseInt(e);o<parseInt(t);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function gI(n){let e="precision "+n.precision+" float;\nprecision "+n.precision+" int;";return"highp"===n.precision?e+="\n#define HIGH_PRECISION":"mediump"===n.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(e+="\n#define LOW_PRECISION"),e}function $0e(n,e,t,r){const i=n.getContext(),o=t.defines;let s=t.vertexShader,a=t.fragmentShader;const l=function(n){let e="SHADOWMAP_TYPE_BASIC";return 1===n.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===n.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===n.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(t),c=function(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:case 307:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),p=function(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case 302:case 307:e="ENVMAP_MODE_REFRACTION"}return e}(t),_=function(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(t),S=n.gammaFactor>0?n.gammaFactor:1,D=t.isWebGL2?"":function(n){return[n.extensionDerivatives||n.envMapCubeUV||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||"physical"===n.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(t4).join("\n")}(t),k=function(n){const e=[];for(const t in n){const r=n[t];!1!==r&&e.push("#define "+t+" "+r)}return e.join("\n")}(o),N=i.createProgram();let B,F,I=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(B=[k].filter(t4).join("\n"),B.length>0&&(B+="\n"),F=[D,k].filter(t4).join("\n"),F.length>0&&(F+="\n")):(B=[gI(t),"#define SHADER_NAME "+t.shaderName,k,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+S,"#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularTintMap?"#define USE_SPECULARTINTMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(t4).join("\n"),F=[D,gI(t),"#define SHADER_NAME "+t.shaderName,k,"#define GAMMA_FACTOR "+S,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+p:"",t.envMap?"#define "+_:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularTintMap?"#define USE_SPECULARTINTMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==t.toneMapping?"#define TONE_MAPPING":"",0!==t.toneMapping?jr.tonemapping_pars_fragment:"",0!==t.toneMapping?I0e("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.format===X1?"#define OPAQUE":"",jr.encodings_pars_fragment,t.map?xf("mapTexelToLinear",t.mapEncoding):"",t.matcap?xf("matcapTexelToLinear",t.matcapEncoding):"",t.envMap?xf("envMapTexelToLinear",t.envMapEncoding):"",t.emissiveMap?xf("emissiveMapTexelToLinear",t.emissiveMapEncoding):"",t.specularTintMap?xf("specularTintMapTexelToLinear",t.specularTintMapEncoding):"",t.lightMap?xf("lightMapTexelToLinear",t.lightMapEncoding):"",O0e("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(t4).join("\n")),s=P_(s),s=dI(s,t),s=fI(s,t),a=P_(a),a=dI(a,t),a=fI(a,t),s=pI(s),a=pI(a),t.isWebGL2&&!0!==t.isRawShaderMaterial&&(I="#version 300 es\n",B=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+B,F=["#define varying in","300 es"===t.glslVersion?"":"out highp vec4 pc_fragColor;","300 es"===t.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+F);const $=I+F+a,re=cI(i,35633,I+B+s),de=cI(i,35632,$);if(i.attachShader(N,re),i.attachShader(N,de),void 0!==t.index0AttributeName?i.bindAttribLocation(N,0,t.index0AttributeName):!0===t.morphTargets&&i.bindAttribLocation(N,0,"position"),i.linkProgram(N),n.debug.checkShaderErrors){const He=i.getProgramInfoLog(N).trim(),Oe=i.getShaderInfoLog(re).trim(),ve=i.getShaderInfoLog(de).trim();let st=!0,je=!0;if(!1===i.getProgramParameter(N,35714)){st=!1;const ge=hI(i,re,"vertex"),xe=hI(i,de,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(N,35715)+"\n\nProgram Info Log: "+He+"\n"+ge+"\n"+xe)}else""!==He?console.warn("THREE.WebGLProgram: Program Info Log:",He):(""===Oe||""===ve)&&(je=!1);je&&(this.diagnostics={runnable:st,programLog:He,vertexShader:{log:Oe,prefix:B},fragmentShader:{log:ve,prefix:F}})}let se,Me;return i.deleteShader(re),i.deleteShader(de),this.getUniforms=function(){return void 0===se&&(se=new Iu(i,N)),se},this.getAttributes=function(){return void 0===Me&&(Me=function(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const o=n.getActiveAttrib(e,i),s=o.name;let a=1;35674===o.type&&(a=2),35675===o.type&&(a=3),35676===o.type&&(a=4),t[s]={type:o.type,location:n.getAttribLocation(e,s),locationSize:a}}return t}(i,N)),Me},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(N),this.program=void 0},this.name=t.shaderName,this.id=k0e++,this.cacheKey=e,this.usedTimes=1,this.program=N,this.vertexShader=re,this.fragmentShader=de,this}function X0e(n,e,t,r,i,o,s){const a=[],l=i.isWebGL2,c=i.logarithmicDepthBuffer,p=i.floatVertexTextures,_=i.maxVertexUniforms,S=i.vertexTextures;let D=i.precision;const k={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},N=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoat","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","specularIntensityMap","specularTintMap","specularTintMapEncoding","roughnessMap","metalnessMap","gradientMap","alphaMap","alphaTest","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","morphTargetsCount","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","format","sheen","transmission","transmissionMap","thicknessMap"];function F(se){let Me;return se&&se.isTexture?Me=se.encoding:se&&se.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),Me=se.texture.encoding):Me=ys,l&&se&&se.isTexture&&se.format===vs&&se.type===Mu&&se.encoding===Vh&&(Me=ys),Me}return{getParameters:function(se,Me,He,Oe,ve){const st=Oe.fog,ge=(se.isMeshStandardMaterial?t:e).get(se.envMap||(se.isMeshStandardMaterial?Oe.environment:null)),xe=k[se.type],he=ve.isSkinnedMesh?function(se){const He=se.skeleton.bones;if(p)return 1024;{const ve=Math.floor((_-20)/4),st=Math.min(ve,He.length);return st<He.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+He.length+" bones. This GPU supports "+st+"."),0):st}}(ve):0;let ke,et;if(null!==se.precision&&(D=i.getMaxPrecision(se.precision),D!==se.precision&&console.warn("THREE.WebGLProgram.getParameters:",se.precision,"not supported, using",D,"instead.")),xe){const xt=ql[xe];ke=xt.vertexShader,et=xt.fragmentShader}else ke=se.vertexShader,et=se.fragmentShader;const rt=n.getRenderTarget(),yt=se.alphaTest>0,vt=se.clearcoat>0;return{isWebGL2:l,shaderID:xe,shaderName:se.type,vertexShader:ke,fragmentShader:et,defines:se.defines,isRawShaderMaterial:!0===se.isRawShaderMaterial,glslVersion:se.glslVersion,precision:D,instancing:!0===ve.isInstancedMesh,instancingColor:!0===ve.isInstancedMesh&&null!==ve.instanceColor,supportsVertexTextures:S,outputEncoding:null!==rt?F(rt.texture):n.outputEncoding,map:!!se.map,mapEncoding:F(se.map),matcap:!!se.matcap,matcapEncoding:F(se.matcap),envMap:!!ge,envMapMode:ge&&ge.mapping,envMapEncoding:F(ge),envMapCubeUV:!!ge&&(306===ge.mapping||307===ge.mapping),lightMap:!!se.lightMap,lightMapEncoding:F(se.lightMap),aoMap:!!se.aoMap,emissiveMap:!!se.emissiveMap,emissiveMapEncoding:F(se.emissiveMap),bumpMap:!!se.bumpMap,normalMap:!!se.normalMap,objectSpaceNormalMap:1===se.normalMapType,tangentSpaceNormalMap:0===se.normalMapType,clearcoat:vt,clearcoatMap:vt&&!!se.clearcoatMap,clearcoatRoughnessMap:vt&&!!se.clearcoatRoughnessMap,clearcoatNormalMap:vt&&!!se.clearcoatNormalMap,displacementMap:!!se.displacementMap,roughnessMap:!!se.roughnessMap,metalnessMap:!!se.metalnessMap,specularMap:!!se.specularMap,specularIntensityMap:!!se.specularIntensityMap,specularTintMap:!!se.specularTintMap,specularTintMapEncoding:F(se.specularTintMap),alphaMap:!!se.alphaMap,alphaTest:yt,gradientMap:!!se.gradientMap,sheen:se.sheen>0,transmission:se.transmission>0,transmissionMap:!!se.transmissionMap,thicknessMap:!!se.thicknessMap,combine:se.combine,vertexTangents:!!se.normalMap&&!!ve.geometry&&!!ve.geometry.attributes.tangent,vertexColors:se.vertexColors,vertexAlphas:!0===se.vertexColors&&!!ve.geometry&&!!ve.geometry.attributes.color&&4===ve.geometry.attributes.color.itemSize,vertexUvs:!!(se.map||se.bumpMap||se.normalMap||se.specularMap||se.alphaMap||se.emissiveMap||se.roughnessMap||se.metalnessMap||se.clearcoatMap||se.clearcoatRoughnessMap||se.clearcoatNormalMap||se.displacementMap||se.transmissionMap||se.thicknessMap||se.specularIntensityMap||se.specularTintMap),uvsVertexOnly:!(se.map||se.bumpMap||se.normalMap||se.specularMap||se.alphaMap||se.emissiveMap||se.roughnessMap||se.metalnessMap||se.clearcoatNormalMap||se.transmission>0||se.transmissionMap||se.thicknessMap||se.specularIntensityMap||se.specularTintMap||!se.displacementMap),fog:!!st,useFog:se.fog,fogExp2:st&&st.isFogExp2,flatShading:!!se.flatShading,sizeAttenuation:se.sizeAttenuation,logarithmicDepthBuffer:c,skinning:!0===ve.isSkinnedMesh&&he>0,maxBones:he,useVertexTexture:p,morphTargets:!!ve.geometry&&!!ve.geometry.morphAttributes.position,morphNormals:!!ve.geometry&&!!ve.geometry.morphAttributes.normal,morphTargetsCount:ve.geometry&&ve.geometry.morphAttributes.position?ve.geometry.morphAttributes.position.length:0,numDirLights:Me.directional.length,numPointLights:Me.point.length,numSpotLights:Me.spot.length,numRectAreaLights:Me.rectArea.length,numHemiLights:Me.hemi.length,numDirLightShadows:Me.directionalShadowMap.length,numPointLightShadows:Me.pointShadowMap.length,numSpotLightShadows:Me.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,format:se.format,dithering:se.dithering,shadowMapEnabled:n.shadowMap.enabled&&He.length>0,shadowMapType:n.shadowMap.type,toneMapping:se.toneMapped?n.toneMapping:0,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:se.premultipliedAlpha,doubleSided:2===se.side,flipSided:1===se.side,depthPacking:void 0!==se.depthPacking&&se.depthPacking,index0AttributeName:se.index0AttributeName,extensionDerivatives:se.extensions&&se.extensions.derivatives,extensionFragDepth:se.extensions&&se.extensions.fragDepth,extensionDrawBuffers:se.extensions&&se.extensions.drawBuffers,extensionShaderTextureLOD:se.extensions&&se.extensions.shaderTextureLOD,rendererExtensionFragDepth:l||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:l||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:l||r.has("EXT_shader_texture_lod"),customProgramCacheKey:se.customProgramCacheKey()}},getProgramCacheKey:function(se){const Me=[];if(se.shaderID?Me.push(se.shaderID):(Me.push(se.fragmentShader),Me.push(se.vertexShader)),void 0!==se.defines)for(const He in se.defines)Me.push(He),Me.push(se.defines[He]);if(!1===se.isRawShaderMaterial){for(let He=0;He<N.length;He++)Me.push(se[N[He]]);Me.push(n.outputEncoding),Me.push(n.gammaFactor)}return Me.push(se.customProgramCacheKey),Me.join()},getUniforms:function(se){const Me=k[se.type];let He;return He=Me?Cde.clone(ql[Me].uniforms):se.uniforms,He},acquireProgram:function(se,Me){let He;for(let Oe=0,ve=a.length;Oe<ve;Oe++){const st=a[Oe];if(st.cacheKey===Me){He=st,++He.usedTimes;break}}return void 0===He&&(He=new $0e(n,Me,se,o),a.push(He)),He},releaseProgram:function(se){if(0==--se.usedTimes){const Me=a.indexOf(se);a[Me]=a[a.length-1],a.pop(),se.destroy()}},programs:a}}function K0e(){let n=new WeakMap;return{get:function(o){let s=n.get(o);return void 0===s&&(s={},n.set(o,s)),s},remove:function(o){n.delete(o)},update:function(o,s,a){n.get(o)[s]=a},dispose:function(){n=new WeakMap}}}function Z0e(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.program!==e.program?n.program.id-e.program.id:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function vI(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function yI(n){const e=[];let t=0;const r=[],i=[],o=[],s={id:-1};function l(D,k,N,B,F,I){let X=e[t];const $=n.get(N);return void 0===X?(X={id:D.id,object:D,geometry:k,material:N,program:$.program||s,groupOrder:B,renderOrder:D.renderOrder,z:F,group:I},e[t]=X):(X.id=D.id,X.object=D,X.geometry=k,X.material=N,X.program=$.program||s,X.groupOrder=B,X.renderOrder=D.renderOrder,X.z=F,X.group=I),t++,X}return{opaque:r,transmissive:i,transparent:o,init:function(){t=0,r.length=0,i.length=0,o.length=0},push:function(D,k,N,B,F,I){const X=l(D,k,N,B,F,I);N.transmission>0?i.push(X):!0===N.transparent?o.push(X):r.push(X)},unshift:function(D,k,N,B,F,I){const X=l(D,k,N,B,F,I);N.transmission>0?i.unshift(X):!0===N.transparent?o.unshift(X):r.unshift(X)},finish:function(){for(let D=t,k=e.length;D<k;D++){const N=e[D];if(null===N.id)break;N.id=null,N.object=null,N.geometry=null,N.material=null,N.program=null,N.group=null}},sort:function(D,k){r.length>1&&r.sort(D||Z0e),i.length>1&&i.sort(k||vI),o.length>1&&o.sort(k||vI)}}}function Q0e(n){let e=new WeakMap;return{get:function(i,o){let s;return!1===e.has(i)?(s=new yI(n),e.set(i,[s])):o>=e.get(i).length?(s=new yI(n),e.get(i).push(s)):s=e.get(i)[o],s},dispose:function(){e=new WeakMap}}}function J0e(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Ce,color:new wn};break;case"SpotLight":t={position:new Ce,direction:new Ce,color:new wn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Ce,color:new wn,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Ce,skyColor:new wn,groundColor:new wn};break;case"RectAreaLight":t={color:new wn,position:new Ce,halfWidth:new Ce,halfHeight:new Ce}}return n[e.id]=t,t}}}let tpe=0;function npe(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function rpe(n,e){const t=new J0e,r=function(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Rt};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Rt,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let p=0;p<9;p++)i.probe.push(new Ce);const o=new Ce,s=new Yn,a=new Yn;return{setup:function(p,_){let S=0,D=0,k=0;for(let He=0;He<9;He++)i.probe[He].set(0,0,0);let N=0,B=0,F=0,I=0,X=0,$=0,re=0,de=0;p.sort(npe);const se=!0!==_?Math.PI:1;for(let He=0,Oe=p.length;He<Oe;He++){const ve=p[He],st=ve.color,je=ve.intensity,ge=ve.distance,xe=ve.shadow&&ve.shadow.map?ve.shadow.map.texture:null;if(ve.isAmbientLight)S+=st.r*je*se,D+=st.g*je*se,k+=st.b*je*se;else if(ve.isLightProbe)for(let he=0;he<9;he++)i.probe[he].addScaledVector(ve.sh.coefficients[he],je);else if(ve.isDirectionalLight){const he=t.get(ve);if(he.color.copy(ve.color).multiplyScalar(ve.intensity*se),ve.castShadow){const ke=ve.shadow,et=r.get(ve);et.shadowBias=ke.bias,et.shadowNormalBias=ke.normalBias,et.shadowRadius=ke.radius,et.shadowMapSize=ke.mapSize,i.directionalShadow[N]=et,i.directionalShadowMap[N]=xe,i.directionalShadowMatrix[N]=ve.shadow.matrix,$++}i.directional[N]=he,N++}else if(ve.isSpotLight){const he=t.get(ve);if(he.position.setFromMatrixPosition(ve.matrixWorld),he.color.copy(st).multiplyScalar(je*se),he.distance=ge,he.coneCos=Math.cos(ve.angle),he.penumbraCos=Math.cos(ve.angle*(1-ve.penumbra)),he.decay=ve.decay,ve.castShadow){const ke=ve.shadow,et=r.get(ve);et.shadowBias=ke.bias,et.shadowNormalBias=ke.normalBias,et.shadowRadius=ke.radius,et.shadowMapSize=ke.mapSize,i.spotShadow[F]=et,i.spotShadowMap[F]=xe,i.spotShadowMatrix[F]=ve.shadow.matrix,de++}i.spot[F]=he,F++}else if(ve.isRectAreaLight){const he=t.get(ve);he.color.copy(st).multiplyScalar(je),he.halfWidth.set(.5*ve.width,0,0),he.halfHeight.set(0,.5*ve.height,0),i.rectArea[I]=he,I++}else if(ve.isPointLight){const he=t.get(ve);if(he.color.copy(ve.color).multiplyScalar(ve.intensity*se),he.distance=ve.distance,he.decay=ve.decay,ve.castShadow){const ke=ve.shadow,et=r.get(ve);et.shadowBias=ke.bias,et.shadowNormalBias=ke.normalBias,et.shadowRadius=ke.radius,et.shadowMapSize=ke.mapSize,et.shadowCameraNear=ke.camera.near,et.shadowCameraFar=ke.camera.far,i.pointShadow[B]=et,i.pointShadowMap[B]=xe,i.pointShadowMatrix[B]=ve.shadow.matrix,re++}i.point[B]=he,B++}else if(ve.isHemisphereLight){const he=t.get(ve);he.skyColor.copy(ve.color).multiplyScalar(je*se),he.groundColor.copy(ve.groundColor).multiplyScalar(je*se),i.hemi[X]=he,X++}}I>0&&(e.isWebGL2||!0===n.has("OES_texture_float_linear")?(i.rectAreaLTC1=mn.LTC_FLOAT_1,i.rectAreaLTC2=mn.LTC_FLOAT_2):!0===n.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=mn.LTC_HALF_1,i.rectAreaLTC2=mn.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=S,i.ambient[1]=D,i.ambient[2]=k;const Me=i.hash;(Me.directionalLength!==N||Me.pointLength!==B||Me.spotLength!==F||Me.rectAreaLength!==I||Me.hemiLength!==X||Me.numDirectionalShadows!==$||Me.numPointShadows!==re||Me.numSpotShadows!==de)&&(i.directional.length=N,i.spot.length=F,i.rectArea.length=I,i.point.length=B,i.hemi.length=X,i.directionalShadow.length=$,i.directionalShadowMap.length=$,i.pointShadow.length=re,i.pointShadowMap.length=re,i.spotShadow.length=de,i.spotShadowMap.length=de,i.directionalShadowMatrix.length=$,i.pointShadowMatrix.length=re,i.spotShadowMatrix.length=de,Me.directionalLength=N,Me.pointLength=B,Me.spotLength=F,Me.rectAreaLength=I,Me.hemiLength=X,Me.numDirectionalShadows=$,Me.numPointShadows=re,Me.numSpotShadows=de,i.version=tpe++)},setupView:function(p,_){let S=0,D=0,k=0,N=0,B=0;const F=_.matrixWorldInverse;for(let I=0,X=p.length;I<X;I++){const $=p[I];if($.isDirectionalLight){const re=i.directional[S];re.direction.setFromMatrixPosition($.matrixWorld),o.setFromMatrixPosition($.target.matrixWorld),re.direction.sub(o),re.direction.transformDirection(F),S++}else if($.isSpotLight){const re=i.spot[k];re.position.setFromMatrixPosition($.matrixWorld),re.position.applyMatrix4(F),re.direction.setFromMatrixPosition($.matrixWorld),o.setFromMatrixPosition($.target.matrixWorld),re.direction.sub(o),re.direction.transformDirection(F),k++}else if($.isRectAreaLight){const re=i.rectArea[N];re.position.setFromMatrixPosition($.matrixWorld),re.position.applyMatrix4(F),a.identity(),s.copy($.matrixWorld),s.premultiply(F),a.extractRotation(s),re.halfWidth.set(.5*$.width,0,0),re.halfHeight.set(0,.5*$.height,0),re.halfWidth.applyMatrix4(a),re.halfHeight.applyMatrix4(a),N++}else if($.isPointLight){const re=i.point[D];re.position.setFromMatrixPosition($.matrixWorld),re.position.applyMatrix4(F),D++}else if($.isHemisphereLight){const re=i.hemi[B];re.direction.setFromMatrixPosition($.matrixWorld),re.direction.transformDirection(F),re.direction.normalize(),B++}}},state:i}}function _I(n,e){const t=new rpe(n,e),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:function(_){t.setup(r,_)},setupLightsView:function(_){t.setupView(r,_)},pushLight:function(_){r.push(_)},pushShadow:function(_){i.push(_)}}}function ipe(n,e){let t=new WeakMap;return{get:function(o,s=0){let a;return!1===t.has(o)?(a=new _I(n,e),t.set(o,[a])):s>=t.get(o).length?(a=new _I(n,e),t.get(o).push(a)):a=t.get(o)[s],a},dispose:function(){t=new WeakMap}}}class k_ extends is{constructor(e){super(),this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}k_.prototype.isMeshDepthMaterial=!0;class L_ extends is{constructor(e){super(),this.type="MeshDistanceMaterial",this.referencePosition=new Ce,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function bI(n,e,t){let r=new B8;const i=new Rt,o=new Rt,s=new Si,a=new k_({depthPacking:3201}),l=new L_,c={},p=t.maxTextureSize,_={0:1,1:0,2:2},S=new ml({uniforms:{shadow_pass:{value:null},resolution:{value:new Rt},radius:{value:4},samples:{value:8}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\nuniform float samples;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),D=S.clone();D.defines.HORIZONTAL_PASS=1;const k=new lr;k.setAttribute("position",new Ci(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const N=new Hi(k,S),B=this;function F($,re){const de=e.update(N);S.uniforms.shadow_pass.value=$.map.texture,S.uniforms.resolution.value=$.mapSize,S.uniforms.radius.value=$.radius,S.uniforms.samples.value=$.blurSamples,n.setRenderTarget($.mapPass),n.clear(),n.renderBufferDirect(re,null,de,S,N,null),D.uniforms.shadow_pass.value=$.mapPass.texture,D.uniforms.resolution.value=$.mapSize,D.uniforms.radius.value=$.radius,D.uniforms.samples.value=$.blurSamples,n.setRenderTarget($.map),n.clear(),n.renderBufferDirect(re,null,de,D,N,null)}function I($,re,de,se,Me,He,Oe){let ve=null;const st=!0===se.isPointLight?$.customDistanceMaterial:$.customDepthMaterial;if(ve=void 0!==st?st:!0===se.isPointLight?l:a,n.localClippingEnabled&&!0===de.clipShadows&&0!==de.clippingPlanes.length||de.displacementMap&&0!==de.displacementScale||de.alphaMap&&de.alphaTest>0){const je=ve.uuid,ge=de.uuid;let xe=c[je];void 0===xe&&(xe={},c[je]=xe);let he=xe[ge];void 0===he&&(he=ve.clone(),xe[ge]=he),ve=he}return ve.visible=de.visible,ve.wireframe=de.wireframe,ve.side=3===Oe?null!==de.shadowSide?de.shadowSide:de.side:null!==de.shadowSide?de.shadowSide:_[de.side],ve.alphaMap=de.alphaMap,ve.alphaTest=de.alphaTest,ve.clipShadows=de.clipShadows,ve.clippingPlanes=de.clippingPlanes,ve.clipIntersection=de.clipIntersection,ve.displacementMap=de.displacementMap,ve.displacementScale=de.displacementScale,ve.displacementBias=de.displacementBias,ve.wireframeLinewidth=de.wireframeLinewidth,ve.linewidth=de.linewidth,!0===se.isPointLight&&!0===ve.isMeshDistanceMaterial&&(ve.referencePosition.setFromMatrixPosition(se.matrixWorld),ve.nearDistance=Me,ve.farDistance=He),ve}function X($,re,de,se,Me){if(!1===$.visible)return;if($.layers.test(re.layers)&&($.isMesh||$.isLine||$.isPoints)&&($.castShadow||$.receiveShadow&&3===Me)&&(!$.frustumCulled||r.intersectsObject($))){$.modelViewMatrix.multiplyMatrices(de.matrixWorldInverse,$.matrixWorld);const ve=e.update($),st=$.material;if(Array.isArray(st)){const je=ve.groups;for(let ge=0,xe=je.length;ge<xe;ge++){const he=je[ge],ke=st[he.materialIndex];if(ke&&ke.visible){const et=I($,0,ke,se,de.near,de.far,Me);n.renderBufferDirect(de,null,ve,et,$,he)}}}else if(st.visible){const je=I($,0,st,se,de.near,de.far,Me);n.renderBufferDirect(de,null,ve,je,$,null)}}const Oe=$.children;for(let ve=0,st=Oe.length;ve<st;ve++)X(Oe[ve],re,de,se,Me)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function($,re,de){if(!1===B.enabled||!1===B.autoUpdate&&!1===B.needsUpdate||0===$.length)return;const se=n.getRenderTarget(),Me=n.getActiveCubeFace(),He=n.getActiveMipmapLevel(),Oe=n.state;Oe.setBlending(0),Oe.buffers.color.setClear(1,1,1,1),Oe.buffers.depth.setTest(!0),Oe.setScissorTest(!1);for(let ve=0,st=$.length;ve<st;ve++){const je=$[ve],ge=je.shadow;if(void 0===ge){console.warn("THREE.WebGLShadowMap:",je,"has no shadow.");continue}if(!1===ge.autoUpdate&&!1===ge.needsUpdate)continue;i.copy(ge.mapSize);const xe=ge.getFrameExtents();if(i.multiply(xe),o.copy(ge.mapSize),(i.x>p||i.y>p)&&(i.x>p&&(o.x=Math.floor(p/xe.x),i.x=o.x*xe.x,ge.mapSize.x=o.x),i.y>p&&(o.y=Math.floor(p/xe.y),i.y=o.y*xe.y,ge.mapSize.y=o.y)),null===ge.map&&!ge.isPointLightShadow&&3===this.type){const ke={minFilter:No,magFilter:No,format:vs};ge.map=new Wl(i.x,i.y,ke),ge.map.texture.name=je.name+".shadowMap",ge.mapPass=new Wl(i.x,i.y,ke),ge.camera.updateProjectionMatrix()}null===ge.map&&(ge.map=new Wl(i.x,i.y,{minFilter:Fo,magFilter:Fo,format:vs}),ge.map.texture.name=je.name+".shadowMap",ge.camera.updateProjectionMatrix()),n.setRenderTarget(ge.map),n.clear();const he=ge.getViewportCount();for(let ke=0;ke<he;ke++){const et=ge.getViewport(ke);s.set(o.x*et.x,o.y*et.y,o.x*et.z,o.y*et.w),Oe.viewport(s),ge.updateMatrices(je,ke),r=ge.getFrustum(),X(re,de,ge.camera,je,this.type)}!ge.isPointLightShadow&&3===this.type&&F(ge,de),ge.needsUpdate=!1}B.needsUpdate=!1,n.setRenderTarget(se,Me,He)}}function ape(n,e,t){const r=t.isWebGL2,a=new function(){let ot=!1;const hn=new Si;let Nt=null;const yn=new Si(0,0,0,0);return{setMask:function(En){Nt!==En&&!ot&&(n.colorMask(En,En,En,En),Nt=En)},setLocked:function(En){ot=En},setClear:function(En,Er,lt,Dn,yi){!0===yi&&(En*=Dn,Er*=Dn,lt*=Dn),hn.set(En,Er,lt,Dn),!1===yn.equals(hn)&&(n.clearColor(En,Er,lt,Dn),yn.copy(hn))},reset:function(){ot=!1,Nt=null,yn.set(-1,0,0,0)}}},l=new function(){let ot=!1,hn=null,Nt=null,yn=null;return{setTest:function(En){En?zt(2929):Zt(2929)},setMask:function(En){hn!==En&&!ot&&(n.depthMask(En),hn=En)},setFunc:function(En){if(Nt!==En){if(En)switch(En){case 0:n.depthFunc(512);break;case 1:n.depthFunc(519);break;case 2:n.depthFunc(513);break;case 3:n.depthFunc(515);break;case 4:n.depthFunc(514);break;case 5:n.depthFunc(518);break;case 6:n.depthFunc(516);break;case 7:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);Nt=En}},setLocked:function(En){ot=En},setClear:function(En){yn!==En&&(n.clearDepth(En),yn=En)},reset:function(){ot=!1,hn=null,Nt=null,yn=null}}},c=new function(){let ot=!1,hn=null,Nt=null,yn=null,En=null,Er=null,lt=null,Dn=null,yi=null;return{setTest:function(Dr){ot||(Dr?zt(2960):Zt(2960))},setMask:function(Dr){hn!==Dr&&!ot&&(n.stencilMask(Dr),hn=Dr)},setFunc:function(Dr,Ai,io){(Nt!==Dr||yn!==Ai||En!==io)&&(n.stencilFunc(Dr,Ai,io),Nt=Dr,yn=Ai,En=io)},setOp:function(Dr,Ai,io){(Er!==Dr||lt!==Ai||Dn!==io)&&(n.stencilOp(Dr,Ai,io),Er=Dr,lt=Ai,Dn=io)},setLocked:function(Dr){ot=Dr},setClear:function(Dr){yi!==Dr&&(n.clearStencil(Dr),yi=Dr)},reset:function(){ot=!1,hn=null,Nt=null,yn=null,En=null,Er=null,lt=null,Dn=null,yi=null}}};let p={},_=null,S={},D=null,k=!1,N=null,B=null,F=null,I=null,X=null,$=null,re=null,de=!1,se=null,Me=null,He=null,Oe=null,ve=null;const st=n.getParameter(35661);let je=!1,ge=0;const xe=n.getParameter(7938);-1!==xe.indexOf("WebGL")?(ge=parseFloat(/^WebGL (\d)/.exec(xe)[1]),je=ge>=1):-1!==xe.indexOf("OpenGL ES")&&(ge=parseFloat(/^OpenGL ES (\d)/.exec(xe)[1]),je=ge>=2);let he=null,ke={};const et=n.getParameter(3088),rt=n.getParameter(2978),yt=(new Si).fromArray(et),vt=(new Si).fromArray(rt);function Ft(ot,hn,Nt){const yn=new Uint8Array(4),En=n.createTexture();n.bindTexture(ot,En),n.texParameteri(ot,10241,9728),n.texParameteri(ot,10240,9728);for(let Er=0;Er<Nt;Er++)n.texImage2D(hn+Er,0,6408,1,1,0,6408,5121,yn);return En}const xt={};function zt(ot){!0!==p[ot]&&(n.enable(ot),p[ot]=!0)}function Zt(ot){!1!==p[ot]&&(n.disable(ot),p[ot]=!1)}xt[3553]=Ft(3553,3553,1),xt[34067]=Ft(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),zt(2929),l.setFunc(3),jt(!1),on(1),zt(2884),or(0);const nn={100:32774,101:32778,102:32779};if(r)nn[103]=32775,nn[104]=32776;else{const ot=e.get("EXT_blend_minmax");null!==ot&&(nn[103]=ot.MIN_EXT,nn[104]=ot.MAX_EXT)}const ln={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function or(ot,hn,Nt,yn,En,Er,lt,Dn){if(0!==ot){if(!1===k&&(zt(3042),k=!0),5===ot)En=En||hn,Er=Er||Nt,lt=lt||yn,(hn!==B||En!==X)&&(n.blendEquationSeparate(nn[hn],nn[En]),B=hn,X=En),(Nt!==F||yn!==I||Er!==$||lt!==re)&&(n.blendFuncSeparate(ln[Nt],ln[yn],ln[Er],ln[lt]),F=Nt,I=yn,$=Er,re=lt),N=ot,de=null;else if(ot!==N||Dn!==de){if((100!==B||100!==X)&&(n.blendEquation(32774),B=100,X=100),Dn)switch(ot){case 1:n.blendFuncSeparate(1,771,1,771);break;case 2:n.blendFunc(1,1);break;case 3:n.blendFuncSeparate(0,0,769,771);break;case 4:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ot)}else switch(ot){case 1:n.blendFuncSeparate(770,771,1,771);break;case 2:n.blendFunc(770,1);break;case 3:n.blendFunc(0,769);break;case 4:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ot)}F=null,I=null,$=null,re=null,N=ot,de=Dn}}else!0===k&&(Zt(3042),k=!1)}function jt(ot){se!==ot&&(n.frontFace(ot?2304:2305),se=ot)}function on(ot){0!==ot?(zt(2884),ot!==Me&&n.cullFace(1===ot?1029:2===ot?1028:1032)):Zt(2884),Me=ot}function un(ot,hn,Nt){ot?(zt(32823),(Oe!==hn||ve!==Nt)&&(n.polygonOffset(hn,Nt),Oe=hn,ve=Nt)):Zt(32823)}function Se(ot){void 0===ot&&(ot=33984+st-1),he!==ot&&(n.activeTexture(ot),he=ot)}return{buffers:{color:a,depth:l,stencil:c},enable:zt,disable:Zt,bindFramebuffer:function(ot,hn){return null===hn&&null!==_&&(hn=_),S[ot]!==hn&&(n.bindFramebuffer(ot,hn),S[ot]=hn,r&&(36009===ot&&(S[36160]=hn),36160===ot&&(S[36009]=hn)),!0)},bindXRFramebuffer:function(ot){ot!==_&&(n.bindFramebuffer(36160,ot),_=ot)},useProgram:function(ot){return D!==ot&&(n.useProgram(ot),D=ot,!0)},setBlending:or,setMaterial:function(ot,hn){2===ot.side?Zt(2884):zt(2884);let Nt=1===ot.side;hn&&(Nt=!Nt),jt(Nt),1===ot.blending&&!1===ot.transparent?or(0):or(ot.blending,ot.blendEquation,ot.blendSrc,ot.blendDst,ot.blendEquationAlpha,ot.blendSrcAlpha,ot.blendDstAlpha,ot.premultipliedAlpha),l.setFunc(ot.depthFunc),l.setTest(ot.depthTest),l.setMask(ot.depthWrite),a.setMask(ot.colorWrite);const yn=ot.stencilWrite;c.setTest(yn),yn&&(c.setMask(ot.stencilWriteMask),c.setFunc(ot.stencilFunc,ot.stencilRef,ot.stencilFuncMask),c.setOp(ot.stencilFail,ot.stencilZFail,ot.stencilZPass)),un(ot.polygonOffset,ot.polygonOffsetFactor,ot.polygonOffsetUnits),!0===ot.alphaToCoverage?zt(32926):Zt(32926)},setFlipSided:jt,setCullFace:on,setLineWidth:function(ot){ot!==He&&(je&&n.lineWidth(ot),He=ot)},setPolygonOffset:un,setScissorTest:function(ot){ot?zt(3089):Zt(3089)},activeTexture:Se,bindTexture:function(ot,hn){null===he&&Se();let Nt=ke[he];void 0===Nt&&(Nt={type:void 0,texture:void 0},ke[he]=Nt),(Nt.type!==ot||Nt.texture!==hn)&&(n.bindTexture(ot,hn||xt[ot]),Nt.type=ot,Nt.texture=hn)},unbindTexture:function(){const ot=ke[he];void 0!==ot&&void 0!==ot.type&&(n.bindTexture(ot.type,null),ot.type=void 0,ot.texture=void 0)},compressedTexImage2D:function(){try{n.compressedTexImage2D.apply(n,arguments)}catch(ot){console.error("THREE.WebGLState:",ot)}},texImage2D:function(){try{n.texImage2D.apply(n,arguments)}catch(ot){console.error("THREE.WebGLState:",ot)}},texImage3D:function(){try{n.texImage3D.apply(n,arguments)}catch(ot){console.error("THREE.WebGLState:",ot)}},scissor:function(ot){!1===yt.equals(ot)&&(n.scissor(ot.x,ot.y,ot.z,ot.w),yt.copy(ot))},viewport:function(ot){!1===vt.equals(ot)&&(n.viewport(ot.x,ot.y,ot.z,ot.w),vt.copy(ot))},reset:function(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),!0===r&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},he=null,ke={},_=null,S={},D=null,k=!1,N=null,B=null,F=null,I=null,X=null,$=null,re=null,de=!1,se=null,Me=null,He=null,Oe=null,ve=null,yt.set(0,0,n.canvas.width,n.canvas.height),vt.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}}}function lpe(n,e,t,r,i,o,s){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,p=i.maxTextureSize,_=i.maxSamples,S=new WeakMap;let D,k=!1;try{k="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(Te){}function N(Te,Se){return k?new OffscreenCanvas(Te,Se):x8("canvas")}function B(Te,Se,Mt,Yt){let rn=1;if((Te.width>Yt||Te.height>Yt)&&(rn=Yt/Math.max(Te.width,Te.height)),rn<1||!0===Se){if("undefined"!=typeof HTMLImageElement&&Te instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&Te instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&Te instanceof ImageBitmap){const Mn=Se?CO:Math.floor,Kn=Mn(rn*Te.width),Fn=Mn(rn*Te.height);void 0===D&&(D=N(Kn,Fn));const sr=Mt?N(Kn,Fn):D;return sr.width=Kn,sr.height=Fn,sr.getContext("2d").drawImage(Te,0,0,Kn,Fn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Te.width+"x"+Te.height+") to ("+Kn+"x"+Fn+")."),sr}return"data"in Te&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Te.width+"x"+Te.height+")."),Te}return Te}function F(Te){return Z9(Te.width)&&Z9(Te.height)}function X(Te,Se){return Te.generateMipmaps&&Se&&Te.minFilter!==Fo&&Te.minFilter!==No}function $(Te,Se,Mt,Yt,rn=1){n.generateMipmap(Te),r.get(Se).__maxMipLevel=Math.log2(Math.max(Mt,Yt,rn))}function re(Te,Se,Mt,Yt){if(!1===a)return Se;if(null!==Te){if(void 0!==n[Te])return n[Te];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Te+"'")}let rn=Se;return 6403===Se&&(5126===Mt&&(rn=33326),5131===Mt&&(rn=33325),5121===Mt&&(rn=33321)),6407===Se&&(5126===Mt&&(rn=34837),5131===Mt&&(rn=34843),5121===Mt&&(rn=32849)),6408===Se&&(5126===Mt&&(rn=34836),5131===Mt&&(rn=34842),5121===Mt&&(rn=Yt===Vh?35907:32856)),(33325===rn||33326===rn||34842===rn||34836===rn)&&e.get("EXT_color_buffer_float"),rn}function de(Te){return Te===Fo||1004===Te||1005===Te?9728:9729}function se(Te){const Se=Te.target;Se.removeEventListener("dispose",se),function(Te){const Se=r.get(Te);void 0!==Se.__webglInit&&(n.deleteTexture(Se.__webglTexture),r.remove(Te))}(Se),Se.isVideoTexture&&S.delete(Se),s.memory.textures--}function Me(Te){const Se=Te.target;Se.removeEventListener("dispose",Me),function(Te){const Se=Te.texture,Mt=r.get(Te),Yt=r.get(Se);if(Te){if(void 0!==Yt.__webglTexture&&(n.deleteTexture(Yt.__webglTexture),s.memory.textures--),Te.depthTexture&&Te.depthTexture.dispose(),Te.isWebGLCubeRenderTarget)for(let rn=0;rn<6;rn++)n.deleteFramebuffer(Mt.__webglFramebuffer[rn]),Mt.__webglDepthbuffer&&n.deleteRenderbuffer(Mt.__webglDepthbuffer[rn]);else n.deleteFramebuffer(Mt.__webglFramebuffer),Mt.__webglDepthbuffer&&n.deleteRenderbuffer(Mt.__webglDepthbuffer),Mt.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Mt.__webglMultisampledFramebuffer),Mt.__webglColorRenderbuffer&&n.deleteRenderbuffer(Mt.__webglColorRenderbuffer),Mt.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Mt.__webglDepthRenderbuffer);if(Te.isWebGLMultipleRenderTargets)for(let rn=0,Mn=Se.length;rn<Mn;rn++){const Kn=r.get(Se[rn]);Kn.__webglTexture&&(n.deleteTexture(Kn.__webglTexture),s.memory.textures--),r.remove(Se[rn])}r.remove(Se),r.remove(Te)}}(Se)}let ve=0;function ge(Te,Se){const Mt=r.get(Te);if(Te.isVideoTexture&&function(Te){const Se=s.render.frame;S.get(Te)!==Se&&(S.set(Te,Se),Te.update())}(Te),Te.version>0&&Mt.__version!==Te.version){const Yt=Te.image;if(void 0===Yt)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==Yt.complete)return void Ft(Mt,Te,Se);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.activeTexture(33984+Se),t.bindTexture(3553,Mt.__webglTexture)}function ke(Te,Se){const Mt=r.get(Te);Te.version>0&&Mt.__version!==Te.version?function(Te,Se,Mt){if(6!==Se.image.length)return;vt(Te,Se),t.activeTexture(33984+Mt),t.bindTexture(34067,Te.__webglTexture),n.pixelStorei(37440,Se.flipY),n.pixelStorei(37441,Se.premultiplyAlpha),n.pixelStorei(3317,Se.unpackAlignment),n.pixelStorei(37443,0);const Yt=Se&&(Se.isCompressedTexture||Se.image[0].isCompressedTexture),rn=Se.image[0]&&Se.image[0].isDataTexture,Mn=[];for(let Nt=0;Nt<6;Nt++)Mn[Nt]=Yt||rn?rn?Se.image[Nt].image:Se.image[Nt]:B(Se.image[Nt],!1,!0,c);const Kn=Mn[0],Fn=F(Kn)||a,sr=o.convert(Se.format),In=o.convert(Se.type),ot=re(Se.internalFormat,sr,In,Se.encoding);let hn;if(yt(34067,Se,Fn),Yt){for(let Nt=0;Nt<6;Nt++){hn=Mn[Nt].mipmaps;for(let yn=0;yn<hn.length;yn++){const En=hn[yn];Se.format!==vs&&Se.format!==X1?null!==sr?t.compressedTexImage2D(34069+Nt,yn,ot,En.width,En.height,0,En.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):t.texImage2D(34069+Nt,yn,ot,En.width,En.height,0,sr,In,En.data)}}Te.__maxMipLevel=hn.length-1}else{hn=Se.mipmaps;for(let Nt=0;Nt<6;Nt++)if(rn){t.texImage2D(34069+Nt,0,ot,Mn[Nt].width,Mn[Nt].height,0,sr,In,Mn[Nt].data);for(let yn=0;yn<hn.length;yn++){const Er=hn[yn].image[Nt].image;t.texImage2D(34069+Nt,yn+1,ot,Er.width,Er.height,0,sr,In,Er.data)}}else{t.texImage2D(34069+Nt,0,ot,sr,In,Mn[Nt]);for(let yn=0;yn<hn.length;yn++)t.texImage2D(34069+Nt,yn+1,ot,sr,In,hn[yn].image[Nt])}Te.__maxMipLevel=hn.length}X(Se,Fn)&&$(34067,Se,Kn.width,Kn.height),Te.__version=Se.version,Se.onUpdate&&Se.onUpdate(Se)}(Mt,Te,Se):(t.activeTexture(33984+Se),t.bindTexture(34067,Mt.__webglTexture))}const et={1e3:10497,[Ro]:33071,[W1]:33648},rt={[Fo]:9728,1004:9984,1005:9986,[No]:9729,1007:9985,1008:9987};function yt(Te,Se,Mt){if(Mt?(n.texParameteri(Te,10242,et[Se.wrapS]),n.texParameteri(Te,10243,et[Se.wrapT]),(32879===Te||35866===Te)&&n.texParameteri(Te,32882,et[Se.wrapR]),n.texParameteri(Te,10240,rt[Se.magFilter]),n.texParameteri(Te,10241,rt[Se.minFilter])):(n.texParameteri(Te,10242,33071),n.texParameteri(Te,10243,33071),(32879===Te||35866===Te)&&n.texParameteri(Te,32882,33071),(Se.wrapS!==Ro||Se.wrapT!==Ro)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(Te,10240,de(Se.magFilter)),n.texParameteri(Te,10241,de(Se.minFilter)),Se.minFilter!==Fo&&Se.minFilter!==No&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===e.has("EXT_texture_filter_anisotropic")){const Yt=e.get("EXT_texture_filter_anisotropic");if(Se.type===Ac&&!1===e.has("OES_texture_float_linear")||!1===a&&Se.type===$1&&!1===e.has("OES_texture_half_float_linear"))return;(Se.anisotropy>1||r.get(Se).__currentAnisotropy)&&(n.texParameterf(Te,Yt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Se.anisotropy,i.getMaxAnisotropy())),r.get(Se).__currentAnisotropy=Se.anisotropy)}}function vt(Te,Se){void 0===Te.__webglInit&&(Te.__webglInit=!0,Se.addEventListener("dispose",se),Te.__webglTexture=n.createTexture(),s.memory.textures++)}function Ft(Te,Se,Mt){let Yt=3553;Se.isDataTexture2DArray&&(Yt=35866),Se.isDataTexture3D&&(Yt=32879),vt(Te,Se),t.activeTexture(33984+Mt),t.bindTexture(Yt,Te.__webglTexture),n.pixelStorei(37440,Se.flipY),n.pixelStorei(37441,Se.premultiplyAlpha),n.pixelStorei(3317,Se.unpackAlignment),n.pixelStorei(37443,0);const rn=function(Te){return!a&&(Te.wrapS!==Ro||Te.wrapT!==Ro||Te.minFilter!==Fo&&Te.minFilter!==No)}(Se)&&!1===F(Se.image),Mn=B(Se.image,rn,!1,p),Kn=F(Mn)||a,Fn=o.convert(Se.format);let ot,sr=o.convert(Se.type),In=re(Se.internalFormat,Fn,sr,Se.encoding);yt(Yt,Se,Kn);const hn=Se.mipmaps;if(Se.isDepthTexture)In=6402,a?In=Se.type===Ac?36012:1014===Se.type?33190:Se.type===Bp?35056:33189:Se.type===Ac&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Se.format===K1&&6402===In&&1012!==Se.type&&1014!==Se.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Se.type=1012,sr=o.convert(Se.type)),Se.format===jp&&6402===In&&(In=34041,Se.type!==Bp&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Se.type=Bp,sr=o.convert(Se.type))),t.texImage2D(3553,0,In,Mn.width,Mn.height,0,Fn,sr,null);else if(Se.isDataTexture)if(hn.length>0&&Kn){for(let Nt=0,yn=hn.length;Nt<yn;Nt++)ot=hn[Nt],t.texImage2D(3553,Nt,In,ot.width,ot.height,0,Fn,sr,ot.data);Se.generateMipmaps=!1,Te.__maxMipLevel=hn.length-1}else t.texImage2D(3553,0,In,Mn.width,Mn.height,0,Fn,sr,Mn.data),Te.__maxMipLevel=0;else if(Se.isCompressedTexture){for(let Nt=0,yn=hn.length;Nt<yn;Nt++)ot=hn[Nt],Se.format!==vs&&Se.format!==X1?null!==Fn?t.compressedTexImage2D(3553,Nt,In,ot.width,ot.height,0,ot.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):t.texImage2D(3553,Nt,In,ot.width,ot.height,0,Fn,sr,ot.data);Te.__maxMipLevel=hn.length-1}else if(Se.isDataTexture2DArray)t.texImage3D(35866,0,In,Mn.width,Mn.height,Mn.depth,0,Fn,sr,Mn.data),Te.__maxMipLevel=0;else if(Se.isDataTexture3D)t.texImage3D(32879,0,In,Mn.width,Mn.height,Mn.depth,0,Fn,sr,Mn.data),Te.__maxMipLevel=0;else if(hn.length>0&&Kn){for(let Nt=0,yn=hn.length;Nt<yn;Nt++)ot=hn[Nt],t.texImage2D(3553,Nt,In,Fn,sr,ot);Se.generateMipmaps=!1,Te.__maxMipLevel=hn.length-1}else t.texImage2D(3553,0,In,Fn,sr,Mn),Te.__maxMipLevel=0;X(Se,Kn)&&$(Yt,Se,Mn.width,Mn.height),Te.__version=Se.version,Se.onUpdate&&Se.onUpdate(Se)}function zt(Te,Se,Mt,Yt,rn){const Mn=o.convert(Mt.format),Kn=o.convert(Mt.type),Fn=re(Mt.internalFormat,Mn,Kn,Mt.encoding);32879===rn||35866===rn?t.texImage3D(rn,0,Fn,Se.width,Se.height,Se.depth,0,Mn,Kn,null):t.texImage2D(rn,0,Fn,Se.width,Se.height,0,Mn,Kn,null),t.bindFramebuffer(36160,Te),n.framebufferTexture2D(36160,Yt,rn,r.get(Mt).__webglTexture,0),t.bindFramebuffer(36160,null)}function Zt(Te,Se,Mt){if(n.bindRenderbuffer(36161,Te),Se.depthBuffer&&!Se.stencilBuffer){let Yt=33189;if(Mt){const rn=Se.depthTexture;rn&&rn.isDepthTexture&&(rn.type===Ac?Yt=36012:1014===rn.type&&(Yt=33190));const Mn=or(Se);n.renderbufferStorageMultisample(36161,Mn,Yt,Se.width,Se.height)}else n.renderbufferStorage(36161,Yt,Se.width,Se.height);n.framebufferRenderbuffer(36160,36096,36161,Te)}else if(Se.depthBuffer&&Se.stencilBuffer){if(Mt){const Yt=or(Se);n.renderbufferStorageMultisample(36161,Yt,35056,Se.width,Se.height)}else n.renderbufferStorage(36161,34041,Se.width,Se.height);n.framebufferRenderbuffer(36160,33306,36161,Te)}else{const Yt=!0===Se.isWebGLMultipleRenderTargets?Se.texture[0]:Se.texture,rn=o.convert(Yt.format),Mn=o.convert(Yt.type),Kn=re(Yt.internalFormat,rn,Mn,Yt.encoding);if(Mt){const Fn=or(Se);n.renderbufferStorageMultisample(36161,Fn,Kn,Se.width,Se.height)}else n.renderbufferStorage(36161,Kn,Se.width,Se.height)}n.bindRenderbuffer(36161,null)}function or(Te){return a&&Te.isWebGLMultisampleRenderTarget?Math.min(_,Te.samples):0}let jt=!1,on=!1;this.allocateTextureUnit=function(){const Te=ve;return Te>=l&&console.warn("THREE.WebGLTextures: Trying to use "+Te+" texture units while this GPU supports only "+l),ve+=1,Te},this.resetTextureUnits=function(){ve=0},this.setTexture2D=ge,this.setTexture2DArray=function(Te,Se){const Mt=r.get(Te);Te.version>0&&Mt.__version!==Te.version?Ft(Mt,Te,Se):(t.activeTexture(33984+Se),t.bindTexture(35866,Mt.__webglTexture))},this.setTexture3D=function(Te,Se){const Mt=r.get(Te);Te.version>0&&Mt.__version!==Te.version?Ft(Mt,Te,Se):(t.activeTexture(33984+Se),t.bindTexture(32879,Mt.__webglTexture))},this.setTextureCube=ke,this.setupRenderTarget=function(Te){const Se=Te.texture,Mt=r.get(Te),Yt=r.get(Se);Te.addEventListener("dispose",Me),!0!==Te.isWebGLMultipleRenderTargets&&(Yt.__webglTexture=n.createTexture(),Yt.__version=Se.version,s.memory.textures++);const rn=!0===Te.isWebGLCubeRenderTarget,Mn=!0===Te.isWebGLMultipleRenderTargets,Kn=!0===Te.isWebGLMultisampleRenderTarget,Fn=Se.isDataTexture3D||Se.isDataTexture2DArray,sr=F(Te)||a;if(a&&Se.format===X1&&(Se.type===Ac||Se.type===$1)&&(Se.format=vs,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),rn){Mt.__webglFramebuffer=[];for(let In=0;In<6;In++)Mt.__webglFramebuffer[In]=n.createFramebuffer()}else if(Mt.__webglFramebuffer=n.createFramebuffer(),Mn)if(i.drawBuffers){const In=Te.texture;for(let ot=0,hn=In.length;ot<hn;ot++){const Nt=r.get(In[ot]);void 0===Nt.__webglTexture&&(Nt.__webglTexture=n.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(Kn)if(a){Mt.__webglMultisampledFramebuffer=n.createFramebuffer(),Mt.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,Mt.__webglColorRenderbuffer);const In=o.convert(Se.format),ot=o.convert(Se.type),hn=re(Se.internalFormat,In,ot,Se.encoding),Nt=or(Te);n.renderbufferStorageMultisample(36161,Nt,hn,Te.width,Te.height),t.bindFramebuffer(36160,Mt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,Mt.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),Te.depthBuffer&&(Mt.__webglDepthRenderbuffer=n.createRenderbuffer(),Zt(Mt.__webglDepthRenderbuffer,Te,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(rn){t.bindTexture(34067,Yt.__webglTexture),yt(34067,Se,sr);for(let In=0;In<6;In++)zt(Mt.__webglFramebuffer[In],Te,Se,36064,34069+In);X(Se,sr)&&$(34067,Se,Te.width,Te.height),t.unbindTexture()}else if(Mn){const In=Te.texture;for(let ot=0,hn=In.length;ot<hn;ot++){const Nt=In[ot],yn=r.get(Nt);t.bindTexture(3553,yn.__webglTexture),yt(3553,Nt,sr),zt(Mt.__webglFramebuffer,Te,Nt,36064+ot,3553),X(Nt,sr)&&$(3553,Nt,Te.width,Te.height)}t.unbindTexture()}else{let In=3553;Fn&&(a?In=Se.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),t.bindTexture(In,Yt.__webglTexture),yt(In,Se,sr),zt(Mt.__webglFramebuffer,Te,Se,36064,In),X(Se,sr)&&$(In,Se,Te.width,Te.height,Te.depth),t.unbindTexture()}Te.depthBuffer&&function(Te){const Se=r.get(Te),Mt=!0===Te.isWebGLCubeRenderTarget;if(Te.depthTexture){if(Mt)throw new Error("target.depthTexture not supported in Cube render targets");!function(Te,Se){if(Se&&Se.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,Te),!Se.depthTexture||!Se.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(Se.depthTexture).__webglTexture||Se.depthTexture.image.width!==Se.width||Se.depthTexture.image.height!==Se.height)&&(Se.depthTexture.image.width=Se.width,Se.depthTexture.image.height=Se.height,Se.depthTexture.needsUpdate=!0),ge(Se.depthTexture,0);const Yt=r.get(Se.depthTexture).__webglTexture;if(Se.depthTexture.format===K1)n.framebufferTexture2D(36160,36096,3553,Yt,0);else{if(Se.depthTexture.format!==jp)throw new Error("Unknown depthTexture format");n.framebufferTexture2D(36160,33306,3553,Yt,0)}}(Se.__webglFramebuffer,Te)}else if(Mt){Se.__webglDepthbuffer=[];for(let Yt=0;Yt<6;Yt++)t.bindFramebuffer(36160,Se.__webglFramebuffer[Yt]),Se.__webglDepthbuffer[Yt]=n.createRenderbuffer(),Zt(Se.__webglDepthbuffer[Yt],Te,!1)}else t.bindFramebuffer(36160,Se.__webglFramebuffer),Se.__webglDepthbuffer=n.createRenderbuffer(),Zt(Se.__webglDepthbuffer,Te,!1);t.bindFramebuffer(36160,null)}(Te)},this.updateRenderTargetMipmap=function(Te){const Se=F(Te)||a,Mt=!0===Te.isWebGLMultipleRenderTargets?Te.texture:[Te.texture];for(let Yt=0,rn=Mt.length;Yt<rn;Yt++){const Mn=Mt[Yt];if(X(Mn,Se)){const Kn=Te.isWebGLCubeRenderTarget?34067:3553,Fn=r.get(Mn).__webglTexture;t.bindTexture(Kn,Fn),$(Kn,Mn,Te.width,Te.height),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function(Te){if(Te.isWebGLMultisampleRenderTarget)if(a){const Se=Te.width,Mt=Te.height;let Yt=16384;Te.depthBuffer&&(Yt|=256),Te.stencilBuffer&&(Yt|=1024);const rn=r.get(Te);t.bindFramebuffer(36008,rn.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,rn.__webglFramebuffer),n.blitFramebuffer(0,0,Se,Mt,0,0,Se,Mt,Yt,9728),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,rn.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(Te,Se){Te&&Te.isWebGLRenderTarget&&(!1===jt&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),jt=!0),Te=Te.texture),ge(Te,Se)},this.safeSetTextureCube=function(Te,Se){Te&&Te.isWebGLCubeRenderTarget&&(!1===on&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),on=!0),Te=Te.texture),ke(Te,Se)}}function cpe(n,e,t){const r=t.isWebGL2;return{convert:function(o){let s;if(o===Mu)return 5121;if(1017===o)return 32819;if(1018===o)return 32820;if(1019===o)return 33635;if(1010===o)return 5120;if(1011===o)return 5122;if(1012===o)return 5123;if(1013===o)return 5124;if(1014===o)return 5125;if(o===Ac)return 5126;if(o===$1)return r?5131:(s=e.get("OES_texture_half_float"),null!==s?s.HALF_FLOAT_OES:null);if(1021===o)return 6406;if(o===X1)return 6407;if(o===vs)return 6408;if(1024===o)return 6409;if(1025===o)return 6410;if(o===K1)return 6402;if(o===jp)return 34041;if(1028===o)return 6403;if(1029===o)return 36244;if(1030===o)return 33319;if(1031===o)return 33320;if(1032===o)return 36248;if(1033===o)return 36249;if(33776===o||33777===o||33778===o||33779===o){if(s=e.get("WEBGL_compressed_texture_s3tc"),null===s)return null;if(33776===o)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===o)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===o)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===o)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===o||35841===o||35842===o||35843===o){if(s=e.get("WEBGL_compressed_texture_pvrtc"),null===s)return null;if(35840===o)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===o)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===o)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===o)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===o)return s=e.get("WEBGL_compressed_texture_etc1"),null!==s?s.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===o||37496===o)&&(s=e.get("WEBGL_compressed_texture_etc"),null!==s)){if(37492===o)return s.COMPRESSED_RGB8_ETC2;if(37496===o)return s.COMPRESSED_RGBA8_ETC2_EAC}return 37808===o||37809===o||37810===o||37811===o||37812===o||37813===o||37814===o||37815===o||37816===o||37817===o||37818===o||37819===o||37820===o||37821===o||37840===o||37841===o||37842===o||37843===o||37844===o||37845===o||37846===o||37847===o||37848===o||37849===o||37850===o||37851===o||37852===o||37853===o?(s=e.get("WEBGL_compressed_texture_astc"),null!==s?o:null):36492===o?(s=e.get("EXT_texture_compression_bptc"),null!==s?o:null):o===Bp?r?34042:(s=e.get("WEBGL_depth_texture"),null!==s?s.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}L_.prototype.isMeshDistanceMaterial=!0;class wI extends $o{constructor(e=[]){super(),this.cameras=e}}wI.prototype.isArrayCamera=!0;class Wh extends hi{constructor(){super(),this.type="Group"}}Wh.prototype.isGroup=!0;const upe={type:"move"};class O_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Wh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Wh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ce,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ce),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Wh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ce,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ce),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,r){let i=null,o=null,s=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(null!==a&&(i=t.getPose(e.targetRaySpace,r),null!==i&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(upe))),c&&e.hand){s=!0;for(const N of e.hand.values()){const B=t.getJointPose(N,r);if(void 0===c.joints[N.jointName]){const I=new Wh;I.matrixAutoUpdate=!1,I.visible=!1,c.joints[N.jointName]=I,c.add(I)}const F=c.joints[N.jointName];null!==B&&(F.matrix.fromArray(B.transform.matrix),F.matrix.decompose(F.position,F.rotation,F.scale),F.jointRadius=B.radius),F.visible=null!==B}const S=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),D=.02,k=.005;c.inputState.pinching&&S>D+k?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&S<=D-k&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==l&&e.gripSpace&&(o=t.getPose(e.gripSpace,r),null!==o&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));return null!==a&&(a.visible=null!==i),null!==l&&(l.visible=null!==o),null!==c&&(c.visible=null!==s),this}}class hpe extends Su{constructor(e,t){super();const r=this,i=e.state;let o=null,s=1,a=null,l="local-floor",c=null,p=null,_=null,S=null,D=null,k=!1,N=null,B=null,F=null,I=null,X=null,$=null;const re=[],de=new Map,se=new $o;se.layers.enable(1),se.viewport=new Si;const Me=new $o;Me.layers.enable(2),Me.viewport=new Si;const He=[se,Me],Oe=new wI;Oe.layers.enable(1),Oe.layers.enable(2);let ve=null,st=null;function je(xt){const zt=de.get(xt.inputSource);zt&&zt.dispatchEvent({type:xt.type,data:xt.inputSource})}function ge(){de.forEach(function(xt,zt){xt.disconnect(zt)}),de.clear(),ve=null,st=null,i.bindXRFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),_&&t.deleteFramebuffer(_),N&&t.deleteFramebuffer(N),B&&t.deleteRenderbuffer(B),F&&t.deleteRenderbuffer(F),_=null,N=null,B=null,F=null,D=null,S=null,p=null,o=null,Ft.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}function xe(xt){const zt=o.inputSources;for(let Zt=0;Zt<re.length;Zt++)de.set(zt[Zt],re[Zt]);for(let Zt=0;Zt<xt.removed.length;Zt++){const at=xt.removed[Zt],qt=de.get(at);qt&&(qt.dispatchEvent({type:"disconnected",data:at}),de.delete(at))}for(let Zt=0;Zt<xt.added.length;Zt++){const at=xt.added[Zt],qt=de.get(at);qt&&qt.dispatchEvent({type:"connected",data:at})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(xt){let zt=re[xt];return void 0===zt&&(zt=new O_,re[xt]=zt),zt.getTargetRaySpace()},this.getControllerGrip=function(xt){let zt=re[xt];return void 0===zt&&(zt=new O_,re[xt]=zt),zt.getGripSpace()},this.getHand=function(xt){let zt=re[xt];return void 0===zt&&(zt=new O_,re[xt]=zt),zt.getHandSpace()},this.setFramebufferScaleFactor=function(xt){s=xt,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(xt){l=xt,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getBaseLayer=function(){return null!==S?S:D},this.getBinding=function(){return p},this.getFrame=function(){return I},this.getSession=function(){return o},this.setSession=function(){var xt=function(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(l){KL(o,r,i,s,a,"next",l)}function a(l){KL(o,r,i,s,a,"throw",l)}s(void 0)})}}(function*(zt){if(o=zt,null!==o){o.addEventListener("select",je),o.addEventListener("selectstart",je),o.addEventListener("selectend",je),o.addEventListener("squeeze",je),o.addEventListener("squeezestart",je),o.addEventListener("squeezeend",je),o.addEventListener("end",ge),o.addEventListener("inputsourceschange",xe);const Zt=t.getContextAttributes();if(!0!==Zt.xrCompatible&&(yield t.makeXRCompatible()),void 0===o.renderState.layers)D=new XRWebGLLayer(o,t,{antialias:Zt.antialias,alpha:Zt.alpha,depth:Zt.depth,stencil:Zt.stencil,framebufferScaleFactor:s}),o.updateRenderState({baseLayer:D});else if(t instanceof WebGLRenderingContext)D=new XRWebGLLayer(o,t,{antialias:!0,alpha:Zt.alpha,depth:Zt.depth,stencil:Zt.stencil,framebufferScaleFactor:s}),o.updateRenderState({layers:[D]});else{k=Zt.antialias;let at=null;Zt.depth&&($=256,Zt.stencil&&($|=1024),X=Zt.stencil?33306:36096,at=Zt.stencil?35056:33190);const qt={colorFormat:Zt.alpha?32856:32849,depthFormat:at,scaleFactor:s};p=new XRWebGLBinding(o,t),S=p.createProjectionLayer(qt),_=t.createFramebuffer(),o.updateRenderState({layers:[S]}),k&&(N=t.createFramebuffer(),B=t.createRenderbuffer(),t.bindRenderbuffer(36161,B),t.renderbufferStorageMultisample(36161,4,32856,S.textureWidth,S.textureHeight),i.bindFramebuffer(36160,N),t.framebufferRenderbuffer(36160,36064,36161,B),t.bindRenderbuffer(36161,null),null!==at&&(F=t.createRenderbuffer(),t.bindRenderbuffer(36161,F),t.renderbufferStorageMultisample(36161,4,at,S.textureWidth,S.textureHeight),t.framebufferRenderbuffer(36160,X,36161,F),t.bindRenderbuffer(36161,null)),i.bindFramebuffer(36160,null))}a=yield o.requestReferenceSpace(l),Ft.setContext(o),Ft.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}});return function(zt){return xt.apply(this,arguments)}}();const he=new Ce,ke=new Ce;function rt(xt,zt){null===zt?xt.matrixWorld.copy(xt.matrix):xt.matrixWorld.multiplyMatrices(zt.matrixWorld,xt.matrix),xt.matrixWorldInverse.copy(xt.matrixWorld).invert()}this.updateCamera=function(xt){if(null===o)return;Oe.near=Me.near=se.near=xt.near,Oe.far=Me.far=se.far=xt.far,(ve!==Oe.near||st!==Oe.far)&&(o.updateRenderState({depthNear:Oe.near,depthFar:Oe.far}),ve=Oe.near,st=Oe.far);const zt=xt.parent,Zt=Oe.cameras;rt(Oe,zt);for(let qt=0;qt<Zt.length;qt++)rt(Zt[qt],zt);Oe.matrixWorld.decompose(Oe.position,Oe.quaternion,Oe.scale),xt.position.copy(Oe.position),xt.quaternion.copy(Oe.quaternion),xt.scale.copy(Oe.scale),xt.matrix.copy(Oe.matrix),xt.matrixWorld.copy(Oe.matrixWorld);const at=xt.children;for(let qt=0,gn=at.length;qt<gn;qt++)at[qt].updateMatrixWorld(!0);2===Zt.length?function(xt,zt,Zt){he.setFromMatrixPosition(zt.matrixWorld),ke.setFromMatrixPosition(Zt.matrixWorld);const at=he.distanceTo(ke),qt=zt.projectionMatrix.elements,gn=Zt.projectionMatrix.elements,nn=qt[14]/(qt[10]-1),ln=qt[14]/(qt[10]+1),or=(qt[9]+1)/qt[5],Lt=(qt[9]-1)/qt[5],jt=(qt[8]-1)/qt[0],on=(gn[8]+1)/gn[0],Ln=nn*jt,un=nn*on,Te=at/(-jt+on),Se=Te*-jt;zt.matrixWorld.decompose(xt.position,xt.quaternion,xt.scale),xt.translateX(Se),xt.translateZ(Te),xt.matrixWorld.compose(xt.position,xt.quaternion,xt.scale),xt.matrixWorldInverse.copy(xt.matrixWorld).invert();const Mt=nn+Te,Yt=ln+Te;xt.projectionMatrix.makePerspective(Ln-Se,un+(at-Se),or*ln/Yt*Mt,Lt*ln/Yt*Mt,Mt,Yt)}(Oe,se,Me):Oe.projectionMatrix.copy(se.projectionMatrix)},this.getCamera=function(){return Oe},this.getFoveation=function(){return null!==S?S.fixedFoveation:null!==D?D.fixedFoveation:void 0},this.setFoveation=function(xt){null!==S&&(S.fixedFoveation=xt),null!==D&&void 0!==D.fixedFoveation&&(D.fixedFoveation=xt)};let yt=null;const Ft=new BO;Ft.setAnimationLoop(function(xt,zt){if(c=zt.getViewerPose(a),I=zt,null!==c){const at=c.views;null!==D&&i.bindXRFramebuffer(D.framebuffer);let qt=!1;at.length!==Oe.cameras.length&&(Oe.cameras.length=0,qt=!0);for(let gn=0;gn<at.length;gn++){const nn=at[gn];let ln=null;if(null!==D)ln=D.getViewport(nn);else{const Lt=p.getViewSubImage(S,nn);i.bindXRFramebuffer(_),void 0!==Lt.depthStencilTexture&&t.framebufferTexture2D(36160,X,3553,Lt.depthStencilTexture,0),t.framebufferTexture2D(36160,36064,3553,Lt.colorTexture,0),ln=Lt.viewport}const or=He[gn];or.matrix.fromArray(nn.transform.matrix),or.projectionMatrix.fromArray(nn.projectionMatrix),or.viewport.set(ln.x,ln.y,ln.width,ln.height),0===gn&&Oe.matrix.copy(or.matrix),!0===qt&&Oe.cameras.push(or)}k&&(i.bindXRFramebuffer(N),null!==$&&t.clear($))}const Zt=o.inputSources;for(let at=0;at<re.length;at++)re[at].update(Zt[at],zt,a);if(yt&&yt(xt,zt),k){const at=S.textureWidth,qt=S.textureHeight;i.bindFramebuffer(36008,N),i.bindFramebuffer(36009,_),t.invalidateFramebuffer(36008,[X]),t.invalidateFramebuffer(36009,[X]),t.blitFramebuffer(0,0,at,qt,0,0,at,qt,16384,9728),t.invalidateFramebuffer(36008,[36064]),i.bindFramebuffer(36008,null),i.bindFramebuffer(36009,null),i.bindFramebuffer(36160,N)}I=null}),this.setAnimationLoop=function(xt){yt=xt},this.dispose=function(){}}}function dpe(n){function r(F,I){F.opacity.value=I.opacity,I.color&&F.diffuse.value.copy(I.color),I.emissive&&F.emissive.value.copy(I.emissive).multiplyScalar(I.emissiveIntensity),I.map&&(F.map.value=I.map),I.alphaMap&&(F.alphaMap.value=I.alphaMap),I.specularMap&&(F.specularMap.value=I.specularMap),I.alphaTest>0&&(F.alphaTest.value=I.alphaTest);const X=n.get(I).envMap;if(X){F.envMap.value=X,F.flipEnvMap.value=X.isCubeTexture&&!1===X.isRenderTargetTexture?-1:1,F.reflectivity.value=I.reflectivity,F.ior.value=I.ior,F.refractionRatio.value=I.refractionRatio;const de=n.get(X).__maxMipLevel;void 0!==de&&(F.maxMipLevel.value=de)}let $,re;I.lightMap&&(F.lightMap.value=I.lightMap,F.lightMapIntensity.value=I.lightMapIntensity),I.aoMap&&(F.aoMap.value=I.aoMap,F.aoMapIntensity.value=I.aoMapIntensity),I.map?$=I.map:I.specularMap?$=I.specularMap:I.displacementMap?$=I.displacementMap:I.normalMap?$=I.normalMap:I.bumpMap?$=I.bumpMap:I.roughnessMap?$=I.roughnessMap:I.metalnessMap?$=I.metalnessMap:I.alphaMap?$=I.alphaMap:I.emissiveMap?$=I.emissiveMap:I.clearcoatMap?$=I.clearcoatMap:I.clearcoatNormalMap?$=I.clearcoatNormalMap:I.clearcoatRoughnessMap?$=I.clearcoatRoughnessMap:I.specularIntensityMap?$=I.specularIntensityMap:I.specularTintMap?$=I.specularTintMap:I.transmissionMap?$=I.transmissionMap:I.thicknessMap&&($=I.thicknessMap),void 0!==$&&($.isWebGLRenderTarget&&($=$.texture),!0===$.matrixAutoUpdate&&$.updateMatrix(),F.uvTransform.value.copy($.matrix)),I.aoMap?re=I.aoMap:I.lightMap&&(re=I.lightMap),void 0!==re&&(re.isWebGLRenderTarget&&(re=re.texture),!0===re.matrixAutoUpdate&&re.updateMatrix(),F.uv2Transform.value.copy(re.matrix))}function _(F,I){F.roughness.value=I.roughness,F.metalness.value=I.metalness,I.roughnessMap&&(F.roughnessMap.value=I.roughnessMap),I.metalnessMap&&(F.metalnessMap.value=I.metalnessMap),I.emissiveMap&&(F.emissiveMap.value=I.emissiveMap),I.bumpMap&&(F.bumpMap.value=I.bumpMap,F.bumpScale.value=I.bumpScale,1===I.side&&(F.bumpScale.value*=-1)),I.normalMap&&(F.normalMap.value=I.normalMap,F.normalScale.value.copy(I.normalScale),1===I.side&&F.normalScale.value.negate()),I.displacementMap&&(F.displacementMap.value=I.displacementMap,F.displacementScale.value=I.displacementScale,F.displacementBias.value=I.displacementBias),n.get(I).envMap&&(F.envMapIntensity.value=I.envMapIntensity)}return{refreshFogUniforms:function(F,I){F.fogColor.value.copy(I.color),I.isFog?(F.fogNear.value=I.near,F.fogFar.value=I.far):I.isFogExp2&&(F.fogDensity.value=I.density)},refreshMaterialUniforms:function(F,I,X,$,re){I.isMeshBasicMaterial?r(F,I):I.isMeshLambertMaterial?(r(F,I),function(F,I){I.emissiveMap&&(F.emissiveMap.value=I.emissiveMap)}(F,I)):I.isMeshToonMaterial?(r(F,I),function(F,I){I.gradientMap&&(F.gradientMap.value=I.gradientMap),I.emissiveMap&&(F.emissiveMap.value=I.emissiveMap),I.bumpMap&&(F.bumpMap.value=I.bumpMap,F.bumpScale.value=I.bumpScale,1===I.side&&(F.bumpScale.value*=-1)),I.normalMap&&(F.normalMap.value=I.normalMap,F.normalScale.value.copy(I.normalScale),1===I.side&&F.normalScale.value.negate()),I.displacementMap&&(F.displacementMap.value=I.displacementMap,F.displacementScale.value=I.displacementScale,F.displacementBias.value=I.displacementBias)}(F,I)):I.isMeshPhongMaterial?(r(F,I),function(F,I){F.specular.value.copy(I.specular),F.shininess.value=Math.max(I.shininess,1e-4),I.emissiveMap&&(F.emissiveMap.value=I.emissiveMap),I.bumpMap&&(F.bumpMap.value=I.bumpMap,F.bumpScale.value=I.bumpScale,1===I.side&&(F.bumpScale.value*=-1)),I.normalMap&&(F.normalMap.value=I.normalMap,F.normalScale.value.copy(I.normalScale),1===I.side&&F.normalScale.value.negate()),I.displacementMap&&(F.displacementMap.value=I.displacementMap,F.displacementScale.value=I.displacementScale,F.displacementBias.value=I.displacementBias)}(F,I)):I.isMeshStandardMaterial?(r(F,I),I.isMeshPhysicalMaterial?function(F,I,X){_(F,I),F.ior.value=I.ior,I.sheen>0&&(F.sheenTint.value.copy(I.sheenTint).multiplyScalar(I.sheen),F.sheenRoughness.value=I.sheenRoughness),I.clearcoat>0&&(F.clearcoat.value=I.clearcoat,F.clearcoatRoughness.value=I.clearcoatRoughness,I.clearcoatMap&&(F.clearcoatMap.value=I.clearcoatMap),I.clearcoatRoughnessMap&&(F.clearcoatRoughnessMap.value=I.clearcoatRoughnessMap),I.clearcoatNormalMap&&(F.clearcoatNormalScale.value.copy(I.clearcoatNormalScale),F.clearcoatNormalMap.value=I.clearcoatNormalMap,1===I.side&&F.clearcoatNormalScale.value.negate())),I.transmission>0&&(F.transmission.value=I.transmission,F.transmissionSamplerMap.value=X.texture,F.transmissionSamplerSize.value.set(X.width,X.height),I.transmissionMap&&(F.transmissionMap.value=I.transmissionMap),F.thickness.value=I.thickness,I.thicknessMap&&(F.thicknessMap.value=I.thicknessMap),F.attenuationDistance.value=I.attenuationDistance,F.attenuationTint.value.copy(I.attenuationTint)),F.specularIntensity.value=I.specularIntensity,F.specularTint.value.copy(I.specularTint),I.specularIntensityMap&&(F.specularIntensityMap.value=I.specularIntensityMap),I.specularTintMap&&(F.specularTintMap.value=I.specularTintMap)}(F,I,re):_(F,I)):I.isMeshMatcapMaterial?(r(F,I),function(F,I){I.matcap&&(F.matcap.value=I.matcap),I.bumpMap&&(F.bumpMap.value=I.bumpMap,F.bumpScale.value=I.bumpScale,1===I.side&&(F.bumpScale.value*=-1)),I.normalMap&&(F.normalMap.value=I.normalMap,F.normalScale.value.copy(I.normalScale),1===I.side&&F.normalScale.value.negate()),I.displacementMap&&(F.displacementMap.value=I.displacementMap,F.displacementScale.value=I.displacementScale,F.displacementBias.value=I.displacementBias)}(F,I)):I.isMeshDepthMaterial?(r(F,I),function(F,I){I.displacementMap&&(F.displacementMap.value=I.displacementMap,F.displacementScale.value=I.displacementScale,F.displacementBias.value=I.displacementBias)}(F,I)):I.isMeshDistanceMaterial?(r(F,I),function(F,I){I.displacementMap&&(F.displacementMap.value=I.displacementMap,F.displacementScale.value=I.displacementScale,F.displacementBias.value=I.displacementBias),F.referencePosition.value.copy(I.referencePosition),F.nearDistance.value=I.nearDistance,F.farDistance.value=I.farDistance}(F,I)):I.isMeshNormalMaterial?(r(F,I),function(F,I){I.bumpMap&&(F.bumpMap.value=I.bumpMap,F.bumpScale.value=I.bumpScale,1===I.side&&(F.bumpScale.value*=-1)),I.normalMap&&(F.normalMap.value=I.normalMap,F.normalScale.value.copy(I.normalScale),1===I.side&&F.normalScale.value.negate()),I.displacementMap&&(F.displacementMap.value=I.displacementMap,F.displacementScale.value=I.displacementScale,F.displacementBias.value=I.displacementBias)}(F,I)):I.isLineBasicMaterial?(function(F,I){F.diffuse.value.copy(I.color),F.opacity.value=I.opacity}(F,I),I.isLineDashedMaterial&&function(F,I){F.dashSize.value=I.dashSize,F.totalSize.value=I.dashSize+I.gapSize,F.scale.value=I.scale}(F,I)):I.isPointsMaterial?function(F,I,X,$){let re;F.diffuse.value.copy(I.color),F.opacity.value=I.opacity,F.size.value=I.size*X,F.scale.value=.5*$,I.map&&(F.map.value=I.map),I.alphaMap&&(F.alphaMap.value=I.alphaMap),I.alphaTest>0&&(F.alphaTest.value=I.alphaTest),I.map?re=I.map:I.alphaMap&&(re=I.alphaMap),void 0!==re&&(!0===re.matrixAutoUpdate&&re.updateMatrix(),F.uvTransform.value.copy(re.matrix))}(F,I,X,$):I.isSpriteMaterial?function(F,I){let X;F.diffuse.value.copy(I.color),F.opacity.value=I.opacity,F.rotation.value=I.rotation,I.map&&(F.map.value=I.map),I.alphaMap&&(F.alphaMap.value=I.alphaMap),I.alphaTest>0&&(F.alphaTest.value=I.alphaTest),I.map?X=I.map:I.alphaMap&&(X=I.alphaMap),void 0!==X&&(!0===X.matrixAutoUpdate&&X.updateMatrix(),F.uvTransform.value.copy(X.matrix))}(F,I):I.isShadowMaterial?(F.color.value.copy(I.color),F.opacity.value=I.opacity):I.isShaderMaterial&&(I.uniformsNeedUpdate=!1)}}}function vi(n={}){const e=void 0!==n.canvas?n.canvas:function(){const n=x8("canvas");return n.style.display="block",n}(),t=void 0!==n.context?n.context:null,r=void 0!==n.alpha&&n.alpha,i=void 0===n.depth||n.depth,o=void 0===n.stencil||n.stencil,s=void 0!==n.antialias&&n.antialias,a=void 0===n.premultipliedAlpha||n.premultipliedAlpha,l=void 0!==n.preserveDrawingBuffer&&n.preserveDrawingBuffer,c=void 0!==n.powerPreference?n.powerPreference:"default",p=void 0!==n.failIfMajorPerformanceCaveat&&n.failIfMajorPerformanceCaveat;let _=null,S=null;const D=[],k=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=ys,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1;const N=this;let B=!1,F=0,I=0,X=null,$=-1,re=null;const de=new Si,se=new Si;let Me=null,He=e.width,Oe=e.height,ve=1,st=null,je=null;const ge=new Si(0,0,He,Oe),xe=new Si(0,0,He,Oe);let he=!1;const ke=[],et=new B8;let rt=!1,yt=!1,vt=null;const Ft=new Yn,xt=new Ce,zt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Zt(){return null===X?ve:1}let gn,nn,ln,or,Lt,jt,on,Ln,un,Te,Se,Mt,Yt,rn,Mn,Kn,Fn,sr,In,ot,hn,Nt,yn,at=t;function qt(De,gt){for(let wt=0;wt<De.length;wt++){const Bt=e.getContext(De[wt],gt);if(null!==Bt)return Bt}return null}try{const De={alpha:r,depth:i,stencil:o,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:p};if(e.addEventListener("webglcontextlost",lt,!1),e.addEventListener("webglcontextrestored",Dn,!1),null===at){const gt=["webgl2","webgl","experimental-webgl"];if(!0===N.isWebGL1Renderer&&gt.shift(),at=qt(gt,De),null===at)throw qt(gt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===at.getShaderPrecisionFormat&&(at.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(De){throw console.error("THREE.WebGLRenderer: "+De.message),De}function En(){gn=new Rfe(at),nn=new Dfe(at,gn,n),gn.init(nn),Nt=new cpe(at,gn,nn),ln=new ape(at,gn,nn),ke[0]=1029,or=new Vfe(at),Lt=new K0e,jt=new lpe(at,gn,ln,Lt,nn,Nt,or),on=new Afe(N),Ln=new Ife(N),un=new Ade(at,nn),yn=new Tfe(at,gn,un,nn),Te=new Ffe(at,un,or,yn),Se=new Ufe(at,Te,un,or),In=new jfe(at,nn,jt),Kn=new zfe(Lt),Mt=new X0e(N,on,Ln,gn,nn,yn,Kn),Yt=new dpe(Lt),rn=new Q0e(Lt),Mn=new ipe(gn,nn),sr=new Cfe(N,on,ln,Se,a),Fn=new bI(N,Se,nn),ot=new Efe(at,gn,or,nn),hn=new Nfe(at,gn,or,nn),or.programs=Mt.programs,N.capabilities=nn,N.extensions=gn,N.properties=Lt,N.renderLists=rn,N.shadowMap=Fn,N.state=ln,N.info=or}En();const Er=new hpe(N,at);function lt(De){De.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),B=!0}function Dn(){console.log("THREE.WebGLRenderer: Context Restored."),B=!1;const De=or.autoReset,gt=Fn.enabled,wt=Fn.autoUpdate,_t=Fn.needsUpdate,Bt=Fn.type;En(),or.autoReset=De,Fn.enabled=gt,Fn.autoUpdate=wt,Fn.needsUpdate=_t,Fn.type=Bt}function yi(De){const gt=De.target;gt.removeEventListener("dispose",yi),function(De){(function(De){const gt=Lt.get(De).programs;void 0!==gt&&gt.forEach(function(wt){Mt.releaseProgram(wt)})})(De),Lt.remove(De)}(gt)}this.xr=Er,this.getContext=function(){return at},this.getContextAttributes=function(){return at.getContextAttributes()},this.forceContextLoss=function(){const De=gn.get("WEBGL_lose_context");De&&De.loseContext()},this.forceContextRestore=function(){const De=gn.get("WEBGL_lose_context");De&&De.restoreContext()},this.getPixelRatio=function(){return ve},this.setPixelRatio=function(De){void 0!==De&&(ve=De,this.setSize(He,Oe,!1))},this.getSize=function(De){return De.set(He,Oe)},this.setSize=function(De,gt,wt){Er.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(He=De,Oe=gt,e.width=Math.floor(De*ve),e.height=Math.floor(gt*ve),!1!==wt&&(e.style.width=De+"px",e.style.height=gt+"px"),this.setViewport(0,0,De,gt))},this.getDrawingBufferSize=function(De){return De.set(He*ve,Oe*ve).floor()},this.setDrawingBufferSize=function(De,gt,wt){He=De,Oe=gt,ve=wt,e.width=Math.floor(De*wt),e.height=Math.floor(gt*wt),this.setViewport(0,0,De,gt)},this.getCurrentViewport=function(De){return De.copy(de)},this.getViewport=function(De){return De.copy(ge)},this.setViewport=function(De,gt,wt,_t){De.isVector4?ge.set(De.x,De.y,De.z,De.w):ge.set(De,gt,wt,_t),ln.viewport(de.copy(ge).multiplyScalar(ve).floor())},this.getScissor=function(De){return De.copy(xe)},this.setScissor=function(De,gt,wt,_t){De.isVector4?xe.set(De.x,De.y,De.z,De.w):xe.set(De,gt,wt,_t),ln.scissor(se.copy(xe).multiplyScalar(ve).floor())},this.getScissorTest=function(){return he},this.setScissorTest=function(De){ln.setScissorTest(he=De)},this.setOpaqueSort=function(De){st=De},this.setTransparentSort=function(De){je=De},this.getClearColor=function(De){return De.copy(sr.getClearColor())},this.setClearColor=function(){sr.setClearColor.apply(sr,arguments)},this.getClearAlpha=function(){return sr.getClearAlpha()},this.setClearAlpha=function(){sr.setClearAlpha.apply(sr,arguments)},this.clear=function(De,gt,wt){let _t=0;(void 0===De||De)&&(_t|=16384),(void 0===gt||gt)&&(_t|=256),(void 0===wt||wt)&&(_t|=1024),at.clear(_t)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",lt,!1),e.removeEventListener("webglcontextrestored",Dn,!1),rn.dispose(),Mn.dispose(),Lt.dispose(),on.dispose(),Ln.dispose(),Se.dispose(),yn.dispose(),Er.dispose(),Er.removeEventListener("sessionstart",Xo),Er.removeEventListener("sessionend",Ra),vt&&(vt.dispose(),vt=null),rd.stop()},this.renderBufferImmediate=function(De,gt){yn.initAttributes();const wt=Lt.get(De);De.hasPositions&&!wt.position&&(wt.position=at.createBuffer()),De.hasNormals&&!wt.normal&&(wt.normal=at.createBuffer()),De.hasUvs&&!wt.uv&&(wt.uv=at.createBuffer()),De.hasColors&&!wt.color&&(wt.color=at.createBuffer());const _t=gt.getAttributes();De.hasPositions&&(at.bindBuffer(34962,wt.position),at.bufferData(34962,De.positionArray,35048),yn.enableAttribute(_t.position.location),at.vertexAttribPointer(_t.position.location,3,5126,!1,0,0)),De.hasNormals&&(at.bindBuffer(34962,wt.normal),at.bufferData(34962,De.normalArray,35048),yn.enableAttribute(_t.normal.location),at.vertexAttribPointer(_t.normal.location,3,5126,!1,0,0)),De.hasUvs&&(at.bindBuffer(34962,wt.uv),at.bufferData(34962,De.uvArray,35048),yn.enableAttribute(_t.uv.location),at.vertexAttribPointer(_t.uv.location,2,5126,!1,0,0)),De.hasColors&&(at.bindBuffer(34962,wt.color),at.bufferData(34962,De.colorArray,35048),yn.enableAttribute(_t.color.location),at.vertexAttribPointer(_t.color.location,3,5126,!1,0,0)),yn.disableUnusedAttributes(),at.drawArrays(4,0,De.count),De.count=0},this.renderBufferDirect=function(De,gt,wt,_t,Bt,Mr){null===gt&&(gt=zt);const ur=Bt.isMesh&&Bt.matrixWorld.determinant()<0,hr=yN(De,gt,wt,_t,Bt);ln.setMaterial(_t,ur);let Ur=wt.index;const _i=wt.attributes.position;if(null===Ur){if(void 0===_i||0===_i.count)return}else if(0===Ur.count)return;let qr=1;!0===_t.wireframe&&(Ur=Te.getWireframeAttribute(wt),qr=2),yn.setup(Bt,_t,hr,wt,Ur);let oi,oo=ot;null!==Ur&&(oi=un.get(Ur),oo=hn,oo.setIndex(oi));const id=null!==Ur?Ur.count:_i.count,di=wt.drawRange.start*qr,x4=wt.drawRange.count*qr,Ni=null!==Mr?Mr.start*qr:0,od=null!==Mr?Mr.count*qr:1/0,sd=Math.max(di,Ni),ad=Math.min(id,di+x4,Ni+od)-1,Uu=Math.max(0,ad-sd+1);if(0!==Uu){if(Bt.isMesh)!0===_t.wireframe?(ln.setLineWidth(_t.wireframeLinewidth*Zt()),oo.setMode(1)):oo.setMode(4);else if(Bt.isLine){let so=_t.linewidth;void 0===so&&(so=1),ln.setLineWidth(so*Zt()),oo.setMode(Bt.isLineSegments?1:Bt.isLineLoop?2:3)}else Bt.isPoints?oo.setMode(0):Bt.isSprite&&oo.setMode(4);if(Bt.isInstancedMesh)oo.renderInstances(sd,Uu,Bt.count);else if(wt.isInstancedBufferGeometry){const so=Math.min(wt.instanceCount,wt._maxInstanceCount);oo.renderInstances(sd,Uu,so)}else oo.render(sd,Uu)}},this.compile=function(De,gt){S=Mn.get(De),S.init(),k.push(S),De.traverseVisible(function(wt){wt.isLight&&wt.layers.test(gt.layers)&&(S.pushLight(wt),wt.castShadow&&S.pushShadow(wt))}),S.setupLights(N.physicallyCorrectLights),De.traverse(function(wt){const _t=wt.material;if(_t)if(Array.isArray(_t))for(let Bt=0;Bt<_t.length;Bt++)Vb(_t[Bt],De,wt);else Vb(_t,De,wt)}),k.pop(),S=null};let qs=null;function Xo(){rd.stop()}function Ra(){rd.start()}const rd=new BO;function mN(De,gt,wt,_t){if(!1===De.visible)return;if(De.layers.test(gt.layers))if(De.isGroup)wt=De.renderOrder;else if(De.isLOD)!0===De.autoUpdate&&De.update(gt);else if(De.isLight)S.pushLight(De),De.castShadow&&S.pushShadow(De);else if(De.isSprite){if(!De.frustumCulled||et.intersectsSprite(De)){_t&&xt.setFromMatrixPosition(De.matrixWorld).applyMatrix4(Ft);const ur=Se.update(De),hr=De.material;hr.visible&&_.push(De,ur,hr,wt,xt.z,null)}}else if(De.isImmediateRenderObject)_t&&xt.setFromMatrixPosition(De.matrixWorld).applyMatrix4(Ft),_.push(De,null,De.material,wt,xt.z,null);else if((De.isMesh||De.isLine||De.isPoints)&&(De.isSkinnedMesh&&De.skeleton.frame!==or.render.frame&&(De.skeleton.update(),De.skeleton.frame=or.render.frame),!De.frustumCulled||et.intersectsObject(De))){_t&&xt.setFromMatrixPosition(De.matrixWorld).applyMatrix4(Ft);const ur=Se.update(De),hr=De.material;if(Array.isArray(hr)){const Ur=ur.groups;for(let _i=0,qr=Ur.length;_i<qr;_i++){const oi=Ur[_i],oo=hr[oi.materialIndex];oo&&oo.visible&&_.push(De,ur,oo,wt,xt.z,oi)}}else hr.visible&&_.push(De,ur,hr,wt,xt.z,null)}const Mr=De.children;for(let ur=0,hr=Mr.length;ur<hr;ur++)mN(Mr[ur],gt,wt,_t)}function gN(De,gt,wt,_t){const Bt=De.opaque,Mr=De.transmissive,ur=De.transparent;S.setupLightsView(wt),Mr.length>0&&function(De,gt,wt){null===vt&&(vt=new(!0===s&&!0===nn.isWebGL2?EO:Wl)(1024,1024,{generateMipmaps:!0,type:null!==Nt.convert($1)?$1:Mu,minFilter:1008,magFilter:Fo,wrapS:Ro,wrapT:Ro}));const _t=N.getRenderTarget();N.setRenderTarget(vt),N.clear();const Bt=N.toneMapping;N.toneMapping=0,X6(De,gt,wt),N.toneMapping=Bt,jt.updateMultisampleRenderTarget(vt),jt.updateRenderTargetMipmap(vt),N.setRenderTarget(_t)}(Bt,gt,wt),_t&&ln.viewport(de.copy(_t)),Bt.length>0&&X6(Bt,gt,wt),Mr.length>0&&X6(Mr,gt,wt),ur.length>0&&X6(ur,gt,wt)}function X6(De,gt,wt){const _t=!0===gt.isScene?gt.overrideMaterial:null;for(let Bt=0,Mr=De.length;Bt<Mr;Bt++){const ur=De[Bt],hr=ur.object,Ur=ur.geometry,_i=null===_t?ur.material:_t,qr=ur.group;hr.layers.test(wt.layers)&&J6e(hr,gt,wt,Ur,_i,qr)}}function J6e(De,gt,wt,_t,Bt,Mr){if(De.onBeforeRender(N,gt,wt,_t,Bt,Mr),De.modelViewMatrix.multiplyMatrices(wt.matrixWorldInverse,De.matrixWorld),De.normalMatrix.getNormalMatrix(De.modelViewMatrix),Bt.onBeforeRender(N,gt,wt,_t,De,Mr),De.isImmediateRenderObject){const ur=yN(wt,gt,_t,Bt,De);ln.setMaterial(Bt),yn.reset(),function(De,gt){De.render(function(wt){N.renderBufferImmediate(wt,gt)})}(De,ur)}else!0===Bt.transparent&&2===Bt.side?(Bt.side=1,Bt.needsUpdate=!0,N.renderBufferDirect(wt,gt,_t,Bt,De,Mr),Bt.side=0,Bt.needsUpdate=!0,N.renderBufferDirect(wt,gt,_t,Bt,De,Mr),Bt.side=2):N.renderBufferDirect(wt,gt,_t,Bt,De,Mr);De.onAfterRender(N,gt,wt,_t,Bt,Mr)}function Vb(De,gt,wt){!0!==gt.isScene&&(gt=zt);const _t=Lt.get(De),Bt=S.state.lights,ur=Bt.state.version,hr=Mt.getParameters(De,Bt.state,S.state.shadowsArray,gt,wt),Ur=Mt.getProgramCacheKey(hr);let _i=_t.programs;_t.environment=De.isMeshStandardMaterial?gt.environment:null,_t.fog=gt.fog,_t.envMap=(De.isMeshStandardMaterial?Ln:on).get(De.envMap||_t.environment),void 0===_i&&(De.addEventListener("dispose",yi),_i=new Map,_t.programs=_i);let qr=_i.get(Ur);if(void 0!==qr){if(_t.currentProgram===qr&&_t.lightsStateVersion===ur)return vN(De,hr),qr}else hr.uniforms=Mt.getUniforms(De),De.onBuild(hr,N),De.onBeforeCompile(hr,N),qr=Mt.acquireProgram(hr,Ur),_i.set(Ur,qr),_t.uniforms=hr.uniforms;const oi=_t.uniforms;(!De.isShaderMaterial&&!De.isRawShaderMaterial||!0===De.clipping)&&(oi.clippingPlanes=Kn.uniform),vN(De,hr),_t.needsLights=function(De){return De.isMeshLambertMaterial||De.isMeshToonMaterial||De.isMeshPhongMaterial||De.isMeshStandardMaterial||De.isShadowMaterial||De.isShaderMaterial&&!0===De.lights}(De),_t.lightsStateVersion=ur,_t.needsLights&&(oi.ambientLightColor.value=Bt.state.ambient,oi.lightProbe.value=Bt.state.probe,oi.directionalLights.value=Bt.state.directional,oi.directionalLightShadows.value=Bt.state.directionalShadow,oi.spotLights.value=Bt.state.spot,oi.spotLightShadows.value=Bt.state.spotShadow,oi.rectAreaLights.value=Bt.state.rectArea,oi.ltc_1.value=Bt.state.rectAreaLTC1,oi.ltc_2.value=Bt.state.rectAreaLTC2,oi.pointLights.value=Bt.state.point,oi.pointLightShadows.value=Bt.state.pointShadow,oi.hemisphereLights.value=Bt.state.hemi,oi.directionalShadowMap.value=Bt.state.directionalShadowMap,oi.directionalShadowMatrix.value=Bt.state.directionalShadowMatrix,oi.spotShadowMap.value=Bt.state.spotShadowMap,oi.spotShadowMatrix.value=Bt.state.spotShadowMatrix,oi.pointShadowMap.value=Bt.state.pointShadowMap,oi.pointShadowMatrix.value=Bt.state.pointShadowMatrix);const oo=qr.getUniforms(),id=Iu.seqWithValue(oo.seq,oi);return _t.currentProgram=qr,_t.uniformsList=id,qr}function vN(De,gt){const wt=Lt.get(De);wt.outputEncoding=gt.outputEncoding,wt.instancing=gt.instancing,wt.skinning=gt.skinning,wt.morphTargets=gt.morphTargets,wt.morphNormals=gt.morphNormals,wt.morphTargetsCount=gt.morphTargetsCount,wt.numClippingPlanes=gt.numClippingPlanes,wt.numIntersection=gt.numClipIntersection,wt.vertexAlphas=gt.vertexAlphas,wt.vertexTangents=gt.vertexTangents}function yN(De,gt,wt,_t,Bt){!0!==gt.isScene&&(gt=zt),jt.resetTextureUnits();const Mr=gt.fog,hr=null===X?N.outputEncoding:X.texture.encoding,Ur=(_t.isMeshStandardMaterial?Ln:on).get(_t.envMap||(_t.isMeshStandardMaterial?gt.environment:null)),_i=!0===_t.vertexColors&&!!wt&&!!wt.attributes.color&&4===wt.attributes.color.itemSize,qr=!!_t.normalMap&&!!wt&&!!wt.attributes.tangent,oi=!!wt&&!!wt.morphAttributes.position,oo=!!wt&&!!wt.morphAttributes.normal,id=wt&&wt.morphAttributes.position?wt.morphAttributes.position.length:0,di=Lt.get(_t),x4=S.state.lights;!0!==rt||!0!==yt&&De===re||Kn.setState(_t,De,De===re&&_t.id===$);let Ni=!1;_t.version===di.__version?(di.needsLights&&di.lightsStateVersion!==x4.state.version||di.outputEncoding!==hr||Bt.isInstancedMesh&&!1===di.instancing||!Bt.isInstancedMesh&&!0===di.instancing||Bt.isSkinnedMesh&&!1===di.skinning||!Bt.isSkinnedMesh&&!0===di.skinning||di.envMap!==Ur||_t.fog&&di.fog!==Mr||void 0!==di.numClippingPlanes&&(di.numClippingPlanes!==Kn.numPlanes||di.numIntersection!==Kn.numIntersection)||di.vertexAlphas!==_i||di.vertexTangents!==qr||di.morphTargets!==oi||di.morphNormals!==oo||!0===nn.isWebGL2&&di.morphTargetsCount!==id)&&(Ni=!0):(Ni=!0,di.__version=_t.version);let od=di.currentProgram;!0===Ni&&(od=Vb(_t,gt,Bt));let sd=!1,ad=!1,Uu=!1;const so=od.getUniforms(),M4=di.uniforms;if(ln.useProgram(od.program)&&(sd=!0,ad=!0,Uu=!0),_t.id!==$&&($=_t.id,ad=!0),sd||re!==De){if(so.setValue(at,"projectionMatrix",De.projectionMatrix),nn.logarithmicDepthBuffer&&so.setValue(at,"logDepthBufFC",2/(Math.log(De.far+1)/Math.LN2)),re!==De&&(re=De,ad=!0,Uu=!0),_t.isShaderMaterial||_t.isMeshPhongMaterial||_t.isMeshToonMaterial||_t.isMeshStandardMaterial||_t.envMap){const vl=so.map.cameraPosition;void 0!==vl&&vl.setValue(at,xt.setFromMatrixPosition(De.matrixWorld))}(_t.isMeshPhongMaterial||_t.isMeshToonMaterial||_t.isMeshLambertMaterial||_t.isMeshBasicMaterial||_t.isMeshStandardMaterial||_t.isShaderMaterial)&&so.setValue(at,"isOrthographic",!0===De.isOrthographicCamera),(_t.isMeshPhongMaterial||_t.isMeshToonMaterial||_t.isMeshLambertMaterial||_t.isMeshBasicMaterial||_t.isMeshStandardMaterial||_t.isShaderMaterial||_t.isShadowMaterial||Bt.isSkinnedMesh)&&so.setValue(at,"viewMatrix",De.matrixWorldInverse)}if(Bt.isSkinnedMesh){so.setOptional(at,Bt,"bindMatrix"),so.setOptional(at,Bt,"bindMatrixInverse");const vl=Bt.skeleton;vl&&(nn.floatVertexTextures?(null===vl.boneTexture&&vl.computeBoneTexture(),so.setValue(at,"boneTexture",vl.boneTexture,jt),so.setValue(at,"boneTextureSize",vl.boneTextureSize)):so.setOptional(at,vl,"boneMatrices"))}return!!wt&&(void 0!==wt.morphAttributes.position||void 0!==wt.morphAttributes.normal)&&In.update(Bt,wt,_t,od),(ad||di.receiveShadow!==Bt.receiveShadow)&&(di.receiveShadow=Bt.receiveShadow,so.setValue(at,"receiveShadow",Bt.receiveShadow)),ad&&(so.setValue(at,"toneMappingExposure",N.toneMappingExposure),di.needsLights&&function(De,gt){De.ambientLightColor.needsUpdate=gt,De.lightProbe.needsUpdate=gt,De.directionalLights.needsUpdate=gt,De.directionalLightShadows.needsUpdate=gt,De.pointLights.needsUpdate=gt,De.pointLightShadows.needsUpdate=gt,De.spotLights.needsUpdate=gt,De.spotLightShadows.needsUpdate=gt,De.rectAreaLights.needsUpdate=gt,De.hemisphereLights.needsUpdate=gt}(M4,Uu),Mr&&_t.fog&&Yt.refreshFogUniforms(M4,Mr),Yt.refreshMaterialUniforms(M4,_t,ve,Oe,vt),Iu.upload(at,di.uniformsList,M4,jt)),_t.isShaderMaterial&&!0===_t.uniformsNeedUpdate&&(Iu.upload(at,di.uniformsList,M4,jt),_t.uniformsNeedUpdate=!1),_t.isSpriteMaterial&&so.setValue(at,"center",Bt.center),so.setValue(at,"modelViewMatrix",Bt.modelViewMatrix),so.setValue(at,"normalMatrix",Bt.normalMatrix),so.setValue(at,"modelMatrix",Bt.matrixWorld),od}rd.setAnimationLoop(function(De){qs&&qs(De)}),"undefined"!=typeof window&&rd.setContext(window),this.setAnimationLoop=function(De){qs=De,Er.setAnimationLoop(De),null===De?rd.stop():rd.start()},Er.addEventListener("sessionstart",Xo),Er.addEventListener("sessionend",Ra),this.render=function(De,gt){if(void 0===gt||!0===gt.isCamera){if(!0!==B){if(!0===De.autoUpdate&&De.updateMatrixWorld(),null===gt.parent&&gt.updateMatrixWorld(),!0===Er.enabled&&!0===Er.isPresenting&&(!0===Er.cameraAutoUpdate&&Er.updateCamera(gt),gt=Er.getCamera()),!0===De.isScene&&De.onBeforeRender(N,De,gt,X),S=Mn.get(De,k.length),S.init(),k.push(S),Ft.multiplyMatrices(gt.projectionMatrix,gt.matrixWorldInverse),et.setFromProjectionMatrix(Ft),yt=this.localClippingEnabled,rt=Kn.init(this.clippingPlanes,yt,gt),_=rn.get(De,D.length),_.init(),D.push(_),mN(De,gt,0,N.sortObjects),_.finish(),!0===N.sortObjects&&_.sort(st,je),!0===rt&&Kn.beginShadows(),Fn.render(S.state.shadowsArray,De,gt),!0===rt&&Kn.endShadows(),!0===this.info.autoReset&&this.info.reset(),sr.render(_,De),S.setupLights(N.physicallyCorrectLights),gt.isArrayCamera){const _t=gt.cameras;for(let Bt=0,Mr=_t.length;Bt<Mr;Bt++){const ur=_t[Bt];gN(_,De,ur,ur.viewport)}}else gN(_,De,gt);null!==X&&(jt.updateMultisampleRenderTarget(X),jt.updateRenderTargetMipmap(X)),!0===De.isScene&&De.onAfterRender(N,De,gt),ln.buffers.depth.setTest(!0),ln.buffers.depth.setMask(!0),ln.buffers.color.setMask(!0),ln.setPolygonOffset(!1),yn.resetDefaultState(),$=-1,re=null,k.pop(),S=k.length>0?k[k.length-1]:null,D.pop(),_=D.length>0?D[D.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return F},this.getActiveMipmapLevel=function(){return I},this.getRenderTarget=function(){return X},this.setRenderTarget=function(De,gt=0,wt=0){X=De,F=gt,I=wt,De&&void 0===Lt.get(De).__webglFramebuffer&&jt.setupRenderTarget(De);let _t=null,Bt=!1,Mr=!1;if(De){const hr=De.texture;(hr.isDataTexture3D||hr.isDataTexture2DArray)&&(Mr=!0);const Ur=Lt.get(De).__webglFramebuffer;De.isWebGLCubeRenderTarget?(_t=Ur[gt],Bt=!0):_t=De.isWebGLMultisampleRenderTarget?Lt.get(De).__webglMultisampledFramebuffer:Ur,de.copy(De.viewport),se.copy(De.scissor),Me=De.scissorTest}else de.copy(ge).multiplyScalar(ve).floor(),se.copy(xe).multiplyScalar(ve).floor(),Me=he;if(ln.bindFramebuffer(36160,_t)&&nn.drawBuffers){let hr=!1;if(De)if(De.isWebGLMultipleRenderTargets){const Ur=De.texture;if(ke.length!==Ur.length||36064!==ke[0]){for(let _i=0,qr=Ur.length;_i<qr;_i++)ke[_i]=36064+_i;ke.length=Ur.length,hr=!0}}else(1!==ke.length||36064!==ke[0])&&(ke[0]=36064,ke.length=1,hr=!0);else(1!==ke.length||1029!==ke[0])&&(ke[0]=1029,ke.length=1,hr=!0);hr&&(nn.isWebGL2?at.drawBuffers(ke):gn.get("WEBGL_draw_buffers").drawBuffersWEBGL(ke))}if(ln.viewport(de),ln.scissor(se),ln.setScissorTest(Me),Bt){const hr=Lt.get(De.texture);at.framebufferTexture2D(36160,36064,34069+gt,hr.__webglTexture,wt)}else if(Mr){const hr=Lt.get(De.texture);at.framebufferTextureLayer(36160,36064,hr.__webglTexture,wt||0,gt||0)}$=-1},this.readRenderTargetPixels=function(De,gt,wt,_t,Bt,Mr,ur){if(!De||!De.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let hr=Lt.get(De).__webglFramebuffer;if(De.isWebGLCubeRenderTarget&&void 0!==ur&&(hr=hr[ur]),hr){ln.bindFramebuffer(36160,hr);try{const Ur=De.texture,_i=Ur.format,qr=Ur.type;if(_i!==vs&&Nt.convert(_i)!==at.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const oi=qr===$1&&(gn.has("EXT_color_buffer_half_float")||nn.isWebGL2&&gn.has("EXT_color_buffer_float"));if(!(qr===Mu||Nt.convert(qr)===at.getParameter(35738)||qr===Ac&&(nn.isWebGL2||gn.has("OES_texture_float")||gn.has("WEBGL_color_buffer_float"))||oi))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===at.checkFramebufferStatus(36160)?gt>=0&&gt<=De.width-_t&&wt>=0&&wt<=De.height-Bt&&at.readPixels(gt,wt,_t,Bt,Nt.convert(_i),Nt.convert(qr),Mr):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const Ur=null!==X?Lt.get(X).__webglFramebuffer:null;ln.bindFramebuffer(36160,Ur)}}},this.copyFramebufferToTexture=function(De,gt,wt=0){const _t=Math.pow(2,-wt),Bt=Math.floor(gt.image.width*_t),Mr=Math.floor(gt.image.height*_t);let ur=Nt.convert(gt.format);nn.isWebGL2&&(6407===ur&&(ur=32849),6408===ur&&(ur=32856)),jt.setTexture2D(gt,0),at.copyTexImage2D(3553,wt,ur,De.x,De.y,Bt,Mr,0),ln.unbindTexture()},this.copyTextureToTexture=function(De,gt,wt,_t=0){const Bt=gt.image.width,Mr=gt.image.height,ur=Nt.convert(wt.format),hr=Nt.convert(wt.type);jt.setTexture2D(wt,0),at.pixelStorei(37440,wt.flipY),at.pixelStorei(37441,wt.premultiplyAlpha),at.pixelStorei(3317,wt.unpackAlignment),gt.isDataTexture?at.texSubImage2D(3553,_t,De.x,De.y,Bt,Mr,ur,hr,gt.image.data):gt.isCompressedTexture?at.compressedTexSubImage2D(3553,_t,De.x,De.y,gt.mipmaps[0].width,gt.mipmaps[0].height,ur,gt.mipmaps[0].data):at.texSubImage2D(3553,_t,De.x,De.y,ur,hr,gt.image),0===_t&&wt.generateMipmaps&&at.generateMipmap(3553),ln.unbindTexture()},this.copyTextureToTexture3D=function(De,gt,wt,_t,Bt=0){if(N.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const Mr=De.max.x-De.min.x+1,ur=De.max.y-De.min.y+1,hr=De.max.z-De.min.z+1,Ur=Nt.convert(_t.format),_i=Nt.convert(_t.type);let qr;if(_t.isDataTexture3D)jt.setTexture3D(_t,0),qr=32879;else{if(!_t.isDataTexture2DArray)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");jt.setTexture2DArray(_t,0),qr=35866}at.pixelStorei(37440,_t.flipY),at.pixelStorei(37441,_t.premultiplyAlpha),at.pixelStorei(3317,_t.unpackAlignment);const oi=at.getParameter(3314),oo=at.getParameter(32878),id=at.getParameter(3316),di=at.getParameter(3315),x4=at.getParameter(32877),Ni=wt.isCompressedTexture?wt.mipmaps[0]:wt.image;at.pixelStorei(3314,Ni.width),at.pixelStorei(32878,Ni.height),at.pixelStorei(3316,De.min.x),at.pixelStorei(3315,De.min.y),at.pixelStorei(32877,De.min.z),wt.isDataTexture||wt.isDataTexture3D?at.texSubImage3D(qr,Bt,gt.x,gt.y,gt.z,Mr,ur,hr,Ur,_i,Ni.data):wt.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),at.compressedTexSubImage3D(qr,Bt,gt.x,gt.y,gt.z,Mr,ur,hr,Ur,Ni.data)):at.texSubImage3D(qr,Bt,gt.x,gt.y,gt.z,Mr,ur,hr,Ur,_i,Ni),at.pixelStorei(3314,oi),at.pixelStorei(32878,oo),at.pixelStorei(3316,id),at.pixelStorei(3315,di),at.pixelStorei(32877,x4),0===Bt&&_t.generateMipmaps&&at.generateMipmap(qr),ln.unbindTexture()},this.initTexture=function(De){jt.setTexture2D(De,0),ln.unbindTexture()},this.resetState=function(){F=0,I=0,X=null,ln.reset(),yn.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}(class extends vi{}).prototype.isWebGL1Renderer=!0;class Y8{constructor(e,t=25e-5){this.name="",this.color=new wn(e),this.density=t}clone(){return new Y8(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}Y8.prototype.isFogExp2=!0;class G8{constructor(e,t=1,r=1e3){this.name="",this.color=new wn(e),this.near=t,this.far=r}clone(){return new G8(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}G8.prototype.isFog=!0;class n4 extends hi{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}n4.prototype.isScene=!0;class Mf{constructor(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=Up,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ha()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=ha()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=ha()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}Mf.prototype.isInterleavedBuffer=!0;const yo=new Ce;class qh{constructor(e,t,r,i=!1){this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=!0===i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)yo.x=this.getX(t),yo.y=this.getY(t),yo.z=this.getZ(t),yo.applyMatrix4(e),this.setXYZ(t,yo.x,yo.y,yo.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)yo.x=this.getX(t),yo.y=this.getY(t),yo.z=this.getZ(t),yo.applyNormalMatrix(e),this.setXYZ(t,yo.x,yo.y,yo.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)yo.x=this.getX(t),yo.y=this.getY(t),yo.z=this.getZ(t),yo.transformDirection(e),this.setXYZ(t,yo.x,yo.y,yo.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,r){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,o){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[i+o])}return new Ci(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new qh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}qh.prototype.isInterleavedBufferAttribute=!0;class I_ extends is{constructor(e){super(),this.type="SpriteMaterial",this.color=new wn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}let Sf;I_.prototype.isSpriteMaterial=!0;const r4=new Ce,Cf=new Ce,Tf=new Ce,Ef=new Rt,i4=new Rt,xI=new Yn,W8=new Ce,o4=new Ce,q8=new Ce,MI=new Rt,R_=new Rt,SI=new Rt;function $8(n,e,t,r,i,o){Ef.subVectors(n,t).addScalar(.5).multiply(r),void 0!==i?(i4.x=o*Ef.x-i*Ef.y,i4.y=i*Ef.x+o*Ef.y):i4.copy(Ef),n.copy(e),n.x+=i4.x,n.y+=i4.y,n.applyMatrix4(xI)}(class extends hi{constructor(e){if(super(),this.type="Sprite",void 0===Sf){Sf=new lr;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Mf(t,5);Sf.setIndex([0,1,2,0,2,3]),Sf.setAttribute("position",new qh(r,3,0,!1)),Sf.setAttribute("uv",new qh(r,2,3,!1))}this.geometry=Sf,this.material=void 0!==e?e:new I_,this.center=new Rt(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Cf.setFromMatrixScale(this.matrixWorld),xI.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Tf.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Cf.multiplyScalar(-Tf.z);const r=this.material.rotation;let i,o;0!==r&&(o=Math.cos(r),i=Math.sin(r));const s=this.center;$8(W8.set(-.5,-.5,0),Tf,s,Cf,i,o),$8(o4.set(.5,-.5,0),Tf,s,Cf,i,o),$8(q8.set(.5,.5,0),Tf,s,Cf,i,o),MI.set(0,0),R_.set(1,0),SI.set(1,1);let a=e.ray.intersectTriangle(W8,o4,q8,!1,r4);if(null===a&&($8(o4.set(-.5,.5,0),Tf,s,Cf,i,o),R_.set(0,1),a=e.ray.intersectTriangle(W8,q8,o4,!1,r4),null===a))return;const l=e.ray.origin.distanceTo(r4);l<e.near||l>e.far||t.push({distance:l,point:r4.clone(),uv:Do.getUV(r4,W8,o4,q8,MI,R_,SI,new Rt),face:null,object:this})}copy(e){return super.copy(e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}).prototype.isSprite=!0;const TI=new Ce,EI=new Si,DI=new Si,gpe=new Ce,zI=new Yn;class N_ extends Hi{constructor(e,t){super(e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Yn,this.bindMatrixInverse=new Yn}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Si,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.x=t.getX(r),e.y=t.getY(r),e.z=t.getZ(r),e.w=t.getW(r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;EI.fromBufferAttribute(i.attributes.skinIndex,e),DI.fromBufferAttribute(i.attributes.skinWeight,e),TI.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const s=DI.getComponent(o);if(0!==s){const a=EI.getComponent(o);zI.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(gpe.copy(TI).applyMatrix4(zI),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}N_.prototype.isSkinnedMesh=!0;(class extends hi{constructor(){super(),this.type="Bone"}}).prototype.isBone=!0;(class extends Go{constructor(e=null,t=1,r=1,i,o,s,a,l,c=Fo,p=Fo,_,S){super(null,s,a,l,c,p,i,o,_,S),this.image={data:e,width:t,height:r},this.magFilter=c,this.minFilter=p,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}).prototype.isDataTexture=!0;class zf extends Ci{constructor(e,t,r,i=1){"number"==typeof r&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,r),this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}zf.prototype.isInstancedBufferAttribute=!0;const PI=new Yn,kI=new Yn,K8=[],s4=new Hi;(class extends Hi{constructor(e,t,r){super(e,t),this.instanceMatrix=new zf(new Float32Array(16*r),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(s4.geometry=this.geometry,s4.material=this.material,void 0!==s4.material)for(let o=0;o<i;o++){this.getMatrixAt(o,PI),kI.multiplyMatrices(r,PI),s4.matrixWorld=kI,s4.raycast(e,K8);for(let s=0,a=K8.length;s<a;s++){const l=K8[s];l.instanceId=o,l.object=this,t.push(l)}K8.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new zf(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}).prototype.isInstancedMesh=!0;class os extends is{constructor(e){super(),this.type="LineBasicMaterial",this.color=new wn(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}os.prototype.isLineBasicMaterial=!0;const OI=new Ce,II=new Ce,RI=new Yn,B_=new Yh,Z8=new Uh;class $h extends hi{constructor(e=new lr,t=new os){super(),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,r=[0];for(let i=1,o=t.count;i<o;i++)OI.fromBufferAttribute(t,i-1),II.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=OI.distanceTo(II);e.setAttribute("lineDistance",new Bn(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,s=r.drawRange;if(null===r.boundingSphere&&r.computeBoundingSphere(),Z8.copy(r.boundingSphere),Z8.applyMatrix4(i),Z8.radius+=o,!1===e.ray.intersectsSphere(Z8))return;RI.copy(i).invert(),B_.copy(e.ray).applyMatrix4(RI);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new Ce,p=new Ce,_=new Ce,S=new Ce,D=this.isLineSegments?2:1;if(r.isBufferGeometry){const k=r.index,B=r.attributes.position;if(null!==k)for(let X=Math.max(0,s.start),$=Math.min(k.count,s.start+s.count)-1;X<$;X+=D){const re=k.getX(X),de=k.getX(X+1);if(c.fromBufferAttribute(B,re),p.fromBufferAttribute(B,de),B_.distanceSqToSegment(c,p,S,_)>l)continue;S.applyMatrix4(this.matrixWorld);const Me=e.ray.origin.distanceTo(S);Me<e.near||Me>e.far||t.push({distance:Me,point:_.clone().applyMatrix4(this.matrixWorld),index:X,face:null,faceIndex:null,object:this})}else for(let X=Math.max(0,s.start),$=Math.min(B.count,s.start+s.count)-1;X<$;X+=D){if(c.fromBufferAttribute(B,X),p.fromBufferAttribute(B,X+1),B_.distanceSqToSegment(c,p,S,_)>l)continue;S.applyMatrix4(this.matrixWorld);const de=e.ray.origin.distanceTo(S);de<e.near||de>e.far||t.push({distance:de,point:_.clone().applyMatrix4(this.matrixWorld),index:X,face:null,faceIndex:null,object:this})}}else r.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}$h.prototype.isLine=!0;const FI=new Ce,NI=new Ce;class Nc extends $h{constructor(e,t){super(e,t),this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,r=[];for(let i=0,o=t.count;i<o;i+=2)FI.fromBufferAttribute(t,i),NI.fromBufferAttribute(t,i+1),r[i]=0===i?0:r[i-1],r[i+1]=r[i]+FI.distanceTo(NI);e.setAttribute("lineDistance",new Bn(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}Nc.prototype.isLineSegments=!0;(class extends $h{constructor(e,t){super(e,t),this.type="LineLoop"}}).prototype.isLineLoop=!0;class Af extends is{constructor(e){super(),this.type="PointsMaterial",this.color=new wn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}Af.prototype.isPointsMaterial=!0;const HI=new Yn,j_=new Yh,Q8=new Uh,J8=new Ce;function BI(n,e,t,r,i,o,s){const a=j_.distanceSqToPoint(n);if(a<t){const l=new Ce;j_.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:s})}}(class extends hi{constructor(e=new lr,t=new Af){super(),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,s=r.drawRange;if(null===r.boundingSphere&&r.computeBoundingSphere(),Q8.copy(r.boundingSphere),Q8.applyMatrix4(i),Q8.radius+=o,!1===e.ray.intersectsSphere(Q8))return;HI.copy(i).invert(),j_.copy(e.ray).applyMatrix4(HI);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a;if(r.isBufferGeometry){const c=r.index,_=r.attributes.position;if(null!==c)for(let k=Math.max(0,s.start),N=Math.min(c.count,s.start+s.count);k<N;k++){const B=c.getX(k);J8.fromBufferAttribute(_,B),BI(J8,B,l,i,e,t,this)}else for(let k=Math.max(0,s.start),N=Math.min(_.count,s.start+s.count);k<N;k++)J8.fromBufferAttribute(_,k),BI(J8,k,l,i,e,t,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}).prototype.isPoints=!0;class t6 extends Go{constructor(e,t,r,i,o,s,a,l,c){super(e,t,r,i,o,s,a,l,c),this.format=void 0!==a?a:X1,this.minFilter=void 0!==s?s:No,this.magFilter=void 0!==o?o:No,this.generateMipmaps=!1;const p=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(function _(){p.needsUpdate=!0,e.requestVideoFrameCallback(_)})}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e==0&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}t6.prototype.isVideoTexture=!0;(class extends Go{constructor(e,t,r,i,o,s,a,l,c,p,_,S){super(null,s,a,l,c,p,i,o,_,S),this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}).prototype.isCompressedTexture=!0;class UI extends Go{constructor(e,t,r,i,o,s,a,l,c){super(e,t,r,i,o,s,a,l,c),this.needsUpdate=!0}}UI.prototype.isCanvasTexture=!0,class extends Go{constructor(e,t,r,i,o,s,a,l,c,p){if((p=void 0!==p?p:K1)!==K1&&p!==jp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===r&&p===K1&&(r=1012),void 0===r&&p===jp&&(r=Bp),super(null,i,o,s,a,l,p,r,c),this.image={width:e,height:t},this.magFilter=void 0!==a?a:Fo,this.minFilter=void 0!==l?l:Fo,this.flipY=!1,this.generateMipmaps=!1}}.prototype.isDepthTexture=!0,new Ce,new Ce,new Ce,new Do;class Ia{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),o=0;t.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),o+=r.distanceTo(i),t.push(o),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const o=r.length;let s;s=t||e*r[o-1];let c,a=0,l=o-1;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-s,c<0)a=i+1;else{if(!(c>0)){l=i;break}l=i-1}if(i=l,r[i]===s)return i/(o-1);const p=r[i];return(i+(s-p)/(r[i+1]-p))/(o-1)}getTangent(e,t){const r=1e-4;let i=e-r,o=e+r;i<0&&(i=0),o>1&&(o=1);const s=this.getPoint(i),a=this.getPoint(o),l=t||(s.isVector2?new Rt:new Ce);return l.copy(a).sub(s).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new Ce,i=[],o=[],s=[],a=new Ce,l=new Yn;for(let D=0;D<=e;D++)i[D]=this.getTangentAt(D/e,new Ce);o[0]=new Ce,s[0]=new Ce;let c=Number.MAX_VALUE;const p=Math.abs(i[0].x),_=Math.abs(i[0].y),S=Math.abs(i[0].z);p<=c&&(c=p,r.set(1,0,0)),_<=c&&(c=_,r.set(0,1,0)),S<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],a),s[0].crossVectors(i[0],o[0]);for(let D=1;D<=e;D++){if(o[D]=o[D-1].clone(),s[D]=s[D-1].clone(),a.crossVectors(i[D-1],i[D]),a.length()>Number.EPSILON){a.normalize();const k=Math.acos(rs(i[D-1].dot(i[D]),-1,1));o[D].applyMatrix4(l.makeRotationAxis(a,k))}s[D].crossVectors(i[D],o[D])}if(!0===t){let D=Math.acos(rs(o[0].dot(o[e]),-1,1));D/=e,i[0].dot(a.crossVectors(o[0],o[e]))>0&&(D=-D);for(let k=1;k<=e;k++)o[k].applyMatrix4(l.makeRotationAxis(i[k],D*k)),s[k].crossVectors(i[k],o[k])}return{tangents:i,normals:o,binormals:s}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class l6 extends Ia{constructor(e=0,t=0,r=1,i=1,o=0,s=2*Math.PI,a=!1,l=0){super(),this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=s,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new Rt,i=2*Math.PI;let o=this.aEndAngle-this.aStartAngle;const s=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(o=s?0:i),!0===this.aClockwise&&!s&&(o===i?o=-i:o-=i);const a=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const p=Math.cos(this.aRotation),_=Math.sin(this.aRotation),S=l-this.aX,D=c-this.aY;l=S*p-D*_+this.aX,c=S*_+D*p+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}l6.prototype.isEllipseCurve=!0;class GI extends l6{constructor(e,t,r,i,o,s){super(e,t,r,r,i,o,s),this.type="ArcCurve"}}function Y_(){let n=0,e=0,t=0,r=0;function i(o,s,a,l){n=o,e=a,t=-3*o+3*s-2*a-l,r=2*o-2*s+a+l}return{initCatmullRom:function(o,s,a,l,c){i(s,a,c*(a-o),c*(l-s))},initNonuniformCatmullRom:function(o,s,a,l,c,p,_){let S=(s-o)/c-(a-o)/(c+p)+(a-s)/p,D=(a-s)/p-(l-s)/(p+_)+(l-a)/_;S*=p,D*=p,i(s,a,S,D)},calc:function(o){const s=o*o;return n+e*o+t*s+r*(s*o)}}}GI.prototype.isArcCurve=!0;const c6=new Ce,G_=new Y_,W_=new Y_,q_=new Y_;class WI extends Ia{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new Ce){const r=t,i=this.points,o=i.length,s=(o-(this.closed?0:1))*e;let c,p,a=Math.floor(s),l=s-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/o)+1)*o:0===l&&a===o-1&&(a=o-2,l=1),this.closed||a>0?c=i[(a-1)%o]:(c6.subVectors(i[0],i[1]).add(i[0]),c=c6);const _=i[a%o],S=i[(a+1)%o];if(this.closed||a+2<o?p=i[(a+2)%o]:(c6.subVectors(i[o-1],i[o-2]).add(i[o-1]),p=c6),"centripetal"===this.curveType||"chordal"===this.curveType){const D="chordal"===this.curveType?.5:.25;let k=Math.pow(c.distanceToSquared(_),D),N=Math.pow(_.distanceToSquared(S),D),B=Math.pow(S.distanceToSquared(p),D);N<1e-4&&(N=1),k<1e-4&&(k=N),B<1e-4&&(B=N),G_.initNonuniformCatmullRom(c.x,_.x,S.x,p.x,k,N,B),W_.initNonuniformCatmullRom(c.y,_.y,S.y,p.y,k,N,B),q_.initNonuniformCatmullRom(c.z,_.z,S.z,p.z,k,N,B)}else"catmullrom"===this.curveType&&(G_.initCatmullRom(c.x,_.x,S.x,p.x,this.tension),W_.initCatmullRom(c.y,_.y,S.y,p.y,this.tension),q_.initCatmullRom(c.z,_.z,S.z,p.z,this.tension));return r.set(G_.calc(l),W_.calc(l),q_.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++)this.points.push(e.points[t].clone());return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++)e.points.push(this.points[t].toArray());return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push((new Ce).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function qI(n,e,t,r,i){const o=.5*(r-e),s=.5*(i-t),a=n*n;return(2*t-2*r+o+s)*(n*a)+(-3*t+3*r-2*o-s)*a+o*n+t}function a4(n,e,t,r){return function(n,e){const t=1-n;return t*t*e}(n,e)+function(n,e){return 2*(1-n)*n*e}(n,t)+function(n,e){return n*n*e}(n,r)}function l4(n,e,t,r,i){return function(n,e){const t=1-n;return t*t*t*e}(n,e)+function(n,e){const t=1-n;return 3*t*t*n*e}(n,t)+function(n,e){return 3*(1-n)*n*n*e}(n,r)+function(n,e){return n*n*n*e}(n,i)}WI.prototype.isCatmullRomCurve3=!0;class $_ extends Ia{constructor(e=new Rt,t=new Rt,r=new Rt,i=new Rt){super(),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Rt){const r=t,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(l4(e,i.x,o.x,s.x,a.x),l4(e,i.y,o.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}$_.prototype.isCubicBezierCurve=!0;class $I extends Ia{constructor(e=new Ce,t=new Ce,r=new Ce,i=new Ce){super(),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Ce){const r=t,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(l4(e,i.x,o.x,s.x,a.x),l4(e,i.y,o.y,s.y,a.y),l4(e,i.z,o.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}$I.prototype.isCubicBezierCurve3=!0;class u6 extends Ia{constructor(e=new Rt,t=new Rt){super(),this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Rt){const r=t;return 1===e?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new Rt;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}u6.prototype.isLineCurve=!0;class X_ extends Ia{constructor(e=new Rt,t=new Rt,r=new Rt){super(),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Rt){const r=t,i=this.v0,o=this.v1,s=this.v2;return r.set(a4(e,i.x,o.x,s.x),a4(e,i.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}X_.prototype.isQuadraticBezierCurve=!0;class K_ extends Ia{constructor(e=new Ce,t=new Ce,r=new Ce){super(),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Ce){const r=t,i=this.v0,o=this.v1,s=this.v2;return r.set(a4(e,i.x,o.x,s.x),a4(e,i.y,o.y,s.y),a4(e,i.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}K_.prototype.isQuadraticBezierCurve3=!0;class Z_ extends Ia{constructor(e=[]){super(),this.type="SplineCurve",this.points=e}getPoint(e,t=new Rt){const r=t,i=this.points,o=(i.length-1)*e,s=Math.floor(o),a=o-s,l=i[0===s?s:s-1],c=i[s],p=i[s>i.length-2?i.length-1:s+1],_=i[s>i.length-3?i.length-1:s+2];return r.set(qI(a,l.x,c.x,p.x,_.x),qI(a,l.y,c.y,p.y,_.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++)this.points.push(e.points[t].clone());return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++)e.points.push(this.points[t].toArray());return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push((new Rt).fromArray(i))}return this}}Z_.prototype.isSplineCurve=!0;var Q_=Object.freeze({__proto__:null,ArcCurve:GI,CatmullRomCurve3:WI,CubicBezierCurve:$_,CubicBezierCurve3:$I,EllipseCurve:l6,LineCurve:u6,LineCurve3:class extends Ia{constructor(e=new Ce,t=new Ce){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new Ce){const r=t;return 1===e?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},QuadraticBezierCurve:X_,QuadraticBezierCurve3:K_,SplineCurve:Z_});class Epe extends Ia{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new u6(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const s=i[o]-r,a=this.curves[o],l=a.getLength();return a.getPointAt(0===l?0:1-s/l,t)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const s=o[i],l=s.getPoints(s&&s.isEllipseCurve?2*e:s&&(s.isLineCurve||s.isLineCurve3)?1:s&&s.isSplineCurve?e*s.points.length:e);for(let c=0;c<l.length;c++){const p=l[c];r&&r.equals(p)||(t.push(p),r=p)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++)this.curves.push(e.curves[t].clone());return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++)e.curves.push(this.curves[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push((new Q_[i.type]).fromJSON(i))}return this}}class h6 extends Epe{constructor(e){super(),this.type="Path",this.currentPoint=new Rt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new u6(this.currentPoint.clone(),new Rt(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const o=new X_(this.currentPoint.clone(),new Rt(e,t),new Rt(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,o,s){const a=new $_(this.currentPoint.clone(),new Rt(e,t),new Rt(r,i),new Rt(o,s));return this.curves.push(a),this.currentPoint.set(o,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new Z_(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,o,s){return this.absarc(e+this.currentPoint.x,t+this.currentPoint.y,r,i,o,s),this}absarc(e,t,r,i,o,s){return this.absellipse(e,t,r,r,i,o,s),this}ellipse(e,t,r,i,o,s,a,l){return this.absellipse(e+this.currentPoint.x,t+this.currentPoint.y,r,i,o,s,a,l),this}absellipse(e,t,r,i,o,s,a,l){const c=new l6(e,t,r,i,o,s,a,l);if(this.curves.length>0){const _=c.getPoint(0);_.equals(this.currentPoint)||this.lineTo(_.x,_.y)}this.curves.push(c);const p=c.getPoint(1);return this.currentPoint.copy(p),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Xl extends h6{constructor(e){super(e),this.uuid=ha(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++)this.holes.push(e.holes[t].clone());return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++)e.holes.push(this.holes[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push((new h6).fromJSON(i))}return this}}function XI(n,e,t,r,i){let o,s;if(i===function(n,e,t,r){let i=0;for(let o=e,s=t-r;o<t;o+=r)i+=(n[s]-n[o])*(n[o+1]+n[s+1]),s=o;return i}(n,e,t,r)>0)for(o=e;o<t;o+=r)s=QI(o,n[o],n[o+1],s);else for(o=t-r;o>=e;o-=r)s=QI(o,n[o],n[o+1],s);return s&&d6(s,s.next)&&(h4(s),s=s.next),s}function Fu(n,e){if(!n)return n;e||(e=n);let r,t=n;do{if(r=!1,t.steiner||!d6(t,t.next)&&0!==$i(t.prev,t,t.next))t=t.next;else{if(h4(t),t=e=t.prev,t===t.next)break;r=!0}}while(r||t!==e);return e}function c4(n,e,t,r,i,o,s){if(!n)return;!s&&o&&function(n,e,t,r){let i=n;do{null===i.z&&(i.z=J_(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,function(n){let e,t,r,i,o,s,a,l,c=1;do{for(t=n,n=null,o=null,s=0;t;){for(s++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,r);e++);for(l=c;a>0||l>0&&r;)0!==a&&(0===l||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:n=i,i.prevZ=o,o=i;t=r}o.nextZ=null,c*=2}while(s>1)}(i)}(n,r,i,o);let l,c,a=n;for(;n.prev!==n.next;)if(l=n.prev,c=n.next,o?Ape(n,r,i,o):zpe(n))e.push(l.i/t),e.push(n.i/t),e.push(c.i/t),h4(n),n=c.next,a=c.next;else if((n=c)===a){s?1===s?c4(n=Ppe(Fu(n),e,t),e,t,r,i,o,2):2===s&&kpe(n,e,t,r,i,o):c4(Fu(n),e,t,r,i,o,1);break}}function zpe(n){const e=n.prev,t=n,r=n.next;if($i(e,t,r)>=0)return!1;let i=n.next.next;for(;i!==n.prev;){if(kf(e.x,e.y,t.x,t.y,r.x,r.y,i.x,i.y)&&$i(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Ape(n,e,t,r){const i=n.prev,o=n,s=n.next;if($i(i,o,s)>=0)return!1;const c=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,p=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,_=J_(i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,e,t,r),S=J_(c,p,e,t,r);let D=n.prevZ,k=n.nextZ;for(;D&&D.z>=_&&k&&k.z<=S;){if(D!==n.prev&&D!==n.next&&kf(i.x,i.y,o.x,o.y,s.x,s.y,D.x,D.y)&&$i(D.prev,D,D.next)>=0||(D=D.prevZ,k!==n.prev&&k!==n.next&&kf(i.x,i.y,o.x,o.y,s.x,s.y,k.x,k.y)&&$i(k.prev,k,k.next)>=0))return!1;k=k.nextZ}for(;D&&D.z>=_;){if(D!==n.prev&&D!==n.next&&kf(i.x,i.y,o.x,o.y,s.x,s.y,D.x,D.y)&&$i(D.prev,D,D.next)>=0)return!1;D=D.prevZ}for(;k&&k.z<=S;){if(k!==n.prev&&k!==n.next&&kf(i.x,i.y,o.x,o.y,s.x,s.y,k.x,k.y)&&$i(k.prev,k,k.next)>=0)return!1;k=k.nextZ}return!0}function Ppe(n,e,t){let r=n;do{const i=r.prev,o=r.next.next;!d6(i,o)&&KI(i,r,r.next,o)&&u4(i,o)&&u4(o,i)&&(e.push(i.i/t),e.push(r.i/t),e.push(o.i/t),h4(r),h4(r.next),r=n=o),r=r.next}while(r!==n);return Fu(r)}function kpe(n,e,t,r,i,o){let s=n;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&Bpe(s,a)){let l=ZI(s,a);return s=Fu(s,s.next),l=Fu(l,l.next),c4(s,e,t,r,i,o),void c4(l,e,t,r,i,o)}a=a.next}s=s.next}while(s!==n)}function Ope(n,e){return n.x-e.x}function Ipe(n,e){if(e=function(n,e){let t=e;const r=n.x,i=n.y;let s,o=-1/0;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const S=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(S<=r&&S>o){if(o=S,S===r){if(i===t.y)return t;if(i===t.next.y)return t.next}s=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!s)return null;if(r===o)return s;const a=s,l=s.x,c=s.y;let _,p=1/0;t=s;do{r>=t.x&&t.x>=l&&r!==t.x&&kf(i<c?r:o,i,l,c,i<c?o:r,i,t.x,t.y)&&(_=Math.abs(i-t.y)/(r-t.x),u4(t,n)&&(_<p||_===p&&(t.x>s.x||t.x===s.x&&Fpe(s,t)))&&(s=t,p=_)),t=t.next}while(t!==a);return s}(n,e)){const t=ZI(e,n);Fu(e,e.next),Fu(t,t.next)}}function Fpe(n,e){return $i(n.prev,n,e.prev)<0&&$i(e.next,n,n.next)<0}function J_(n,e,t,r,i){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-t)*i)|n<<8))|n<<4))|n<<2))|n<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Hpe(n){let e=n,t=n;do{(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next}while(e!==n);return t}function kf(n,e,t,r,i,o,s,a){return(i-s)*(e-a)-(n-s)*(o-a)>=0&&(n-s)*(r-a)-(t-s)*(e-a)>=0&&(t-s)*(o-a)-(i-s)*(r-a)>=0}function Bpe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!function(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&KI(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}(n,e)&&(u4(n,e)&&u4(e,n)&&function(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,o=(n.y+e.y)/2;do{t.y>o!=t.next.y>o&&t.next.y!==t.y&&i<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next}while(t!==n);return r}(n,e)&&($i(n.prev,n,e.prev)||$i(n,e.prev,e))||d6(n,e)&&$i(n.prev,n,n.next)>0&&$i(e.prev,e,e.next)>0)}function $i(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function d6(n,e){return n.x===e.x&&n.y===e.y}function KI(n,e,t,r){const i=p6($i(n,e,t)),o=p6($i(n,e,r)),s=p6($i(t,r,n)),a=p6($i(t,r,e));return!!(i!==o&&s!==a||0===i&&f6(n,t,e)||0===o&&f6(n,r,e)||0===s&&f6(t,n,r)||0===a&&f6(t,e,r))}function f6(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function p6(n){return n>0?1:n<0?-1:0}function u4(n,e){return $i(n.prev,n,n.next)<0?$i(n,e,n.next)>=0&&$i(n,n.prev,e)>=0:$i(n,e,n.prev)<0||$i(n,n.next,e)<0}function ZI(n,e){const t=new eb(n.i,n.x,n.y),r=new eb(e.i,e.x,e.y),i=n.next,o=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,o.next=r,r.prev=o,r}function QI(n,e,t,r){const i=new eb(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function h4(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function eb(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}class Vc{static area(e){const t=e.length;let r=0;for(let i=t-1,o=0;o<t;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return.5*r}static isClockWise(e){return Vc.area(e)<0}static triangulateShape(e,t){const r=[],i=[],o=[];JI(e),eR(r,e);let s=e.length;t.forEach(JI);for(let l=0;l<t.length;l++)i.push(s),s+=t[l].length,eR(r,t[l]);const a=function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let o=XI(n,0,i,t,!0);const s=[];if(!o||o.next===o.prev)return s;let a,l,c,p,_,S,D;if(r&&(o=function(n,e,t,r){const i=[];let o,s,a,l,c;for(o=0,s=e.length;o<s;o++)a=e[o]*r,l=o<s-1?e[o+1]*r:n.length,c=XI(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(Hpe(c));for(i.sort(Ope),o=0;o<i.length;o++)Ipe(i[o],t),t=Fu(t,t.next);return t}(n,e,o,t)),n.length>80*t){a=c=n[0],l=p=n[1];for(let k=t;k<i;k+=t)_=n[k],S=n[k+1],_<a&&(a=_),S<l&&(l=S),_>c&&(c=_),S>p&&(p=S);D=Math.max(c-a,p-l),D=0!==D?1/D:0}return c4(o,s,t,a,l,D),s}(r,i);for(let l=0;l<a.length;l+=3)o.push(a.slice(l,l+3));return o}}function JI(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function eR(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Hc extends lr{constructor(e=new Xl([new Rt(.5,.5),new Rt(-.5,.5),new Rt(-.5,-.5),new Rt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let a=0,l=e.length;a<l;a++)s(e[a]);function s(a){const l=[],c=void 0!==t.curveSegments?t.curveSegments:12,p=void 0!==t.steps?t.steps:1;let _=void 0!==t.depth?t.depth:1,S=void 0===t.bevelEnabled||t.bevelEnabled,D=void 0!==t.bevelThickness?t.bevelThickness:.2,k=void 0!==t.bevelSize?t.bevelSize:D-.1,N=void 0!==t.bevelOffset?t.bevelOffset:0,B=void 0!==t.bevelSegments?t.bevelSegments:3;const F=t.extrudePath,I=void 0!==t.UVGenerator?t.UVGenerator:Gpe;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),_=t.amount);let X,re,de,se,Me,$=!1;F&&(X=F.getSpacedPoints(p),$=!0,S=!1,re=F.computeFrenetFrames(p,!1),de=new Ce,se=new Ce,Me=new Ce),S||(B=0,D=0,k=0,N=0);const He=a.extractPoints(c);let Oe=He.shape;const ve=He.holes;if(!Vc.isClockWise(Oe)){Oe=Oe.reverse();for(let Lt=0,jt=ve.length;Lt<jt;Lt++){const on=ve[Lt];Vc.isClockWise(on)&&(ve[Lt]=on.reverse())}}const je=Vc.triangulateShape(Oe,ve),ge=Oe;for(let Lt=0,jt=ve.length;Lt<jt;Lt++)Oe=Oe.concat(ve[Lt]);function xe(Lt,jt,on){return jt||console.error("THREE.ExtrudeGeometry: vec does not exist"),jt.clone().multiplyScalar(on).add(Lt)}const he=Oe.length,ke=je.length;function et(Lt,jt,on){let Ln,un,Te;const Se=Lt.x-jt.x,Mt=Lt.y-jt.y,Yt=on.x-Lt.x,rn=on.y-Lt.y,Mn=Se*Se+Mt*Mt;if(Math.abs(Se*rn-Mt*Yt)>Number.EPSILON){const Fn=Math.sqrt(Mn),sr=Math.sqrt(Yt*Yt+rn*rn),In=jt.x-Mt/Fn,ot=jt.y+Se/Fn,yn=((on.x-rn/sr-In)*rn-(on.y+Yt/sr-ot)*Yt)/(Se*rn-Mt*Yt);Ln=In+Se*yn-Lt.x,un=ot+Mt*yn-Lt.y;const En=Ln*Ln+un*un;if(En<=2)return new Rt(Ln,un);Te=Math.sqrt(En/2)}else{let Fn=!1;Se>Number.EPSILON?Yt>Number.EPSILON&&(Fn=!0):Se<-Number.EPSILON?Yt<-Number.EPSILON&&(Fn=!0):Math.sign(Mt)===Math.sign(rn)&&(Fn=!0),Fn?(Ln=-Mt,un=Se,Te=Math.sqrt(Mn)):(Ln=Se,un=Mt,Te=Math.sqrt(Mn/2))}return new Rt(Ln/Te,un/Te)}const rt=[];for(let Lt=0,jt=ge.length,on=jt-1,Ln=Lt+1;Lt<jt;Lt++,on++,Ln++)on===jt&&(on=0),Ln===jt&&(Ln=0),rt[Lt]=et(ge[Lt],ge[on],ge[Ln]);const yt=[];let vt,Ft=rt.concat();for(let Lt=0,jt=ve.length;Lt<jt;Lt++){const on=ve[Lt];vt=[];for(let Ln=0,un=on.length,Te=un-1,Se=Ln+1;Ln<un;Ln++,Te++,Se++)Te===un&&(Te=0),Se===un&&(Se=0),vt[Ln]=et(on[Ln],on[Te],on[Se]);yt.push(vt),Ft=Ft.concat(vt)}for(let Lt=0;Lt<B;Lt++){const jt=Lt/B,on=D*Math.cos(jt*Math.PI/2),Ln=k*Math.sin(jt*Math.PI/2)+N;for(let un=0,Te=ge.length;un<Te;un++){const Se=xe(ge[un],rt[un],Ln);qt(Se.x,Se.y,-on)}for(let un=0,Te=ve.length;un<Te;un++){const Se=ve[un];vt=yt[un];for(let Mt=0,Yt=Se.length;Mt<Yt;Mt++){const rn=xe(Se[Mt],vt[Mt],Ln);qt(rn.x,rn.y,-on)}}}const xt=k+N;for(let Lt=0;Lt<he;Lt++){const jt=S?xe(Oe[Lt],Ft[Lt],xt):Oe[Lt];$?(se.copy(re.normals[0]).multiplyScalar(jt.x),de.copy(re.binormals[0]).multiplyScalar(jt.y),Me.copy(X[0]).add(se).add(de),qt(Me.x,Me.y,Me.z)):qt(jt.x,jt.y,0)}for(let Lt=1;Lt<=p;Lt++)for(let jt=0;jt<he;jt++){const on=S?xe(Oe[jt],Ft[jt],xt):Oe[jt];$?(se.copy(re.normals[Lt]).multiplyScalar(on.x),de.copy(re.binormals[Lt]).multiplyScalar(on.y),Me.copy(X[Lt]).add(se).add(de),qt(Me.x,Me.y,Me.z)):qt(on.x,on.y,_/p*Lt)}for(let Lt=B-1;Lt>=0;Lt--){const jt=Lt/B,on=D*Math.cos(jt*Math.PI/2),Ln=k*Math.sin(jt*Math.PI/2)+N;for(let un=0,Te=ge.length;un<Te;un++){const Se=xe(ge[un],rt[un],Ln);qt(Se.x,Se.y,_+on)}for(let un=0,Te=ve.length;un<Te;un++){const Se=ve[un];vt=yt[un];for(let Mt=0,Yt=Se.length;Mt<Yt;Mt++){const rn=xe(Se[Mt],vt[Mt],Ln);$?qt(rn.x,rn.y+X[p-1].y,X[p-1].x+on):qt(rn.x,rn.y,_+on)}}}function at(Lt,jt){let on=Lt.length;for(;--on>=0;){const Ln=on;let un=on-1;un<0&&(un=Lt.length-1);for(let Te=0,Se=p+2*B;Te<Se;Te++){const Mt=he*Te,Yt=he*(Te+1);nn(jt+Ln+Mt,jt+un+Mt,jt+un+Yt,jt+Ln+Yt)}}}function qt(Lt,jt,on){l.push(Lt),l.push(jt),l.push(on)}function gn(Lt,jt,on){ln(Lt),ln(jt),ln(on);const Ln=i.length/3,un=I.generateTopUV(r,i,Ln-3,Ln-2,Ln-1);or(un[0]),or(un[1]),or(un[2])}function nn(Lt,jt,on,Ln){ln(Lt),ln(jt),ln(Ln),ln(jt),ln(on),ln(Ln);const un=i.length/3,Te=I.generateSideWallUV(r,i,un-6,un-3,un-2,un-1);or(Te[0]),or(Te[1]),or(Te[3]),or(Te[1]),or(Te[2]),or(Te[3])}function ln(Lt){i.push(l[3*Lt+0]),i.push(l[3*Lt+1]),i.push(l[3*Lt+2])}function or(Lt){o.push(Lt.x),o.push(Lt.y)}(function(){const Lt=i.length/3;if(S){let jt=0,on=he*jt;for(let Ln=0;Ln<ke;Ln++){const un=je[Ln];gn(un[2]+on,un[1]+on,un[0]+on)}jt=p+2*B,on=he*jt;for(let Ln=0;Ln<ke;Ln++){const un=je[Ln];gn(un[0]+on,un[1]+on,un[2]+on)}}else{for(let jt=0;jt<ke;jt++){const on=je[jt];gn(on[2],on[1],on[0])}for(let jt=0;jt<ke;jt++){const on=je[jt];gn(on[0]+he*p,on[1]+he*p,on[2]+he*p)}}r.addGroup(Lt,i.length/3-Lt,0)})(),function(){const Lt=i.length/3;let jt=0;at(ge,jt),jt+=ge.length;for(let on=0,Ln=ve.length;on<Ln;on++){const un=ve[on];at(un,jt),jt+=un.length}r.addGroup(Lt,i.length/3-Lt,1)}()}this.setAttribute("position",new Bn(i,3)),this.setAttribute("uv",new Bn(o,2)),this.computeVertexNormals()}toJSON(){const e=super.toJSON();return function(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++)t.shapes.push(n[r].uuid);else t.shapes.push(n.uuid);return void 0!==e.extrudePath&&(t.options.extrudePath=e.extrudePath.toJSON()),t}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const r=[];for(let o=0,s=e.shapes.length;o<s;o++)r.push(t[e.shapes[o]]);const i=e.options.extrudePath;return void 0!==i&&(e.options.extrudePath=(new Q_[i.type]).fromJSON(i)),new Hc(r,e.options)}}const Gpe={generateTopUV:function(n,e,t,r,i){const a=e[3*r],l=e[3*r+1],c=e[3*i],p=e[3*i+1];return[new Rt(e[3*t],e[3*t+1]),new Rt(a,l),new Rt(c,p)]},generateSideWallUV:function(n,e,t,r,i,o){const s=e[3*t],a=e[3*t+1],l=e[3*t+2],c=e[3*r],p=e[3*r+1],_=e[3*r+2],S=e[3*i],D=e[3*i+1],k=e[3*i+2],N=e[3*o],B=e[3*o+1],F=e[3*o+2];return Math.abs(a-p)<Math.abs(s-c)?[new Rt(s,1-l),new Rt(c,1-_),new Rt(S,1-k),new Rt(N,1-F)]:[new Rt(a,1-l),new Rt(p,1-_),new Rt(D,1-k),new Rt(B,1-F)]}};class f4 extends lr{constructor(e=new Xl([new Rt(0,.5),new Rt(-.5,-.5),new Rt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],o=[],s=[];let a=0,l=0;if(!1===Array.isArray(e))c(e);else for(let p=0;p<e.length;p++)c(e[p]),this.addGroup(a,l,p),a+=l,l=0;function c(p){const _=i.length/3,S=p.extractPoints(t);let D=S.shape;const k=S.holes;!1===Vc.isClockWise(D)&&(D=D.reverse());for(let B=0,F=k.length;B<F;B++){const I=k[B];!0===Vc.isClockWise(I)&&(k[B]=I.reverse())}const N=Vc.triangulateShape(D,k);for(let B=0,F=k.length;B<F;B++)D=D.concat(k[B]);for(let B=0,F=D.length;B<F;B++){const I=D[B];i.push(I.x,I.y,0),o.push(0,0,1),s.push(I.x,I.y)}for(let B=0,F=N.length;B<F;B++){const I=N[B];r.push(I[0]+_,I[1]+_,I[2]+_),l+=3}}this.setIndex(r),this.setAttribute("position",new Bn(i,3)),this.setAttribute("normal",new Bn(o,3)),this.setAttribute("uv",new Bn(s,2))}toJSON(){const e=super.toJSON();return function(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++)e.shapes.push(n[t].uuid);else e.shapes.push(n.uuid);return e}(this.parameters.shapes,e)}static fromJSON(e,t){const r=[];for(let i=0,o=e.shapes.length;i<o;i++)r.push(t[e.shapes[i]]);return new f4(r,e.curveSegments)}}(class extends is{constructor(e){super(),this.type="ShadowMaterial",this.color=new wn(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}).prototype.isShadowMaterial=!0;class tb extends is{constructor(e){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new wn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}tb.prototype.isMeshStandardMaterial=!0;(class extends tb{constructor(e){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Rt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return rs(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenTint=new wn(0),this.sheenRoughness=1,this.transmissionMap=null,this.thickness=.01,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationTint=new wn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularTint=new wn(1,1,1),this.specularTintMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenTint.copy(e.sheenTint),this.sheenRoughness=e.sheenRoughness,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationTint.copy(e.attenuationTint),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularTint.copy(e.specularTint),this.specularTintMap=e.specularTintMap,this}}).prototype.isMeshPhysicalMaterial=!0;class x6 extends is{constructor(e){super(),this.type="MeshPhongMaterial",this.color=new wn(16777215),this.specular=new wn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}x6.prototype.isMeshPhongMaterial=!0;(class extends is{constructor(e){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new wn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}).prototype.isMeshToonMaterial=!0;(class extends is{constructor(e){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}).prototype.isMeshNormalMaterial=!0;class nb extends is{constructor(e){super(),this.type="MeshLambertMaterial",this.color=new wn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}nb.prototype.isMeshLambertMaterial=!0;(class extends is{constructor(e){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new wn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}).prototype.isMeshMatcapMaterial=!0;(class extends os{constructor(e){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}).prototype.isLineDashedMaterial=!0;const Bi={arraySlice:function(n,e,t){return Bi.isTypedArray(n)?new n.constructor(n.subarray(e,void 0!==t?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:"number"==typeof e.BYTES_PER_ELEMENT?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(function(i,o){return n[i]-n[o]}),r},sortedArray:function(n,e,t){const r=n.length,i=new n.constructor(r);for(let o=0,s=0;s!==r;++o){const a=t[o]*e;for(let l=0;l!==e;++l)i[s++]=n[a+l]}return i},flattenJSON:function(n,e,t,r){let i=1,o=n[0];for(;void 0!==o&&void 0===o[r];)o=n[i++];if(void 0===o)return;let s=o[r];if(void 0!==s)if(Array.isArray(s))do{s=o[r],void 0!==s&&(e.push(o.time),t.push.apply(t,s)),o=n[i++]}while(void 0!==o);else if(void 0!==s.toArray)do{s=o[r],void 0!==s&&(e.push(o.time),s.toArray(t,t.length)),o=n[i++]}while(void 0!==o);else do{s=o[r],void 0!==s&&(e.push(o.time),t.push(s)),o=n[i++]}while(void 0!==o)},subclip:function(n,e,t,r,i=30){const o=n.clone();o.name=e;const s=[];for(let l=0;l<o.tracks.length;++l){const c=o.tracks[l],p=c.getValueSize(),_=[],S=[];for(let D=0;D<c.times.length;++D){const k=c.times[D]*i;if(!(k<t||k>=r)){_.push(c.times[D]);for(let N=0;N<p;++N)S.push(c.values[D*p+N])}}0!==_.length&&(c.times=Bi.convertArray(_,c.times.constructor),c.values=Bi.convertArray(S,c.values.constructor),s.push(c))}o.tracks=s;let a=1/0;for(let l=0;l<o.tracks.length;++l)a>o.tracks[l].times[0]&&(a=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*a);return o.resetDuration(),o},makeClipAdditive:function(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,o=e/r;for(let s=0;s<i;++s){const a=t.tracks[s],l=a.ValueTypeName;if("bool"===l||"string"===l)continue;const c=n.tracks.find(function(F){return F.name===a.name&&F.ValueTypeName===l});if(void 0===c)continue;let p=0;const _=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=_/3);let S=0;const D=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(S=D/3);const k=a.times.length-1;let N;if(o<=a.times[0])N=Bi.arraySlice(a.values,p,_-p);else if(o>=a.times[k]){const F=k*_+p;N=Bi.arraySlice(a.values,F,F+_-p)}else{const F=a.createInterpolant(),I=p,X=_-p;F.evaluate(o),N=Bi.arraySlice(F.resultBuffer,I,X)}"quaternion"===l&&(new Wo).fromArray(N).normalize().conjugate().toArray(N);const B=c.times.length;for(let F=0;F<B;++F){const I=F*D+S;if("quaternion"===l)Wo.multiplyQuaternionsFlat(c.values,I,N,0,c.values,I);else{const X=D-2*S;for(let $=0;$<X;++$)c.values[I+$]-=N[$]}}}return n.blendMode=2501,n}};class Nu{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],o=t[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let a=r+2;;){if(void 0===i){if(e<o)break r;return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,e,o)}if(r===a)break;if(o=i,i=t[++r],e<i)break t}s=t.length;break n}if(e>=o)break e;{const a=t[1];e<a&&(r=2,o=a);for(let l=r-2;;){if(void 0===o)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(r===l)break;if(i=o,o=t[--r-1],e>=o)break t}s=r,r=0}}for(;r<s;){const a=r+s>>>1;e<t[a]?s=a:r=a+1}if(i=t[r],o=t[r-1],void 0===o)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(void 0===i)return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,o,e)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let s=0;s!==i;++s)t[s]=r[o+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Nu.prototype.beforeStart_=Nu.prototype.copySampleValue_,Nu.prototype.afterEnd_=Nu.prototype.copySampleValue_;class Xpe extends Nu{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Z1,endingEnd:Z1}}intervalChanged_(e,t,r){const i=this.parameterPositions;let o=e-2,s=e+1,a=i[o],l=i[s];if(void 0===a)switch(this.getSettings_().endingStart){case Q1:o=e,a=2*t-r;break;case 2402:o=i.length-2,a=t+i[o]-i[o+1];break;default:o=e,a=r}if(void 0===l)switch(this.getSettings_().endingEnd){case Q1:s=e,l=2*r-t;break;case 2402:s=1,l=r+i[1]-i[0];break;default:s=e-1,l=t}const c=.5*(r-t),p=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=o*p,this._offsetNext=s*p}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,p=this._offsetPrev,_=this._offsetNext,S=this._weightPrev,D=this._weightNext,k=(r-t)/(i-t),N=k*k,B=N*k,F=-S*B+2*S*N-S*k,I=(1+S)*B+(-1.5-2*S)*N+(-.5+S)*k+1,X=(-1-D)*B+(1.5+D)*N+.5*k,$=D*B-D*N;for(let re=0;re!==a;++re)o[re]=F*s[p+re]+I*s[c+re]+X*s[l+re]+$*s[_+re];return o}}class uR extends Nu{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,p=(r-t)/(i-t),_=1-p;for(let S=0;S!==a;++S)o[S]=s[c+S]*_+s[l+S]*p;return o}}class Kpe extends Nu{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Kl{constructor(e,t,r,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Bi.convertArray(t,this.TimeBufferType),this.values=Bi.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Bi.convertArray(e.times,Array),values:Bi.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Kpe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new uR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Xpe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(r);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let o=0,s=i-1;for(;o!==i&&r[o]<e;)++o;for(;-1!==s&&r[s]>t;)--s;if(++s,0!==o||s!==i){o>=s&&(s=Math.max(s,1),o=s-1);const a=this.getValueSize();this.times=Bi.arraySlice(r,o,s),this.values=Bi.arraySlice(this.values,o*a,s*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;0===o&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==o;a++){const l=r[a];if("number"==typeof l&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(null!==s&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,s),e=!1;break}s=l}if(void 0!==i&&Bi.isTypedArray(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Bi.arraySlice(this.times),t=Bi.arraySlice(this.values),r=this.getValueSize(),i=2302===this.getInterpolation(),o=e.length-1;let s=1;for(let a=1;a<o;++a){let l=!1;const c=e[a];if(c!==e[a+1]&&(1!==a||c!==e[0]))if(i)l=!0;else{const _=a*r,S=_-r,D=_+r;for(let k=0;k!==r;++k){const N=t[_+k];if(N!==t[S+k]||N!==t[D+k]){l=!0;break}}}if(l){if(a!==s){e[s]=e[a];const _=a*r,S=s*r;for(let D=0;D!==r;++D)t[S+D]=t[_+D]}++s}}if(o>0){e[s]=e[o];for(let a=o*r,l=s*r,c=0;c!==r;++c)t[l+c]=t[a+c];++s}return s!==e.length?(this.times=Bi.arraySlice(e,0,s),this.values=Bi.arraySlice(t,0,s*r)):(this.times=e,this.values=t),this}clone(){const e=Bi.arraySlice(this.times,0),t=Bi.arraySlice(this.values,0),i=new(0,this.constructor)(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Kl.prototype.TimeBufferType=Float32Array,Kl.prototype.ValueBufferType=Float32Array,Kl.prototype.DefaultInterpolation=2301;class Lf extends Kl{}Lf.prototype.ValueTypeName="bool",Lf.prototype.ValueBufferType=Array,Lf.prototype.DefaultInterpolation=2300,Lf.prototype.InterpolantFactoryMethodLinear=void 0,Lf.prototype.InterpolantFactoryMethodSmooth=void 0;class hR extends Kl{}hR.prototype.ValueTypeName="color";class M6 extends Kl{}M6.prototype.ValueTypeName="number";class Zpe extends Nu{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let p=c+a;c!==p;c+=4)Wo.slerpFlat(o,0,s,c-a,s,c,l);return o}}class m4 extends Kl{InterpolantFactoryMethodLinear(e){return new Zpe(this.times,this.values,this.getValueSize(),e)}}m4.prototype.ValueTypeName="quaternion",m4.prototype.DefaultInterpolation=2301,m4.prototype.InterpolantFactoryMethodSmooth=void 0;class Of extends Kl{}Of.prototype.ValueTypeName="string",Of.prototype.ValueBufferType=Array,Of.prototype.DefaultInterpolation=2300,Of.prototype.InterpolantFactoryMethodLinear=void 0,Of.prototype.InterpolantFactoryMethodSmooth=void 0;class S6 extends Kl{}S6.prototype.ValueTypeName="vector";class C6{constructor(e,t=-1,r,i=2500){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=ha(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,a=r.length;s!==a;++s)t.push(Jpe(r[s]).scale(i));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,s=r.length;o!==s;++o)t.push(Kl.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const o=t.length,s=[];for(let a=0;a<o;a++){let l=[],c=[];l.push((a+o-1)%o,a,(a+1)%o),c.push(0,1,0);const p=Bi.getKeyframeOrder(l);l=Bi.sortedArray(l,1,p),c=Bi.sortedArray(c,1,p),!i&&0===l[0]&&(l.push(o),c.push(c[0])),s.push(new M6(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,s)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],p=c.name.match(o);if(p&&p.length>1){const _=p[1];let S=i[_];S||(i[_]=S=[]),S.push(c)}}const s=[];for(const a in i)s.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(_,S,D,k,N){if(0!==D.length){const B=[],F=[];Bi.flattenJSON(D,B,F,k),0!==B.length&&N.push(new _(S,B,F))}},i=[],o=e.name||"default",s=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let _=0;_<c.length;_++){const S=c[_].keys;if(S&&0!==S.length)if(S[0].morphTargets){const D={};let k;for(k=0;k<S.length;k++)if(S[k].morphTargets)for(let N=0;N<S[k].morphTargets.length;N++)D[S[k].morphTargets[N]]=-1;for(const N in D){const B=[],F=[];for(let I=0;I!==S[k].morphTargets.length;++I){const X=S[k];B.push(X.time),F.push(X.morphTarget===N?1:0)}i.push(new M6(".morphTargetInfluence["+N+"]",B,F))}l=D.length*(s||1)}else{const D=".bones["+t[_].name+"]";r(S6,D+".position",S,"pos",i),r(m4,D+".quaternion",S,"rot",i),r(S6,D+".scale",S,"scl",i)}}return 0===i.length?null:new this(o,l,i,a)}resetDuration(){let t=0;for(let r=0,i=this.tracks.length;r!==i;++r){const o=this.tracks[r];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Jpe(n){if(void 0===n.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return M6;case"vector":case"vector2":case"vector3":case"vector4":return S6;case"color":return hR;case"quaternion":return m4;case"bool":case"boolean":return Lf;case"string":return Of}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}(n.type);if(void 0===n.times){const t=[],r=[];Bi.flattenJSON(n.keys,t,r,"value"),n.times=t,n.values=r}return void 0!==e.parse?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const If={enabled:!1,files:{},add:function(n,e){!1!==this.enabled&&(this.files[n]=e)},get:function(n){if(!1!==this.enabled)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};const e4e=new class{constructor(e,t,r){const i=this;let l,o=!1,s=0,a=0;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(p){a++,!1===o&&void 0!==i.onStart&&i.onStart(p,s,a),o=!0},this.itemEnd=function(p){s++,void 0!==i.onProgress&&i.onProgress(p,s,a),s===a&&(o=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(p){void 0!==i.onError&&i.onError(p)},this.resolveURL=function(p){return l?l(p):p},this.setURLModifier=function(p){return l=p,this},this.addHandler=function(p,_){return c.push(p,_),this},this.removeHandler=function(p){const _=c.indexOf(p);return-1!==_&&c.splice(_,2),this},this.getHandler=function(p){for(let _=0,S=c.length;_<S;_+=2){const D=c[_],k=c[_+1];if(D.global&&(D.lastIndex=0),D.test(p))return k}return null}}};class Vu{constructor(e){this.manager=void 0!==e?e:e4e,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,o){r.load(e,i,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const gl={};class Bc extends Vu{constructor(e){super(e)}load(e,t,r,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=If.get(e);if(void 0!==s)return o.manager.itemStart(e),setTimeout(function(){t&&t(s),o.manager.itemEnd(e)},0),s;if(void 0!==gl[e])return void gl[e].push({onLoad:t,onProgress:r,onError:i});const l=e.match(/^data:(.*?)(;base64)?,(.*)$/);let c;if(l){const p=l[1],_=!!l[2];let S=l[3];S=decodeURIComponent(S),_&&(S=atob(S));try{let D;const k=(this.responseType||"").toLowerCase();switch(k){case"arraybuffer":case"blob":const N=new Uint8Array(S.length);for(let F=0;F<S.length;F++)N[F]=S.charCodeAt(F);D="blob"===k?new Blob([N.buffer],{type:p}):N.buffer;break;case"document":D=(new DOMParser).parseFromString(S,p);break;case"json":D=JSON.parse(S);break;default:D=S}setTimeout(function(){t&&t(D),o.manager.itemEnd(e)},0)}catch(D){setTimeout(function(){i&&i(D),o.manager.itemError(e),o.manager.itemEnd(e)},0)}}else{gl[e]=[],gl[e].push({onLoad:t,onProgress:r,onError:i}),c=new XMLHttpRequest,c.open("GET",e,!0),c.addEventListener("load",function(p){const _=this.response,S=gl[e];if(delete gl[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),If.add(e,_);for(let D=0,k=S.length;D<k;D++){const N=S[D];N.onLoad&&N.onLoad(_)}o.manager.itemEnd(e)}else{for(let D=0,k=S.length;D<k;D++){const N=S[D];N.onError&&N.onError(p)}o.manager.itemError(e),o.manager.itemEnd(e)}},!1),c.addEventListener("progress",function(p){const _=gl[e];for(let S=0,D=_.length;S<D;S++){const k=_[S];k.onProgress&&k.onProgress(p)}},!1),c.addEventListener("error",function(p){const _=gl[e];delete gl[e];for(let S=0,D=_.length;S<D;S++){const k=_[S];k.onError&&k.onError(p)}o.manager.itemError(e),o.manager.itemEnd(e)},!1),c.addEventListener("abort",function(p){const _=gl[e];delete gl[e];for(let S=0,D=_.length;S<D;S++){const k=_[S];k.onError&&k.onError(p)}o.manager.itemError(e),o.manager.itemEnd(e)},!1),void 0!==this.responseType&&(c.responseType=this.responseType),void 0!==this.withCredentials&&(c.withCredentials=this.withCredentials),c.overrideMimeType&&c.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const p in this.requestHeader)c.setRequestHeader(p,this.requestHeader[p]);c.send(null)}return o.manager.itemStart(e),c}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class T6 extends Vu{constructor(e){super(e)}load(e,t,r,i){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=If.get(e);if(void 0!==s)return o.manager.itemStart(e),setTimeout(function(){t&&t(s),o.manager.itemEnd(e)},0),s;const a=x8("img");function l(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1),If.add(e,this),t&&t(this),o.manager.itemEnd(e)}function c(p){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1),i&&i(p),o.manager.itemError(e),o.manager.itemEnd(e)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}}class t4e extends Vu{constructor(e){super(e)}load(e,t,r,i){const o=new Zp,s=new T6(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function l(c){s.load(e[c],function(p){o.images[c]=p,a++,6===a&&(o.needsUpdate=!0,t&&t(o))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return o}}class E6 extends Vu{constructor(e){super(e)}load(e,t,r,i){const o=new Go,s=new T6(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){o.image=a,o.needsUpdate=!0,void 0!==t&&t(o)},r,i),o}}class Zl extends hi{constructor(e,t=1){super(),this.type="Light",this.color=new wn(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}Zl.prototype.isLight=!0;(class extends Zl{constructor(e,t,r){super(e,r),this.type="HemisphereLight",this.position.copy(hi.DefaultUp),this.updateMatrix(),this.groundColor=new wn(t)}copy(e){return Zl.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}).prototype.isHemisphereLight=!0;const pR=new Yn,mR=new Ce,gR=new Ce;class rb{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Rt(512,512),this.map=null,this.mapPass=null,this.matrix=new Yn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new B8,this._frameExtents=new Rt(1,1),this._viewportCount=1,this._viewports=[new Si(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;mR.setFromMatrixPosition(e.matrixWorld),t.position.copy(mR),gR.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(gR),t.updateMatrixWorld(),pR.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(pR),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class vR extends rb{constructor(){super(new $o(50,1,.5,500)),this.focus=1}updateMatrices(e){const t=this.camera,r=2*Gp*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(r!==t.fov||i!==t.aspect||o!==t.far)&&(t.fov=r,t.aspect=i,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}vR.prototype.isSpotLightShadow=!0;(class extends Zl{constructor(e,t,r=0,i=Math.PI/3,o=0,s=1){super(e,t),this.type="SpotLight",this.position.copy(hi.DefaultUp),this.updateMatrix(),this.target=new hi,this.distance=r,this.angle=i,this.penumbra=o,this.decay=s,this.shadow=new vR}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}).prototype.isSpotLight=!0;const _R=new Yn,g4=new Ce,ib=new Ce;class bR extends rb{constructor(){super(new $o(90,1,.5,500)),this._frameExtents=new Rt(4,2),this._viewportCount=6,this._viewports=[new Si(2,1,1,1),new Si(0,1,1,1),new Si(3,1,1,1),new Si(1,1,1,1),new Si(3,0,1,1),new Si(1,0,1,1)],this._cubeDirections=[new Ce(1,0,0),new Ce(-1,0,0),new Ce(0,0,1),new Ce(0,0,-1),new Ce(0,1,0),new Ce(0,-1,0)],this._cubeUps=[new Ce(0,1,0),new Ce(0,1,0),new Ce(0,1,0),new Ce(0,1,0),new Ce(0,0,1),new Ce(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),g4.setFromMatrixPosition(e.matrixWorld),r.position.copy(g4),ib.copy(r.position),ib.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(ib),r.updateMatrixWorld(),i.makeTranslation(-g4.x,-g4.y,-g4.z),_R.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_R)}}bR.prototype.isPointLightShadow=!0;(class extends Zl{constructor(e,t,r=0,i=1){super(e,t),this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new bR}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}).prototype.isPointLight=!0;class xR extends rb{constructor(){super(new Qp(-5,5,5,-5,.5,500))}}xR.prototype.isDirectionalLightShadow=!0;class Rf extends Zl{constructor(e,t){super(e,t),this.type="DirectionalLight",this.position.copy(hi.DefaultUp),this.updateMatrix(),this.target=new hi,this.shadow=new xR}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}Rf.prototype.isDirectionalLight=!0;class Ff extends Zl{constructor(e,t){super(e,t),this.type="AmbientLight"}}Ff.prototype.isAmbientLight=!0;(class extends Zl{constructor(e,t,r=10,i=10){super(e,t),this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}).prototype.isRectAreaLight=!0;class SR{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Ce)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*i),t.addScaledVector(s[2],.488603*o),t.addScaledVector(s[3],.488603*r),t.addScaledVector(s[4],r*i*1.092548),t.addScaledVector(s[5],i*o*1.092548),t.addScaledVector(s[6],.315392*(3*o*o-1)),t.addScaledVector(s[7],r*o*1.092548),t.addScaledVector(s[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],1.023328*i),t.addScaledVector(s[2],1.023328*o),t.addScaledVector(s[3],1.023328*r),t.addScaledVector(s[4],.858086*r*i),t.addScaledVector(s[5],.858086*i*o),t.addScaledVector(s[6],.743125*o*o-.247708),t.addScaledVector(s[7],.858086*r*o),t.addScaledVector(s[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+3*i);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+3*i);return e}static getBasisAt(e,t){const r=e.x,i=e.y,o=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*o,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*r*o,t[8]=.546274*(r*r-i*i)}}SR.prototype.isSphericalHarmonics3=!0;class D6 extends Zl{constructor(e=new SR,t=1){super(void 0,t),this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}D6.prototype.isLightProbe=!0;let z6;(class extends lr{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return(new this.constructor).copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}).prototype.isInstancedBufferGeometry=!0,class extends Vu{constructor(e){super(e),"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=If.get(e);if(void 0!==s)return o.manager.itemStart(e),setTimeout(function(){t&&t(s),o.manager.itemEnd(e)},0),s;const a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(l){If.add(e,l),t&&t(l),o.manager.itemEnd(e)}).catch(function(l){i&&i(l),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}}.prototype.isImageBitmapLoader=!0;class a4e extends Vu{constructor(e){super(e)}load(e,t,r,i){const o=this,s=new Bc(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{const l=a.slice(0);(void 0===z6&&(z6=new(window.AudioContext||window.webkitAudioContext)),z6).decodeAudioData(l,function(p){t(p)})}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}}class v4 extends D6{constructor(e,t,r=1){super(void 0,r);const i=(new wn).set(e),o=(new wn).set(t),s=new Ce(i.r,i.g,i.b),a=new Ce(o.r,o.g,o.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(s).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(s).sub(a).multiplyScalar(c)}}v4.prototype.isHemisphereLightProbe=!0,class extends D6{constructor(e,t=1){super(void 0,t);const r=(new wn).set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}.prototype.isAmbientLightProbe=!0;class p4e{constructor(e,t,r){let i,o,s;switch(this.binding=e,this.valueSize=r,t){case"quaternion":i=this._slerp,o=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:i=this._lerp,o=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,o=e*i+i;let s=this.cumulativeWeight;if(0===s){for(let a=0;a!==i;++a)r[o+a]=r[a];s=t}else s+=t,this._mixBufferRegion(r,o,0,t/s,i);this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,o=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1&&this._mixBufferRegion(r,i,t*this._origIndex,1-o,t),s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const t=this.buffer,r=this.valueSize,i=r*this._origIndex;this.binding.getValue(t,i);for(let o=r,s=i;o!==s;++o)t[o]=t[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,o){if(i>=.5)for(let s=0;s!==o;++s)e[t+s]=e[r+s]}_slerp(e,t,r,i){Wo.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,o){const s=this._workIndex*o;Wo.multiplyQuaternionsFlat(e,s,e,t,e,r),Wo.slerpFlat(e,t,e,t,e,s,i)}_lerp(e,t,r,i,o){const s=1-i;for(let a=0;a!==o;++a){const l=t+a;e[l]=e[l]*s+e[r+a]*i}}_lerpAdditive(e,t,r,i,o){for(let s=0;s!==o;++s){const a=t+s;e[a]=e[a]+e[r+s]*i}}}const sb="\\[\\]\\.:\\/",m4e=new RegExp("["+sb+"]","g"),ab="[^"+sb+"]",g4e="[^"+sb.replace("\\.","")+"]",v4e=/((?:WC+[\/:])*)/.source.replace("WC",ab),y4e=/(WCOD+)?/.source.replace("WCOD",g4e),_4e=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ab),b4e=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ab),w4e=new RegExp("^"+v4e+y4e+_4e+b4e+"$"),x4e=["material","materials","bones"];class M4e{constructor(e,t,r){const i=r||Fi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const i=this._bindings[this._targetGroup.nCachedObjects_];void 0!==i&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}let Fi=(()=>{class n{constructor(t,r,i){this.path=r,this.parsedPath=i||n.parseTrackName(r),this.node=n.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,r,i){return t&&t.isAnimationObjectGroup?new n.Composite(t,r,i):new n(t,r,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(m4e,"")}static parseTrackName(t){const r=w4e.exec(t);if(!r)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:r[2],objectName:r[3],objectIndex:r[4],propertyName:r[5],propertyIndex:r[6]},o=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==o&&-1!==o){const s=i.nodeName.substring(o+1);-1!==x4e.indexOf(s)&&(i.nodeName=i.nodeName.substring(0,o),i.objectName=s)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,r){if(!r||""===r||"."===r||-1===r||r===t.name||r===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(r);if(void 0!==i)return i}if(t.children){const i=function(s){for(let a=0;a<s.length;a++){const l=s[a];if(l.name===r||l.uuid===r)return l;const c=i(l.children);if(c)return c}return null},o=i(t.children);if(o)return o}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,r){t[r]=this.targetObject[this.propertyName]}_getValue_array(t,r){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)t[r++]=i[o]}_getValue_arrayElement(t,r){t[r]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,r){this.resolvedProperty.toArray(t,r)}_setValue_direct(t,r){this.targetObject[this.propertyName]=t[r]}_setValue_direct_setNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,r){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)i[o]=t[r++]}_setValue_array_setNeedsUpdate(t,r){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)i[o]=t[r++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,r){const i=this.resolvedProperty;for(let o=0,s=i.length;o!==s;++o)i[o]=t[r++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,r){this.resolvedProperty[this.propertyIndex]=t[r]}_setValue_arrayElement_setNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,r){this.resolvedProperty.fromArray(t,r)}_setValue_fromArray_setNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,r){this.bind(),this.getValue(t,r)}_setValue_unbound(t,r){this.bind(),this.setValue(t,r)}bind(){let t=this.node;const r=this.parsedPath,i=r.objectName,o=r.propertyName;let s=r.propertyIndex;if(t||(t=n.findNode(this.rootNode,r.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(i){let p=r.objectIndex;switch(i){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let _=0;_<t.length;_++)if(t[_].name===p){p=_;break}break;default:if(void 0===t[i])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[i]}if(void 0!==p){if(void 0===t[p])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[p]}}const a=t[o];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+r.nodeName+"."+o+" but it wasn't found.",t);let l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==s){if("morphTargetInfluences"===o){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[s]&&(s=t.morphTargetDictionary[s])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=o;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=M4e,n})();Fi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Fi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Fi.prototype.GetterByBindingType=[Fi.prototype._getValue_direct,Fi.prototype._getValue_array,Fi.prototype._getValue_arrayElement,Fi.prototype._getValue_toArray],Fi.prototype.SetterByBindingTypeAndVersioning=[[Fi.prototype._setValue_direct,Fi.prototype._setValue_direct_setNeedsUpdate,Fi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Fi.prototype._setValue_array,Fi.prototype._setValue_array_setNeedsUpdate,Fi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Fi.prototype._setValue_arrayElement,Fi.prototype._setValue_arrayElement_setNeedsUpdate,Fi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Fi.prototype._setValue_fromArray,Fi.prototype._setValue_fromArray_setNeedsUpdate,Fi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class C4e{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const o=t.tracks,s=o.length,a=new Array(s),l={endingStart:Z1,endingEnd:Z1};for(let c=0;c!==s;++c){const p=o[c].createInterpolant(null);a[c]=p,p.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,o=e._clip.duration,a=i/o;e.warp(1,o/i,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,o=i.time,s=this.timeScale;let a=this._timeScaleInterpolant;null===a&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=o,l[1]=o+r,c[0]=e/s,c[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled)return void this._updateWeight(e);const o=this._startTime;if(null!==o){const l=(e-o)*r;if(l<0||0===r)return;this._startTime=null,t=r*l}t*=this._updateTimeScale(e);const s=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case 2501:for(let p=0,_=l.length;p!==_;++p)l[p].evaluate(s),c[p].accumulateAdditive(a);break;case 2500:default:for(let p=0,_=l.length;p!==_;++p)l[p].evaluate(s),c[p].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(null!==r){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;null!==r&&(t*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const s=2202===r;if(0===e)return-1===o?i:s&&1==(1&o)?t-i:i;if(2200===r){-1===o&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else{if(!(i<0)){this.time=i;break e}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===o&&(e>=0?(o=0,this._setEndings(!0,0===this.repetitions,s)):this._setEndings(0===this.repetitions,!0,s)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,o+=Math.abs(a);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===l){const c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(s&&1==(1&o))return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Q1,i.endingEnd=Q1):(i.endingStart=e?this.zeroSlopeAtStart?Q1:Z1:2402,i.endingEnd=t?this.zeroSlopeAtEnd?Q1:Z1:2402)}_scheduleFading(e,t,r){const i=this._mixer,o=i.time;let s=this._weightInterpolant;null===s&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const a=s.parameterPositions,l=s.sampleValues;return a[0]=o,l[0]=t,a[1]=o+e,l[1]=r,this}}(class extends Su{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,s=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let p=c[l];void 0===p&&(p={},c[l]=p);for(let _=0;_!==o;++_){const S=i[_],D=S.name;let k=p[D];if(void 0!==k)s[_]=k;else{if(k=s[_],void 0!==k){null===k._cacheIndex&&(++k.referenceCount,this._addInactiveBinding(k,l,D));continue}k=new p4e(Fi.create(r,D,t&&t._propertyBindings[_].binding.parsedPath),S.ValueTypeName,S.getValueSize()),++k.referenceCount,this._addInactiveBinding(k,l,D),s[_]=k}a[_].resultBuffer=k.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const o=t[r];0==o.useCount++&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const o=t[r];0==--o.useCount&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,o=this._actionsByClip;let s=o[t];if(void 0===s)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=s;else{const a=s.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,s=this._actionsByClip,a=s[o],l=a.knownActions,c=l[l.length-1],p=e._byClipCacheIndex;c._byClipCacheIndex=p,l[p]=c,l.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===l.length&&delete s[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const o=t[r];0==--o.referenceCount&&this._removeInactiveBinding(o)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,o=this._bindings;let s=i[t];void 0===s&&(s={},i[t]=s),s[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,s=this._bindingsByRootAndName,a=s[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[o],0===Object.keys(a).length&&delete s[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return void 0===r&&(r=new uR(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=t[i];e.__cacheIndex=i,t[i]=e,o.__cacheIndex=r,t[r]=o}clipAction(e,t,r){const i=t||this._root,o=i.uuid;let s="string"==typeof e?C6.findByName(i,e):e;const a=null!==s?s.uuid:e,l=this._actionsByClip[a];let c=null;if(void 0===r&&(r=null!==s?s.blendMode:2500),void 0!==l){const _=l.actionByRoot[o];if(void 0!==_&&_.blendMode===r)return _;c=l.knownActions[0],null===s&&(s=c._clip)}if(null===s)return null;const p=new C4e(this,s,t,r);return this._bindAction(p,c),this._addInactiveAction(p,a,o),p}existingAction(e,t){const r=t||this._root,i=r.uuid,o="string"==typeof e?C6.findByName(r,e):e,a=this._actionsByClip[o?o.uuid:e];return void 0!==a&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions;for(let r=this._nActiveActions-1;r>=0;--r)e[r].stop();return this}update(e){const t=this._actions,r=this._nActiveActions,i=this.time+=e*=this.timeScale,o=Math.sign(e),s=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,o,s);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(void 0!==o){const s=o.knownActions;for(let a=0,l=s.length;a!==l;++a){const c=s[a];this._deactivateAction(c);const p=c._cacheIndex,_=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,_._cacheIndex=p,t[p]=_,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const s in r){const l=r[s].actionByRoot[t];void 0!==l&&(this._deactivateAction(l),this._removeInactiveAction(l))}const o=this._bindingsByRootAndName[t];if(void 0!==o)for(const s in o){const a=o[s];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);null!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}}).prototype._controlInterpolantsResultBuffer=new Float32Array(1);class lb{constructor(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new lb(void 0===this.value.clone?this.value:this.value.clone())}}(class extends Mf{constructor(e,t,r=1){super(e,t),this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}).prototype.isInstancedInterleavedBuffer=!0;class IR{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(rs(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}const RR=new Rt;class y4{constructor(e=new Rt(1/0,1/0),t=new Rt(-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=RR.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return RR.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}y4.prototype.isBox2=!0,class extends hi{constructor(e){super(),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}}.prototype.isImmediateRenderObject=!0;const Hu=new Ce,P6=new Yn,ub=new Yn;function VR(n){const e=[];n&&n.isBone&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,VR(n.children[t]));return e}class GR extends Nc{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=new lr;i.setAttribute("position",new Bn(t,3)),i.setAttribute("color",new Bn([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(i,new os({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,r){const i=new wn,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(t),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}const WR=new Float32Array(1);new Int32Array(WR.buffer),Ia.create=function(n,e){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(Ia.prototype),n.prototype.constructor=n,n.prototype.getPoint=e,n},h6.prototype.fromPoints=function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)},class extends Nc{constructor(e=10,t=10,r=4473924,i=8947848){r=new wn(r),i=new wn(i);const o=t/2,s=e/t,a=e/2,l=[],c=[];for(let S=0,D=0,k=-a;S<=t;S++,k+=s){l.push(-a,0,k,a,0,k),l.push(k,0,-a,k,0,a);const N=S===o?r:i;N.toArray(c,D),D+=3,N.toArray(c,D),D+=3,N.toArray(c,D),D+=3,N.toArray(c,D),D+=3}const p=new lr;p.setAttribute("position",new Bn(l,3)),p.setAttribute("color",new Bn(c,3)),super(p,new os({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},class extends Nc{constructor(e){const t=VR(e),r=new lr,i=[],o=[],s=new wn(0,0,1),a=new wn(0,1,0);for(let c=0;c<t.length;c++){const p=t[c];p.parent&&p.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(s.r,s.g,s.b),o.push(a.r,a.g,a.b))}r.setAttribute("position",new Bn(i,3)),r.setAttribute("color",new Bn(o,3)),super(r,new os({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");ub.copy(this.root.matrixWorld).invert();for(let o=0,s=0;o<t.length;o++){const a=t[o];a.parent&&a.parent.isBone&&(P6.multiplyMatrices(ub,a.matrixWorld),Hu.setFromMatrixPosition(P6),i.setXYZ(s,Hu.x,Hu.y,Hu.z),P6.multiplyMatrices(ub,a.parent.matrixWorld),Hu.setFromMatrixPosition(P6),i.setXYZ(s+1,Hu.x,Hu.y,Hu.z),s+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Vu.prototype.extractUrlBase=function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),class{static decodeText(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch(r){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}}.extractUrlBase(n)},Vu.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},y4.prototype.center=function(n){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(n)},y4.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},y4.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)},y4.prototype.size=function(n){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(n)},La.prototype.center=function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)},La.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},La.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)},La.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)},La.prototype.size=function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)},Uh.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},B8.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)},Yo.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)},Yo.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)},Yo.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},Yo.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)},Yo.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},Yo.prototype.getInverse=function(n){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()},Yn.prototype.extractPosition=function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)},Yn.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)},Yn.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Ce).setFromMatrixColumn(this,3)},Yn.prototype.setRotationFromQuaternion=function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)},Yn.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},Yn.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},Yn.prototype.multiplyVector4=function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},Yn.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},Yn.prototype.rotateAxis=function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)},Yn.prototype.crossVector=function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},Yn.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},Yn.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},Yn.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},Yn.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},Yn.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},Yn.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},Yn.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},Yn.prototype.makeFrustum=function(n,e,t,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,e,r,t,i,o)},Yn.prototype.getInverse=function(n){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()},Rc.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)},Wo.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)},Wo.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},Yh.prototype.isIntersectionBox=function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)},Yh.prototype.isIntersectionPlane=function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)},Yh.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)},Do.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},Do.prototype.barycoordFromPoint=function(n,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,e)},Do.prototype.midpoint=function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)},Do.prototypenormal=function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)},Do.prototype.plane=function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)},Do.barycoordFromPoint=function(n,e,t,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Do.getBarycoord(n,e,t,r,i)},Do.normal=function(n,e,t,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Do.getNormal(n,e,t,r)},Xl.prototype.extractAllPoints=function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)},Xl.prototype.extrude=function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Hc(this,n)},Xl.prototype.makeGeometry=function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new f4(this,n)},Rt.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)},Rt.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)},Rt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Ce.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},Ce.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},Ce.prototype.getPositionFromMatrix=function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)},Ce.prototype.getScaleFromMatrix=function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)},Ce.prototype.getColumnFromMatrix=function(n,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,n)},Ce.prototype.applyProjection=function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)},Ce.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)},Ce.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)},Ce.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Si.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)},Si.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},hi.prototype.getChildByName=function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)},hi.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},hi.prototype.translate=function(n,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,n)},hi.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},hi.prototype.applyMatrix=function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)},Object.defineProperties(hi.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Hi.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(Hi.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),N_.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},$o.prototype.setLens=function(n,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(n)},Object.defineProperties(Zl.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}}),Object.defineProperties(Ci.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Yp},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Yp)}}}),Ci.prototype.setDynamic=function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===n?Yp:Up),this},Ci.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Ci.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},lr.prototype.addIndex=function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)},lr.prototype.addAttribute=function(n,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===n?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(n,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new Ci(arguments[1],arguments[2])))},lr.prototype.addDrawCall=function(n,e,t){void 0!==t&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,e)},lr.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},lr.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},lr.prototype.removeAttribute=function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)},lr.prototype.applyMatrix=function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)},Object.defineProperties(lr.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Mf.prototype.setDynamic=function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===n?Yp:Up),this},Mf.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Hc.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},Hc.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},Hc.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},n4.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},lb.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(is.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new wn}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(ml.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}}),vi.prototype.clearTarget=function(n,e,t,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(e,t,r)},vi.prototype.animate=function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)},vi.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},vi.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},vi.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},vi.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},vi.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},vi.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},vi.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},vi.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},vi.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},vi.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},vi.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},vi.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},vi.prototype.enableScissorTest=function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)},vi.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},vi.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},vi.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},vi.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},vi.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},vi.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},vi.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},vi.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},vi.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},vi.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(vi.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===n?Vh:ys}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(bI.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Wl.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}}),class extends hi{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return(new a4e).load(n,function(r){e.setBuffer(r)}),this},x_.prototype.updateCubeMap=function(n,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,e)},x_.prototype.clear=function(n,e,t,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(n,e,t,r)},nf.crossOrigin=void 0,nf.loadTexture=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const i=new E6;i.setCrossOrigin(this.crossOrigin);const o=i.load(n,t,void 0,r);return e&&(o.mapping=e),o},nf.loadTextureCube=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const i=new t4e;i.setCrossOrigin(this.crossOrigin);const o=i.load(n,t,void 0,r);return e&&(o.mapping=e),o},nf.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},nf.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"133"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="133");const F4e=class extends I3{constructor(e,t){super(e,t),this.lastHeight=300,this.lastWidth=300,this.sk=80,this.viewAngle=20,this.render=()=>{this.request=requestAnimationFrame(this.render),this.renderer.render(this.scene,this.camera),this.reSize(),this.renderOthers()},this.scene=new n4,this.sk=this.divWidth<=this.divHeight?this.divWidth/this.viewAngle:this.divHeight/this.viewAngle,this.camera=new Qp(-this.divWidth/this.sk,this.divWidth/this.sk,this.divHeight/this.sk,-this.divHeight/this.sk,-2e3,2e4),this.camera.position.set(0,20,0),this.camera.lookAt(0,0,0),this.renderer=new vi({alpha:!0,antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setClearColor(0,0),this.renderer.setSize(this.divWidth,this.divHeight),this.domdiv.appendChild(this.renderer.domElement),this.render()}renderOthers(){}reSize(){this.divHeight=this.domdiv.offsetHeight,this.divWidth=this.domdiv.offsetWidth,(this.divHeight!==this.lastHeight||this.divWidth!==this.lastWidth)&&(this.sk=this.divWidth<=this.divHeight?this.divWidth/this.viewAngle:this.divHeight/this.viewAngle,console.log("object :>> ",this.sk),this.camera.aspect=this.divWidth/this.divHeight,this.camera.left=this.divWidth/-this.sk,this.camera.right=this.divWidth/this.sk,this.camera.top=this.divHeight/this.sk,this.camera.bottom=this.divHeight/-this.sk,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.divWidth,this.divHeight),this.lastHeight=this.divHeight,this.lastWidth=this.divWidth)}},qR={type:"change"},db={type:"start"},fb={type:"end"};class pb extends Su{constructor(e,t){super(),void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Ce,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(lt){lt.addEventListener("keydown",Fn),this._domElementKeyEvents=lt},this.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(qR),r.update(),o=i.NONE},this.update=function(){const lt=new Ce,Dn=(new Wo).setFromUnitVectors(e.up,new Ce(0,1,0)),yi=Dn.clone().invert(),Dr=new Ce,Ai=new Wo,io=2*Math.PI;return function(){const ec=r.object.position;lt.copy(ec).sub(r.target),lt.applyQuaternion(Dn),a.setFromVector3(lt),r.autoRotate&&o===i.NONE&&He(2*Math.PI/60/60*r.autoRotateSpeed),r.enableDamping?(a.theta+=l.theta*r.dampingFactor,a.phi+=l.phi*r.dampingFactor):(a.theta+=l.theta,a.phi+=l.phi);let Xo=r.minAzimuthAngle,Ra=r.maxAzimuthAngle;return isFinite(Xo)&&isFinite(Ra)&&(Xo<-Math.PI?Xo+=io:Xo>Math.PI&&(Xo-=io),Ra<-Math.PI?Ra+=io:Ra>Math.PI&&(Ra-=io),a.theta=Xo<=Ra?Math.max(Xo,Math.min(Ra,a.theta)):a.theta>(Xo+Ra)/2?Math.max(Xo,a.theta):Math.min(Ra,a.theta)),a.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,a.phi)),a.makeSafe(),a.radius*=c,a.radius=Math.max(r.minDistance,Math.min(r.maxDistance,a.radius)),!0===r.enableDamping?r.target.addScaledVector(p,r.dampingFactor):r.target.add(p),lt.setFromSpherical(a),lt.applyQuaternion(yi),ec.copy(r.target).add(lt),r.object.lookAt(r.target),!0===r.enableDamping?(l.theta*=1-r.dampingFactor,l.phi*=1-r.dampingFactor,p.multiplyScalar(1-r.dampingFactor)):(l.set(0,0,0),p.set(0,0,0)),c=1,!!(_||Dr.distanceToSquared(r.object.position)>s||8*(1-Ai.dot(r.object.quaternion))>s)&&(r.dispatchEvent(qR),Dr.copy(r.object.position),Ai.copy(r.object.quaternion),_=!1,!0)}}(),this.dispose=function(){r.domElement.removeEventListener("contextmenu",hn),r.domElement.removeEventListener("pointerdown",un),r.domElement.removeEventListener("pointercancel",Mt),r.domElement.removeEventListener("wheel",Kn),r.domElement.removeEventListener("pointermove",Te),r.domElement.removeEventListener("pointerup",Se),null!==r._domElementKeyEvents&&r._domElementKeyEvents.removeEventListener("keydown",Fn)};const r=this,i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let o=i.NONE;const s=1e-6,a=new IR,l=new IR;let c=1;const p=new Ce;let _=!1;const S=new Rt,D=new Rt,k=new Rt,N=new Rt,B=new Rt,F=new Rt,I=new Rt,X=new Rt,$=new Rt,re=[],de={};function Me(){return Math.pow(.95,r.zoomSpeed)}function He(lt){l.theta-=lt}function Oe(lt){l.phi-=lt}const ve=function(){const lt=new Ce;return function(yi,Dr){lt.setFromMatrixColumn(Dr,0),lt.multiplyScalar(-yi),p.add(lt)}}(),st=function(){const lt=new Ce;return function(yi,Dr){!0===r.screenSpacePanning?lt.setFromMatrixColumn(Dr,1):(lt.setFromMatrixColumn(Dr,0),lt.crossVectors(r.object.up,lt)),lt.multiplyScalar(yi),p.add(lt)}}(),je=function(){const lt=new Ce;return function(yi,Dr){const Ai=r.domElement;if(r.object.isPerspectiveCamera){lt.copy(r.object.position).sub(r.target);let qs=lt.length();qs*=Math.tan(r.object.fov/2*Math.PI/180),ve(2*yi*qs/Ai.clientHeight,r.object.matrix),st(2*Dr*qs/Ai.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(ve(yi*(r.object.right-r.object.left)/r.object.zoom/Ai.clientWidth,r.object.matrix),st(Dr*(r.object.top-r.object.bottom)/r.object.zoom/Ai.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function ge(lt){r.object.isPerspectiveCamera?c/=lt:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*lt)),r.object.updateProjectionMatrix(),_=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function xe(lt){r.object.isPerspectiveCamera?c*=lt:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/lt)),r.object.updateProjectionMatrix(),_=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function he(lt){S.set(lt.clientX,lt.clientY)}function et(lt){N.set(lt.clientX,lt.clientY)}function Zt(){1===re.length?S.set(re[0].pageX,re[0].pageY):S.set(.5*(re[0].pageX+re[1].pageX),.5*(re[0].pageY+re[1].pageY))}function at(){1===re.length?N.set(re[0].pageX,re[0].pageY):N.set(.5*(re[0].pageX+re[1].pageX),.5*(re[0].pageY+re[1].pageY))}function qt(){const lt=re[0].pageX-re[1].pageX,Dn=re[0].pageY-re[1].pageY,yi=Math.sqrt(lt*lt+Dn*Dn);I.set(0,yi)}function ln(lt){if(1==re.length)D.set(lt.pageX,lt.pageY);else{const yi=Er(lt);D.set(.5*(lt.pageX+yi.x),.5*(lt.pageY+yi.y))}k.subVectors(D,S).multiplyScalar(r.rotateSpeed);const Dn=r.domElement;He(2*Math.PI*k.x/Dn.clientHeight),Oe(2*Math.PI*k.y/Dn.clientHeight),S.copy(D)}function or(lt){if(1===re.length)B.set(lt.pageX,lt.pageY);else{const Dn=Er(lt);B.set(.5*(lt.pageX+Dn.x),.5*(lt.pageY+Dn.y))}F.subVectors(B,N).multiplyScalar(r.panSpeed),je(F.x,F.y),N.copy(B)}function Lt(lt){const Dn=Er(lt),yi=lt.pageX-Dn.x,Dr=lt.pageY-Dn.y,Ai=Math.sqrt(yi*yi+Dr*Dr);X.set(0,Ai),$.set(0,Math.pow(X.y/I.y,r.zoomSpeed)),ge($.y),I.copy(X)}function un(lt){!1!==r.enabled&&(0===re.length&&(r.domElement.setPointerCapture(lt.pointerId),r.domElement.addEventListener("pointermove",Te),r.domElement.addEventListener("pointerup",Se)),function(lt){re.push(lt)}(lt),"touch"===lt.pointerType?function(lt){switch(En(lt),re.length){case 1:switch(r.touches.ONE){case 0:if(!1===r.enableRotate)return;Zt(),o=i.TOUCH_ROTATE;break;case 1:if(!1===r.enablePan)return;at(),o=i.TOUCH_PAN;break;default:o=i.NONE}break;case 2:switch(r.touches.TWO){case 2:if(!1===r.enableZoom&&!1===r.enablePan)return;r.enableZoom&&qt(),r.enablePan&&at(),o=i.TOUCH_DOLLY_PAN;break;case 3:if(!1===r.enableZoom&&!1===r.enableRotate)return;r.enableZoom&&qt(),r.enableRotate&&Zt(),o=i.TOUCH_DOLLY_ROTATE;break;default:o=i.NONE}break;default:o=i.NONE}o!==i.NONE&&r.dispatchEvent(db)}(lt):function(lt){let Dn;switch(lt.button){case 0:Dn=r.mouseButtons.LEFT;break;case 1:Dn=r.mouseButtons.MIDDLE;break;case 2:Dn=r.mouseButtons.RIGHT;break;default:Dn=-1}switch(Dn){case 1:if(!1===r.enableZoom)return;(function(lt){I.set(lt.clientX,lt.clientY)})(lt),o=i.DOLLY;break;case 0:if(lt.ctrlKey||lt.metaKey||lt.shiftKey){if(!1===r.enablePan)return;et(lt),o=i.PAN}else{if(!1===r.enableRotate)return;he(lt),o=i.ROTATE}break;case 2:if(lt.ctrlKey||lt.metaKey||lt.shiftKey){if(!1===r.enableRotate)return;he(lt),o=i.ROTATE}else{if(!1===r.enablePan)return;et(lt),o=i.PAN}break;default:o=i.NONE}o!==i.NONE&&r.dispatchEvent(db)}(lt))}function Te(lt){!1!==r.enabled&&("touch"===lt.pointerType?function(lt){switch(En(lt),o){case i.TOUCH_ROTATE:if(!1===r.enableRotate)return;ln(lt),r.update();break;case i.TOUCH_PAN:if(!1===r.enablePan)return;or(lt),r.update();break;case i.TOUCH_DOLLY_PAN:if(!1===r.enableZoom&&!1===r.enablePan)return;(function(lt){r.enableZoom&&Lt(lt),r.enablePan&&or(lt)})(lt),r.update();break;case i.TOUCH_DOLLY_ROTATE:if(!1===r.enableZoom&&!1===r.enableRotate)return;(function(lt){r.enableZoom&&Lt(lt),r.enableRotate&&ln(lt)})(lt),r.update();break;default:o=i.NONE}}(lt):function(lt){if(!1!==r.enabled)switch(o){case i.ROTATE:if(!1===r.enableRotate)return;!function(lt){D.set(lt.clientX,lt.clientY),k.subVectors(D,S).multiplyScalar(r.rotateSpeed);const Dn=r.domElement;He(2*Math.PI*k.x/Dn.clientHeight),Oe(2*Math.PI*k.y/Dn.clientHeight),S.copy(D),r.update()}(lt);break;case i.DOLLY:if(!1===r.enableZoom)return;!function(lt){X.set(lt.clientX,lt.clientY),$.subVectors(X,I),$.y>0?ge(Me()):$.y<0&&xe(Me()),I.copy(X),r.update()}(lt);break;case i.PAN:if(!1===r.enablePan)return;!function(lt){B.set(lt.clientX,lt.clientY),F.subVectors(B,N).multiplyScalar(r.panSpeed),je(F.x,F.y),N.copy(B),r.update()}(lt)}}(lt))}function Se(lt){!1!==r.enabled&&(r.dispatchEvent(fb),o=i.NONE,yn(lt),0===re.length&&(r.domElement.releasePointerCapture(lt.pointerId),r.domElement.removeEventListener("pointermove",Te),r.domElement.removeEventListener("pointerup",Se)))}function Mt(lt){yn(lt)}function Kn(lt){!1===r.enabled||!1===r.enableZoom||o!==i.NONE&&o!==i.ROTATE||(lt.preventDefault(),r.dispatchEvent(db),function(lt){lt.deltaY<0?xe(Me()):lt.deltaY>0&&ge(Me()),r.update()}(lt),r.dispatchEvent(fb))}function Fn(lt){!1===r.enabled||!1===r.enablePan||function(lt){let Dn=!1;switch(lt.code){case r.keys.UP:je(0,r.keyPanSpeed),Dn=!0;break;case r.keys.BOTTOM:je(0,-r.keyPanSpeed),Dn=!0;break;case r.keys.LEFT:je(r.keyPanSpeed,0),Dn=!0;break;case r.keys.RIGHT:je(-r.keyPanSpeed,0),Dn=!0}Dn&&(lt.preventDefault(),r.update())}(lt)}function hn(lt){!1!==r.enabled&&lt.preventDefault()}function yn(lt){delete de[lt.pointerId];for(let Dn=0;Dn<re.length;Dn++)if(re[Dn].pointerId==lt.pointerId)return void re.splice(Dn,1)}function En(lt){let Dn=de[lt.pointerId];void 0===Dn&&(Dn=new Rt,de[lt.pointerId]=Dn),Dn.set(lt.pageX,lt.pageY)}function Er(lt){return de[(lt.pointerId===re[0].pointerId?re[1]:re[0]).pointerId]}r.domElement.addEventListener("contextmenu",hn),r.domElement.addEventListener("pointerdown",un),r.domElement.addEventListener("pointercancel",Mt),r.domElement.addEventListener("wheel",Kn,{passive:!1}),this.update()}}class N4e extends F4e{constructor(e,t){super(e,t),this.colors=["#bbb","#9be9a8","#40c463","#30a14e","#216e39"],this.cubes=[],this.ini(),this.camera.position.set(40,30,40),this.camera.lookAt(0,0,0)}ini(){new pb(this.camera,this.renderer.domElement),this.scene.add(new v4("#999","#333")),this.scene.add(new Ff(6710886));const e=new Rf(16777215,.5);this.scene.add(e),e.position.set(1,1,-1),this.addBoxs()}addBox(e,t,r){const i=new ku(1,1,1),o=new nb({color:65280,transparent:!0}),s=new Hi(i,o);return this.scene.add(s),s.position.set(e,t,r),s}addBoxs(){for(let t=0;t<369;t++){let r=1.3*Math.floor(t/7),o=this.addBox(r+.5-(68.9-.3)/2,.5,t%7*1.3+.5-(9.1-.3)/2);this.cubes.push(o),t<3&&(o.material.opacity=0)}}updateData(e){for(let t=0;t<this.cubes.length;t++){let r=Math.round(40*Math.random()),i=Math.ceil(r/10);0==r&&(r=1),e<10*Math.random()&&(r=1,i=0),r*=.12,this.cubes[t].scale.set(1,r,1),this.cubes[t].position.y=r/2,this.cubes[t].material.color.set(this.colors[i])}}}const V4e=["container"];let H4e=(()=>{class n{constructor(){this.demoValue=5}ngOnInit(){}ngAfterViewInit(){this.scene=new N4e(this.container.nativeElement,{}),this.scene.updateData(this.demoValue)}onClick(){this.scene.updateData(this.demoValue)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tr({type:n,selectors:[["app-two"]],viewQuery:function(t,r){if(1&t&&mi(V4e,5),2&t){let i;gr(i=vr())&&(r.container=i.first)}},decls:9,vars:4,consts:[[2,"width","100%","height","100%"],["container",""],[1,"good"],[3,"ngModel","nzMin","nzMax","nzStep","ngModelChange"],["nz-button","","nzType","dashed",3,"click"]],template:function(t,r){1&t&&(Pt(0,"div",0,1),Pt(2,"div",2),Pt(3,"span"),uo(4,"\u52aa\u529b\u7cfb\u6570(0-10)\uff1a"),kt(),Pt(5,"nz-input-number",3),nr("ngModelChange",function(o){return r.demoValue=o}),kt(),Pt(6,"span"),Pt(7,"button",4),nr("click",function(){return r.onClick()}),uo(8,"\u786e\u5b9a"),kt(),kt(),kt(),kt()),2&t&&(an(5),Wt("ngModel",r.demoValue)("nzMin",0)("nzMax",10)("nzStep",1))},directives:[Uk,L1,zh,H9,u8,kp],styles:[".good[_ngcontent-%COMP%]{position:absolute;z-index:10}.good[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:10px}"]}),n})();var B4e=ee(574),mb=ee.n(B4e);function pa(n,e,t,r){return H(t)&&(r=t,t=void 0),r?pa(n,e,t).pipe(we(i=>M(i)?r(...i):r(i))):new Y(i=>{$R(n,e,function(s){i.next(arguments.length>1?Array.prototype.slice.call(arguments):s)},i,t)})}function $R(n,e,t,r,i){let o;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const s=n;n.addEventListener(e,t,i),o=()=>s.removeEventListener(e,t,i)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const s=n;n.on(e,t),o=()=>s.off(e,t)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const s=n;n.addListener(e,t),o=()=>s.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let s=0,a=n.length;s<a;s++)$R(n[s],e,t,r,i)}r.add(o)}function XR(...n){const e=n.length;if(0===e)throw new Error("list of properties cannot be empty.");return t=>we(function(n,e){return r=>{let i=r;for(let o=0;o<e;o++){const s=null!=i?i[n[o]]:void 0;if(void 0===s)return;i=s}return i}}(n,e))(t)}function jc(n,e){return t=>t.lift(new W4e(n,e))}class W4e{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new q4e(e,this.compare,this.keySelector))}}class q4e extends E{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:i}=this;t=i?i(e):e}catch(i){return this.destination.error(i)}let r=!1;if(this.hasKey)try{const{compare:i}=this;r=i(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}let ma=(()=>{class n{}return n.SLOW="0.3s",n.BASE="0.2s",n.FAST="0.1s",n})(),Fs=(()=>{class n{}return n.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)",n.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)",n.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)",n.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)",n.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)",n.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)",n.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)",n.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)",n.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)",n.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)",n.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)",n.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)",n.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)",n.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)",n})();const $4e=Yl("collapseMotion",[_u("expanded",kr({height:"*"})),_u("collapsed",kr({height:0,overflow:"hidden"})),_u("hidden",kr({height:0,overflow:"hidden",borderTopWidth:"0"})),vo("expanded => collapsed",to(`150ms ${Fs.EASE_IN_OUT}`)),vo("expanded => hidden",to(`150ms ${Fs.EASE_IN_OUT}`)),vo("collapsed => expanded",to(`150ms ${Fs.EASE_IN_OUT}`)),vo("hidden => expanded",to(`150ms ${Fs.EASE_IN_OUT}`))]),X4e=(Yl("treeCollapseMotion",[vo("* => *",[qk("nz-tree-node:leave,nz-tree-builtin-node:leave",[kr({overflow:"hidden"}),$k(0,[to(`150ms ${Fs.EASE_IN_OUT}`,kr({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),qk("nz-tree-node:enter,nz-tree-builtin-node:enter",[kr({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),$k(0,[to(`150ms ${Fs.EASE_IN_OUT}`,kr({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]),Yl("fadeMotion",[vo(":enter",[kr({opacity:0}),to(`${ma.BASE}`,kr({opacity:1}))]),vo(":leave",[kr({opacity:1}),to(`${ma.BASE}`,kr({opacity:0}))])]),Yl("helpMotion",[vo(":enter",[kr({opacity:0,transform:"translateY(-5px)"}),to(`${ma.SLOW} ${Fs.EASE_IN_OUT}`,kr({opacity:1,transform:"translateY(0)"}))]),vo(":leave",[kr({opacity:1,transform:"translateY(0)"}),to(`${ma.SLOW} ${Fs.EASE_IN_OUT}`,kr({opacity:0,transform:"translateY(-5px)"}))])]),Yl("moveUpMotion",[vo("* => enter",[kr({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),to(`${ma.BASE}`,kr({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),vo("* => leave",[kr({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),to(`${ma.BASE}`,kr({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])]),Yl("notificationMotion",[_u("enterRight",kr({opacity:1,transform:"translateX(0)"})),vo("* => enterRight",[kr({opacity:0,transform:"translateX(5%)"}),to("100ms linear")]),_u("enterLeft",kr({opacity:1,transform:"translateX(0)"})),vo("* => enterLeft",[kr({opacity:0,transform:"translateX(-5%)"}),to("100ms linear")]),_u("leave",kr({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),vo("* => leave",[kr({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),to("100ms linear")])]),`${ma.BASE} ${Fs.EASE_OUT_QUINT}`),K4e=`${ma.BASE} ${Fs.EASE_IN_QUINT}`,KR=Yl("slideMotion",[_u("void",kr({opacity:0,transform:"scaleY(0.8)"})),_u("enter",kr({opacity:1,transform:"scaleY(1)"})),vo("void => *",[to(X4e)]),vo("* => void",[to(K4e)])]),ZR=(Yl("slideAlertMotion",[vo(":leave",[kr({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),to(`${ma.SLOW} ${Fs.EASE_IN_OUT_CIRC}`,kr({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),Yl("zoomBigMotion",[vo("void => active",[kr({opacity:0,transform:"scale(0.8)"}),to(`${ma.BASE} ${Fs.EASE_OUT_CIRC}`,kr({opacity:1,transform:"scale(1)"}))]),vo("active => void",[kr({opacity:1,transform:"scale(1)"}),to(`${ma.BASE} ${Fs.EASE_IN_OUT_CIRC}`,kr({opacity:0,transform:"scale(0.8)"}))])])),Z4e=(Yl("zoomBadgeMotion",[vo(":enter",[kr({opacity:0,transform:"scale(0) translate(50%, -50%)"}),to(`${ma.SLOW} ${Fs.EASE_OUT_BACK}`,kr({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),vo(":leave",[kr({opacity:1,transform:"scale(1) translate(50%, -50%)"}),to(`${ma.SLOW} ${Fs.EASE_IN_BACK}`,kr({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])]),["pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"]),QR="nz-animate-disabled";let Uc=(()=>{class n{constructor(t,r,i){this.element=t,this.renderer=r,this.animationType=i,this.nzNoAnimation=!1}ngOnChanges(){this.updateClass()}ngAfterViewInit(){this.updateClass()}updateClass(){const t=Ph(this.element);!t||(this.nzNoAnimation||"NoopAnimations"===this.animationType?this.renderer.addClass(t,QR):this.renderer.removeClass(t,QR))}}return n.\u0275fac=function(t){return new(t||n)(Ae(jn),Ae(Ri),Ae(Ip,8))},n.\u0275dir=tn({type:n,selectors:[["","nzNoAnimation",""]],inputs:{nzNoAnimation:"nzNoAnimation"},exportAs:["nzNoAnimation"],features:[Tn]}),On([Jn(),kn("design:type",Boolean)],n.prototype,"nzNoAnimation",void 0),n})(),gb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({imports:[[ia]]}),n})();const JR=new class extends ul{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let r,i=-1,o=t.length;e=e||t.shift();do{if(r=e.execute(e.state,e.delay))break}while(++i<o&&(e=t.shift()));if(this.active=!1,r){for(;++i<o&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends Um{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});let t2e=1;const n2e=Promise.resolve(),R6={};function eF(n){return n in R6&&(delete R6[n],!0)}const tF={setImmediate(n){const e=t2e++;return R6[e]=!0,n2e.then(()=>eF(e)&&n()),e},clearImmediate(n){eF(n)}},nF=new class extends ul{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let r,i=-1,o=t.length;e=e||t.shift();do{if(r=e.execute(e.state,e.delay))break}while(++i<o&&(e=t.shift()));if(this.active=!1,r){for(;++i<o&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends Um{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=tF.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(tF.clearImmediate(t),e.scheduled=void 0)}});class s2e{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new a2e(e,this.durationSelector))}}class a2e extends $t{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:i}=this;t=i(e)}catch(i){return this.destination.error(i)}const r=Ct(t,new mt(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:e,hasValue:t,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function rF(n){return!M(n)&&n-parseFloat(n)+1>=0}function c2e(n){const{index:e,period:t,subscriber:r}=n;if(r.next(e),!r.closed){if(-1===t)return r.complete();n.index=e+1,this.schedule(n,t)}}function Jh(n,e=Ym){return function(n){return function(t){return t.lift(new s2e(n))}}(()=>function(n=0,e,t){let r=-1;return rF(e)?r=Number(e)<1?1:Number(e):_e(e)&&(t=e),_e(t)||(t=Ym),new Y(i=>{const o=rF(n)?n:+n-t.now();return t.schedule(c2e,o,{index:0,period:r,subscriber:i})})}(n,e))}new class extends ul{}(class extends Um{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!==r&&r>0||null===r&&this.delay>0?super.requestAsyncId(e,t,r):e.flush(this)}});class Gs{constructor(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}}accept(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)}toObservable(){switch(this.kind){case"N":return Xn(this.value);case"E":return function(n,e){return new Y(t=>t.error(n))}(this.error);case"C":return v3()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new Gs("N",e):Gs.undefinedValueNotification}static createError(e){return new Gs("E",void 0,e)}static createComplete(){return Gs.completeNotification}}Gs.completeNotification=new Gs("C"),Gs.undefinedValueNotification=new Gs("N",void 0);let N6=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new ye,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(Jh(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Xn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Qi(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=Ph(r),o=t.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>pa(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(Ke(yr),Ke(qi),Ke(rr,8))},n.\u0275prov=sn({factory:function(){return new n(Ke(yr),Ke(qi),Ke(rr,8))},token:n,providedIn:"root"}),n})(),Nf=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new ye,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Jh(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(Ke(qi),Ke(yr),Ke(rr,8))},n.\u0275prov=sn({factory:function(){return new n(Ke(qi),Ke(yr),Ke(rr,8))},token:n,providedIn:"root"}),n})(),vb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({}),n})(),lF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({imports:[[Aa,Bl,vb],Aa,vb]}),n})();class yb{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class F2e extends yb{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class V6 extends yb{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class N2e extends yb{constructor(e){super(),this.element=e instanceof jn?e.nativeElement:e}}class V2e extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof F2e?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof V6?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof N2e?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,r,i,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),r}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let H2e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({}),n})();class j2e{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new U2e(e,this.predicate,this.inclusive))}}class U2e extends E{constructor(e,t,r){super(e),this.predicate=t,this.inclusive=r,this.index=0}_next(e){const t=this.destination;let r;try{r=this.predicate(e,this.index++)}catch(i){return void t.error(i)}this.nextOrComplete(e,r)}nextOrComplete(e,t){const r=this.destination;Boolean(t)?r.next(e):(this.inclusive&&r.next(e),r.complete())}}const dF=$P();class Y2e{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=go(-this._previousScrollPosition.left),e.style.top=go(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),dF&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),dF&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class G2e{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class fF{enable(){}disable(){}attach(){}}function _b(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function pF(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class W2e{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();_b(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let q2e=(()=>{class n{constructor(t,r,i,o){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new fF,this.close=s=>new G2e(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new Y2e(this._viewportRuler,this._document),this.reposition=s=>new W2e(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(Ke(N6),Ke(Nf),Ke(yr),Ke(rr))},n.\u0275prov=sn({factory:function(){return new n(Ke(N6),Ke(Nf),Ke(yr),Ke(rr))},token:n,providedIn:"root"}),n})();class mF{constructor(e){if(this.scrollStrategy=new fF,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class ro{constructor(e,t,r,i,o){this.offsetX=r,this.offsetY=i,this.panelClass=o,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class $2e{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let gF=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(Ke(rr))},n.\u0275prov=sn({factory:function(){return new n(Ke(rr))},token:n,providedIn:"root"}),n})(),X2e=(()=>{class n extends gF{constructor(t){super(t),this._keydownListener=r=>{const i=this._attachedOverlays;for(let o=i.length-1;o>-1;o--)if(i[o]._keydownEvents.observers.length>0){i[o]._keydownEvents.next(r);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(Ke(rr))},n.\u0275prov=sn({factory:function(){return new n(Ke(rr))},token:n,providedIn:"root"}),n})(),K2e=(()=>{class n extends gF{constructor(t,r){super(t),this._platform=r,this._cursorStyleIsSet=!1,this._clickListener=i=>{const o=i.composedPath?i.composedPath()[0]:i.target,s=this._attachedOverlays.slice();for(let a=s.length-1;a>-1;a--){const l=s[a];if(!(l._outsidePointerEvents.observers.length<1)&&l.hasAttached()){if(l.overlayElement.contains(o))break;l._outsidePointerEvents.next(i)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(Ke(rr),Ke(qi))},n.\u0275prov=sn({factory:function(){return new n(Ke(rr),Ke(qi))},token:n,providedIn:"root"}),n})();const vF=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let bb=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||vF){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].parentNode.removeChild(i[o])}const r=this._document.createElement("div");r.classList.add(t),vF?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(Ke(rr),Ke(qi))},n.\u0275prov=sn({factory:function(){return new n(Ke(rr),Ke(qi))},token:n,providedIn:"root"}),n})();class Z2e{constructor(e,t,r,i,o,s,a,l,c){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new ye,this._attachments=new ye,this._detachments=new ye,this._locationChanges=h.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._keydownEvents=new ye,this._outsidePointerEvents=new ye,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(vh(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=go(this._config.width),e.height=go(this._config.height),e.minWidth=go(this._config.minWidth),e.minHeight=go(this._config.minHeight),e.maxWidth=go(this._config.maxWidth),e.maxHeight=go(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(!e)return;let t,r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const i=e.classList;RP(t).forEach(o=>{o&&(r?i.add(o):i.remove(o))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(wr(Gt(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}}const yF="cdk-overlay-connected-position-bounding-box",Q2e=/([A-Za-z%]+)$/;class _F{constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ye,this._resizeSubscription=h.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(yF),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=[];let o;for(let s of this._preferredPositions){let a=this._getOriginPoint(e,s),l=this._getOverlayPoint(a,t,s),c=this._getOverlayFit(l,t,r,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,a);this._canFitWithFlexibleDimensions(c,l,r)?i.push({position:s,origin:a,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(a,s)}):(!o||o.overlayFit.visibleArea<c.visibleArea)&&(o={overlayFit:c,overlayPoint:l,originPoint:a,position:s,overlayRect:t})}if(i.length){let s=null,a=-1;for(const l of i){const c=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);c>a&&(a=c,s=l)}return this._isPushed=!1,void this._applyPosition(s.position,s.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ed(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(yF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let r,i;if("center"==t.originX)r=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,s=this._isRtl()?e.left:e.right;r="start"==t.originX?o:s}return i="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:r,y:i}}_getOverlayPoint(e,t,r){let i,o;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){const o=wF(t);let{x:s,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(s+=l),c&&(a+=c);let S=0-a,D=a+o.height-r.height,k=this._subtractOverflows(o.width,0-s,s+o.width-r.width),N=this._subtractOverflows(o.height,S,D),B=k*N;return{visibleArea:B,isCompletelyWithinViewport:o.width*o.height===B,fitsInViewportVertically:N===o.height,fitsInViewportHorizontally:k==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,o=r.right-t.x,s=bF(this._overlayRef.getConfig().minHeight),a=bF(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=o;return(e.fitsInViewportVertically||null!=s&&s<=i)&&c}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=wF(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),l=Math.max(o.top-r.top-e.y,0),c=Math.max(o.left-r.left-e.x,0);let p=0,_=0;return p=i.width<=o.width?c||-s:e.x<this._viewportMargin?o.left-r.left-e.x:0,_=i.height<=o.height?l||-a:e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:p,y:_},{x:e.x+p,y:e.y+_}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new $2e(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let o,s,a,p,_,S;if("top"===t.overlayY)s=e.y,o=r.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,o=r.height-a+this._viewportMargin;else{const D=Math.min(r.bottom-e.y+r.top,e.y),k=this._lastBoundingBoxSize.height;o=2*D,s=e.y-D,o>k&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-k/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)S=r.width-e.x+this._viewportMargin,p=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)_=e.x,p=r.right-e.x;else{const D=Math.min(r.right-e.x+r.left,e.x),k=this._lastBoundingBoxSize.width;p=2*D,_=e.x-D,p>k&&!this._isInitialRender&&!this._growAfterOpen&&(_=e.x-k/2)}return{top:s,left:_,bottom:a,right:S,width:p,height:o}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=go(r.height),i.top=go(r.top),i.bottom=go(r.bottom),i.width=go(r.width),i.left=go(r.left),i.right=go(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=go(o)),s&&(i.maxWidth=go(s))}this._lastBoundingBoxSize=r,ed(this._boundingBox.style,i)}_resetBoundingBoxStyles(){ed(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ed(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const p=this._viewportRuler.getViewportScrollPosition();ed(r,this._getExactOverlayY(t,e,p)),ed(r,this._getExactOverlayX(t,e,p))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=go(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=go(s.maxWidth):o&&(r.maxWidth="")),ed(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return o.y-=s,"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=go(o.y),i}_getExactOverlayX(e,t,r){let s,i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=go(o.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:pF(e,r),isOriginOutsideView:_b(e,r),isOverlayClipped:pF(t,r),isOverlayOutsideView:_b(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&RP(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof jn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function ed(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function bF(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Q2e);return t&&"px"!==t?null:parseFloat(e)}return n||null}function wF(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class J2e{constructor(e,t,r,i,o,s,a){this._preferredPositions=[],this._positionStrategy=new _F(r,i,o,s,a).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,r,i){const o=new ro(e,t,r,i);return this._preferredPositions.push(o),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}const xF="cdk-global-overlay-wrapper";class e3e{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(xF),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=l?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,l?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(xF),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let t3e=(()=>{class n{constructor(t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new e3e}connectedTo(t,r,i){return new J2e(r,i,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new _F(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(Ke(Nf),Ke(rr),Ke(qi),Ke(bb))},n.\u0275prov=sn({factory:function(){return new n(Ke(Nf),Ke(rr),Ke(qi),Ke(bb))},token:n,providedIn:"root"}),n})(),n3e=0,H6=(()=>{class n{constructor(t,r,i,o,s,a,l,c,p,_,S){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=p,this._location=_,this._outsideClickDispatcher=S}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),s=new mF(t);return s.direction=s.direction||this._directionality.value,new Z2e(o,r,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+n3e++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(hh)),new V2e(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(Ke(q2e),Ke(bb),Ke(Qa),Ke(t3e),Ke(X2e),Ke(ui),Ke(yr),Ke(rr),Ke(eo),Ke(W0),Ke(K2e))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})();const r3e=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],MF=new Nn("cdk-connected-overlay-scroll-strategy");let SF=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(Ae(jn))},n.\u0275dir=tn({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),wb=(()=>{class n{constructor(t,r,i,o,s){this._overlay=t,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=h.EMPTY,this._attachSubscription=h.EMPTY,this._detachSubscription=h.EMPTY,this._positionSubscription=h.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new Hn,this.positionChange=new Hn,this.attach=new Hn,this.detach=new Hn,this.overlayKeydown=new Hn,this.overlayOutsideClick=new Hn,this._templatePortal=new V6(r,i),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Sc(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Sc(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Sc(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Sc(t)}get push(){return this._push}set push(t){this._push=Sc(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=r3e);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!_m(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new mF({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){const r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(n,e=!1){return t=>t.lift(new j2e(n,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(Ae(H6),Ae(ho),Ae(xo),Ae(MF),Ae(eo,8))},n.\u0275dir=tn({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Tn]}),n})();const o3e={provide:MF,deps:[H6],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let xb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({providers:[H6,o3e],imports:[[Aa,H2e,lF],lF]}),n})(),s3e=(()=>{class n{constructor(t){this.cdkConnectedOverlay=t,this.cdkConnectedOverlay.backdropClass="nz-overlay-transparent-backdrop"}}return n.\u0275fac=function(t){return new(t||n)(Ae(wb))},n.\u0275dir=tn({type:n,selectors:[["","cdkConnectedOverlay","","nzConnectedOverlay",""]],exportAs:["nzConnectedOverlay"]}),n})(),CF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({}),n})();const zi={top:new ro({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topCenter:new ro({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topLeft:new ro({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),topRight:new ro({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"}),right:new ro({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),rightTop:new ro({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}),rightBottom:new ro({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),bottom:new ro({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomCenter:new ro({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomLeft:new ro({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),bottomRight:new ro({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),left:new ro({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),leftTop:new ro({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}),leftBottom:new ro({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})},TF=[zi.top,zi.right,zi.bottom,zi.left];function EF(n){for(const e in zi)if(n.connectionPair.originX===zi[e].originX&&n.connectionPair.originY===zi[e].originY&&n.connectionPair.overlayX===zi[e].overlayX&&n.connectionPair.overlayY===zi[e].overlayY)return e}new ro({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new ro({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"}),new ro({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"top"});let Bu=(()=>{class n{constructor(t,r){this.viewContainer=t,this.templateRef=r,this.embeddedViewRef=null,this.context=new a3e,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}static ngTemplateContextGuard(t,r){return!0}recreateView(){this.viewContainer.clear();const t=this.nzStringTemplateOutlet instanceof ho;this.embeddedViewRef=this.viewContainer.createEmbeddedView(t?this.nzStringTemplateOutlet:this.templateRef,t?this.nzStringTemplateOutletContext:this.context)}updateContext(){const r=this.nzStringTemplateOutlet instanceof ho?this.nzStringTemplateOutletContext:this.context,i=this.embeddedViewRef.context;if(r)for(const o of Object.keys(r))i[o]=r[o]}ngOnChanges(t){const{nzStringTemplateOutletContext:r,nzStringTemplateOutlet:i}=t;i&&(this.context.$implicit=i.currentValue),(()=>{let a=!1;if(i)if(i.firstChange)a=!0;else{const _=i.currentValue instanceof ho;a=i.previousValue instanceof ho||_}return r&&(p=>{const _=Object.keys(p.previousValue||{}),S=Object.keys(p.currentValue||{});if(_.length===S.length){for(const D of S)if(-1===_.indexOf(D))return!0;return!1}return!0})(r)||a})()?this.recreateView():this.updateContext()}}return n.\u0275fac=function(t){return new(t||n)(Ae(xo),Ae(ho))},n.\u0275dir=tn({type:n,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],features:[Tn]}),n})();class a3e{}let _4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({imports:[[ia]]}),n})();const l3e=["overlay"];function c3e(n,e){if(1&n&&(zs(0),uo(1),As()),2&n){const t=Qn(2);an(1),mc(t.nzTitle)}}function u3e(n,e){if(1&n&&(Pt(0,"div",2),Pt(1,"div",3),Pt(2,"div",4),Vn(3,"span",5),kt(),Pt(4,"div",6),Rn(5,c3e,2,1,"ng-container",7),kt(),kt(),kt()),2&n){const t=Qn();Hr("ant-tooltip-rtl","rtl"===t.dir),Wt("ngClass",t._classMap)("ngStyle",t.nzOverlayStyle)("@.disabled",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),an(3),Wt("ngStyle",t._contentStyleMap),an(1),Wt("ngStyle",t._contentStyleMap),an(1),Wt("nzStringTemplateOutlet",t.nzTitle)}}let h3e=(()=>{class n{constructor(t,r,i,o,s,a){this.elementRef=t,this.hostView=r,this.resolver=i,this.renderer=o,this.noAnimation=s,this.nzConfigService=a,this.visibleChange=new Hn,this.internalVisible=!1,this.destroy$=new ye,this.triggerDisposables=[]}get _title(){return this.title||this.directiveTitle||null}get _content(){return this.content||this.directiveContent||null}get _trigger(){return void 0!==this.trigger?this.trigger:"hover"}get _placement(){const t=this.placement;return Array.isArray(t)&&t.length>0?t:"string"==typeof t&&t?[t]:["top"]}get _visible(){return(void 0!==this.visible?this.visible:this.internalVisible)||!1}get _mouseEnterDelay(){return this.mouseEnterDelay||.15}get _mouseLeaveDelay(){return this.mouseLeaveDelay||.1}get _overlayClassName(){return this.overlayClassName||null}get _overlayStyle(){return this.overlayStyle||null}getProxyPropertyMap(){return{noAnimation:["noAnimation",()=>this.noAnimation]}}ngOnChanges(t){const{trigger:r}=t;r&&!r.isFirstChange()&&this.registerTriggers(),this.component&&this.updatePropertiesByChanges(t)}ngAfterViewInit(){this.createComponent(),this.registerTriggers()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.clearTogglingTimer(),this.removeTriggerListeners()}show(){var t;null===(t=this.component)||void 0===t||t.show()}hide(){var t;null===(t=this.component)||void 0===t||t.hide()}updatePosition(){this.component&&this.component.updatePosition()}createComponent(){const t=this.hostView.createComponent(this.componentFactory);this.component=t.instance,this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),t.location.nativeElement),this.component.setOverlayOrigin({elementRef:this.origin||this.elementRef}),this.initProperties(),this.component.nzVisibleChange.pipe(jc(),wr(this.destroy$)).subscribe(r=>{this.internalVisible=r,this.visibleChange.emit(r)})}registerTriggers(){const t=this.elementRef.nativeElement,r=this.trigger;if(this.removeTriggerListeners(),"hover"===r){let i;this.triggerDisposables.push(this.renderer.listen(t,"mouseenter",()=>{this.delayEnterLeave(!0,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(t,"mouseleave",()=>{var o;this.delayEnterLeave(!0,!1,this._mouseLeaveDelay),(null===(o=this.component)||void 0===o?void 0:o.overlay.overlayRef)&&!i&&(i=this.component.overlay.overlayRef.overlayElement,this.triggerDisposables.push(this.renderer.listen(i,"mouseenter",()=>{this.delayEnterLeave(!1,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(i,"mouseleave",()=>{this.delayEnterLeave(!1,!1,this._mouseLeaveDelay)})))}))}else"focus"===r?(this.triggerDisposables.push(this.renderer.listen(t,"focus",()=>this.show())),this.triggerDisposables.push(this.renderer.listen(t,"blur",()=>this.hide()))):"click"===r&&this.triggerDisposables.push(this.renderer.listen(t,"click",i=>{i.preventDefault(),this.show()}))}updatePropertiesByChanges(t){this.updatePropertiesByKeys(Object.keys(t))}updatePropertiesByKeys(t){var r;const i=Object.assign({title:["nzTitle",()=>this._title],directiveTitle:["nzTitle",()=>this._title],content:["nzContent",()=>this._content],directiveContent:["nzContent",()=>this._content],trigger:["nzTrigger",()=>this._trigger],placement:["nzPlacement",()=>this._placement],visible:["nzVisible",()=>this._visible],mouseEnterDelay:["nzMouseEnterDelay",()=>this._mouseEnterDelay],mouseLeaveDelay:["nzMouseLeaveDelay",()=>this._mouseLeaveDelay],overlayClassName:["nzOverlayClassName",()=>this._overlayClassName],overlayStyle:["nzOverlayStyle",()=>this._overlayStyle]},this.getProxyPropertyMap());(t||Object.keys(i).filter(o=>!o.startsWith("directive"))).forEach(o=>{if(i[o]){const[s,a]=i[o];this.updateComponentValue(s,a())}}),null===(r=this.component)||void 0===r||r.updateByDirective()}initProperties(){this.updatePropertiesByKeys()}updateComponentValue(t,r){void 0!==r&&(this.component[t]=r)}delayEnterLeave(t,r,i=-1){this.delayTimer?this.clearTogglingTimer():i>0?this.delayTimer=setTimeout(()=>{this.delayTimer=void 0,r?this.show():this.hide()},1e3*i):r&&t?this.show():this.hide()}removeTriggerListeners(){this.triggerDisposables.forEach(t=>t()),this.triggerDisposables.length=0}clearTogglingTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=void 0)}}return n.\u0275fac=function(t){return new(t||n)(Ae(jn),Ae(xo),Ae(Qa),Ae(Ri),Ae(Uc),Ae(R1))},n.\u0275dir=tn({type:n,features:[Tn]}),n})(),d3e=(()=>{class n{constructor(t,r,i){this.cdr=t,this.directionality=r,this.noAnimation=i,this.nzTitle=null,this.nzContent=null,this.nzOverlayStyle={},this.nzBackdrop=!1,this.nzVisibleChange=new ye,this._visible=!1,this._trigger="hover",this.preferredPlacement="top",this.dir="ltr",this._classMap={},this._prefix="ant-tooltip",this._positions=[...TF],this.destroy$=new ye}set nzVisible(t){const r=BP(t);this._visible!==r&&(this._visible=r,this.nzVisibleChange.next(r))}get nzVisible(){return this._visible}set nzTrigger(t){this._trigger=t}get nzTrigger(){return this._trigger}set nzPlacement(t){const r=t.map(i=>zi[i]);this._positions=[...r,...TF]}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe(wr(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.nzVisibleChange.complete(),this.destroy$.next(),this.destroy$.complete()}show(){this.nzVisible||(this.isEmpty()||(this.nzVisible=!0,this.nzVisibleChange.next(!0),this.cdr.detectChanges()),this.origin&&this.overlay&&this.overlay.overlayRef&&"rtl"===this.overlay.overlayRef.getDirection()&&this.overlay.overlayRef.setDirection("ltr"))}hide(){!this.nzVisible||(this.nzVisible=!1,this.nzVisibleChange.next(!1),this.cdr.detectChanges())}updateByDirective(){this.updateStyles(),this.cdr.detectChanges(),Promise.resolve().then(()=>{this.updatePosition(),this.updateVisibilityByTitle()})}updatePosition(){this.origin&&this.overlay&&this.overlay.overlayRef&&this.overlay.overlayRef.updatePosition()}onPositionChange(t){this.preferredPlacement=EF(t),this.updateStyles(),this.cdr.detectChanges()}updateStyles(){this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0}}setOverlayOrigin(t){this.origin=t,this.cdr.markForCheck()}onClickOutside(t){!this.origin.elementRef.nativeElement.contains(t.target)&&null!==this.nzTrigger&&this.hide()}updateVisibilityByTitle(){this.isEmpty()&&this.hide()}}return n.\u0275fac=function(t){return new(t||n)(Ae(wo),Ae(eo,8),Ae(Uc))},n.\u0275dir=tn({type:n,viewQuery:function(t,r){if(1&t&&mi(l3e,5),2&t){let i;gr(i=vr())&&(r.overlay=i.first)}}}),n})(),DF=(()=>{class n extends h3e{constructor(t,r,i,o,s){super(t,r,i,o,s),this.trigger="hover",this.placement="top",this.visibleChange=new Hn,this.componentFactory=this.resolver.resolveComponentFactory(p3e)}getProxyPropertyMap(){return{nzTooltipColor:["nzColor",()=>this.nzTooltipColor]}}}return n.\u0275fac=function(t){return new(t||n)(Ae(jn),Ae(xo),Ae(Qa),Ae(Ri),Ae(Uc,9))},n.\u0275dir=tn({type:n,selectors:[["","nz-tooltip",""]],hostVars:2,hostBindings:function(t,r){2&t&&Hr("ant-tooltip-open",r.visible)},inputs:{trigger:["nzTooltipTrigger","trigger"],placement:["nzTooltipPlacement","placement"],title:["nzTooltipTitle","title"],directiveTitle:["nz-tooltip","directiveTitle"],origin:["nzTooltipOrigin","origin"],visible:["nzTooltipVisible","visible"],mouseEnterDelay:["nzTooltipMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:["nzTooltipMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:["nzTooltipOverlayClassName","overlayClassName"],overlayStyle:["nzTooltipOverlayStyle","overlayStyle"],nzTooltipColor:"nzTooltipColor"},outputs:{visibleChange:"nzTooltipVisibleChange"},exportAs:["nzTooltip"],features:[ni]}),n})(),p3e=(()=>{class n extends d3e{constructor(t,r,i){super(t,r,i),this.noAnimation=i,this.nzTitle=null,this._contentStyleMap={}}isEmpty(){return function(n){return!(n instanceof ho||""!==n&&km(n))}(this.nzTitle)}updateStyles(){const t=this.nzColor&&function(n){return-1!==Z4e.indexOf(n)}(this.nzColor);this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0,[`${this._prefix}-${this.nzColor}`]:t},this._contentStyleMap={backgroundColor:this.nzColor&&!t?this.nzColor:null}}}return n.\u0275fac=function(t){return new(t||n)(Ae(wo),Ae(eo,8),Ae(Uc,9))},n.\u0275cmp=tr({type:n,selectors:[["nz-tooltip"]],exportAs:["nzTooltipComponent"],features:[ni],decls:2,vars:4,consts:[["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayPush","overlayOutsideClick","detach","positionChange"],["overlay","cdkConnectedOverlay"],[1,"ant-tooltip",3,"ngClass","ngStyle","nzNoAnimation"],[1,"ant-tooltip-content"],[1,"ant-tooltip-arrow"],[1,"ant-tooltip-arrow-content",3,"ngStyle"],[1,"ant-tooltip-inner",3,"ngStyle"],[4,"nzStringTemplateOutlet"]],template:function(t,r){1&t&&(Rn(0,u3e,6,10,"ng-template",0,1,Ll),nr("overlayOutsideClick",function(o){return r.onClickOutside(o)})("detach",function(){return r.hide()})("positionChange",function(o){return r.onPositionChange(o)})),2&t&&Wt("cdkConnectedOverlayOrigin",r.origin)("cdkConnectedOverlayOpen",r._visible)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayPush",!0)},directives:[wb,s3e,c3,lu,Uc,Bu],encapsulation:2,data:{animation:[ZR]},changeDetection:0}),n})(),m3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({imports:[[Aa,ia,xb,_4,CF,gb]]}),n})();const g3e=["handle"],v3e=["slider"];function y3e(n,e){if(1&n&&Vn(0,"nz-slider-step",6),2&n){const t=Qn();Wt("vertical",t.nzVertical)("min",t.nzMin)("max",t.nzMax)("lowerBound",t.bounds.lower)("upperBound",t.bounds.upper)("marksArray",t.marksArray)("included",t.nzIncluded)("reverse",t.nzReverse)}}function _3e(n,e){if(1&n&&Vn(0,"nz-slider-handle",7),2&n){const t=e.$implicit,r=Qn();Wt("vertical",r.nzVertical)("reverse",r.nzReverse)("offset",t.offset)("value",t.value)("active",t.active)("tooltipFormatter",r.nzTipFormatter)("tooltipVisible",r.nzTooltipVisible)("tooltipPlacement",r.nzTooltipPlacement)("dir",r.dir)}}function b3e(n,e){if(1&n&&Vn(0,"nz-slider-marks",6),2&n){const t=Qn();Wt("vertical",t.nzVertical)("min",t.nzMin)("max",t.nzMax)("lowerBound",t.bounds.lower)("upperBound",t.bounds.upper)("marksArray",t.marksArray)("included",t.nzIncluded)("reverse",t.nzReverse)}}function w3e(n,e){if(1&n&&Vn(0,"span",2),2&n){const t=e.$implicit;Hr("ant-slider-mark-active",t.active),Wt("ngStyle",t.style)("innerHTML",t.label,Lw)}}function x3e(n,e){if(1&n&&Vn(0,"span",2),2&n){const t=e.$implicit;Hr("ant-slider-dot-active",t.active),Wt("ngStyle",t.style)}}let Mb=(()=>{class n{constructor(){this.isDragging=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})(),zF=(()=>{class n{constructor(t,r){this.sliderService=t,this.cdr=r,this.tooltipVisible="default",this.active=!1,this.dir="ltr",this.style={},this.enterHandle=()=>{this.sliderService.isDragging||(this.toggleTooltip(!0),this.updateTooltipPosition(),this.cdr.detectChanges())},this.leaveHandle=()=>{this.sliderService.isDragging||(this.toggleTooltip(!1),this.cdr.detectChanges())}}ngOnChanges(t){const{offset:r,value:i,active:o,tooltipVisible:s,reverse:a,dir:l}=t;(r||a||l)&&this.updateStyle(),i&&(this.updateTooltipTitle(),this.updateTooltipPosition()),o&&this.toggleTooltip(!!o.currentValue),"always"===(null==s?void 0:s.currentValue)&&Promise.resolve().then(()=>this.toggleTooltip(!0,!0))}focus(){var t;null===(t=this.handleEl)||void 0===t||t.nativeElement.focus()}toggleTooltip(t,r=!1){var i,o;!r&&("default"!==this.tooltipVisible||!this.tooltip)||(t?null===(i=this.tooltip)||void 0===i||i.show():null===(o=this.tooltip)||void 0===o||o.hide())}updateTooltipTitle(){this.tooltipTitle=this.tooltipFormatter?this.tooltipFormatter(this.value):`${this.value}`}updateTooltipPosition(){this.tooltip&&Promise.resolve().then(()=>{var t;return null===(t=this.tooltip)||void 0===t?void 0:t.updatePosition()})}updateStyle(){const r=this.reverse,o=this.vertical?{[r?"top":"bottom"]:`${this.offset}%`,[r?"bottom":"top"]:"auto",transform:r?null:"translateY(+50%)"}:Object.assign(Object.assign({},this.getHorizontalStylePosition()),{transform:`translateX(${r?"rtl"===this.dir?"-":"+":"rtl"===this.dir?"+":"-"}50%)`});this.style=o,this.cdr.markForCheck()}getHorizontalStylePosition(){let t=this.reverse?"auto":`${this.offset}%`,r=this.reverse?`${this.offset}%`:"auto";if("rtl"===this.dir){const i=t;t=r,r=i}return{left:t,right:r}}}return n.\u0275fac=function(t){return new(t||n)(Ae(Mb),Ae(wo))},n.\u0275cmp=tr({type:n,selectors:[["nz-slider-handle"]],viewQuery:function(t,r){if(1&t&&(mi(g3e,5),mi(DF,5)),2&t){let i;gr(i=vr())&&(r.handleEl=i.first),gr(i=vr())&&(r.tooltip=i.first)}},hostBindings:function(t,r){1&t&&nr("mouseenter",function(){return r.enterHandle()})("mouseleave",function(){return r.leaveHandle()})},inputs:{tooltipVisible:"tooltipVisible",active:"active",dir:"dir",vertical:"vertical",reverse:"reverse",offset:"offset",value:"value",tooltipPlacement:"tooltipPlacement",tooltipFormatter:"tooltipFormatter"},exportAs:["nzSliderHandle"],features:[Tn],decls:2,vars:4,consts:[["tabindex","0","nz-tooltip","",1,"ant-slider-handle",3,"ngStyle","nzTooltipTitle","nzTooltipTrigger","nzTooltipPlacement"],["handle",""]],template:function(t,r){1&t&&Vn(0,"div",0,1),2&t&&Wt("ngStyle",r.style)("nzTooltipTitle",null===r.tooltipFormatter||"never"===r.tooltipVisible?null:r.tooltipTitle)("nzTooltipTrigger",null)("nzTooltipPlacement",r.tooltipPlacement)},directives:[DF,lu],encapsulation:2,changeDetection:0}),On([Jn(),kn("design:type",Object)],n.prototype,"active",void 0),n})(),AF=(()=>{class n{constructor(t,r,i,o){this.sliderService=t,this.cdr=r,this.platform=i,this.directionality=o,this.nzDisabled=!1,this.nzDots=!1,this.nzIncluded=!0,this.nzRange=!1,this.nzVertical=!1,this.nzReverse=!1,this.nzMarks=null,this.nzMax=100,this.nzMin=0,this.nzStep=1,this.nzTooltipVisible="default",this.nzTooltipPlacement="top",this.nzOnAfterChange=new Hn,this.value=null,this.cacheSliderStart=null,this.cacheSliderLength=null,this.activeValueIndex=void 0,this.track={offset:null,length:null},this.handles=[],this.marksArray=null,this.bounds={lower:null,upper:null},this.dir="ltr",this.destroy$=new ye}ngOnInit(){var t;this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(wr(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges(),this.updateTrackAndHandles(),this.onValueChange(this.getValue(!0))}),this.handles=function(n){return Array(n).fill(0).map(()=>({offset:null,value:null,active:!1}))}(this.nzRange?2:1),this.marksArray=this.nzMarks?this.generateMarkItems(this.nzMarks):null,this.bindDraggingHandlers(),this.toggleDragDisabled(this.nzDisabled),null===this.getValue()&&this.setValue(this.formatValue(null))}ngOnChanges(t){const{nzDisabled:r,nzMarks:i,nzRange:o}=t;r&&!r.firstChange?this.toggleDragDisabled(r.currentValue):i&&!i.firstChange?this.marksArray=this.nzMarks?this.generateMarkItems(this.nzMarks):null:o&&!o.firstChange&&this.setValue(this.formatValue(null))}ngOnDestroy(){this.unsubscribeDrag(),this.destroy$.next(),this.destroy$.complete()}writeValue(t){this.setValue(t,!0)}onValueChange(t){}onTouched(){}registerOnChange(t){this.onValueChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.nzDisabled=t,this.toggleDragDisabled(t)}onKeyDown(t){const r=t.keyCode,o=37===r||40===r;if(39!==r&&38!==r&&!o)return;t.preventDefault();let s=(o?-this.nzStep:this.nzStep)*(this.nzReverse?-1:1);s="rtl"===this.dir?-1*s:s,this.setActiveValue(Lm(this.nzRange?this.value[this.activeValueIndex]+s:this.value+s,this.nzMin,this.nzMax))}setValue(t,r=!1){r?(this.value=this.formatValue(t),this.updateTrackAndHandles()):function(n,e){return typeof n==typeof e&&(Ws(n)&&Ws(e)?function(n,e){if(!n||!e||n.length!==e.length)return!1;const t=n.length;for(let r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}(n,e):n===e)}(this.value,t)||(this.value=t,this.updateTrackAndHandles(),this.onValueChange(this.getValue(!0)))}getValue(t=!1){return t&&this.value&&Ws(this.value)?[...this.value].sort((r,i)=>r-i):this.value}getValueToOffset(t){let r=t;return void 0===r&&(r=this.getValue(!0)),Ws(r)?r.map(i=>this.valueToOffset(i)):this.valueToOffset(r)}setActiveValueIndex(t){const r=this.getValue();if(Ws(r)){let o,i=null,s=-1;r.forEach((a,l)=>{o=Math.abs(t-a),(null===i||o<i)&&(i=o,s=l)}),this.activeValueIndex=s,this.handlerComponents.toArray()[s].focus()}else this.handlerComponents.toArray()[0].focus()}setActiveValue(t){if(Ws(this.value)){const r=[...this.value];r[this.activeValueIndex]=t,this.setValue(r)}else this.setValue(t)}updateTrackAndHandles(){const t=this.getValue(),r=this.getValueToOffset(t),i=this.getValue(!0),o=this.getValueToOffset(i),s=Ws(i)?i:[0,i],a=Ws(o)?[o[0],o[1]-o[0]]:[0,o];this.handles.forEach((l,c)=>{l.offset=Ws(r)?r[c]:r,l.value=Ws(t)?t[c]:t||0}),[this.bounds.lower,this.bounds.upper]=s,[this.track.offset,this.track.length]=a,this.cdr.markForCheck()}onDragStart(t){this.toggleDragMoving(!0),this.cacheSliderProperty(),this.setActiveValueIndex(this.getLogicalValue(t)),this.setActiveValue(this.getLogicalValue(t)),this.showHandleTooltip(this.nzRange?this.activeValueIndex:0)}onDragMove(t){this.setActiveValue(this.getLogicalValue(t)),this.cdr.markForCheck()}getLogicalValue(t){return this.nzReverse?this.nzVertical||"rtl"!==this.dir?this.nzMax-t+this.nzMin:t:this.nzVertical||"rtl"!==this.dir?t:this.nzMax-t+this.nzMin}onDragEnd(){this.nzOnAfterChange.emit(this.getValue(!0)),this.toggleDragMoving(!1),this.cacheSliderProperty(!0),this.hideAllHandleTooltip(),this.cdr.markForCheck()}bindDraggingHandlers(){if(!this.platform.isBrowser)return;const t=this.slider.nativeElement,r=this.nzVertical?"pageY":"pageX",i={start:"mousedown",move:"mousemove",end:"mouseup",pluckKey:[r]},o={start:"touchstart",move:"touchmove",end:"touchend",pluckKey:["touches","0",r],filter:s=>s instanceof TouchEvent};[i,o].forEach(s=>{const{start:a,move:l,end:c,pluckKey:p,filter:_=(()=>!0)}=s;s.startPlucked$=pa(t,a).pipe(Qi(_),Jo(UP),XR(...p),we(S=>this.findClosestValue(S))),s.end$=pa(document,c),s.moveResolved$=pa(document,l).pipe(Qi(_),Jo(UP),XR(...p),jc(),we(S=>this.findClosestValue(S)),jc(),wr(s.end$))}),this.dragStart$=Gt(i.startPlucked$,o.startPlucked$),this.dragMove$=Gt(i.moveResolved$,o.moveResolved$),this.dragEnd$=Gt(i.end$,o.end$)}subscribeDrag(t=["start","move","end"]){-1!==t.indexOf("start")&&this.dragStart$&&!this.dragStart_&&(this.dragStart_=this.dragStart$.subscribe(this.onDragStart.bind(this))),-1!==t.indexOf("move")&&this.dragMove$&&!this.dragMove_&&(this.dragMove_=this.dragMove$.subscribe(this.onDragMove.bind(this))),-1!==t.indexOf("end")&&this.dragEnd$&&!this.dragEnd_&&(this.dragEnd_=this.dragEnd$.subscribe(this.onDragEnd.bind(this)))}unsubscribeDrag(t=["start","move","end"]){-1!==t.indexOf("start")&&this.dragStart_&&(this.dragStart_.unsubscribe(),this.dragStart_=null),-1!==t.indexOf("move")&&this.dragMove_&&(this.dragMove_.unsubscribe(),this.dragMove_=null),-1!==t.indexOf("end")&&this.dragEnd_&&(this.dragEnd_.unsubscribe(),this.dragEnd_=null)}toggleDragMoving(t){const r=["move","end"];t?(this.sliderService.isDragging=!0,this.subscribeDrag(r)):(this.sliderService.isDragging=!1,this.unsubscribeDrag(r))}toggleDragDisabled(t){t?this.unsubscribeDrag():this.subscribeDrag(["start"])}findClosestValue(t){const o=Lm((t-this.getSliderStartPosition())/this.getSliderLength(),0,1),s=(this.nzMax-this.nzMin)*(this.nzVertical?1-o:o)+this.nzMin,a=null===this.nzMarks?[]:Object.keys(this.nzMarks).map(parseFloat).sort((p,_)=>p-_);if(0!==this.nzStep&&!this.nzDots){const p=Math.round(s/this.nzStep)*this.nzStep;a.push(p)}const l=a.map(p=>Math.abs(s-p)),c=a[l.indexOf(Math.min(...l))];return 0===this.nzStep?c:parseFloat(c.toFixed(function(n){const e=n.toString(),t=e.indexOf(".");return t>=0?e.length-t-1:0}(this.nzStep)))}valueToOffset(t){return function(n,e,t){return(t-n)/(e-n)*100}(this.nzMin,this.nzMax,t)}getSliderStartPosition(){if(null!==this.cacheSliderStart)return this.cacheSliderStart;const t=function(n){if(!n.getClientRects().length)return{top:0,left:0};const e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView;return{top:e.top+t.pageYOffset,left:e.left+t.pageXOffset}}(this.slider.nativeElement);return this.nzVertical?t.top:t.left}getSliderLength(){if(null!==this.cacheSliderLength)return this.cacheSliderLength;const t=this.slider.nativeElement;return this.nzVertical?t.clientHeight:t.clientWidth}cacheSliderProperty(t=!1){this.cacheSliderStart=t?null:this.getSliderStartPosition(),this.cacheSliderLength=t?null:this.getSliderLength()}formatValue(t){return t?function(n,e){return!(!Ws(n)&&isNaN(n)||Ws(n)&&n.some(t=>isNaN(t)))&&function(n,e=!1){if(Ws(n)!==e)throw new Error('The "nzRange" can\'t match the "ngModel"\'s type, please check these properties: "nzRange", "ngModel", "nzDefaultValue".');return!0}(n,e)}(t,this.nzRange)?Ws(t)?t.map(r=>Lm(r,this.nzMin,this.nzMax)):Lm(t,this.nzMin,this.nzMax):this.nzDefaultValue?this.nzDefaultValue:this.nzRange?[this.nzMin,this.nzMax]:this.nzMin:this.nzRange?[this.nzMin,this.nzMax]:this.nzMin}showHandleTooltip(t=0){this.handles.forEach((r,i)=>{r.active=i===t})}hideAllHandleTooltip(){this.handles.forEach(t=>t.active=!1)}generateMarkItems(t){const r=[];for(const i in t){const o=t[i],s="number"==typeof i?i:parseFloat(i);s>=this.nzMin&&s<=this.nzMax&&r.push({value:s,offset:this.valueToOffset(s),config:o})}return r.length?r:null}}return n.\u0275fac=function(t){return new(t||n)(Ae(Mb),Ae(wo),Ae(qi),Ae(eo,8))},n.\u0275cmp=tr({type:n,selectors:[["nz-slider"]],viewQuery:function(t,r){if(1&t&&(mi(v3e,7),mi(zF,5)),2&t){let i;gr(i=vr())&&(r.slider=i.first),gr(i=vr())&&(r.handlerComponents=i)}},hostBindings:function(t,r){1&t&&nr("keydown",function(o){return r.onKeyDown(o)})},inputs:{nzDisabled:"nzDisabled",nzDots:"nzDots",nzIncluded:"nzIncluded",nzRange:"nzRange",nzVertical:"nzVertical",nzReverse:"nzReverse",nzMarks:"nzMarks",nzMax:"nzMax",nzMin:"nzMin",nzStep:"nzStep",nzTooltipVisible:"nzTooltipVisible",nzTooltipPlacement:"nzTooltipPlacement",nzDefaultValue:"nzDefaultValue",nzTipFormatter:"nzTipFormatter"},outputs:{nzOnAfterChange:"nzOnAfterChange"},exportAs:["nzSlider"],features:[Rr([{provide:aa,useExisting:fr(()=>n),multi:!0},Mb]),Tn],decls:7,vars:17,consts:[[1,"ant-slider"],["slider",""],[1,"ant-slider-rail"],[3,"vertical","included","offset","length","reverse","dir"],[3,"vertical","min","max","lowerBound","upperBound","marksArray","included","reverse",4,"ngIf"],[3,"vertical","reverse","offset","value","active","tooltipFormatter","tooltipVisible","tooltipPlacement","dir",4,"ngFor","ngForOf"],[3,"vertical","min","max","lowerBound","upperBound","marksArray","included","reverse"],[3,"vertical","reverse","offset","value","active","tooltipFormatter","tooltipVisible","tooltipPlacement","dir"]],template:function(t,r){1&t&&(Pt(0,"div",0,1),Vn(2,"div",2),Vn(3,"nz-slider-track",3),Rn(4,y3e,1,8,"nz-slider-step",4),Rn(5,_3e,1,9,"nz-slider-handle",5),Rn(6,b3e,1,8,"nz-slider-marks",4),kt()),2&t&&(Hr("ant-slider-rtl","rtl"===r.dir)("ant-slider-disabled",r.nzDisabled)("ant-slider-vertical",r.nzVertical)("ant-slider-with-marks",r.marksArray),an(3),Wt("vertical",r.nzVertical)("included",r.nzIncluded)("offset",r.track.offset)("length",r.track.length)("reverse",r.nzReverse)("dir",r.dir),an(1),Wt("ngIf",r.marksArray),an(1),Wt("ngForOf",r.handles),an(1),Wt("ngIf",r.marksArray))},directives:function(){return[A3e,Uie,js,mh,z3e,zF,D3e]},encapsulation:2,changeDetection:0}),On([Jn(),kn("design:type",Object)],n.prototype,"nzDisabled",void 0),On([Jn(),kn("design:type",Boolean)],n.prototype,"nzDots",void 0),On([Jn(),kn("design:type",Boolean)],n.prototype,"nzIncluded",void 0),On([Jn(),kn("design:type",Boolean)],n.prototype,"nzRange",void 0),On([Jn(),kn("design:type",Boolean)],n.prototype,"nzVertical",void 0),On([Jn(),kn("design:type",Boolean)],n.prototype,"nzReverse",void 0),On([Cp(),kn("design:type",Object)],n.prototype,"nzMax",void 0),On([Cp(),kn("design:type",Object)],n.prototype,"nzMin",void 0),On([Cp(),kn("design:type",Object)],n.prototype,"nzStep",void 0),n})();function Ws(n){return n instanceof Array&&2===n.length}let D3e=(()=>{class n{constructor(){this.lowerBound=null,this.upperBound=null,this.marksArray=[],this.vertical=!1,this.included=!1,this.marks=[]}ngOnChanges(t){const{marksArray:r,lowerBound:i,upperBound:o,reverse:s}=t;(r||s)&&this.buildMarks(),(r||i||o||s)&&this.togglePointActive()}trackById(t,r){return r.value}buildMarks(){const t=this.max-this.min;this.marks=this.marksArray.map(r=>{const{value:i,offset:o,config:s}=r,a=this.getMarkStyles(i,t,s);return{label:PF(s)?s.label:s,offset:o,style:a,value:i,config:s,active:!1}})}getMarkStyles(t,r,i){let o;const s=this.reverse?this.max+this.min-t:t;return o=this.vertical?{marginBottom:"-50%",bottom:(s-this.min)/r*100+"%"}:{transform:"translate3d(-50%, 0, 0)",left:(s-this.min)/r*100+"%"},PF(i)&&i.style&&(o=Object.assign(Object.assign({},o),i.style)),o}togglePointActive(){this.marks&&null!==this.lowerBound&&null!==this.upperBound&&this.marks.forEach(t=>{const r=t.value;t.active=!this.included&&r===this.upperBound||this.included&&r<=this.upperBound&&r>=this.lowerBound})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tr({type:n,selectors:[["nz-slider-marks"]],inputs:{lowerBound:"lowerBound",upperBound:"upperBound",marksArray:"marksArray",vertical:"vertical",included:"included",min:"min",max:"max",reverse:"reverse"},exportAs:["nzSliderMarks"],features:[Tn],decls:2,vars:2,consts:[[1,"ant-slider-mark"],["class","ant-slider-mark-text",3,"ant-slider-mark-active","ngStyle","innerHTML",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ant-slider-mark-text",3,"ngStyle","innerHTML"]],template:function(t,r){1&t&&(Pt(0,"div",0),Rn(1,w3e,1,4,"span",1),kt()),2&t&&(an(1),Wt("ngForOf",r.marks)("ngForTrackBy",r.trackById))},directives:[mh,lu],encapsulation:2,changeDetection:0}),On([Jn(),kn("design:type",Object)],n.prototype,"vertical",void 0),On([Jn(),kn("design:type",Object)],n.prototype,"included",void 0),n})();function PF(n){return"string"!=typeof n}let z3e=(()=>{class n{constructor(){this.lowerBound=null,this.upperBound=null,this.marksArray=[],this.vertical=!1,this.included=!1,this.steps=[]}ngOnChanges(t){const{marksArray:r,lowerBound:i,upperBound:o,reverse:s}=t;(r||s)&&this.buildSteps(),(r||i||o||s)&&this.togglePointActive()}trackById(t,r){return r.value}buildSteps(){const t=this.vertical?"bottom":"left";this.steps=this.marksArray.map(r=>{const{value:i,config:o}=r;let s=r.offset;return this.reverse&&(s=(this.max-i)/(this.max-this.min)*100),{value:i,offset:s,config:o,active:!1,style:{[t]:`${s}%`}}})}togglePointActive(){this.steps&&null!==this.lowerBound&&null!==this.upperBound&&this.steps.forEach(t=>{const r=t.value;t.active=!this.included&&r===this.upperBound||this.included&&r<=this.upperBound&&r>=this.lowerBound})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tr({type:n,selectors:[["nz-slider-step"]],inputs:{lowerBound:"lowerBound",upperBound:"upperBound",marksArray:"marksArray",vertical:"vertical",included:"included",min:"min",max:"max",reverse:"reverse"},exportAs:["nzSliderStep"],features:[Tn],decls:2,vars:2,consts:[[1,"ant-slider-step"],["class","ant-slider-dot",3,"ant-slider-dot-active","ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ant-slider-dot",3,"ngStyle"]],template:function(t,r){1&t&&(Pt(0,"div",0),Rn(1,x3e,1,3,"span",1),kt()),2&t&&(an(1),Wt("ngForOf",r.steps)("ngForTrackBy",r.trackById))},directives:[mh,lu],encapsulation:2,changeDetection:0}),On([Jn(),kn("design:type",Object)],n.prototype,"vertical",void 0),On([Jn(),kn("design:type",Object)],n.prototype,"included",void 0),n})(),A3e=(()=>{class n{constructor(){this.offset=0,this.reverse=!1,this.dir="ltr",this.length=0,this.vertical=!1,this.included=!1,this.style={}}ngOnChanges(){const r=this.reverse,i=this.included?"visible":"hidden",s=this.length,a=this.vertical?{[r?"top":"bottom"]:`${this.offset}%`,[r?"bottom":"top"]:"auto",height:`${s}%`,visibility:i}:Object.assign(Object.assign({},this.getHorizontalStylePosition()),{width:`${s}%`,visibility:i});this.style=a}getHorizontalStylePosition(){let t=this.reverse?"auto":`${this.offset}%`,r=this.reverse?`${this.offset}%`:"auto";if("rtl"===this.dir){const i=t;t=r,r=i}return{left:t,right:r}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tr({type:n,selectors:[["nz-slider-track"]],inputs:{offset:"offset",reverse:"reverse",dir:"dir",length:"length",vertical:"vertical",included:"included"},exportAs:["nzSliderTrack"],features:[Tn],decls:1,vars:1,consts:[[1,"ant-slider-track",3,"ngStyle"]],template:function(t,r){1&t&&Vn(0,"div",0),2&t&&Wt("ngStyle",r.style)},directives:[lu],encapsulation:2,changeDetection:0}),On([Cp(),kn("design:type",Number)],n.prototype,"offset",void 0),On([Jn(),kn("design:type",Boolean)],n.prototype,"reverse",void 0),On([Cp(),kn("design:type",Number)],n.prototype,"length",void 0),On([Jn(),kn("design:type",Object)],n.prototype,"vertical",void 0),On([Jn(),kn("design:type",Object)],n.prototype,"included",void 0),n})(),P3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({imports:[[Aa,ia,Bl,m3e]]}),n})();const k3e=["container"],L3e=["container2"];let O3e=(()=>{class n{constructor(){this.__id=(new Date).getTime(),this.clearTag=!0,this.click2tag=!1,this.size=25}ngOnInit(){}ngAfterViewInit(){let t=this.container.nativeElement;console.log("div.offsetWidth,div.offsetHeight :>> ",t.offsetWidth,t.offsetHeight),setTimeout(()=>{this.p5draw1(t,"a"+this.__id)},1e3)}clickTab1(){this.myp5a&&this.myp5a.loop(),this.myp5b&&this.myp5b.noLoop()}clickTab2(){this.myp5a&&this.myp5a.noLoop(),this.myp5b&&this.myp5b.loop()}onClick(){this.clearTag=!this.clearTag}p5draw1(t,r){let o=new(mb())(s=>{let I,X,p=this.size/8,_=0,S=0,D=0,k=0,N=0,B=0,F=0;s.setup=()=>{s.createCanvas(t.offsetWidth,t.offsetHeight)};let $=!0;s.draw=()=>{let re=B;if(s.mouseIsPressed){let de=s.mouseX,se=s.mouseY;F||(F=1,_=de,S=se),D+=.5*(de-_),k+=.5*(se-S),D*=.5,k*=.5,N+=s.sqrt(D*D+k*k)-N,N*=.6,B=this.size-N;for(let Me=0;Me<10;++Me)I=_,X=S,_+=D/10,S+=k/10,re+=(B-re)/10,re<1&&(re=1),s.strokeWeight(re+p),s.line(_,S,I,X),s.strokeWeight(re),s.line(_+2*p,S+2*p,I+2*p,X+2*p),s.line(_-p,S-p,I-p,X-p)}else F&&(D=k=F=0);$!=this.clearTag&&(s.background(255,255,255),$=this.clearTag)}},document.getElementById(r));o.setup(),o.draw(),this.myp5a=o}p5draw2(t,r){let o=new(mb())(s=>{let a;const c=[],p=Math.sqrt(3);s.setup=()=>{s.createCanvas(t.offsetWidth,t.offsetHeight,s.WEBGL),s.setAttributes("antialias",!0),s.createCamera({distance:260}),document.oncontextmenu=function(){return!1},s.strokeWeight(2),a=new _(0,0,0,1),c.push(a),a.addChildren(6)},s.draw=()=>{s.background(255,255,255,0),s.rotateY(.004*s.frameCount),s.frameCount%180==60&&a.stimulate(),a.draw()};class _{constructor(D,k,N,B){this.pos=new(mb().Vector)(D,k,N),this.depth=B,this.born=s.frameCount,this.lastStimulation=-1/0,this.children=[]}addChildren(D){for(let k=0;k<D;k++){if(0===s.frameCount&&Math.random()>1/this.depth)continue;const N=s.random([[1,0,0],[.5,p/2,0],[-.5,p/2,0],[-1,0,0],[-.5,-p/2,0],[.5,-p/2,0],[0,0,1],[0,0,-1]]),B=this.pos.x+50*N[0],F=this.pos.y+50*N[1],I=this.pos.z+50*N[2];if(c.some($=>Math.pow($.pos.x-B,2)+Math.pow($.pos.y-F,2)+Math.pow($.pos.z-I,2)<1))continue;const X=new _(B,F,I,this.depth+1);this.children.push(X),c.push(X),0===s.frameCount&&X.addChildren(2)}}stimulate(){this.lastStimulation=s.frameCount,Math.random()<.5&&s.frameRate()>24&&this.addChildren(1)}draw(){s.push();const D=s.frameCount-this.born;s.stroke(0,D<50?200*D/50:200,0);const k=s.frameCount-this.lastStimulation;if(10===k)for(const N of this.children)N.stimulate();for(const N of this.children)s.push(),s.stroke(0,100,0),s.line(this.pos.x,this.pos.y,this.pos.z,N.pos.x,N.pos.y,N.pos.z),s.pop(),k<10&&(s.push(),s.strokeWeight(1),s.fill(50,255,0),s.translate(this.pos.x+(N.pos.x-this.pos.x)*k/10,this.pos.y+(N.pos.y-this.pos.y)*k/10,this.pos.z+(N.pos.z-this.pos.z)*k/10),s.box(1.5),s.pop()),N.draw();s.fill(k<30?255*Math.pow(1.1,-k):0),s.translate(this.pos.x,this.pos.y,this.pos.z),s.strokeWeight(1),s.box(15),s.pop()}}},document.getElementById(r));o.setup(),o.draw(),this.myp5b=o}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tr({type:n,selectors:[["app-hello"]],viewQuery:function(t,r){if(1&t&&(mi(k3e,5),mi(L3e,5)),2&t){let i;gr(i=vr())&&(r.container=i.first),gr(i=vr())&&(r.container2=i.first)}},decls:7,vars:2,consts:[[2,"min-height","300px","width","100%","height","100%","border","1px solid rgb(167, 167, 167)",3,"id"],["container",""],[2,"width","200px","position","absolute","margin","20px","z-index","10"],["nz-button","","nzType","dashed",3,"click"],["nzMin","1","nzMax","100",3,"ngModel","ngModelChange"]],template:function(t,r){1&t&&(Pt(0,"div",0,1),Pt(2,"div",2),Pt(3,"span"),Pt(4,"button",3),nr("click",function(){return r.onClick()}),uo(5,"\u6e05\u7a7a\u753b\u5e03"),kt(),kt(),Pt(6,"nz-slider",4),nr("ngModelChange",function(o){return r.size=o}),kt(),kt(),kt()),2&t&&(w2("id","a",r.__id,""),an(6),Wt("ngModel",r.size))},directives:[H9,u8,kp,AF,L1,zh],styles:[""]}),n})();const ws=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180];for(let n=0;n<256;n++)ws[256+n]=ws[n];function Sb(n){return n*n*n*(n*(6*n-15)+10)}function td(n,e,t){return e+n*(t-e)}function ju(n,e,t,r){const i=15&n,o=i<8?e:t,s=i<4?t:12==i||14==i?e:r;return(0==(1&i)?o:-o)+(0==(2&i)?s:-s)}class I3e{noise(e,t,r){const i=Math.floor(e),o=Math.floor(t),s=Math.floor(r),a=255&i,l=255&o,c=255&s,p=(e-=i)-1,_=(t-=o)-1,S=(r-=s)-1,D=Sb(e),k=Sb(t),N=Sb(r),B=ws[a]+l,F=ws[B]+c,I=ws[B+1]+c,X=ws[a+1]+l,$=ws[X]+c,re=ws[X+1]+c;return td(N,td(k,td(D,ju(ws[F],e,t,r),ju(ws[$],p,t,r)),td(D,ju(ws[I],e,_,r),ju(ws[re],p,_,r))),td(k,td(D,ju(ws[F+1],e,t,S),ju(ws[$+1],p,t,S)),td(D,ju(ws[I+1],e,_,S),ju(ws[re+1],p,_,S))))}}const Cb=class extends I3{constructor(e,t){super(e,t),this.lastHeight=300,this.lastWidth=300,this.render=()=>{this.request=requestAnimationFrame(this.render),this.renderer.render(this.scene,this.camera),this.reSize(),this.renderOthers()},this.scene=new n4,this.camera=new $o(45,this.divWidth/this.divHeight,1,1e4),this.camera.position.set(0,20,0),this.camera.lookAt(0,0,0),this.renderer=new vi({alpha:!0,antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setClearColor(0,0),this.renderer.setSize(this.divWidth,this.divHeight),this.domdiv.appendChild(this.renderer.domElement),this.render()}renderOthers(){}reSize(){this.divHeight=this.domdiv.offsetHeight,this.divWidth=this.domdiv.offsetWidth,(this.divHeight!==this.lastHeight||this.divWidth!==this.lastWidth)&&(this.camera.aspect=this.divWidth/this.divHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.divWidth,this.divHeight),this.lastHeight=this.divHeight,this.lastWidth=this.divWidth)}},N3e=class extends Cb{constructor(e,t){super(e,t),this.terrainDh=4,this.init(),this.camera.far=2e5,this.camera.updateProjectionMatrix(),this.camera.position.set(2400,2300,2400),this.camera.lookAt(0,0,0),this.renderer.preserveDrawingBuffer=!0,this.renderer.autoClear=!1}init(){new pb(this.camera,this.renderer.domElement),this.scene.add(new v4("#999","#333")),this.scene.add(new Ff(2457));const e=new Rf(16777215,.5);this.scene.add(e),e.position.set(1,1,-1),this.scene.add(new GR(50)),this.mesh()}mesh(){var r=this.generateHeight(256,256),i=new Fc(7500,7500,255,255);i.rotateX(-Math.PI/2);for(var o=i.attributes.position.array,s=0,a=0,l=o.length;s<l;s++,a+=3)o[a+1]=r[s]*this.terrainDh;i.computeFaceNormals();var c=new UI(this.generateTexture(r,256,256));c.wrapS=Ro,c.wrapT=Ro;let p=new Hi(i,new x6({map:c,color:"#00ff00"}));this.scene.add(p)}generateTexture(e,t,r){var i,o,s,a,l,c,p,_;c=new Ce(0,0,0),(p=new Ce(1,1,1)).normalize(),(i=document.createElement("canvas")).width=t,i.height=r,(s=i.getContext("2d")).fillStyle="#000",s.fillRect(0,0,t,r);for(var S=0,D=0,k=(l=(a=s.getImageData(0,0,i.width,i.height)).data).length;S<k;S+=4,D++)c.x=e[D-2]-e[D+2],c.y=2,c.z=e[D-2*t]-e[D+2*t],c.normalize(),_=c.dot(p),l[S]=(96+128*_)*(.5+.007*e[D]),l[S+1]=(32+96*_)*(.5+.007*e[D]),l[S+2]=96*_*(.5+.007*e[D]);for(s.putImageData(a,0,0),(o=document.createElement("canvas")).width=4*t,o.height=4*r,(s=o.getContext("2d")).scale(4,4),s.drawImage(i,0,0),S=0,k=(l=(a=s.getImageData(0,0,o.width,o.height)).data).length;S<k;S+=4){var N=~~(5*Math.random());l[S]+=N,l[S+1]+=N,l[S+2]+=N}return s.putImageData(a,0,0),o}generateHeight(e,t){for(var r=e*t,i=new Uint8Array(r),o=new I3e,s=1,a=100*Math.random(),l=0;l<4;l++){for(var c=0;c<r;c++)i[c]+=Math.abs(o.noise(c%e/s,~~(c/e)/s,a)*s*1.75);s*=5}return console.log("data :>> ",i),i}},V3e=["container"];let H3e=(()=>{class n{constructor(){}ngOnInit(){}ngAfterViewInit(){this.scene=new N3e(this.container.nativeElement,{}),this.scene.updateData([])}onClick(){this.scene.updateData([])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tr({type:n,selectors:[["app-terrain"]],viewQuery:function(t,r){if(1&t&&mi(V3e,5),2&t){let i;gr(i=vr())&&(r.container=i.first)}},decls:2,vars:0,consts:[[2,"width","100%","height","100%"],["container",""]],template:function(t,r){1&t&&Vn(0,"div",0,1)},styles:[""]}),n})();const kF=["moz","ms","webkit"],LF=function(){if("undefined"==typeof window)return()=>0;if(window.requestAnimationFrame)return window.requestAnimationFrame.bind(window);const n=kF.filter(e=>`${e}RequestAnimationFrame`in window)[0];return n?window[`${n}RequestAnimationFrame`]:function(){let n=0;return function(e){const t=(new Date).getTime(),r=Math.max(0,16-(t-n)),i=setTimeout(()=>{e(t+r)},r);return n=t+r,i}}()}();class G3e{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new Tb(e,this.delay,this.scheduler))}}class Tb extends E{constructor(e,t,r){super(e),this.delay=t,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,r=t.queue,i=e.scheduler,o=e.destination;for(;r.length>0&&r[0].time-i.now()<=0;)r.shift().notification.observe(o);if(r.length>0){const s=Math.max(0,r[0].time-i.now());this.schedule(e,s)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(Tb.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,r=new W3e(t.now()+this.delay,e);this.queue.push(r),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(Gs.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(Gs.createComplete()),this.unsubscribe()}}class W3e{constructor(e,t){this.time=e,this.notification=t}}const q3e=["nz-submenu",""];function $3e(n,e){1&n&&Ho(0,0,["*ngIf","!nzTitle"])}function X3e(n,e){if(1&n&&Vn(0,"div",6),2&n){const t=Qn(),r=Xa(7);Wt("mode",t.mode)("nzOpen",t.nzOpen)("@.disabled",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("menuClass",t.nzMenuClassName)("templateOutlet",r)}}function K3e(n,e){if(1&n){const t=xa();Pt(0,"div",8),nr("subMenuMouseState",function(i){return Vo(t),Qn(2).setMouseEnterState(i)}),kt()}if(2&n){const t=Qn(2),r=Xa(7);Wt("theme",t.theme)("mode",t.mode)("nzOpen",t.nzOpen)("position",t.position)("nzDisabled",t.nzDisabled)("isMenuInsideDropDown",t.isMenuInsideDropDown)("templateOutlet",r)("menuClass",t.nzMenuClassName)("@.disabled",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)}}function Z3e(n,e){if(1&n){const t=xa();Rn(0,K3e,1,10,"ng-template",7),nr("positionChange",function(i){return Vo(t),Qn().onPositionChange(i)})}if(2&n){const t=Qn(),r=Xa(1);Wt("cdkConnectedOverlayPositions",t.overlayPositions)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayWidth",t.triggerWidth)("cdkConnectedOverlayOpen",t.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-menu-submenu")}}function Q3e(n,e){1&n&&Ho(0,1)}const J3e=[[["","title",""]],"*"],eme=["[title]","*"],ame=["nz-submenu-title",""];function lme(n,e){1&n&&Vn(0,"i",4),2&n&&Wt("nzType",Qn().nzIcon)}function cme(n,e){if(1&n&&(zs(0),Pt(1,"span"),uo(2),kt(),As()),2&n){const t=Qn();an(2),mc(t.nzTitle)}}function ume(n,e){1&n&&Vn(0,"i",8)}function hme(n,e){1&n&&Vn(0,"i",9)}function dme(n,e){1&n&&(Pt(0,"span",5),Rn(1,ume,1,0,"i",6),Rn(2,hme,1,0,"i",7),kt()),2&n&&(Wt("ngSwitch",Qn().dir),an(1),Wt("ngSwitchCase","rtl"))}function fme(n,e){1&n&&Vn(0,"i",10)}const pme=["*"],mme=["nz-submenu-inline-child",""];function gme(n,e){}const vme=["nz-submenu-none-inline-child",""];function yme(n,e){}let Yc=(()=>{class n{constructor(){this.descendantMenuItemClick$=new ye,this.childMenuItemClick$=new ye,this.theme$=new Wi("light"),this.mode$=new Wi("vertical"),this.inlineIndent$=new Wi(24),this.isChildSubMenuOpen$=new Wi(!1)}onDescendantMenuItemClick(t){this.descendantMenuItemClick$.next(t)}onChildMenuItemClick(t){this.childMenuItemClick$.next(t)}setMode(t){this.mode$.next(t)}setTheme(t){this.theme$.next(t)}setInlineIndent(t){this.inlineIndent$.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})();const Ql=new Nn("NzIsInDropDownMenuToken"),OF=new Nn("NzMenuServiceLocalToken");let Eb=(()=>{class n{constructor(t,r,i){this.nzHostSubmenuService=t,this.nzMenuService=r,this.isMenuInsideDropDown=i,this.mode$=this.nzMenuService.mode$.pipe(we(l=>"inline"===l?"inline":"vertical"===l||this.nzHostSubmenuService?"vertical":"horizontal")),this.level=1,this.isCurrentSubMenuOpen$=new Wi(!1),this.isChildSubMenuOpen$=new Wi(!1),this.isMouseEnterTitleOrOverlay$=new ye,this.childMenuItemClick$=new ye,this.destroy$=new ye,this.nzHostSubmenuService&&(this.level=this.nzHostSubmenuService.level+1);const o=this.childMenuItemClick$.pipe(Sn(()=>this.mode$),Qi(l=>"inline"!==l||this.isMenuInsideDropDown),Pp(!1)),s=Gt(this.isMouseEnterTitleOrOverlay$,o);g1([this.isChildSubMenuOpen$,s]).pipe(we(([l,c])=>l||c),Jh(150),jc(),wr(this.destroy$)).pipe(jc()).subscribe(l=>{this.setOpenStateWithoutDebounce(l),this.nzHostSubmenuService?this.nzHostSubmenuService.isChildSubMenuOpen$.next(l):this.nzMenuService.isChildSubMenuOpen$.next(l)})}onChildMenuItemClick(t){this.childMenuItemClick$.next(t)}setOpenStateWithoutDebounce(t){this.isCurrentSubMenuOpen$.next(t)}setMouseEnterTitleOrOverlayState(t){this.isMouseEnterTitleOrOverlay$.next(t)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(Ke(n,12),Ke(Yc),Ke(Ql))},n.\u0275prov=sn({token:n,factory:n.\u0275fac}),n})(),B6=(()=>{class n{constructor(t,r,i,o,s,a,l,c){this.nzMenuService=t,this.cdr=r,this.nzSubmenuService=i,this.isMenuInsideDropDown=o,this.directionality=s,this.routerLink=a,this.routerLinkWithHref=l,this.router=c,this.destroy$=new ye,this.level=this.nzSubmenuService?this.nzSubmenuService.level+1:1,this.selected$=new ye,this.inlinePaddingLeft=null,this.dir="ltr",this.nzDisabled=!1,this.nzSelected=!1,this.nzDanger=!1,this.nzMatchRouterExact=!1,this.nzMatchRouter=!1,c&&this.router.events.pipe(wr(this.destroy$),Qi(p=>p instanceof _h)).subscribe(()=>{this.updateRouterActive()})}clickMenuItem(t){this.nzDisabled?(t.preventDefault(),t.stopPropagation()):(this.nzMenuService.onDescendantMenuItemClick(this),this.nzSubmenuService?this.nzSubmenuService.onChildMenuItemClick(this):this.nzMenuService.onChildMenuItemClick(this))}setSelectedState(t){this.nzSelected=t,this.selected$.next(t)}updateRouterActive(){!this.listOfRouterLink||!this.listOfRouterLinkWithHref||!this.router||!this.router.navigated||!this.nzMatchRouter||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.nzSelected!==t&&(this.nzSelected=t,this.setSelectedState(this.nzSelected),this.cdr.markForCheck())})}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.routerLink&&t(this.routerLink)||this.routerLinkWithHref&&t(this.routerLinkWithHref)||this.listOfRouterLink.some(t)||this.listOfRouterLinkWithHref.some(t)}isLinkActive(t){return r=>t.isActive(r.urlTree,this.nzMatchRouterExact)}ngOnInit(){var t;g1([this.nzMenuService.mode$,this.nzMenuService.inlineIndent$]).pipe(wr(this.destroy$)).subscribe(([r,i])=>{this.inlinePaddingLeft="inline"===r?this.level*i:null}),this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(wr(this.destroy$)).subscribe(r=>{this.dir=r})}ngAfterContentInit(){this.listOfRouterLink.changes.pipe(wr(this.destroy$)).subscribe(()=>this.updateRouterActive()),this.listOfRouterLinkWithHref.changes.pipe(wr(this.destroy$)).subscribe(()=>this.updateRouterActive()),this.updateRouterActive()}ngOnChanges(t){t.nzSelected&&this.setSelectedState(this.nzSelected)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(Ae(Yc),Ae(wo),Ae(Eb,8),Ae(Ql),Ae(eo,8),Ae(w1,8),Ae(Mh,8),Ae(ds,8))},n.\u0275dir=tn({type:n,selectors:[["","nz-menu-item",""]],contentQueries:function(t,r,i){if(1&t&&(Qo(i,w1,5),Qo(i,Mh,5)),2&t){let o;gr(o=vr())&&(r.listOfRouterLink=o),gr(o=vr())&&(r.listOfRouterLinkWithHref=o)}},hostVars:20,hostBindings:function(t,r){1&t&&nr("click",function(o){return r.clickMenuItem(o)}),2&t&&(Oo("padding-left","rtl"===r.dir?null:r.nzPaddingLeft||r.inlinePaddingLeft,"px")("padding-right","rtl"===r.dir?r.nzPaddingLeft||r.inlinePaddingLeft:null,"px"),Hr("ant-dropdown-menu-item",r.isMenuInsideDropDown)("ant-dropdown-menu-item-selected",r.isMenuInsideDropDown&&r.nzSelected)("ant-dropdown-menu-item-danger",r.isMenuInsideDropDown&&r.nzDanger)("ant-dropdown-menu-item-disabled",r.isMenuInsideDropDown&&r.nzDisabled)("ant-menu-item",!r.isMenuInsideDropDown)("ant-menu-item-selected",!r.isMenuInsideDropDown&&r.nzSelected)("ant-menu-item-danger",!r.isMenuInsideDropDown&&r.nzDanger)("ant-menu-item-disabled",!r.isMenuInsideDropDown&&r.nzDisabled))},inputs:{nzDisabled:"nzDisabled",nzSelected:"nzSelected",nzDanger:"nzDanger",nzMatchRouterExact:"nzMatchRouterExact",nzMatchRouter:"nzMatchRouter",nzPaddingLeft:"nzPaddingLeft"},exportAs:["nzMenuItem"],features:[Tn]}),On([Jn(),kn("design:type",Object)],n.prototype,"nzDisabled",void 0),On([Jn(),kn("design:type",Object)],n.prototype,"nzSelected",void 0),On([Jn(),kn("design:type",Object)],n.prototype,"nzDanger",void 0),On([Jn(),kn("design:type",Object)],n.prototype,"nzMatchRouterExact",void 0),On([Jn(),kn("design:type",Object)],n.prototype,"nzMatchRouter",void 0),n})();const IF=[zi.rightTop,zi.right,zi.rightBottom,zi.leftTop,zi.left,zi.leftBottom],_me=[zi.bottomLeft];let RF=(()=>{class n{constructor(t,r,i,o,s,a,l){this.nzMenuService=t,this.cdr=r,this.nzSubmenuService=i,this.platform=o,this.isMenuInsideDropDown=s,this.directionality=a,this.noAnimation=l,this.nzMenuClassName="",this.nzPaddingLeft=null,this.nzTitle=null,this.nzIcon=null,this.nzOpen=!1,this.nzDisabled=!1,this.nzOpenChange=new Hn,this.cdkOverlayOrigin=null,this.listOfNzSubMenuComponent=null,this.listOfNzMenuItemDirective=null,this.level=this.nzSubmenuService.level,this.destroy$=new ye,this.position="right",this.triggerWidth=null,this.theme="light",this.mode="vertical",this.inlinePaddingLeft=null,this.overlayPositions=IF,this.isSelected=!1,this.isActive=!1,this.dir="ltr"}setOpenStateWithoutDebounce(t){this.nzSubmenuService.setOpenStateWithoutDebounce(t)}toggleSubMenu(){this.setOpenStateWithoutDebounce(!this.nzOpen)}setMouseEnterState(t){this.isActive=t,"inline"!==this.mode&&this.nzSubmenuService.setMouseEnterTitleOrOverlayState(t)}setTriggerWidth(){"horizontal"===this.mode&&this.platform.isBrowser&&this.cdkOverlayOrigin&&(this.triggerWidth=this.cdkOverlayOrigin.nativeElement.getBoundingClientRect().width)}onPositionChange(t){const r=EF(t);"rightTop"===r||"rightBottom"===r||"right"===r?this.position="right":("leftTop"===r||"leftBottom"===r||"left"===r)&&(this.position="left"),this.cdr.markForCheck()}ngOnInit(){var t;this.nzMenuService.theme$.pipe(wr(this.destroy$)).subscribe(r=>{this.theme=r,this.cdr.markForCheck()}),this.nzSubmenuService.mode$.pipe(wr(this.destroy$)).subscribe(r=>{this.mode=r,"horizontal"===r?this.overlayPositions=_me:"vertical"===r&&(this.overlayPositions=IF),this.cdr.markForCheck()}),g1([this.nzSubmenuService.mode$,this.nzMenuService.inlineIndent$]).pipe(wr(this.destroy$)).subscribe(([r,i])=>{this.inlinePaddingLeft="inline"===r?this.level*i:null,this.cdr.markForCheck()}),this.nzSubmenuService.isCurrentSubMenuOpen$.pipe(wr(this.destroy$)).subscribe(r=>{this.isActive=r,r!==this.nzOpen&&(this.setTriggerWidth(),this.nzOpen=r,this.nzOpenChange.emit(this.nzOpen),this.cdr.markForCheck())}),this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(wr(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.markForCheck()})}ngAfterContentInit(){this.setTriggerWidth();const t=this.listOfNzMenuItemDirective,r=t.changes,i=Gt(r,...t.map(o=>o.selected$));r.pipe(Il(t),sl(()=>i),Il(!0),we(()=>t.some(o=>o.nzSelected)),wr(this.destroy$)).subscribe(o=>{this.isSelected=o,this.cdr.markForCheck()})}ngOnChanges(t){const{nzOpen:r}=t;r&&(this.nzSubmenuService.setOpenStateWithoutDebounce(this.nzOpen),this.setTriggerWidth())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(Ae(Yc),Ae(wo),Ae(Eb),Ae(qi),Ae(Ql),Ae(eo,8),Ae(Uc,9))},n.\u0275cmp=tr({type:n,selectors:[["","nz-submenu",""]],contentQueries:function(t,r,i){if(1&t&&(Qo(i,n,5),Qo(i,B6,5)),2&t){let o;gr(o=vr())&&(r.listOfNzSubMenuComponent=o),gr(o=vr())&&(r.listOfNzMenuItemDirective=o)}},viewQuery:function(t,r){if(1&t&&mi(SF,7,jn),2&t){let i;gr(i=vr())&&(r.cdkOverlayOrigin=i.first)}},hostVars:34,hostBindings:function(t,r){2&t&&Hr("ant-dropdown-menu-submenu",r.isMenuInsideDropDown)("ant-dropdown-menu-submenu-disabled",r.isMenuInsideDropDown&&r.nzDisabled)("ant-dropdown-menu-submenu-open",r.isMenuInsideDropDown&&r.nzOpen)("ant-dropdown-menu-submenu-selected",r.isMenuInsideDropDown&&r.isSelected)("ant-dropdown-menu-submenu-vertical",r.isMenuInsideDropDown&&"vertical"===r.mode)("ant-dropdown-menu-submenu-horizontal",r.isMenuInsideDropDown&&"horizontal"===r.mode)("ant-dropdown-menu-submenu-inline",r.isMenuInsideDropDown&&"inline"===r.mode)("ant-dropdown-menu-submenu-active",r.isMenuInsideDropDown&&r.isActive)("ant-menu-submenu",!r.isMenuInsideDropDown)("ant-menu-submenu-disabled",!r.isMenuInsideDropDown&&r.nzDisabled)("ant-menu-submenu-open",!r.isMenuInsideDropDown&&r.nzOpen)("ant-menu-submenu-selected",!r.isMenuInsideDropDown&&r.isSelected)("ant-menu-submenu-vertical",!r.isMenuInsideDropDown&&"vertical"===r.mode)("ant-menu-submenu-horizontal",!r.isMenuInsideDropDown&&"horizontal"===r.mode)("ant-menu-submenu-inline",!r.isMenuInsideDropDown&&"inline"===r.mode)("ant-menu-submenu-active",!r.isMenuInsideDropDown&&r.isActive)("ant-menu-submenu-rtl","rtl"===r.dir)},inputs:{nzMenuClassName:"nzMenuClassName",nzPaddingLeft:"nzPaddingLeft",nzTitle:"nzTitle",nzIcon:"nzIcon",nzOpen:"nzOpen",nzDisabled:"nzDisabled"},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzSubmenu"],features:[Rr([Eb]),Tn],attrs:q3e,ngContentSelectors:eme,decls:8,vars:9,consts:[["nz-submenu-title","","cdkOverlayOrigin","",3,"nzIcon","nzTitle","mode","nzDisabled","isMenuInsideDropDown","paddingLeft","subMenuMouseState","toggleSubMenu"],["origin","cdkOverlayOrigin"],[4,"ngIf"],["nz-submenu-inline-child","",3,"mode","nzOpen","nzNoAnimation","menuClass","templateOutlet",4,"ngIf","ngIfElse"],["nonInlineTemplate",""],["subMenuTemplate",""],["nz-submenu-inline-child","",3,"mode","nzOpen","nzNoAnimation","menuClass","templateOutlet"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayWidth","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn","positionChange"],["nz-submenu-none-inline-child","",3,"theme","mode","nzOpen","position","nzDisabled","isMenuInsideDropDown","templateOutlet","menuClass","nzNoAnimation","subMenuMouseState"]],template:function(t,r){if(1&t&&(Ps(J3e),Pt(0,"div",0,1),nr("subMenuMouseState",function(o){return r.setMouseEnterState(o)})("toggleSubMenu",function(){return r.toggleSubMenu()}),Rn(2,$3e,1,0,"ng-content",2),kt(),Rn(3,X3e,1,6,"div",3),Rn(4,Z3e,1,5,"ng-template",null,4,Ll),Rn(6,Q3e,1,0,"ng-template",null,5,Ll)),2&t){const i=Xa(5);Wt("nzIcon",r.nzIcon)("nzTitle",r.nzTitle)("mode",r.mode)("nzDisabled",r.nzDisabled)("isMenuInsideDropDown",r.isMenuInsideDropDown)("paddingLeft",r.nzPaddingLeft||r.inlinePaddingLeft),an(2),Wt("ngIf",!r.nzTitle),an(1),Wt("ngIf","inline"===r.mode)("ngIfElse",i)}},directives:function(){return[Mme,SF,js,Sme,Uc,wb,Cme]},encapsulation:2,changeDetection:0}),On([Jn(),kn("design:type",Object)],n.prototype,"nzOpen",void 0),On([Jn(),kn("design:type",Object)],n.prototype,"nzDisabled",void 0),n})();function bme(n,e){return n||e}function wme(n){return n||!1}let Db=(()=>{class n{constructor(t,r,i,o){this.nzMenuService=t,this.isMenuInsideDropDown=r,this.cdr=i,this.directionality=o,this.nzInlineIndent=24,this.nzTheme="light",this.nzMode="vertical",this.nzInlineCollapsed=!1,this.nzSelectable=!this.isMenuInsideDropDown,this.nzClick=new Hn,this.actualMode="vertical",this.dir="ltr",this.inlineCollapsed$=new Wi(this.nzInlineCollapsed),this.mode$=new Wi(this.nzMode),this.destroy$=new ye,this.listOfOpenedNzSubMenuComponent=[]}setInlineCollapsed(t){this.nzInlineCollapsed=t,this.inlineCollapsed$.next(t)}updateInlineCollapse(){this.listOfNzMenuItemDirective&&(this.nzInlineCollapsed?(this.listOfOpenedNzSubMenuComponent=this.listOfNzSubMenuComponent.filter(t=>t.nzOpen),this.listOfNzSubMenuComponent.forEach(t=>t.setOpenStateWithoutDebounce(!1))):(this.listOfOpenedNzSubMenuComponent.forEach(t=>t.setOpenStateWithoutDebounce(!0)),this.listOfOpenedNzSubMenuComponent=[]))}ngOnInit(){var t;g1([this.inlineCollapsed$,this.mode$]).pipe(wr(this.destroy$)).subscribe(([r,i])=>{this.actualMode=r?"vertical":i,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()}),this.nzMenuService.descendantMenuItemClick$.pipe(wr(this.destroy$)).subscribe(r=>{this.nzClick.emit(r),this.nzSelectable&&!r.nzMatchRouter&&this.listOfNzMenuItemDirective.forEach(i=>i.setSelectedState(i===r))}),this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(wr(this.destroy$)).subscribe(r=>{this.dir=r,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()})}ngAfterContentInit(){this.inlineCollapsed$.pipe(wr(this.destroy$)).subscribe(()=>{this.updateInlineCollapse(),this.cdr.markForCheck()})}ngOnChanges(t){const{nzInlineCollapsed:r,nzInlineIndent:i,nzTheme:o,nzMode:s}=t;r&&this.inlineCollapsed$.next(this.nzInlineCollapsed),i&&this.nzMenuService.setInlineIndent(this.nzInlineIndent),o&&this.nzMenuService.setTheme(this.nzTheme),s&&(this.mode$.next(this.nzMode),!t.nzMode.isFirstChange()&&this.listOfNzSubMenuComponent&&this.listOfNzSubMenuComponent.forEach(a=>a.setOpenStateWithoutDebounce(!1)))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(Ae(Yc),Ae(Ql),Ae(wo),Ae(eo,8))},n.\u0275dir=tn({type:n,selectors:[["","nz-menu",""]],contentQueries:function(t,r,i){if(1&t&&(Qo(i,B6,5),Qo(i,RF,5)),2&t){let o;gr(o=vr())&&(r.listOfNzMenuItemDirective=o),gr(o=vr())&&(r.listOfNzSubMenuComponent=o)}},hostVars:34,hostBindings:function(t,r){2&t&&Hr("ant-dropdown-menu",r.isMenuInsideDropDown)("ant-dropdown-menu-root",r.isMenuInsideDropDown)("ant-dropdown-menu-light",r.isMenuInsideDropDown&&"light"===r.nzTheme)("ant-dropdown-menu-dark",r.isMenuInsideDropDown&&"dark"===r.nzTheme)("ant-dropdown-menu-vertical",r.isMenuInsideDropDown&&"vertical"===r.actualMode)("ant-dropdown-menu-horizontal",r.isMenuInsideDropDown&&"horizontal"===r.actualMode)("ant-dropdown-menu-inline",r.isMenuInsideDropDown&&"inline"===r.actualMode)("ant-dropdown-menu-inline-collapsed",r.isMenuInsideDropDown&&r.nzInlineCollapsed)("ant-menu",!r.isMenuInsideDropDown)("ant-menu-root",!r.isMenuInsideDropDown)("ant-menu-light",!r.isMenuInsideDropDown&&"light"===r.nzTheme)("ant-menu-dark",!r.isMenuInsideDropDown&&"dark"===r.nzTheme)("ant-menu-vertical",!r.isMenuInsideDropDown&&"vertical"===r.actualMode)("ant-menu-horizontal",!r.isMenuInsideDropDown&&"horizontal"===r.actualMode)("ant-menu-inline",!r.isMenuInsideDropDown&&"inline"===r.actualMode)("ant-menu-inline-collapsed",!r.isMenuInsideDropDown&&r.nzInlineCollapsed)("ant-menu-rtl","rtl"===r.dir)},inputs:{nzInlineIndent:"nzInlineIndent",nzTheme:"nzTheme",nzMode:"nzMode",nzInlineCollapsed:"nzInlineCollapsed",nzSelectable:"nzSelectable"},outputs:{nzClick:"nzClick"},exportAs:["nzMenu"],features:[Rr([{provide:OF,useClass:Yc},{provide:Yc,useFactory:bme,deps:[[new Ya,new Zo,Yc],OF]},{provide:Ql,useFactory:wme,deps:[[new Ya,new Zo,Ql]]}]),Tn]}),On([Jn(),kn("design:type",Object)],n.prototype,"nzInlineCollapsed",void 0),On([Jn(),kn("design:type",Object)],n.prototype,"nzSelectable",void 0),n})(),Mme=(()=>{class n{constructor(t,r){this.cdr=t,this.directionality=r,this.nzIcon=null,this.nzTitle=null,this.isMenuInsideDropDown=!1,this.nzDisabled=!1,this.paddingLeft=null,this.mode="vertical",this.toggleSubMenu=new Hn,this.subMenuMouseState=new Hn,this.dir="ltr",this.destroy$=new ye}ngOnInit(){var t;this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(wr(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setMouseState(t){this.nzDisabled||this.subMenuMouseState.next(t)}clickTitle(){"inline"===this.mode&&!this.nzDisabled&&this.toggleSubMenu.emit()}}return n.\u0275fac=function(t){return new(t||n)(Ae(wo),Ae(eo,8))},n.\u0275cmp=tr({type:n,selectors:[["","nz-submenu-title",""]],hostVars:8,hostBindings:function(t,r){1&t&&nr("click",function(){return r.clickTitle()})("mouseenter",function(){return r.setMouseState(!0)})("mouseleave",function(){return r.setMouseState(!1)}),2&t&&(Oo("padding-left","rtl"===r.dir?null:r.paddingLeft,"px")("padding-right","rtl"===r.dir?r.paddingLeft:null,"px"),Hr("ant-dropdown-menu-submenu-title",r.isMenuInsideDropDown)("ant-menu-submenu-title",!r.isMenuInsideDropDown))},inputs:{nzIcon:"nzIcon",nzTitle:"nzTitle",isMenuInsideDropDown:"isMenuInsideDropDown",nzDisabled:"nzDisabled",paddingLeft:"paddingLeft",mode:"mode"},outputs:{toggleSubMenu:"toggleSubMenu",subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuTitle"],attrs:ame,ngContentSelectors:pme,decls:6,vars:4,consts:[["nz-icon","",3,"nzType",4,"ngIf"],[4,"nzStringTemplateOutlet"],["class","ant-dropdown-menu-submenu-expand-icon",3,"ngSwitch",4,"ngIf","ngIfElse"],["notDropdownTpl",""],["nz-icon","",3,"nzType"],[1,"ant-dropdown-menu-submenu-expand-icon",3,"ngSwitch"],["nz-icon","","nzType","left","class","ant-dropdown-menu-submenu-arrow-icon",4,"ngSwitchCase"],["nz-icon","","nzType","right","class","ant-dropdown-menu-submenu-arrow-icon",4,"ngSwitchDefault"],["nz-icon","","nzType","left",1,"ant-dropdown-menu-submenu-arrow-icon"],["nz-icon","","nzType","right",1,"ant-dropdown-menu-submenu-arrow-icon"],[1,"ant-menu-submenu-arrow"]],template:function(t,r){if(1&t&&(Ps(),Rn(0,lme,1,1,"i",0),Rn(1,cme,3,1,"ng-container",1),Ho(2),Rn(3,dme,3,2,"span",2),Rn(4,fme,1,0,"ng-template",null,3,Ll)),2&t){const i=Xa(5);Wt("ngIf",r.nzIcon),an(1),Wt("nzStringTemplateOutlet",r.nzTitle),an(2),Wt("ngIf",r.isMenuInsideDropDown)("ngIfElse",i)}},directives:[js,Bu,jl,u3,fE,pE],encapsulation:2,changeDetection:0}),n})(),Sme=(()=>{class n{constructor(t,r,i){this.elementRef=t,this.renderer=r,this.directionality=i,this.templateOutlet=null,this.menuClass="",this.mode="vertical",this.nzOpen=!1,this.listOfCacheClassName=[],this.expandState="collapsed",this.dir="ltr",this.destroy$=new ye,this.elementRef.nativeElement.classList.add("ant-menu","ant-menu-inline","ant-menu-sub")}calcMotionState(){this.expandState=this.nzOpen?"expanded":"collapsed"}ngOnInit(){var t;this.calcMotionState(),this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(wr(this.destroy$)).subscribe(r=>{this.dir=r})}ngOnChanges(t){const{mode:r,nzOpen:i,menuClass:o}=t;(r||i)&&this.calcMotionState(),o&&(this.listOfCacheClassName.length&&this.listOfCacheClassName.filter(s=>!!s).forEach(s=>{this.renderer.removeClass(this.elementRef.nativeElement,s)}),this.menuClass&&(this.listOfCacheClassName=this.menuClass.split(" "),this.listOfCacheClassName.filter(s=>!!s).forEach(s=>{this.renderer.addClass(this.elementRef.nativeElement,s)})))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(Ae(jn),Ae(Ri),Ae(eo,8))},n.\u0275cmp=tr({type:n,selectors:[["","nz-submenu-inline-child",""]],hostVars:3,hostBindings:function(t,r){2&t&&(M2("@collapseMotion",r.expandState),Hr("ant-menu-rtl","rtl"===r.dir))},inputs:{templateOutlet:"templateOutlet",menuClass:"menuClass",mode:"mode",nzOpen:"nzOpen"},exportAs:["nzSubmenuInlineChild"],features:[Tn],attrs:mme,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(t,r){1&t&&Rn(0,gme,0,0,"ng-template",0),2&t&&Wt("ngTemplateOutlet",r.templateOutlet)},directives:[p1],encapsulation:2,data:{animation:[$4e]},changeDetection:0}),n})(),Cme=(()=>{class n{constructor(t,r){this.elementRef=t,this.directionality=r,this.menuClass="",this.theme="light",this.templateOutlet=null,this.isMenuInsideDropDown=!1,this.mode="vertical",this.position="right",this.nzDisabled=!1,this.nzOpen=!1,this.subMenuMouseState=new Hn,this.expandState="collapsed",this.dir="ltr",this.destroy$=new ye,this.elementRef.nativeElement.classList.add("ant-menu-submenu","ant-menu-submenu-popup")}setMouseState(t){this.nzDisabled||this.subMenuMouseState.next(t)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}calcMotionState(){this.nzOpen?"horizontal"===this.mode?this.expandState="bottom":"vertical"===this.mode&&(this.expandState="active"):this.expandState="collapsed"}ngOnInit(){var t;this.calcMotionState(),this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(wr(this.destroy$)).subscribe(r=>{this.dir=r})}ngOnChanges(t){const{mode:r,nzOpen:i}=t;(r||i)&&this.calcMotionState()}}return n.\u0275fac=function(t){return new(t||n)(Ae(jn),Ae(eo,8))},n.\u0275cmp=tr({type:n,selectors:[["","nz-submenu-none-inline-child",""]],hostVars:14,hostBindings:function(t,r){1&t&&nr("mouseenter",function(){return r.setMouseState(!0)})("mouseleave",function(){return r.setMouseState(!1)}),2&t&&(M2("@slideMotion",r.expandState)("@zoomBigMotion",r.expandState),Hr("ant-menu-light","light"===r.theme)("ant-menu-dark","dark"===r.theme)("ant-menu-submenu-placement-bottom","horizontal"===r.mode)("ant-menu-submenu-placement-right","vertical"===r.mode&&"right"===r.position)("ant-menu-submenu-placement-left","vertical"===r.mode&&"left"===r.position)("ant-menu-submenu-rtl","rtl"===r.dir))},inputs:{menuClass:"menuClass",theme:"theme",templateOutlet:"templateOutlet",isMenuInsideDropDown:"isMenuInsideDropDown",mode:"mode",position:"position",nzDisabled:"nzDisabled",nzOpen:"nzOpen"},outputs:{subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuNoneInlineChild"],features:[Tn],attrs:vme,decls:2,vars:16,consts:[[3,"ngClass"],[3,"ngTemplateOutlet"]],template:function(t,r){1&t&&(Pt(0,"div",0),Rn(1,yme,0,0,"ng-template",1),kt()),2&t&&(Hr("ant-dropdown-menu",r.isMenuInsideDropDown)("ant-menu",!r.isMenuInsideDropDown)("ant-dropdown-menu-vertical",r.isMenuInsideDropDown)("ant-menu-vertical",!r.isMenuInsideDropDown)("ant-dropdown-menu-sub",r.isMenuInsideDropDown)("ant-menu-sub",!r.isMenuInsideDropDown)("ant-menu-rtl","rtl"===r.dir),Wt("ngClass",r.menuClass),an(1),Wt("ngTemplateOutlet",r.templateOutlet))},directives:[c3,p1],encapsulation:2,data:{animation:[ZR,KR]},changeDetection:0}),n})(),zb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({imports:[[Aa,ia,Bl,xb,Dc,gb,_4]]}),n})();function Tme(n,e){if(1&n){const t=xa();Pt(0,"div",0),nr("@slideMotion.done",function(i){return Vo(t),Qn().onAnimationEvent(i)})("mouseenter",function(){return Vo(t),Qn().setMouseState(!0)})("mouseleave",function(){return Vo(t),Qn().setMouseState(!1)}),Ho(1),kt()}if(2&n){const t=Qn();Hr("ant-dropdown-rtl","rtl"===t.dir),Wt("ngClass",t.nzOverlayClassName)("ngStyle",t.nzOverlayStyle)("@slideMotion",void 0)("@.disabled",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)}}const Eme=["*"],Dme=[zi.bottomLeft,zi.bottomRight,zi.topRight,zi.topLeft];let zme=(()=>{class n{constructor(t,r,i,o,s){this.elementRef=t,this.overlay=r,this.renderer=i,this.viewContainerRef=o,this.platform=s,this.overlayRef=null,this.destroy$=new ye,this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.elementRef.nativeElement).withLockedPosition().withTransformOriginOn(".ant-dropdown"),this.inputVisible$=new Wi(!1),this.nzTrigger$=new Wi("hover"),this.overlayClose$=new ye,this.nzDropdownMenu=null,this.nzTrigger="hover",this.nzMatchWidthElement=null,this.nzBackdrop=!1,this.nzHasBackdrop=!1,this.nzClickHide=!0,this.nzDisabled=!1,this.nzVisible=!1,this.nzOverlayClassName="",this.nzOverlayStyle={},this.nzPlacement="bottomLeft",this.nzVisibleChange=new Hn,this.elementRef.nativeElement.classList.add("ant-dropdown-trigger")}setDropdownMenuValue(t,r){this.nzDropdownMenu&&this.nzDropdownMenu.setValue(t,r)}ngOnInit(){}ngAfterViewInit(){if(this.nzDropdownMenu){const t=this.elementRef.nativeElement,r=Gt(pa(t,"mouseenter").pipe(Pp(!0)),pa(t,"mouseleave").pipe(Pp(!1))),o=Gt(this.nzDropdownMenu.mouseState$,r),s=pa(t,"click").pipe(we(()=>!this.nzVisible)),c=Gt(this.nzTrigger$.pipe(sl(_=>"hover"===_?o:"click"===_?s:gh)),this.nzDropdownMenu.descendantMenuItemClick$.pipe(Qi(()=>this.nzClickHide),Pp(!1)),this.overlayClose$).pipe(Qi(()=>!this.nzDisabled));g1([Gt(this.inputVisible$,c),this.nzDropdownMenu.isChildSubMenuOpen$]).pipe(we(([_,S])=>_||S),Jh(150),jc(),Qi(()=>this.platform.isBrowser),wr(this.destroy$)).subscribe(_=>{const D=(this.nzMatchWidthElement?this.nzMatchWidthElement.nativeElement:t).getBoundingClientRect().width;this.nzVisible!==_&&this.nzVisibleChange.emit(_),this.nzVisible=_,_?(this.overlayRef?this.overlayRef.getConfig().minWidth=D:(this.overlayRef=this.overlay.create({positionStrategy:this.positionStrategy,minWidth:D,disposeOnNavigation:!0,hasBackdrop:(this.nzHasBackdrop||this.nzBackdrop)&&"click"===this.nzTrigger,scrollStrategy:this.overlay.scrollStrategies.reposition()}),Gt(this.overlayRef.backdropClick(),this.overlayRef.detachments(),this.overlayRef.outsidePointerEvents().pipe(Qi(k=>!this.elementRef.nativeElement.contains(k.target))),this.overlayRef.keydownEvents().pipe(Qi(k=>27===k.keyCode&&!_m(k)))).pipe(wr(this.destroy$)).subscribe(()=>{this.overlayClose$.next(!1)})),this.positionStrategy.withPositions([zi[this.nzPlacement],...Dme]),(!this.portal||this.portal.templateRef!==this.nzDropdownMenu.templateRef)&&(this.portal=new V6(this.nzDropdownMenu.templateRef,this.viewContainerRef)),this.overlayRef.attach(this.portal)):this.overlayRef&&this.overlayRef.detach()}),this.nzDropdownMenu.animationStateChange$.pipe(wr(this.destroy$)).subscribe(_=>{"void"===_.toState&&(this.overlayRef&&this.overlayRef.dispose(),this.overlayRef=null)})}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}ngOnChanges(t){const{nzVisible:r,nzDisabled:i,nzOverlayClassName:o,nzOverlayStyle:s,nzTrigger:a,nzBackdrop:l}=t;if(a&&this.nzTrigger$.next(this.nzTrigger),r&&this.inputVisible$.next(this.nzVisible),i){const c=this.elementRef.nativeElement;this.nzDisabled?(this.renderer.setAttribute(c,"disabled",""),this.inputVisible$.next(!1)):this.renderer.removeAttribute(c,"disabled")}o&&this.setDropdownMenuValue("nzOverlayClassName",this.nzOverlayClassName),s&&this.setDropdownMenuValue("nzOverlayStyle",this.nzOverlayStyle),l&&HP("`nzBackdrop` in dropdown component will be removed in 12.0.0, please use `nzHasBackdrop` instead.")}}return n.\u0275fac=function(t){return new(t||n)(Ae(jn),Ae(H6),Ae(Ri),Ae(xo),Ae(qi))},n.\u0275dir=tn({type:n,selectors:[["","nz-dropdown",""]],inputs:{nzDropdownMenu:"nzDropdownMenu",nzTrigger:"nzTrigger",nzMatchWidthElement:"nzMatchWidthElement",nzBackdrop:"nzBackdrop",nzHasBackdrop:"nzHasBackdrop",nzClickHide:"nzClickHide",nzDisabled:"nzDisabled",nzVisible:"nzVisible",nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzPlacement:"nzPlacement"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzDropdown"],features:[Tn]}),On([Jn(),kn("design:type",Object)],n.prototype,"nzBackdrop",void 0),On([Jn(),kn("design:type",Object)],n.prototype,"nzHasBackdrop",void 0),On([Jn(),kn("design:type",Object)],n.prototype,"nzClickHide",void 0),On([Jn(),kn("design:type",Object)],n.prototype,"nzDisabled",void 0),On([Jn(),kn("design:type",Object)],n.prototype,"nzVisible",void 0),n})(),Ame=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({}),n})(),Pme=(()=>{class n{constructor(t,r,i,o,s,a,l){this.cdr=t,this.elementRef=r,this.renderer=i,this.viewContainerRef=o,this.nzMenuService=s,this.directionality=a,this.noAnimation=l,this.mouseState$=new Wi(!1),this.isChildSubMenuOpen$=this.nzMenuService.isChildSubMenuOpen$,this.descendantMenuItemClick$=this.nzMenuService.descendantMenuItemClick$,this.animationStateChange$=new Hn,this.nzOverlayClassName="",this.nzOverlayStyle={},this.dir="ltr",this.destroy$=new ye}onAnimationEvent(t){this.animationStateChange$.emit(t)}setMouseState(t){this.mouseState$.next(t)}setValue(t,r){this[t]=r,this.cdr.markForCheck()}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe(wr(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterContentInit(){this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(Ae(wo),Ae(jn),Ae(Ri),Ae(xo),Ae(Yc),Ae(eo,8),Ae(Uc,9))},n.\u0275cmp=tr({type:n,selectors:[["nz-dropdown-menu"]],viewQuery:function(t,r){if(1&t&&mi(ho,7),2&t){let i;gr(i=vr())&&(r.templateRef=i.first)}},exportAs:["nzDropdownMenu"],features:[Rr([Yc,{provide:Ql,useValue:!0}])],ngContentSelectors:Eme,decls:1,vars:0,consts:[[1,"ant-dropdown",3,"ngClass","ngStyle","nzNoAnimation","mouseenter","mouseleave"]],template:function(t,r){1&t&&(Ps(),Rn(0,Tme,2,7,"ng-template"))},directives:[c3,lu,Uc],encapsulation:2,data:{animation:[KR]},changeDetection:0}),n})(),kme=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({imports:[[Aa,ia,xb,O7,XL,zb,Dc,gb,Bl,CF,Ame,_4],zb]}),n})();new ro({originX:"start",originY:"top"},{overlayX:"start",overlayY:"top"}),new ro({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new ro({originX:"start",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new ro({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"});var FF=function(){if("undefined"!=typeof Map)return Map;function n(e,t){var r=-1;return e.some(function(i,o){return i[0]===t&&(r=o,!0)}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(t,r){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,i=n(r,t);~i&&r.splice(i,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){void 0===r&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];t.call(r,s[1],s[0])}},e}()}(),Ab="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,j6="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Lme="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(j6):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)},Fme=["top","right","bottom","left","width","height","size","weight"],Nme="undefined"!=typeof MutationObserver,Vme=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(n,e){var t=!1,r=!1,i=0;function o(){t&&(t=!1,n()),r&&a()}function s(){Lme(o)}function a(){var l=Date.now();if(t){if(l-i<2)return;r=!0}else t=!0,r=!1,setTimeout(s,20);i=l}return a}(this.refresh.bind(this))}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!Ab||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Nme?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!Ab||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t;Fme.some(function(o){return!!~r.indexOf(o)})&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),NF=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];Object.defineProperty(n,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return n},Vf=function(n){return n&&n.ownerDocument&&n.ownerDocument.defaultView||j6},VF=Y6(0,0,0,0);function U6(n){return parseFloat(n)||0}function HF(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,i){return r+U6(n["border-"+i+"-width"])},0)}var Ume="undefined"!=typeof SVGGraphicsElement?function(n){return n instanceof Vf(n).SVGGraphicsElement}:function(n){return n instanceof Vf(n).SVGElement&&"function"==typeof n.getBBox};function Gme(n){return Ab?Ume(n)?function(n){var e=n.getBBox();return Y6(0,0,e.width,e.height)}(n):function(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return VF;var r=Vf(n).getComputedStyle(n),i=function(n){for(var t={},r=0,i=["top","right","bottom","left"];r<i.length;r++){var o=i[r];t[o]=U6(n["padding-"+o])}return t}(r),o=i.left+i.right,s=i.top+i.bottom,a=U6(r.width),l=U6(r.height);if("border-box"===r.boxSizing&&(Math.round(a+o)!==e&&(a-=HF(r,"left","right")+o),Math.round(l+s)!==t&&(l-=HF(r,"top","bottom")+s)),!function(n){return n===Vf(n).document.documentElement}(n)){var c=Math.round(a+o)-e,p=Math.round(l+s)-t;1!==Math.abs(c)&&(a-=c),1!==Math.abs(p)&&(l-=p)}return Y6(i.left,i.top,a,l)}(n):VF}function Y6(n,e,t,r){return{x:n,y:e,width:t,height:r}}var qme=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Y6(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=Gme(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),$me=function(e,t){var r=function(n){var e=n.x,t=n.y,r=n.width,i=n.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return NF(s,{x:e,y:t,width:r,height:i,top:t,right:e+r,bottom:i+t,left:e}),s}(t);NF(this,{target:e,contentRect:r})},Xme=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new FF,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Vf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new qme(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Vf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;!t.has(e)||(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new $me(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),BF="undefined"!=typeof WeakMap?new WeakMap:new FF,jF=function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=Vme.getInstance(),r=new Xme(e,t,this);BF.set(this,r)};["observe","unobserve","disconnect"].forEach(function(n){jF.prototype[n]=function(){var e;return(e=BF.get(this))[n].apply(e,arguments)}});const UF=void 0!==j6.ResizeObserver?j6.ResizeObserver:jF;let YF=(()=>{class n{create(t){return void 0===UF?null:new UF(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=sn({factory:function(){return new n},token:n,providedIn:"root"}),n})(),Zme=(()=>{class n{constructor(t){this.nzResizeObserverFactory=t,this.observedElements=new Map}ngOnDestroy(){this.observedElements.forEach((t,r)=>this.cleanupObserver(r))}observe(t){const r=Ph(t);return new Y(i=>{const s=this.observeElement(r).subscribe(i);return()=>{s.unsubscribe(),this.unobserveElement(r)}})}observeElement(t){if(this.observedElements.has(t))this.observedElements.get(t).count++;else{const r=new ye,i=this.nzResizeObserverFactory.create(o=>r.next(o));i&&i.observe(t),this.observedElements.set(t,{observer:i,stream:r,count:1})}return this.observedElements.get(t).stream}unobserveElement(t){this.observedElements.has(t)&&(this.observedElements.get(t).count--,this.observedElements.get(t).count||this.cleanupObserver(t))}cleanupObserver(t){if(this.observedElements.has(t)){const{observer:r,stream:i}=this.observedElements.get(t);r&&r.disconnect(),i.complete(),this.observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(Ke(YF))},n.\u0275prov=sn({factory:function(){return new n(Ke(YF))},token:n,providedIn:"root"}),n})();function Qme(n,e){if(1&n&&(zs(0),Vn(1,"i",1),As()),2&n){const t=e.$implicit;an(1),Wt("nzType",t)}}const Jme=["contentTemplate"];function e8e(n,e){1&n&&Ho(0)}function t8e(n,e){1&n&&Ho(0,1)}const n8e=[[["","nz-tab-link",""]],"*"],r8e=["[nz-tab-link]","*"];function i8e(n,e){if(1&n&&(zs(0),uo(1),As()),2&n){const t=Qn().$implicit;an(1),mc(t.tab.label)}}const o8e=function(){return{visible:!1}};function s8e(n,e){if(1&n){const t=xa();Pt(0,"li",8),nr("click",function(){const o=Vo(t).$implicit;return Qn(2).onSelect(o)})("contextmenu",function(i){const s=Vo(t).$implicit;return Qn(2).onContextmenu(s,i)}),Rn(1,i8e,2,1,"ng-container",9),kt()}if(2&n){const t=e.$implicit;Hr("ant-tabs-dropdown-menu-item-disabled",t.disabled),Wt("nzSelected",t.active)("nzDisabled",t.disabled),an(1),Wt("nzStringTemplateOutlet",t.tab.label)("nzStringTemplateOutletContext",R2(6,o8e))}}function a8e(n,e){if(1&n&&(Pt(0,"ul",6),Rn(1,s8e,2,7,"li",7),kt()),2&n){const t=Qn();an(1),Wt("ngForOf",t.items)}}function l8e(n,e){if(1&n){const t=xa();Pt(0,"button",10),nr("click",function(){return Vo(t),Qn().addClicked.emit()}),kt()}2&n&&Wt("addIcon",Qn().addIcon)}const c8e=function(){return{minWidth:"46px"}},u8e=["navWarp"],h8e=["navList"];function d8e(n,e){if(1&n){const t=xa();Pt(0,"button",8),nr("click",function(){return Vo(t),Qn().addClicked.emit()}),kt()}2&n&&Wt("addIcon",Qn().addIcon)}function f8e(n,e){}function p8e(n,e){if(1&n&&(Pt(0,"div",9),Rn(1,f8e,0,0,"ng-template",10),kt()),2&n){const t=Qn();an(1),Wt("ngTemplateOutlet",t.extraTemplate)}}const m8e=["*"],g8e=["nz-tab-body",""];function v8e(n,e){}function y8e(n,e){if(1&n&&(zs(0),Rn(1,v8e,0,0,"ng-template",1),As()),2&n){const t=Qn();an(1),Wt("ngTemplateOutlet",t.content)}}function _8e(n,e){if(1&n&&(zs(0),Vn(1,"i",1),As()),2&n){const t=e.$implicit;an(1),Wt("nzType",t)}}function b8e(n,e){if(1&n&&(zs(0),uo(1),As()),2&n){const t=Qn().$implicit;an(1),mc(t.label)}}function w8e(n,e){if(1&n){const t=xa();Pt(0,"button",10),nr("click",function(i){Vo(t);const o=Qn().index;return Qn(2).onClose(o,i)}),kt()}2&n&&Wt("closeIcon",Qn().$implicit.nzCloseIcon)}const x8e=function(){return{visible:!0}};function M8e(n,e){if(1&n){const t=xa();Pt(0,"div",6),nr("click",function(i){const o=Vo(t),s=o.$implicit,a=o.index;return Qn(2).clickNavItem(s,a,i)})("contextmenu",function(i){const s=Vo(t).$implicit;return Qn(2).contextmenuNavItem(s,i)}),Pt(1,"div",7),Rn(2,b8e,2,1,"ng-container",8),Rn(3,w8e,1,1,"button",9),kt(),kt()}if(2&n){const t=e.$implicit,r=e.index,i=Qn(2);Oo("margin-right","horizontal"===i.position?i.nzTabBarGutter:null,"px")("margin-bottom","vertical"===i.position?i.nzTabBarGutter:null,"px"),Hr("ant-tabs-tab-active",i.nzSelectedIndex===r)("ant-tabs-tab-disabled",t.nzDisabled),an(1),Wt("disabled",t.nzDisabled)("tab",t)("active",i.nzSelectedIndex===r),Ds("tabIndex",i.getTabIndex(t,r))("aria-disabled",t.nzDisabled)("aria-selected",i.nzSelectedIndex===r&&!i.nzHideAll)("aria-controls",i.getTabContentId(r)),an(1),Wt("nzStringTemplateOutlet",t.label)("nzStringTemplateOutletContext",R2(18,x8e)),an(1),Wt("ngIf",t.nzClosable&&i.closable&&!t.nzDisabled)}}function S8e(n,e){if(1&n){const t=xa();Pt(0,"nz-tabs-nav",4),nr("tabScroll",function(i){return Vo(t),Qn().nzTabListScroll.emit(i)})("selectFocusedIndex",function(i){return Vo(t),Qn().setSelectedIndex(i)})("addClicked",function(){return Vo(t),Qn().onAdd()}),Rn(1,M8e,4,19,"div",5),kt()}if(2&n){const t=Qn();Wt("ngStyle",t.nzTabBarStyle)("selectedIndex",t.nzSelectedIndex||0)("inkBarAnimated",t.inkBarAnimated)("addable",t.addable)("addIcon",t.nzAddIcon)("hideBar",t.nzHideAll)("position",t.position)("extraTemplate",t.nzTabBarExtraContent),an(1),Wt("ngForOf",t.tabs)}}function C8e(n,e){if(1&n&&Vn(0,"div",11),2&n){const t=e.$implicit,r=e.index,i=Qn();Wt("active",i.nzSelectedIndex==r&&!i.nzHideAll)("content",t.content)("forceRender",t.nzForceRender)("tabPaneAnimated",i.tabPaneAnimated)}}let G6=(()=>{class n{constructor(t){this.elementRef=t,this.addIcon="plus",this.element=this.elementRef.nativeElement}getElementWidth(){var t;return(null===(t=this.element)||void 0===t?void 0:t.offsetWidth)||0}getElementHeight(){var t;return(null===(t=this.element)||void 0===t?void 0:t.offsetHeight)||0}}return n.\u0275fac=function(t){return new(t||n)(Ae(jn))},n.\u0275cmp=tr({type:n,selectors:[["nz-tab-add-button"],["button","nz-tab-add-button",""]],hostAttrs:["aria-label","Add tab","type","button",1,"ant-tabs-nav-add"],inputs:{addIcon:"addIcon"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"]],template:function(t,r){1&t&&Rn(0,Qme,2,1,"ng-container",0),2&t&&Wt("nzStringTemplateOutlet",r.addIcon)},directives:[Bu,jl],encapsulation:2}),n})(),Pb=(()=>{class n{constructor(t,r,i){this.elementRef=t,this.ngZone=r,this.animationMode=i,this.position="horizontal",this.animated=!0}get _animated(){return"NoopAnimations"!==this.animationMode&&this.animated}alignToElement(t){this.ngZone.runOutsideAngular(()=>{LF(()=>this.setStyles(t))})}setStyles(t){const r=this.elementRef.nativeElement;"horizontal"===this.position?(r.style.top="",r.style.height="",r.style.left=this.getLeftPosition(t),r.style.width=this.getElementWidth(t)):(r.style.left="",r.style.width="",r.style.top=this.getTopPosition(t),r.style.height=this.getElementHeight(t))}getLeftPosition(t){return t?(t.offsetLeft||0)+"px":"0"}getElementWidth(t){return t?(t.offsetWidth||0)+"px":"0"}getTopPosition(t){return t?(t.offsetTop||0)+"px":"0"}getElementHeight(t){return t?(t.offsetHeight||0)+"px":"0"}}return n.\u0275fac=function(t){return new(t||n)(Ae(jn),Ae(yr),Ae(Ip,8))},n.\u0275dir=tn({type:n,selectors:[["nz-tabs-ink-bar"],["","nz-tabs-ink-bar",""]],hostAttrs:[1,"ant-tabs-ink-bar"],hostVars:2,hostBindings:function(t,r){2&t&&Hr("ant-tabs-ink-bar-animated",r._animated)},inputs:{position:"position",animated:"animated"}}),n})(),GF=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(Ae(ho,1))},n.\u0275dir=tn({type:n,selectors:[["ng-template","nzTabLink",""]],exportAs:["nzTabLinkTemplate"]}),n})(),WF=(()=>{class n{constructor(t,r,i){this.elementRef=t,this.routerLink=r,this.routerLinkWithHref=i}}return n.\u0275fac=function(t){return new(t||n)(Ae(jn),Ae(w1,10),Ae(Mh,10))},n.\u0275dir=tn({type:n,selectors:[["a","nz-tab-link",""]],exportAs:["nzTabLink"]}),n})(),qF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=tn({type:n,selectors:[["","nz-tab",""]],exportAs:["nzTab"]}),n})();const $F=new Nn("NZ_TAB_SET");let W6=(()=>{class n{constructor(t){this.closestTabSet=t,this.nzTitle="",this.nzClosable=!1,this.nzCloseIcon="close",this.nzDisabled=!1,this.nzForceRender=!1,this.nzSelect=new Hn,this.nzDeselect=new Hn,this.nzClick=new Hn,this.nzContextmenu=new Hn,this.template=null,this.isActive=!1,this.position=null,this.origin=null,this.stateChanges=new ye}get content(){return this.template||this.contentTemplate}get label(){var t;return this.nzTitle||(null===(t=this.nzTabLinkTemplateDirective)||void 0===t?void 0:t.templateRef)}ngOnChanges(t){const{nzTitle:r,nzDisabled:i,nzForceRender:o}=t;(r||i||o)&&this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete()}}return n.\u0275fac=function(t){return new(t||n)(Ae($F))},n.\u0275cmp=tr({type:n,selectors:[["nz-tab"]],contentQueries:function(t,r,i){if(1&t&&(Qo(i,qF,5,ho),Qo(i,GF,5),Qo(i,WF,5)),2&t){let o;gr(o=vr())&&(r.template=o.first),gr(o=vr())&&(r.nzTabLinkTemplateDirective=o.first),gr(o=vr())&&(r.linkDirective=o.first)}},viewQuery:function(t,r){if(1&t&&mi(Jme,7),2&t){let i;gr(i=vr())&&(r.contentTemplate=i.first)}},inputs:{nzTitle:"nzTitle",nzClosable:"nzClosable",nzCloseIcon:"nzCloseIcon",nzDisabled:"nzDisabled",nzForceRender:"nzForceRender"},outputs:{nzSelect:"nzSelect",nzDeselect:"nzDeselect",nzClick:"nzClick",nzContextmenu:"nzContextmenu"},exportAs:["nzTab"],features:[Tn],ngContentSelectors:r8e,decls:4,vars:0,consts:[["tabLinkTemplate",""],["contentTemplate",""]],template:function(t,r){1&t&&(Ps(n8e),Rn(0,e8e,1,0,"ng-template",null,0,Ll),Rn(2,t8e,1,0,"ng-template",null,1,Ll))},encapsulation:2,changeDetection:0}),On([Jn(),kn("design:type",Object)],n.prototype,"nzClosable",void 0),On([Jn(),kn("design:type",Object)],n.prototype,"nzDisabled",void 0),On([Jn(),kn("design:type",Object)],n.prototype,"nzForceRender",void 0),n})(),kb=(()=>{class n{constructor(t){this.elementRef=t,this.disabled=!1,this.active=!1,this.el=t.nativeElement,this.parentElement=this.el.parentElement}focus(){this.el.focus()}get width(){return this.parentElement.offsetWidth}get height(){return this.parentElement.offsetHeight}get left(){return this.parentElement.offsetLeft}get top(){return this.parentElement.offsetTop}}return n.\u0275fac=function(t){return new(t||n)(Ae(jn))},n.\u0275dir=tn({type:n,selectors:[["","nzTabNavItem",""]],inputs:{disabled:"disabled",active:"active",tab:"tab"}}),n})(),Lb=(()=>{class n{constructor(t,r){this.cdr=t,this.elementRef=r,this.items=[],this.addable=!1,this.addIcon="plus",this.addClicked=new Hn,this.selected=new Hn,this.closeAnimationWaitTimeoutId=-1,this.menuOpened=!1,this.element=this.elementRef.nativeElement}onSelect(t){t.disabled||(t.tab.nzClick.emit(),this.selected.emit(t))}onContextmenu(t,r){t.disabled||t.tab.nzContextmenu.emit(r)}showItems(){clearTimeout(this.closeAnimationWaitTimeoutId),this.menuOpened=!0,this.cdr.markForCheck()}menuVisChange(t){t||(this.closeAnimationWaitTimeoutId=setTimeout(()=>{this.menuOpened=!1,this.cdr.markForCheck()},150))}getElementWidth(){var t;return(null===(t=this.element)||void 0===t?void 0:t.offsetWidth)||0}getElementHeight(){var t;return(null===(t=this.element)||void 0===t?void 0:t.offsetHeight)||0}ngOnDestroy(){clearTimeout(this.closeAnimationWaitTimeoutId)}}return n.\u0275fac=function(t){return new(t||n)(Ae(wo),Ae(jn))},n.\u0275cmp=tr({type:n,selectors:[["nz-tab-nav-operation"]],hostAttrs:[1,"ant-tabs-nav-operations"],hostVars:2,hostBindings:function(t,r){2&t&&Hr("ant-tabs-nav-operations-hidden",0===r.items.length)},inputs:{items:"items",addable:"addable",addIcon:"addIcon"},outputs:{addClicked:"addClicked",selected:"selected"},exportAs:["nzTabNavOperation"],decls:7,vars:6,consts:[["nz-dropdown","","type","button","tabindex","-1","aria-hidden","true","nzOverlayClassName","nz-tabs-dropdown",1,"ant-tabs-nav-more",3,"nzDropdownMenu","nzOverlayStyle","nzMatchWidthElement","nzVisibleChange","mouseenter"],["dropdownTrigger","nzDropdown"],["nz-icon","","nzType","ellipsis"],["menu","nzDropdownMenu"],["nz-menu","",4,"ngIf"],["nz-tab-add-button","",3,"addIcon","click",4,"ngIf"],["nz-menu",""],["nz-menu-item","","class","ant-tabs-dropdown-menu-item",3,"ant-tabs-dropdown-menu-item-disabled","nzSelected","nzDisabled","click","contextmenu",4,"ngFor","ngForOf"],["nz-menu-item","",1,"ant-tabs-dropdown-menu-item",3,"nzSelected","nzDisabled","click","contextmenu"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-tab-add-button","",3,"addIcon","click"]],template:function(t,r){1&t&&(Pt(0,"button",0,1),nr("nzVisibleChange",function(o){return r.menuVisChange(o)})("mouseenter",function(){return r.showItems()}),Vn(2,"i",2),kt(),Pt(3,"nz-dropdown-menu",null,3),Rn(5,a8e,2,1,"ul",4),kt(),Rn(6,l8e,1,1,"button",5)),2&t&&(Wt("nzDropdownMenu",Xa(4))("nzOverlayStyle",R2(5,c8e))("nzMatchWidthElement",null),an(5),Wt("ngIf",r.menuOpened),an(1),Wt("ngIf",r.addable))},directives:[zme,jl,Pme,js,Db,mh,B6,Bu,G6],encapsulation:2,changeDetection:0}),n})();const T8e="undefined"!=typeof requestAnimationFrame?JR:nF;let Ob=(()=>{class n{constructor(t,r,i,o,s){this.cdr=t,this.ngZone=r,this.viewportRuler=i,this.nzResizeObserver=o,this.dir=s,this.indexFocused=new Hn,this.selectFocusedIndex=new Hn,this.addClicked=new Hn,this.tabScroll=new Hn,this.position="horizontal",this.addable=!1,this.hideBar=!1,this.addIcon="plus",this.inkBarAnimated=!0,this.translate=null,this.transformX=0,this.transformY=0,this.pingLeft=!1,this.pingRight=!1,this.pingTop=!1,this.pingBottom=!1,this.hiddenItems=[],this.destroy$=new ye,this._selectedIndex=0,this.wrapperWidth=0,this.wrapperHeight=0,this.scrollListWidth=0,this.scrollListHeight=0,this.operationWidth=0,this.operationHeight=0,this.addButtonWidth=0,this.addButtonHeight=0,this.selectedIndexChanged=!1,this.lockAnimationTimeoutId=-1,this.cssTransformTimeWaitingId=-1}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){const r=Ah(t);this._selectedIndex!==r&&(this._selectedIndex=t,this.selectedIndexChanged=!0,this.keyManager&&this.keyManager.updateActiveItem(t))}get focusIndex(){return this.keyManager?this.keyManager.activeItemIndex:0}set focusIndex(t){!this.isValidIndex(t)||this.focusIndex===t||!this.keyManager||this.keyManager.setActiveItem(t)}get showAddButton(){return 0===this.hiddenItems.length&&this.addable}ngOnInit(){}ngAfterViewInit(){const t=this.dir?this.dir.change:Xn(null),r=this.viewportRuler.change(150),i=()=>{this.updateScrollListPosition(),this.alignInkBarToSelectedTab()};this.keyManager=new sle(this.items).withHorizontalOrientation(this.getLayoutDirection()).withWrap(),this.keyManager.updateActiveItem(0),LF(i),Gt(this.nzResizeObserver.observe(this.navWarpRef),this.nzResizeObserver.observe(this.navListRef)).pipe(wr(this.destroy$),Jh(16,T8e)).subscribe(()=>{i()}),Gt(t,r,this.items.changes).pipe(wr(this.destroy$)).subscribe(()=>{Promise.resolve().then(i),this.keyManager.withHorizontalOrientation(this.getLayoutDirection())}),this.keyManager.change.pipe(wr(this.destroy$)).subscribe(o=>{this.indexFocused.emit(o),this.setTabFocus(o),this.scrollToTab(this.keyManager.activeItem)})}ngAfterContentChecked(){this.selectedIndexChanged&&(this.updateScrollListPosition(),this.alignInkBarToSelectedTab(),this.selectedIndexChanged=!1,this.cdr.markForCheck())}ngOnDestroy(){clearTimeout(this.lockAnimationTimeoutId),clearTimeout(this.cssTransformTimeWaitingId),this.destroy$.next(),this.destroy$.complete()}onSelectedFromMenu(t){const r=this.items.toArray().findIndex(i=>i===t);-1!==r&&(this.keyManager.updateActiveItem(r),this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this.scrollToTab(t)))}onOffsetChange(t){if("horizontal"===this.position){if(-1===this.lockAnimationTimeoutId&&(this.transformX>=0&&t.x>0||this.transformX<=this.wrapperWidth-this.scrollListWidth&&t.x<0))return;t.event.preventDefault(),this.transformX=this.clampTransformX(this.transformX+t.x),this.setTransform(this.transformX,0)}else{if(-1===this.lockAnimationTimeoutId&&(this.transformY>=0&&t.y>0||this.transformY<=this.wrapperHeight-this.scrollListHeight&&t.y<0))return;t.event.preventDefault(),this.transformY=this.clampTransformY(this.transformY+t.y),this.setTransform(0,this.transformY)}this.lockAnimation(),this.setVisibleRange(),this.setPingStatus()}handleKeydown(t){const r=this.navWarpRef.nativeElement.contains(t.target);if(!_m(t)&&r)switch(t.keyCode){case 37:case 38:case 39:case 40:this.lockAnimation(),this.keyManager.onKeydown(t);break;case 13:case 32:this.focusIndex!==this.selectedIndex&&this.selectFocusedIndex.emit(this.focusIndex);break;default:this.keyManager.onKeydown(t)}}isValidIndex(t){if(!this.items)return!0;const r=this.items?this.items.toArray()[t]:null;return!!r&&!r.disabled}scrollToTab(t){if(!this.items.find(i=>i===t))return;const r=this.items.toArray();if("horizontal"===this.position){let i=this.transformX;if("rtl"===this.getLayoutDirection()){const o=r[0].left+r[0].width-t.left-t.width;o<this.transformX?i=o:o+t.width>this.transformX+this.wrapperWidth&&(i=o+t.width-this.wrapperWidth)}else t.left<-this.transformX?i=-t.left:t.left+t.width>-this.transformX+this.wrapperWidth&&(i=-(t.left+t.width-this.wrapperWidth));this.transformX=i,this.transformY=0,this.setTransform(i,0)}else{let i=this.transformY;t.top<-this.transformY?i=-t.top:t.top+t.height>-this.transformY+this.wrapperHeight&&(i=-(t.top+t.height-this.wrapperHeight)),this.transformY=i,this.transformX=0,this.setTransform(0,i)}clearTimeout(this.cssTransformTimeWaitingId),this.cssTransformTimeWaitingId=setTimeout(()=>{this.setVisibleRange()},150)}lockAnimation(){-1===this.lockAnimationTimeoutId&&this.ngZone.runOutsideAngular(()=>{this.navListRef.nativeElement.style.transition="none",this.lockAnimationTimeoutId=setTimeout(()=>{this.navListRef.nativeElement.style.transition="",this.lockAnimationTimeoutId=-1},150)})}setTransform(t,r){this.navListRef.nativeElement.style.transform=`translate(${t}px, ${r}px)`}clampTransformX(t){const r=this.wrapperWidth-this.scrollListWidth;return"rtl"===this.getLayoutDirection()?Math.max(Math.min(r,t),0):Math.min(Math.max(r,t),0)}clampTransformY(t){return Math.min(Math.max(this.wrapperHeight-this.scrollListHeight,t),0)}updateScrollListPosition(){this.resetSizes(),this.transformX=this.clampTransformX(this.transformX),this.transformY=this.clampTransformY(this.transformY),this.setVisibleRange(),this.setPingStatus(),this.keyManager&&(this.keyManager.updateActiveItem(this.keyManager.activeItemIndex),this.keyManager.activeItem&&this.scrollToTab(this.keyManager.activeItem))}resetSizes(){this.addButtonWidth=this.addBtnRef?this.addBtnRef.getElementWidth():0,this.addButtonHeight=this.addBtnRef?this.addBtnRef.getElementHeight():0,this.operationWidth=this.operationRef.getElementWidth(),this.operationHeight=this.operationRef.getElementHeight(),this.wrapperWidth=this.navWarpRef.nativeElement.offsetWidth||0,this.wrapperHeight=this.navWarpRef.nativeElement.offsetHeight||0,this.scrollListHeight=this.navListRef.nativeElement.offsetHeight||0,this.scrollListWidth=this.navListRef.nativeElement.offsetWidth||0}alignInkBarToSelectedTab(){const t=this.items&&this.items.length?this.items.toArray()[this.selectedIndex]:null,r=t?t.elementRef.nativeElement:null;r&&this.inkBar.alignToElement(r.parentElement)}setPingStatus(){const t={top:!1,right:!1,bottom:!1,left:!1},r=this.navWarpRef.nativeElement;"horizontal"===this.position?"rtl"===this.getLayoutDirection()?(t.right=this.transformX>0,t.left=this.transformX+this.wrapperWidth<this.scrollListWidth):(t.left=this.transformX<0,t.right=-this.transformX+this.wrapperWidth<this.scrollListWidth):(t.top=this.transformY<0,t.bottom=-this.transformY+this.wrapperHeight<this.scrollListHeight),Object.keys(t).forEach(i=>{const o=`ant-tabs-nav-wrap-ping-${i}`;t[i]?r.classList.add(o):r.classList.remove(o)})}setVisibleRange(){let t,r,i,o,s,a;const l=this.items.toArray(),c={width:0,height:0,left:0,top:0,right:0},p=F=>{let I;return I="right"===r?l[0].left+l[0].width-l[F].left-l[F].width:(l[F]||c)[r],I};"horizontal"===this.position?(t="width",o=this.wrapperWidth,s=this.scrollListWidth-(this.hiddenItems.length?this.operationWidth:0),a=this.addButtonWidth,i=Math.abs(this.transformX),"rtl"===this.getLayoutDirection()?(r="right",this.pingRight=this.transformX>0,this.pingLeft=this.transformX+this.wrapperWidth<this.scrollListWidth):(this.pingLeft=this.transformX<0,this.pingRight=-this.transformX+this.wrapperWidth<this.scrollListWidth,r="left")):(t="height",o=this.wrapperHeight,s=this.scrollListHeight-(this.hiddenItems.length?this.operationHeight:0),a=this.addButtonHeight,r="top",i=-this.transformY,this.pingTop=this.transformY<0,this.pingBottom=-this.transformY+this.wrapperHeight<this.scrollListHeight);let _=o;if(s+a>o&&(_=o-a),!l.length)return this.hiddenItems=[],void this.cdr.markForCheck();const S=l.length;let D=S;for(let F=0;F<S;F+=1)if(p(F)+(l[F]||c)[t]>i+_){D=F-1;break}let k=0;for(let F=S-1;F>=0;F-=1)if(p(F)<i){k=F+1;break}const N=l.slice(0,k),B=l.slice(D+1);this.hiddenItems=[...N,...B],this.cdr.markForCheck()}getLayoutDirection(){return this.dir&&"rtl"===this.dir.value?"rtl":"ltr"}setTabFocus(t){}ngOnChanges(t){const{position:r}=t;r&&!r.isFirstChange()&&(this.alignInkBarToSelectedTab(),this.lockAnimation(),this.updateScrollListPosition())}}return n.\u0275fac=function(t){return new(t||n)(Ae(wo),Ae(yr),Ae(Nf),Ae(Zme),Ae(eo,8))},n.\u0275cmp=tr({type:n,selectors:[["nz-tabs-nav"]],contentQueries:function(t,r,i){if(1&t&&Qo(i,kb,5),2&t){let o;gr(o=vr())&&(r.items=o)}},viewQuery:function(t,r){if(1&t&&(mi(u8e,7),mi(h8e,7),mi(Lb,7),mi(G6,5),mi(Pb,7)),2&t){let i;gr(i=vr())&&(r.navWarpRef=i.first),gr(i=vr())&&(r.navListRef=i.first),gr(i=vr())&&(r.operationRef=i.first),gr(i=vr())&&(r.addBtnRef=i.first),gr(i=vr())&&(r.inkBar=i.first)}},hostAttrs:["role","tablist",1,"ant-tabs-nav"],hostBindings:function(t,r){1&t&&nr("keydown",function(o){return r.handleKeydown(o)})},inputs:{position:"position",addable:"addable",hideBar:"hideBar",addIcon:"addIcon",inkBarAnimated:"inkBarAnimated",selectedIndex:"selectedIndex",extraTemplate:"extraTemplate"},outputs:{indexFocused:"indexFocused",selectFocusedIndex:"selectFocusedIndex",addClicked:"addClicked",tabScroll:"tabScroll"},exportAs:["nzTabsNav"],features:[Tn],ngContentSelectors:m8e,decls:9,vars:16,consts:[[1,"ant-tabs-nav-wrap"],["navWarp",""],["nzTabScrollList","",1,"ant-tabs-nav-list",3,"offsetChange","tabScroll"],["navList",""],["nz-tab-add-button","",3,"addIcon","click",4,"ngIf"],["nz-tabs-ink-bar","",3,"hidden","position","animated"],[3,"addIcon","addable","items","addClicked","selected"],["class","ant-tabs-extra-content",4,"ngIf"],["nz-tab-add-button","",3,"addIcon","click"],[1,"ant-tabs-extra-content"],[3,"ngTemplateOutlet"]],template:function(t,r){1&t&&(Ps(),Pt(0,"div",0,1),Pt(2,"div",2,3),nr("offsetChange",function(o){return r.onOffsetChange(o)})("tabScroll",function(o){return r.tabScroll.emit(o)}),Ho(4),Rn(5,d8e,1,1,"button",4),Vn(6,"div",5),kt(),kt(),Pt(7,"nz-tab-nav-operation",6),nr("addClicked",function(){return r.addClicked.emit()})("selected",function(o){return r.onSelectedFromMenu(o)}),kt(),Rn(8,p8e,2,1,"div",7)),2&t&&(Hr("ant-tabs-nav-wrap-ping-left",r.pingLeft)("ant-tabs-nav-wrap-ping-right",r.pingRight)("ant-tabs-nav-wrap-ping-top",r.pingTop)("ant-tabs-nav-wrap-ping-bottom",r.pingBottom),an(5),Wt("ngIf",r.showAddButton),an(1),Wt("hidden",r.hideBar)("position",r.position)("animated",r.inkBarAnimated),an(1),Wt("addIcon",r.addIcon)("addable",r.addable)("items",r.hiddenItems),an(1),Wt("ngIf",r.extraTemplate))},directives:function(){return[JF,js,Pb,Lb,G6,p1]},encapsulation:2,changeDetection:0}),n})(),KF=(()=>{class n{constructor(){this.content=null,this.active=!1,this.tabPaneAnimated=!0,this.forceRender=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tr({type:n,selectors:[["","nz-tab-body",""]],hostAttrs:[1,"ant-tabs-tabpane"],hostVars:12,hostBindings:function(t,r){2&t&&(Ds("tabindex",r.active?0:-1)("aria-hidden",!r.active),Oo("visibility",r.tabPaneAnimated?r.active?null:"hidden":null)("height",r.tabPaneAnimated?r.active?null:0:null)("overflow-y",r.tabPaneAnimated?r.active?null:"none":null)("display",r.tabPaneAnimated||r.active?null:"none"),Hr("ant-tabs-tabpane-active",r.active))},inputs:{content:"content",active:"active",tabPaneAnimated:"tabPaneAnimated",forceRender:"forceRender"},exportAs:["nzTabBody"],attrs:g8e,decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(t,r){1&t&&Rn(0,y8e,2,1,"ng-container",0),2&t&&Wt("ngIf",r.active||r.forceRender)},directives:[js,p1],encapsulation:2,changeDetection:0}),n})();const QF=Math.pow(.995,20);let JF=(()=>{class n{constructor(t,r){this.ngZone=t,this.elementRef=r,this.lastWheelDirection=null,this.lastWheelTimestamp=0,this.lastTimestamp=0,this.lastTimeDiff=0,this.lastMixedWheel=0,this.lastWheelPrevent=!1,this.touchPosition=null,this.lastOffset=null,this.motion=-1,this.unsubscribe=()=>{},this.offsetChange=new Hn,this.tabScroll=new Hn,this.onTouchEnd=i=>{if(!this.touchPosition)return;const o=this.lastOffset,s=this.lastTimeDiff;if(this.lastOffset=this.touchPosition=null,o){const a=o.x/s,l=o.y/s,c=Math.abs(a),p=Math.abs(l);if(Math.max(c,p)<.1)return;let _=a,S=l;this.motion=window.setInterval(()=>{Math.abs(_)<.01&&Math.abs(S)<.01?window.clearInterval(this.motion):(_*=QF,S*=QF,this.onOffset(20*_,20*S,i))},20)}},this.onTouchMove=i=>{if(!this.touchPosition)return;i.preventDefault();const{screenX:o,screenY:s}=i.touches[0],a=o-this.touchPosition.x,l=s-this.touchPosition.y;this.onOffset(a,l,i);const c=Date.now();this.lastTimeDiff=c-this.lastTimestamp,this.lastTimestamp=c,this.lastOffset={x:a,y:l},this.touchPosition={x:o,y:s}},this.onTouchStart=i=>{const{screenX:o,screenY:s}=i.touches[0];this.touchPosition={x:o,y:s},window.clearInterval(this.motion)},this.onWheel=i=>{const{deltaX:o,deltaY:s}=i;let a;const l=Math.abs(o),c=Math.abs(s);l===c?a="x"===this.lastWheelDirection?o:s:l>c?(a=o,this.lastWheelDirection="x"):(a=s,this.lastWheelDirection="y");const p=Date.now(),_=Math.abs(a);(p-this.lastWheelTimestamp>100||_-this.lastMixedWheel>10)&&(this.lastWheelPrevent=!1),this.onOffset(-a,-a,i),(i.defaultPrevented||this.lastWheelPrevent)&&(this.lastWheelPrevent=!0),this.lastWheelTimestamp=p,this.lastMixedWheel=_}}ngOnInit(){this.unsubscribe=this.ngZone.runOutsideAngular(()=>{const t=this.elementRef.nativeElement,r=pa(t,"wheel"),i=pa(t,"touchstart"),o=pa(t,"touchmove"),s=pa(t,"touchend"),a=new h;return a.add(this.subscribeWrap("wheel",r,this.onWheel)),a.add(this.subscribeWrap("touchstart",i,this.onTouchStart)),a.add(this.subscribeWrap("touchmove",o,this.onTouchMove)),a.add(this.subscribeWrap("touchend",s,this.onTouchEnd)),()=>{a.unsubscribe()}})}subscribeWrap(t,r,i){return r.subscribe(o=>{this.tabScroll.emit({type:t,event:o}),o.defaultPrevented||i(o)})}onOffset(t,r,i){this.ngZone.run(()=>{this.offsetChange.emit({x:t,y:r,event:i})})}ngOnDestroy(){this.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(Ae(yr),Ae(jn))},n.\u0275dir=tn({type:n,selectors:[["","nzTabScrollList",""]],outputs:{offsetChange:"offsetChange",tabScroll:"tabScroll"}}),n})(),eN=(()=>{class n{constructor(){this.closeIcon="close"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tr({type:n,selectors:[["nz-tab-close-button"],["button","nz-tab-close-button",""]],hostAttrs:["aria-label","Close tab","type","button",1,"ant-tabs-tab-remove"],inputs:{closeIcon:"closeIcon"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"]],template:function(t,r){1&t&&Rn(0,_8e,2,1,"ng-container",0),2&t&&Wt("nzStringTemplateOutlet",r.closeIcon)},directives:[Bu,jl],encapsulation:2}),n})();class D8e{}let A8e=0,Ib=(()=>{class n{constructor(t,r,i,o){this.nzConfigService=t,this.cdr=r,this.directionality=i,this.router=o,this._nzModuleName="tabs",this.nzTabPosition="top",this.nzCanDeactivate=null,this.nzAddIcon="plus",this.nzTabBarStyle=null,this.nzType="line",this.nzSize="default",this.nzAnimated=!0,this.nzTabBarGutter=void 0,this.nzHideAdd=!1,this.nzCentered=!1,this.nzHideAll=!1,this.nzLinkRouter=!1,this.nzLinkExact=!0,this.nzSelectChange=new Hn(!0),this.nzSelectedIndexChange=new Hn,this.nzTabListScroll=new Hn,this.nzClose=new Hn,this.nzAdd=new Hn,this.allTabs=new ou,this.tabs=new ou,this.dir="ltr",this.destroy$=new ye,this.indexToSelect=0,this.selectedIndex=null,this.tabLabelSubscription=h.EMPTY,this.tabsSubscription=h.EMPTY,this.canDeactivateSubscription=h.EMPTY,this.tabSetId=A8e++}get nzSelectedIndex(){return this.selectedIndex}set nzSelectedIndex(t){this.indexToSelect=Ah(t,null)}get position(){return-1===["top","bottom"].indexOf(this.nzTabPosition)?"vertical":"horizontal"}get addable(){return"editable-card"===this.nzType&&!this.nzHideAdd}get closable(){return"editable-card"===this.nzType}get line(){return"line"===this.nzType}get inkBarAnimated(){return this.line&&("boolean"==typeof this.nzAnimated?this.nzAnimated:this.nzAnimated.inkBar)}get tabPaneAnimated(){return"horizontal"===this.position&&this.line&&("boolean"==typeof this.nzAnimated?this.nzAnimated:this.nzAnimated.tabPane)}ngOnInit(){var t;this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(wr(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.tabs.destroy(),this.tabLabelSubscription.unsubscribe(),this.tabsSubscription.unsubscribe(),this.canDeactivateSubscription.unsubscribe()}ngAfterContentInit(){Promise.resolve().then(()=>{this.setUpRouter()}),this.subscribeToTabLabels(),this.subscribeToAllTabChanges(),this.tabsSubscription=this.tabs.changes.subscribe(()=>{if(this.clampTabIndex(this.indexToSelect)===this.selectedIndex){const r=this.tabs.toArray();for(let i=0;i<r.length;i++)if(r[i].isActive){this.indexToSelect=this.selectedIndex=i;break}}this.subscribeToTabLabels(),this.cdr.markForCheck()})}ngAfterContentChecked(){const t=this.indexToSelect=this.clampTabIndex(this.indexToSelect);if(this.selectedIndex!==t){const r=null==this.selectedIndex;r||this.nzSelectChange.emit(this.createChangeEvent(t)),Promise.resolve().then(()=>{this.tabs.forEach((i,o)=>i.isActive=o===t),r||this.nzSelectedIndexChange.emit(t)})}this.tabs.forEach((r,i)=>{r.position=i-t,null!=this.selectedIndex&&0===r.position&&!r.origin&&(r.origin=t-this.selectedIndex)}),this.selectedIndex!==t&&(this.selectedIndex=t,this.cdr.markForCheck())}onClose(t,r){r.preventDefault(),r.stopPropagation(),this.nzClose.emit({index:t})}onAdd(){this.nzAdd.emit()}clampTabIndex(t){return Math.min(this.tabs.length-1,Math.max(t||0,0))}createChangeEvent(t){const r=new D8e;return r.index=t,this.tabs&&this.tabs.length&&(r.tab=this.tabs.toArray()[t],this.tabs.forEach((i,o)=>{o!==t&&i.nzDeselect.emit()}),r.tab.nzSelect.emit()),r}subscribeToTabLabels(){this.tabLabelSubscription&&this.tabLabelSubscription.unsubscribe(),this.tabLabelSubscription=Gt(...this.tabs.map(t=>t.stateChanges)).subscribe(()=>this.cdr.markForCheck())}subscribeToAllTabChanges(){this.allTabs.changes.pipe(Il(this.allTabs)).subscribe(t=>{this.tabs.reset(t.filter(r=>r.closestTabSet===this)),this.tabs.notifyOnChanges()})}canDeactivateFun(t,r){return"function"==typeof this.nzCanDeactivate?function(n){return function(n){return!!n&&(n instanceof Y||"function"==typeof n.lift&&"function"==typeof n.subscribe)}(n)?n:function(n){return!!n&&"function"==typeof n.then&&"function"==typeof n.catch}(n)?ct(Promise.resolve(n)):Xn(n)}(this.nzCanDeactivate(t,r)).pipe(yh(),wr(this.destroy$)):Xn(!0)}clickNavItem(t,r,i){t.nzDisabled||(t.nzClick.emit(),this.isRouterLinkClickEvent(r,i)||this.setSelectedIndex(r))}isRouterLinkClickEvent(t,r){var i,o;const s=r.target;return!!this.nzLinkRouter&&!!(null===(o=null===(i=this.tabs.toArray()[t])||void 0===i?void 0:i.linkDirective)||void 0===o?void 0:o.elementRef.nativeElement.contains(s))}contextmenuNavItem(t,r){t.nzDisabled||t.nzContextmenu.emit(r)}setSelectedIndex(t){this.canDeactivateSubscription.unsubscribe(),this.canDeactivateSubscription=this.canDeactivateFun(this.selectedIndex,t).subscribe(r=>{r&&(this.nzSelectedIndex=t,this.tabNavBarRef.focusIndex=t,this.cdr.markForCheck())})}getTabIndex(t,r){return t.nzDisabled?null:this.selectedIndex===r?0:-1}getTabContentId(t){return`nz-tabs-${this.tabSetId}-tab-${t}`}setUpRouter(){if(this.nzLinkRouter){if(!this.router)throw new Error(`${Pm} you should import 'RouterModule' if you want to use 'nzLinkRouter'!`);this.router.events.pipe(wr(this.destroy$),Qi(t=>t instanceof _h),Il(!0),function(n,e=Ym){const r=function(n){return n instanceof Date&&!isNaN(+n)}(n)?+n-e.now():Math.abs(n);return i=>i.lift(new G3e(r,e))}(0)).subscribe(()=>{this.updateRouterActive(),this.cdr.markForCheck()})}}updateRouterActive(){if(this.router.navigated){const t=this.findShouldActiveTabIndex();t!==this.selectedIndex&&this.setSelectedIndex(t),this.nzHideAll=-1===t}}findShouldActiveTabIndex(){const t=this.tabs.toArray(),r=this.isLinkActive(this.router);return t.findIndex(i=>{const o=i.linkDirective;return!!o&&(r(o.routerLink)||r(o.routerLinkWithHref))})}isLinkActive(t){return r=>!!r&&t.isActive(r.urlTree,this.nzLinkExact)}getTabContentMarginValue(){return 100*-(this.nzSelectedIndex||0)}getTabContentMarginLeft(){return this.tabPaneAnimated&&"rtl"!==this.dir?this.getTabContentMarginValue()+"%":""}getTabContentMarginRight(){return this.tabPaneAnimated&&"rtl"===this.dir?this.getTabContentMarginValue()+"%":""}}return n.\u0275fac=function(t){return new(t||n)(Ae(R1),Ae(wo),Ae(eo,8),Ae(ds,8))},n.\u0275cmp=tr({type:n,selectors:[["nz-tabset"]],contentQueries:function(t,r,i){if(1&t&&Qo(i,W6,5),2&t){let o;gr(o=vr())&&(r.allTabs=o)}},viewQuery:function(t,r){if(1&t&&mi(Ob,5),2&t){let i;gr(i=vr())&&(r.tabNavBarRef=i.first)}},hostAttrs:[1,"ant-tabs"],hostVars:24,hostBindings:function(t,r){2&t&&Hr("ant-tabs-card","card"===r.nzType||"editable-card"===r.nzType)("ant-tabs-editable","editable-card"===r.nzType)("ant-tabs-editable-card","editable-card"===r.nzType)("ant-tabs-centered",r.nzCentered)("ant-tabs-rtl","rtl"===r.dir)("ant-tabs-top","top"===r.nzTabPosition)("ant-tabs-bottom","bottom"===r.nzTabPosition)("ant-tabs-left","left"===r.nzTabPosition)("ant-tabs-right","right"===r.nzTabPosition)("ant-tabs-default","default"===r.nzSize)("ant-tabs-small","small"===r.nzSize)("ant-tabs-large","large"===r.nzSize)},inputs:{nzTabPosition:"nzTabPosition",nzCanDeactivate:"nzCanDeactivate",nzAddIcon:"nzAddIcon",nzTabBarStyle:"nzTabBarStyle",nzType:"nzType",nzSize:"nzSize",nzAnimated:"nzAnimated",nzTabBarGutter:"nzTabBarGutter",nzHideAdd:"nzHideAdd",nzCentered:"nzCentered",nzHideAll:"nzHideAll",nzLinkRouter:"nzLinkRouter",nzLinkExact:"nzLinkExact",nzSelectedIndex:"nzSelectedIndex",nzTabBarExtraContent:"nzTabBarExtraContent"},outputs:{nzSelectChange:"nzSelectChange",nzSelectedIndexChange:"nzSelectedIndexChange",nzTabListScroll:"nzTabListScroll",nzClose:"nzClose",nzAdd:"nzAdd"},exportAs:["nzTabset"],features:[Rr([{provide:$F,useExisting:n}])],decls:4,vars:16,consts:[[3,"ngStyle","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate","tabScroll","selectFocusedIndex","addClicked",4,"ngIf"],[1,"ant-tabs-content-holder"],[1,"ant-tabs-content"],["nz-tab-body","",3,"active","content","forceRender","tabPaneAnimated",4,"ngFor","ngForOf"],[3,"ngStyle","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate","tabScroll","selectFocusedIndex","addClicked"],["class","ant-tabs-tab",3,"margin-right","margin-bottom","ant-tabs-tab-active","ant-tabs-tab-disabled","click","contextmenu",4,"ngFor","ngForOf"],[1,"ant-tabs-tab",3,"click","contextmenu"],["role","tab","nzTabNavItem","","cdkMonitorElementFocus","",1,"ant-tabs-tab-btn",3,"disabled","tab","active"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-tab-close-button","",3,"closeIcon","click",4,"ngIf"],["nz-tab-close-button","",3,"closeIcon","click"],["nz-tab-body","",3,"active","content","forceRender","tabPaneAnimated"]],template:function(t,r){1&t&&(Rn(0,S8e,2,9,"nz-tabs-nav",0),Pt(1,"div",1),Pt(2,"div",2),Rn(3,C8e,1,4,"div",3),kt(),kt()),2&t&&(Wt("ngIf",r.tabs.length),an(2),Oo("margin-left",r.getTabContentMarginLeft())("margin-right",r.getTabContentMarginRight()),Hr("ant-tabs-content-top","top"===r.nzTabPosition)("ant-tabs-content-bottom","bottom"===r.nzTabPosition)("ant-tabs-content-left","left"===r.nzTabPosition)("ant-tabs-content-right","right"===r.nzTabPosition)("ant-tabs-content-animated",r.tabPaneAnimated),an(1),Wt("ngForOf",r.tabs))},directives:[js,mh,Ob,lu,kb,Dle,Bu,eN,KF],encapsulation:2}),On([F1(),kn("design:type",String)],n.prototype,"nzType",void 0),On([F1(),kn("design:type",String)],n.prototype,"nzSize",void 0),On([F1(),kn("design:type",Object)],n.prototype,"nzAnimated",void 0),On([F1(),kn("design:type",Number)],n.prototype,"nzTabBarGutter",void 0),On([Jn(),kn("design:type",Boolean)],n.prototype,"nzHideAdd",void 0),On([Jn(),kn("design:type",Boolean)],n.prototype,"nzCentered",void 0),On([Jn(),kn("design:type",Object)],n.prototype,"nzHideAll",void 0),On([Jn(),kn("design:type",Object)],n.prototype,"nzLinkRouter",void 0),On([Jn(),kn("design:type",Object)],n.prototype,"nzLinkExact",void 0),n})(),P8e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({imports:[[Aa,ia,kk,Dc,_4,Bl,Ale,vb,kme]]}),n})();const k8e=["container"];let L8e=(()=>{class n{constructor(){this.divHeight=200}ngOnInit(){}ngAfterViewInit(){const t=this.container.nativeElement;setTimeout(()=>{this.divHeight=t.offsetHeight-46-20},100),window.addEventListener("resize",()=>{this.divHeight=t.offsetHeight-46-20})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tr({type:n,selectors:[["app-oth01"]],viewQuery:function(t,r){if(1&t&&mi(k8e,5),2&t){let i;gr(i=vr())&&(r.container=i.first)}},decls:12,vars:6,consts:[[2,"width","100%","height","100%"],["container",""],["nzTitle","\u89c6\u9891\u7eb9\u7406"],["width","100%","height","100%","src","./staticexample/threejs/videotexture.html","frameborder","0"],["nzTitle","\u57fa\u672c\u573a\u666f",2,"width","100%","height","100%"],["width","100%","height","100%","src","./staticexample/threejs/index.html","frameborder","0"],["nzTitle","\u5730\u5f62"],["width","100%","height","100%","src","./staticexample/threejs/terrain.html","frameborder","0"]],template:function(t,r){1&t&&(Pt(0,"div",0,1),Pt(2,"nz-tabset",0),Pt(3,"nz-tab",2),Pt(4,"div",0),Vn(5,"iframe",3),kt(),kt(),Pt(6,"nz-tab",4),Pt(7,"div",0),Vn(8,"iframe",5),kt(),kt(),Pt(9,"nz-tab",6),Pt(10,"div",0),Vn(11,"iframe",7),kt(),kt(),kt(),kt()),2&t&&(an(4),Oo("min-height",r.divHeight,"px"),an(3),Oo("min-height",r.divHeight,"px"),an(3),Oo("min-height",r.divHeight,"px"))},directives:[Ib,W6],encapsulation:2}),n})();const O8e=["container"];let I8e=(()=>{class n{constructor(){this.divHeight=200}ngOnInit(){}ngAfterViewInit(){const t=this.container.nativeElement;setTimeout(()=>{this.divHeight=t.offsetHeight-46},100),window.addEventListener("resize",()=>{this.divHeight=t.offsetHeight-46})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tr({type:n,selectors:[["app-p5xs"]],viewQuery:function(t,r){if(1&t&&mi(O8e,5),2&t){let i;gr(i=vr())&&(r.container=i.first)}},decls:18,vars:10,consts:[[2,"width","100%","height","100%"],["container",""],["nzTitle","\u7c92\u5b50\u7cfb\u7edf"],[2,"width","100%","height","100%","background","#000044"],["width","100%","height","100%","src","./staticexample/p5js/index5.html","frameborder","0"],["nzTitle","\u6d77\u4e0a\u65e5\u51fa"],["width","100%","height","100%","src","./staticexample/p5js/index4.html","frameborder","0"],["nzTitle","\u6c34\u58a8\u5c71\u6c34"],["width","100%","height","100%","src","./staticexample/p5js/index3.html","frameborder","0"],["nzTitle","\u6e56\u4e2d\u5c0f\u8239"],["width","100%","height","100%","src","./staticexample/p5js/index2.html","frameborder","0"],["nzTitle","\u5343\u4e1d\u4e07\u7f15",2,"width","100%","height","100%"],["width","100%","height","100%","src","./staticexample/p5js/index.html","frameborder","0"]],template:function(t,r){1&t&&(Pt(0,"div",0,1),Pt(2,"nz-tabset",0),Pt(3,"nz-tab",2),Pt(4,"div",3),Vn(5,"iframe",4),kt(),kt(),Pt(6,"nz-tab",5),Pt(7,"div",3),Vn(8,"iframe",6),kt(),kt(),Pt(9,"nz-tab",7),Pt(10,"div",3),Vn(11,"iframe",8),kt(),kt(),Pt(12,"nz-tab",9),Pt(13,"div",3),Vn(14,"iframe",10),kt(),kt(),Pt(15,"nz-tab",11),Pt(16,"div",3),Vn(17,"iframe",12),kt(),kt(),kt(),kt()),2&t&&(an(4),Oo("min-height",r.divHeight,"px"),an(3),Oo("min-height",r.divHeight,"px"),an(3),Oo("min-height",r.divHeight,"px"),an(3),Oo("min-height",r.divHeight,"px"),an(3),Oo("min-height",r.divHeight,"px"))},directives:[Ib,W6],encapsulation:2}),n})();class R8e{constructor(e=Math){this.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],this.grad4=[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]],this.p=[];for(let t=0;t<256;t++)this.p[t]=Math.floor(256*e.random());this.perm=[];for(let t=0;t<512;t++)this.perm[t]=this.p[255&t];this.simplex=[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]}dot(e,t,r){return e[0]*t+e[1]*r}dot3(e,t,r,i){return e[0]*t+e[1]*r+e[2]*i}dot4(e,t,r,i,o){return e[0]*t+e[1]*r+e[2]*i+e[3]*o}noise(e,t){let r,i,o;const a=(e+t)*(.5*(Math.sqrt(3)-1)),l=Math.floor(e+a),c=Math.floor(t+a),p=(3-Math.sqrt(3))/6,_=(l+c)*p,k=e-(l-_),N=t-(c-_);let B,F;k>N?(B=1,F=0):(B=0,F=1);const I=k-B+p,X=N-F+p,$=k-1+2*p,re=N-1+2*p,de=255&l,se=255&c,He=this.perm[de+B+this.perm[se+F]]%12,Oe=this.perm[de+1+this.perm[se+1]]%12;let ve=.5-k*k-N*N;ve<0?r=0:(ve*=ve,r=ve*ve*this.dot(this.grad3[this.perm[de+this.perm[se]]%12],k,N));let st=.5-I*I-X*X;st<0?i=0:(st*=st,i=st*st*this.dot(this.grad3[He],I,X));let je=.5-$*$-re*re;return je<0?o=0:(je*=je,o=je*je*this.dot(this.grad3[Oe],$,re)),70*(r+i+o)}noise3d(e,t,r){let i,o,s,a;const c=(e+t+r)*(1/3),p=Math.floor(e+c),_=Math.floor(t+c),S=Math.floor(r+c),D=1/6,k=(p+_+S)*D,I=e-(p-k),X=t-(_-k),$=r-(S-k);let re,de,se,Me,He,Oe;I>=X?X>=$?(re=1,de=0,se=0,Me=1,He=1,Oe=0):I>=$?(re=1,de=0,se=0,Me=1,He=0,Oe=1):(re=0,de=0,se=1,Me=1,He=0,Oe=1):X<$?(re=0,de=0,se=1,Me=0,He=1,Oe=1):I<$?(re=0,de=1,se=0,Me=0,He=1,Oe=1):(re=0,de=1,se=0,Me=1,He=1,Oe=0);const ve=I-re+D,st=X-de+D,je=$-se+D,ge=I-Me+2*D,xe=X-He+2*D,he=$-Oe+2*D,ke=I-1+.5,et=X-1+.5,rt=$-1+.5,yt=255&p,vt=255&_,Ft=255&S,zt=this.perm[yt+re+this.perm[vt+de+this.perm[Ft+se]]]%12,Zt=this.perm[yt+Me+this.perm[vt+He+this.perm[Ft+Oe]]]%12,at=this.perm[yt+1+this.perm[vt+1+this.perm[Ft+1]]]%12;let qt=.6-I*I-X*X-$*$;qt<0?i=0:(qt*=qt,i=qt*qt*this.dot3(this.grad3[this.perm[yt+this.perm[vt+this.perm[Ft]]]%12],I,X,$));let gn=.6-ve*ve-st*st-je*je;gn<0?o=0:(gn*=gn,o=gn*gn*this.dot3(this.grad3[zt],ve,st,je));let nn=.6-ge*ge-xe*xe-he*he;nn<0?s=0:(nn*=nn,s=nn*nn*this.dot3(this.grad3[Zt],ge,xe,he));let ln=.6-ke*ke-et*et-rt*rt;return ln<0?a=0:(ln*=ln,a=ln*ln*this.dot3(this.grad3[at],ke,et,rt)),32*(i+o+s+a)}noise4d(e,t,r,i){const o=this.grad4,s=this.simplex,a=this.perm,l=(Math.sqrt(5)-1)/4,c=(5-Math.sqrt(5))/20;let p,_,S,D,k;const N=(e+t+r+i)*l,B=Math.floor(e+N),F=Math.floor(t+N),I=Math.floor(r+N),X=Math.floor(i+N),$=(B+F+I+X)*c,He=e-(B-$),Oe=t-(F-$),ve=r-(I-$),st=i-(X-$),rt=(He>Oe?32:0)+(He>ve?16:0)+(Oe>ve?8:0)+(He>st?4:0)+(Oe>st?2:0)+(ve>st?1:0),yt=s[rt][0]>=3?1:0,vt=s[rt][1]>=3?1:0,Ft=s[rt][2]>=3?1:0,xt=s[rt][3]>=3?1:0,zt=s[rt][0]>=2?1:0,Zt=s[rt][1]>=2?1:0,at=s[rt][2]>=2?1:0,qt=s[rt][3]>=2?1:0,gn=s[rt][0]>=1?1:0,nn=s[rt][1]>=1?1:0,ln=s[rt][2]>=1?1:0,or=s[rt][3]>=1?1:0,Lt=He-yt+c,jt=Oe-vt+c,on=ve-Ft+c,Ln=st-xt+c,un=He-zt+2*c,Te=Oe-Zt+2*c,Se=ve-at+2*c,Mt=st-qt+2*c,Yt=He-gn+3*c,rn=Oe-nn+3*c,Mn=ve-ln+3*c,Kn=st-or+3*c,Fn=He-1+4*c,sr=Oe-1+4*c,In=ve-1+4*c,ot=st-1+4*c,hn=255&B,Nt=255&F,yn=255&I,En=255&X,lt=a[hn+yt+a[Nt+vt+a[yn+Ft+a[En+xt]]]]%32,Dn=a[hn+zt+a[Nt+Zt+a[yn+at+a[En+qt]]]]%32,yi=a[hn+gn+a[Nt+nn+a[yn+ln+a[En+or]]]]%32,Dr=a[hn+1+a[Nt+1+a[yn+1+a[En+1]]]]%32;let Ai=.6-He*He-Oe*Oe-ve*ve-st*st;Ai<0?p=0:(Ai*=Ai,p=Ai*Ai*this.dot4(o[a[hn+a[Nt+a[yn+a[En]]]]%32],He,Oe,ve,st));let io=.6-Lt*Lt-jt*jt-on*on-Ln*Ln;io<0?_=0:(io*=io,_=io*io*this.dot4(o[lt],Lt,jt,on,Ln));let qs=.6-un*un-Te*Te-Se*Se-Mt*Mt;qs<0?S=0:(qs*=qs,S=qs*qs*this.dot4(o[Dn],un,Te,Se,Mt));let ec=.6-Yt*Yt-rn*rn-Mn*Mn-Kn*Kn;ec<0?D=0:(ec*=ec,D=ec*ec*this.dot4(o[yi],Yt,rn,Mn,Kn));let Xo=.6-Fn*Fn-sr*sr-In*In-ot*ot;return Xo<0?k=0:(Xo*=Xo,k=Xo*Xo*this.dot4(o[Dr],Fn,sr,In,ot)),27*(p+_+S+D+k)}}class F8e extends I3{constructor(e,t){super(e,t),this.simplex=new R8e,this.defOption={fontSize:16,margin:0},this.tag=!1,this.step=5,this.color="#aaaaaa",this.setOption(t),this.svg=s7(e).append("svg").attr("width",this.divWidth).attr("height",this.divHeight).style("position","absolute"),this.sun=this.svg.append("circle").attr("cx",2*this.divWidth/3).attr("cy",.2*this.divHeight).attr("r",60).attr("fill","#ff0000"),this.cordefs=this.svg.append("defs").attr("class","cordefs"),this.backg=this.svg.append("g").attr("class","backg"),this.init()}init(){let e=1;setInterval(()=>{1==this.tag&&(e+=.01),this.updateData(e)},30)}drawArea(e,t,r){e.map((l,c)=>{l.id=c});const i=this.backg.selectAll("g").filter(".areag").data(e).join("g").attr("class","areag");let o=this.domdiv.offsetWidth,s=this.domdiv.offsetHeight;e.map(l=>{const c=l.data;let p=o7().domain([0,r]).rangeRound([s,0]),_=o7().domain([0,c.length-1]).rangeRound([0,o]);const S=[];c.map((D,k)=>{S.push([p(D),_(k)])}),l.sdata=S});const a=function(n,e,t){var r=null,i=Uo(!0),o=null,s=xA,a=null;function l(p){var _,S,D,N,F,k=(p=bA(p)).length,B=!1,I=new Array(k),X=new Array(k);for(null==o&&(a=s(F=_A())),_=0;_<=k;++_){if(!(_<k&&i(N=p[_],_,p))===B)if(B=!B)S=_,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),D=_-1;D>=S;--D)a.point(I[D],X[D]);a.lineEnd(),a.areaEnd()}B&&(I[_]=+n(N,_,p),X[_]=+e(N,_,p),a.point(r?+r(N,_,p):I[_],t?+t(N,_,p):X[_]))}if(F)return a=null,F+""||null}function c(){return function(n,e){var t=Uo(!0),r=null,i=xA,o=null;function s(a){var l,p,S,c=(a=bA(a)).length,_=!1;for(null==r&&(o=i(S=_A())),l=0;l<=c;++l)!(l<c&&t(p=a[l],l,a))===_&&((_=!_)?o.lineStart():o.lineEnd()),_&&o.point(+n(p,l,a),+e(p,l,a));if(S)return o=null,S+""||null}return n="function"==typeof n?n:void 0===n?MA:Uo(n),e="function"==typeof e?e:void 0===e?SA:Uo(e),s.x=function(a){return arguments.length?(n="function"==typeof a?a:Uo(+a),s):n},s.y=function(a){return arguments.length?(e="function"==typeof a?a:Uo(+a),s):e},s.defined=function(a){return arguments.length?(t="function"==typeof a?a:Uo(!!a),s):t},s.curve=function(a){return arguments.length?(i=a,null!=r&&(o=i(r)),s):i},s.context=function(a){return arguments.length?(null==a?r=o=null:o=i(r=a),s):r},s}().defined(i).curve(s).context(o)}return n="function"==typeof n?n:void 0===n?MA:Uo(+n),e="function"==typeof e?e:Uo(void 0===e?0:+e),t="function"==typeof t?t:void 0===t?SA:Uo(+t),l.x=function(p){return arguments.length?(n="function"==typeof p?p:Uo(+p),r=null,l):n},l.x0=function(p){return arguments.length?(n="function"==typeof p?p:Uo(+p),l):n},l.x1=function(p){return arguments.length?(r=null==p?null:"function"==typeof p?p:Uo(+p),l):r},l.y=function(p){return arguments.length?(e="function"==typeof p?p:Uo(+p),t=null,l):e},l.y0=function(p){return arguments.length?(e="function"==typeof p?p:Uo(+p),l):e},l.y1=function(p){return arguments.length?(t=null==p?null:"function"==typeof p?p:Uo(+p),l):t},l.lineX0=l.lineY0=function(){return c().x(n).y(e)},l.lineY1=function(){return c().x(n).y(t)},l.lineX1=function(){return c().x(r).y(e)},l.defined=function(p){return arguments.length?(i="function"==typeof p?p:Uo(!!p),l):i},l.curve=function(p){return arguments.length?(s=p,null!=o&&(a=s(o)),l):s},l.context=function(p){return arguments.length?(null==p?o=a=null:a=s(o=p),l):o},l}().curve(Aie).x((l,c)=>l[1]).y1(l=>l[0]).y0(s);i.selectAll("path").filter(".area").data(l=>[l]).join("path").attr("class","area").attr("fill",l=>`url(#linearA${l.id}${this.__id})`).attr("d",l=>a(l.sdata))}setcolrs(e){this.cordefs.selectAll("linearGradient").remove();for(let t=0;t<e.length;t++){let r=this.cordefs.append("linearGradient").attr("id",`linearA${t}${this.__id}`).attr("x1","0%").attr("x2","0%").attr("y1","0%").attr("y2","100%");r.append("stop").attr("stop-opacity","1").attr("offset","0%").attr("stop-color",`${e[t]}`),r.append("stop").attr("stop-opacity","1").attr("offset","100%").attr("stop-color",wc(e[t]).brighter(3))}}updateData(e){let t=[],r=[];for(let a=0;a<this.step;a++){t[a]={data:[]},r.push(wc(this.color).darker(5*a/this.step));for(let l=0;l<100;l++)t[a].data.push(10*(1+this.simplex.noise3d(l/8,e,5*a))+10*a+10)}let o=[];t.map(a=>{o.push(a.data?Math.max(...a.data):0)});const s=function(n,e){let t;for(const r of n)null!=r&&(t<r||void 0===t&&r>=r)&&(t=r);return t}(o);t.reverse(),this.drawArea(t,r,1.2*s),this.setcolrs(r)}settag(e){this.tag=e}setValue1(e){this.step=e}setColor(e){this.color=e}reSize(){this.divHeight=this.domdiv.offsetHeight,this.divWidth=this.domdiv.offsetWidth,this.svg.attr("width",this.divWidth).attr("height",this.divHeight),this.sun.attr("cx",2*this.divWidth/3).attr("cy",.2*this.divHeight)}}const N8e=["switchElement"];function V8e(n,e){1&n&&Vn(0,"i",8)}function H8e(n,e){if(1&n&&(zs(0),uo(1),As()),2&n){const t=Qn(2);an(1),mc(t.nzCheckedChildren)}}function B8e(n,e){if(1&n&&(zs(0),Rn(1,H8e,2,1,"ng-container",9),As()),2&n){const t=Qn();an(1),Wt("nzStringTemplateOutlet",t.nzCheckedChildren)}}function j8e(n,e){if(1&n&&(zs(0),uo(1),As()),2&n){const t=Qn(2);an(1),mc(t.nzUnCheckedChildren)}}function U8e(n,e){1&n&&Rn(0,j8e,2,1,"ng-container",9),2&n&&Wt("nzStringTemplateOutlet",Qn().nzUnCheckedChildren)}let G8e=(()=>{class n{constructor(t,r,i,o){this.nzConfigService=t,this.cdr=r,this.focusMonitor=i,this.directionality=o,this._nzModuleName="switch",this.isChecked=!1,this.onChange=()=>{},this.onTouched=()=>{},this.nzLoading=!1,this.nzDisabled=!1,this.nzControl=!1,this.nzCheckedChildren=null,this.nzUnCheckedChildren=null,this.nzSize="default",this.dir="ltr",this.destroy$=new ye}onHostClick(t){t.preventDefault(),!this.nzDisabled&&!this.nzLoading&&!this.nzControl&&this.updateValue(!this.isChecked)}updateValue(t){this.isChecked!==t&&(this.isChecked=t,this.onChange(this.isChecked))}onKeyDown(t){!this.nzControl&&!this.nzDisabled&&!this.nzLoading&&(37===t.keyCode?(this.updateValue(!1),t.preventDefault()):39===t.keyCode?(this.updateValue(!0),t.preventDefault()):(32===t.keyCode||13===t.keyCode)&&(this.updateValue(!this.isChecked),t.preventDefault()))}focus(){var t;this.focusMonitor.focusVia(null===(t=this.switchElement)||void 0===t?void 0:t.nativeElement,"keyboard")}blur(){var t;null===(t=this.switchElement)||void 0===t||t.nativeElement.blur()}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe(wr(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.focusMonitor.monitor(this.switchElement.nativeElement,!0).subscribe(t=>{t||Promise.resolve().then(()=>this.onTouched())})}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.switchElement.nativeElement),this.destroy$.next(),this.destroy$.complete()}writeValue(t){this.isChecked=t,this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.nzDisabled=t,this.cdr.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(Ae(R1),Ae(wo),Ae(s9),Ae(eo,8))},n.\u0275cmp=tr({type:n,selectors:[["nz-switch"]],viewQuery:function(t,r){if(1&t&&mi(N8e,7),2&t){let i;gr(i=vr())&&(r.switchElement=i.first)}},hostBindings:function(t,r){1&t&&nr("click",function(o){return r.onHostClick(o)})},inputs:{nzLoading:"nzLoading",nzDisabled:"nzDisabled",nzControl:"nzControl",nzCheckedChildren:"nzCheckedChildren",nzUnCheckedChildren:"nzUnCheckedChildren",nzSize:"nzSize"},exportAs:["nzSwitch"],features:[Rr([{provide:aa,useExisting:fr(()=>n),multi:!0}])],decls:9,vars:15,consts:[["nz-wave","","type","button",1,"ant-switch",3,"disabled","nzWaveExtraNode","keydown"],["switchElement",""],[1,"ant-switch-handle"],["nz-icon","","nzType","loading","class","ant-switch-loading-icon",4,"ngIf"],[1,"ant-switch-inner"],[4,"ngIf","ngIfElse"],["uncheckTemplate",""],[1,"ant-click-animating-node"],["nz-icon","","nzType","loading",1,"ant-switch-loading-icon"],[4,"nzStringTemplateOutlet"]],template:function(t,r){if(1&t&&(Pt(0,"button",0,1),nr("keydown",function(o){return r.onKeyDown(o)}),Pt(2,"span",2),Rn(3,V8e,1,0,"i",3),kt(),Pt(4,"span",4),Rn(5,B8e,2,1,"ng-container",5),Rn(6,U8e,1,1,"ng-template",null,6,Ll),kt(),Vn(8,"div",7),kt()),2&t){const i=Xa(7);Hr("ant-switch-checked",r.isChecked)("ant-switch-loading",r.nzLoading)("ant-switch-disabled",r.nzDisabled)("ant-switch-small","small"===r.nzSize)("ant-switch-rtl","rtl"===r.dir),Wt("disabled",r.nzDisabled)("nzWaveExtraNode",!0),an(3),Wt("ngIf",r.nzLoading),an(2),Wt("ngIf",r.isChecked)("ngIfElse",i)}},directives:[u8,js,jl,Bu],encapsulation:2,changeDetection:0}),On([Jn(),kn("design:type",Object)],n.prototype,"nzLoading",void 0),On([Jn(),kn("design:type",Object)],n.prototype,"nzDisabled",void 0),On([Jn(),kn("design:type",Object)],n.prototype,"nzControl",void 0),On([F1(),kn("design:type",String)],n.prototype,"nzSize",void 0),n})(),W8e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({imports:[[Aa,ia,V9,Dc,_4]]}),n})();const q8e=["container"];let $8e=(()=>{class n{constructor(){this.demoValue=5,this.switchValue=!1,this.divHeight=400,this.value1=5,this.color="#aaaaaa"}ngOnInit(){}ngAfterViewInit(){const t=this.container.nativeElement;setTimeout(()=>{this.scene=new F8e(t,{}),this.divHeight=t.offsetHeight-46-20,setInterval(()=>{},30)},100),window.addEventListener("resize",()=>{this.divHeight=t.offsetHeight-46-20,this.scene.reSize()})}onClick(){this.scene.settag(this.switchValue)}changev1(){this.scene.setValue1(this.value1)}changeColor(t){this.scene.setColor(t.value)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tr({type:n,selectors:[["app-mountain"]],viewQuery:function(t,r){if(1&t&&mi(q8e,5),2&t){let i;gr(i=vr())&&(r.container=i.first)}},decls:7,vars:5,consts:[[2,"width","100%","height","100%"],["container",""],[2,"width","200px","position","absolute","margin","20px","z-index","10"],[3,"ngModel","click","ngModelChange"],["type","color",2,"margin-left","20px",3,"value","change"],["colorele",""],["nzMin","1","nzMax","30",3,"ngModel","ngModelChange"]],template:function(t,r){if(1&t){const i=xa();Pt(0,"div",0,1),Pt(2,"div",2),Pt(3,"nz-switch",3),nr("click",function(){return r.onClick()})("ngModelChange",function(s){return r.switchValue=s}),kt(),Pt(4,"input",4,5),nr("change",function(){Vo(i);const s=Xa(5);return r.changeColor(s)}),kt(),Pt(6,"nz-slider",6),nr("ngModelChange",function(s){return r.value1=s})("ngModelChange",function(){return r.changev1()}),kt(),kt(),kt()}2&t&&(Oo("min-height",r.divHeight,"px"),an(3),Wt("ngModel",r.switchValue),an(1),Wt("value",r.color),an(2),Wt("ngModel",r.value1))},directives:[G8e,L1,zh,AF],encapsulation:2}),n})();const X8e=function(n){var a,l,c,e=function(n){return function(n){var e,p,F,I,X,de,se,Me,He,Oe,t=150,r=480,i=250,o=0,s=0,a=0,l=0,c=0,_=0,S=1,D=1,k=null,N=Wz,B=null,$=Xz,re=.5;function ve(xe){return Me(xe[0]*Co,xe[1]*Co)}function st(xe){return(xe=Me.invert(xe[0],xe[1]))&&[xe[0]*sa,xe[1]*sa]}function je(){var xe=rA(t,0,0,S,D,_).apply(null,e(o,s)),he=rA(t,r-xe[0],i-xe[1],S,D,_);return p=Fz(a,l,c),se=jy(e,he),Me=jy(p,se),de=nA(se,re),ge()}function ge(){return He=Oe=null,ve}return ve.stream=function(xe){return He&&Oe===xe?He:He=Bre(function(n){return sm({point:function(e,t){var r=n(e,t);return this.stream.point(r[0],r[1])}})}(p)(N(de($(Oe=xe)))))},ve.preclip=function(xe){return arguments.length?(N=xe,k=void 0,ge()):N},ve.postclip=function(xe){return arguments.length?($=xe,B=F=I=X=null,ge()):$},ve.clipAngle=function(xe){return arguments.length?(N=+xe?zre(k=xe*Co):(k=null,Wz),ge()):k*sa},ve.clipExtent=function(xe){return arguments.length?($=null==xe?(B=F=I=X=null,Xz):Pre(B=+xe[0][0],F=+xe[0][1],I=+xe[1][0],X=+xe[1][1]),ge()):null==B?null:[[B,F],[I,X]]},ve.scale=function(xe){return arguments.length?(t=+xe,je()):t},ve.translate=function(xe){return arguments.length?(r=+xe[0],i=+xe[1],je()):[r,i]},ve.center=function(xe){return arguments.length?(o=xe[0]%360*Co,s=xe[1]%360*Co,je()):[o*sa,s*sa]},ve.rotate=function(xe){return arguments.length?(a=xe[0]%360*Co,l=xe[1]%360*Co,c=xe.length>2?xe[2]%360*Co:0,je()):[a*sa,l*sa,c*sa]},ve.angle=function(xe){return arguments.length?(_=xe%360*Co,je()):_*sa},ve.reflectX=function(xe){return arguments.length?(S=xe?-1:1,je()):S<0},ve.reflectY=function(xe){return arguments.length?(D=xe?-1:1,je()):D<0},ve.precision=function(xe){return arguments.length?(de=nA(se,re=xe*xe),ge()):J3(re)},ve.fitExtent=function(xe,he){return eA(ve,xe,he)},ve.fitSize=function(xe,he){return function(n,e,t){return eA(n,[[0,0],e],t)}(ve,xe,he)},ve.fitWidth=function(xe,he){return function(n,e,t){return Zy(n,function(r){var i=+e,o=i/(r[1][0]-r[0][0]),s=(i-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];n.scale(150*o).translate([s,a])},t)}(ve,xe,he)},ve.fitHeight=function(xe,he){return function(n,e,t){return Zy(n,function(r){var i=+e,o=i/(r[1][1]-r[0][1]),s=-o*r[0][0],a=(i-o*(r[1][1]+r[0][1]))/2;n.scale(150*o).translate([s,a])},t)}(ve,xe,he)},function(){return e=n.apply(this,arguments),ve.invert=e.invert&&st,je()}}(function(){return n})()}(n),t=e.center,r=e.scale,i=e.translate,o=e.clipExtent,s=null;function p(){var _=Wr*r(),S=e(function(n){function e(t){return(t=n(t[0]*Co,t[1]*Co))[0]*=sa,t[1]*=sa,t}return n=Fz(n[0]*Co,n[1]*Co,n.length>2?n[2]*Co:0),e.invert=function(t){return(t=n.invert(t[0]*Co,t[1]*Co))[0]*=sa,t[1]*=sa,t},e}(e.rotate()).invert([0,0]));return o(null==s?[[S[0]-_,S[1]-_],[S[0]+_,S[1]+_]]:n===Qy?[[Math.max(S[0]-_,s),a],[Math.min(S[0]+_,l),c]]:[[s,Math.max(S[1]-_,a)],[l,Math.min(S[1]+_,c)]])}return e.scale=function(_){return arguments.length?(r(_),p()):r()},e.translate=function(_){return arguments.length?(i(_),p()):i()},e.center=function(_){return arguments.length?(t(_),p()):t()},e.clipExtent=function(_){return arguments.length?(null==_?s=a=l=c=null:(s=+_[0][0],a=+_[0][1],l=+_[1][0],c=+_[1][1]),p()):null==s?null:[[s,a],[l,c]]},p()}(Qy).scale(961/za).center([101.548452,25.000582]).scale(360).translate([0,0]);function tN(n){const[e,t]=X8e([...n]);return[e,-t,0]}const Z8e=class extends Cb{constructor(e,t){super(e,t),this.depth=4,this.Allgroup=new Wh,this.camera.position.set(0,0,80),this.camera.lookAt(0,0,0),this.camera.updateProjectionMatrix(),this.scene.add(this.Allgroup),this.init()}init(){new pb(this.camera,this.renderer.domElement),this.scene.add(new v4("#999","#333")),this.scene.add(new Ff(2457));const e=new Rf(16777215,.8);this.scene.add(e),e.position.set(1,1,1),this.addJSON("yunnan")}addJSON(e){return function(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(p){try{c(r.next(p))}catch(_){s(_)}}function l(p){try{c(r.throw(p))}catch(_){s(_)}}function c(p){p.done?o(p.value):function(o){return o instanceof t?o:new t(function(s){s(o)})}(p.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){const t=yield function(n,e){return fetch(n,void 0).then(fre)}("./assets/map/"+e+".json");console.log("mapData :>> ",t),t.features.forEach(o=>{o.vector3=[],o.geometry.coordinates.forEach((s,a)=>{o.vector3[a]=[],s.forEach((l,c)=>{if(l[0]instanceof Array)o.vector3[a][c]=[],l.forEach(p=>{let _=tN(p);o.vector3[a][c].push(_)});else{let p=tN(l);o.vector3[a].push(p)}})})});const r=[],i=[];t.features.forEach(o=>{o.vector3.forEach(s=>{s[0][0]instanceof Array?s.forEach(a=>{r.push(this.drawMeshGeoetry(a)),i.push(this.drawLineGeometry(a))}):(r.push(this.drawMeshGeoetry(s)),i.push(this.drawLineGeometry(s)))})});for(let o=0,s=r.length;o<s;o++){const a=new x6({color:16777215*Math.random()}),l=new Hi(r[o],a);l.renderOrder=11,this.Allgroup.add(l)}})}drawLineGeometry(e){const t=new lr,r=[],i=new Float32Array(r);return e.forEach(o=>{const[s,a,l]=o;r.push(s,a,l)}),t.setAttribute("position",new Ci(i,3)),t}drawMeshGeoetry(e){const t=new Xl;return e.forEach((o,s)=>{const[a,l]=o;0===s?t.moveTo(a,l):s===e.length-1?t.quadraticCurveTo(a,l,a,l):t.lineTo(a,l)}),new Hc(t,{depth:this.depth,bevelEnabled:!1})}},Q8e=["container"];let J8e=(()=>{class n{constructor(){}ngOnInit(){}ngAfterViewInit(){this.scene=new Z8e(this.container.nativeElement,{}),this.scene.updateData([])}onClick(){this.scene.updateData([])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tr({type:n,selectors:[["app-map06"]],viewQuery:function(t,r){if(1&t&&mi(Q8e,5),2&t){let i;gr(i=vr())&&(r.container=i.first)}},decls:2,vars:0,consts:[[2,"width","100%","height","100%"],["container",""]],template:function(t,r){1&t&&Vn(0,"div",0,1)},encapsulation:2}),n})();var Hf={Linear:{None:function(n){return n}},Quadratic:{In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}},Cubic:{In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}},Quartic:{In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}},Quintic:{In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}},Sinusoidal:{In:function(n){return 1-Math.cos(n*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return.5*(1-Math.cos(Math.PI*n))}},Exponential:{In:function(n){return 0===n?0:Math.pow(1024,n-1)},Out:function(n){return 1===n?1:1-Math.pow(2,-10*n)},InOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))}},Circular:{In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}},Elastic:{In:function(n){return 0===n?0:1===n?1:-Math.pow(2,10*(n-1))*Math.sin(5*(n-1.1)*Math.PI)},Out:function(n){return 0===n?0:1===n?1:Math.pow(2,-10*n)*Math.sin(5*(n-.1)*Math.PI)+1},InOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?-.5*Math.pow(2,10*(n-1))*Math.sin(5*(n-1.1)*Math.PI):.5*Math.pow(2,-10*(n-1))*Math.sin(5*(n-1.1)*Math.PI)+1}},Back:{In:function(n){var e=1.70158;return n*n*((e+1)*n-e)},Out:function(n){var e=1.70158;return--n*n*((e+1)*n+e)+1},InOut:function(n){var e=2.5949095;return(n*=2)<1?n*n*((e+1)*n-e)*.5:.5*((n-=2)*n*((e+1)*n+e)+2)}},Bounce:{In:function(n){return 1-Hf.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?.5*Hf.Bounce.In(2*n):.5*Hf.Bounce.Out(2*n-1)+.5}}},nd="undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?function(){var n=process.hrtime();return 1e3*n[0]+n[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},nN=function(){function n(){this._tweens={},this._tweensAddedDuringUpdate={}}return n.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(t){return e._tweens[t]})},n.prototype.removeAll=function(){this._tweens={}},n.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},n.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},n.prototype.update=function(e,t){void 0===e&&(e=nd()),void 0===t&&(t=!1);var r=Object.keys(this._tweens);if(0===r.length)return!1;for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<r.length;i++){var o=this._tweens[r[i]];o&&!1===o.update(e,!t)&&!t&&delete this._tweens[r[i]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},n}(),Bf={Linear:function(n,e){var t=n.length-1,r=t*e,i=Math.floor(r),o=Bf.Utils.Linear;return e<0?o(n[0],n[1],r):e>1?o(n[t],n[t-1],t-r):o(n[i],n[i+1>t?t:i+1],r-i)},Bezier:function(n,e){for(var t=0,r=n.length-1,i=Math.pow,o=Bf.Utils.Bernstein,s=0;s<=r;s++)t+=i(1-e,r-s)*i(e,s)*n[s]*o(r,s);return t},CatmullRom:function(n,e){var t=n.length-1,r=t*e,i=Math.floor(r),o=Bf.Utils.CatmullRom;return n[0]===n[t]?(e<0&&(i=Math.floor(r=t*(1+e))),o(n[(i-1+t)%t],n[i],n[(i+1)%t],n[(i+2)%t],r-i)):e<0?n[0]-(o(n[0],n[0],n[1],n[1],-r)-n[0]):e>1?n[t]-(o(n[t],n[t],n[t-1],n[t-1],r-t)-n[t]):o(n[i?i-1:0],n[i],n[t<i+1?t:i+1],n[t<i+2?t:i+2],r-i)},Utils:{Linear:function(n,e,t){return(e-n)*t+n},Bernstein:function(n,e){var t=Bf.Utils.Factorial;return t(n)/t(e)/t(n-e)},Factorial:function(){var n=[1];return function(e){var t=1;if(n[e])return n[e];for(var r=e;r>1;r--)t*=r;return n[e]=t,t}}(),CatmullRom:function(n,e,t,r,i){var o=.5*(t-n),s=.5*(r-e),a=i*i;return(2*e-2*t+o+s)*(i*a)+(-3*e+3*t-2*o-s)*a+o*i+e}}},Rb=function(){function n(){}return n.nextId=function(){return n._nextId++},n._nextId=0,n}(),rN=new nN,iN=function(){function n(e,t){void 0===t&&(t=rN),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Hf.Linear.None,this._interpolationFunction=Bf.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=Rb.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return n.prototype.getId=function(){return this._id},n.prototype.isPlaying=function(){return this._isPlaying},n.prototype.isPaused=function(){return this._isPaused},n.prototype.to=function(e,t){return this._valuesEnd=Object.create(e),void 0!==t&&(this._duration=t),this},n.prototype.duration=function(e){return this._duration=e,this},n.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var t in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==e?"string"==typeof e?nd()+parseFloat(e):e:nd(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},n.prototype._setupProperties=function(e,t,r,i){for(var o in r){var s=e[o],a=Array.isArray(s),l=a?"array":typeof s,c=!a&&Array.isArray(r[o]);if("undefined"!==l&&"function"!==l){if(c){var p=r[o];if(0===p.length)continue;p=p.map(this._handleRelativeValue.bind(this,s)),r[o]=[s].concat(p)}if("object"!==l&&!a||!s||c)void 0===t[o]&&(t[o]=s),a||(t[o]*=1),i[o]=c?r[o].slice().reverse():t[o]||0;else{for(var _ in t[o]=a?[]:{},s)t[o][_]=s[_];i[o]=a?[]:{},this._setupProperties(s,t[o],r[o],i[o])}}}},n.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},n.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},n.prototype.pause=function(e){return void 0===e&&(e=nd()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this)),this},n.prototype.resume=function(e){return void 0===e&&(e=nd()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},n.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},n.prototype.group=function(e){return this._group=e,this},n.prototype.delay=function(e){return this._delayTime=e,this},n.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},n.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},n.prototype.yoyo=function(e){return this._yoyo=e,this},n.prototype.easing=function(e){return this._easingFunction=e,this},n.prototype.interpolation=function(e){return this._interpolationFunction=e,this},n.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},n.prototype.onStart=function(e){return this._onStartCallback=e,this},n.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},n.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},n.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},n.prototype.onStop=function(e){return this._onStopCallback=e,this},n.prototype.update=function(e,t){if(void 0===e&&(e=nd()),void 0===t&&(t=!0),this._isPaused)return!0;var r,i;if(!this._goToEnd&&!this._isPlaying){if(e>this._startTime+this._duration)return!1;t&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(e-this._startTime)/this._duration;var s=this._easingFunction(i=0===this._duration||i>1?1:i);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,s),this._onUpdateCallback&&this._onUpdateCallback(this._object,i),1===i){if(this._repeat>0){for(r in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)!this._yoyo&&"string"==typeof this._valuesEnd[r]&&(this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(this._valuesEnd[r])),this._yoyo&&this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r];return this._yoyo&&(this._reversed=!this._reversed),this._startTime=void 0!==this._repeatDelayTime?e+this._repeatDelayTime:e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,l=this._chainedTweens.length;a<l;a++)this._chainedTweens[a].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},n.prototype._updateProperties=function(e,t,r,i){for(var o in r)if(void 0!==t[o]){var s=t[o]||0,a=r[o],l=Array.isArray(e[o]),c=Array.isArray(a);!l&&c?e[o]=this._interpolationFunction(a,i):"object"==typeof a&&a?this._updateProperties(e[o],s,a,i):"number"==typeof(a=this._handleRelativeValue(s,a))&&(e[o]=s+(a-s)*i)}},n.prototype._handleRelativeValue=function(e,t){return"string"!=typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},n.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],r=this._valuesEnd[e];this._valuesStartRepeat[e]="string"==typeof r?this._valuesStartRepeat[e]+parseFloat(r):this._valuesEnd[e],this._valuesEnd[e]=t},n}(),Jl=rN,Fb=(Jl.getAll.bind(Jl),Jl.removeAll.bind(Jl),Jl.add.bind(Jl),Jl.remove.bind(Jl),Jl.update.bind(Jl));const a6e=class extends Cb{constructor(e,t){super(e,t),this.init(),this.camera.far=2e5,this.camera.updateProjectionMatrix(),this.camera.position.set(0,-40,220),this.camera.lookAt(0,0,0),this.renderer.alpha=!1,this.renderer.setClearColor(0,1)}init(){this.scene.add(new v4("#999","#333")),this.scene.add(new Ff(2457));const e=new Rf(16777215,.5);this.scene.add(e),e.position.set(1,1,-1);let t=this.video2(100,100,"#jp4video","assets/img/opacity.png");t.position.set(0,0,0),t.renderOrder=0;let r=this.video2(100,40,"#jp1video","assets/img/opacity.png");r.position.set(0,2300,0),r.renderOrder=1;let i=this.video2(50,80,"#jp2video","assets/img/tran1.png");i.position.set(-2500,-10,0),i.renderOrder=2;let o=this.video2(50,80,"#jp3video","assets/img/tran2.png");o.position.set(2500,-10,0),o.renderOrder=3,setTimeout(()=>{this.runtween(r,0,0,2300,30),this.runtween(i,-2500,-25,-10,-10),this.runtween(o,2500,25,-10,-10)},3e3);let s=this.video3(100,100,"#jp1video","assets/img/opacity.png");s.position.set(101,0,0),s.renderOrder=0;let a=this.video4(100,100,"#jp1video","assets/img/water.jpg");a.position.set(-101,0,0),a.renderOrder=0}video2(e,t,r,i){let o=document.querySelector(r),s=new t6(o);s.wrapS=s.wrapS=Ro,s.minFilter=No,s.center=new Rt(.5,.5);const a={uniforms:{u_texture:{value:s},u_texturem:{value:(new E6).load(i)}},vertexShader:"\n            varying vec2 vUv; \n            // varying vec3 vVertexNormal;\n            void main(){     \n                vUv = uv;\n                // vVertexNormal\t= normalize(normal);       \n                gl_Position\t= projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n           }\n             ",fragmentShader:"\n            varying vec2 vUv;          \n            uniform sampler2D u_texture;\n            uniform sampler2D u_texturem;\n            // varying vec3\tvVertexNormal;\n                void main(){\n                    vec4 cor1 = texture2D( u_texture,  vUv);\n                    vec4 cor2 = texture2D( u_texturem,  vUv);\n                    gl_FragColor = vec4(cor1.r,cor1.g,cor1.b,cor2.a);\n                }\n                "},l=new ml({uniforms:a.uniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,transparent:!0,depthTest:!1,side:2});new pl({map:s});let p=new Fc(e,t),_=new Hi(p,l);return this.scene.add(_),_}video3(e,t,r,i){let o=document.querySelector(r),s=new t6(o);s.wrapS=s.wrapT=W1,s.center=new Rt(.5,.5);const a={uniforms:{u_texture:{value:s},u_texturem:{value:(new E6).load(i)},u_k:{value:0}},vertexShader:"\n            varying vec2 vUv; \n           \n            void main(){     \n                vUv = uv;\n                    \n                gl_Position\t= projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n           }\n             ",fragmentShader:"\n            varying vec2 vUv;          \n            uniform sampler2D u_texture;\n            uniform sampler2D u_texturem;\n            uniform float u_k;\n            void main(){\n                mat2 mt = mat2(cos(u_k), sin(u_k), -sin(u_k),cos(u_k));\n                vec4 cor1 = texture2D( u_texture,  fract(2.0*(vUv+vec2(-0.5,-0.5))*mt+vec2(0.5,0.5)) );  \n                vec4 cor2 = texture2D( u_texturem,  vUv);\n                gl_FragColor = vec4(cor1.r,cor1.g,cor1.b,cor2.a);\n            }\n                "};setInterval(()=>{a.uniforms.u_k.value+=.01},60);const l=new ml({uniforms:a.uniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,transparent:!0,depthTest:!1,side:2});new pl({map:s});let p=new Fc(e,t),_=new Hi(p,l);return this.scene.add(_),_}video4(e,t,r,i){let o=document.querySelector(r),s=new t6(o);s.wrapS=s.wrapT=W1,s.center=new Rt(.5,.5);const l={uniforms:{u_texture:{value:s},u_texturem:{value:(new E6).load(i)},u_k:{value:0}},vertexShader:"\n            varying vec2 vUv; \n           \n            void main(){     \n                vUv = uv;\n                gl_Position\t= projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n           }\n             ",fragmentShader:"\n            vec3 mod289(vec3 x) {\n            return x - floor(x * (1.0 / 289.0)) * 289.0;\n            }\n\n            vec2 mod289(vec2 x) {\n            return x - floor(x * (1.0 / 289.0)) * 289.0;\n            }\n\n            vec3 permute(vec3 x) {\n            return mod289(((x*34.0)+1.0)*x);\n            }\n\n            float snoise(vec2 v)\n            {\n            const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                                0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                                -0.577350269189626,  // -1.0 + 2.0 * C.x\n                                0.024390243902439); // 1.0 / 41.0\n            // First corner\n            vec2 i  = floor(v + dot(v, C.yy) );\n            vec2 x0 = v -   i + dot(i, C.xx);\n\n            // Other corners\n            vec2 i1;\n            //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n            //i1.y = 1.0 - i1.x;\n            i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n            // x0 = x0 - 0.0 + 0.0 * C.xx ;\n            // x1 = x0 - i1 + 1.0 * C.xx ;\n            // x2 = x0 - 1.0 + 2.0 * C.xx ;\n            vec4 x12 = x0.xyxy + C.xxzz;\n            x12.xy -= i1;\n\n            // Permutations\n            i = mod289(i); // Avoid truncation effects in permutation\n            vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n                    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n            vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n            m = m*m ;\n            m = m*m ;\n\n            // Gradients: 41 points uniformly over a line, mapped onto a diamond.\n            // The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n            vec3 x = 2.0 * fract(p * C.www) - 1.0;\n            vec3 h = abs(x) - 0.5;\n            vec3 ox = floor(x + 0.5);\n            vec3 a0 = x - ox;\n\n            // Normalise gradients implicitly by scaling m\n            // Approximation of: m *= inversesqrt( a0*a0 + h*h );\n            m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n            // Compute final noise value at P\n            vec3 g;\n            g.x  = a0.x  * x0.x  + h.x  * x0.y;\n            g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n            return 130.0 * dot(m, g);\n            }\n\n            // End of Ashima noise!\n\n            float noise(vec2 p) {\n            //\tfloat acc = snoise(p) * 32.0 + snoise(p * 2.0) * 16.0 + snoise(p * 4.0) * 8.0 + snoise(p * 8.0) * 4.0 + snoise(p * 16.0) * 2.0 + snoise(p * 32.0);\n            //\tfloat div = 1.0 + 2.0 + 4.0 + 8.0 + 16.0 + 32.0;\n                float acc = snoise(p) * 16.0 + snoise(p * 2.0) * 8.0 + snoise(p * 4.0) * 4.0 + snoise(p * 8.0) * 2.0 + snoise(p * 16.0) * 1.0;\n                float div = 1.0 + 2.0 + 4.0 + 8.0 + 16.0;\n                return acc / div;\n            }\n\n            float pattern(vec2 p, float time, out vec2 q, out vec2 r) {\n                q.x = noise(p + vec2(1.0, 2.3));\n                q.y = noise(p + vec2(1.1 + time, 5.3 + time));\n                \n                r.x = noise(vec2(p + 4.0 * q + vec2(2.2 + time, 4.1 + time)));\n                r.y = noise(vec2(p + 4.0 * q + vec2(2.4 + time, 8.2 + time)));\n                \n            //    return noise(p); // 1st iteration\n            //\t  return noise(p + 4.0 * q); 2nd iteration\n                return noise(p + 4.0 * r);\n            }\n          \n        \n            varying vec2 vUv;          \n            uniform sampler2D u_texture;\n            uniform sampler2D u_texturem;\n            uniform float u_k;\n            \n            void main(){\n                vec2 q = vec2(0.0, 0.0);\n                vec2 r = vec2(0.0, 0.0);\n                float t = pattern(vUv*0.3, u_k, q, r);\n                mat2 mt = mat2(cos(u_k), sin(u_k), -sin(u_k),cos(u_k));\n                vec4 cor1 = texture2D( u_texturem,  q);  \n                vec4 cor2 = texture2D( u_texture,  vUv+q*0.3);\n                vec4 cor = mix(cor1, cor2, .8);\n               \n                gl_FragColor = vec4(cor.r,cor.g,cor.b,1.0);\n                // gl_FragColor = vec4(r.x,r.x,r.y,1.0);\n            }\n                "};setInterval(()=>{l.uniforms.u_k.value+=.001},60);const c=new ml({uniforms:l.uniforms,vertexShader:l.vertexShader,fragmentShader:l.fragmentShader,transparent:!0,depthTest:!1,side:2});new pl({map:s});let _=new Fc(e,t),S=new Hi(_,c);return this.scene.add(S),S}runtween(e,t,r,i=0,o=0){let s={x:t,y:i};new iN(s).to({x:r,y:o},1200).easing(Hf.Quintic.Out).onUpdate(()=>{e.position.x=s.x,e.position.y=s.y}).onComplete(l=>{}).start()}renderOthers(){Fb()}},l6e=["container"];let c6e=(()=>{class n{constructor(){}ngOnInit(){}ngAfterViewInit(){this.scene=new a6e(this.container.nativeElement,{}),this.scene.updateData([])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tr({type:n,selectors:[["app-videotexture"]],viewQuery:function(t,r){if(1&t&&mi(l6e,5),2&t){let i;gr(i=vr())&&(r.container=i.first)}},decls:18,vars:0,consts:[[2,"width","100%","height","100%"],["container",""],[2,"position","absolute","display","none"],["width","100","id","jp1video","loop","","autoplay","","controls",""],["jp1video",""],["src","./assets/video/jp1.mp4","type","video/mp4"],[2,"position","absolute","top","200px","display","none"],["width","100","id","jp2video","loop","","autoplay","","controls",""],["jp2video",""],["src","./assets/video/jp2.mp4","type","video/mp4"],[2,"position","absolute","top","310px","display","none"],["width","100","id","jp3video","loop","","autoplay","","controls",""],["jp3video",""],["src","./assets/video/jp3.mp4","type","video/mp4"],[2,"position","absolute","top","420px","display","none"],["width","100","id","jp4video","loop","","autoplay","","controls",""],["src","./assets/video/jp4.mp4","type","video/mp4"]],template:function(t,r){1&t&&(Pt(0,"div",0,1),Pt(2,"div",2),Pt(3,"video",3,4),Vn(5,"source",5),kt(),kt(),Pt(6,"div",6),Pt(7,"video",7,8),Vn(9,"source",9),kt(),kt(),Pt(10,"div",10),Pt(11,"video",11,12),Vn(13,"source",13),kt(),kt(),Pt(14,"div",14),Pt(15,"video",15,12),Vn(17,"source",16),kt(),kt(),kt())},encapsulation:2}),n})(),u6e=(()=>{class n{constructor(){}ngOnInit(){this.Water("water"),this.MyGuang("Light"),this.Flower("flower"),this.Bar("bar")}Flower(t){const r=new PIXI.Application({width:640,height:360,backgroundColor:4233659});document.getElementById(t).appendChild(r.view);const i=[],o=PIXI.Texture.from("assets/img/fr1.png");for(let p=0;p<100;p++){var s=PIXI.Sprite.from(o);s.anchor.set(.5),s.x=-10,s.y=r.screen.height/2+40*Math.random()-20,s.scale.set(.2),Math.random(),Math,s.vx=3*Math.random()+1,s.vy=2*Math.random()-1,s.alpha=0,s.life=2*Math.random()+2,i.push(s),r.stage.addChild(s)}r.ticker.add(p=>{Fb(),i.forEach(p=>{p.x+=p.vx,p.y+=p.vy,p.alpha+=p.vx/10,p.life-=.02,p.alpha>=1&&(p.alpha=1),p.life<=.1&&(p.alpha-=.1)})})}Bar(t){const r=new PIXI.Application({width:640,height:360,backgroundColor:1087931});document.getElementById(t).appendChild(r.view);const i=[],o=PIXI.Texture.from("assets/img/sm.png");var s=PIXI.Sprite.from(o);s.width=100,s.height=100,s.anchor.set(.5),s.x=r.screen.width/2,s.y=r.screen.height/2,r.stage.addChild(s);for(let c=0;c<100;c++){var a=PIXI.Sprite.from(o);a.width=20,a.height=20,a.anchor.set(.5),a.x=20,a.y=r.screen.height/2;const p=Math.random()*Math.PI*2,_=3;a.vx=Math.sin(p)*_,a.vy=Math.cos(p)*_,i.push(a),r.stage.addChild(a)}let l=0;r.ticker.add(c=>{s.rotation+=.01;for(let p=0;p<i.length;p++){const _=i[p];l+=.03,_.x+=_.vx,_.x>r.screen.width&&(_.vx=-_.vx),_.x<0&&(_.vx=-_.vx),_.y+=_.vy,_.y>r.screen.height&&(_.vy=-_.vy),_.y<0&&(_.vy=-_.vy),Math.abs(_.x-r.screen.width/2)<50&&Math.abs(_.y-r.screen.height/2)<50&&(_.vx=-_.vx,_.vy=-_.vy)}})}MyText(t){const r=new PIXI.Application({width:640,height:360,backgroundColor:1087931});document.getElementById(t).appendChild(r.view);const i=new PIXI.Text("\u6b63\u9053\u7684\u5149\u7167\u5728\u4e86\u5927\u5730\u4e0a\uff01");i.x=50,i.y=20,r.stage.addChild(i);const o=new PIXI.TextStyle({fontFamily:"Arial",fontSize:36,fontStyle:"italic",fontWeight:"bold",fill:["#ffffff","#00ff99"],stroke:"#4a1850",strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:6,wordWrap:!0,wordWrapWidth:440,lineJoin:"round"}),s=new PIXI.Text("Rich text with a lot of options and across multiple lines",o);s.x=50,s.y=80,r.stage.addChild(s);const a=new PIXI.TextStyle({fontFamily:"Arial",dropShadow:!0,dropShadowAlpha:.8,dropShadowAngle:2.1,dropShadowBlur:4,dropShadowColor:"0x111111",dropShadowDistance:10,fill:["#ffffff"],stroke:"#004620",fontSize:60,fontWeight:"lighter",lineJoin:"round",strokeThickness:12}),l=new PIXI.Text("SKEW IS COOL",a);l.skew.set(.65,-.3),l.anchor.set(.5,.5),l.x=400,l.y=250,r.stage.addChild(l)}MyGuang(t){var o,i=new PIXI.Application({width:640,height:360,transparent:!0});document.getElementById(t).appendChild(i.view),function(){var k=PIXI.Sprite.from("assets/img/lengion.jpg");o=PIXI.Sprite.from("assets/img/guang.jpg"),k.width=i.screen.width,k.height=i.screen.height,o.width=i.screen.width,o.height=i.screen.height,o.anchor.set(.5,.5),o.x=320,o.y=-10,o.alpha=.5,o.scale.set(.5),o.blendMode=1;var N=new PIXI.Container;N.addChild(k,o),i.stage.addChild(N)}();var l=.01,c=.3,p=.002,_=.5,S=0;!function D(){requestAnimationFrame(D),o&&(o.rotation=S+=.001,(c>.6||c<.3)&&(l=-l),o.alpha=c+=l,(_>1||_<.5)&&(p=-p),o.scale=_+=p,o.scale.set(_))}()}Water(t){var s,a,l,c,i=new PIXI.Application({width:640,height:360,transparent:!0}),o=i.renderer;document.getElementById(t).appendChild(o.view),c=new PIXI.Container,(s=PIXI.Sprite.from("assets/img/WechatIMG132.png")).width=i.screen.width,s.height=i.screen.height,(a=PIXI.Sprite.from("assets/img/water.jpg")).anchor.set(.5),a.texture.baseTexture.wrapMode=PIXI.WRAP_MODES.REPEAT,l=new PIXI.filters.DisplacementFilter(a,20),c.addChild(s),c.addChild(a),i.stage.addChild(c),c.filters=[l];let D=0;i.ticker.add(k=>{a.x+=1.25,D+=.01})}Masking(t){const r=new PIXI.Application({width:640,height:360});document.getElementById(t).appendChild(r.view);let i=new PIXI.Graphics;i.beginFill(6710886),i.lineStyle({color:16777215,width:4,alignment:0}),i.drawRect(0,0,208,208),i.position.set(220,80),r.stage.addChild(i);let o=new PIXI.Graphics;o.beginFill(16777215),o.drawRect(0,0,200,200),o.endFill();let s=new PIXI.Container;s.mask=o,s.addChild(o),s.position.set(4,4),i.addChild(s);let a=new PIXI.Text("This text will scroll up and be masked, so you can see how masking works.  Lorem ipsum and all that.\n\nYou can put anything in the container and it will be masked!",{fontSize:24,fill:1052927,wordWrap:!0,wordWrapWidth:180});a.x=10,s.addChild(a);let l=0;r.ticker.add(c=>{l+=c,a.y=100*Math.cos(l/50)-90})}RenderOrder(t){const r=new PIXI.Application({width:640,height:360});document.getElementById(t).appendChild(r.view);const i=new PIXI.Text("Scene Graph:\n\napp.stage\n  \u2517 A\n     \u2517 B\n     \u2517 C\n  \u2517 D",{fill:"#ffffff"});i.position={x:300,y:100},r.stage.addChild(i);const o=[];function s(S,D,k,N){const B=new PIXI.Sprite(PIXI.Texture.WHITE);B.width=100,B.height=100,B.tint=k;const F=new PIXI.Text(S,{fill:"#ffffff"});F.anchor.set(.5),F.position={x:50,y:50};const I=new PIXI.Container;return I.position=N,I.visible=!1,I.addChild(B,F),D.addChild(I),o.push(I),I}let a=s("A",r.stage,16711680,{x:100,y:100}),_=(s("B",a,65280,{x:20,y:20}),s("C",a,255,{x:20,y:40}),s("D",r.stage,16746496,{x:140,y:100}),0);r.ticker.add(S=>{_+=S/60,_>=o.length&&(_=0);for(let D=0;D<o.length;D++)o[D].visible=_>=D})}ParentsChildren(t){const r=new PIXI.Application({width:640,height:360});document.getElementById(t).appendChild(r.view);const i=new PIXI.Container;i.x=r.screen.width/2,i.y=r.screen.height/2,r.stage.addChild(i);const o=[];let s=i;for(let l=0;l<3;l++){let c=PIXI.Sprite.from("assets/img/sm.png");c.anchor.set(.5),s.addChild(c),o.push(c),s=c}let a=0;r.ticker.add(l=>{a+=l/60;const c=Math.sin(a),p=.5+.25*c,_=.75+.25*c,S=40*c,D=75*c;for(let k=0;k<o.length;k++){const N=o[k];N.scale.set(p),N.alpha=_,N.angle=S,N.x=D}})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tr({type:n,selectors:[["app-water"]],decls:9,vars:0,consts:[[2,"width","100%","height","100%","overflow","auto"],["id","flower",2,"float","left"],["id","bar",2,"float","left"],["id","water",2,"float","left"],["id","text",2,"float","left"],["id","ParentsChildren",2,"float","left"],["id","RenderOrder",2,"float","left"],["id","Masking",2,"float","left"],["id","Light",2,"float","left"]],template:function(t,r){1&t&&(Pt(0,"div",0),Vn(1,"div",1),Vn(2,"div",2),Vn(3,"div",3),Vn(4,"div",4),Vn(5,"div",5),Vn(6,"div",6),Vn(7,"div",7),Vn(8,"div",8),kt())},encapsulation:2}),n})(),h6e=(()=>{class n{constructor(){this.mouseP={x:320,y:160}}ngOnInit(){}ngAfterViewInit(){this.canvas1(),this.canvas2()}canvas2(){const t=document.getElementById("particle-canvas2"),r=new Proton,i=new Proton.Emitter;i.rate=new Proton.Rate(new Proton.Span(1,3),1),i.addInitialize(new Proton.Mass(1)),i.addInitialize(new Proton.Radius(2,4)),i.addInitialize(new Proton.P(new Proton.LineZone(10,t.height,t.width-10,t.height))),i.addInitialize(new Proton.Life(1,1.5)),i.addInitialize(new Proton.V(new Proton.Span(4,6),new Proton.Span(0,0,!0),"polar")),i.addBehaviour(new Proton.Gravity(1)),i.addBehaviour(new Proton.Color("#ff0000","random")),i.emit(),r.addEmitter(i);const o=new Proton.CanvasRenderer(t),s=t.getContext("2d");o.onProtonUpdate=function(){s.fillStyle="rgba(0, 0, 0, 0.1)",s.fillRect(0,0,t.width,t.height)},r.addRenderer(o),r.addEventListener(Proton.PARTICLE_DEAD,c=>{Math.random()<.7?function(c){const p=new Proton.Emitter;p.rate=new Proton.Rate(new Proton.Span(250,300),1),p.addInitialize(new Proton.Mass(1)),p.addInitialize(new Proton.Radius(1,2)),p.addInitialize(new Proton.Life(1,3)),p.addInitialize(new Proton.V(new Proton.Span(2,4),new Proton.Span(0,360),"polar")),p.addBehaviour(new Proton.RandomDrift(10,10,.05)),p.addBehaviour(new Proton.Alpha(1,0)),p.addBehaviour(new Proton.Gravity(3));const _=Math.random()>.3?Proton.MathUtil.randomColor():"random";p.addBehaviour(new Proton.Color(_)),p.p.x=c.p.x,p.p.y=c.p.y,p.emit("once",!0),r.addEmitter(p)}(c):function(c){const p=new Proton.Emitter;p.rate=new Proton.Rate(new Proton.Span(100,120),1),p.addInitialize(new Proton.Mass(1)),p.addInitialize(new Proton.Radius(4,8)),p.addInitialize(new Proton.Life(1,2)),p.addInitialize(new Proton.V([1,2],new Proton.Span(0,360),"polar")),p.addBehaviour(new Proton.Alpha(1,0)),p.addBehaviour(new Proton.Scale(1,.1)),p.addBehaviour(new Proton.Gravity(1));const _=Proton.MathUtil.randomColor();p.addBehaviour(new Proton.Color(_)),p.p.x=c.p.x,p.p.y=c.p.y,p.emit("once",!0),r.addEmitter(p)}(c)}),setInterval(()=>{r.update()},30)}canvas1(){const t=document.getElementById("particle-canvas"),r=new Proton,i=new Proton.Emitter;i.rate=new Proton.Rate(Proton.getSpan(1,20),.1),i.addInitialize(new Proton.Radius(1,12)),i.addInitialize(new Proton.Life(2,4)),i.addInitialize(new Proton.Velocity(3,Proton.getSpan(0,360),"polar")),i.addBehaviour(new Proton.Color("ff0000","random")),i.addBehaviour(new Proton.Alpha(1,0)),i.p.x=t.width/2,i.p.y=t.height/2,i.emit(),r.addEmitter(i);const o=new Proton.CanvasRenderer(t);r.addRenderer(o),setInterval(()=>{i.p.x=this.mouseP.x||0,i.p.y=this.mouseP.y||0,r.update()},30)}mousedown(t){this.mouseP.x=t.layerX,this.mouseP.y=t.layerY}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tr({type:n,selectors:[["app-particle"]],hostBindings:function(t,r){1&t&&nr("mousedown",function(o){return r.mousedown(o)})},decls:3,vars:0,consts:[[2,"width","100%","height","100%","overflow","auto"],["id","particle-canvas","width","640","height","320",2,"background","#e0fde9"],["id","particle-canvas2","width","640","height","640",2,"background","#e0fde9"]],template:function(t,r){1&t&&(Pt(0,"div",0),Vn(1,"canvas",1),Vn(2,"canvas",2),kt())},encapsulation:2}),n})(),d6e=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tr({type:n,selectors:[["app-echarts"]],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();const f6e=["container"];let p6e=(()=>{class n{constructor(){}ngOnInit(){console.log("app-bigscene :>> ngOnInit")}ngAfterViewInit(){this.container.nativeElement.id="mycanvas1"}map(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tr({type:n,selectors:[["app-bigscene"]],viewQuery:function(t,r){if(1&t&&mi(f6e,5),2&t){let i;gr(i=vr())&&(r.container=i.first)}},decls:3,vars:0,consts:[[1,"main",2,"width","1920px","height","1080px","background","#666"],[2,"width","200px","height","200px"],["container",""]],template:function(t,r){1&t&&(Pt(0,"div",0),Vn(1,"div",1,2),kt())},encapsulation:2}),n})();let m6e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({}),n})();const sN=new Set;let jf,aN=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):v6e}matchMedia(t){return this._platform.WEBKIT&&function(n){if(!sN.has(n))try{jf||(jf=document.createElement("style"),jf.setAttribute("type","text/css"),document.head.appendChild(jf)),jf.sheet&&(jf.sheet.insertRule(`@media ${n} {.fx-query-test{ }}`,0),sN.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(Ke(qi))},n.\u0275prov=sn({factory:function(){return new n(Ke(qi))},token:n,providedIn:"root"}),n})();function v6e(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}const lN=()=>{};let cN=(()=>{class n{constructor(t,r){this.ngZone=t,this.rendererFactory2=r,this.resizeSource$=new ye,this.listeners=0,this.disposeHandle=lN,this.handler=()=>{this.ngZone.run(()=>{this.resizeSource$.next()})},this.renderer=this.rendererFactory2.createRenderer(null,null)}subscribe(){return this.registerListener(),this.resizeSource$.pipe(Jh(16),ny(()=>this.unregisterListener()))}unsubscribe(){this.unregisterListener()}registerListener(){0===this.listeners&&this.ngZone.runOutsideAngular(()=>{this.disposeHandle=this.renderer.listen("window","resize",this.handler)}),this.listeners+=1}unregisterListener(){this.listeners-=1,0===this.listeners&&(this.disposeHandle(),this.disposeHandle=lN)}}return n.\u0275fac=function(t){return new(t||n)(Ke(yr),Ke(Ma))},n.\u0275prov=sn({factory:function(){return new n(Ke(yr),Ke(Ma))},token:n,providedIn:"root"}),n})();new Map;var $6=(()=>(function(n){n.xxl="xxl",n.xl="xl",n.lg="lg",n.md="md",n.sm="sm",n.xs="xs"}($6||($6={})),$6))();const y6e={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},_6e={xs:"(max-width: 479.98px)",sm:"(max-width: 575.98px)",md:"(max-width: 767.98px)",lg:"(max-width: 991.98px)",xl:"(max-width: 1199.98px)",xxl:"(max-width: 1599.98px)"};let b6e=(()=>{class n{constructor(t,r){this.resizeService=t,this.mediaMatcher=r,this.resizeService.subscribe().subscribe(()=>{})}subscribe(t,r){if(r){const i=()=>this.matchMedia(t,!0);return this.resizeService.subscribe().pipe(we(i),Il(i()),jc((o,s)=>o[0]===s[0]),we(o=>o[1]))}{const i=()=>this.matchMedia(t);return this.resizeService.subscribe().pipe(we(i),Il(i()),jc())}}matchMedia(t,r){let i=$6.md;const o={};return Object.keys(t).map(s=>{const a=s,l=this.mediaMatcher.matchMedia(y6e[a]).matches;o[s]=l,l&&(i=a)}),r?[i,o]:i}}return n.\u0275fac=function(t){return new(t||n)(Ke(cN),Ke(aN))},n.\u0275prov=sn({factory:function(){return new n(Ke(cN),Ke(aN))},token:n,providedIn:"root"}),n})();const w4=["*"];function w6e(n,e){if(1&n){const t=xa();Pt(0,"div",2),nr("click",function(){Vo(t);const i=Qn();return i.setCollapsed(!i.nzCollapsed)}),kt()}if(2&n){const t=Qn();Wt("matchBreakPoint",t.matchBreakPoint)("nzCollapsedWidth",t.nzCollapsedWidth)("nzCollapsed",t.nzCollapsed)("nzBreakpoint",t.nzBreakpoint)("nzReverseArrow",t.nzReverseArrow)("nzTrigger",t.nzTrigger)("nzZeroTrigger",t.nzZeroTrigger)("siderWidth",t.widthSetting)}}const x6e=["nz-sider-trigger",""];function M6e(n,e){}function S6e(n,e){if(1&n&&(zs(0),Rn(1,M6e,0,0,"ng-template",3),As()),2&n){const t=Qn(),r=Xa(5);an(1),Wt("ngTemplateOutlet",t.nzZeroTrigger||r)}}function C6e(n,e){}function T6e(n,e){if(1&n&&(zs(0),Rn(1,C6e,0,0,"ng-template",3),As()),2&n){const t=Qn(),r=Xa(3);an(1),Wt("ngTemplateOutlet",t.nzTrigger||r)}}function E6e(n,e){1&n&&Vn(0,"i",5),2&n&&Wt("nzType",Qn(2).nzCollapsed?"right":"left")}function D6e(n,e){1&n&&Vn(0,"i",5),2&n&&Wt("nzType",Qn(2).nzCollapsed?"left":"right")}function z6e(n,e){if(1&n&&(Rn(0,E6e,1,1,"i",4),Rn(1,D6e,1,1,"i",4)),2&n){const t=Qn();Wt("ngIf",!t.nzReverseArrow),an(1),Wt("ngIf",t.nzReverseArrow)}}function A6e(n,e){1&n&&Vn(0,"i",6)}let P6e=(()=>{class n{constructor(t,r){this.elementRef=t,this.renderer=r,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-content")}}return n.\u0275fac=function(t){return new(t||n)(Ae(jn),Ae(Ri))},n.\u0275cmp=tr({type:n,selectors:[["nz-content"]],exportAs:["nzContent"],ngContentSelectors:w4,decls:1,vars:0,template:function(t,r){1&t&&(Ps(),Ho(0))},encapsulation:2,changeDetection:0}),n})(),k6e=(()=>{class n{constructor(t,r){this.elementRef=t,this.renderer=r,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-footer")}}return n.\u0275fac=function(t){return new(t||n)(Ae(jn),Ae(Ri))},n.\u0275cmp=tr({type:n,selectors:[["nz-footer"]],exportAs:["nzFooter"],ngContentSelectors:w4,decls:1,vars:0,template:function(t,r){1&t&&(Ps(),Ho(0))},encapsulation:2,changeDetection:0}),n})(),L6e=(()=>{class n{constructor(t,r){this.elementRef=t,this.renderer=r,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-header")}}return n.\u0275fac=function(t){return new(t||n)(Ae(jn),Ae(Ri))},n.\u0275cmp=tr({type:n,selectors:[["nz-header"]],exportAs:["nzHeader"],ngContentSelectors:w4,decls:1,vars:0,template:function(t,r){1&t&&(Ps(),Ho(0))},encapsulation:2,changeDetection:0}),n})(),uN=(()=>{class n{constructor(t,r,i,o){this.platform=t,this.cdr=r,this.breakpointService=i,this.elementRef=o,this.destroy$=new ye,this.nzMenuDirective=null,this.nzCollapsedChange=new Hn,this.nzWidth=200,this.nzTheme="dark",this.nzCollapsedWidth=80,this.nzBreakpoint=null,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.nzReverseArrow=!1,this.nzCollapsible=!1,this.nzCollapsed=!1,this.matchBreakPoint=!1,this.flexSetting=null,this.widthSetting=null,this.elementRef.nativeElement.classList.add("ant-layout-sider")}updateStyleMap(){this.widthSetting=this.nzCollapsed?`${this.nzCollapsedWidth}px`:function(n){return go(n)}(this.nzWidth),this.flexSetting=`0 0 ${this.widthSetting}`,this.cdr.markForCheck()}updateMenuInlineCollapsed(){this.nzMenuDirective&&"inline"===this.nzMenuDirective.nzMode&&0!==this.nzCollapsedWidth&&this.nzMenuDirective.setInlineCollapsed(this.nzCollapsed)}setCollapsed(t){t!==this.nzCollapsed&&(this.nzCollapsed=t,this.nzCollapsedChange.emit(t),this.updateMenuInlineCollapsed(),this.updateStyleMap(),this.cdr.markForCheck())}ngOnInit(){this.updateStyleMap(),this.platform.isBrowser&&this.breakpointService.subscribe(_6e,!0).pipe(wr(this.destroy$)).subscribe(t=>{const r=this.nzBreakpoint;r&&function(){const n=new ye;return Promise.resolve().then(()=>n.next()),n.pipe(vh(1))}().subscribe(()=>{this.matchBreakPoint=!t[r],this.setCollapsed(this.matchBreakPoint),this.cdr.markForCheck()})})}ngOnChanges(t){const{nzCollapsed:r,nzCollapsedWidth:i,nzWidth:o}=t;(r||i||o)&&this.updateStyleMap(),r&&this.updateMenuInlineCollapsed()}ngAfterContentInit(){this.updateMenuInlineCollapsed()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(Ae(qi),Ae(wo),Ae(b6e),Ae(jn))},n.\u0275cmp=tr({type:n,selectors:[["nz-sider"]],contentQueries:function(t,r,i){if(1&t&&Qo(i,Db,5),2&t){let o;gr(o=vr())&&(r.nzMenuDirective=o.first)}},hostVars:16,hostBindings:function(t,r){2&t&&(Oo("flex",r.flexSetting)("max-width",r.widthSetting)("min-width",r.widthSetting)("width",r.widthSetting),Hr("ant-layout-sider-zero-width",r.nzCollapsed&&0===r.nzCollapsedWidth)("ant-layout-sider-light","light"===r.nzTheme)("ant-layout-sider-dark","dark"===r.nzTheme)("ant-layout-sider-collapsed",r.nzCollapsed))},inputs:{nzWidth:"nzWidth",nzTheme:"nzTheme",nzCollapsedWidth:"nzCollapsedWidth",nzBreakpoint:"nzBreakpoint",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",nzReverseArrow:"nzReverseArrow",nzCollapsible:"nzCollapsible",nzCollapsed:"nzCollapsed"},outputs:{nzCollapsedChange:"nzCollapsedChange"},exportAs:["nzSider"],features:[Tn],ngContentSelectors:w4,decls:3,vars:1,consts:[[1,"ant-layout-sider-children"],["nz-sider-trigger","",3,"matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth","click",4,"ngIf"],["nz-sider-trigger","",3,"matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth","click"]],template:function(t,r){1&t&&(Ps(),Pt(0,"div",0),Ho(1),kt(),Rn(2,w6e,1,8,"div",1)),2&t&&(an(2),Wt("ngIf",r.nzCollapsible&&null!==r.nzTrigger))},directives:function(){return[js,I6e]},encapsulation:2,changeDetection:0}),On([Jn(),kn("design:type",Object)],n.prototype,"nzReverseArrow",void 0),On([Jn(),kn("design:type",Object)],n.prototype,"nzCollapsible",void 0),On([Jn(),kn("design:type",Object)],n.prototype,"nzCollapsed",void 0),n})(),O6e=(()=>{class n{constructor(t,r){this.elementRef=t,this.directionality=r,this.dir="ltr",this.destroy$=new ye,this.elementRef.nativeElement.classList.add("ant-layout")}ngOnInit(){var t;this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(wr(this.destroy$)).subscribe(r=>{this.dir=r})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(Ae(jn),Ae(eo,8))},n.\u0275cmp=tr({type:n,selectors:[["nz-layout"]],contentQueries:function(t,r,i){if(1&t&&Qo(i,uN,4),2&t){let o;gr(o=vr())&&(r.listOfNzSiderComponent=o)}},hostVars:4,hostBindings:function(t,r){2&t&&Hr("ant-layout-rtl","rtl"===r.dir)("ant-layout-has-sider",r.listOfNzSiderComponent.length>0)},exportAs:["nzLayout"],ngContentSelectors:w4,decls:1,vars:0,template:function(t,r){1&t&&(Ps(),Ho(0))},encapsulation:2,changeDetection:0}),n})(),I6e=(()=>{class n{constructor(){this.nzCollapsed=!1,this.nzReverseArrow=!1,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.matchBreakPoint=!1,this.nzCollapsedWidth=null,this.siderWidth=null,this.nzBreakpoint=null,this.isZeroTrigger=!1,this.isNormalTrigger=!1}updateTriggerType(){this.isZeroTrigger=0===this.nzCollapsedWidth&&(this.nzBreakpoint&&this.matchBreakPoint||!this.nzBreakpoint),this.isNormalTrigger=0!==this.nzCollapsedWidth}ngOnInit(){this.updateTriggerType()}ngOnChanges(){this.updateTriggerType()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tr({type:n,selectors:[["","nz-sider-trigger",""]],hostVars:10,hostBindings:function(t,r){2&t&&(Oo("width",r.isNormalTrigger?r.siderWidth:null),Hr("ant-layout-sider-trigger",r.isNormalTrigger)("ant-layout-sider-zero-width-trigger",r.isZeroTrigger)("ant-layout-sider-zero-width-trigger-right",r.isZeroTrigger&&r.nzReverseArrow)("ant-layout-sider-zero-width-trigger-left",r.isZeroTrigger&&!r.nzReverseArrow))},inputs:{nzCollapsed:"nzCollapsed",nzReverseArrow:"nzReverseArrow",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",matchBreakPoint:"matchBreakPoint",nzCollapsedWidth:"nzCollapsedWidth",siderWidth:"siderWidth",nzBreakpoint:"nzBreakpoint"},exportAs:["nzSiderTrigger"],features:[Tn],attrs:x6e,decls:6,vars:2,consts:[[4,"ngIf"],["defaultTrigger",""],["defaultZeroTrigger",""],[3,"ngTemplateOutlet"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","bars"]],template:function(t,r){1&t&&(Rn(0,S6e,2,1,"ng-container",0),Rn(1,T6e,2,1,"ng-container",0),Rn(2,z6e,2,2,"ng-template",null,1,Ll),Rn(4,A6e,1,0,"ng-template",null,2,Ll)),2&t&&(Wt("ngIf",r.isZeroTrigger),an(1),Wt("ngIf",r.isNormalTrigger))},directives:[js,p1,jl],encapsulation:2,changeDetection:0}),n})(),R6e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({imports:[[Aa,ia,Dc,m6e,Bl]]}),n})();function F6e(n,e){if(1&n&&(Pt(0,"ul"),Pt(1,"li",15),Pt(2,"a",16),uo(3),kt(),kt(),kt()),2&n){const t=e.$implicit,r=e.index;an(2),Wt("routerLink",t.selector),an(1),x0("",r+1,":",t.name,"")}}function N6e(n,e){if(1&n&&(Pt(0,"ul"),Pt(1,"li",15),Pt(2,"a",16),uo(3),kt(),kt(),kt()),2&n){const t=e.$implicit,r=e.index;an(2),Wt("routerLink",t.selector),an(1),x0("",r+1,":",t.name,"")}}function V6e(n,e){if(1&n&&(Pt(0,"ul"),Pt(1,"li",15),Pt(2,"a",17),uo(3),kt(),kt(),kt()),2&n){const t=e.$implicit,r=e.index;an(2),Wt("routerLink",t.selector),an(1),x0("",r+1,":",t.name,"")}}let hN=(()=>{class n{constructor(){this.title="Visualization100",this.isCollapsed=!1,this.components=[{name:"\u6bdb\u7b14",selector:"/100days/brush"},{name:"\u6c34\u6ce2\u7eb9",selector:"/100days/water"},{name:"\u7c92\u5b50\u7cfb\u7edf",selector:"/100days/particle"},{name:"\u89c6\u9891\u7eb9\u7406",selector:"/100days/videotexture"},{name:"git\u63d0\u4ea4\u7edf\u8ba12D\u7248",selector:"/100days/gitcommit2d"},{name:"git\u63d0\u4ea4\u7edf\u8ba13D\u7248",selector:"/100days/gitcommit3d"},{name:"\u5730\u5f62-1",selector:"/100days/terrain"},{name:"\u5c42\u5ce6\u53e0\u5d82",selector:"/100days/mountain"},{name:"\u4e91\u5357\u5730\u56fe",selector:"/100days/map06"},{name:"\u6050\u9f99\u6e38\u620f",selector:"/100days/dinosaurgame"}],this.othercomponents=[{name:"threejs",selector:"app-oth01"},{name:"p5js",selector:"app-p5xs"}],this.bigscene=[{name:"\u5929\u6c14",selector:"/bigscene/echarts"}]}ngOnInit(){this.othercomponents=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tr({type:n,selectors:[["app-visual100"]],decls:26,vars:7,consts:[[1,"app-layout"],["nzCollapsible","","nzWidth","256px","nzBreakpoint","md",1,"menu-sidebar",3,"nzCollapsed","nzTrigger","nzCollapsedChange"],[1,"sidebar-logo",2,"color","aliceblue"],["nz-menu","","nzTheme","dark","nzMode","inline",3,"nzInlineCollapsed"],["nz-submenu","","nzOpen","","nzTitle","\u53ef\u89c6\u5316100\u5929","nzIcon","appstore"],[4,"ngFor","ngForOf"],["nz-submenu","","nzOpen","","nzTitle","\u7f16\u7a0b\u5927\u5192\u9669","nzIcon","appstore"],["nz-submenu","","nzOpen","","nzTitle","\u53ef\u89c6\u5316\u5927\u5c4f","nzIcon","appstore"],[1,"app-header"],[1,"header-trigger",3,"click"],["nz-icon","",1,"trigger",3,"nzType"],[2,"margin","0px"],[1,"inner-content"],[2,"position","absolute","right","30px","bottom","100px","pointer-events","none"],["width","100px","src","./assets/img/astro-mona.webp","alt",""],["nz-menu-item","","nzMatchRouter",""],[3,"routerLink"],["target","_blank",3,"routerLink"]],template:function(t,r){1&t&&(Pt(0,"nz-layout",0),Pt(1,"nz-sider",1),nr("nzCollapsedChange",function(o){return r.isCollapsed=o}),Pt(2,"div",2),Pt(3,"span"),uo(4,"\u53ef\u89c6\u5316\u8bad\u7ec3\u8425"),kt(),kt(),Pt(5,"ul",3),Pt(6,"li",4),Rn(7,F6e,4,3,"ul",5),kt(),Pt(8,"li",6),Rn(9,N6e,4,3,"ul",5),kt(),Pt(10,"li",7),Rn(11,V6e,4,3,"ul",5),kt(),kt(),kt(),Pt(12,"nz-layout"),Pt(13,"nz-header"),Pt(14,"div",8),Pt(15,"span",9),nr("click",function(){return r.isCollapsed=!r.isCollapsed}),Vn(16,"i",10),kt(),kt(),kt(),Pt(17,"nz-content",11),Pt(18,"div",12),Pt(19,"span",13),Vn(20,"img",14),kt(),Vn(21,"router-outlet"),kt(),kt(),Pt(22,"nz-footer"),uo(23," \xa92021 \u53ef\u89c6\u5316\u8bad\u7ec3\u8425 "),Pt(24,"a"),uo(25," QQ\u7fa4:959261248"),kt(),kt(),kt(),kt()),2&t&&(an(1),Wt("nzCollapsed",r.isCollapsed)("nzTrigger",null),an(4),Wt("nzInlineCollapsed",r.isCollapsed),an(2),Wt("ngForOf",r.components),an(2),Wt("ngForOf",r.othercomponents),an(2),Wt("ngForOf",r.bigscene),an(5),Wt("nzType",r.isCollapsed?"menu-unfold":"menu-fold"))},directives:[O6e,uN,Db,RF,kp,mh,L6e,jl,P6e,O3,k6e,B6,Mh],styles:["[_nghost-%COMP%]{display:flex;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.app-layout[_ngcontent-%COMP%]{height:100vh}.menu-sidebar[_ngcontent-%COMP%]{position:relative;z-index:10;min-height:100vh;box-shadow:2px 0 6px #00152959;overflow:auto}.header-trigger[_ngcontent-%COMP%]{height:64px;padding:20px 24px;font-size:20px;cursor:pointer;transition:all .3s,padding 0s}.trigger[_ngcontent-%COMP%]:hover{color:#1890ff}.sidebar-logo[_ngcontent-%COMP%]{position:relative;height:64px;padding-left:24px;overflow:hidden;line-height:64px;background:#001529;transition:all .3s}.sidebar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;height:32px;width:32px;vertical-align:middle}.sidebar-logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline-block;margin:0 0 0 20px;color:#fff;font-weight:600;font-size:14px;font-family:Avenir,Helvetica Neue,Arial,Helvetica,sans-serif;vertical-align:middle}nz-header[_ngcontent-%COMP%]{padding:0;width:100%;z-index:2}.app-header[_ngcontent-%COMP%]{position:relative;height:64px;padding:0;background:#fff;box-shadow:0 1px 4px #00152914}nz-content[_ngcontent-%COMP%]{margin:24px}nz-footer[_ngcontent-%COMP%]{text-align:center}.inner-content[_ngcontent-%COMP%]{padding:24px;background:rgb(255,255,255);height:100%;width:100%}"]}),n})();const H6e=[{path:"100days",component:hN,children:[{path:"brush",component:O3e},{path:"videotexture",component:c6e},{path:"dinosaurgame",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tr({type:n,selectors:[["app-dinosaurgame"]],decls:2,vars:0,template:function(t,r){1&t&&(Pt(0,"p"),uo(1,"dinosaurgame works!"),kt())},encapsulation:2}),n})()},{path:"terrain",component:H3e},{path:"mountain",component:$8e},{path:"map06",component:J8e},{path:"gitcommit3d",component:H4e},{path:"gitcommit2d",component:fue},{path:"water",component:u6e},{path:"particle",component:h6e},{path:"app-oth01",component:L8e},{path:"app-p5xs",component:I8e}]},{path:"bigscene",component:p6e,children:[{path:"echarts",component:d6e}]},{path:"**",component:hN}];let B6e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({imports:[[RD.forRoot(H6e,{useHash:!0})],RD]}),n})(),j6e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=tr({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&Vn(0,"router-outlet")},directives:[O3],styles:[""]}),n})();var dN={locale:"zh-cn",Pagination:{items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875"},DatePicker:{lang:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74\u4efd",quarterPlaceholder:"\u8bf7\u9009\u62e9\u5b63\u5ea6",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708\u4efd",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],rangeYearPlaceholder:["\u5f00\u59cb\u5e74\u4efd","\u7ed3\u675f\u5e74\u4efd"],rangeMonthPlaceholder:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"],rangeWeekPlaceholder:["\u5f00\u59cb\u5468","\u7ed3\u675f\u5468"],locale:"zh_CN",today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},timePickerLocale:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]}},TimePicker:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]},Calendar:{lang:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74\u4efd",quarterPlaceholder:"\u8bf7\u9009\u62e9\u5b63\u5ea6",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708\u4efd",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],rangeYearPlaceholder:["\u5f00\u59cb\u5e74\u4efd","\u7ed3\u675f\u5e74\u4efd"],rangeMonthPlaceholder:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"],rangeWeekPlaceholder:["\u5f00\u59cb\u5468","\u7ed3\u675f\u5468"],locale:"zh_CN",today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},timePickerLocale:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]}},global:{placeholder:"\u8bf7\u9009\u62e9"},Table:{filterTitle:"\u7b5b\u9009",filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",filterEmptyText:"\u65e0\u7b5b\u9009\u9879",selectAll:"\u5168\u9009\u5f53\u9875",selectInvert:"\u53cd\u9009\u5f53\u9875",selectionAll:"\u5168\u9009\u6240\u6709",sortTitle:"\u6392\u5e8f",expand:"\u5c55\u5f00\u884c",collapse:"\u5173\u95ed\u884c",triggerDesc:"\u70b9\u51fb\u964d\u5e8f",triggerAsc:"\u70b9\u51fb\u5347\u5e8f",cancelSort:"\u53d6\u6d88\u6392\u5e8f"},Modal:{okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",justOkText:"\u77e5\u9053\u4e86"},Popconfirm:{cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a"},Transfer:{searchPlaceholder:"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9",itemUnit:"\u9879",itemsUnit:"\u9879",remove:"\u5220\u9664",selectCurrent:"\u5168\u9009\u5f53\u9875",removeCurrent:"\u5220\u9664\u5f53\u9875",selectAll:"\u5168\u9009\u6240\u6709",removeAll:"\u5220\u9664\u5168\u90e8",selectInvert:"\u53cd\u9009\u5f53\u9875"},Upload:{uploading:"\u6587\u4ef6\u4e0a\u4f20\u4e2d",removeFile:"\u5220\u9664\u6587\u4ef6",uploadError:"\u4e0a\u4f20\u9519\u8bef",previewFile:"\u9884\u89c8\u6587\u4ef6",downloadFile:"\u4e0b\u8f7d\u6587\u4ef6"},Empty:{description:"\u6682\u65e0\u6570\u636e"},Icon:{icon:"\u56fe\u6807"},Text:{edit:"\u7f16\u8f91",copy:"\u590d\u5236",copied:"\u590d\u5236\u6210\u529f",expand:"\u5c55\u5f00"},PageHeader:{back:"\u8fd4\u56de"}};const Nb=new Nn("nz-i18n");new Nn("nz-date-locale"),new Nn("date-config");var q6e=ee(68),$6e=ee.n(q6e);const X6e=[{name:"menu-fold",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z" /></svg>'},{name:"menu-unfold",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z" /></svg>'},{name:"appstore",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z" /></svg>'},{name:"form",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z" /><path d="M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z" /></svg>'}];let K6e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=dr({providers:[{provide:jm,useValue:X6e}],imports:[[Dc],Dc]}),n})();!function(n,e,t){!function(n,e,t){"string"!=typeof e&&(t=e,e=n[vn.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Jd[e]=n,t&&(Jd[e][vn.ExtraData]=t)}(n,void 0,void 0)}($6e());let Z6e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n,bootstrap:[j6e]}),n.\u0275inj=dr({providers:[{provide:Nb,useValue:dN}],imports:[[Q5,B6e,O7,jse,rue,R6e,zb,K6e,kle,XL,P8e,W8e,P3e]]}),n})();(function(){if(yT)throw new Error("Cannot enable prod mode after platform setup.");vT=!1})(),window.console.log=function(){},nZ().bootstrapModule(Z6e).catch(n=>console.error(n))}},zo=>{zo(zo.s=969)}]);