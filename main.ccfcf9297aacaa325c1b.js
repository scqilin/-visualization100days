(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,r){e.exports=r("zUnb")},"Kd/A":function(e,t,r){var n,i,s;!function(o){if("object"==typeof e.exports){var a=o(0,t);void 0!==a&&(e.exports=a)}else i=[r,t],void 0===(s="function"==typeof(n=o)?n.apply(t,i):n)||(e.exports=s)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=void 0;t.default=["zh",[["\u4e0a\u5348","\u4e0b\u5348"],r,r],r,[["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"]],r,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]],r,[["\u516c\u5143\u524d","\u516c\u5143"],r,r],0,[6,0],["y/M/d","y\u5e74M\u6708d\u65e5",r,"y\u5e74M\u6708d\u65e5EEEE"],["ah:mm","ah:mm:ss","z ah:mm:ss","zzzz ah:mm:ss"],["{1} {0}",r,r,r],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"CNY","\xa5","\u4eba\u6c11\u5e01",{AUD:["AU$","$"],CNY:["\xa5"],ILR:["ILS"],JPY:["JP\xa5","\xa5"],KRW:["\uffe6","\u20a9"],TWD:["NT$"],USD:["US$","$"],XXX:[]},"ltr",function(e){return 5}]})},NCWt:function(e,t,r){e.exports=function e(t,r,n){function i(o,a){if(!r[o]){if(!t[o]){if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[o]={exports:{}};t[o][0].call(c.exports,function(e){return i(t[o][1][e]||e)},c,c.exports,e,t,r,n)}return r[o].exports}for(var s=!1,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){"use strict";r.byteLength=function(e){var t=c(e),r=t[1];return 3*(t[0]+r)/4-r},r.toByteArray=function(e){var t,r,n=c(e),o=n[0],a=n[1],l=new s(function(e,t){return 3*(e+t)/4-t}(o,a)),u=0,h=0<a?o-4:o;for(r=0;r<h;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[u++]=255&t),1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},r.fromByteArray=function(e){for(var t,r=e.length,i=r%3,s=[],o=0,a=r-i;o<a;o+=16383)s.push(u(e,o,a<o+16383?a:o+16383));return 1==i?s.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2==i&&s.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),s.join("")};for(var n=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=o.length;a<l;++a)n[a]=o[a],i[o.charCodeAt(a)]=a;function c(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,r){for(var i,s=[],o=t;o<r;o+=3)s.push(n[(i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]))>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(e,t,r){},{}],3:[function(e,t,r){arguments[4][2][0].apply(r,arguments)},{dup:2}],4:[function(e,t,r){(function(t){"use strict";var n=e("base64-js"),i=e("ieee754"),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=t,r.SlowBuffer=function(e){return+e!=e&&(e=0),t.alloc(+e)},r.INSPECT_MAX_BYTES=50;var o=2147483647;function a(e){if(o<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');var r=new Uint8Array(e);return Object.setPrototypeOf(r,t.prototype),r}function t(e,t,r){if("number"!=typeof e)return l(e,t,r);if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}function l(e,r,n){if("string"==typeof e)return function(e,r){if("string"==typeof r&&""!==r||(r="utf8"),!t.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var n=0|p(e,r),i=a(n),s=i.write(e,r);return s!==n&&(i=i.slice(0,s)),i}(e,r);if(ArrayBuffer.isView(e))return h(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(I(e,ArrayBuffer)||e&&I(e.buffer,ArrayBuffer))return function(e,r,n){if(r<0||e.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<r+(n||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),Object.setPrototypeOf(i,t.prototype),i}(e,r,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return t.from(i,r,n);var s=function(e){if(t.isBuffer(e)){var r=0|d(e.length),n=a(r);return 0===n.length||e.copy(n,0,0,r),n}return void 0!==e.length?"number"!=typeof e.length||N(e.length)?a(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return t.from(e[Symbol.toPrimitive]("string"),r,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return c(e),a(e<0?0:0|d(e))}function h(e){for(var t=e.length<0?0:0|d(e.length),r=a(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e){if(o<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function p(e,r){if(t.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||I(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,i=2<arguments.length&&!0===arguments[2];if(!i&&0===n)return 0;for(var s=!1;;)switch(r){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return k(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(e).length;default:if(s)return i?-1:k(e).length;r=(""+r).toLowerCase(),s=!0}}function f(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,r,n,i,s){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),N(n=+n)&&(n=s?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(s)return-1;n=e.length-1}else if(n<0){if(!s)return-1;n=0}if("string"==typeof r&&(r=t.from(r,i)),t.isBuffer(r))return 0===r.length?-1:g(e,r,n,i,s);if("number"==typeof r)return r&=255,"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,r,n):Uint8Array.prototype.lastIndexOf.call(e,r,n):g(e,[r],n,i,s);throw new TypeError("val must be string, number or Buffer")}function g(e,t,r,n,i){var s,o=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a/=o=2,l/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(s=r;s<a;s++)if(c(e,s)===c(t,-1===u?0:s-u)){if(-1===u&&(u=s),s-u+1===l)return u*o}else-1!==u&&(s-=s-u),u=-1}else for(a<r+l&&(r=a-l),s=r;0<=s;s--){for(var h=!0,d=0;d<l;d++)if(c(e,s+d)!==c(t,d)){h=!1;break}if(h)return s}return-1}function y(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?i<(n=Number(n))&&(n=i):n=i;var s=t.length;s/2<n&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(t.substr(2*o,2),16);if(N(a))return o;e[r+o]=a}return o}function v(e,t,r,n){return D(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function _(e,t,r,n){return D(function(e,t){for(var r,n,i=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i.push(r%256),i.push(n);return i}(t,e.length-r),e,r,n)}function b(e,t,r){return n.fromByteArray(0===t&&r===e.length?e:e.slice(t,r))}function w(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var s,o,a,l,c=e[i],u=null,h=239<c?4:223<c?3:191<c?2:1;if(i+h<=r)switch(h){case 1:c<128&&(u=c);break;case 2:128==(192&(s=e[i+1]))&&127<(l=(31&c)<<6|63&s)&&(u=l);break;case 3:o=e[i+2],128==(192&(s=e[i+1]))&&128==(192&o)&&2047<(l=(15&c)<<12|(63&s)<<6|63&o)&&(l<55296||57343<l)&&(u=l);break;case 4:o=e[i+2],a=e[i+3],128==(192&(s=e[i+1]))&&128==(192&o)&&128==(192&a)&&65535<(l=(15&c)<<18|(63&s)<<12|(63&o)<<6|63&a)&&l<1114112&&(u=l)}null===u?(u=65533,h=1):65535<u&&(n.push((u-=65536)>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=h}return function(e){var t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}r.kMaxLength=o,(t.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192,t.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(t.prototype,Uint8Array.prototype),Object.setPrototypeOf(t,Uint8Array),t.alloc=function(e,t,r){return i=t,s=r,c(n=e),n<=0?a(n):void 0!==i?"string"==typeof s?a(n).fill(i,s):a(n).fill(i):a(n);var n,i,s},t.allocUnsafe=function(e){return u(e)},t.allocUnsafeSlow=function(e){return u(e)},t.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==t.prototype},t.compare=function(e,r){if(I(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),I(r,Uint8Array)&&(r=t.from(r,r.offset,r.byteLength)),!t.isBuffer(e)||!t.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var n=e.length,i=r.length,s=0,o=Math.min(n,i);s<o;++s)if(e[s]!==r[s]){n=e[s],i=r[s];break}return n<i?-1:i<n?1:0},t.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var n;if(void 0===r)for(n=r=0;n<e.length;++n)r+=e[n].length;var i=t.allocUnsafe(r),s=0;for(n=0;n<e.length;++n){var o=e[n];if(I(o,Uint8Array)&&(o=t.from(o)),!t.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,s),s+=o.length}return i},t.byteLength=p,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)f(this,t,t+1);return this},t.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},t.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},t.prototype.toLocaleString=t.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?w(this,0,e):(function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":return E(this,t,r);case"utf8":case"utf-8":return w(this,t,r);case"ascii":return S(this,t,r);case"latin1":case"binary":return M(this,t,r);case"base64":return b(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}).apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},s&&(t.prototype[s]=t.prototype.inspect),t.prototype.compare=function(e,r,n,i,s){if(I(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),!t.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===r&&(r=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===s&&(s=this.length),r<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(s<=i&&n<=r)return 0;if(s<=i)return-1;if(n<=r)return 1;if(this===e)return 0;for(var o=(s>>>=0)-(i>>>=0),a=(n>>>=0)-(r>>>=0),l=Math.min(o,a),c=this.slice(i,s),u=e.slice(r,n),h=0;h<l;++h)if(c[h]!==u[h]){o=c[h],a=u[h];break}return o<a?-1:a<o?1:0},t.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},t.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},t.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},t.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||i<r)&&(r=i),0<e.length&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n=n||"utf8";for(var s,o,a,l,c=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return l=r,D(k(e,this.length-(a=t)),this,a,l);case"ascii":return v(this,e,t,r);case"latin1":case"binary":return v(this,e,t,r);case"base64":return s=t,o=r,D(j(e),this,s,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,r);default:if(c)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),c=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function S(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function M(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function E(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||n<r)&&(r=n);for(var i="",s=t;s<r;++s)i+=z[e[s]];return i}function T(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function C(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(r<e+t)throw new RangeError("Trying to access beyond buffer length")}function A(e,r,n,i,s,o){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(s<r||r<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function L(e,t,r,n){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function P(e,t,r,n,s){return t=+t,r>>>=0,s||L(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function O(e,t,r,n,s){return t=+t,r>>>=0,s||L(e,0,r,8),i.write(e,t,r,n,52,8),r+8}t.prototype.slice=function(e,r){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):n<r&&(r=n),r<e&&(r=e);var i=this.subarray(e,r);return Object.setPrototypeOf(i,t.prototype),i},t.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n},t.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);for(var n=this[e+--t],i=1;0<t&&(i*=256);)n+=this[e+--t]*i;return n},t.prototype.readUInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),this[e]},t.prototype.readUInt16LE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]|this[e+1]<<8},t.prototype.readUInt16BE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]<<8|this[e+1]},t.prototype.readUInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},t.prototype.readUInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},t.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return(i*=128)<=n&&(n-=Math.pow(2,8*t)),n},t.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);for(var n=t,i=1,s=this[e+--n];0<n&&(i*=256);)s+=this[e+--n]*i;return(i*=128)<=s&&(s-=Math.pow(2,8*t)),s},t.prototype.readInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},t.prototype.readInt16LE=function(e,t){e>>>=0,t||C(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt16BE=function(e,t){e>>>=0,t||C(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},t.prototype.readInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},t.prototype.readFloatLE=function(e,t){return e>>>=0,t||C(e,4,this.length),i.read(this,e,!0,23,4)},t.prototype.readFloatBE=function(e,t){return e>>>=0,t||C(e,4,this.length),i.read(this,e,!1,23,4)},t.prototype.readDoubleLE=function(e,t){return e>>>=0,t||C(e,8,this.length),i.read(this,e,!0,52,8)},t.prototype.readDoubleBE=function(e,t){return e>>>=0,t||C(e,8,this.length),i.read(this,e,!1,52,8)},t.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||A(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},t.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||A(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[t+i]=255&e;0<=--i&&(s*=256);)this[t+i]=e/s&255;return t+r},t.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,1,255,0),this[t]=255&e,t+1},t.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},t.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);A(this,e,t,r,i-1,-i)}var s=0,o=1,a=0;for(this[t]=255&e;++s<r&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+r},t.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);A(this,e,t,r,i-1,-i)}var s=r-1,o=1,a=0;for(this[t+s]=255&e;0<=--s&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+r},t.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},t.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},t.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeFloatLE=function(e,t,r){return P(this,e,t,!0,r)},t.prototype.writeFloatBE=function(e,t,r){return P(this,e,t,!1,r)},t.prototype.writeDoubleLE=function(e,t,r){return O(this,e,t,!0,r)},t.prototype.writeDoubleBE=function(e,t,r){return O(this,e,t,!1,r)},t.prototype.copy=function(e,r,n,i){if(!t.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n=n||0,i||0===i||(i=this.length),r>=e.length&&(r=e.length),0<i&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if((r=r||0)<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var s=i-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(r,n,i);else if(this===e&&n<r&&r<i)for(var o=s-1;0<=o;--o)e[o+r]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,i),r);return s},t.prototype.fill=function(e,r,n,i){if("string"==typeof e){if("string"==typeof r?(i=r,r=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!t.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){var s=e.charCodeAt(0);("utf8"===i&&s<128||"latin1"===i)&&(e=s)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;var o;if(r>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(o=r;o<n;++o)this[o]=e;else{var a=t.isBuffer(e)?e:t.from(e,i),l=a.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=a[o%l]}return this};var R=/[^+/0-9A-Za-z-_]/g;function k(e,t){var r;t=t||1/0;for(var n=e.length,i=null,s=[],o=0;o<n;++o){if(55295<(r=e.charCodeAt(o))&&r<57344){if(!i){if(56319<r){-1<(t-=3)&&s.push(239,191,189);continue}if(o+1===n){-1<(t-=3)&&s.push(239,191,189);continue}i=r;continue}if(r<56320){-1<(t-=3)&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(t-=3)&&s.push(239,191,189);if(i=null,r<128){if(--t<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function j(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(R,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function D(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function I(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function N(e){return e!=e}var z=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:233}],5:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},{}],6:[function(e,t,r){var n=e("../internals/is-object");t.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},{"../internals/is-object":73}],7:[function(e,t,r){var n=e("../internals/well-known-symbol"),i=e("../internals/object-create"),s=e("../internals/object-define-property"),o=n("unscopables"),a=Array.prototype;null==a[o]&&s.f(a,o,{configurable:!0,value:i(null)}),t.exports=function(e){a[o][e]=!0}},{"../internals/object-create":89,"../internals/object-define-property":91,"../internals/well-known-symbol":145}],8:[function(e,t,r){"use strict";var n=e("../internals/string-multibyte").charAt;t.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},{"../internals/string-multibyte":122}],9:[function(e,t,r){t.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},{}],10:[function(e,t,r){var n=e("../internals/is-object");t.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},{"../internals/is-object":73}],11:[function(e,t,r){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},{}],12:[function(e,t,r){"use strict";function n(e){return l(e)&&c(P,u(e))}var i,s=e("../internals/array-buffer-native"),o=e("../internals/descriptors"),a=e("../internals/global"),l=e("../internals/is-object"),c=e("../internals/has"),u=e("../internals/classof"),h=e("../internals/create-non-enumerable-property"),d=e("../internals/redefine"),p=e("../internals/object-define-property").f,f=e("../internals/object-get-prototype-of"),m=e("../internals/object-set-prototype-of"),g=e("../internals/well-known-symbol"),y=e("../internals/uid"),v=a.Int8Array,_=v&&v.prototype,b=a.Uint8ClampedArray,w=b&&b.prototype,x=v&&f(v),S=_&&f(_),M=Object.prototype,E=M.isPrototypeOf,T=g("toStringTag"),C=y("TYPED_ARRAY_TAG"),A=s&&!!m&&"Opera"!==u(a.opera),L=!1,P={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(i in P)a[i]||(A=!1);if((!A||"function"!=typeof x||x===Function.prototype)&&(x=function(){throw TypeError("Incorrect invocation")},A))for(i in P)a[i]&&m(a[i],x);if((!A||!S||S===M)&&(S=x.prototype,A))for(i in P)a[i]&&m(a[i].prototype,S);if(A&&f(w)!==S&&m(w,S),o&&!c(S,T))for(i in L=!0,p(S,T,{get:function(){return l(this)?this[C]:void 0}}),P)a[i]&&h(a[i],C,i);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:A,TYPED_ARRAY_TAG:L&&C,aTypedArray:function(e){if(n(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(m){if(E.call(x,e))return e}else for(var t in P)if(c(P,i)){var r=a[t];if(r&&(e===r||E.call(r,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r){if(o){if(r)for(var n in P){var i=a[n];i&&c(i.prototype,e)&&delete i.prototype[e]}S[e]&&!r||d(S,e,r?t:A&&_[e]||t)}},exportTypedArrayStaticMethod:function(e,t,r){var n,i;if(o){if(m){if(r)for(n in P)(i=a[n])&&c(i,e)&&delete i[e];if(x[e]&&!r)return;try{return d(x,e,r?t:A&&v[e]||t)}catch(e){}}for(n in P)!(i=a[n])||i[e]&&!r||d(i,e,t)}},isView:function(e){var t=u(e);return"DataView"===t||c(P,t)},isTypedArray:n,TypedArray:x,TypedArrayPrototype:S}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":37,"../internals/descriptors":42,"../internals/global":58,"../internals/has":59,"../internals/is-object":73,"../internals/object-define-property":91,"../internals/object-get-prototype-of":96,"../internals/object-set-prototype-of":100,"../internals/redefine":107,"../internals/uid":142,"../internals/well-known-symbol":145}],13:[function(e,t,r){"use strict";function n(e){return[255&e]}function i(e){return[255&e,e>>8&255]}function s(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function o(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function a(e){return V(e,23,4)}function l(e){return V(e,52,8)}function c(e,t){T(e[j],t,{get:function(){return P(this)[t]}})}function u(e,t,r,n){var i=w(r),s=P(e);if(i+t>s.byteLength)throw B(D);var o=P(s.buffer).bytes,a=i+s.byteOffset,l=o.slice(a,a+t);return n?l:l.reverse()}function h(e,t,r,n,i,s){var o=w(r),a=P(e);if(o+t>a.byteLength)throw B(D);for(var l=P(a.buffer).bytes,c=o+a.byteOffset,u=n(+i),h=0;h<t;h++)l[c+h]=u[s?h:t-h-1]}var d=e("../internals/global"),p=e("../internals/descriptors"),f=e("../internals/array-buffer-native"),m=e("../internals/create-non-enumerable-property"),g=e("../internals/redefine-all"),y=e("../internals/fails"),v=e("../internals/an-instance"),_=e("../internals/to-integer"),b=e("../internals/to-length"),w=e("../internals/to-index"),x=e("../internals/ieee754"),S=e("../internals/object-get-prototype-of"),M=e("../internals/object-set-prototype-of"),E=e("../internals/object-get-own-property-names").f,T=e("../internals/object-define-property").f,C=e("../internals/array-fill"),A=e("../internals/set-to-string-tag"),L=e("../internals/internal-state"),P=L.get,O=L.set,R="ArrayBuffer",k="DataView",j="prototype",D="Wrong index",I=d[R],N=I,z=d[k],F=z&&z[j],U=Object.prototype,B=d.RangeError,V=x.pack,H=x.unpack;if(f){if(!y(function(){I(1)})||!y(function(){new I(-1)})||y(function(){return new I,new I(1.5),new I(NaN),I.name!=R})){for(var G,W=(N=function(e){return v(this,N),new I(w(e))})[j]=I[j],q=E(I),X=0;q.length>X;)(G=q[X++])in N||m(N,G,I[G]);W.constructor=N}M&&S(F)!==U&&M(F,U);var Y=new z(new N(2)),$=F.setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||g(F,{setInt8:function(e,t){$.call(this,e,t<<24>>24)},setUint8:function(e,t){$.call(this,e,t<<24>>24)}},{unsafe:!0})}else N=function(e){v(this,N,R);var t=w(e);O(this,{bytes:C.call(new Array(t),0),byteLength:t}),p||(this.byteLength=t)},z=function(e,t,r){v(this,z,k),v(e,N,k);var n=P(e).byteLength,i=_(t);if(i<0||n<i)throw B("Wrong offset");if(n<i+(r=void 0===r?n-i:b(r)))throw B("Wrong length");O(this,{buffer:e,byteLength:r,byteOffset:i}),p||(this.buffer=e,this.byteLength=r,this.byteOffset=i)},p&&(c(N,"byteLength"),c(z,"buffer"),c(z,"byteLength"),c(z,"byteOffset")),g(z[j],{getInt8:function(e){return u(this,1,e)[0]<<24>>24},getUint8:function(e){return u(this,1,e)[0]},getInt16:function(e,t){var r=u(this,2,e,1<arguments.length?t:void 0);return(r[1]<<8|r[0])<<16>>16},getUint16:function(e,t){var r=u(this,2,e,1<arguments.length?t:void 0);return r[1]<<8|r[0]},getInt32:function(e,t){return o(u(this,4,e,1<arguments.length?t:void 0))},getUint32:function(e,t){return o(u(this,4,e,1<arguments.length?t:void 0))>>>0},getFloat32:function(e,t){return H(u(this,4,e,1<arguments.length?t:void 0),23)},getFloat64:function(e,t){return H(u(this,8,e,1<arguments.length?t:void 0),52)},setInt8:function(e,t){h(this,1,e,n,t)},setUint8:function(e,t){h(this,1,e,n,t)},setInt16:function(e,t,r){h(this,2,e,i,t,2<arguments.length?r:void 0)},setUint16:function(e,t,r){h(this,2,e,i,t,2<arguments.length?r:void 0)},setInt32:function(e,t,r){h(this,4,e,s,t,2<arguments.length?r:void 0)},setUint32:function(e,t,r){h(this,4,e,s,t,2<arguments.length?r:void 0)},setFloat32:function(e,t,r){h(this,4,e,a,t,2<arguments.length?r:void 0)},setFloat64:function(e,t,r){h(this,8,e,l,t,2<arguments.length?r:void 0)}});A(N,R),A(z,k),t.exports={ArrayBuffer:N,DataView:z}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":37,"../internals/descriptors":42,"../internals/fails":50,"../internals/global":58,"../internals/ieee754":64,"../internals/internal-state":69,"../internals/object-define-property":91,"../internals/object-get-own-property-names":94,"../internals/object-get-prototype-of":96,"../internals/object-set-prototype-of":100,"../internals/redefine-all":106,"../internals/set-to-string-tag":116,"../internals/to-index":130,"../internals/to-integer":132,"../internals/to-length":133}],14:[function(e,t,r){"use strict";var n=e("../internals/to-object"),i=e("../internals/to-absolute-index"),s=e("../internals/to-length"),o=Math.min;t.exports=[].copyWithin||function(e,t,r){var a=n(this),l=s(a.length),c=i(e,l),u=i(t,l),h=2<arguments.length?r:void 0,d=o((void 0===h?l:i(h,l))-u,l-c),p=1;for(u<c&&c<u+d&&(p=-1,u+=d-1,c+=d-1);0<d--;)u in a?a[c]=a[u]:delete a[c],c+=p,u+=p;return a}},{"../internals/to-absolute-index":129,"../internals/to-length":133,"../internals/to-object":134}],15:[function(e,t,r){"use strict";var n=e("../internals/to-object"),i=e("../internals/to-absolute-index"),s=e("../internals/to-length");t.exports=function(e,t,r){for(var o=n(this),a=s(o.length),l=arguments.length,c=i(1<l?t:void 0,a),u=2<l?r:void 0,h=void 0===u?a:i(u,a);c<h;)o[c++]=e;return o}},{"../internals/to-absolute-index":129,"../internals/to-length":133,"../internals/to-object":134}],16:[function(e,t,r){"use strict";var n=e("../internals/array-iteration").forEach,i=e("../internals/array-method-is-strict"),s=e("../internals/array-method-uses-to-length"),o=i("forEach"),a=s("forEach");t.exports=o&&a?[].forEach:function(e,t){return n(this,e,1<arguments.length?t:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(e,t,r){"use strict";var n=e("../internals/function-bind-context"),i=e("../internals/to-object"),s=e("../internals/call-with-safe-iteration-closing"),o=e("../internals/is-array-iterator-method"),a=e("../internals/to-length"),l=e("../internals/create-property"),c=e("../internals/get-iterator-method");t.exports=function(e,t,r){var u,h,d,p,f,m,g=i(e),y="function"==typeof this?this:Array,v=arguments.length,_=1<v?t:void 0,b=void 0!==_,w=c(g),x=0;if(b&&(_=n(_,2<v?r:void 0,2)),null==w||y==Array&&o(w))for(h=new y(u=a(g.length));x<u;x++)m=b?_(g[x],x):g[x],l(h,x,m);else for(f=(p=w.call(g)).next,h=new y;!(d=f.call(p)).done;x++)m=b?s(p,_,[d.value,x],!0):d.value,l(h,x,m);return h.length=x,h}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":39,"../internals/function-bind-context":53,"../internals/get-iterator-method":56,"../internals/is-array-iterator-method":70,"../internals/to-length":133,"../internals/to-object":134}],18:[function(e,t,r){function n(e){return function(t,r,n){var a,l=i(t),c=s(l.length),u=o(n,c);if(e&&r!=r){for(;u<c;)if((a=l[u++])!=a)return!0}else for(;u<c;u++)if((e||u in l)&&l[u]===r)return e||u||0;return!e&&-1}}var i=e("../internals/to-indexed-object"),s=e("../internals/to-length"),o=e("../internals/to-absolute-index");t.exports={includes:n(!0),indexOf:n(!1)}},{"../internals/to-absolute-index":129,"../internals/to-indexed-object":131,"../internals/to-length":133}],19:[function(e,t,r){function n(e){var t=1==e,r=2==e,n=3==e,u=4==e,h=6==e,d=5==e||h;return function(p,f,m,g){for(var y,v,_=o(p),b=s(_),w=i(f,m,3),x=a(b.length),S=0,M=g||l,E=t?M(p,x):r?M(p,0):void 0;S<x;S++)if((d||S in b)&&(v=w(y=b[S],S,_),e))if(t)E[S]=v;else if(v)switch(e){case 3:return!0;case 5:return y;case 6:return S;case 2:c.call(E,y)}else if(u)return!1;return h?-1:n||u?u:E}}var i=e("../internals/function-bind-context"),s=e("../internals/indexed-object"),o=e("../internals/to-object"),a=e("../internals/to-length"),l=e("../internals/array-species-create"),c=[].push;t.exports={forEach:n(0),map:n(1),filter:n(2),some:n(3),every:n(4),find:n(5),findIndex:n(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":53,"../internals/indexed-object":65,"../internals/to-length":133,"../internals/to-object":134}],20:[function(e,t,r){"use strict";var n=e("../internals/to-indexed-object"),i=e("../internals/to-integer"),s=e("../internals/to-length"),o=e("../internals/array-method-is-strict"),a=e("../internals/array-method-uses-to-length"),l=Math.min,c=[].lastIndexOf,u=!!c&&1/[1].lastIndexOf(1,-0)<0,h=o("lastIndexOf"),d=a("indexOf",{ACCESSORS:!0,1:0});t.exports=!u&&h&&d?c:function(e,t){if(u)return c.apply(this,arguments)||0;var r=n(this),o=s(r.length),a=o-1;for(1<arguments.length&&(a=l(a,i(t))),a<0&&(a=o+a);0<=a;a--)if(a in r&&r[a]===e)return a||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":131,"../internals/to-integer":132,"../internals/to-length":133}],21:[function(e,t,r){var n=e("../internals/fails"),i=e("../internals/well-known-symbol"),s=e("../internals/engine-v8-version"),o=i("species");t.exports=function(e){return 51<=s||!n(function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},{"../internals/engine-v8-version":47,"../internals/fails":50,"../internals/well-known-symbol":145}],22:[function(e,t,r){"use strict";var n=e("../internals/fails");t.exports=function(e,t){var r=[][e];return!!r&&n(function(){r.call(null,t||function(){throw 1},1)})}},{"../internals/fails":50}],23:[function(e,t,r){function n(e){throw e}var i=e("../internals/descriptors"),s=e("../internals/fails"),o=e("../internals/has"),a=Object.defineProperty,l={};t.exports=function(e,t){if(o(l,e))return l[e];var r=[][e],c=!!o(t=t||{},"ACCESSORS")&&t.ACCESSORS,u=o(t,0)?t[0]:n,h=o(t,1)?t[1]:void 0;return l[e]=!!r&&!s(function(){if(c&&!i)return!0;var e={length:-1};c?a(e,1,{enumerable:!0,get:n}):e[1]=1,r.call(e,u,h)})}},{"../internals/descriptors":42,"../internals/fails":50,"../internals/has":59}],24:[function(e,t,r){function n(e){return function(t,r,n,l){i(r);var c=s(t),u=o(c),h=a(c.length),d=e?h-1:0,p=e?-1:1;if(n<2)for(;;){if(d in u){l=u[d],d+=p;break}if(d+=p,e?d<0:h<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?0<=d:d<h;d+=p)d in u&&(l=r(l,u[d],d,c));return l}}var i=e("../internals/a-function"),s=e("../internals/to-object"),o=e("../internals/indexed-object"),a=e("../internals/to-length");t.exports={left:n(!1),right:n(!0)}},{"../internals/a-function":5,"../internals/indexed-object":65,"../internals/to-length":133,"../internals/to-object":134}],25:[function(e,t,r){var n=e("../internals/is-object"),i=e("../internals/is-array"),s=e("../internals/well-known-symbol")("species");t.exports=function(e,t){var r;return i(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!i(r.prototype)?n(r)&&null===(r=r[s])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},{"../internals/is-array":71,"../internals/is-object":73,"../internals/well-known-symbol":145}],26:[function(e,t,r){var n=e("../internals/an-object");t.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var s=e.return;throw void 0!==s&&n(s.call(e)),t}}},{"../internals/an-object":10}],27:[function(e,t,r){var n=e("../internals/well-known-symbol")("iterator"),i=!1;try{var s=0,o={next:function(){return{done:!!s++}},return:function(){i=!0}};o[n]=function(){return this},Array.from(o,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var s={};s[n]=function(){return{next:function(){return{done:r=!0}}}},e(s)}catch(e){}return r}},{"../internals/well-known-symbol":145}],28:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],29:[function(e,t,r){var n=e("../internals/to-string-tag-support"),i=e("../internals/classof-raw"),s=e("../internals/well-known-symbol")("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=n?i:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),s))?r:o?i(t):"Object"==(n=i(t))&&"function"==typeof t.callee?"Arguments":n}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":138,"../internals/well-known-symbol":145}],30:[function(e,t,r){"use strict";var n=e("../internals/object-define-property").f,i=e("../internals/object-create"),s=e("../internals/redefine-all"),o=e("../internals/function-bind-context"),a=e("../internals/an-instance"),l=e("../internals/iterate"),c=e("../internals/define-iterator"),u=e("../internals/set-species"),h=e("../internals/descriptors"),d=e("../internals/internal-metadata").fastKey,p=e("../internals/internal-state"),f=p.set,m=p.getterFor;t.exports={getConstructor:function(e,t,r,c){function u(e,t,r){var n,i,s=g(e),o=y(e,t);return o?o.value=r:(s.last=o={index:i=d(t,!0),key:t,value:r,previous:n=s.last,next:void 0,removed:!1},s.first||(s.first=o),n&&(n.next=o),h?s.size++:e.size++,"F"!==i&&(s.index[i]=o)),e}var p=e(function(e,n){a(e,p,t),f(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),h||(e.size=0),null!=n&&l(n,e[c],e,r)}),g=m(t),y=function(e,t){var r,n=g(e),i=d(t);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==t)return r};return s(p.prototype,{clear:function(){for(var e=g(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,h?e.size=0:this.size=0},delete:function(e){var t=g(this),r=y(this,e);if(r){var n=r.next,i=r.previous;delete t.index[r.index],r.removed=!0,i&&(i.next=n),n&&(n.previous=i),t.first==r&&(t.first=n),t.last==r&&(t.last=i),h?t.size--:this.size--}return!!r},forEach:function(e,t){for(var r,n=g(this),i=o(e,1<arguments.length?t:void 0,3);r=r?r.next:n.first;)for(i(r.value,r.key,this);r&&r.removed;)r=r.previous},has:function(e){return!!y(this,e)}}),s(p.prototype,r?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return u(this,0===e?0:e,t)}}:{add:function(e){return u(this,e=0===e?0:e,e)}}),h&&n(p.prototype,"size",{get:function(){return g(this).size}}),p},setStrong:function(e,t,r){var n=t+" Iterator",i=m(t),s=m(n);c(e,t,function(e,t){f(this,{type:n,target:e,state:i(e),kind:t,last:void 0})},function(){for(var e=s(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:{value:e.target=void 0,done:!0}},r?"entries":"values",!r,!0),u(t)}}},{"../internals/an-instance":9,"../internals/define-iterator":40,"../internals/descriptors":42,"../internals/function-bind-context":53,"../internals/internal-metadata":68,"../internals/internal-state":69,"../internals/iterate":76,"../internals/object-create":89,"../internals/object-define-property":91,"../internals/redefine-all":106,"../internals/set-species":115}],31:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/global"),s=e("../internals/is-forced"),o=e("../internals/redefine"),a=e("../internals/internal-metadata"),l=e("../internals/iterate"),c=e("../internals/an-instance"),u=e("../internals/is-object"),h=e("../internals/fails"),d=e("../internals/check-correctness-of-iteration"),p=e("../internals/set-to-string-tag"),f=e("../internals/inherit-if-required");t.exports=function(e,t,r){function m(e){var t=b[e];o(b,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(y&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return y&&!u(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!u(e))&&t.call(this,0===e?0:e)}:function(e,r){return t.call(this,0===e?0:e,r),this})}var g=-1!==e.indexOf("Map"),y=-1!==e.indexOf("Weak"),v=g?"set":"add",_=i[e],b=_&&_.prototype,w=_,x={};if(s(e,"function"!=typeof _||!(y||b.forEach&&!h(function(){(new _).entries().next()}))))w=r.getConstructor(t,e,g,v),a.REQUIRED=!0;else if(s(e,!0)){var S=new w,M=S[v](y?{}:-0,1)!=S,E=h(function(){S.has(1)}),T=d(function(e){new _(e)}),C=!y&&h(function(){for(var e=new _,t=5;t--;)e[v](t,t);return!e.has(-0)});T||(((w=t(function(t,r){c(t,w,e);var n=f(new _,t,w);return null!=r&&l(r,n[v],n,g),n})).prototype=b).constructor=w),(E||C)&&(m("delete"),m("has"),g&&m("get")),(C||M)&&m(v),y&&b.clear&&delete b.clear}return x[e]=w,n({global:!0,forced:w!=_},x),p(w,e),y||r.setStrong(w,e,g),w}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":49,"../internals/fails":50,"../internals/global":58,"../internals/inherit-if-required":66,"../internals/internal-metadata":68,"../internals/is-forced":72,"../internals/is-object":73,"../internals/iterate":76,"../internals/redefine":107,"../internals/set-to-string-tag":116}],32:[function(e,t,r){var n=e("../internals/has"),i=e("../internals/own-keys"),s=e("../internals/object-get-own-property-descriptor"),o=e("../internals/object-define-property");t.exports=function(e,t){for(var r=i(t),a=o.f,l=s.f,c=0;c<r.length;c++){var u=r[c];n(e,u)||a(e,u,l(t,u))}}},{"../internals/has":59,"../internals/object-define-property":91,"../internals/object-get-own-property-descriptor":92,"../internals/own-keys":102}],33:[function(e,t,r){var n=e("../internals/well-known-symbol")("match");t.exports=function(t){var r=/./;try{"/./"[t](r)}catch(e){try{return r[n]=!1,"/./"[t](r)}catch(e){}}return!1}},{"../internals/well-known-symbol":145}],34:[function(e,t,r){var n=e("../internals/fails");t.exports=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},{"../internals/fails":50}],35:[function(e,t,r){var n=e("../internals/require-object-coercible"),i=/"/g;t.exports=function(e,t,r,s){var o=String(n(e)),a="<"+t;return""!==r&&(a+=" "+r+'="'+String(s).replace(i,"&quot;")+'"'),a+">"+o+"</"+t+">"}},{"../internals/require-object-coercible":112}],36:[function(e,t,r){"use strict";function n(){return this}var i=e("../internals/iterators-core").IteratorPrototype,s=e("../internals/object-create"),o=e("../internals/create-property-descriptor"),a=e("../internals/set-to-string-tag"),l=e("../internals/iterators");t.exports=function(e,t,r){var c=t+" Iterator";return e.prototype=s(i,{next:o(1,r)}),a(e,c,!1,!0),l[c]=n,e}},{"../internals/create-property-descriptor":38,"../internals/iterators":78,"../internals/iterators-core":77,"../internals/object-create":89,"../internals/set-to-string-tag":116}],37:[function(e,t,r){var n=e("../internals/descriptors"),i=e("../internals/object-define-property"),s=e("../internals/create-property-descriptor");t.exports=n?function(e,t,r){return i.f(e,t,s(1,r))}:function(e,t,r){return e[t]=r,e}},{"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/object-define-property":91}],38:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],39:[function(e,t,r){"use strict";var n=e("../internals/to-primitive"),i=e("../internals/object-define-property"),s=e("../internals/create-property-descriptor");t.exports=function(e,t,r){var o=n(t);o in e?i.f(e,o,s(0,r)):e[o]=r}},{"../internals/create-property-descriptor":38,"../internals/object-define-property":91,"../internals/to-primitive":137}],40:[function(e,t,r){"use strict";function n(){return this}var i=e("../internals/export"),s=e("../internals/create-iterator-constructor"),o=e("../internals/object-get-prototype-of"),a=e("../internals/object-set-prototype-of"),l=e("../internals/set-to-string-tag"),c=e("../internals/create-non-enumerable-property"),u=e("../internals/redefine"),h=e("../internals/well-known-symbol"),d=e("../internals/is-pure"),p=e("../internals/iterators"),f=e("../internals/iterators-core"),m=f.IteratorPrototype,g=f.BUGGY_SAFARI_ITERATORS,y=h("iterator"),v="values",_="entries";t.exports=function(e,t,r,h,f,b,w){function x(e){if(e===f&&P)return P;if(!g&&e in A)return A[e];switch(e){case"keys":case v:case _:return function(){return new r(this,e)}}return function(){return new r(this)}}s(r,t,h);var S,M,E,T=t+" Iterator",C=!1,A=e.prototype,L=A[y]||A["@@iterator"]||f&&A[f],P=!g&&L||x(f),O="Array"==t&&A.entries||L;if(O&&(S=o(O.call(new e)),m!==Object.prototype&&S.next&&(d||o(S)===m||(a?a(S,m):"function"!=typeof S[y]&&c(S,y,n)),l(S,T,!0,!0),d&&(p[T]=n))),f==v&&L&&L.name!==v&&(C=!0,P=function(){return L.call(this)}),d&&!w||A[y]===P||c(A,y,P),p[t]=P,f)if(M={values:x(v),keys:b?P:x("keys"),entries:x(_)},w)for(E in M)!g&&!C&&E in A||u(A,E,M[E]);else i({target:t,proto:!0,forced:g||C},M);return M}},{"../internals/create-iterator-constructor":36,"../internals/create-non-enumerable-property":37,"../internals/export":49,"../internals/is-pure":74,"../internals/iterators":78,"../internals/iterators-core":77,"../internals/object-get-prototype-of":96,"../internals/object-set-prototype-of":100,"../internals/redefine":107,"../internals/set-to-string-tag":116,"../internals/well-known-symbol":145}],41:[function(e,t,r){var n=e("../internals/path"),i=e("../internals/has"),s=e("../internals/well-known-symbol-wrapped"),o=e("../internals/object-define-property").f;t.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||o(t,e,{value:s.f(e)})}},{"../internals/has":59,"../internals/object-define-property":91,"../internals/path":103,"../internals/well-known-symbol-wrapped":144}],42:[function(e,t,r){var n=e("../internals/fails");t.exports=!n(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":50}],43:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/is-object"),s=n.document,o=i(s)&&i(s.createElement);t.exports=function(e){return o?s.createElement(e):{}}},{"../internals/global":58,"../internals/is-object":73}],44:[function(e,t,r){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],45:[function(e,t,r){var n=e("../internals/engine-user-agent");t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},{"../internals/engine-user-agent":46}],46:[function(e,t,r){var n=e("../internals/get-built-in");t.exports=n("navigator","userAgent")||""},{"../internals/get-built-in":55}],47:[function(e,t,r){var n,i,s=e("../internals/global"),o=e("../internals/engine-user-agent"),a=s.process,l=a&&a.versions,c=l&&l.v8;c?i=(n=c.split("."))[0]+n[1]:o&&(!(n=o.match(/Edge\/(\d+)/))||74<=n[1])&&(n=o.match(/Chrome\/(\d+)/))&&(i=n[1]),t.exports=i&&+i},{"../internals/engine-user-agent":46,"../internals/global":58}],48:[function(e,t,r){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],49:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/object-get-own-property-descriptor").f,s=e("../internals/create-non-enumerable-property"),o=e("../internals/redefine"),a=e("../internals/set-global"),l=e("../internals/copy-constructor-properties"),c=e("../internals/is-forced");t.exports=function(e,t){var r,u,h,d,p,f=e.target,m=e.global,g=e.stat;if(r=m?n:g?n[f]||a(f,{}):(n[f]||{}).prototype)for(u in t){if(d=t[u],h=e.noTargetGet?(p=i(r,u))&&p.value:r[u],!c(m?u:f+(g?".":"#")+u,e.forced)&&void 0!==h){if(typeof d==typeof h)continue;l(d,h)}(e.sham||h&&h.sham)&&s(d,"sham",!0),o(r,u,d,e)}}},{"../internals/copy-constructor-properties":32,"../internals/create-non-enumerable-property":37,"../internals/global":58,"../internals/is-forced":72,"../internals/object-get-own-property-descriptor":92,"../internals/redefine":107,"../internals/set-global":114}],50:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],51:[function(e,t,r){"use strict";e("../modules/es.regexp.exec");var n=e("../internals/redefine"),i=e("../internals/fails"),s=e("../internals/well-known-symbol"),o=e("../internals/regexp-exec"),a=e("../internals/create-non-enumerable-property"),l=s("species"),c=!i(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),u="$0"==="a".replace(/./,"$0"),h=s("replace"),d=!!/./[h]&&""===/./[h]("a","$0"),p=!i(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]});t.exports=function(e,t,r,h){var f=s(e),m=!i(function(){var t={};return t[f]=function(){return 7},7!=""[e](t)}),g=m&&!i(function(){var t=!1,r=/a/;return"split"===e&&((r={constructor:{}}).constructor[l]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return t=!0,null},r[f](""),!t});if(!m||!g||"replace"===e&&(!c||!u||d)||"split"===e&&!p){var y=/./[f],v=r(f,""[e],function(e,t,r,n,i){return t.exec===o?m&&!i?{done:!0,value:y.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}},{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),_=v[1];n(String.prototype,e,v[0]),n(RegExp.prototype,f,2==t?function(e,t){return _.call(e,this,t)}:function(e){return _.call(e,this)})}h&&a(RegExp.prototype[f],"sham",!0)}},{"../internals/create-non-enumerable-property":37,"../internals/fails":50,"../internals/redefine":107,"../internals/regexp-exec":109,"../internals/well-known-symbol":145,"../modules/es.regexp.exec":178}],52:[function(e,t,r){var n=e("../internals/fails");t.exports=!n(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":50}],53:[function(e,t,r){var n=e("../internals/a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},{"../internals/a-function":5}],54:[function(e,t,r){"use strict";var n=e("../internals/a-function"),i=e("../internals/is-object"),s=[].slice,o={};t.exports=Function.bind||function(e){var t=n(this),r=s.call(arguments,1),a=function(){var n=r.concat(s.call(arguments));return this instanceof a?function(e,t,r){if(!(t in o)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";o[t]=Function("C,a","return new C("+n.join(",")+")")}return o[t](e,r)}(t,n.length,n):t.apply(e,n)};return i(t.prototype)&&(a.prototype=t.prototype),a}},{"../internals/a-function":5,"../internals/is-object":73}],55:[function(e,t,r){function n(e){return"function"==typeof e?e:void 0}var i=e("../internals/path"),s=e("../internals/global");t.exports=function(e,t){return arguments.length<2?n(i[e])||n(s[e]):i[e]&&i[e][t]||s[e]&&s[e][t]}},{"../internals/global":58,"../internals/path":103}],56:[function(e,t,r){var n=e("../internals/classof"),i=e("../internals/iterators"),s=e("../internals/well-known-symbol")("iterator");t.exports=function(e){if(null!=e)return e[s]||e["@@iterator"]||i[n(e)]}},{"../internals/classof":29,"../internals/iterators":78,"../internals/well-known-symbol":145}],57:[function(e,t,r){var n=e("../internals/an-object"),i=e("../internals/get-iterator-method");t.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},{"../internals/an-object":10,"../internals/get-iterator-method":56}],58:[function(e,t,r){(function(e){function r(e){return e&&e.Math==Math&&e}t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e&&e)||Function("return this")()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],59:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],60:[function(e,t,r){t.exports={}},{}],61:[function(e,t,r){var n=e("../internals/global");t.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},{"../internals/global":58}],62:[function(e,t,r){var n=e("../internals/get-built-in");t.exports=n("document","documentElement")},{"../internals/get-built-in":55}],63:[function(e,t,r){var n=e("../internals/descriptors"),i=e("../internals/fails"),s=e("../internals/document-create-element");t.exports=!n&&!i(function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":42,"../internals/document-create-element":43,"../internals/fails":50}],64:[function(e,t,r){var n=Math.abs,i=Math.pow,s=Math.floor,o=Math.log,a=Math.LN2;t.exports={pack:function(e,t,r){var l,c,u,h=new Array(r),d=8*r-t-1,p=(1<<d)-1,f=p>>1,m=23===t?i(2,-24)-i(2,-77):0,g=e<0||0===e&&1/e<0?1:0,y=0;for((e=n(e))!=e||e===1/0?(c=e!=e?1:0,l=p):(l=s(o(e)/a),e*(u=i(2,-l))<1&&(l--,u*=2),2<=(e+=1<=l+f?m/u:m*i(2,1-f))*u&&(l++,u/=2),p<=l+f?(c=0,l=p):1<=l+f?(c=(e*u-1)*i(2,t),l+=f):(c=e*i(2,f-1)*i(2,t),l=0));8<=t;h[y++]=255&c,c/=256,t-=8);for(l=l<<t|c,d+=t;0<d;h[y++]=255&l,l/=256,d-=8);return h[--y]|=128*g,h},unpack:function(e,t){var r,n=e.length,s=8*n-t-1,o=(1<<s)-1,a=o>>1,l=s-7,c=n-1,u=e[c--],h=127&u;for(u>>=7;0<l;h=256*h+e[c],c--,l-=8);for(r=h&(1<<-l)-1,h>>=-l,l+=t;0<l;r=256*r+e[c],c--,l-=8);if(0===h)h=1-a;else{if(h===o)return r?NaN:u?-1/0:1/0;r+=i(2,t),h-=a}return(u?-1:1)*r*i(2,h-t)}}},{}],65:[function(e,t,r){var n=e("../internals/fails"),i=e("../internals/classof-raw"),s="".split;t.exports=n(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==i(e)?s.call(e,""):Object(e)}:Object},{"../internals/classof-raw":28,"../internals/fails":50}],66:[function(e,t,r){var n=e("../internals/is-object"),i=e("../internals/object-set-prototype-of");t.exports=function(e,t,r){var s,o;return i&&"function"==typeof(s=t.constructor)&&s!==r&&n(o=s.prototype)&&o!==r.prototype&&i(e,o),e}},{"../internals/is-object":73,"../internals/object-set-prototype-of":100}],67:[function(e,t,r){var n=e("../internals/shared-store"),i=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return i.call(e)}),t.exports=n.inspectSource},{"../internals/shared-store":118}],68:[function(e,t,r){function n(e){a(e,u,{value:{objectID:"O"+ ++h,weakData:{}}})}var i=e("../internals/hidden-keys"),s=e("../internals/is-object"),o=e("../internals/has"),a=e("../internals/object-define-property").f,l=e("../internals/uid"),c=e("../internals/freezing"),u=l("meta"),h=0,d=Object.isExtensible||function(){return!0},p=t.exports={REQUIRED:!1,fastKey:function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,u)){if(!d(e))return"F";if(!t)return"E";n(e)}return e[u].objectID},getWeakData:function(e,t){if(!o(e,u)){if(!d(e))return!0;if(!t)return!1;n(e)}return e[u].weakData},onFreeze:function(e){return c&&p.REQUIRED&&d(e)&&!o(e,u)&&n(e),e}};i[u]=!0},{"../internals/freezing":52,"../internals/has":59,"../internals/hidden-keys":60,"../internals/is-object":73,"../internals/object-define-property":91,"../internals/uid":142}],69:[function(e,t,r){var n,i,s,o=e("../internals/native-weak-map"),a=e("../internals/global"),l=e("../internals/is-object"),c=e("../internals/create-non-enumerable-property"),u=e("../internals/has"),h=e("../internals/shared-key"),d=e("../internals/hidden-keys");if(o){var p=new(0,a.WeakMap),f=p.get,m=p.has,g=p.set;n=function(e,t){return g.call(p,e,t),t},i=function(e){return f.call(p,e)||{}},s=function(e){return m.call(p,e)}}else{var y=h("state");d[y]=!0,n=function(e,t){return c(e,y,t),t},i=function(e){return u(e,y)?e[y]:{}},s=function(e){return u(e,y)}}t.exports={set:n,get:i,has:s,enforce:function(e){return s(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!l(t)||(r=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},{"../internals/create-non-enumerable-property":37,"../internals/global":58,"../internals/has":59,"../internals/hidden-keys":60,"../internals/is-object":73,"../internals/native-weak-map":84,"../internals/shared-key":117}],70:[function(e,t,r){var n=e("../internals/well-known-symbol"),i=e("../internals/iterators"),s=n("iterator"),o=Array.prototype;t.exports=function(e){return void 0!==e&&(i.Array===e||o[s]===e)}},{"../internals/iterators":78,"../internals/well-known-symbol":145}],71:[function(e,t,r){var n=e("../internals/classof-raw");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"../internals/classof-raw":28}],72:[function(e,t,r){function n(e,t){var r=a[o(e)];return r==c||r!=l&&("function"==typeof t?i(t):!!t)}var i=e("../internals/fails"),s=/#|\.prototype\./,o=n.normalize=function(e){return String(e).replace(s,".").toLowerCase()},a=n.data={},l=n.NATIVE="N",c=n.POLYFILL="P";t.exports=n},{"../internals/fails":50}],73:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],74:[function(e,t,r){t.exports=!1},{}],75:[function(e,t,r){var n=e("../internals/is-object"),i=e("../internals/classof-raw"),s=e("../internals/well-known-symbol")("match");t.exports=function(e){var t;return n(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},{"../internals/classof-raw":28,"../internals/is-object":73,"../internals/well-known-symbol":145}],76:[function(e,t,r){function n(e,t){this.stopped=e,this.result=t}var i=e("../internals/an-object"),s=e("../internals/is-array-iterator-method"),o=e("../internals/to-length"),a=e("../internals/function-bind-context"),l=e("../internals/get-iterator-method"),c=e("../internals/call-with-safe-iteration-closing");(t.exports=function(e,t,r,u,h){var d,p,f,m,g,y,v,_=a(t,r,u?2:1);if(h)d=e;else{if("function"!=typeof(p=l(e)))throw TypeError("Target is not iterable");if(s(p)){for(f=0,m=o(e.length);f<m;f++)if((g=u?_(i(v=e[f])[0],v[1]):_(e[f]))&&g instanceof n)return g;return new n(!1)}d=p.call(e)}for(y=d.next;!(v=y.call(d)).done;)if("object"==typeof(g=c(d,_,v.value,u))&&g&&g instanceof n)return g;return new n(!1)}).stop=function(e){return new n(!0,e)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":53,"../internals/get-iterator-method":56,"../internals/is-array-iterator-method":70,"../internals/to-length":133}],77:[function(e,t,r){"use strict";var n,i,s,o=e("../internals/object-get-prototype-of"),a=e("../internals/create-non-enumerable-property"),l=e("../internals/has"),c=e("../internals/well-known-symbol"),u=e("../internals/is-pure"),h=c("iterator"),d=!1;[].keys&&("next"in(s=[].keys())?(i=o(o(s)))!==Object.prototype&&(n=i):d=!0),null==n&&(n={}),u||l(n,h)||a(n,h,function(){return this}),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},{"../internals/create-non-enumerable-property":37,"../internals/has":59,"../internals/is-pure":74,"../internals/object-get-prototype-of":96,"../internals/well-known-symbol":145}],78:[function(e,t,r){arguments[4][60][0].apply(r,arguments)},{dup:60}],79:[function(e,t,r){t.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},{}],80:[function(e,t,r){var n,i,s,o,a,l,c,u,h=e("../internals/global"),d=e("../internals/object-get-own-property-descriptor").f,p=e("../internals/classof-raw"),f=e("../internals/task").set,m=e("../internals/engine-is-ios"),g=h.MutationObserver||h.WebKitMutationObserver,y=h.process,v=h.Promise,_="process"==p(y),b=d(h,"queueMicrotask"),w=b&&b.value;w||(n=function(){var e,t;for(_&&(e=y.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?o():s=void 0,e}}s=void 0,e&&e.enter()},o=_?function(){y.nextTick(n)}:g&&!m?(a=!0,l=document.createTextNode(""),new g(n).observe(l,{characterData:!0}),function(){l.data=a=!a}):v&&v.resolve?(c=v.resolve(void 0),u=c.then,function(){u.call(c,n)}):function(){f.call(h,n)}),t.exports=w||function(e){var t={fn:e,next:void 0};s&&(s.next=t),i||(i=t,o()),s=t}},{"../internals/classof-raw":28,"../internals/engine-is-ios":45,"../internals/global":58,"../internals/object-get-own-property-descriptor":92,"../internals/task":127}],81:[function(e,t,r){var n=e("../internals/global");t.exports=n.Promise},{"../internals/global":58}],82:[function(e,t,r){var n=e("../internals/fails");t.exports=!!Object.getOwnPropertySymbols&&!n(function(){return!String(Symbol())})},{"../internals/fails":50}],83:[function(e,t,r){var n=e("../internals/fails"),i=e("../internals/well-known-symbol"),s=e("../internals/is-pure"),o=i("iterator");t.exports=!n(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach(function(e,n){t.delete("b"),r+=n+e}),s&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})},{"../internals/fails":50,"../internals/is-pure":74,"../internals/well-known-symbol":145}],84:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/inspect-source"),s=n.WeakMap;t.exports="function"==typeof s&&/native code/.test(i(s))},{"../internals/global":58,"../internals/inspect-source":67}],85:[function(e,t,r){"use strict";function n(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=i(t),this.reject=i(r)}var i=e("../internals/a-function");t.exports.f=function(e){return new n(e)}},{"../internals/a-function":5}],86:[function(e,t,r){var n=e("../internals/is-regexp");t.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},{"../internals/is-regexp":75}],87:[function(e,t,r){var n=e("../internals/global").isFinite;t.exports=Number.isFinite||function(e){return"number"==typeof e&&n(e)}},{"../internals/global":58}],88:[function(e,t,r){"use strict";var n=e("../internals/descriptors"),i=e("../internals/fails"),s=e("../internals/object-keys"),o=e("../internals/object-get-own-property-symbols"),a=e("../internals/object-property-is-enumerable"),l=e("../internals/to-object"),c=e("../internals/indexed-object"),u=Object.assign,h=Object.defineProperty;t.exports=!u||i(function(){if(n&&1!==u({b:1},u(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),i="abcdefghijklmnopqrst";return e[r]=7,i.split("").forEach(function(e){t[e]=e}),7!=u({},e)[r]||s(u({},t)).join("")!=i})?function(e,t){for(var r=l(e),i=arguments.length,u=1,h=o.f,d=a.f;u<i;)for(var p,f=c(arguments[u++]),m=h?s(f).concat(h(f)):s(f),g=m.length,y=0;y<g;)p=m[y++],n&&!d.call(f,p)||(r[p]=f[p]);return r}:u},{"../internals/descriptors":42,"../internals/fails":50,"../internals/indexed-object":65,"../internals/object-get-own-property-symbols":95,"../internals/object-keys":98,"../internals/object-property-is-enumerable":99,"../internals/to-object":134}],89:[function(e,t,r){function n(){}function i(e){return"<script>"+e+"</"+f+">"}var s,o=e("../internals/an-object"),a=e("../internals/object-define-properties"),l=e("../internals/enum-bug-keys"),c=e("../internals/hidden-keys"),u=e("../internals/html"),h=e("../internals/document-create-element"),d=e("../internals/shared-key"),p="prototype",f="script",m=d("IE_PROTO"),g=function(){try{s=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;g=s?function(e){e.write(i("")),e.close();var t=e.parentWindow.Object;return e=null,t}(s):((t=h("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(i("document.F=Object")),e.close(),e.F);for(var r=l.length;r--;)delete g[p][l[r]];return g()};c[m]=!0,t.exports=Object.create||function(e,t){var r;return null!==e?(n[p]=o(e),r=new n,n[p]=null,r[m]=e):r=g(),void 0===t?r:a(r,t)}},{"../internals/an-object":10,"../internals/document-create-element":43,"../internals/enum-bug-keys":48,"../internals/hidden-keys":60,"../internals/html":62,"../internals/object-define-properties":90,"../internals/shared-key":117}],90:[function(e,t,r){var n=e("../internals/descriptors"),i=e("../internals/object-define-property"),s=e("../internals/an-object"),o=e("../internals/object-keys");t.exports=n?Object.defineProperties:function(e,t){s(e);for(var r,n=o(t),a=n.length,l=0;l<a;)i.f(e,r=n[l++],t[r]);return e}},{"../internals/an-object":10,"../internals/descriptors":42,"../internals/object-define-property":91,"../internals/object-keys":98}],91:[function(e,t,r){var n=e("../internals/descriptors"),i=e("../internals/ie8-dom-define"),s=e("../internals/an-object"),o=e("../internals/to-primitive"),a=Object.defineProperty;r.f=n?a:function(e,t,r){if(s(e),t=o(t,!0),s(r),i)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},{"../internals/an-object":10,"../internals/descriptors":42,"../internals/ie8-dom-define":63,"../internals/to-primitive":137}],92:[function(e,t,r){var n=e("../internals/descriptors"),i=e("../internals/object-property-is-enumerable"),s=e("../internals/create-property-descriptor"),o=e("../internals/to-indexed-object"),a=e("../internals/to-primitive"),l=e("../internals/has"),c=e("../internals/ie8-dom-define"),u=Object.getOwnPropertyDescriptor;r.f=n?u:function(e,t){if(e=o(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(l(e,t))return s(!i.f.call(e,t),e[t])}},{"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/has":59,"../internals/ie8-dom-define":63,"../internals/object-property-is-enumerable":99,"../internals/to-indexed-object":131,"../internals/to-primitive":137}],93:[function(e,t,r){var n=e("../internals/to-indexed-object"),i=e("../internals/object-get-own-property-names").f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){return o&&"[object Window]"==s.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(n(e))}},{"../internals/object-get-own-property-names":94,"../internals/to-indexed-object":131}],94:[function(e,t,r){var n=e("../internals/object-keys-internal"),i=e("../internals/enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},{"../internals/enum-bug-keys":48,"../internals/object-keys-internal":97}],95:[function(e,t,r){r.f=Object.getOwnPropertySymbols},{}],96:[function(e,t,r){var n=e("../internals/has"),i=e("../internals/to-object"),s=e("../internals/shared-key"),o=e("../internals/correct-prototype-getter"),a=s("IE_PROTO"),l=Object.prototype;t.exports=o?Object.getPrototypeOf:function(e){return e=i(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},{"../internals/correct-prototype-getter":34,"../internals/has":59,"../internals/shared-key":117,"../internals/to-object":134}],97:[function(e,t,r){var n=e("../internals/has"),i=e("../internals/to-indexed-object"),s=e("../internals/array-includes").indexOf,o=e("../internals/hidden-keys");t.exports=function(e,t){var r,a=i(e),l=0,c=[];for(r in a)!n(o,r)&&n(a,r)&&c.push(r);for(;t.length>l;)n(a,r=t[l++])&&(~s(c,r)||c.push(r));return c}},{"../internals/array-includes":18,"../internals/has":59,"../internals/hidden-keys":60,"../internals/to-indexed-object":131}],98:[function(e,t,r){var n=e("../internals/object-keys-internal"),i=e("../internals/enum-bug-keys");t.exports=Object.keys||function(e){return n(e,i)}},{"../internals/enum-bug-keys":48,"../internals/object-keys-internal":97}],99:[function(e,t,r){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,s=i&&!n.call({1:2},1);r.f=s?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},{}],100:[function(e,t,r){var n=e("../internals/an-object"),i=e("../internals/a-possible-prototype");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(r){}return function(r,s){return n(r),i(s),t?e.call(r,s):r.__proto__=s,r}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],101:[function(e,t,r){"use strict";var n=e("../internals/to-string-tag-support"),i=e("../internals/classof");t.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":138}],102:[function(e,t,r){var n=e("../internals/get-built-in"),i=e("../internals/object-get-own-property-names"),s=e("../internals/object-get-own-property-symbols"),o=e("../internals/an-object");t.exports=n("Reflect","ownKeys")||function(e){var t=i.f(o(e)),r=s.f;return r?t.concat(r(e)):t}},{"../internals/an-object":10,"../internals/get-built-in":55,"../internals/object-get-own-property-names":94,"../internals/object-get-own-property-symbols":95}],103:[function(e,t,r){var n=e("../internals/global");t.exports=n},{"../internals/global":58}],104:[function(e,t,r){t.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},{}],105:[function(e,t,r){var n=e("../internals/an-object"),i=e("../internals/is-object"),s=e("../internals/new-promise-capability");t.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=s.f(e);return(0,r.resolve)(t),r.promise}},{"../internals/an-object":10,"../internals/is-object":73,"../internals/new-promise-capability":85}],106:[function(e,t,r){var n=e("../internals/redefine");t.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},{"../internals/redefine":107}],107:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/create-non-enumerable-property"),s=e("../internals/has"),o=e("../internals/set-global"),a=e("../internals/inspect-source"),l=e("../internals/internal-state"),c=l.get,u=l.enforce,h=String(String).split("String");(t.exports=function(e,t,r,a){var l=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,d=!!a&&!!a.noTargetGet;"function"==typeof r&&("string"!=typeof t||s(r,"name")||i(r,"name",t),u(r).source=h.join("string"==typeof t?t:"")),e!==n?(l?!d&&e[t]&&(c=!0):delete e[t],c?e[t]=r:i(e,t,r)):c?e[t]=r:o(t,r)})(Function.prototype,"toString",function(){return"function"==typeof this&&c(this).source||a(this)})},{"../internals/create-non-enumerable-property":37,"../internals/global":58,"../internals/has":59,"../internals/inspect-source":67,"../internals/internal-state":69,"../internals/set-global":114}],108:[function(e,t,r){var n=e("./classof-raw"),i=e("./regexp-exec");t.exports=function(e,t){var r=e.exec;if("function"==typeof r){var s=r.call(e,t);if("object"!=typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},{"./classof-raw":28,"./regexp-exec":109}],109:[function(e,t,r){"use strict";var n,i,s=e("./regexp-flags"),o=e("./regexp-sticky-helpers"),a=RegExp.prototype.exec,l=String.prototype.replace,c=a,u=(i=/b*/g,a.call(n=/a/,"a"),a.call(i,"a"),0!==n.lastIndex||0!==i.lastIndex),h=o.UNSUPPORTED_Y||o.BROKEN_CARET,d=void 0!==/()??/.exec("")[1];(u||d||h)&&(c=function(e){var t,r,n,i,o=this,c=h&&o.sticky,p=s.call(o),f=o.source,m=0,g=e;return c&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),g=String(e).slice(o.lastIndex),0<o.lastIndex&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(f="(?: "+f+")",g=" "+g,m++),r=new RegExp("^(?:"+f+")",p)),d&&(r=new RegExp("^"+f+"$(?!\\s)",p)),u&&(t=o.lastIndex),n=a.call(c?r:o,g),c?n?(n.input=n.input.slice(m),n[0]=n[0].slice(m),n.index=o.lastIndex,o.lastIndex+=n[0].length):o.lastIndex=0:u&&n&&(o.lastIndex=o.global?n.index+n[0].length:t),d&&n&&1<n.length&&l.call(n[0],r,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)}),n}),t.exports=c},{"./regexp-flags":110,"./regexp-sticky-helpers":111}],110:[function(e,t,r){"use strict";var n=e("../internals/an-object");t.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{"../internals/an-object":10}],111:[function(e,t,r){"use strict";var n=e("./fails");function i(e,t){return RegExp(e,t)}r.UNSUPPORTED_Y=n(function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),r.BROKEN_CARET=n(function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")})},{"./fails":50}],112:[function(e,t,r){t.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},{}],113:[function(e,t,r){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],114:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/create-non-enumerable-property");t.exports=function(t,r){try{i(n,t,r)}catch(e){n[t]=r}return r}},{"../internals/create-non-enumerable-property":37,"../internals/global":58}],115:[function(e,t,r){"use strict";var n=e("../internals/get-built-in"),i=e("../internals/object-define-property"),s=e("../internals/well-known-symbol"),o=e("../internals/descriptors"),a=s("species");t.exports=function(e){var t=n(e);o&&t&&!t[a]&&(0,i.f)(t,a,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":42,"../internals/get-built-in":55,"../internals/object-define-property":91,"../internals/well-known-symbol":145}],116:[function(e,t,r){var n=e("../internals/object-define-property").f,i=e("../internals/has"),s=e("../internals/well-known-symbol")("toStringTag");t.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,s)&&n(e,s,{configurable:!0,value:t})}},{"../internals/has":59,"../internals/object-define-property":91,"../internals/well-known-symbol":145}],117:[function(e,t,r){var n=e("../internals/shared"),i=e("../internals/uid"),s=n("keys");t.exports=function(e){return s[e]||(s[e]=i(e))}},{"../internals/shared":119,"../internals/uid":142}],118:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/set-global"),s="__core-js_shared__",o=n[s]||i(s,{});t.exports=o},{"../internals/global":58,"../internals/set-global":114}],119:[function(e,t,r){var n=e("../internals/is-pure"),i=e("../internals/shared-store");(t.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":74,"../internals/shared-store":118}],120:[function(e,t,r){var n=e("../internals/an-object"),i=e("../internals/a-function"),s=e("../internals/well-known-symbol")("species");t.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||null==(r=n(o)[s])?t:i(r)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":145}],121:[function(e,t,r){var n=e("../internals/fails");t.exports=function(e){return n(function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length})}},{"../internals/fails":50}],122:[function(e,t,r){function n(e){return function(t,r){var n,o,a=String(s(t)),l=i(r),c=a.length;return l<0||c<=l?e?"":void 0:(n=a.charCodeAt(l))<55296||56319<n||l+1===c||(o=a.charCodeAt(l+1))<56320||57343<o?e?a.charAt(l):n:e?a.slice(l,l+2):o-56320+(n-55296<<10)+65536}}var i=e("../internals/to-integer"),s=e("../internals/require-object-coercible");t.exports={codeAt:n(!1),charAt:n(!0)}},{"../internals/require-object-coercible":112,"../internals/to-integer":132}],123:[function(e,t,r){"use strict";function n(e){return e+22+75*(e<26)}function i(e,t,r){var n=0;for(e=r?u(e/700):e>>1,e+=u(e/t);455<e;n+=36)e=u(e/35);return u(n+36*e/(e+38))}function s(e){var t,r,s=[],a=(e=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(55296<=i&&i<=56319&&r<n){var s=e.charCodeAt(r++);56320==(64512&s)?t.push(((1023&i)<<10)+(1023&s)+65536):(t.push(i),r--)}else t.push(i)}return t}(e)).length,l=128,d=0,p=72;for(t=0;t<e.length;t++)(r=e[t])<128&&s.push(h(r));var f=s.length,m=f;for(f&&s.push("-");m<a;){var g=o;for(t=0;t<e.length;t++)l<=(r=e[t])&&r<g&&(g=r);var y=m+1;if(g-l>u((o-d)/y))throw RangeError(c);for(d+=(g-l)*y,l=g,t=0;t<e.length;t++){if((r=e[t])<l&&++d>o)throw RangeError(c);if(r==l){for(var v=d,_=36;;_+=36){var b=_<=p?1:p+26<=_?26:_-p;if(v<b)break;var w=v-b,x=36-b;s.push(h(n(b+w%x))),v=u(w/x)}s.push(h(n(v))),p=i(d,y,m==f),d=0,++m}}++d,++l}return s.join("")}var o=2147483647,a=/[^\0-\u007E]/,l=/[.\u3002\uFF0E\uFF61]/g,c="Overflow: input needs wider integers to process",u=Math.floor,h=String.fromCharCode;t.exports=function(e){var t,r,n=[],i=e.toLowerCase().replace(l,".").split(".");for(t=0;t<i.length;t++)n.push(a.test(r=i[t])?"xn--"+s(r):r);return n.join(".")}},{}],124:[function(e,t,r){"use strict";var n=e("../internals/to-integer"),i=e("../internals/require-object-coercible");t.exports="".repeat||function(e){var t=String(i(this)),r="",s=n(e);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;0<s;(s>>>=1)&&(t+=t))1&s&&(r+=t);return r}},{"../internals/require-object-coercible":112,"../internals/to-integer":132}],125:[function(e,t,r){var n=e("../internals/fails"),i=e("../internals/whitespaces");t.exports=function(e){return n(function(){return!!i[e]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[e]()||i[e].name!==e})}},{"../internals/fails":50,"../internals/whitespaces":146}],126:[function(e,t,r){function n(e){return function(t){var r=String(i(t));return 1&e&&(r=r.replace(o,"")),2&e&&(r=r.replace(a,"")),r}}var i=e("../internals/require-object-coercible"),s="["+e("../internals/whitespaces")+"]",o=RegExp("^"+s+s+"*"),a=RegExp(s+s+"*$");t.exports={start:n(1),end:n(2),trim:n(3)}},{"../internals/require-object-coercible":112,"../internals/whitespaces":146}],127:[function(e,t,r){function n(e){if(M.hasOwnProperty(e)){var t=M[e];delete M[e],t()}}function i(e){return function(){n(e)}}function s(e){n(e.data)}function o(e){u.postMessage(e+"",y.protocol+"//"+y.host)}var a,l,c,u=e("../internals/global"),h=e("../internals/fails"),d=e("../internals/classof-raw"),p=e("../internals/function-bind-context"),f=e("../internals/html"),m=e("../internals/document-create-element"),g=e("../internals/engine-is-ios"),y=u.location,v=u.setImmediate,_=u.clearImmediate,b=u.process,w=u.MessageChannel,x=u.Dispatch,S=0,M={},E="onreadystatechange";v&&_||(v=function(e){for(var t=[],r=1;r<arguments.length;)t.push(arguments[r++]);return M[++S]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},a(S),S},_=function(e){delete M[e]},"process"==d(b)?a=function(e){b.nextTick(i(e))}:x&&x.now?a=function(e){x.now(i(e))}:w&&!g?(c=(l=new w).port2,l.port1.onmessage=s,a=p(c.postMessage,c,1)):!u.addEventListener||"function"!=typeof postMessage||u.importScripts||h(o)||"file:"===y.protocol?a=E in m("script")?function(e){f.appendChild(m("script"))[E]=function(){f.removeChild(this),n(e)}}:function(e){setTimeout(i(e),0)}:(a=o,u.addEventListener("message",s,!1))),t.exports={set:v,clear:_}},{"../internals/classof-raw":28,"../internals/document-create-element":43,"../internals/engine-is-ios":45,"../internals/fails":50,"../internals/function-bind-context":53,"../internals/global":58,"../internals/html":62}],128:[function(e,t,r){var n=e("../internals/classof-raw");t.exports=function(e){if("number"!=typeof e&&"Number"!=n(e))throw TypeError("Incorrect invocation");return+e}},{"../internals/classof-raw":28}],129:[function(e,t,r){var n=e("../internals/to-integer"),i=Math.max,s=Math.min;t.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):s(r,t)}},{"../internals/to-integer":132}],130:[function(e,t,r){var n=e("../internals/to-integer"),i=e("../internals/to-length");t.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw RangeError("Wrong length or index");return r}},{"../internals/to-integer":132,"../internals/to-length":133}],131:[function(e,t,r){var n=e("../internals/indexed-object"),i=e("../internals/require-object-coercible");t.exports=function(e){return n(i(e))}},{"../internals/indexed-object":65,"../internals/require-object-coercible":112}],132:[function(e,t,r){var n=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(0<e?i:n)(e)}},{}],133:[function(e,t,r){var n=e("../internals/to-integer"),i=Math.min;t.exports=function(e){return 0<e?i(n(e),9007199254740991):0}},{"../internals/to-integer":132}],134:[function(e,t,r){var n=e("../internals/require-object-coercible");t.exports=function(e){return Object(n(e))}},{"../internals/require-object-coercible":112}],135:[function(e,t,r){var n=e("../internals/to-positive-integer");t.exports=function(e,t){var r=n(e);if(r%t)throw RangeError("Wrong offset");return r}},{"../internals/to-positive-integer":136}],136:[function(e,t,r){var n=e("../internals/to-integer");t.exports=function(e){var t=n(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},{"../internals/to-integer":132}],137:[function(e,t,r){var n=e("../internals/is-object");t.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":73}],138:[function(e,t,r){var n={};n[e("../internals/well-known-symbol")("toStringTag")]="z",t.exports="[object z]"===String(n)},{"../internals/well-known-symbol":145}],139:[function(e,t,r){"use strict";function n(e,t){for(var r=0,n=t.length,i=new(X(e))(n);r<n;)i[r]=t[r++];return i}function i(e,t){N(e,t,{get:function(){return D(this)[t]}})}function s(e){var t;return e instanceof B||"ArrayBuffer"==(t=S(e))||"SharedArrayBuffer"==t}function o(e,t){return Y(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)}function a(e,t){return o(e,t=w(t,!0))?g(2,e[t]):z(e,t)}function l(e,t,r){return!(o(e,t=w(t,!0))&&M(r)&&x(r,"value"))||x(r,"get")||x(r,"set")||r.configurable||x(r,"writable")&&!r.writable||x(r,"enumerable")&&!r.enumerable?N(e,t,r):(e[t]=r.value,e)}var c=e("../internals/export"),u=e("../internals/global"),h=e("../internals/descriptors"),d=e("../internals/typed-array-constructors-require-wrappers"),p=e("../internals/array-buffer-view-core"),f=e("../internals/array-buffer"),m=e("../internals/an-instance"),g=e("../internals/create-property-descriptor"),y=e("../internals/create-non-enumerable-property"),v=e("../internals/to-length"),_=e("../internals/to-index"),b=e("../internals/to-offset"),w=e("../internals/to-primitive"),x=e("../internals/has"),S=e("../internals/classof"),M=e("../internals/is-object"),E=e("../internals/object-create"),T=e("../internals/object-set-prototype-of"),C=e("../internals/object-get-own-property-names").f,A=e("../internals/typed-array-from"),L=e("../internals/array-iteration").forEach,P=e("../internals/set-species"),O=e("../internals/object-define-property"),R=e("../internals/object-get-own-property-descriptor"),k=e("../internals/internal-state"),j=e("../internals/inherit-if-required"),D=k.get,I=k.set,N=O.f,z=R.f,F=Math.round,U=u.RangeError,B=f.ArrayBuffer,V=f.DataView,H=p.NATIVE_ARRAY_BUFFER_VIEWS,G=p.TYPED_ARRAY_TAG,W=p.TypedArray,q=p.TypedArrayPrototype,X=p.aTypedArrayConstructor,Y=p.isTypedArray,$="BYTES_PER_ELEMENT",Z="Wrong length";h?(H||(R.f=a,O.f=l,i(q,"buffer"),i(q,"byteOffset"),i(q,"byteLength"),i(q,"length")),c({target:"Object",stat:!0,forced:!H},{getOwnPropertyDescriptor:a,defineProperty:l}),t.exports=function(e,t,r){function i(e,t){N(e,t,{get:function(){return e=t,(r=D(this)).view[l](e*o+r.byteOffset,!0);var e,r},set:function(e){return n=t,i=e,s=D(this),r&&(i=(i=F(i))<0?0:255<i?255:255&i),void s.view[h](n*o+s.byteOffset,i,!0);var n,i,s},enumerable:!0})}var o=e.match(/\d+$/)[0]/8,a=e+(r?"Clamped":"")+"Array",l="get"+e,h="set"+e,p=u[a],f=p,g=f&&f.prototype,w={};H?d&&(f=t(function(e,t,r,i){return m(e,f,a),j(M(t)?s(t)?void 0!==i?new p(t,b(r,o),i):void 0!==r?new p(t,b(r,o)):new p(t):Y(t)?n(f,t):A.call(f,t):new p(_(t)),e,f)}),T&&T(f,W),L(C(p),function(e){e in f||y(f,e,p[e])}),f.prototype=g):(f=t(function(e,t,r,l){m(e,f,a);var c,u,h,d=0,p=0;if(M(t)){if(!s(t))return Y(t)?n(f,t):A.call(f,t);c=t,p=b(r,o);var g=t.byteLength;if(void 0===l){if(g%o)throw U(Z);if((u=g-p)<0)throw U(Z)}else if(g<(u=v(l)*o)+p)throw U(Z);h=u/o}else h=_(t),c=new B(u=h*o);for(I(e,{buffer:c,byteOffset:p,byteLength:u,length:h,view:new V(c)});d<h;)i(e,d++)}),T&&T(f,W),g=f.prototype=E(q)),g.constructor!==f&&y(g,"constructor",f),G&&y(g,G,a),w[a]=f,c({global:!0,forced:f!=p,sham:!H},w),$ in f||y(f,$,o),$ in g||y(g,$,o),P(a)}):t.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":37,"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/export":49,"../internals/global":58,"../internals/has":59,"../internals/inherit-if-required":66,"../internals/internal-state":69,"../internals/is-object":73,"../internals/object-create":89,"../internals/object-define-property":91,"../internals/object-get-own-property-descriptor":92,"../internals/object-get-own-property-names":94,"../internals/object-set-prototype-of":100,"../internals/set-species":115,"../internals/to-index":130,"../internals/to-length":133,"../internals/to-offset":135,"../internals/to-primitive":137,"../internals/typed-array-constructors-require-wrappers":140,"../internals/typed-array-from":141}],140:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/fails"),s=e("../internals/check-correctness-of-iteration"),o=e("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,a=n.ArrayBuffer,l=n.Int8Array;t.exports=!o||!i(function(){l(1)})||!i(function(){new l(-1)})||!s(function(e){new l,new l(null),new l(1.5),new l(e)},!0)||i(function(){return 1!==new l(new a(2),1,void 0).length})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":50,"../internals/global":58}],141:[function(e,t,r){var n=e("../internals/to-object"),i=e("../internals/to-length"),s=e("../internals/get-iterator-method"),o=e("../internals/is-array-iterator-method"),a=e("../internals/function-bind-context"),l=e("../internals/array-buffer-view-core").aTypedArrayConstructor;t.exports=function(e,t,r){var c,u,h,d,p,f,m=n(e),g=arguments.length,y=1<g?t:void 0,v=void 0!==y,_=s(m);if(null!=_&&!o(_))for(f=(p=_.call(m)).next,m=[];!(d=f.call(p)).done;)m.push(d.value);for(v&&2<g&&(y=a(y,r,2)),u=i(m.length),h=new(l(this))(u),c=0;c<u;c++)h[c]=v?y(m[c],c):m[c];return h}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":53,"../internals/get-iterator-method":56,"../internals/is-array-iterator-method":70,"../internals/to-length":133,"../internals/to-object":134}],142:[function(e,t,r){var n=0,i=Math.random();t.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+i).toString(36)}},{}],143:[function(e,t,r){var n=e("../internals/native-symbol");t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":82}],144:[function(e,t,r){var n=e("../internals/well-known-symbol");r.f=n},{"../internals/well-known-symbol":145}],145:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/shared"),s=e("../internals/has"),o=e("../internals/uid"),a=e("../internals/native-symbol"),l=e("../internals/use-symbol-as-uid"),c=i("wks"),u=n.Symbol,h=l?u:u&&u.withoutSetter||o;t.exports=function(e){return s(c,e)||(c[e]=a&&s(u,e)?u[e]:h("Symbol."+e)),c[e]}},{"../internals/global":58,"../internals/has":59,"../internals/native-symbol":82,"../internals/shared":119,"../internals/uid":142,"../internals/use-symbol-as-uid":143}],146:[function(e,t,r){t.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},{}],147:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/global"),s=e("../internals/array-buffer"),o=e("../internals/set-species"),a="ArrayBuffer",l=s[a];n({global:!0,forced:i[a]!==l},{ArrayBuffer:l}),o(a)},{"../internals/array-buffer":13,"../internals/export":49,"../internals/global":58,"../internals/set-species":115}],148:[function(e,t,r){"use strict";function n(e){if(!a(e))return!1;var t=e[m];return void 0!==t?!!t:o(e)}var i=e("../internals/export"),s=e("../internals/fails"),o=e("../internals/is-array"),a=e("../internals/is-object"),l=e("../internals/to-object"),c=e("../internals/to-length"),u=e("../internals/create-property"),h=e("../internals/array-species-create"),d=e("../internals/array-method-has-species-support"),p=e("../internals/well-known-symbol"),f=e("../internals/engine-v8-version"),m=p("isConcatSpreadable"),g=9007199254740991,y="Maximum allowed index exceeded",v=51<=f||!s(function(){var e=[];return e[m]=!1,e.concat()[0]!==e}),_=d("concat");i({target:"Array",proto:!0,forced:!v||!_},{concat:function(e){var t,r,i,s,o,a=l(this),d=h(a,0),p=0;for(t=-1,i=arguments.length;t<i;t++)if(n(o=-1===t?a:arguments[t])){if(s=c(o.length),g<p+s)throw TypeError(y);for(r=0;r<s;r++,p++)r in o&&u(d,p,o[r])}else{if(g<=p)throw TypeError(y);u(d,p++,o)}return d.length=p,d}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":39,"../internals/engine-v8-version":47,"../internals/export":49,"../internals/fails":50,"../internals/is-array":71,"../internals/is-object":73,"../internals/to-length":133,"../internals/to-object":134,"../internals/well-known-symbol":145}],149:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-iteration").every,s=e("../internals/array-method-is-strict"),o=e("../internals/array-method-uses-to-length"),a=s("every"),l=o("every");n({target:"Array",proto:!0,forced:!a||!l},{every:function(e,t){return i(this,e,1<arguments.length?t:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],150:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/array-fill"),s=e("../internals/add-to-unscopables");n({target:"Array",proto:!0},{fill:i}),s("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":49}],151:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-iteration").filter,s=e("../internals/array-method-has-species-support"),o=e("../internals/array-method-uses-to-length"),a=s("filter"),l=o("filter");n({target:"Array",proto:!0,forced:!a||!l},{filter:function(e,t){return i(this,e,1<arguments.length?t:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":49}],152:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-for-each");n({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},{"../internals/array-for-each":16,"../internals/export":49}],153:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/array-from");n({target:"Array",stat:!0,forced:!e("../internals/check-correctness-of-iteration")(function(e){Array.from(e)})},{from:i})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":49}],154:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-includes").includes,s=e("../internals/add-to-unscopables");n({target:"Array",proto:!0,forced:!e("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e,t){return i(this,e,1<arguments.length?t:void 0)}}),s("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":49}],155:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-includes").indexOf,s=e("../internals/array-method-is-strict"),o=e("../internals/array-method-uses-to-length"),a=[].indexOf,l=!!a&&1/[1].indexOf(1,-0)<0,c=s("indexOf"),u=o("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:l||!c||!u},{indexOf:function(e,t){return l?a.apply(this,arguments)||0:i(this,e,1<arguments.length?t:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],156:[function(e,t,r){"use strict";var n=e("../internals/to-indexed-object"),i=e("../internals/add-to-unscopables"),s=e("../internals/iterators"),o=e("../internals/internal-state"),a=e("../internals/define-iterator"),l="Array Iterator",c=o.set,u=o.getterFor(l);t.exports=a(Array,"Array",function(e,t){c(this,{type:l,target:n(e),index:0,kind:t})},function(){var e=u(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?{value:e.target=void 0,done:!0}:"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}},"values"),s.Arguments=s.Array,i("keys"),i("values"),i("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":40,"../internals/internal-state":69,"../internals/iterators":78,"../internals/to-indexed-object":131}],157:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/indexed-object"),s=e("../internals/to-indexed-object"),o=e("../internals/array-method-is-strict"),a=[].join,l=i!=Object,c=o("join",",");n({target:"Array",proto:!0,forced:l||!c},{join:function(e){return a.call(s(this),void 0===e?",":e)}})},{"../internals/array-method-is-strict":22,"../internals/export":49,"../internals/indexed-object":65,"../internals/to-indexed-object":131}],158:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/array-last-index-of");n({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},{"../internals/array-last-index-of":20,"../internals/export":49}],159:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-iteration").map,s=e("../internals/array-method-has-species-support"),o=e("../internals/array-method-uses-to-length"),a=s("map"),l=o("map");n({target:"Array",proto:!0,forced:!a||!l},{map:function(e,t){return i(this,e,1<arguments.length?t:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":49}],160:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/is-object"),s=e("../internals/is-array"),o=e("../internals/to-absolute-index"),a=e("../internals/to-length"),l=e("../internals/to-indexed-object"),c=e("../internals/create-property"),u=e("../internals/well-known-symbol"),h=e("../internals/array-method-has-species-support"),d=e("../internals/array-method-uses-to-length"),p=h("slice"),f=d("slice",{ACCESSORS:!0,0:0,1:2}),m=u("species"),g=[].slice,y=Math.max;n({target:"Array",proto:!0,forced:!p||!f},{slice:function(e,t){var r,n,u,h=l(this),d=a(h.length),p=o(e,d),f=o(void 0===t?d:t,d);if(s(h)&&("function"!=typeof(r=h.constructor)||r!==Array&&!s(r.prototype)?i(r)&&null===(r=r[m])&&(r=void 0):r=void 0,r===Array||void 0===r))return g.call(h,p,f);for(n=new(void 0===r?Array:r)(y(f-p,0)),u=0;p<f;p++,u++)p in h&&c(n,u,h[p]);return n.length=u,n}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":39,"../internals/export":49,"../internals/is-array":71,"../internals/is-object":73,"../internals/to-absolute-index":129,"../internals/to-indexed-object":131,"../internals/to-length":133,"../internals/well-known-symbol":145}],161:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-iteration").some,s=e("../internals/array-method-is-strict"),o=e("../internals/array-method-uses-to-length"),a=s("some"),l=o("some");n({target:"Array",proto:!0,forced:!a||!l},{some:function(e,t){return i(this,e,1<arguments.length?t:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],162:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/to-absolute-index"),s=e("../internals/to-integer"),o=e("../internals/to-length"),a=e("../internals/to-object"),l=e("../internals/array-species-create"),c=e("../internals/create-property"),u=e("../internals/array-method-has-species-support"),h=e("../internals/array-method-uses-to-length"),d=u("splice"),p=h("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,m=Math.min;n({target:"Array",proto:!0,forced:!d||!p},{splice:function(e,t){var r,n,u,h,d,p,g=a(this),y=o(g.length),v=i(e,y),_=arguments.length;if(0===_?r=n=0:n=1===_?(r=0,y-v):(r=_-2,m(f(s(t),0),y-v)),9007199254740991<y+r-n)throw TypeError("Maximum allowed length exceeded");for(u=l(g,n),h=0;h<n;h++)(d=v+h)in g&&c(u,h,g[d]);if(r<(u.length=n)){for(h=v;h<y-n;h++)p=h+r,(d=h+n)in g?g[p]=g[d]:delete g[p];for(h=y;y-n+r<h;h--)delete g[h-1]}else if(n<r)for(h=y-n;v<h;h--)p=h+r-1,(d=h+n-1)in g?g[p]=g[d]:delete g[p];for(h=0;h<r;h++)g[h+v]=arguments[h+2];return g.length=y-n+r,u}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":39,"../internals/export":49,"../internals/to-absolute-index":129,"../internals/to-integer":132,"../internals/to-length":133,"../internals/to-object":134}],163:[function(e,t,r){var n=e("../internals/descriptors"),i=e("../internals/object-define-property").f,s=Function.prototype,o=s.toString,a=/^\s*function ([^ (]*)/;!n||"name"in s||i(s,"name",{configurable:!0,get:function(){try{return o.call(this).match(a)[1]}catch(e){return""}}})},{"../internals/descriptors":42,"../internals/object-define-property":91}],164:[function(e,t,r){"use strict";var n=e("../internals/collection"),i=e("../internals/collection-strong");t.exports=n("Map",function(e){return function(t){return e(this,arguments.length?t:void 0)}},i)},{"../internals/collection":31,"../internals/collection-strong":30}],165:[function(e,t,r){var n=e("../internals/export"),i=Math.hypot,s=Math.abs,o=Math.sqrt;n({target:"Math",stat:!0,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(e,t){for(var r,n,i=0,a=0,l=arguments.length,c=0;a<l;)c<(r=s(arguments[a++]))?(i=i*(n=c/r)*n+1,c=r):i+=0<r?(n=r/c)*n:r;return c===1/0?1/0:c*o(i)}})},{"../internals/export":49}],166:[function(e,t,r){e("../internals/export")({target:"Math",stat:!0},{sign:e("../internals/math-sign")})},{"../internals/export":49,"../internals/math-sign":79}],167:[function(e,t,r){"use strict";function n(e){var t,r,n,i,s,o,a,l,c=h(e,!1);if("string"==typeof c&&2<c.length)if(43===(t=(c=y(c)).charCodeAt(0))||45===t){if(88===(r=c.charCodeAt(2))||120===r)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+c}for(o=(s=c.slice(2)).length,a=0;a<o;a++)if((l=s.charCodeAt(a))<48||i<l)return NaN;return parseInt(s,n)}return+c}var i=e("../internals/descriptors"),s=e("../internals/global"),o=e("../internals/is-forced"),a=e("../internals/redefine"),l=e("../internals/has"),c=e("../internals/classof-raw"),u=e("../internals/inherit-if-required"),h=e("../internals/to-primitive"),d=e("../internals/fails"),p=e("../internals/object-create"),f=e("../internals/object-get-own-property-names").f,m=e("../internals/object-get-own-property-descriptor").f,g=e("../internals/object-define-property").f,y=e("../internals/string-trim").trim,v="Number",_=s[v],b=_.prototype,w=c(p(b))==v;if(o(v,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var x,S=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof S&&(w?d(function(){b.valueOf.call(r)}):c(r)!=v)?u(new _(n(t)),r,S):n(t)},M=i?f(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;M.length>E;E++)l(_,x=M[E])&&!l(S,x)&&g(S,x,m(_,x));(S.prototype=b).constructor=S,a(s,v,S)}},{"../internals/classof-raw":28,"../internals/descriptors":42,"../internals/fails":50,"../internals/global":58,"../internals/has":59,"../internals/inherit-if-required":66,"../internals/is-forced":72,"../internals/object-create":89,"../internals/object-define-property":91,"../internals/object-get-own-property-descriptor":92,"../internals/object-get-own-property-names":94,"../internals/redefine":107,"../internals/string-trim":126,"../internals/to-primitive":137}],168:[function(e,t,r){e("../internals/export")({target:"Number",stat:!0},{isFinite:e("../internals/number-is-finite")})},{"../internals/export":49,"../internals/number-is-finite":87}],169:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/to-integer"),s=e("../internals/this-number-value"),o=e("../internals/string-repeat"),a=e("../internals/fails"),l=1..toFixed,c=Math.floor,u=function(e,t,r){return 0===t?r:t%2==1?u(e,t-1,r*e):u(e*e,t/2,r)};n({target:"Number",proto:!0,forced:l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!a(function(){l.call({})})},{toFixed:function(e){function t(e,t){for(var r=-1,n=t;++r<6;)m[r]=(n+=e*m[r])%1e7,n=c(n/1e7)}function r(e){for(var t=6,r=0;0<=--t;)m[t]=c((r+=m[t])/e),r=r%e*1e7}function n(){for(var e=6,t="";0<=--e;)if(""!==t||0===e||0!==m[e]){var r=String(m[e]);t=""===t?r:t+o.call("0",7-r.length)+r}return t}var a,l,h,d,p=s(this),f=i(e),m=[0,0,0,0,0,0],g="",y="0";if(f<0||20<f)throw RangeError("Incorrect fraction digits");if(p!=p)return"NaN";if(p<=-1e21||1e21<=p)return String(p);if(p<0&&(g="-",p=-p),1e-21<p)if(l=(a=function(e){for(var t=0,r=e;4096<=r;)t+=12,r/=4096;for(;2<=r;)t+=1,r/=2;return t}(p*u(2,69,1))-69)<0?p*u(2,-a,1):p/u(2,a,1),l*=4503599627370496,0<(a=52-a)){for(t(0,l),h=f;7<=h;)t(1e7,0),h-=7;for(t(u(10,h,1),0),h=a-1;23<=h;)r(1<<23),h-=23;r(1<<h),t(1,1),r(2),y=n()}else t(0,l),t(1<<-a,0),y=n()+o.call("0",f);return 0<f?g+((d=y.length)<=f?"0."+o.call("0",f-d)+y:y.slice(0,d-f)+"."+y.slice(d-f)):g+y}})},{"../internals/export":49,"../internals/fails":50,"../internals/string-repeat":124,"../internals/this-number-value":128,"../internals/to-integer":132}],170:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/object-assign");n({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},{"../internals/export":49,"../internals/object-assign":88}],171:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/fails"),s=e("../internals/object-get-own-property-names-external").f;n({target:"Object",stat:!0,forced:i(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:s})},{"../internals/export":49,"../internals/fails":50,"../internals/object-get-own-property-names-external":93}],172:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/fails"),s=e("../internals/to-object"),o=e("../internals/object-get-prototype-of"),a=e("../internals/correct-prototype-getter");n({target:"Object",stat:!0,forced:i(function(){o(1)}),sham:!a},{getPrototypeOf:function(e){return o(s(e))}})},{"../internals/correct-prototype-getter":34,"../internals/export":49,"../internals/fails":50,"../internals/object-get-prototype-of":96,"../internals/to-object":134}],173:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/to-object"),s=e("../internals/object-keys");n({target:"Object",stat:!0,forced:e("../internals/fails")(function(){s(1)})},{keys:function(e){return s(i(e))}})},{"../internals/export":49,"../internals/fails":50,"../internals/object-keys":98,"../internals/to-object":134}],174:[function(e,t,r){var n=e("../internals/to-string-tag-support"),i=e("../internals/redefine"),s=e("../internals/object-to-string");n||i(Object.prototype,"toString",s,{unsafe:!0})},{"../internals/object-to-string":101,"../internals/redefine":107,"../internals/to-string-tag-support":138}],175:[function(e,t,r){"use strict";function n(e){var t;return!(!w(e)||"function"!=typeof(t=e.then))&&t}function i(e,t,r){if(!t.notified){t.notified=!0;var i=t.reactions;P(function(){for(var s=t.value,o=1==t.state,a=0;i.length>a;){var l,c,u,h=i[a++],d=o?h.ok:h.fail,p=h.resolve,f=h.reject,m=h.domain;try{d?(o||(2===t.rejection&&ie(e,t),t.rejection=1),!0===d?l=s:(m&&m.enter(),l=d(s),m&&(m.exit(),u=!0)),l===h.promise?f(W("Promise-chain cycle")):(c=n(l))?c.call(l,p,f):p(l)):f(s)}catch(s){m&&!u&&m.exit(),f(s)}}t.reactions=[],t.notified=!1,r&&!t.rejection&&re(e,t)})}}function s(e,t,r){var n,i;J?((n=q.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),f.dispatchEvent(n)):n={promise:t,reason:r},(i=f["on"+e])?i(n):e===K&&R("Unhandled promise rejection",r)}function o(e,t,r,n){return function(i){e(t,r,i,n)}}function a(e,t,r,n){t.done||(t.done=!0,n&&(t=n),t.value=r,t.state=2,i(e,t,!0))}var l,c,u,h,d=e("../internals/export"),p=e("../internals/is-pure"),f=e("../internals/global"),m=e("../internals/get-built-in"),g=e("../internals/native-promise-constructor"),y=e("../internals/redefine"),v=e("../internals/redefine-all"),_=e("../internals/set-to-string-tag"),b=e("../internals/set-species"),w=e("../internals/is-object"),x=e("../internals/a-function"),S=e("../internals/an-instance"),M=e("../internals/classof-raw"),E=e("../internals/inspect-source"),T=e("../internals/iterate"),C=e("../internals/check-correctness-of-iteration"),A=e("../internals/species-constructor"),L=e("../internals/task").set,P=e("../internals/microtask"),O=e("../internals/promise-resolve"),R=e("../internals/host-report-errors"),k=e("../internals/new-promise-capability"),j=e("../internals/perform"),D=e("../internals/internal-state"),I=e("../internals/is-forced"),N=e("../internals/well-known-symbol"),z=e("../internals/engine-v8-version"),F=N("species"),U="Promise",B=D.get,V=D.set,H=D.getterFor(U),G=g,W=f.TypeError,q=f.document,X=f.process,Y=m("fetch"),$=k.f,Z=$,Q="process"==M(X),J=!!(q&&q.createEvent&&f.dispatchEvent),K="unhandledrejection",ee=I(U,function(){if(E(G)===String(G)){if(66===z)return!0;if(!Q&&"function"!=typeof PromiseRejectionEvent)return!0}if(p&&!G.prototype.finally)return!0;if(51<=z&&/native code/.test(G))return!1;function e(e){e(function(){},function(){})}var t=G.resolve(1);return(t.constructor={})[F]=e,!(t.then(function(){})instanceof e)}),te=ee||!C(function(e){G.all(e).catch(function(){})}),re=function(e,t){L.call(f,function(){var r,n=t.value;if(ne(t)&&(r=j(function(){Q?X.emit("unhandledRejection",n,e):s(K,e,n)}),t.rejection=Q||ne(t)?2:1,r.error))throw r.value})},ne=function(e){return 1!==e.rejection&&!e.parent},ie=function(e,t){L.call(f,function(){Q?X.emit("rejectionHandled",e):s("rejectionhandled",e,t.value)})},se=function(e,t,r,s){if(!t.done){t.done=!0,s&&(t=s);try{if(e===r)throw W("Promise can't be resolved itself");var l=n(r);l?P(function(){var n={done:!1};try{l.call(r,o(se,e,n,t),o(a,e,n,t))}catch(r){a(e,n,r,t)}}):(t.value=r,t.state=1,i(e,t,!1))}catch(r){a(e,{done:!1},r,t)}}};ee&&(G=function(e){S(this,G,U),x(e),l.call(this);var t=B(this);try{e(o(se,this,t),o(a,this,t))}catch(e){a(this,t,e)}},(l=function(){V(this,{type:U,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=v(G.prototype,{then:function(e,t){var r=H(this),n=$(A(this,G));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=Q?X.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&i(this,r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),c=function(){var e=new l,t=B(e);this.promise=e,this.resolve=o(se,e,t),this.reject=o(a,e,t)},k.f=$=function(e){return e===G||e===u?new c(e):Z(e)},p||"function"!=typeof g||(h=g.prototype.then,y(g.prototype,"then",function(e,t){var r=this;return new G(function(e,t){h.call(r,e,t)}).then(e,t)},{unsafe:!0}),"function"==typeof Y&&d({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return O(G,Y.apply(f,arguments))}}))),d({global:!0,wrap:!0,forced:ee},{Promise:G}),_(G,U,!1,!0),b(U),u=m(U),d({target:U,stat:!0,forced:ee},{reject:function(e){var t=$(this);return t.reject.call(void 0,e),t.promise}}),d({target:U,stat:!0,forced:p||ee},{resolve:function(e){return O(p&&this===u?G:this,e)}}),d({target:U,stat:!0,forced:te},{all:function(e){var t=this,r=$(t),n=r.resolve,i=r.reject,s=j(function(){var r=x(t.resolve),s=[],o=0,a=1;T(e,function(e){var l=o++,c=!1;s.push(void 0),a++,r.call(t,e).then(function(e){c||(c=!0,s[l]=e,--a||n(s))},i)}),--a||n(s)});return s.error&&i(s.value),r.promise},race:function(e){var t=this,r=$(t),n=r.reject,i=j(function(){var i=x(t.resolve);T(e,function(e){i.call(t,e).then(r.resolve,n)})});return i.error&&n(i.value),r.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":47,"../internals/export":49,"../internals/get-built-in":55,"../internals/global":58,"../internals/host-report-errors":61,"../internals/inspect-source":67,"../internals/internal-state":69,"../internals/is-forced":72,"../internals/is-object":73,"../internals/is-pure":74,"../internals/iterate":76,"../internals/microtask":80,"../internals/native-promise-constructor":81,"../internals/new-promise-capability":85,"../internals/perform":104,"../internals/promise-resolve":105,"../internals/redefine":107,"../internals/redefine-all":106,"../internals/set-species":115,"../internals/set-to-string-tag":116,"../internals/species-constructor":120,"../internals/task":127,"../internals/well-known-symbol":145}],176:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/get-built-in"),s=e("../internals/a-function"),o=e("../internals/an-object"),a=e("../internals/is-object"),l=e("../internals/object-create"),c=e("../internals/function-bind"),u=e("../internals/fails"),h=i("Reflect","construct"),d=u(function(){function e(){}return!(h(function(){},[],e)instanceof e)}),p=!u(function(){h(function(){})}),f=d||p;n({target:"Reflect",stat:!0,forced:f,sham:f},{construct:function(e,t,r){s(e),o(t);var n=arguments.length<3?e:s(r);if(p&&!d)return h(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(c.apply(e,i))}var u=n.prototype,f=l(a(u)?u:Object.prototype),m=Function.apply.call(e,f,t);return a(m)?m:f}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":49,"../internals/fails":50,"../internals/function-bind":54,"../internals/get-built-in":55,"../internals/is-object":73,"../internals/object-create":89}],177:[function(e,t,r){var n=e("../internals/descriptors"),i=e("../internals/global"),s=e("../internals/is-forced"),o=e("../internals/inherit-if-required"),a=e("../internals/object-define-property").f,l=e("../internals/object-get-own-property-names").f,c=e("../internals/is-regexp"),u=e("../internals/regexp-flags"),h=e("../internals/regexp-sticky-helpers"),d=e("../internals/redefine"),p=e("../internals/fails"),f=e("../internals/internal-state").set,m=e("../internals/set-species"),g=e("../internals/well-known-symbol")("match"),y=i.RegExp,v=y.prototype,_=/a/g,b=/a/g,w=new y(_)!==_,x=h.UNSUPPORTED_Y;if(n&&s("RegExp",!w||x||p(function(){return b[g]=!1,y(_)!=_||y(b)==b||"/a/i"!=y(_,"i")}))){function S(e){e in M||a(M,e,{configurable:!0,get:function(){return y[e]},set:function(t){y[e]=t}})}for(var M=function(e,t){var r,n=this instanceof M,i=c(e),s=void 0===t;if(!n&&i&&e.constructor===M&&s)return e;w?i&&!s&&(e=e.source):e instanceof M&&(s&&(t=u.call(e)),e=e.source),x&&(r=!!t&&-1<t.indexOf("y"))&&(t=t.replace(/y/g,""));var a=o(w?new y(e,t):y(e,t),n?this:v,M);return x&&r&&f(a,{sticky:r}),a},E=l(y),T=0;E.length>T;)S(E[T++]);(v.constructor=M).prototype=v,d(i,"RegExp",M)}m("RegExp")},{"../internals/descriptors":42,"../internals/fails":50,"../internals/global":58,"../internals/inherit-if-required":66,"../internals/internal-state":69,"../internals/is-forced":72,"../internals/is-regexp":75,"../internals/object-define-property":91,"../internals/object-get-own-property-names":94,"../internals/redefine":107,"../internals/regexp-flags":110,"../internals/regexp-sticky-helpers":111,"../internals/set-species":115,"../internals/well-known-symbol":145}],178:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/regexp-exec");n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},{"../internals/export":49,"../internals/regexp-exec":109}],179:[function(e,t,r){"use strict";var n=e("../internals/redefine"),i=e("../internals/an-object"),s=e("../internals/fails"),o=e("../internals/regexp-flags"),a="toString",l=RegExp.prototype,c=l[a];(s(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})||c.name!=a)&&n(RegExp.prototype,a,function(){var e=i(this),t=String(e.source),r=e.flags;return"/"+t+"/"+String(void 0===r&&e instanceof RegExp&&!("flags"in l)?o.call(e):r)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":50,"../internals/redefine":107,"../internals/regexp-flags":110}],180:[function(e,t,r){"use strict";var n=e("../internals/collection"),i=e("../internals/collection-strong");t.exports=n("Set",function(e){return function(t){return e(this,arguments.length?t:void 0)}},i)},{"../internals/collection":31,"../internals/collection-strong":30}],181:[function(e,t,r){"use strict";var n,i=e("../internals/export"),s=e("../internals/object-get-own-property-descriptor").f,o=e("../internals/to-length"),a=e("../internals/not-a-regexp"),l=e("../internals/require-object-coercible"),c=e("../internals/correct-is-regexp-logic"),u=e("../internals/is-pure"),h="".endsWith,d=Math.min,p=c("endsWith");i({target:"String",proto:!0,forced:!(!u&&!p&&(n=s(String.prototype,"endsWith"))&&!n.writable||p)},{endsWith:function(e,t){var r=String(l(this));a(e);var n=1<arguments.length?t:void 0,i=o(r.length),s=void 0===n?i:d(o(n),i),c=String(e);return h?h.call(r,c,s):r.slice(s-c.length,s)===c}})},{"../internals/correct-is-regexp-logic":33,"../internals/export":49,"../internals/is-pure":74,"../internals/not-a-regexp":86,"../internals/object-get-own-property-descriptor":92,"../internals/require-object-coercible":112,"../internals/to-length":133}],182:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/not-a-regexp"),s=e("../internals/require-object-coercible");n({target:"String",proto:!0,forced:!e("../internals/correct-is-regexp-logic")("includes")},{includes:function(e,t){return!!~String(s(this)).indexOf(i(e),1<arguments.length?t:void 0)}})},{"../internals/correct-is-regexp-logic":33,"../internals/export":49,"../internals/not-a-regexp":86,"../internals/require-object-coercible":112}],183:[function(e,t,r){"use strict";var n=e("../internals/string-multibyte").charAt,i=e("../internals/internal-state"),s=e("../internals/define-iterator"),o="String Iterator",a=i.set,l=i.getterFor(o);s(String,"String",function(e){a(this,{type:o,string:String(e),index:0})},function(){var e,t=l(this),r=t.string,i=t.index;return i>=r.length?{value:void 0,done:!0}:(e=n(r,i),t.index+=e.length,{value:e,done:!1})})},{"../internals/define-iterator":40,"../internals/internal-state":69,"../internals/string-multibyte":122}],184:[function(e,t,r){"use strict";var n=e("../internals/fix-regexp-well-known-symbol-logic"),i=e("../internals/an-object"),s=e("../internals/to-length"),o=e("../internals/require-object-coercible"),a=e("../internals/advance-string-index"),l=e("../internals/regexp-exec-abstract");n("match",1,function(e,t,r){return[function(t){var r=o(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var o=i(e),c=String(this);if(!o.global)return l(o,c);for(var u,h=o.unicode,d=[],p=o.lastIndex=0;null!==(u=l(o,c));){var f=String(u[0]);""===(d[p]=f)&&(o.lastIndex=a(c,s(o.lastIndex),h)),p++}return 0===p?null:d}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":108,"../internals/require-object-coercible":112,"../internals/to-length":133}],185:[function(e,t,r){e("../internals/export")({target:"String",proto:!0},{repeat:e("../internals/string-repeat")})},{"../internals/export":49,"../internals/string-repeat":124}],186:[function(e,t,r){"use strict";var n=e("../internals/fix-regexp-well-known-symbol-logic"),i=e("../internals/an-object"),s=e("../internals/to-object"),o=e("../internals/to-length"),a=e("../internals/to-integer"),l=e("../internals/require-object-coercible"),c=e("../internals/advance-string-index"),u=e("../internals/regexp-exec-abstract"),h=Math.max,d=Math.min,p=Math.floor,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;n("replace",2,function(e,t,r,n){var g=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=n.REPLACE_KEEPS_$0,v=g?"$":"$0";return[function(r,n){var i=l(this),s=null==r?void 0:r[e];return void 0!==s?s.call(r,i,n):t.call(String(i),r,n)},function(e,n){if(!g&&y||"string"==typeof n&&-1===n.indexOf(v)){var s=r(t,e,this,n);if(s.done)return s.value}var l=i(e),p=String(this),f="function"==typeof n;f||(n=String(n));var m=l.global;if(m){var b=l.unicode;l.lastIndex=0}for(var w=[];;){var x=u(l,p);if(null===x)break;if(w.push(x),!m)break;""===String(x[0])&&(l.lastIndex=c(p,o(l.lastIndex),b))}for(var S,M="",E=0,T=0;T<w.length;T++){x=w[T];for(var C=String(x[0]),A=h(d(a(x.index),p.length),0),L=[],P=1;P<x.length;P++)L.push(void 0===(S=x[P])?S:String(S));var O=x.groups;if(f){var R=[C].concat(L,A,p);void 0!==O&&R.push(O);var k=String(n.apply(void 0,R))}else k=_(C,p,A,L,O,n);E<=A&&(M+=p.slice(E,A)+k,E=A+C.length)}return M+p.slice(E)}];function _(e,r,n,i,o,a){var l=n+e.length,c=i.length,u=m;return void 0!==o&&(o=s(o),u=f),t.call(a,u,function(t,s){var a;switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(l);case"<":a=o[s.slice(1,-1)];break;default:var u=+s;if(0==u)return t;if(c<u){var h=p(u/10);return 0===h?t:h<=c?void 0===i[h-1]?s.charAt(1):i[h-1]+s.charAt(1):t}a=i[u-1]}return void 0===a?"":a})}})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":108,"../internals/require-object-coercible":112,"../internals/to-integer":132,"../internals/to-length":133,"../internals/to-object":134}],187:[function(e,t,r){"use strict";var n=e("../internals/fix-regexp-well-known-symbol-logic"),i=e("../internals/an-object"),s=e("../internals/require-object-coercible"),o=e("../internals/same-value"),a=e("../internals/regexp-exec-abstract");n("search",1,function(e,t,r){return[function(t){var r=s(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var s=i(e),l=String(this),c=s.lastIndex;o(c,0)||(s.lastIndex=0);var u=a(s,l);return o(s.lastIndex,c)||(s.lastIndex=c),null===u?-1:u.index}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":108,"../internals/require-object-coercible":112,"../internals/same-value":113}],188:[function(e,t,r){"use strict";var n=e("../internals/fix-regexp-well-known-symbol-logic"),i=e("../internals/is-regexp"),s=e("../internals/an-object"),o=e("../internals/require-object-coercible"),a=e("../internals/species-constructor"),l=e("../internals/advance-string-index"),c=e("../internals/to-length"),u=e("../internals/regexp-exec-abstract"),h=e("../internals/regexp-exec"),d=e("../internals/fails"),p=[].push,f=Math.min,m=4294967295,g=!d(function(){return!RegExp(m,"y")});n("split",2,function(e,t,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(e,r){var n=String(o(this)),s=void 0===r?m:r>>>0;if(0==s)return[];if(void 0===e)return[n];if(!i(e))return t.call(n,e,s);for(var a,l,c,u=[],d=0,f=new RegExp(e.source,(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":"")+"g");(a=h.call(f,n))&&!(d<(l=f.lastIndex)&&(u.push(n.slice(d,a.index)),1<a.length&&a.index<n.length&&p.apply(u,a.slice(1)),c=a[0].length,d=l,u.length>=s));)f.lastIndex===a.index&&f.lastIndex++;return d===n.length?!c&&f.test("")||u.push(""):u.push(n.slice(d)),u.length>s?u.slice(0,s):u}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var i=o(this),s=null==t?void 0:t[e];return void 0!==s?s.call(t,i,r):n.call(String(i),t,r)},function(e,i){var o=r(n,e,this,i,n!==t);if(o.done)return o.value;var h=s(e),d=String(this),p=a(h,RegExp),y=h.unicode,v=new p(g?h:"^(?:"+h.source+")",(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(g?"y":"g")),_=void 0===i?m:i>>>0;if(0==_)return[];if(0===d.length)return null===u(v,d)?[d]:[];for(var b=0,w=0,x=[];w<d.length;){v.lastIndex=g?w:0;var S,M=u(v,g?d:d.slice(w));if(null===M||(S=f(c(v.lastIndex+(g?0:w)),d.length))===b)w=l(d,w,y);else{if(x.push(d.slice(b,w)),x.length===_)return x;for(var E=1;E<=M.length-1;E++)if(x.push(M[E]),x.length===_)return x;w=b=S}}return x.push(d.slice(b)),x}]},!g)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":50,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/is-regexp":75,"../internals/regexp-exec":109,"../internals/regexp-exec-abstract":108,"../internals/require-object-coercible":112,"../internals/species-constructor":120,"../internals/to-length":133}],189:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/create-html");n({target:"String",proto:!0,forced:e("../internals/string-html-forced")("sub")},{sub:function(){return i(this,"sub","","")}})},{"../internals/create-html":35,"../internals/export":49,"../internals/string-html-forced":121}],190:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/string-trim").trim;n({target:"String",proto:!0,forced:e("../internals/string-trim-forced")("trim")},{trim:function(){return i(this)}})},{"../internals/export":49,"../internals/string-trim":126,"../internals/string-trim-forced":125}],191:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/descriptors"),s=e("../internals/global"),o=e("../internals/has"),a=e("../internals/is-object"),l=e("../internals/object-define-property").f,c=e("../internals/copy-constructor-properties"),u=s.Symbol;if(i&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var h={},d=function(e){var t=arguments.length<1||void 0===e?void 0:String(e),r=this instanceof d?new u(t):void 0===t?u():u(t);return""===t&&(h[r]=!0),r};c(d,u);var p=d.prototype=u.prototype;p.constructor=d;var f=p.toString,m="Symbol(test)"==String(u("test")),g=/^Symbol\((.*)\)[^)]+$/;l(p,"description",{configurable:!0,get:function(){var e=a(this)?this.valueOf():this,t=f.call(e);if(o(h,e))return"";var r=m?t.slice(7,-1):t.replace(g,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:d})}},{"../internals/copy-constructor-properties":32,"../internals/descriptors":42,"../internals/export":49,"../internals/global":58,"../internals/has":59,"../internals/is-object":73,"../internals/object-define-property":91}],192:[function(e,t,r){e("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":41}],193:[function(e,t,r){"use strict";function n(e,t){var r=re[e]=S(Z[W]);return X(r,{type:G,tag:e,description:t}),h||(r.description=t),r}function i(e,t){v(e);var r=b(t),n=M(r).concat(pe(r));return V(n,function(t){h&&!de.call(r,t)||he(e,t,r[t])}),e}function s(e,t){var r=b(e),n=w(t,!0);if(r!==$||!m(re,n)||m(ne,n)){var i=J(r,n);return!i||!m(re,n)||m(r,H)&&r[H][n]||(i.enumerable=!0),i}}function o(e){var t=ee(b(e)),r=[];return V(t,function(e){m(re,e)||m(D,e)||r.push(e)}),r}var a=e("../internals/export"),l=e("../internals/global"),c=e("../internals/get-built-in"),u=e("../internals/is-pure"),h=e("../internals/descriptors"),d=e("../internals/native-symbol"),p=e("../internals/use-symbol-as-uid"),f=e("../internals/fails"),m=e("../internals/has"),g=e("../internals/is-array"),y=e("../internals/is-object"),v=e("../internals/an-object"),_=e("../internals/to-object"),b=e("../internals/to-indexed-object"),w=e("../internals/to-primitive"),x=e("../internals/create-property-descriptor"),S=e("../internals/object-create"),M=e("../internals/object-keys"),E=e("../internals/object-get-own-property-names"),T=e("../internals/object-get-own-property-names-external"),C=e("../internals/object-get-own-property-symbols"),A=e("../internals/object-get-own-property-descriptor"),L=e("../internals/object-define-property"),P=e("../internals/object-property-is-enumerable"),O=e("../internals/create-non-enumerable-property"),R=e("../internals/redefine"),k=e("../internals/shared"),j=e("../internals/shared-key"),D=e("../internals/hidden-keys"),I=e("../internals/uid"),N=e("../internals/well-known-symbol"),z=e("../internals/well-known-symbol-wrapped"),F=e("../internals/define-well-known-symbol"),U=e("../internals/set-to-string-tag"),B=e("../internals/internal-state"),V=e("../internals/array-iteration").forEach,H=j("hidden"),G="Symbol",W="prototype",q=N("toPrimitive"),X=B.set,Y=B.getterFor(G),$=Object[W],Z=l.Symbol,Q=c("JSON","stringify"),J=A.f,K=L.f,ee=T.f,te=P.f,re=k("symbols"),ne=k("op-symbols"),ie=k("string-to-symbol-registry"),se=k("symbol-to-string-registry"),oe=k("wks"),ae=l.QObject,le=!ae||!ae[W]||!ae[W].findChild,ce=h&&f(function(){return 7!=S(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=J($,t);n&&delete $[t],K(e,t,r),n&&e!==$&&K($,t,n)}:K,ue=p?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Z},he=function(e,t,r){e===$&&he(ne,t,r),v(e);var n=w(t,!0);return v(r),m(re,n)?(r.enumerable?(m(e,H)&&e[H][n]&&(e[H][n]=!1),r=S(r,{enumerable:x(0,!1)})):(m(e,H)||K(e,H,x(1,{})),e[H][n]=!0),ce(e,n,r)):K(e,n,r)},de=function(e){var t=w(e,!0),r=te.call(this,t);return!(this===$&&m(re,t)&&!m(ne,t))&&(!(r||!m(this,t)||!m(re,t)||m(this,H)&&this[H][t])||r)},pe=function(e){var t=e===$,r=ee(t?ne:b(e)),n=[];return V(r,function(e){!m(re,e)||t&&!m($,e)||n.push(re[e])}),n};d||(R((Z=function(e){if(this instanceof Z)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==e?String(e):void 0,r=I(t),i=function(e){this===$&&i.call(ne,e),m(this,H)&&m(this[H],r)&&(this[H][r]=!1),ce(this,r,x(1,e))};return h&&le&&ce($,r,{configurable:!0,set:i}),n(r,t)})[W],"toString",function(){return Y(this).tag}),R(Z,"withoutSetter",function(e){return n(I(e),e)}),P.f=de,L.f=he,A.f=s,E.f=T.f=o,C.f=pe,z.f=function(e){return n(N(e),e)},h&&(K(Z[W],"description",{configurable:!0,get:function(){return Y(this).description}}),u||R($,"propertyIsEnumerable",de,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:Z}),V(M(oe),function(e){F(e)}),a({target:G,stat:!0,forced:!d},{for:function(e){var t=String(e);if(m(ie,t))return ie[t];var r=Z(t);return ie[t]=r,se[r]=t,r},keyFor:function(e){if(!ue(e))throw TypeError(e+" is not a symbol");if(m(se,e))return se[e]},useSetter:function(){le=!0},useSimple:function(){le=!1}}),a({target:"Object",stat:!0,forced:!d,sham:!h},{create:function(e,t){return void 0===t?S(e):i(S(e),t)},defineProperty:he,defineProperties:i,getOwnPropertyDescriptor:s}),a({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:o,getOwnPropertySymbols:pe}),a({target:"Object",stat:!0,forced:f(function(){C.f(1)})},{getOwnPropertySymbols:function(e){return C.f(_(e))}}),Q&&a({target:"JSON",stat:!0,forced:!d||f(function(){var e=Z();return"[null]"!=Q([e])||"{}"!=Q({a:e})||"{}"!=Q(Object(e))})},{stringify:function(e,t,r){for(var n,i=[e],s=1;s<arguments.length;)i.push(arguments[s++]);if((y(n=t)||void 0!==e)&&!ue(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ue(t))return t}),i[1]=t,Q.apply(null,i)}}),Z[W][q]||O(Z[W],q,Z[W].valueOf),U(Z,G),D[H]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":37,"../internals/create-property-descriptor":38,"../internals/define-well-known-symbol":41,"../internals/descriptors":42,"../internals/export":49,"../internals/fails":50,"../internals/get-built-in":55,"../internals/global":58,"../internals/has":59,"../internals/hidden-keys":60,"../internals/internal-state":69,"../internals/is-array":71,"../internals/is-object":73,"../internals/is-pure":74,"../internals/native-symbol":82,"../internals/object-create":89,"../internals/object-define-property":91,"../internals/object-get-own-property-descriptor":92,"../internals/object-get-own-property-names":94,"../internals/object-get-own-property-names-external":93,"../internals/object-get-own-property-symbols":95,"../internals/object-keys":98,"../internals/object-property-is-enumerable":99,"../internals/redefine":107,"../internals/set-to-string-tag":116,"../internals/shared":119,"../internals/shared-key":117,"../internals/to-indexed-object":131,"../internals/to-object":134,"../internals/to-primitive":137,"../internals/uid":142,"../internals/use-symbol-as-uid":143,"../internals/well-known-symbol":145,"../internals/well-known-symbol-wrapped":144}],194:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-copy-within"),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("copyWithin",function(e,t,r){return i.call(s(this),e,t,2<arguments.length?r:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],195:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").every,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",function(e,t){return i(s(this),e,1<arguments.length?t:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],196:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-fill"),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("fill",function(e){return i.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],197:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").filter,s=e("../internals/species-constructor"),o=n.aTypedArray,a=n.aTypedArrayConstructor;(0,n.exportTypedArrayMethod)("filter",function(e,t){for(var r=i(o(this),e,1<arguments.length?t:void 0),n=s(this,this.constructor),l=0,c=r.length,u=new(a(n))(c);l<c;)u[l]=r[l++];return u})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":120}],198:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").findIndex,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",function(e,t){return i(s(this),e,1<arguments.length?t:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],199:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").find,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",function(e,t){return i(s(this),e,1<arguments.length?t:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],200:[function(e,t,r){e("../internals/typed-array-constructor")("Float32",function(e){return function(t,r,n){return e(this,t,r,n)}})},{"../internals/typed-array-constructor":139}],201:[function(e,t,r){e("../internals/typed-array-constructor")("Float64",function(e){return function(t,r,n){return e(this,t,r,n)}})},{"../internals/typed-array-constructor":139}],202:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").forEach,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",function(e,t){i(s(this),e,1<arguments.length?t:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],203:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-includes").includes,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",function(e,t){return i(s(this),e,1<arguments.length?t:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],204:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-includes").indexOf,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",function(e,t){return i(s(this),e,1<arguments.length?t:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],205:[function(e,t,r){e("../internals/typed-array-constructor")("Int16",function(e){return function(t,r,n){return e(this,t,r,n)}})},{"../internals/typed-array-constructor":139}],206:[function(e,t,r){e("../internals/typed-array-constructor")("Int32",function(e){return function(t,r,n){return e(this,t,r,n)}})},{"../internals/typed-array-constructor":139}],207:[function(e,t,r){"use strict";function n(){return c.call(d(this))}var i=e("../internals/global"),s=e("../internals/array-buffer-view-core"),o=e("../modules/es.array.iterator"),a=e("../internals/well-known-symbol")("iterator"),l=i.Uint8Array,c=o.values,u=o.keys,h=o.entries,d=s.aTypedArray,p=s.exportTypedArrayMethod,f=l&&l.prototype[a],m=!!f&&("values"==f.name||null==f.name);p("entries",function(){return h.call(d(this))}),p("keys",function(){return u.call(d(this))}),p("values",n,!m),p(a,n,!m)},{"../internals/array-buffer-view-core":12,"../internals/global":58,"../internals/well-known-symbol":145,"../modules/es.array.iterator":156}],208:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=n.aTypedArray,s=[].join;(0,n.exportTypedArrayMethod)("join",function(e){return s.apply(i(this),arguments)})},{"../internals/array-buffer-view-core":12}],209:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-last-index-of"),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",function(e){return i.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],210:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").map,s=e("../internals/species-constructor"),o=n.aTypedArray,a=n.aTypedArrayConstructor;(0,n.exportTypedArrayMethod)("map",function(e,t){return i(o(this),e,1<arguments.length?t:void 0,function(e,t){return new(a(s(e,e.constructor)))(t)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":120}],211:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-reduce").right,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",function(e,t){return i(s(this),e,arguments.length,1<arguments.length?t:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],212:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-reduce").left,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",function(e,t){return i(s(this),e,arguments.length,1<arguments.length?t:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],213:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=n.aTypedArray,s=Math.floor;(0,n.exportTypedArrayMethod)("reverse",function(){for(var e,t=i(this).length,r=s(t/2),n=0;n<r;)e=this[n],this[n++]=this[--t],this[t]=e;return this})},{"../internals/array-buffer-view-core":12}],214:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/to-length"),s=e("../internals/to-offset"),o=e("../internals/to-object"),a=e("../internals/fails"),l=n.aTypedArray;(0,n.exportTypedArrayMethod)("set",function(e,t){l(this);var r=s(1<arguments.length?t:void 0,1),n=this.length,a=o(e),c=i(a.length),u=0;if(n<c+r)throw RangeError("Wrong length");for(;u<c;)this[r+u]=a[u++]},a(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/to-length":133,"../internals/to-object":134,"../internals/to-offset":135}],215:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/species-constructor"),s=e("../internals/fails"),o=n.aTypedArray,a=n.aTypedArrayConstructor,l=[].slice;(0,n.exportTypedArrayMethod)("slice",function(e,t){for(var r=l.call(o(this),e,t),n=i(this,this.constructor),s=0,c=r.length,u=new(a(n))(c);s<c;)u[s]=r[s++];return u},s(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/species-constructor":120}],216:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").some,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",function(e,t){return i(s(this),e,1<arguments.length?t:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],217:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=n.aTypedArray,s=[].sort;(0,n.exportTypedArrayMethod)("sort",function(e){return s.call(i(this),e)})},{"../internals/array-buffer-view-core":12}],218:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/to-length"),s=e("../internals/to-absolute-index"),o=e("../internals/species-constructor"),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("subarray",function(e,t){var r=a(this),n=r.length,l=s(e,n);return new(o(r,r.constructor))(r.buffer,r.byteOffset+l*r.BYTES_PER_ELEMENT,i((void 0===t?n:s(t,n))-l))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":120,"../internals/to-absolute-index":129,"../internals/to-length":133}],219:[function(e,t,r){"use strict";var n=e("../internals/global"),i=e("../internals/array-buffer-view-core"),s=e("../internals/fails"),o=n.Int8Array,a=i.aTypedArray,l=i.exportTypedArrayMethod,c=[].toLocaleString,u=[].slice,h=!!o&&s(function(){c.call(new o(1))});l("toLocaleString",function(){return c.apply(h?u.call(a(this)):a(this),arguments)},s(function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()})||!s(function(){o.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/global":58}],220:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core").exportTypedArrayMethod,i=e("../internals/fails"),s=e("../internals/global").Uint8Array,o=s&&s.prototype||{},a=[].toString,l=[].join;i(function(){a.call({})})&&(a=function(){return l.call(this)}),n("toString",a,o.toString!=a)},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/global":58}],221:[function(e,t,r){e("../internals/typed-array-constructor")("Uint16",function(e){return function(t,r,n){return e(this,t,r,n)}})},{"../internals/typed-array-constructor":139}],222:[function(e,t,r){e("../internals/typed-array-constructor")("Uint32",function(e){return function(t,r,n){return e(this,t,r,n)}})},{"../internals/typed-array-constructor":139}],223:[function(e,t,r){e("../internals/typed-array-constructor")("Uint8",function(e){return function(t,r,n){return e(this,t,r,n)}})},{"../internals/typed-array-constructor":139}],224:[function(e,t,r){e("../internals/typed-array-constructor")("Uint8",function(e){return function(t,r,n){return e(this,t,r,n)}},!0)},{"../internals/typed-array-constructor":139}],225:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/dom-iterables"),s=e("../internals/array-for-each"),o=e("../internals/create-non-enumerable-property");for(var a in i){var l=n[a],c=l&&l.prototype;if(c&&c.forEach!==s)try{o(c,"forEach",s)}catch(e){c.forEach=s}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":37,"../internals/dom-iterables":44,"../internals/global":58}],226:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/dom-iterables"),s=e("../modules/es.array.iterator"),o=e("../internals/create-non-enumerable-property"),a=e("../internals/well-known-symbol"),l=a("iterator"),c=a("toStringTag"),u=s.values;for(var h in i){var d=n[h],p=d&&d.prototype;if(p){if(p[l]!==u)try{o(p,l,u)}catch(e){p[l]=u}if(p[c]||o(p,c,h),i[h])for(var f in s)if(p[f]!==s[f])try{o(p,f,s[f])}catch(e){p[f]=s[f]}}}},{"../internals/create-non-enumerable-property":37,"../internals/dom-iterables":44,"../internals/global":58,"../internals/well-known-symbol":145,"../modules/es.array.iterator":156}],227:[function(e,t,r){"use strict";function n(t){try{return decodeURIComponent(t)}catch(e){return t}}function i(e){var t,r=e.replace(N," "),i=4;try{return decodeURIComponent(r)}catch(e){for(;i;)r=r.replace((t=i--,z[t-1]||(z[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))),n);return r}}function s(e){return U[e]}function o(e){return encodeURIComponent(e).replace(F,s)}function a(e,t){if(t)for(var r,n,s=t.split("&"),o=0;o<s.length;)(r=s[o++]).length&&(n=r.split("="),e.push({key:i(n.shift()),value:i(n.join("="))}))}function l(e){this.entries.length=0,a(this.entries,e)}function c(e,t){if(e<t)throw TypeError("Not enough arguments")}e("../modules/es.array.iterator");var u=e("../internals/export"),h=e("../internals/get-built-in"),d=e("../internals/native-url"),p=e("../internals/redefine"),f=e("../internals/redefine-all"),m=e("../internals/set-to-string-tag"),g=e("../internals/create-iterator-constructor"),y=e("../internals/internal-state"),v=e("../internals/an-instance"),_=e("../internals/has"),b=e("../internals/function-bind-context"),w=e("../internals/classof"),x=e("../internals/an-object"),S=e("../internals/is-object"),M=e("../internals/object-create"),E=e("../internals/create-property-descriptor"),T=e("../internals/get-iterator"),C=e("../internals/get-iterator-method"),A=e("../internals/well-known-symbol"),L=h("fetch"),P=h("Headers"),O=A("iterator"),R="URLSearchParams",k=R+"Iterator",j=y.set,D=y.getterFor(R),I=y.getterFor(k),N=/\+/g,z=Array(4),F=/[!'()~]|%20/g,U={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},B=g(function(e,t){j(this,{type:k,iterator:T(D(e).entries),kind:t})},"Iterator",function(){var e=I(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r}),V=function(e){v(this,V,R);var t,r,n,i,s,o,c,u,h,d=0<arguments.length?e:void 0,p=[];if(j(this,{type:R,entries:p,updateURL:function(){},updateSearchParams:l}),void 0!==d)if(S(d))if("function"==typeof(t=C(d)))for(n=(r=t.call(d)).next;!(i=n.call(r)).done;){if((c=(o=(s=T(x(i.value))).next).call(s)).done||(u=o.call(s)).done||!o.call(s).done)throw TypeError("Expected sequence with length 2");p.push({key:c.value+"",value:u.value+""})}else for(h in d)_(d,h)&&p.push({key:h,value:d[h]+""});else a(p,"string"==typeof d?"?"===d.charAt(0)?d.slice(1):d:d+"")},H=V.prototype;f(H,{append:function(e,t){c(arguments.length,2);var r=D(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){c(arguments.length,1);for(var t=D(this),r=t.entries,n=e+"",i=0;i<r.length;)r[i].key===n?r.splice(i,1):i++;t.updateURL()},get:function(e){c(arguments.length,1);for(var t=D(this).entries,r=e+"",n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){c(arguments.length,1);for(var t=D(this).entries,r=e+"",n=[],i=0;i<t.length;i++)t[i].key===r&&n.push(t[i].value);return n},has:function(e){c(arguments.length,1);for(var t=D(this).entries,r=e+"",n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){c(arguments.length,1);for(var r,n=D(this),i=n.entries,s=!1,o=e+"",a=t+"",l=0;l<i.length;l++)(r=i[l]).key===o&&(s?i.splice(l--,1):(s=!0,r.value=a));s||i.push({key:o,value:a}),n.updateURL()},sort:function(){var e,t,r,n=D(this),i=n.entries,s=i.slice();for(r=i.length=0;r<s.length;r++){for(e=s[r],t=0;t<r;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===r&&i.push(e)}n.updateURL()},forEach:function(e,t){for(var r,n=D(this).entries,i=b(e,1<arguments.length?t:void 0,3),s=0;s<n.length;)i((r=n[s++]).value,r.key,this)},keys:function(){return new B(this,"keys")},values:function(){return new B(this,"values")},entries:function(){return new B(this,"entries")}},{enumerable:!0}),p(H,O,H.entries),p(H,"toString",function(){for(var e,t=D(this).entries,r=[],n=0;n<t.length;)e=t[n++],r.push(o(e.key)+"="+o(e.value));return r.join("&")},{enumerable:!0}),m(V,R),u({global:!0,forced:!d},{URLSearchParams:V}),d||"function"!=typeof L||"function"!=typeof P||u({global:!0,enumerable:!0,forced:!0},{fetch:function(e,t){var r,n,i,s=[e];return 1<arguments.length&&(S(r=t)&&w(n=r.body)===R&&((i=r.headers?new P(r.headers):new P).has("content-type")||i.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),r=M(r,{body:E(0,String(n)),headers:E(0,i)})),s.push(r)),L.apply(this,s)}}),t.exports={URLSearchParams:V,getState:D}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":36,"../internals/create-property-descriptor":38,"../internals/export":49,"../internals/function-bind-context":53,"../internals/get-built-in":55,"../internals/get-iterator":57,"../internals/get-iterator-method":56,"../internals/has":59,"../internals/internal-state":69,"../internals/is-object":73,"../internals/native-url":83,"../internals/object-create":89,"../internals/redefine":107,"../internals/redefine-all":106,"../internals/set-to-string-tag":116,"../internals/well-known-symbol":145,"../modules/es.array.iterator":156}],228:[function(e,t,r){"use strict";function n(e,t){var r,n,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return I;if(!(r=Z(t.slice(1,-1))))return I;e.host=r}else if(ne(e)){if(t=M(t),W.test(t))return I;if(null===(r=$(t)))return I;e.host=r}else{if(q.test(t))return I;for(r="",n=x(t),i=0;i<n.length;i++)r+=te(n[i],Q);e.host=r}}function i(e){var t,r,n,i;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=k(e/256);return t.join(".")}if("object"!=typeof e)return e;for(t="",n=function(e){for(var t=null,r=1,n=null,i=0,s=0;s<8;s++)0!==e[s]?(r<i&&(t=n,r=i),n=null,i=0):(null===n&&(n=s),++i);return r<i&&(t=n,r=i),t}(e),r=0;r<8;r++)i&&0===e[r]||(i=i&&!1,n===r?(t+=r?":":"::",i=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}function s(e){return""!=e.username||""!=e.password}function o(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme}function a(e,t){var r;return 2==e.length&&z.test(e.charAt(0))&&(":"==(r=e.charAt(1))||!t&&"|"==r)}function l(e){var t;return 1<e.length&&a(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)}function c(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&a(t[0],!0)||t.pop()}function u(e,t,r,i){var o,u,h,p,f,m,g=r||ie,y=0,v="",_=!1,w=!1,S=!1;for(r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(X,"")),t=t.replace(Y,""),o=x(t);y<=o.length;){switch(u=o[y],g){case ie:if(!u||!z.test(u)){if(r)return D;g=oe;continue}v+=u.toLowerCase(),g=se;break;case se:if(u&&(F.test(u)||"+"==u||"-"==u||"."==u))v+=u.toLowerCase();else{if(":"!=u){if(r)return D;v="",g=oe,y=0;continue}if(r&&(ne(e)!=b(re,v)||"file"==v&&(s(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=v,r)return void(ne(e)&&re[e.scheme]==e.port&&(e.port=null));v="","file"==e.scheme?g=ye:ne(e)&&i&&i.scheme==e.scheme?g=ae:ne(e)?g=he:"/"==o[y+1]?(g=le,y++):(e.cannotBeABaseURL=!0,e.path.push(""),g=xe)}break;case oe:if(!i||i.cannotBeABaseURL&&"#"!=u)return D;if(i.cannotBeABaseURL&&"#"==u){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,g=Me;break}g="file"==i.scheme?ye:ce;continue;case ae:if("/"!=u||"/"!=o[y+1]){g=ce;continue}g=de,y++;break;case le:if("/"==u){g=pe;break}g=we;continue;case ce:if(e.scheme=i.scheme,u==d)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==u||"\\"==u&&ne(e))g=ue;else if("?"==u)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",g=Se;else{if("#"!=u){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),g=we;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",g=Me}break;case ue:if(!ne(e)||"/"!=u&&"\\"!=u){if("/"!=u){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,g=we;continue}g=pe}else g=de;break;case he:if(g=de,"/"!=u||"/"!=v.charAt(y+1))continue;y++;break;case de:if("/"==u||"\\"==u)break;g=pe;continue;case pe:if("@"==u){_&&(v="%40"+v),_=!0,h=x(v);for(var M=0;M<h.length;M++){var E=h[M];if(":"!=E||S){var T=te(E,ee);S?e.password+=T:e.username+=T}else S=!0}v=""}else if(u==d||"/"==u||"?"==u||"#"==u||"\\"==u&&ne(e)){if(_&&""==v)return"Invalid authority";y-=x(v).length+1,v="",g=fe}else v+=u;break;case fe:case me:if(r&&"file"==e.scheme){g=_e;continue}if(":"!=u||w){if(u==d||"/"==u||"?"==u||"#"==u||"\\"==u&&ne(e)){if(ne(e)&&""==v)return I;if(r&&""==v&&(s(e)||null!==e.port))return;if(p=n(e,v))return p;if(v="",g=be,r)return;continue}"["==u?w=!0:"]"==u&&(w=!1),v+=u}else{if(""==v)return I;if(p=n(e,v))return p;if(v="",g=ge,r==me)return}break;case ge:if(!U.test(u)){if(u==d||"/"==u||"?"==u||"#"==u||"\\"==u&&ne(e)||r){if(""!=v){var C=parseInt(v,10);if(65535<C)return N;e.port=ne(e)&&C===re[e.scheme]?null:C,v=""}if(r)return;g=be;continue}return N}v+=u;break;case ye:if(e.scheme="file","/"==u||"\\"==u)g=ve;else{if(!i||"file"!=i.scheme){g=we;continue}if(u==d)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==u)e.host=i.host,e.path=i.path.slice(),e.query="",g=Se;else{if("#"!=u){l(o.slice(y).join(""))||(e.host=i.host,e.path=i.path.slice(),c(e)),g=we;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",g=Me}}break;case ve:if("/"==u||"\\"==u){g=_e;break}i&&"file"==i.scheme&&!l(o.slice(y).join(""))&&(a(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),g=we;continue;case _e:if(u==d||"/"==u||"\\"==u||"?"==u||"#"==u){if(!r&&a(v))g=we;else if(""==v){if(e.host="",r)return;g=be}else{if(p=n(e,v))return p;if("localhost"==e.host&&(e.host=""),r)return;v="",g=be}continue}v+=u;break;case be:if(ne(e)){if(g=we,"/"!=u&&"\\"!=u)continue}else if(r||"?"!=u)if(r||"#"!=u){if(u!=d&&(g=we,"/"!=u))continue}else e.fragment="",g=Me;else e.query="",g=Se;break;case we:if(u==d||"/"==u||"\\"==u&&ne(e)||!r&&("?"==u||"#"==u)){if(".."===(m=(m=v).toLowerCase())||"%2e."===m||".%2e"===m||"%2e%2e"===m?(c(e),"/"==u||"\\"==u&&ne(e)||e.path.push("")):"."===(f=v)||"%2e"===f.toLowerCase()?"/"==u||"\\"==u&&ne(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&a(v)&&(e.host&&(e.host=""),v=v.charAt(0)+":"),e.path.push(v)),v="","file"==e.scheme&&(u==d||"?"==u||"#"==u))for(;1<e.path.length&&""===e.path[0];)e.path.shift();"?"==u?(e.query="",g=Se):"#"==u&&(e.fragment="",g=Me)}else v+=te(u,K);break;case xe:"?"==u?(e.query="",g=Se):"#"==u?(e.fragment="",g=Me):u!=d&&(e.path[0]+=te(u,Q));break;case Se:r||"#"!=u?u!=d&&("'"==u&&ne(e)?e.query+="%27":e.query+="#"==u?"%23":te(u,Q)):(e.fragment="",g=Me);break;case Me:u!=d&&(e.fragment+=te(u,J))}y++}}function h(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}}e("../modules/es.string.iterator");var d,p=e("../internals/export"),f=e("../internals/descriptors"),m=e("../internals/native-url"),g=e("../internals/global"),y=e("../internals/object-define-properties"),v=e("../internals/redefine"),_=e("../internals/an-instance"),b=e("../internals/has"),w=e("../internals/object-assign"),x=e("../internals/array-from"),S=e("../internals/string-multibyte").codeAt,M=e("../internals/string-punycode-to-ascii"),E=e("../internals/set-to-string-tag"),T=e("../modules/web.url-search-params"),C=e("../internals/internal-state"),A=g.URL,L=T.URLSearchParams,P=T.getState,O=C.set,R=C.getterFor("URL"),k=Math.floor,j=Math.pow,D="Invalid scheme",I="Invalid host",N="Invalid port",z=/[A-Za-z]/,F=/[\d+-.A-Za-z]/,U=/\d/,B=/^(0x|0X)/,V=/^[0-7]+$/,H=/^\d+$/,G=/^[\dA-Fa-f]+$/,W=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,q=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,X=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Y=/[\u0009\u000A\u000D]/g,$=function(e){var t,r,n,i,s,o,a,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),4<(t=l.length))return e;for(r=[],n=0;n<t;n++){if(""==(i=l[n]))return e;if(s=10,1<i.length&&"0"==i.charAt(0)&&(s=B.test(i)?16:8,i=i.slice(8==s?1:2)),""===i)o=0;else{if(!(10==s?H:8==s?V:G).test(i))return e;o=parseInt(i,s)}r.push(o)}for(n=0;n<t;n++)if(o=r[n],n==t-1){if(o>=j(256,5-t))return null}else if(255<o)return null;for(a=r.pop(),n=0;n<r.length;n++)a+=r[n]*j(256,3-n);return a},Z=function(e){function t(){return e.charAt(d)}var r,n,i,s,o,a,l,c=[0,0,0,0,0,0,0,0],u=0,h=null,d=0;if(":"==t()){if(":"!=e.charAt(1))return;d+=2,h=++u}for(;t();){if(8==u)return;if(":"!=t()){for(r=n=0;n<4&&G.test(t());)r=16*r+parseInt(t(),16),d++,n++;if("."==t()){if(0==n)return;if(d-=n,6<u)return;for(i=0;t();){if(s=null,0<i){if(!("."==t()&&i<4))return;d++}if(!U.test(t()))return;for(;U.test(t());){if(o=parseInt(t(),10),null===s)s=o;else{if(0==s)return;s=10*s+o}if(255<s)return;d++}c[u]=256*c[u]+s,2!=++i&&4!=i||u++}if(4!=i)return;break}if(":"==t()){if(d++,!t())return}else if(t())return;c[u++]=r}else{if(null!==h)return;d++,h=++u}}if(null!==h)for(a=u-h,u=7;0!=u&&0<a;)l=c[u],c[u--]=c[h+a-1],c[h+--a]=l;else if(8!=u)return;return c},Q={},J=w({},Q,{" ":1,'"':1,"<":1,">":1,"`":1}),K=w({},J,{"#":1,"?":1,"{":1,"}":1}),ee=w({},K,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),te=function(e,t){var r=S(e,0);return 32<r&&r<127&&!b(t,e)?e:encodeURIComponent(e)},re={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ne=function(e){return b(re,e.scheme)},ie={},se={},oe={},ae={},le={},ce={},ue={},he={},de={},pe={},fe={},me={},ge={},ye={},ve={},_e={},be={},we={},xe={},Se={},Me={},Ee=function(e,t){var r,n,i=_(this,Ee,"URL"),s=1<arguments.length?t:void 0,o=String(e),a=O(i,{type:"URL"});if(void 0!==s)if(s instanceof Ee)r=R(s);else if(n=u(r={},String(s)))throw TypeError(n);if(n=u(a,o,null,r))throw TypeError(n);var l=a.searchParams=new L,c=P(l);c.updateSearchParams(a.query),c.updateURL=function(){a.query=String(l)||null},f||(i.href=Ce.call(i),i.origin=Ae.call(i),i.protocol=Le.call(i),i.username=Pe.call(i),i.password=Oe.call(i),i.host=Re.call(i),i.hostname=ke.call(i),i.port=je.call(i),i.pathname=De.call(i),i.search=Ie.call(i),i.searchParams=Ne.call(i),i.hash=ze.call(i))},Te=Ee.prototype,Ce=function(){var e=R(this),t=e.scheme,r=e.username,n=e.password,o=e.host,a=e.port,l=e.path,c=e.query,u=e.fragment,h=t+":";return null!==o?(h+="//",s(e)&&(h+=r+(n?":"+n:"")+"@"),h+=i(o),null!==a&&(h+=":"+a)):"file"==t&&(h+="//"),h+=e.cannotBeABaseURL?l[0]:l.length?"/"+l.join("/"):"",null!==c&&(h+="?"+c),null!==u&&(h+="#"+u),h},Ae=function(){var e=R(this),t=e.scheme,r=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&ne(e)?t+"://"+i(e.host)+(null!==r?":"+r:""):"null"},Le=function(){return R(this).scheme+":"},Pe=function(){return R(this).username},Oe=function(){return R(this).password},Re=function(){var e=R(this),t=e.host,r=e.port;return null===t?"":null===r?i(t):i(t)+":"+r},ke=function(){var e=R(this).host;return null===e?"":i(e)},je=function(){var e=R(this).port;return null===e?"":String(e)},De=function(){var e=R(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ie=function(){var e=R(this).query;return e?"?"+e:""},Ne=function(){return R(this).searchParams},ze=function(){var e=R(this).fragment;return e?"#"+e:""};if(f&&y(Te,{href:h(Ce,function(e){var t=R(this),r=u(t,String(e));if(r)throw TypeError(r);P(t.searchParams).updateSearchParams(t.query)}),origin:h(Ae),protocol:h(Le,function(e){u(R(this),String(e)+":",ie)}),username:h(Pe,function(e){var t=R(this),r=x(String(e));if(!o(t)){t.username="";for(var n=0;n<r.length;n++)t.username+=te(r[n],ee)}}),password:h(Oe,function(e){var t=R(this),r=x(String(e));if(!o(t)){t.password="";for(var n=0;n<r.length;n++)t.password+=te(r[n],ee)}}),host:h(Re,function(e){var t=R(this);t.cannotBeABaseURL||u(t,String(e),fe)}),hostname:h(ke,function(e){var t=R(this);t.cannotBeABaseURL||u(t,String(e),me)}),port:h(je,function(e){var t=R(this);o(t)||(""==(e=String(e))?t.port=null:u(t,e,ge))}),pathname:h(De,function(e){var t=R(this);t.cannotBeABaseURL||(t.path=[],u(t,e+"",be))}),search:h(Ie,function(e){var t=R(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",u(t,e,Se)),P(t.searchParams).updateSearchParams(t.query)}),searchParams:h(Ne),hash:h(ze,function(e){var t=R(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",u(t,e,Me)):t.fragment=null})}),v(Te,"toJSON",function(){return Ce.call(this)},{enumerable:!0}),v(Te,"toString",function(){return Ce.call(this)},{enumerable:!0}),A){var Fe=A.createObjectURL,Ue=A.revokeObjectURL;Fe&&v(Ee,"createObjectURL",function(e){return Fe.apply(A,arguments)}),Ue&&v(Ee,"revokeObjectURL",function(e){return Ue.apply(A,arguments)})}E(Ee,"URL"),p({global:!0,forced:!m,sham:!f},{URL:Ee})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":42,"../internals/export":49,"../internals/global":58,"../internals/has":59,"../internals/internal-state":69,"../internals/native-url":83,"../internals/object-assign":88,"../internals/object-define-properties":90,"../internals/redefine":107,"../internals/set-to-string-tag":116,"../internals/string-multibyte":122,"../internals/string-punycode-to-ascii":123,"../modules/es.string.iterator":183,"../modules/web.url-search-params":227}],229:[function(e,t,r){"use strict";t.exports=e("./").polyfill()},{"./":230}],230:[function(e,t,r){(function(n,i){var s;s=function(){"use strict";function t(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=0,o=void 0,a=void 0,l=function(e,t){m[s]=e,m[s+1]=t,2===(s+=2)&&(a?a(g):w())},c="undefined"!=typeof window?window:void 0,u=c||{},h=u.MutationObserver||u.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==n&&"[object process]"==={}.toString.call(n),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var e=setTimeout;return function(){return e(g,1)}}var m=new Array(1e3);function g(){for(var e=0;e<s;e+=2)(0,m[e])(m[e+1]),m[e]=void 0,m[e+1]=void 0;s=0}var y,v,_,b,w=void 0;function x(e,t){var r=this,n=new this.constructor(E);void 0===n[M]&&I(n);var i=r._state;if(i){var s=arguments[i-1];l(function(){return j(i,n,s,r._result)})}else R(r,n,e,t);return n}function S(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(E);return A(t,e),t}w=d?function(){return n.nextTick(g)}:h?(v=0,_=new h(g),b=document.createTextNode(""),_.observe(b,{characterData:!0}),function(){b.data=v=++v%2}):p?((y=new MessageChannel).port1.onmessage=g,function(){return y.port2.postMessage(0)}):void 0===c&&"function"==typeof e?function(){try{var e=Function("return this")().require("vertx");return void 0!==(o=e.runOnLoop||e.runOnContext)?function(){o(g)}:f()}catch(e){return f()}}():f();var M=Math.random().toString(36).substring(2);function E(){}var T=void 0;function C(e,r,n){var i,s;r.constructor===e.constructor&&n===x&&r.constructor.resolve===S?(i=e,1===(s=r)._state?P(i,s._result):2===s._state?O(i,s._result):R(s,void 0,function(e){return A(i,e)},function(e){return O(i,e)})):void 0===n?P(e,r):t(n)?function(e,t,r){l(function(e){var n=!1,i=function(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}(r,t,function(r){n||(n=!0,t!==r?A(e,r):P(e,r))},function(t){n||(n=!0,O(e,t))});!n&&i&&(n=!0,O(e,i))},e)}(e,r,n):P(e,r)}function A(e,t){if(e===t)O(e,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(n=t),null===n||"object"!=i&&"function"!=i)P(e,t);else{var r=void 0;try{r=t.then}catch(t){return void O(e,t)}C(e,t,r)}var n,i}function L(e){e._onerror&&e._onerror(e._result),k(e)}function P(e,t){e._state===T&&(e._result=t,e._state=1,0!==e._subscribers.length&&l(k,e))}function O(e,t){e._state===T&&(e._state=2,e._result=t,l(L,e))}function R(e,t,r,n){var i=e._subscribers,s=i.length;e._onerror=null,i[s]=t,i[s+1]=r,i[s+2]=n,0===s&&e._state&&l(k,e)}function k(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,i=void 0,s=e._result,o=0;o<t.length;o+=3)i=t[o+r],(n=t[o])?j(r,n,i,s):i(s);e._subscribers.length=0}}function j(e,r,n,i){var s=t(n),o=void 0,a=void 0,l=!0;if(s){try{o=n(i)}catch(e){l=!1,a=e}if(r===o)return void O(r,new TypeError("A promises callback cannot return that same promise."))}else o=i;r._state!==T||(s&&l?A(r,o):!1===l?O(r,a):1===e?P(r,o):2===e&&O(r,o))}var D=0;function I(e){e[M]=D++,e._state=void 0,e._result=void 0,e._subscribers=[]}var N=(z.prototype._enumerate=function(e){for(var t=0;this._state===T&&t<e.length;t++)this._eachEntry(e[t],t)},z.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===S){var i=void 0,s=void 0,o=!1;try{i=e.then}catch(t){o=!0,s=t}if(i===x&&e._state!==T)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(r===F){var a=new r(E);o?O(a,s):C(a,e,i),this._willSettleAt(a,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},z.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===T&&(this._remaining--,2===e?O(n,r):this._result[t]=r),0===this._remaining&&P(n,this._result)},z.prototype._willSettleAt=function(e,t){var r=this;R(e,void 0,function(e){return r._settledAt(1,t,e)},function(e){return r._settledAt(2,t,e)})},z);function z(e,t){this._instanceConstructor=e,this.promise=new e(E),this.promise[M]||I(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?P(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&P(this.promise,this._result))):O(this.promise,new Error("Array Methods must be provided an Array"))}var F=(U.prototype.catch=function(e){return this.then(null,e)},U.prototype.finally=function(e){var r=this.constructor;return t(e)?this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})}):this.then(e,e)},U);function U(e){this[M]=D++,this._result=this._state=void 0,this._subscribers=[],E!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof U?function(e,t){try{t(function(t){A(e,t)},function(t){O(e,t)})}catch(t){O(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return F.prototype.then=x,F.all=function(e){return new N(this,e).promise},F.race=function(e){var t=this;return r(e)?new t(function(r,n){for(var i=e.length,s=0;s<i;s++)t.resolve(e[s]).then(r,n)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},F.resolve=S,F.reject=function(e){var t=new this(E);return O(t,e),t},F._setScheduler=function(e){a=e},F._setAsap=function(e){l=e},F._asap=l,F.polyfill=function(){var e=void 0;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=F},F.Promise=F},"object"==typeof r&&void 0!==t?t.exports=s():this.ES6Promise=s()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:238}],231:[function(e,t,r){!function(e,n){if(void 0!==r&&void 0!==t)n(0,t);else{var i={exports:{}};n(0,i),e.fetchJsonp=i.exports}}(this,function(e,t){"use strict";var r="callback";function n(t){try{delete window[t]}catch(e){window[t]=void 0}}function i(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}t.exports=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=e,o=t.timeout||5e3,a=t.jsonpCallback||r,l=void 0;return new Promise(function(r,c){var u=t.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),h=a+"_"+u;window[u]=function(e){r({ok:!0,json:function(){return Promise.resolve(e)}}),l&&clearTimeout(l),i(h),n(u)},s+=-1===s.indexOf("?")?"?":"&";var d=document.createElement("script");d.setAttribute("src",""+s+a+"="+u),t.charset&&d.setAttribute("charset",t.charset),d.id=h,document.getElementsByTagName("head")[0].appendChild(d),l=setTimeout(function(){c(new Error("JSONP request to "+e+" timed out")),n(u),i(h),window[u]=function(){n(u)}},o),d.onerror=function(){c(new Error("JSONP request to "+e+" failed")),n(u),i(h),l&&clearTimeout(l)}})}})},{}],232:[function(e,t,r){var n=n||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=function(){return e.URL||e.webkitURL||e},r=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in r,i=/constructor/i.test(e.HTMLElement)||e.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),o=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},a=function(e){setTimeout(function(){"string"==typeof e?t().revokeObjectURL(e):e.remove()},4e4)},l=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},c=function(c,u,h){function d(){!function(e,t,r){for(var n=(t=[].concat(t)).length;n--;){var i=e["on"+t[n]];if("function"==typeof i)try{i.call(e,e)}catch(e){o(e)}}}(f,"writestart progress write writeend".split(" "))}h||(c=l(c));var p,f=this,m="application/octet-stream"===c.type;if(f.readyState=f.INIT,n)return p=t().createObjectURL(c),void setTimeout(function(){var e,t;r.href=p,r.download=u,e=r,t=new MouseEvent("click"),e.dispatchEvent(t),d(),a(p),f.readyState=f.DONE});!function(){if((s||m&&i)&&e.FileReader){var r=new FileReader;return r.onloadend=function(){var t=s?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,f.readyState=f.DONE,d()},r.readAsDataURL(c),f.readyState=f.INIT}p=p||t().createObjectURL(c),m?e.location.href=p:e.open(p,"_blank")||(e.location.href=p),f.readyState=f.DONE,d(),a(p)}()},u=c.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,r){return t=t||e.name||"download",r||(e=l(e)),navigator.msSaveOrOpenBlob(e,t)}:(u.abort=function(){},u.readyState=u.INIT=0,u.WRITING=1,u.DONE=2,u.error=u.onwritestart=u.onprogress=u.onwrite=u.onabort=u.onerror=u.onwriteend=null,function(e,t,r){return new c(e,t||e.name||"download",r)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==t&&t.exports&&(t.exports.saveAs=n)},{}],233:[function(e,t,r){r.read=function(e,t,r,n,i){var s,o,a=8*i-n-1,l=(1<<a)-1,c=l>>1,u=-7,h=r?i-1:0,d=r?-1:1,p=e[t+h];for(h+=d,s=p&(1<<-u)-1,p>>=-u,u+=a;0<u;s=256*s+e[t+h],h+=d,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=n;0<u;o=256*o+e[t+h],h+=d,u-=8);if(0===s)s=1-c;else{if(s===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),s-=c}return(p?-1:1)*o*Math.pow(2,s-n)},r.write=function(e,t,r,n,i,s){var o,a,l,c=8*s-i-1,u=(1<<c)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),2<=(t+=1<=o+h?d/l:d*Math.pow(2,1-h))*l&&(o++,l/=2),u<=o+h?(a=0,o=u):1<=o+h?(a=(t*l-1)*Math.pow(2,i),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));8<=i;e[r+p]=255&a,p+=f,a/=256,i-=8);for(o=o<<i|a,c+=i;0<c;e[r+p]=255&o,p+=f,o/=256,c-=8);e[r+p-f]|=128*m}},{}],234:[function(e,t,r){"use strict";var n;function i(e,t){return e.b===t.b&&e.a===t.a}function s(e,t){return e.b<t.b||e.b===t.b&&e.a<=t.a}function o(e,t,r){var n=t.b-e.b,i=r.b-t.b;return 0<n+i?n<i?t.a-e.a+n/(n+i)*(e.a-r.a):t.a-r.a+i/(n+i)*(r.a-e.a):0}function a(e,t,r){var n=t.b-e.b,i=r.b-t.b;return 0<n+i?(t.a-r.a)*n+(t.a-e.a)*i:0}function l(e,t){return e.a<t.a||e.a===t.a&&e.b<=t.b}function c(e,t,r){var n=t.a-e.a,i=r.a-t.a;return 0<n+i?n<i?t.b-e.b+n/(n+i)*(e.b-r.b):t.b-r.b+i/(n+i)*(r.b-e.b):0}function u(e,t,r){var n=t.a-e.a,i=r.a-t.a;return 0<n+i?(t.b-r.b)*n+(t.b-e.b)*i:0}function h(e,t,r,n){return(e=e<0?0:e)<=(r=r<0?0:r)?0===r?(t+n)/2:t+e/(e+r)*(n-t):n+r/(e+r)*(t-n)}function d(e){var t=y(e.b);return _(t,e.c),_(t.b,e.c),b(t,e.a),t}function p(e,t){var r=!1,n=!1;e!==t&&(t.a!==e.a&&(n=!0,x(t.a,e.a)),t.d!==e.d&&(r=!0,S(t.d,e.d)),v(t,e),n||(_(t,e.a),e.a.c=e),r||(b(t,e.d),e.d.a=e))}function f(e){var t=e.b,r=!1;e.d!==e.b.d&&(r=!0,S(e.d,e.b.d)),e.c===e?x(e.a,null):(e.b.d.a=Q(e),e.a.c=e.c,v(e,Q(e)),r||b(e,e.d)),t.c===t?(x(t.a,null),S(t.d,null)):(e.d.a=Q(t),t.a.c=t.c,v(t,Q(t))),w(e)}function m(e){var t=y(e),r=t.b;return v(t,e.e),t.a=e.b.a,_(r,t.a),t.d=r.d=e.d,t=t.b,v(e.b,Q(e.b)),v(e.b,t),e.b.a=t.a,t.b.a.c=t.b,t.b.d=e.b.d,t.f=e.f,t.b.f=e.b.f,t}function g(e,t){var r=!1,n=y(e),i=n.b;return t.d!==e.d&&(r=!0,S(t.d,e.d)),v(n,e.e),v(i,t),n.a=e.b.a,i.a=t.a,n.d=i.d=e.d,e.d.a=i,r||b(n,e.d),n}function y(e){var t=new Z,r=new Z;return(((r.h=e.b.h).b.h=t).h=e).b.h=r,t.b=r,((t.c=t).e=r).b=t,(r.c=r).e=t}function v(e,t){var r=e.c,n=t.c;r.b.e=t,(n.b.e=e).c=n,t.c=r}function _(e,t){var r=t.f,n=new K(t,r);for(r.e=n,r=(t.f=n).c=e;r.a=n,(r=r.c)!==e;);}function b(e,t){var r=t.d,n=new $(t,r);for(r.b=n,(t.d=n).a=e,n.c=t.c,r=e;r.d=n,(r=r.e)!==e;);}function w(e){var t=e.h;(t.b.h=e=e.b.h).b.h=t}function x(e,t){for(var r=e.c,n=r;n.a=t,(n=n.c)!==r;);((n=e.e).f=r=e.f).e=n}function S(e,t){for(var r=e.a,n=r;n.d=t,(n=n.e)!==r;);((n=e.b).d=r=e.d).b=n}function M(e){var t=0;return Math.abs(e[1])>Math.abs(e[0])&&(t=1),Math.abs(e[2])>Math.abs(e[t])&&(t=2),t}function E(e,t){e.f+=t.f,e.b.f+=t.b.f}function T(e,t,r){return r=r.a,(t=t.a).b.a===(e=e.a)?r.b.a===e?s(t.a,r.a)?a(r.b.a,t.a,r.a)<=0:0<=a(t.b.a,r.a,t.a):a(r.b.a,e,r.a)<=0:r.b.a===e?0<=a(t.b.a,e,t.a):(t=o(t.b.a,e,t.a),(e=o(r.b.a,e,r.a))<=t)}function C(e){e.a.i=null;var t=e.e;t.a.c=t.c,t.c.a=t.a,e.e=null}function A(e,t){f(e.a),e.c=!1,(e.a=t).i=e}function L(e){for(var t=e.a.a;(e=he(e)).a.a===t;);return e.c&&(A(e,t=g(ue(e).a.b,e.a.e)),e=he(e)),e}function P(e,t,r){var n=new ce;return n.a=r,n.e=G(e.f,t.e,n),r.i=n}function O(e,t){switch(e.s){case 100130:return 0!=(1&t);case 100131:return 0!==t;case 100132:return 0<t;case 100133:return t<0;case 100134:return 2<=t||t<=-2}return!1}function R(e){var t=e.a,r=t.d;r.c=e.d,r.a=t,C(e)}function k(e,t,r){for(t=(e=t).a;e!==r;){e.c=!1;var n=ue(e),i=n.a;if(i.a!==t.a){if(!n.c){R(e);break}A(n,i=g(t.c.b,i.b))}t.c!==i&&(p(Q(i),i),p(t,i)),R(e),t=n.a,e=n}return t}function j(e,t,r,n,i,s){for(var o=!0;P(e,t,r.b),(r=r.c)!==n;);for(null===i&&(i=ue(t).a.b.c);(r=(n=ue(t)).a.b).a===i.a;)r.c!==i&&(p(Q(r),r),p(Q(i),r)),n.f=t.f-r.f,n.d=O(e,n.f),t.b=!0,!o&&z(e,t)&&(E(r,i),C(t),f(i)),o=!1,t=n,i=r;t.b=!0,s&&U(e,t)}function D(e,t,r,n,i){var s=[t.g[0],t.g[1],t.g[2]];t.d=null,t.d=e.o&&e.o(s,r,n,e.c)||null,null===t.d&&(i?e.n||(Y(e,100156),e.n=!0):t.d=r[0])}function I(e,t,r){var n=[null,null,null,null];n[0]=t.a.d,n[1]=r.a.d,D(e,t.a,n,[.5,.5,0,0],!1),p(t,r)}function N(e,t,r,n,i){var s=Math.abs(t.b-e.b)+Math.abs(t.a-e.a),o=Math.abs(r.b-e.b)+Math.abs(r.a-e.a),a=i+1;n[i]=.5*o/(s+o),n[a]=.5*s/(s+o),e.g[0]+=n[i]*t.g[0]+n[a]*r.g[0],e.g[1]+=n[i]*t.g[1]+n[a]*r.g[1],e.g[2]+=n[i]*t.g[2]+n[a]*r.g[2]}function z(e,t){var r=ue(t),n=t.a,o=r.a;if(s(n.a,o.a)){if(0<a(o.b.a,n.a,o.a))return!1;if(i(n.a,o.a)){if(n.a!==o.a){r=e.e;var l=n.a.h;if(0<=l){var c=(r=r.b).d,u=r.e,h=r.c,d=h[l];c[d]=c[r.a],(h[c[d]]=d)<=--r.a&&(d<=1||s(u[c[d>>1]],u[c[d]])?ae(r,d):le(r,d)),u[l]=null,h[l]=r.b,r.b=l}else for(r.c[-(l+1)]=null;0<r.a&&null===r.c[r.d[r.a-1]];)--r.a;I(e,Q(o),n)}}else m(o.b),p(n,Q(o)),t.b=r.b=!0}else{if(a(n.b.a,o.a,n.a)<0)return!1;he(t).b=t.b=!0,m(n.b),p(Q(o),n)}return!0}function F(e,t){var r=ue(t),n=t.a,d=r.a,f=n.a,g=d.a,y=n.b.a,v=d.b.a,_=new K;if(a(y,e.a,f),a(v,e.a,g),f===g||Math.min(f.a,y.a)>Math.max(g.a,v.a))return!1;if(s(f,g)){if(0<a(v,f,g))return!1}else if(a(y,g,f)<0)return!1;var b,w,x=y,S=f,M=v,E=g;if(s(x,S)||(b=x,x=S,S=b),s(M,E)||(b=M,M=E,E=b),s(x,M)||(b=x,x=M,M=b,b=S,S=E,E=b),s(M,S)?s(S,E)?((b=o(x,M,S))+(w=o(M,S,E))<0&&(b=-b,w=-w),_.b=h(b,M.b,w,S.b)):((b=a(x,M,S))+(w=-a(x,E,S))<0&&(b=-b,w=-w),_.b=h(b,M.b,w,E.b)):_.b=(M.b+S.b)/2,l(x,S)||(b=x,x=S,S=b),l(M,E)||(b=M,M=E,E=b),l(x,M)||(b=x,x=M,M=b,b=S,S=E,E=b),l(M,S)?l(S,E)?((b=c(x,M,S))+(w=c(M,S,E))<0&&(b=-b,w=-w),_.a=h(b,M.a,w,S.a)):((b=u(x,M,S))+(w=-u(x,E,S))<0&&(b=-b,w=-w),_.a=h(b,M.a,w,E.a)):_.a=(M.a+S.a)/2,s(_,e.a)&&(_.b=e.a.b,_.a=e.a.a),x=s(f,g)?f:g,s(x,_)&&(_.b=x.b,_.a=x.a),i(_,f)||i(_,g))return z(e,t),!1;if(!i(y,e.a)&&0<=a(y,e.a,_)||!i(v,e.a)&&a(v,e.a,_)<=0){if(v===e.a)return m(n.b),p(d.b,n),n=ue(t=L(t)).a,k(e,ue(t),r),j(e,t,Q(n),n,n,!0),!0;if(y!==e.a)return 0<=a(y,e.a,_)&&(he(t).b=t.b=!0,m(n.b),n.a.b=e.a.b,n.a.a=e.a.a),a(v,e.a,_)<=0&&(t.b=r.b=!0,m(d.b),d.a.b=e.a.b,d.a.a=e.a.a),!1;for(m(d.b),p(n.e,Q(d)),g=(f=r=t).a.b.a;(f=he(f)).a.b.a===g;);return f=ue(t=f).a.b.c,r.a=Q(d),j(e,t,(d=k(e,r,null)).c,n.b.c,f,!0),!0}return m(n.b),m(d.b),p(Q(d),n),n.a.b=_.b,n.a.a=_.a,n.a.h=te(e.e,n.a),d=[0,0,0,0],_=[f.d,y.d,g.d,v.d],(n=n.a).g[0]=n.g[1]=n.g[2]=0,N(n,f,y,d,0),N(n,g,v,d,2),D(e,n,_,d,!0),he(t).b=t.b=r.b=!0,!1}function U(e,t){for(var r=ue(t);;){for(;r.b;)r=ue(t=r);if(!(t.b||null!==(t=he(r=t))&&t.b))break;t.b=!1;var n,i=t.a,o=r.a;if(n=i.b.a!==o.b.a)e:{var l=ue(n=t),c=n.a,u=l.a,h=void 0;if(s(c.b.a,u.b.a)){if(a(c.b.a,u.b.a,c.a)<0){n=!1;break e}he(n).b=n.b=!0,h=m(c),p(u.b,h),h.d.c=n.d}else{if(0<a(u.b.a,c.b.a,u.a)){n=!1;break e}n.b=l.b=!0,h=m(u),p(c.e,u.b),h.b.d.c=n.d}n=!0}if(n&&(r.c?(C(r),f(o),o=(r=ue(t)).a):t.c&&(C(t),f(i),i=(t=he(r)).a)),i.a!==o.a)if(i.b.a===o.b.a||t.c||r.c||i.b.a!==e.a&&o.b.a!==e.a)z(e,t);else if(F(e,t))break;i.a===o.a&&i.b.a===o.b.a&&(E(o,i),C(t),f(i),t=he(r))}}function B(e,t){for(var r=(e.a=t).c;null===r.i;)if((r=r.c)===t.c){r=e;var n=t;(c=new ce).a=n.c.b;for(var o=(h=r.f).a;null!==(o=o.a).b&&!h.c(h.b,c,o.b););var l=ue(h=o.b),c=h.a;if(o=l.a,0===a(c.b.a,n,c.a))i((c=h.a).a,n)||i(c.b.a,n)||(m(c.b),h.c&&(f(c.c),h.c=!1),p(n.c,c),B(r,n));else{var u=s(o.b.a,c.b.a)?h:l;l=void 0,h.d||u.c?(l=u===h?g(n.c.b,c.e):g(o.b.c.b,n.c).b,u.c?A(u,l):((h=P(c=r,h,l)).f=he(h).f+h.a.f,h.d=O(c,h.f)),B(r,n)):j(r,h,n.c,n.c,null,!0)}return}if(h=(c=ue(r=L(r.i))).a,(c=k(e,c,null)).c===h){c=(h=c).c,o=ue(r);var h,d=!1;(l=r.a).b.a!==(u=o.a).b.a&&F(e,r),i(l.a,e.a)&&(p(Q(c),l),c=ue(r=L(r)).a,k(e,ue(r),o),d=!0),i(u.a,e.a)&&(p(h,Q(u)),h=k(e,o,null),d=!0),d?j(e,r,h.c,c,c,!0):(n=s(u.a,l.a)?Q(u):l,j(e,r,n=g(h.c.b,n),n.c,n.c,!1),n.b.i.c=!0,U(e,r))}else j(e,r,c.c,h,h,!0)}function V(e,t){var r=new ce,n=d(e.b);n.a.b=4e150,n.a.a=t,n.b.a.b=-4e150,n.b.a.a=t,e.a=n.b.a,r.a=n,r.f=0,r.d=!1,r.c=!1,r.h=!0,r.b=!1,n=G(n=e.f,n.a,r),r.e=n}function H(e){this.a=new W,this.b=e,this.c=T}function G(e,t,r){for(;null!==(t=t.c).b&&!e.c(e.b,t.b,r););return e=new W(r,t.a,t),t.a.c=e,t.a=e}function W(e,t,r){this.b=e||null,this.a=t||this,this.c=r||this}function q(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function X(e,t){if(e.d!==t)for(;e.d!==t;)if(e.d<t)switch(e.d){case 0:Y(e,100151),e.u(null);break;case 1:Y(e,100152),e.t()}else switch(e.d){case 2:Y(e,100154),e.v();break;case 1:Y(e,100153),e.w()}}function Y(e,t){e.p&&e.p(t,e.c)}function $(e,t){this.b=e||this,this.d=t||this,this.a=null,this.c=!1}function Z(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Q(e){return e.b.e}function J(){this.c=new K,this.a=new $,this.b=new Z,this.d=new Z,this.b.b=this.d,this.d.b=this.b}function K(e,t){this.e=e||this,this.f=t||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function ee(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new ne}function te(e,t){if(e.e){var r,n=e.b,i=++n.a;return 2*i>n.f&&(n.f*=2,n.c=ie(n.c,n.f+1)),0===n.b?r=i:(r=n.b,n.b=n.c[n.b]),n.e[r]=t,n.c[r]=i,n.d[i]=r,n.h&&le(n,i),r}return n=e.a++,e.c[n]=t,-(n+1)}function re(e){if(0===e.a)return oe(e.b);var t=e.c[e.d[e.a-1]];if(0!==e.b.a&&s(se(e.b),t))return oe(e.b);for(;--e.a,0<e.a&&null===e.c[e.d[e.a-1]];);return t}function ne(){this.d=ie([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function ie(e,t){for(var r=Array(t),n=0;n<e.length;n++)r[n]=e[n];for(;n<t;n++)r[n]=0;return r}function se(e){return e.e[e.d[1]]}function oe(e){var t=e.d,r=e.e,n=e.c,i=t[1],s=r[i];return 0<e.a&&(t[1]=t[e.a],n[t[1]]=1,r[i]=null,n[i]=e.b,e.b=i,0<--e.a&&ae(e,1)),s}function ae(e,t){for(var r=e.d,n=e.e,i=e.c,o=t,a=r[o];;){var l=o<<1;l<e.a&&s(n[r[l+1]],n[r[l]])&&(l+=1);var c=r[l];if(l>e.a||s(n[a],n[c])){i[r[o]=a]=o;break}i[r[o]=c]=o,o=l}}function le(e,t){for(var r=e.d,n=e.e,i=e.c,o=t,a=r[o];;){var l=o>>1,c=r[l];if(0==l||s(n[c],n[a])){i[r[o]=a]=o;break}i[r[o]=c]=o,o=l}}function ce(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function ue(e){return e.e.c.b}function he(e){return e.e.a.b}(n=q.prototype).x=function(){X(this,0)},n.B=function(e,t){switch(e){case 100142:return;case 100140:switch(t){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=t)}break;case 100141:return void(this.m=!!t);default:return void Y(this,100900)}Y(this,100901)},n.y=function(e){switch(e){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Y(this,100900)}return!1},n.A=function(e,t,r){this.j[0]=e,this.j[1]=t,this.j[2]=r},n.z=function(e,t){var r=t||null;switch(e){case 100100:case 100106:this.h=r;break;case 100104:case 100110:this.l=r;break;case 100101:case 100107:this.k=r;break;case 100102:case 100108:this.i=r;break;case 100103:case 100109:this.p=r;break;case 100105:case 100111:this.o=r;break;case 100112:this.r=r;break;default:Y(this,100900)}},n.C=function(e,t){var r=!1,n=[0,0,0];X(this,2);for(var i=0;i<3;++i){var s=e[i];s<-1e150&&(s=-1e150,r=!0),1e150<s&&(s=1e150,r=!0),n[i]=s}r&&Y(this,100155),null===(r=this.q)?p(r=d(this.b),r.b):(m(r),r=r.e),r.a.d=t,r.a.g[0]=n[0],r.a.g[1]=n[1],r.a.g[2]=n[2],r.f=1,r.b.f=-1,this.q=r},n.u=function(e){X(this,0),this.d=1,this.b=new J,this.c=e},n.t=function(){X(this,1),this.d=2,this.q=null},n.v=function(){X(this,2),this.d=1},n.w=function(){X(this,1),this.d=0;var e,t,r=!1,n=[h=this.j[0],o=this.j[1],c=this.j[2]];if(0===h&&0===o&&0===c){for(var o=[-2e150,-2e150,-2e150],l=[2e150,2e150,2e150],c=[],u=[],h=(r=this.b.c).e;h!==r;h=h.e)for(var d=0;d<3;++d){var p=h.g[d];p<l[d]&&(l[d]=p,u[d]=h),p>o[d]&&(o[d]=p,c[d]=h)}if(h=0,o[1]-l[1]>o[0]-l[0]&&(h=1),o[2]-l[2]>o[h]-l[h]&&(h=2),l[h]>=o[h])n[0]=0,n[1]=0,n[2]=1;else{for(o=0,l=u[h],u=[0,0,0],l=[l.g[0]-(c=c[h]).g[0],l.g[1]-c.g[1],l.g[2]-c.g[2]],d=[0,0,0],h=r.e;h!==r;h=h.e)d[0]=h.g[0]-c.g[0],d[1]=h.g[1]-c.g[1],d[2]=h.g[2]-c.g[2],u[0]=l[1]*d[2]-l[2]*d[1],u[1]=l[2]*d[0]-l[0]*d[2],u[2]=l[0]*d[1]-l[1]*d[0],o<(p=u[0]*u[0]+u[1]*u[1]+u[2]*u[2])&&(o=p,n[0]=u[0],n[1]=u[1],n[2]=u[2]);o<=0&&(n[0]=n[1]=n[2]=0,n[M(l)]=1)}r=!0}for(o=((u=M(n))+1)%3,c=(u+2)%3,u=0<n[u]?1:-1,n=(h=this.b.c).e;n!==h;n=n.e)n.b=n.g[o],n.a=u*n.g[c];if(r){for(n=0,h=(r=this.b.a).b;h!==r;h=h.b)if(!((o=h.a).f<=0))for(;n+=(o.a.b-o.b.a.b)*(o.a.a+o.b.a.a),(o=o.e)!==h.a;);if(n<0)for(r=(n=this.b.c).e;r!==n;r=r.e)r.a=-r.a}for(this.n=!1,h=(n=this.b.b).h;h!==n;h=r)r=h.h,o=h.e,i(h.a,h.b.a)&&h.e.e!==h&&(I(this,o,h),f(h),o=(h=o).e),o.e===h&&(o!==h&&(o!==r&&o!==r.b||(r=r.h),f(o)),h!==r&&h!==r.b||(r=r.h),f(h));for(this.e=n=new ee,h=(r=this.b.c).e;h!==r;h=h.e)h.h=te(n,h);for(function(e){e.d=[];for(var t=0;t<e.a;t++)e.d[t]=t;e.d.sort(function(e){return function(t,r){return s(e[t],e[r])?1:-1}}(e.c)),e.e=!0,function(e){for(var t=e.a;1<=t;--t)ae(e,t);e.h=!0}(e.b)}(n),this.f=new H(this),V(this,-4e150),V(this,4e150);null!==(n=re(this.e));){for(;;){e:if(h=this.e,0===h.a)r=se(h.b);else if(r=h.c[h.d[h.a-1]],0!==h.b.a&&(h=se(h.b),s(h,r))){r=h;break e}if(null===r||!i(r,n))break;r=re(this.e),I(this,n.c,r.c)}B(this,n)}for(this.a=this.f.a.a.b.a.a,n=0;null!==(r=this.f.a.a.b);)r.h||++n,C(r);for(this.f=null,(n=this.e).b=null,n.d=null,this.e=n.c=null,h=(n=this.b).a.b;h!==n.a;h=r)r=h.b,(h=h.a).e.e===h&&(E(h.c,h),f(h));if(!this.n){if(n=this.b,this.m)for(h=n.b.h;h!==n.b;h=r)r=h.h,h.b.d.c!==h.d.c?h.f=h.d.c?1:-1:f(h);else for(h=n.a.b;h!==n.a;h=r)if(r=h.b,h.c){for(h=h.a;s(h.b.a,h.a);h=h.c.b);for(;s(h.a,h.b.a);h=h.e);for(o=h.c.b,c=void 0;h.e!==o;)if(s(h.b.a,o.a)){for(;o.e!==h&&(s((t=o.e).b.a,t.a)||a(o.a,o.b.a,o.e.b.a)<=0);)o=(c=g(o.e,o)).b;o=o.c.b}else{for(;o.e!==h&&(s((e=h.c.b).a,e.b.a)||0<=a(h.b.a,h.a,h.c.b.a));)h=(c=g(h,h.c.b)).b;h=h.e}for(;o.e.e!==h;)o=(c=g(o.e,o)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(r=(n=this.b).a.b;r!==n.a;r=r.b)if(r.c){for(this.h&&this.h(2,this.c),h=r.a;this.k&&this.k(h.a.d,this.c),(h=h.e)!==r.a;);this.i&&this.i(this.c)}}else{for(r=!!this.l,h=!1,o=-1,c=(n=this.b).a.d;c!==n.a;c=c.d)if(c.c)for(h||(this.h&&this.h(4,this.c),h=!0),u=c.a;r&&o!==(l=u.b.d.c?0:1)&&(o=l,this.l&&this.l(!!o,this.c)),this.k&&this.k(u.a.d,this.c),(u=u.e)!==c.a;);h&&this.i&&this.i(this.c)}if(this.r){for(h=(n=this.b).a.b;h!==n.a;h=r)if(r=h.b,!h.c){for(c=(o=h.a).e,u=void 0;c=(u=c).e,(u.d=null)===u.b.d&&(u.c===u?x(u.a,null):(u.a.c=u.c,v(u,Q(u))),(l=u.b).c===l?x(l.a,null):(l.a.c=l.c,v(l,Q(l))),w(u)),u!==o;);o=h.d,((h=h.b).d=o).b=h}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:q,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},q.prototype.gluDeleteTess=q.prototype.x,q.prototype.gluTessProperty=q.prototype.B,q.prototype.gluGetTessProperty=q.prototype.y,q.prototype.gluTessNormal=q.prototype.A,q.prototype.gluTessCallback=q.prototype.z,q.prototype.gluTessVertex=q.prototype.C,q.prototype.gluTessBeginPolygon=q.prototype.u,q.prototype.gluTessBeginContour=q.prototype.t,q.prototype.gluTessEndContour=q.prototype.v,q.prototype.gluTessEndPolygon=q.prototype.w,void 0!==t&&(t.exports=this.libtess)},{}],235:[function(e,t,r){"use strict";function n(e,t,r,n){for(var i=e[t++],s=1<<i,o=1+s,a=1+o,l=i+1,c=(1<<l)-1,u=0,h=0,d=0,p=e[t++],f=new Int32Array(4096),m=null;;){for(;u<16&&0!==p;)h|=e[t++]<<u,u+=8,1===p?p=e[t++]:--p;if(u<l)break;var g=h&c;if(h>>=l,u-=l,g!=s){if(g==o)break;for(var y=g<a?g:m,v=0,_=y;s<_;)_=f[_]>>8,++v;var b=_;if(n<d+v+(y!==g?1:0))return void console.log("Warning, gif stream longer than expected.");r[d++]=b;var w=d+=v;for(y!==g&&(r[d++]=b),_=y;v--;)r[--w]=255&(_=f[_]),_>>=8;null!==m&&a<4096&&(f[a++]=m<<8|b,c+1<=a&&l<12&&(++l,c=c<<1|1)),m=g}else a=1+o,c=(1<<(l=i+1))-1,m=null}return d!==n&&console.log("Warning, gif stream shorter than expected."),r}try{r.GifWriter=function(e,t,r,n){var i=0,s=void 0===(n=void 0===n?{}:n).loop?null:n.loop,o=void 0===n.palette?null:n.palette;if(t<=0||r<=0||65535<t||65535<r)throw new Error("Width/Height invalid.");function a(e){var t=e.length;if(t<2||256<t||t&t-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return t}e[i++]=71,e[i++]=73,e[i++]=70,e[i++]=56,e[i++]=57,e[i++]=97;var l=0,c=0;if(null!==o){for(var u=a(o);u>>=1;)++l;if(u=1<<l,--l,void 0!==n.background){if(u<=(c=n.background))throw new Error("Background index out of range.");if(0===c)throw new Error("Background index explicitly passed as 0.")}}if(e[i++]=255&t,e[i++]=t>>8&255,e[i++]=255&r,e[i++]=r>>8&255,e[i++]=(null!==o?128:0)|l,e[i++]=c,e[i++]=0,null!==o)for(var h=0,d=o.length;h<d;++h){var p=o[h];e[i++]=p>>16&255,e[i++]=p>>8&255,e[i++]=255&p}if(null!==s){if(s<0||65535<s)throw new Error("Loop count invalid.");e[i++]=33,e[i++]=255,e[i++]=11,e[i++]=78,e[i++]=69,e[i++]=84,e[i++]=83,e[i++]=67,e[i++]=65,e[i++]=80,e[i++]=69,e[i++]=50,e[i++]=46,e[i++]=48,e[i++]=3,e[i++]=1,e[i++]=255&s,e[i++]=s>>8&255,e[i++]=0}var f=!1;this.addFrame=function(t,r,n,s,l,c){if(!0===f&&(--i,f=!1),c=void 0===c?{}:c,t<0||r<0||65535<t||65535<r)throw new Error("x/y invalid.");if(n<=0||s<=0||65535<n||65535<s)throw new Error("Width/Height invalid.");if(l.length<n*s)throw new Error("Not enough pixels for the frame size.");var u=!0,h=c.palette;if(null==h&&(u=!1,h=o),null==h)throw new Error("Must supply either a local or global palette.");for(var d=a(h),p=0;d>>=1;)++p;d=1<<p;var m=void 0===c.delay?0:c.delay,g=void 0===c.disposal?0:c.disposal;if(g<0||3<g)throw new Error("Disposal out of range.");var y=!1,v=0;if(null!=c.transparent&&(y=!0,(v=c.transparent)<0||d<=v))throw new Error("Transparent color index.");if(0===g&&!y&&0===m||(e[i++]=33,e[i++]=249,e[i++]=4,e[i++]=g<<2|(!0===y?1:0),e[i++]=255&m,e[i++]=m>>8&255,e[i++]=v,e[i++]=0),e[i++]=44,e[i++]=255&t,e[i++]=t>>8&255,e[i++]=255&r,e[i++]=r>>8&255,e[i++]=255&n,e[i++]=n>>8&255,e[i++]=255&s,e[i++]=s>>8&255,e[i++]=!0===u?128|p-1:0,!0===u)for(var _=0,b=h.length;_<b;++_){var w=h[_];e[i++]=w>>16&255,e[i++]=w>>8&255,e[i++]=255&w}return i=function(e,t,r,n){e[t++]=r;var i=t++,s=1<<r,o=s-1,a=1+s,l=1+a,c=r+1,u=0,h=0;function d(r){for(;r<=u;)e[t++]=255&h,h>>=8,u-=8,t===i+256&&(e[i]=255,i=t++)}function p(e){h|=e<<u,u+=c,d(8)}var f=n[0]&o,m={};p(s);for(var g=1,y=n.length;g<y;++g){var v=n[g]&o,_=f<<8|v,b=m[_];if(void 0===b){for(h|=f<<u,u+=c;8<=u;)e[t++]=255&h,h>>=8,u-=8,t===i+256&&(e[i]=255,i=t++);4096===l?(p(s),l=1+a,c=r+1,m={}):(1<<c<=l&&++c,m[_]=l++),f=v}else f=b}return p(f),p(a),d(1),i+1===t?e[i]=0:(e[i]=t-i-1,e[t++]=0),t}(e,i,p<2?2:p,l)},this.end=function(){return!1===f&&(e[i++]=59,f=!0),i},this.getOutputBuffer=function(){return e},this.setOutputBuffer=function(t){e=t},this.getOutputBufferPosition=function(){return i},this.setOutputBufferPosition=function(e){i=e}},r.GifReader=function(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,s=e[t++];t++,t++;var o=null,a=null;s>>7&&(o=t,t+=3*(a=1<<1+(7&s)));var l=!0,c=[],u=0,h=null,d=0,p=null;for(this.width=r,this.height=i;l&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!(0<=(E=e[t++])))throw Error("Invalid block size");if(0===E)break;t+=E}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var f=e[t++];u=e[t++]|e[t++]<<8,h=e[t++],0==(1&f)&&(h=null),d=f>>2&7,t++;break;case 254:for(;;){if(!(0<=(E=e[t++])))throw Error("Invalid block size");if(0===E)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var m=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,_=e[t++],b=_>>6&1,w=o,x=a,S=!1;_>>7&&(S=!0,w=t,t+=3*(x=1<<1+(7&_)));var M=t;for(t++;;){var E;if(!(0<=(E=e[t++])))throw Error("Invalid block size");if(0===E)break;t+=E}c.push({x:m,y:g,width:y,height:v,has_local_palette:S,palette_offset:w,palette_size:x,data_offset:M,data_length:t-M,transparent_index:h,interlaced:!!b,delay:u,disposal:d});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return p},this.frameInfo=function(e){if(e<0||e>=c.length)throw new Error("Frame index out of range.");return c[e]},this.decodeAndBlitFrameBGRA=function(t,i){var s=this.frameInfo(t),o=s.width*s.height,a=new Uint8Array(o);n(e,s.data_offset,a,o);var l=s.palette_offset,c=s.transparent_index;null===c&&(c=256);var u=s.width,h=r-u,d=u,p=4*(s.y*r+s.x),f=4*((s.y+s.height)*r+s.x),m=p,g=4*h;!0===s.interlaced&&(g+=4*r*7);for(var y=8,v=0,_=a.length;v<_;++v){var b=a[v];if(0===d&&(d=u,f<=(m+=g)&&(g=4*h+4*r*(y-1),m=p+(u+h)*(y<<1),y>>=1)),b===c)m+=4;else{var w=e[l+3*b],x=e[l+3*b+1];i[m++]=e[l+3*b+2],i[m++]=x,i[m++]=w,i[m++]=255}--d}},this.decodeAndBlitFrameRGBA=function(t,i){var s=this.frameInfo(t),o=s.width*s.height,a=new Uint8Array(o);n(e,s.data_offset,a,o);var l=s.palette_offset,c=s.transparent_index;null===c&&(c=256);var u=s.width,h=r-u,d=u,p=4*(s.y*r+s.x),f=4*((s.y+s.height)*r+s.x),m=p,g=4*h;!0===s.interlaced&&(g+=4*r*7);for(var y=8,v=0,_=a.length;v<_;++v){var b=a[v];if(0===d&&(d=u,f<=(m+=g)&&(g=4*h+4*r*(y-1),m=p+(u+h)*(y<<1),y>>=1)),b===c)m+=4;else{var w=e[l+3*b+1],x=e[l+3*b+2];i[m++]=e[l+3*b],i[m++]=w,i[m++]=x,i[m++]=255}--d}}}}catch(e){}},{}],236:[function(e,t,r){(function(n){!function(t){"use strict";function r(e){if(null==this)throw TypeError();var t=String(this),r=t.length,n=e?Number(e):0;if(n!=n&&(n=0),!(n<0||r<=n)){var i,s=t.charCodeAt(n);return 55296<=s&&s<=56319&&n+1<r&&56320<=(i=t.charCodeAt(n+1))&&i<=57343?1024*(s-55296)+i-56320+65536:s}}var i;function s(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function o(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new s,this.dtree=new s}String.prototype.codePointAt||((i=function(){try{var e={},t=Object.defineProperty,r=t(e,e,e)&&t}catch(e){}return r}())?i(String.prototype,"codePointAt",{value:r,configurable:!0,writable:!0}):String.prototype.codePointAt=r);var a=new s,l=new s,c=new Uint8Array(30),u=new Uint16Array(30),h=new Uint8Array(30),d=new Uint16Array(30),p=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),f=new s,m=new Uint8Array(320);function g(e,t,r,n){var i,s;for(i=0;i<r;++i)e[i]=0;for(i=0;i<30-r;++i)e[i+r]=i/r|0;for(s=n,i=0;i<30;++i)t[i]=s,s+=1<<e[i]}var y=new Uint16Array(16);function v(e,t,r,n){var i,s;for(i=0;i<16;++i)e.table[i]=0;for(i=0;i<n;++i)e.table[t[r+i]]++;for(i=s=e.table[0]=0;i<16;++i)y[i]=s,s+=e.table[i];for(i=0;i<n;++i)t[r+i]&&(e.trans[y[t[r+i]]++]=i)}function _(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=1&e.tag;return e.tag>>>=1,t}function b(e,t,r){if(!t)return r;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,n+r}function w(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;for(var r=0,n=0,i=0,s=e.tag;n=2*n+(1&s),s>>>=1,++i,r+=t.table[i],0<=(n-=t.table[i]););return e.tag=s,e.bitcount-=i,t.trans[r+n]}function x(e,t,r){var n,i,s,o,a,l;for(n=b(e,5,257),i=b(e,5,1),s=b(e,4,4),o=0;o<19;++o)m[o]=0;for(o=0;o<s;++o){var c=b(e,3,0);m[p[o]]=c}for(v(f,m,0,19),a=0;a<n+i;){var u=w(e,f);switch(u){case 16:var h=m[a-1];for(l=b(e,2,3);l;--l)m[a++]=h;break;case 17:for(l=b(e,3,3);l;--l)m[a++]=0;break;case 18:for(l=b(e,7,11);l;--l)m[a++]=0;break;default:m[a++]=u}}v(t,m,0,n),v(r,m,n,i)}function S(e,t,r){for(;;){var n,i,s,o,a=w(e,t);if(256===a)return 0;if(a<256)e.dest[e.destLen++]=a;else for(n=b(e,c[a-=257],u[a]),i=w(e,r),o=s=e.destLen-b(e,h[i],d[i]);o<s+n;++o)e.dest[e.destLen++]=e.dest[o]}}function M(e){for(var t,r;8<e.bitcount;)e.sourceIndex--,e.bitcount-=8;if((t=256*(t=e.source[e.sourceIndex+1])+e.source[e.sourceIndex])!==(65535&~(256*e.source[e.sourceIndex+3]+e.source[e.sourceIndex+2])))return-3;for(e.sourceIndex+=4,r=t;r;--r)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,0}function E(e,t,r,n,i){return Math.pow(1-i,3)*e+3*Math.pow(1-i,2)*i*t+3*(1-i)*Math.pow(i,2)*r+Math.pow(i,3)*n}function T(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function C(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function A(e){throw new Error(e)}function L(e,t){e||A(t)}!function(e,t){var r;for(r=0;r<7;++r)e.table[r]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,r=0;r<24;++r)e.trans[r]=256+r;for(r=0;r<144;++r)e.trans[24+r]=r;for(r=0;r<8;++r)e.trans[168+r]=280+r;for(r=0;r<112;++r)e.trans[176+r]=144+r;for(r=0;r<5;++r)t.table[r]=0;for(t.table[5]=32,r=0;r<32;++r)t.trans[r]=r}(a,l),g(c,u,4,3),g(h,d,2,1),c[28]=0,u[28]=258,T.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},T.prototype.addPoint=function(e,t){"number"==typeof e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),"number"==typeof t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},T.prototype.addX=function(e){this.addPoint(e,null)},T.prototype.addY=function(e){this.addPoint(null,e)},T.prototype.addBezier=function(e,t,r,n,i,s,o,a){var l=[e,t],c=[r,n],u=[i,s],h=[o,a];this.addPoint(e,t),this.addPoint(o,a);for(var d=0;d<=1;d++){var p=6*l[d]-12*c[d]+6*u[d],f=-3*l[d]+9*c[d]-9*u[d]+3*h[d],m=3*c[d]-3*l[d];if(0!=f){var g=Math.pow(p,2)-4*m*f;if(!(g<0)){var y=(-p+Math.sqrt(g))/(2*f);0<y&&y<1&&(0===d&&this.addX(E(l[d],c[d],u[d],h[d],y)),1===d&&this.addY(E(l[d],c[d],u[d],h[d],y)));var v=(-p-Math.sqrt(g))/(2*f);0<v&&v<1&&(0===d&&this.addX(E(l[d],c[d],u[d],h[d],v)),1===d&&this.addY(E(l[d],c[d],u[d],h[d],v)))}}else{if(0==p)continue;var _=-m/p;0<_&&_<1&&(0===d&&this.addX(E(l[d],c[d],u[d],h[d],_)),1===d&&this.addY(E(l[d],c[d],u[d],h[d],_)))}}},T.prototype.addQuad=function(e,t,r,n,i,s){var o=e+2/3*(r-e),a=t+2/3*(n-t);this.addBezier(e,t,o,a,o+1/3*(i-e),a+1/3*(s-t),i,s)},C.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})},C.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})},C.prototype.curveTo=C.prototype.bezierCurveTo=function(e,t,r,n,i,s){this.commands.push({type:"C",x1:e,y1:t,x2:r,y2:n,x:i,y:s})},C.prototype.quadTo=C.prototype.quadraticCurveTo=function(e,t,r,n){this.commands.push({type:"Q",x1:e,y1:t,x:r,y:n})},C.prototype.close=C.prototype.closePath=function(){this.commands.push({type:"Z"})},C.prototype.extend=function(e){if(e.commands)e=e.commands;else if(e instanceof T){var t=e;return this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),void this.close()}Array.prototype.push.apply(this.commands,e)},C.prototype.getBoundingBox=function(){for(var e=new T,t=0,r=0,n=0,i=0,s=0;s<this.commands.length;s++){var o=this.commands[s];switch(o.type){case"M":e.addPoint(o.x,o.y),t=n=o.x,r=i=o.y;break;case"L":e.addPoint(o.x,o.y),n=o.x,i=o.y;break;case"Q":e.addQuad(n,i,o.x1,o.y1,o.x,o.y),n=o.x,i=o.y;break;case"C":e.addBezier(n,i,o.x1,o.y1,o.x2,o.y2,o.x,o.y),n=o.x,i=o.y;break;case"Z":n=t,i=r;break;default:throw new Error("Unexpected path command "+o.type)}}return e.isEmpty()&&e.addPoint(0,0),e},C.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var r=this.commands[t];"M"===r.type?e.moveTo(r.x,r.y):"L"===r.type?e.lineTo(r.x,r.y):"C"===r.type?e.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):"Q"===r.type?e.quadraticCurveTo(r.x1,r.y1,r.x,r.y):"Z"===r.type&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())},C.prototype.toPathData=function(e){function t(){for(var t,r=arguments,n="",i=0;i<arguments.length;i+=1){var s=r[i];0<=s&&0<i&&(n+=" "),n+=(t=s,Math.round(t)===t?""+Math.round(t):t.toFixed(e))}return n}e=void 0!==e?e:2;for(var r="",n=0;n<this.commands.length;n+=1){var i=this.commands[n];"M"===i.type?r+="M"+t(i.x,i.y):"L"===i.type?r+="L"+t(i.x,i.y):"C"===i.type?r+="C"+t(i.x1,i.y1,i.x2,i.y2,i.x,i.y):"Q"===i.type?r+="Q"+t(i.x1,i.y1,i.x,i.y):"Z"===i.type&&(r+="Z")}return r},C.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),t+='"',this.fill&&"black"!==this.fill&&(t+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+"/>"},C.prototype.toDOMElement=function(e){var t=this.toPathData(e),r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d",t),r};var P={fail:A,argument:L,assert:L},O={},R={},k={};function j(e){return function(){return e}}R.BYTE=function(e){return P.argument(0<=e&&e<=255,"Byte value should be between 0 and 255."),[e]},k.BYTE=j(1),R.CHAR=function(e){return[e.charCodeAt(0)]},k.CHAR=j(1),R.CHARARRAY=function(e){for(var t=[],r=0;r<e.length;r+=1)t[r]=e.charCodeAt(r);return t},k.CHARARRAY=function(e){return e.length},R.USHORT=function(e){return[e>>8&255,255&e]},k.USHORT=j(2),R.SHORT=function(e){return 32768<=e&&(e=-(65536-e)),[e>>8&255,255&e]},k.SHORT=j(2),R.UINT24=function(e){return[e>>16&255,e>>8&255,255&e]},k.UINT24=j(3),R.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},k.ULONG=j(4),R.LONG=function(e){return 2147483648<=e&&(e=-(4294967296-e)),[e>>24&255,e>>16&255,e>>8&255,255&e]},k.LONG=j(4),R.FIXED=R.ULONG,k.FIXED=k.ULONG,R.FWORD=R.SHORT,k.FWORD=k.SHORT,R.UFWORD=R.USHORT,k.UFWORD=k.USHORT,R.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,255&e]},k.LONGDATETIME=j(8),R.TAG=function(e){return P.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},k.TAG=j(4),R.Card8=R.BYTE,k.Card8=k.BYTE,R.Card16=R.USHORT,k.Card16=k.USHORT,R.OffSize=R.BYTE,k.OffSize=k.BYTE,R.SID=R.USHORT,k.SID=k.USHORT,R.NUMBER=function(e){return-107<=e&&e<=107?[e+139]:108<=e&&e<=1131?[247+((e-=108)>>8),255&e]:-1131<=e&&e<=-108?[251+((e=-e-108)>>8),255&e]:-32768<=e&&e<=32767?R.NUMBER16(e):R.NUMBER32(e)},k.NUMBER=function(e){return R.NUMBER(e).length},R.NUMBER16=function(e){return[28,e>>8&255,255&e]},k.NUMBER16=j(3),R.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e]},k.NUMBER32=j(5),R.REAL=function(e){var t=e.toString(),r=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);if(r){var n=parseFloat("1e"+((r[2]?+r[2]:0)+r[1].length));t=(Math.round(e*n)/n).toString()}for(var i="",s=0,o=t.length;s<o;s+=1){var a=t[s];i+="e"===a?"-"===t[++s]?"c":"b":"."===a?"a":"-"===a?"e":a}for(var l=[30],c=0,u=(i+=1&i.length?"f":"ff").length;c<u;c+=2)l.push(parseInt(i.substr(c,2),16));return l},k.REAL=function(e){return R.REAL(e).length},R.NAME=R.CHARARRAY,k.NAME=k.CHARARRAY,R.STRING=R.CHARARRAY,k.STRING=k.CHARARRAY,O.UTF8=function(e,t,r){for(var n=[],i=r,s=0;s<i;s++,t+=1)n[s]=e.getUint8(t);return String.fromCharCode.apply(null,n)},O.UTF16=function(e,t,r){for(var n=[],i=r/2,s=0;s<i;s++,t+=2)n[s]=e.getUint16(t);return String.fromCharCode.apply(null,n)},R.UTF16=function(e){for(var t=[],r=0;r<e.length;r+=1){var n=e.charCodeAt(r);t[t.length]=n>>8&255,t[t.length]=255&n}return t},k.UTF16=function(e){return 2*e.length};var D={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"};O.MACSTRING=function(e,t,r,n){var i=D[n];if(void 0!==i){for(var s="",o=0;o<r;o++){var a=e.getUint8(t+o);s+=a<=127?String.fromCharCode(a):i[127&a]}return s}};var I,N="function"==typeof WeakMap&&new WeakMap;function z(e){return-128<=e&&e<=127}function F(e,t,r){for(var n=0,i=e.length;t<i&&n<64&&0===e[t];)++t,++n;return r.push(128|n-1),t}function U(e,t,r){for(var n=0,i=e.length,s=t;s<i&&n<64;){var o=e[s];if(!z(o))break;if(0===o&&s+1<i&&0===e[s+1])break;++s,++n}r.push(n-1);for(var a=t;a<s;++a)r.push(e[a]+256&255);return s}function B(e,t,r){for(var n=0,i=e.length,s=t;s<i&&n<64;){var o=e[s];if(0===o)break;if(z(o)&&s+1<i&&z(e[s+1]))break;++s,++n}r.push(64|n-1);for(var a=t;a<s;++a){var l=e[a];r.push(l+65536>>8&255,l+256&255)}return s}R.MACSTRING=function(e,t){var r=function(e){if(!I)for(var t in I={},D)I[t]=new String(t);var r=I[e];if(void 0!==r){if(N){var n=N.get(r);if(void 0!==n)return n}var i=D[e];if(void 0!==i){for(var s={},o=0;o<i.length;o++)s[i.charCodeAt(o)]=o+128;return N&&N.set(r,s),s}}}(t);if(void 0!==r){for(var n=[],i=0;i<e.length;i++){var s=e.charCodeAt(i);if(128<=s&&void 0===(s=r[s]))return;n[i]=s}return n}},k.MACSTRING=function(e,t){var r=R.MACSTRING(e,t);return void 0!==r?r.length:0},R.VARDELTAS=function(e){for(var t=0,r=[];t<e.length;){var n=e[t];t=0===n?F(e,t,r):-128<=n&&n<=127?U(e,t,r):B(e,t,r)}return r},R.INDEX=function(e){for(var t=1,r=[t],n=[],i=0;i<e.length;i+=1){var s=R.OBJECT(e[i]);Array.prototype.push.apply(n,s),r.push(t+=s.length)}if(0===n.length)return[0,0];for(var o=[],a=1+Math.floor(Math.log(t)/Math.log(2))/8|0,l=[void 0,R.BYTE,R.USHORT,R.UINT24,R.ULONG][a],c=0;c<r.length;c+=1){var u=l(r[c]);Array.prototype.push.apply(o,u)}return Array.prototype.concat(R.Card16(e.length),R.OffSize(a),o,n)},k.INDEX=function(e){return R.INDEX(e).length},R.DICT=function(e){for(var t=[],r=Object.keys(e),n=r.length,i=0;i<n;i+=1){var s=parseInt(r[i],0),o=e[s];t=(t=t.concat(R.OPERAND(o.value,o.type))).concat(R.OPERATOR(s))}return t},k.DICT=function(e){return R.DICT(e).length},R.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]},R.OPERAND=function(e,t){var r=[];if(Array.isArray(t))for(var n=0;n<t.length;n+=1)P.argument(e.length===t.length,"Not enough arguments given for type"+t),r=r.concat(R.OPERAND(e[n],t[n]));else if("SID"===t)r=r.concat(R.NUMBER(e));else if("offset"===t)r=r.concat(R.NUMBER32(e));else if("number"===t)r=r.concat(R.NUMBER(e));else{if("real"!==t)throw new Error("Unknown operand type "+t);r=r.concat(R.REAL(e))}return r},R.OP=R.BYTE,k.OP=k.BYTE;var V="function"==typeof WeakMap&&new WeakMap;function H(e,t,r){for(var n=0;n<t.length;n+=1){var i=t[n];this[i.name]=i.value}if(this.tableName=e,this.fields=t,r)for(var s=Object.keys(r),o=0;o<s.length;o+=1){var a=s[o];void 0!==this[a]&&(this[a]=r[a])}}function G(e,t,r){void 0===r&&(r=t.length);var n=new Array(t.length+1);n[0]={name:e+"Count",type:"USHORT",value:r};for(var i=0;i<t.length;i++)n[i+1]={name:e+i,type:"USHORT",value:t[i]};return n}function W(e,t,r){var n=t.length,i=new Array(n+1);i[0]={name:e+"Count",type:"USHORT",value:n};for(var s=0;s<n;s++)i[s+1]={name:e+s,type:"TABLE",value:r(t[s],s)};return i}function q(e,t,r){var n=t.length,i=[];i[0]={name:e+"Count",type:"USHORT",value:n};for(var s=0;s<n;s++)i=i.concat(r(t[s],s));return i}function X(e){1===e.format?H.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(G("glyph",e.glyphs))):P.assert(!1,"Can't create coverage table format 2 yet.")}function Y(e){H.call(this,"scriptListTable",q("scriptRecord",e,function(e,t){var r=e.script,n=r.defaultLangSys;return P.assert(!!n,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+t,type:"TAG",value:e.tag},{name:"script"+t,type:"TABLE",value:new H("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new H("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:n.reqFeatureIndex}].concat(G("featureIndex",n.featureIndexes)))}].concat(q("langSys",r.langSysRecords,function(e,t){var r=e.langSys;return[{name:"langSysTag"+t,type:"TAG",value:e.tag},{name:"langSys"+t,type:"TABLE",value:new H("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:r.reqFeatureIndex}].concat(G("featureIndex",r.featureIndexes)))}]})))}]}))}function $(e){H.call(this,"featureListTable",q("featureRecord",e,function(e,t){var r=e.feature;return[{name:"featureTag"+t,type:"TAG",value:e.tag},{name:"feature"+t,type:"TABLE",value:new H("featureTable",[{name:"featureParams",type:"USHORT",value:r.featureParams}].concat(G("lookupListIndex",r.lookupListIndexes)))}]}))}function Z(e,t){H.call(this,"lookupListTable",W("lookup",e,function(e){var r=t[e.lookupType];return P.assert(!!r,"Unable to write GSUB lookup type "+e.lookupType+" tables."),new H("lookupTable",[{name:"lookupType",type:"USHORT",value:e.lookupType},{name:"lookupFlag",type:"USHORT",value:e.lookupFlag}].concat(W("subtable",e.subtables,r)))}))}R.CHARSTRING=function(e){if(V){var t=V.get(e);if(void 0!==t)return t}for(var r=[],n=e.length,i=0;i<n;i+=1){var s=e[i];r=r.concat(R[s.type](s.value))}return V&&V.set(e,r),r},k.CHARSTRING=function(e){return R.CHARSTRING(e).length},R.OBJECT=function(e){var t=R[e.type];return P.argument(void 0!==t,"No encoding function for type "+e.type),t(e.value)},k.OBJECT=function(e){var t=k[e.type];return P.argument(void 0!==t,"No sizeOf function for type "+e.type),t(e.value)},R.TABLE=function(e){for(var t=[],r=e.fields.length,n=[],i=[],s=0;s<r;s+=1){var o=e.fields[s],a=R[o.type];P.argument(void 0!==a,"No encoding function for field type "+o.type+" ("+o.name+")");var l=e[o.name];void 0===l&&(l=o.value);var c=a(l);"TABLE"===o.type?(i.push(t.length),t=t.concat([0,0]),n.push(c)):t=t.concat(c)}for(var u=0;u<n.length;u+=1){var h=i[u],d=t.length;P.argument(d<65536,"Table "+e.tableName+" too big."),t[h]=d>>8,t[h+1]=255&d,t=t.concat(n[u])}return t},k.TABLE=function(e){for(var t=0,r=e.fields.length,n=0;n<r;n+=1){var i=e.fields[n],s=k[i.type];P.argument(void 0!==s,"No sizeOf function for field type "+i.type+" ("+i.name+")");var o=e[i.name];void 0===o&&(o=i.value),t+=s(o),"TABLE"===i.type&&(t+=2)}return t},R.RECORD=R.TABLE,k.RECORD=k.TABLE,R.LITERAL=function(e){return e},k.LITERAL=function(e){return e.length},H.prototype.encode=function(){return R.TABLE(this)},H.prototype.sizeOf=function(){return k.TABLE(this)};var Q={Table:H,Record:H,Coverage:(X.prototype=Object.create(H.prototype)).constructor=X,ScriptList:(Y.prototype=Object.create(H.prototype)).constructor=Y,FeatureList:($.prototype=Object.create(H.prototype)).constructor=$,LookupList:(Z.prototype=Object.create(H.prototype)).constructor=Z,ushortList:G,tableList:W,recordList:q};function J(e,t){return e.getUint8(t)}function K(e,t){return e.getUint16(t,!1)}function ee(e,t){return e.getUint32(t,!1)}function te(e,t){return e.getInt16(t,!1)+e.getUint16(t+2,!1)/65535}var re={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function ne(e,t){this.data=e,this.offset=t,this.relativeOffset=0}ne.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},ne.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},ne.prototype.parseCard8=ne.prototype.parseByte,ne.prototype.parseCard16=ne.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},ne.prototype.parseSID=ne.prototype.parseUShort,ne.prototype.parseOffset16=ne.prototype.parseUShort,ne.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},ne.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e},ne.prototype.parseOffset32=ne.prototype.parseULong=function(){var e=ee(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},ne.prototype.parseFixed=function(){var e=te(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},ne.prototype.parseString=function(e){var t=this.data,r=this.offset+this.relativeOffset,n="";this.relativeOffset+=e;for(var i=0;i<e;i++)n+=String.fromCharCode(t.getUint8(r+i));return n},ne.prototype.parseTag=function(){return this.parseString(4)},ne.prototype.parseLongDateTime=function(){var e=ee(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e},ne.prototype.parseVersion=function(e){var t=K(this.data,this.offset+this.relativeOffset),r=K(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,void 0===e&&(e=4096),t+r/e/10},ne.prototype.skip=function(e,t){void 0===t&&(t=1),this.relativeOffset+=re[e]*t},ne.prototype.parseULongList=function(e){void 0===e&&(e=this.parseULong());for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=r.getUint32(n),n+=4;return this.relativeOffset+=4*e,t},ne.prototype.parseOffset16List=ne.prototype.parseUShortList=function(e){void 0===e&&(e=this.parseUShort());for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=r.getUint16(n),n+=2;return this.relativeOffset+=2*e,t},ne.prototype.parseShortList=function(e){for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=r.getInt16(n),n+=2;return this.relativeOffset+=2*e,t},ne.prototype.parseByteList=function(e){for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=r.getUint8(n++);return this.relativeOffset+=e,t},ne.prototype.parseList=function(e,t){t||(t=e,e=this.parseUShort());for(var r=new Array(e),n=0;n<e;n++)r[n]=t.call(this);return r},ne.prototype.parseList32=function(e,t){t||(t=e,e=this.parseULong());for(var r=new Array(e),n=0;n<e;n++)r[n]=t.call(this);return r},ne.prototype.parseRecordList=function(e,t){t||(t=e,e=this.parseUShort());for(var r=new Array(e),n=Object.keys(t),i=0;i<e;i++){for(var s={},o=0;o<n.length;o++){var a=n[o];s[a]=t[a].call(this)}r[i]=s}return r},ne.prototype.parseRecordList32=function(e,t){t||(t=e,e=this.parseULong());for(var r=new Array(e),n=Object.keys(t),i=0;i<e;i++){for(var s={},o=0;o<n.length;o++){var a=n[o];s[a]=t[a].call(this)}r[i]=s}return r},ne.prototype.parseStruct=function(e){if("function"==typeof e)return e.call(this);for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n];r[i]=e[i].call(this)}return r},ne.prototype.parseValueRecord=function(e){if(void 0===e&&(e=this.parseUShort()),0!==e){var t={};return 1&e&&(t.xPlacement=this.parseShort()),2&e&&(t.yPlacement=this.parseShort()),4&e&&(t.xAdvance=this.parseShort()),8&e&&(t.yAdvance=this.parseShort()),16&e&&(t.xPlaDevice=void 0,this.parseShort()),32&e&&(t.yPlaDevice=void 0,this.parseShort()),64&e&&(t.xAdvDevice=void 0,this.parseShort()),128&e&&(t.yAdvDevice=void 0,this.parseShort()),t}},ne.prototype.parseValueRecordList=function(){for(var e=this.parseUShort(),t=this.parseUShort(),r=new Array(t),n=0;n<t;n++)r[n]=this.parseValueRecord(e);return r},ne.prototype.parsePointer=function(e){var t=this.parseOffset16();if(0<t)return new ne(this.data,this.offset+t).parseStruct(e)},ne.prototype.parsePointer32=function(e){var t=this.parseOffset32();if(0<t)return new ne(this.data,this.offset+t).parseStruct(e)},ne.prototype.parseListOfLists=function(e){for(var t=this.parseOffset16List(),r=t.length,n=this.relativeOffset,i=new Array(r),s=0;s<r;s++){var o=t[s];if(0!==o)if(this.relativeOffset=o,e){for(var a=this.parseOffset16List(),l=new Array(a.length),c=0;c<a.length;c++)this.relativeOffset=o+a[c],l[c]=e.call(this);i[s]=l}else i[s]=this.parseUShortList();else i[s]=void 0}return this.relativeOffset=n,i},ne.prototype.parseCoverage=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort(),r=this.parseUShort();if(1===t)return{format:1,glyphs:this.parseUShortList(r)};if(2!==t)throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.");for(var n=new Array(r),i=0;i<r;i++)n[i]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:n}},ne.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===t)return{format:2,ranges:this.parseRecordList({start:ne.uShort,end:ne.uShort,classId:ne.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")},ne.list=function(e,t){return function(){return this.parseList(e,t)}},ne.list32=function(e,t){return function(){return this.parseList32(e,t)}},ne.recordList=function(e,t){return function(){return this.parseRecordList(e,t)}},ne.recordList32=function(e,t){return function(){return this.parseRecordList32(e,t)}},ne.pointer=function(e){return function(){return this.parsePointer(e)}},ne.pointer32=function(e){return function(){return this.parsePointer32(e)}},ne.tag=ne.prototype.parseTag,ne.byte=ne.prototype.parseByte,ne.uShort=ne.offset16=ne.prototype.parseUShort,ne.uShortList=ne.prototype.parseUShortList,ne.uLong=ne.offset32=ne.prototype.parseULong,ne.uLongList=ne.prototype.parseULongList,ne.struct=ne.prototype.parseStruct,ne.coverage=ne.prototype.parseCoverage,ne.classDef=ne.prototype.parseClassDef;var ie={reserved:ne.uShort,reqFeatureIndex:ne.uShort,featureIndexes:ne.uShortList};ne.prototype.parseScriptList=function(){return this.parsePointer(ne.recordList({tag:ne.tag,script:ne.pointer({defaultLangSys:ne.pointer(ie),langSysRecords:ne.recordList({tag:ne.tag,langSys:ne.pointer(ie)})})}))||[]},ne.prototype.parseFeatureList=function(){return this.parsePointer(ne.recordList({tag:ne.tag,feature:ne.pointer({featureParams:ne.offset16,lookupListIndexes:ne.uShortList})}))||[]},ne.prototype.parseLookupList=function(e){return this.parsePointer(ne.list(ne.pointer(function(){var t=this.parseUShort();P.argument(1<=t&&t<=9,"GPOS/GSUB lookup type "+t+" unknown.");var r=this.parseUShort(),n=16&r;return{lookupType:t,lookupFlag:r,subtables:this.parseList(ne.pointer(e[t])),markFilteringSet:n?this.parseUShort():void 0}})))||[]},ne.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var e=this.parseUShort(),t=this.parseUShort();return P.argument(1===e&&t<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:ne.offset32,featureTableSubstitutionOffset:ne.offset32})})||[]};var se={getByte:J,getCard8:J,getUShort:K,getCard16:K,getShort:function(e,t){return e.getInt16(t,!1)},getULong:ee,getFixed:te,getTag:function(e,t){for(var r="",n=t;n<t+4;n+=1)r+=String.fromCharCode(e.getInt8(n));return r},getOffset:function(e,t,r){for(var n=0,i=0;i<r;i+=1)n<<=8,n+=e.getUint8(t+i);return n},getBytes:function(e,t,r){for(var n=[],i=t;i<r;i+=1)n.push(e.getUint8(i));return n},bytesToString:function(e){for(var t="",r=0;r<e.length;r+=1)t+=String.fromCharCode(e[r]);return t},Parser:ne},oe=function(e,t){var r={};r.version=se.getUShort(e,t),P.argument(0===r.version,"cmap table version should be 0."),r.numTables=se.getUShort(e,t+2);for(var n=-1,i=r.numTables-1;0<=i;--i){var s=se.getUShort(e,t+4+8*i),o=se.getUShort(e,t+4+8*i+2);if(3===s&&(0===o||1===o||10===o)||0===s&&(0===o||1===o||2===o||3===o||4===o)){n=se.getULong(e,t+4+8*i+4);break}}if(-1===n)throw new Error("No valid cmap sub-tables found.");var a=new se.Parser(e,t+n);if(r.format=a.parseUShort(),12===r.format)!function(e,t){var r;t.parseUShort(),e.length=t.parseULong(),e.language=t.parseULong(),e.groupCount=r=t.parseULong(),e.glyphIndexMap={};for(var n=0;n<r;n+=1)for(var i=t.parseULong(),s=t.parseULong(),o=t.parseULong(),a=i;a<=s;a+=1)e.glyphIndexMap[a]=o,o++}(r,a);else{if(4!==r.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+r.format+").");!function(e,t,r,n,i){var s;e.length=t.parseUShort(),e.language=t.parseUShort(),e.segCount=s=t.parseUShort()>>1,t.skip("uShort",3),e.glyphIndexMap={};for(var o=new se.Parser(r,n+i+14),a=new se.Parser(r,n+i+16+2*s),l=new se.Parser(r,n+i+16+4*s),c=new se.Parser(r,n+i+16+6*s),u=n+i+16+8*s,h=0;h<s-1;h+=1)for(var d=void 0,p=o.parseUShort(),f=a.parseUShort(),m=l.parseShort(),g=c.parseUShort(),y=f;y<=p;y+=1)0!==g?(u=c.offset+c.relativeOffset-2,u+=g,0!==(d=se.getUShort(r,u+=2*(y-f)))&&(d=d+m&65535)):d=y+m&65535,e.glyphIndexMap[y]=d}(r,a,e,t,n)}return r},ae=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],le=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ce=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ue=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function he(e){this.font=e}function de(e){this.cmap=e}function pe(e,t){this.encoding=e,this.charset=t}function fe(e){switch(e.version){case 1:this.names=ue.slice();break;case 2:this.names=new Array(e.numberOfGlyphs);for(var t=0;t<e.numberOfGlyphs;t++)this.names[t]=e.glyphNameIndex[t]<ue.length?ue[e.glyphNameIndex[t]]:e.names[e.glyphNameIndex[t]-ue.length];break;case 2.5:this.names=new Array(e.numberOfGlyphs);for(var r=0;r<e.numberOfGlyphs;r++)this.names[r]=ue[r+e.glyphNameIndex[r]];break;case 3:default:this.names=[]}}he.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),r=this.font.glyphs;if(r)for(var n=0;n<r.length;n+=1)for(var i=r.get(n),s=0;s<i.unicodes.length;s+=1)if(i.unicodes[s]===t)return n;return null},de.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0},pe.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0);return this.charset.indexOf(this.encoding[t])},fe.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)},fe.prototype.glyphIndexToName=function(e){return this.names[e]};var me=function(e,t,r,n,i){e.beginPath(),e.moveTo(t,r),e.lineTo(n,i),e.stroke()};function ge(e){this.bindConstructorValues(e)}function ye(e,t,r){Object.defineProperty(e,t,{get:function(){return e[r]},set:function(t){e[r]=t},enumerable:!0,configurable:!0})}function ve(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var r=0;r<t.length;r++)this.glyphs[r]=t[r];this.length=t&&t.length||0}ge.prototype.bindConstructorValues=function(e){var t;this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],e.xMin&&(this.xMin=e.xMin),e.yMin&&(this.yMin=e.yMin),e.xMax&&(this.xMax=e.xMax),e.yMax&&(this.yMax=e.yMax),e.advanceWidth&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",(t=e.path||new C,{configurable:!0,get:function(){return"function"==typeof t&&(t=t()),t},set:function(e){t=e}}))},ge.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},ge.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},ge.prototype.getPath=function(e,t,r,n,i){var s,o;e=void 0!==e?e:0,t=void 0!==t?t:0,r=void 0!==r?r:72;var a=(n=n||{}).xScale,l=n.yScale;if(n.hinting&&i&&i.hinting&&(o=this.path&&i.hinting.exec(this,r)),o)s=i.hinting.getCommands(o),e=Math.round(e),t=Math.round(t),a=l=1;else{s=this.path.commands;var c=1/this.path.unitsPerEm*r;void 0===a&&(a=c),void 0===l&&(l=c)}for(var u=new C,h=0;h<s.length;h+=1){var d=s[h];"M"===d.type?u.moveTo(e+d.x*a,t+-d.y*l):"L"===d.type?u.lineTo(e+d.x*a,t+-d.y*l):"Q"===d.type?u.quadraticCurveTo(e+d.x1*a,t+-d.y1*l,e+d.x*a,t+-d.y*l):"C"===d.type?u.curveTo(e+d.x1*a,t+-d.y1*l,e+d.x2*a,t+-d.y2*l,e+d.x*a,t+-d.y*l):"Z"===d.type&&u.closePath()}return u},ge.prototype.getContours=function(){if(void 0===this.points)return[];for(var e=[],t=[],r=0;r<this.points.length;r+=1){var n=this.points[r];t.push(n),n.lastPointOfContour&&(e.push(t),t=[])}return P.argument(0===t.length,"There are still points left in the current contour."),e},ge.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],r=[],n=0;n<e.length;n+=1){var i=e[n];"Z"!==i.type&&(t.push(i.x),r.push(i.y)),"Q"!==i.type&&"C"!==i.type||(t.push(i.x1),r.push(i.y1)),"C"===i.type&&(t.push(i.x2),r.push(i.y2))}var s={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,r),leftSideBearing:this.leftSideBearing};return isFinite(s.xMin)||(s.xMin=0),isFinite(s.xMax)||(s.xMax=this.advanceWidth),isFinite(s.yMin)||(s.yMin=0),isFinite(s.yMax)||(s.yMax=0),s.rightSideBearing=this.advanceWidth-s.leftSideBearing-(s.xMax-s.xMin),s},ge.prototype.draw=function(e,t,r,n,i){this.getPath(t,r,n,i).draw(e)},ge.prototype.drawPoints=function(e,t,r,n){function i(t,r,n,i){var s=2*Math.PI;e.beginPath();for(var o=0;o<t.length;o+=1)e.moveTo(r+t[o].x*i,n+t[o].y*i),e.arc(r+t[o].x*i,n+t[o].y*i,2,0,s,!1);e.closePath(),e.fill()}t=void 0!==t?t:0,r=void 0!==r?r:0;for(var s=1/this.path.unitsPerEm*(n=void 0!==n?n:24),o=[],a=[],l=this.path,c=0;c<l.commands.length;c+=1){var u=l.commands[c];void 0!==u.x&&o.push({x:u.x,y:-u.y}),void 0!==u.x1&&a.push({x:u.x1,y:-u.y1}),void 0!==u.x2&&a.push({x:u.x2,y:-u.y2})}e.fillStyle="blue",i(o,t,r,s),e.fillStyle="red",i(a,t,r,s)},ge.prototype.drawMetrics=function(e,t,r,n){var i;t=void 0!==t?t:0,r=void 0!==r?r:0,i=1/this.path.unitsPerEm*(n=void 0!==n?n:24),e.lineWidth=1,e.strokeStyle="black",me(e,t,-1e4,t,1e4),me(e,-1e4,r,1e4,r);var s=this.xMin||0,o=this.yMin||0,a=this.xMax||0,l=this.yMax||0,c=this.advanceWidth||0;e.strokeStyle="blue",me(e,t+s*i,-1e4,t+s*i,1e4),me(e,t+a*i,-1e4,t+a*i,1e4),me(e,-1e4,r+-o*i,1e4,r+-o*i),me(e,-1e4,r+-l*i,1e4,r+-l*i),e.strokeStyle="green",me(e,t+c*i,-1e4,t+c*i,1e4)},ve.prototype.get=function(e){return"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]()),this.glyphs[e]},ve.prototype.push=function(e,t){this.glyphs[e]=t,this.length++};var _e={GlyphSet:ve,glyphLoader:function(e,t){return new ge({index:t,font:e})},ttfGlyphLoader:function(e,t,r,n,i,s){return function(){var o=new ge({index:t,font:e});return o.path=function(){r(o,n,i);var t=s(e.glyphs,o);return t.unitsPerEm=e.unitsPerEm,t},ye(o,"xMin","_xMin"),ye(o,"xMax","_xMax"),ye(o,"yMin","_yMin"),ye(o,"yMax","_yMax"),o}},cffGlyphLoader:function(e,t,r,n){return function(){var i=new ge({index:t,font:e});return i.path=function(){var t=r(e,i,n);return t.unitsPerEm=e.unitsPerEm,t},i}}};function be(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r+=1)if(!be(e[r],t[r]))return!1;return!0}return!1}function we(e){return e.length<1240?107:e.length<33900?1131:32768}function xe(e,t,r){var n,i,s=[],o=[],a=se.getCard16(e,t);if(0!==a){var l=se.getByte(e,t+2);n=t+(a+1)*l+2;for(var c=t+3,u=0;u<a+1;u+=1)s.push(se.getOffset(e,c,l)),c+=l;i=n+s[a]}else i=t+2;for(var h=0;h<s.length-1;h+=1){var d=se.getBytes(e,n+s[h],n+s[h+1]);r&&(d=r(d)),o.push(d)}return{objects:o,startOffset:t,endOffset:i}}function Se(e,t){if(28===t)return e.parseByte()<<8|e.parseByte();if(29===t)return e.parseByte()<<24|e.parseByte()<<16|e.parseByte()<<8|e.parseByte();if(30===t)return function(e){for(var t="",r=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var n=e.parseByte(),i=n>>4,s=15&n;if(15==i)break;if(t+=r[i],15==s)break;t+=r[s]}return parseFloat(t)}(e);if(32<=t&&t<=246)return t-139;if(247<=t&&t<=250)return 256*(t-247)+e.parseByte()+108;if(251<=t&&t<=254)return 256*-(t-251)-e.parseByte()-108;throw new Error("Invalid b0 "+t)}function Me(e,t,r){var n=new se.Parser(e,t=void 0!==t?t:0),i=[],s=[];for(r=void 0!==r?r:e.length;n.relativeOffset<r;){var o=n.parseByte();o<=21?(12===o&&(o=1200+n.parseByte()),i.push([o,s]),s=[]):s.push(Se(n,o))}return function(e){for(var t={},r=0;r<e.length;r+=1){var n,i=e[r][0],s=e[r][1];if(n=1===s.length?s[0]:s,t.hasOwnProperty(i)&&!isNaN(t[i]))throw new Error("Object "+t+" already has key "+i);t[i]=n}return t}(i)}function Ee(e,t){return t<=390?ae[t]:e[t-391]}function Te(e,t,r){for(var n,i={},s=0;s<t.length;s+=1){var o=t[s];if(Array.isArray(o.type)){var a=[];a.length=o.type.length;for(var l=0;l<o.type.length;l++)void 0===(n=void 0!==e[o.op]?e[o.op][l]:void 0)&&(n=void 0!==o.value&&void 0!==o.value[l]?o.value[l]:null),"SID"===o.type[l]&&(n=Ee(r,n)),a[l]=n;i[o.name]=a}else void 0===(n=e[o.op])&&(n=void 0!==o.value?o.value:null),"SID"===o.type&&(n=Ee(r,n)),i[o.name]=n}return i}var Ce=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Ae=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Le(e,t,r,n){return Te(Me(e,t,r),Ae,n)}function Pe(e,t,r,n){for(var i,s,o=[],a=0;a<r.length;a+=1){var l=(s=n,Te(Me(i=new DataView(new Uint8Array(r[a]).buffer),0,i.byteLength),Ce,s));l._subrs=[],l._subrsBias=0;var c=l.private[0],u=l.private[1];if(0!==c&&0!==u){var h=Le(e,u+t,c,n);if(l._defaultWidthX=h.defaultWidthX,l._nominalWidthX=h.nominalWidthX,0!==h.subrs){var d=xe(e,u+h.subrs+t);l._subrs=d.objects,l._subrsBias=we(l._subrs)}l._privateDict=h}o.push(l)}return o}function Oe(e,t,r){var n,i,s,o,a,l,c,u,h=new C,d=[],p=0,f=!1,m=!1,g=0,y=0;if(e.isCIDFont){var v=e.tables.cff.topDict._fdArray[e.tables.cff.topDict._fdSelect[t.index]];a=v._subrs,l=v._subrsBias,c=v._defaultWidthX,u=v._nominalWidthX}else a=e.tables.cff.topDict._subrs,l=e.tables.cff.topDict._subrsBias,c=e.tables.cff.topDict._defaultWidthX,u=e.tables.cff.topDict._nominalWidthX;var _=c;function b(e,t){m&&h.closePath(),h.moveTo(e,t),m=!0}function w(){d.length%2==0||f||(_=d.shift()+u),p+=d.length>>1,d.length=0,f=!0}return function r(c){for(var v,x,S,M,E,T,C,A,L,P,O,R,k=0;k<c.length;){var j=c[k];switch(k+=1,j){case 1:case 3:w();break;case 4:1<d.length&&!f&&(_=d.shift()+u,f=!0),y+=d.pop(),b(g,y);break;case 5:for(;0<d.length;)g+=d.shift(),y+=d.shift(),h.lineTo(g,y);break;case 6:for(;0<d.length&&(g+=d.shift(),h.lineTo(g,y),0!==d.length);)y+=d.shift(),h.lineTo(g,y);break;case 7:for(;0<d.length&&(y+=d.shift(),h.lineTo(g,y),0!==d.length);)g+=d.shift(),h.lineTo(g,y);break;case 8:for(;0<d.length;)n=g+d.shift(),i=y+d.shift(),s=n+d.shift(),o=i+d.shift(),g=s+d.shift(),y=o+d.shift(),h.curveTo(n,i,s,o,g,y);break;case 10:E=d.pop()+l,(T=a[E])&&r(T);break;case 11:return;case 12:switch(j=c[k],k+=1,j){case 35:n=g+d.shift(),i=y+d.shift(),s=n+d.shift(),o=i+d.shift(),C=s+d.shift(),A=o+d.shift(),L=C+d.shift(),P=A+d.shift(),O=L+d.shift(),R=P+d.shift(),g=O+d.shift(),y=R+d.shift(),d.shift(),h.curveTo(n,i,s,o,C,A),h.curveTo(L,P,O,R,g,y);break;case 34:n=g+d.shift(),i=y,s=n+d.shift(),o=i+d.shift(),C=s+d.shift(),A=o,L=C+d.shift(),P=o,O=L+d.shift(),R=y,g=O+d.shift(),h.curveTo(n,i,s,o,C,A),h.curveTo(L,P,O,R,g,y);break;case 36:n=g+d.shift(),i=y+d.shift(),s=n+d.shift(),o=i+d.shift(),C=s+d.shift(),A=o,L=C+d.shift(),P=o,O=L+d.shift(),R=P+d.shift(),g=O+d.shift(),h.curveTo(n,i,s,o,C,A),h.curveTo(L,P,O,R,g,y);break;case 37:n=g+d.shift(),i=y+d.shift(),s=n+d.shift(),o=i+d.shift(),C=s+d.shift(),A=o+d.shift(),L=C+d.shift(),P=A+d.shift(),O=L+d.shift(),R=P+d.shift(),Math.abs(O-g)>Math.abs(R-y)?g=O+d.shift():y=R+d.shift(),h.curveTo(n,i,s,o,C,A),h.curveTo(L,P,O,R,g,y);break;default:console.log("Glyph "+t.index+": unknown operator 1200"+j),d.length=0}break;case 14:0<d.length&&!f&&(_=d.shift()+u,f=!0),m&&(h.closePath(),m=!1);break;case 18:w();break;case 19:case 20:w(),k+=p+7>>3;break;case 21:2<d.length&&!f&&(_=d.shift()+u,f=!0),y+=d.pop(),b(g+=d.pop(),y);break;case 22:1<d.length&&!f&&(_=d.shift()+u,f=!0),b(g+=d.pop(),y);break;case 23:w();break;case 24:for(;2<d.length;)n=g+d.shift(),i=y+d.shift(),s=n+d.shift(),o=i+d.shift(),g=s+d.shift(),y=o+d.shift(),h.curveTo(n,i,s,o,g,y);g+=d.shift(),y+=d.shift(),h.lineTo(g,y);break;case 25:for(;6<d.length;)g+=d.shift(),y+=d.shift(),h.lineTo(g,y);n=g+d.shift(),i=y+d.shift(),s=n+d.shift(),o=i+d.shift(),g=s+d.shift(),y=o+d.shift(),h.curveTo(n,i,s,o,g,y);break;case 26:for(d.length%2&&(g+=d.shift());0<d.length;)n=g,i=y+d.shift(),s=n+d.shift(),o=i+d.shift(),g=s,y=o+d.shift(),h.curveTo(n,i,s,o,g,y);break;case 27:for(d.length%2&&(y+=d.shift());0<d.length;)n=g+d.shift(),i=y,s=n+d.shift(),o=i+d.shift(),g=s+d.shift(),h.curveTo(n,i,s,o,g,y=o);break;case 28:d.push(((v=c[k])<<24|(x=c[k+1])<<16)>>16),k+=2;break;case 29:E=d.pop()+e.gsubrsBias,(T=e.gsubrs[E])&&r(T);break;case 30:for(;0<d.length&&(n=g,i=y+d.shift(),s=n+d.shift(),o=i+d.shift(),g=s+d.shift(),y=o+(1===d.length?d.shift():0),h.curveTo(n,i,s,o,g,y),0!==d.length);)n=g+d.shift(),i=y,s=n+d.shift(),o=i+d.shift(),y=o+d.shift(),g=s+(1===d.length?d.shift():0),h.curveTo(n,i,s,o,g,y);break;case 31:for(;0<d.length&&(n=g+d.shift(),i=y,s=n+d.shift(),o=i+d.shift(),y=o+d.shift(),g=s+(1===d.length?d.shift():0),h.curveTo(n,i,s,o,g,y),0!==d.length);)n=g,i=y+d.shift(),s=n+d.shift(),o=i+d.shift(),g=s+d.shift(),y=o+(1===d.length?d.shift():0),h.curveTo(n,i,s,o,g,y);break;default:j<32?console.log("Glyph "+t.index+": unknown operator "+j):j<247?d.push(j-139):j<251?(v=c[k],k+=1,d.push(256*(j-247)+v+108)):j<255?(v=c[k],k+=1,d.push(256*-(j-251)-v-108)):(v=c[k],x=c[k+1],S=c[k+2],M=c[k+3],k+=4,d.push((v<<24|x<<16|S<<8|M)/65536))}}}(r),t.advanceWidth=_,h}function Re(e,t){var r,n=ae.indexOf(e);return 0<=n&&(r=n),0<=(n=t.indexOf(e))?r=n+ae.length:(r=ae.length+t.length,t.push(e)),r}function ke(e,t,r){for(var n={},i=0;i<e.length;i+=1){var s=e[i],o=t[s.name];void 0===o||be(o,s.value)||("SID"===s.type&&(o=Re(o,r)),n[s.op]={name:s.name,type:s.type,value:o})}return n}function je(e,t){var r=new Q.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=ke(Ce,e,t),r}function De(e){var t=new Q.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function Ie(e){var t=[],r=e.path;t.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var n=0,i=0,s=0;s<r.commands.length;s+=1){var o=void 0,a=void 0,l=r.commands[s];if("Q"===l.type&&(l={type:"C",x:l.x,y:l.y,x1:1/3*n+2/3*l.x1,y1:1/3*i+2/3*l.y1,x2:1/3*l.x+2/3*l.x1,y2:1/3*l.y+2/3*l.y1}),"M"===l.type)o=Math.round(l.x-n),a=Math.round(l.y-i),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",value:a}),t.push({name:"rmoveto",type:"OP",value:21}),n=Math.round(l.x),i=Math.round(l.y);else if("L"===l.type)o=Math.round(l.x-n),a=Math.round(l.y-i),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",value:a}),t.push({name:"rlineto",type:"OP",value:5}),n=Math.round(l.x),i=Math.round(l.y);else if("C"===l.type){var c=Math.round(l.x1-n),u=Math.round(l.y1-i),h=Math.round(l.x2-l.x1),d=Math.round(l.y2-l.y1);o=Math.round(l.x-l.x2),a=Math.round(l.y-l.y2),t.push({name:"dx1",type:"NUMBER",value:c}),t.push({name:"dy1",type:"NUMBER",value:u}),t.push({name:"dx2",type:"NUMBER",value:h}),t.push({name:"dy2",type:"NUMBER",value:d}),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",value:a}),t.push({name:"rrcurveto",type:"OP",value:8}),n=Math.round(l.x),i=Math.round(l.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}var Ne=function(e,t){var r={},n=new se.Parser(e,t);return r.version=n.parseVersion(),r.fontRevision=Math.round(1e3*n.parseFixed())/1e3,r.checkSumAdjustment=n.parseULong(),r.magicNumber=n.parseULong(),P.argument(1594834165===r.magicNumber,"Font header has wrong magic number."),r.flags=n.parseUShort(),r.unitsPerEm=n.parseUShort(),r.created=n.parseLongDateTime(),r.modified=n.parseLongDateTime(),r.xMin=n.parseShort(),r.yMin=n.parseShort(),r.xMax=n.parseShort(),r.yMax=n.parseShort(),r.macStyle=n.parseUShort(),r.lowestRecPPEM=n.parseUShort(),r.fontDirectionHint=n.parseShort(),r.indexToLocFormat=n.parseShort(),r.glyphDataFormat=n.parseShort(),r},ze=function(e,t){var r={},n=new se.Parser(e,t);return r.version=n.parseVersion(),r.ascender=n.parseShort(),r.descender=n.parseShort(),r.lineGap=n.parseShort(),r.advanceWidthMax=n.parseUShort(),r.minLeftSideBearing=n.parseShort(),r.minRightSideBearing=n.parseShort(),r.xMaxExtent=n.parseShort(),r.caretSlopeRise=n.parseShort(),r.caretSlopeRun=n.parseShort(),r.caretOffset=n.parseShort(),n.relativeOffset+=8,r.metricDataFormat=n.parseShort(),r.numberOfHMetrics=n.parseUShort(),r},Fe=function(e,t){var r=new se.Parser(e,t),n=r.parseULong();P.argument(1===n,"Unsupported ltag table version."),r.skip("uLong",1);for(var i=r.parseULong(),s=[],o=0;o<i;o++){for(var a="",l=t+r.parseUShort(),c=r.parseUShort(),u=l;u<l+c;++u)a+=String.fromCharCode(e.getInt8(u));s.push(a)}return s},Ue=function(e,t){var r={},n=new se.Parser(e,t);return r.version=n.parseVersion(),r.numGlyphs=n.parseUShort(),1===r.version&&(r.maxPoints=n.parseUShort(),r.maxContours=n.parseUShort(),r.maxCompositePoints=n.parseUShort(),r.maxCompositeContours=n.parseUShort(),r.maxZones=n.parseUShort(),r.maxTwilightPoints=n.parseUShort(),r.maxStorage=n.parseUShort(),r.maxFunctionDefs=n.parseUShort(),r.maxInstructionDefs=n.parseUShort(),r.maxStackElements=n.parseUShort(),r.maxSizeOfInstructions=n.parseUShort(),r.maxComponentElements=n.parseUShort(),r.maxComponentDepth=n.parseUShort()),r},Be=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Ve={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},He={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Ge={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function We(e,t,r){switch(e){case 0:if(65535===t)return"und";if(r)return r[t];break;case 1:return Ve[t];case 3:return Ge[t]}}var qe="utf-16",Xe={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Ye={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function $e(e,t,r){switch(e){case 0:return qe;case 1:return Ye[r]||Xe[t];case 3:if(1===t||10===t)return qe}}function Ze(e){var t={};for(var r in e)t[e[r]]=parseInt(r);return t}function Qe(e,t,r,n,i,s){return new Q.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:r},{name:"nameID",type:"USHORT",value:n},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:s}])}function Je(e,t){var r=function(e,t){var r=e.length,n=t.length-r+1;e:for(var i=0;i<n;i++)for(;i<n;i++){for(var s=0;s<r;s++)if(t[i+s]!==e[s])continue e;return i}return-1}(e,t);if(r<0){r=t.length;for(var n=0,i=e.length;n<i;++n)t.push(e[n])}return r}var Ke=function(e,t,r){for(var n={},i=new se.Parser(e,t),s=i.parseUShort(),o=i.parseUShort(),a=i.offset+i.parseUShort(),l=0;l<o;l++){var c,u=i.parseUShort(),h=i.parseUShort(),d=i.parseUShort(),p=i.parseUShort(),f=Be[p]||p,m=i.parseUShort(),g=i.parseUShort(),y=We(u,d,r),v=$e(u,h,d);if(void 0!==v&&void 0!==y)if(c=v===qe?O.UTF16(e,a+g,m):O.MACSTRING(e,a+g,m,v)){var _=n[f];void 0===_&&(_=n[f]={}),_[y]=c}}return 1===s&&i.parseUShort(),n},et=function(e,t){var r,n=[],i={},s=Ze(Be);for(var o in e){var a=s[o];if(void 0===a&&(a=o),r=parseInt(a),isNaN(r))throw new Error('Name table entry "'+o+'" does not exist, see nameTableNames for complete list.');i[r]=e[o],n.push(r)}for(var l=Ze(Ve),c=Ze(Ge),u=[],h=[],d=0;d<n.length;d++){var p=i[r=n[d]];for(var f in p){var m=p[f],g=1,y=l[f],v=He[y],_=$e(g,v,y),b=R.MACSTRING(m,_);void 0===b&&(g=0,(y=t.indexOf(f))<0&&(y=t.length,t.push(f)),v=4,b=R.UTF16(m));var w=Je(b,h);u.push(Qe(g,v,y,r,b.length,w));var x=c[f];if(void 0!==x){var S=R.UTF16(m),M=Je(S,h);u.push(Qe(3,1,x,r,S.length,M))}}}u.sort(function(e,t){return e.platformID-t.platformID||e.encodingID-t.encodingID||e.languageID-t.languageID||e.nameID-t.nameID});for(var E=new Q.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:u.length},{name:"stringOffset",type:"USHORT",value:6+12*u.length}]),T=0;T<u.length;T++)E.fields.push({name:"record_"+T,type:"RECORD",value:u[T]});return E.fields.push({name:"strings",type:"LITERAL",value:h}),E},tt=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],rt=function(e,t){var r={},n=new se.Parser(e,t);r.version=n.parseUShort(),r.xAvgCharWidth=n.parseShort(),r.usWeightClass=n.parseUShort(),r.usWidthClass=n.parseUShort(),r.fsType=n.parseUShort(),r.ySubscriptXSize=n.parseShort(),r.ySubscriptYSize=n.parseShort(),r.ySubscriptXOffset=n.parseShort(),r.ySubscriptYOffset=n.parseShort(),r.ySuperscriptXSize=n.parseShort(),r.ySuperscriptYSize=n.parseShort(),r.ySuperscriptXOffset=n.parseShort(),r.ySuperscriptYOffset=n.parseShort(),r.yStrikeoutSize=n.parseShort(),r.yStrikeoutPosition=n.parseShort(),r.sFamilyClass=n.parseShort(),r.panose=[];for(var i=0;i<10;i++)r.panose[i]=n.parseByte();return r.ulUnicodeRange1=n.parseULong(),r.ulUnicodeRange2=n.parseULong(),r.ulUnicodeRange3=n.parseULong(),r.ulUnicodeRange4=n.parseULong(),r.achVendID=String.fromCharCode(n.parseByte(),n.parseByte(),n.parseByte(),n.parseByte()),r.fsSelection=n.parseUShort(),r.usFirstCharIndex=n.parseUShort(),r.usLastCharIndex=n.parseUShort(),r.sTypoAscender=n.parseShort(),r.sTypoDescender=n.parseShort(),r.sTypoLineGap=n.parseShort(),r.usWinAscent=n.parseUShort(),r.usWinDescent=n.parseUShort(),1<=r.version&&(r.ulCodePageRange1=n.parseULong(),r.ulCodePageRange2=n.parseULong()),2<=r.version&&(r.sxHeight=n.parseShort(),r.sCapHeight=n.parseShort(),r.usDefaultChar=n.parseUShort(),r.usBreakChar=n.parseUShort(),r.usMaxContent=n.parseUShort()),r},nt=function(e){for(var t=0;t<tt.length;t+=1){var r=tt[t];if(e>=r.begin&&e<r.end)return t}return-1},it=function(e,t){var r={},n=new se.Parser(e,t);switch(r.version=n.parseVersion(),r.italicAngle=n.parseFixed(),r.underlinePosition=n.parseShort(),r.underlineThickness=n.parseShort(),r.isFixedPitch=n.parseULong(),r.minMemType42=n.parseULong(),r.maxMemType42=n.parseULong(),r.minMemType1=n.parseULong(),r.maxMemType1=n.parseULong(),r.version){case 1:r.names=ue.slice();break;case 2:r.numberOfGlyphs=n.parseUShort(),r.glyphNameIndex=new Array(r.numberOfGlyphs);for(var i=0;i<r.numberOfGlyphs;i++)r.glyphNameIndex[i]=n.parseUShort();r.names=[];for(var s=0;s<r.numberOfGlyphs;s++)if(r.glyphNameIndex[s]>=ue.length){var o=n.parseChar();r.names.push(n.parseString(o))}break;case 2.5:r.numberOfGlyphs=n.parseUShort(),r.offset=new Array(r.numberOfGlyphs);for(var a=0;a<r.numberOfGlyphs;a++)r.offset[a]=n.parseChar()}return r},st=new Array(9);st[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(ne.coverage),deltaGlyphId:this.parseUShort()}:2===t?{substFormat:2,coverage:this.parsePointer(ne.coverage),substitute:this.parseOffset16List()}:void P.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")},st[2]=function(){var e=this.parseUShort();return P.argument(1===e,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ne.coverage),sequences:this.parseListOfLists()}},st[3]=function(){var e=this.parseUShort();return P.argument(1===e,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ne.coverage),alternateSets:this.parseListOfLists()}},st[4]=function(){var e=this.parseUShort();return P.argument(1===e,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ne.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var ot={sequenceIndex:ne.uShort,lookupListIndex:ne.uShort};st[5]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{substFormat:t,coverage:this.parsePointer(ne.coverage),ruleSets:this.parseListOfLists(function(){var e=this.parseUShort(),t=this.parseUShort();return{input:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,ot)}})};if(2===t)return{substFormat:t,coverage:this.parsePointer(ne.coverage),classDef:this.parsePointer(ne.classDef),classSets:this.parseListOfLists(function(){var e=this.parseUShort(),t=this.parseUShort();return{classes:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,ot)}})};if(3===t){var r=this.parseUShort(),n=this.parseUShort();return{substFormat:t,coverages:this.parseList(r,ne.pointer(ne.coverage)),lookupRecords:this.parseRecordList(n,ot)}}P.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},st[6]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(ne.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ot)}})}:2===t?{substFormat:2,coverage:this.parsePointer(ne.coverage),backtrackClassDef:this.parsePointer(ne.classDef),inputClassDef:this.parsePointer(ne.classDef),lookaheadClassDef:this.parsePointer(ne.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ot)}})}:3===t?{substFormat:3,backtrackCoverage:this.parseList(ne.pointer(ne.coverage)),inputCoverage:this.parseList(ne.pointer(ne.coverage)),lookaheadCoverage:this.parseList(ne.pointer(ne.coverage)),lookupRecords:this.parseRecordList(ot)}:void P.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},st[7]=function(){var e=this.parseUShort();P.argument(1===e,"GSUB Extension Substitution subtable identifier-format must be 1");var t=this.parseUShort(),r=new ne(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:t,extension:st[t].call(r)}},st[8]=function(){var e=this.parseUShort();return P.argument(1===e,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ne.coverage),backtrackCoverage:this.parseList(ne.pointer(ne.coverage)),lookaheadCoverage:this.parseList(ne.pointer(ne.coverage)),substitutes:this.parseUShortList()}};var at=new Array(9);at[1]=function(e){return new Q.Table("substitutionTable",1===e.substFormat?[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Q.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]:[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Q.Coverage(e.coverage)}].concat(Q.ushortList("substitute",e.substitute)))},at[3]=function(e){return P.assert(1===e.substFormat,"Lookup type 3 substFormat must be 1."),new Q.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Q.Coverage(e.coverage)}].concat(Q.tableList("altSet",e.alternateSets,function(e){return new Q.Table("alternateSetTable",Q.ushortList("alternate",e))})))},at[4]=function(e){return P.assert(1===e.substFormat,"Lookup type 4 substFormat must be 1."),new Q.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Q.Coverage(e.coverage)}].concat(Q.tableList("ligSet",e.ligatureSets,function(e){return new Q.Table("ligatureSetTable",Q.tableList("ligature",e,function(e){return new Q.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:e.ligGlyph}].concat(Q.ushortList("component",e.components,e.components.length+1)))}))})))};var lt=function(e,t){var r=new ne(e,t=t||0),n=r.parseVersion(1);return P.argument(1===n||1.1===n,"Unsupported GSUB table version."),1===n?{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(st)}:{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(st),variations:r.parseFeatureVariationsList()}},ct=function(e,t){var r=new se.Parser(e,t),n=r.parseULong();P.argument(1===n,"Unsupported META table version."),r.parseULong(),r.parseULong();for(var i=r.parseULong(),s={},o=0;o<i;o++){var a=r.parseTag(),l=r.parseULong(),c=r.parseULong(),u=O.UTF8(e,t+l,c);s[a]=u}return s};function ut(e){return Math.log(e)/Math.log(2)|0}function ht(e){for(;e.length%4!=0;)e.push(0);for(var t=0,r=0;r<e.length;r+=4)t+=(e[r]<<24)+(e[r+1]<<16)+(e[r+2]<<8)+e[r+3];return t%Math.pow(2,32)}function dt(e,t,r,n){return new Q.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0},{name:"offset",type:"ULONG",value:void 0!==r?r:0},{name:"length",type:"ULONG",value:void 0!==n?n:0}])}function pt(e){var t=new Q.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=e,t.numTables=e.length;var r=Math.pow(2,ut(t.numTables));t.searchRange=16*r,t.entrySelector=ut(r),t.rangeShift=16*t.numTables-t.searchRange;for(var n=[],i=[],s=t.sizeOf()+dt().sizeOf()*t.numTables;s%4!=0;)s+=1,i.push({name:"padding",type:"BYTE",value:0});for(var o=0;o<e.length;o+=1){var a=e[o];P.argument(4===a.tableName.length,"Table name"+a.tableName+" is invalid.");var l=a.sizeOf(),c=dt(a.tableName,ht(a.encode()),s,l);for(n.push({name:c.tag+" Table Record",type:"RECORD",value:c}),i.push({name:a.tableName+" table",type:"RECORD",value:a}),s+=l,P.argument(!isNaN(s),"Something went wrong calculating the offset.");s%4!=0;)s+=1,i.push({name:"padding",type:"BYTE",value:0})}return n.sort(function(e,t){return e.value.tag>t.value.tag?1:-1}),t.fields=t.fields.concat(n),t.fields=t.fields.concat(i),t}function ft(e,t,r){for(var n=0;n<t.length;n+=1){var i=e.charToGlyphIndex(t[n]);if(0<i)return e.glyphs.get(i).getMetrics()}return r}var mt=function(e){for(var t,r=[],n=[],i=[],s=[],o=[],a=[],l=[],c=0,u=0,h=0,d=0,p=0,f=0;f<e.glyphs.length;f+=1){var m=e.glyphs.get(f),g=0|m.unicode;if(isNaN(m.advanceWidth))throw new Error("Glyph "+m.name+" ("+f+"): advanceWidth is not a number.");(g<t||void 0===t)&&0<g&&(t=g),c<g&&(c=g);var y=nt(g);if(y<32)u|=1<<y;else if(y<64)h|=1<<y-32;else if(y<96)d|=1<<y-64;else{if(!(y<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");p|=1<<y-96}if(".notdef"!==m.name){var v=m.getMetrics();r.push(v.xMin),n.push(v.yMin),i.push(v.xMax),s.push(v.yMax),a.push(v.leftSideBearing),l.push(v.rightSideBearing),o.push(m.advanceWidth)}}var _={xMin:Math.min.apply(null,r),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,i),yMax:Math.max.apply(null,s),advanceWidthMax:Math.max.apply(null,o),advanceWidthAvg:function(e){for(var t=0,r=0;r<e.length;r+=1)t+=e[r];return t/e.length}(o),minLeftSideBearing:Math.min.apply(null,a),maxLeftSideBearing:Math.max.apply(null,a),minRightSideBearing:Math.min.apply(null,l)};_.ascender=e.ascender,_.descender=e.descender;var b=function(e){var t=Math.round((new Date).getTime()/1e3)+2082844800,r=t;return e.createdTimestamp&&(r=e.createdTimestamp+2082844800),new Q.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:r},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}({flags:3,unitsPerEm:e.unitsPerEm,xMin:_.xMin,yMin:_.yMin,xMax:_.xMax,yMax:_.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp}),w=function(e){return new Q.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}({ascender:_.ascender,descender:_.descender,advanceWidthMax:_.advanceWidthMax,minLeftSideBearing:_.minLeftSideBearing,minRightSideBearing:_.minRightSideBearing,xMaxExtent:_.maxLeftSideBearing+(_.xMax-_.xMin),numberOfHMetrics:e.glyphs.length}),x=function(e){return new Q.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}(e.glyphs.length),S=function(e){return new Q.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)}({xAvgCharWidth:Math.round(_.advanceWidthAvg),usWeightClass:e.tables.os2.usWeightClass,usWidthClass:e.tables.os2.usWidthClass,usFirstCharIndex:t,usLastCharIndex:c,ulUnicodeRange1:u,ulUnicodeRange2:h,ulUnicodeRange3:d,ulUnicodeRange4:p,fsSelection:e.tables.os2.fsSelection,sTypoAscender:_.ascender,sTypoDescender:_.descender,sTypoLineGap:0,usWinAscent:_.yMax,usWinDescent:Math.abs(_.yMin),ulCodePageRange1:1,sxHeight:ft(e,"xyvw",{yMax:Math.round(_.ascender/2)}).yMax,sCapHeight:ft(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",_).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0}),M=function(e){for(var t=new Q.Table("hmtx",[]),r=0;r<e.length;r+=1){var n=e.get(r),i=n.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+r,type:"USHORT",value:n.advanceWidth||0}),t.fields.push({name:"leftSideBearing_"+r,type:"SHORT",value:i})}return t}(e.glyphs),E=function(e){var t,r=!0;for(t=e.length-1;0<t;--t)if(65535<e.get(t).unicode){console.log("Adding CMAP format 12 (needed!)"),r=!1;break}var n=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:r?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:r?12:20}];r||(n=n.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),n=n.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var i,s,o=new Q.Table("cmap",n);for(o.segments=[],t=0;t<e.length;t+=1){for(var a=e.get(t),l=0;l<a.unicodes.length;l+=1)o.segments.push({end:i=a.unicodes[l],start:i,delta:-(i-(s=t)),offset:0,glyphIndex:s});o.segments=o.segments.sort(function(e,t){return e.start-t.start})}o.segments.push({end:65535,start:65535,delta:1,offset:0});var c=o.segments.length,u=0,h=[],d=[],p=[],f=[],m=[],g=[];for(t=0;t<c;t+=1){var y=o.segments[t];y.end<=65535&&y.start<=65535?(h=h.concat({name:"end_"+t,type:"USHORT",value:y.end}),d=d.concat({name:"start_"+t,type:"USHORT",value:y.start}),p=p.concat({name:"idDelta_"+t,type:"SHORT",value:y.delta}),f=f.concat({name:"idRangeOffset_"+t,type:"USHORT",value:y.offset}),void 0!==y.glyphId&&(m=m.concat({name:"glyph_"+t,type:"USHORT",value:y.glyphId}))):u+=1,r||void 0===y.glyphIndex||(g=(g=(g=g.concat({name:"cmap12Start_"+t,type:"ULONG",value:y.start})).concat({name:"cmap12End_"+t,type:"ULONG",value:y.end})).concat({name:"cmap12Glyph_"+t,type:"ULONG",value:y.glyphIndex}))}if(o.segCountX2=2*(c-u),o.searchRange=2*Math.pow(2,Math.floor(Math.log(c-u)/Math.log(2))),o.entrySelector=Math.log(o.searchRange/2)/Math.log(2),o.rangeShift=o.segCountX2-o.searchRange,o.fields=o.fields.concat(h),o.fields.push({name:"reservedPad",type:"USHORT",value:0}),o.fields=o.fields.concat(d),o.fields=o.fields.concat(p),o.fields=o.fields.concat(f),o.fields=o.fields.concat(m),o.cmap4Length=14+2*h.length+2+2*d.length+2*p.length+2*f.length+2*m.length,!r){var v=16+4*g.length;o.cmap12Offset=20+o.cmap4Length,o.fields=o.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:v},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:g.length/3}]),o.fields=o.fields.concat(g)}return o}(e.glyphs),T=e.getEnglishName("fontFamily"),C=e.getEnglishName("fontSubfamily"),A=T+" "+C,L=e.getEnglishName("postScriptName");L=L||T.replace(/\s/g,"")+"-"+C;var P={};for(var O in e.names)P[O]=e.names[O];P.uniqueID||(P.uniqueID={en:e.getEnglishName("manufacturer")+":"+A}),P.postScriptName||(P.postScriptName={en:L}),P.preferredFamily||(P.preferredFamily=e.names.fontFamily),P.preferredSubfamily||(P.preferredSubfamily=e.names.fontSubfamily);var R=[],k=et(P,R),j=0<R.length?function(e){for(var t=new Q.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),r="",n=12+4*e.length,i=0;i<e.length;++i){var s=r.indexOf(e[i]);s<0&&(s=r.length,r+=e[i]),t.fields.push({name:"offset "+i,type:"USHORT",value:n+s}),t.fields.push({name:"length "+i,type:"USHORT",value:e[i].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),t}(R):void 0,D=new Q.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}]),I=function(e,t){for(var r,n=new Q.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),i=1/t.unitsPerEm,s={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[i,0,0,i,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},o=[],a=1;a<e.length;a+=1)r=e.get(a),o.push(r.name);var l=[];n.header=new Q.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),n.nameIndex=function(e){var t=new Q.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var r=0;r<e.length;r+=1)t.names.push({name:"name_"+r,type:"NAME",value:e[r]});return t}([t.postScriptName]);var c,u,h,d=je(s,l);n.topDictIndex=De(d),n.globalSubrIndex=new Q.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),n.charsets=function(e,t){for(var r=new Q.Record("Charsets",[{name:"format",type:"Card8",value:0}]),n=0;n<e.length;n+=1){var i=Re(e[n],t);r.fields.push({name:"glyph_"+n,type:"SID",value:i})}return r}(o,l),n.charStringsIndex=function(e){for(var t=new Q.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),r=0;r<e.length;r+=1){var n=e.get(r),i=Ie(n);t.charStrings.push({name:n.name,type:"CHARSTRING",value:i})}return t}(e),n.privateDict=(c={},u=l,(h=new Q.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=ke(Ae,c,u),h),n.stringIndex=function(e){var t=new Q.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var r=0;r<e.length;r+=1)t.strings.push({name:"string_"+r,type:"STRING",value:e[r]});return t}(l);var p=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return s.charset=p,s.encoding=0,s.charStrings=s.charset+n.charsets.sizeOf(),s.private[1]=s.charStrings+n.charStringsIndex.sizeOf(),d=je(s,l),n.topDictIndex=De(d),n}(e.glyphs,{version:e.getEnglishName("version"),fullName:A,familyName:T,weightName:C,postScriptName:L,unitsPerEm:e.unitsPerEm,fontBBox:[0,_.yMin,_.ascender,_.advanceWidthMax]}),N=e.metas&&0<Object.keys(e.metas).length?function(e){var t=Object.keys(e).length,r="",n=16+12*t,i=new Q.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:n},{name:"numTags",type:"ULONG",value:t}]);for(var s in e){var o=r.length;r+=e[s],i.fields.push({name:"tag "+s,type:"TAG",value:s}),i.fields.push({name:"offset "+s,type:"ULONG",value:n+o}),i.fields.push({name:"length "+s,type:"ULONG",value:e[s].length})}return i.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),i}(e.metas):void 0,z=[b,w,x,S,k,E,D,I,M];j&&z.push(j),e.tables.gsub&&z.push(function(e){return new Q.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Q.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new Q.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new Q.LookupList(e.lookups,at)}])}(e.tables.gsub)),N&&z.push(N);for(var F=pt(z),U=ht(F.encode()),B=F.fields,V=!1,H=0;H<B.length;H+=1)if("head table"===B[H].name){B[H].value.checkSumAdjustment=2981146554-U,V=!0;break}if(!V)throw new Error("Could not find head table with checkSum to adjust.");return F};function gt(e,t){for(var r=0,n=e.length-1;r<=n;){var i=r+n>>>1,s=e[i].tag;if(s===t)return i;s<t?r=1+i:n=i-1}return-r-1}function yt(e,t){for(var r=0,n=e.length-1;r<=n;){var i=r+n>>>1,s=e[i];if(s===t)return i;s<t?r=1+i:n=i-1}return-r-1}function vt(e,t){for(var r,n=0,i=e.length-1;n<=i;){var s=n+i>>>1,o=(r=e[s]).start;if(o===t)return r;o<t?n=1+s:i=s-1}if(0<n)return t>(r=e[n-1]).end?0:r}function _t(e,t){this.font=e,this.tableName=t}function bt(e){_t.call(this,e,"gpos")}function wt(e){_t.call(this,e,"gsub")}function xt(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function St(e,t,r){for(var n=e.subtables,i=0;i<n.length;i++){var s=n[i];if(s.substFormat===t)return s}if(r)return n.push(r),r}function Mt(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;++n)r[n]=e[n];return t}function Et(e,t){if(!e)throw t}function Tt(e,t,r,n,i){var s;return 0<(t&n)?(s=e.parseByte(),0==(t&i)&&(s=-s),r+s):0<(t&i)?r:r+e.parseShort()}function Ct(e,t,r){var n,i,s=new se.Parser(t,r);if(e.numberOfContours=s.parseShort(),e._xMin=s.parseShort(),e._yMin=s.parseShort(),e._xMax=s.parseShort(),e._yMax=s.parseShort(),0<e.numberOfContours){for(var o=e.endPointIndices=[],a=0;a<e.numberOfContours;a+=1)o.push(s.parseUShort());e.instructionLength=s.parseUShort(),e.instructions=[];for(var l=0;l<e.instructionLength;l+=1)e.instructions.push(s.parseByte());var c=o[o.length-1]+1;n=[];for(var u=0;u<c;u+=1)if(i=s.parseByte(),n.push(i),0<(8&i))for(var h=s.parseByte(),d=0;d<h;d+=1)n.push(i),u+=1;if(P.argument(n.length===c,"Bad flags."),0<o.length){var p,f=[];if(0<c){for(var m=0;m<c;m+=1)(p={}).onCurve=!!(1&(i=n[m])),p.lastPointOfContour=0<=o.indexOf(m),f.push(p);for(var g=0,y=0;y<c;y+=1)(p=f[y]).x=Tt(s,i=n[y],g,2,16),g=p.x;for(var v=0,_=0;_<c;_+=1)(p=f[_]).y=Tt(s,i=n[_],v,4,32),v=p.y}e.points=f}else e.points=[]}else if(0===e.numberOfContours)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var b=!0;b;){n=s.parseUShort();var w={glyphIndex:s.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&n)?0<(2&n)?(w.dx=s.parseShort(),w.dy=s.parseShort()):w.matchedPoints=[s.parseUShort(),s.parseUShort()]:0<(2&n)?(w.dx=s.parseChar(),w.dy=s.parseChar()):w.matchedPoints=[s.parseByte(),s.parseByte()],0<(8&n)?w.xScale=w.yScale=s.parseF2Dot14():0<(64&n)?(w.xScale=s.parseF2Dot14(),w.yScale=s.parseF2Dot14()):0<(128&n)&&(w.xScale=s.parseF2Dot14(),w.scale01=s.parseF2Dot14(),w.scale10=s.parseF2Dot14(),w.yScale=s.parseF2Dot14()),e.components.push(w),b=!!(32&n)}if(256&n){e.instructionLength=s.parseUShort(),e.instructions=[];for(var x=0;x<e.instructionLength;x+=1)e.instructions.push(s.parseByte())}}}function At(e,t){for(var r=[],n=0;n<e.length;n+=1){var i=e[n];r.push({x:t.xScale*i.x+t.scale01*i.y+t.dx,y:t.scale10*i.x+t.yScale*i.y+t.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour})}return r}function Lt(e){var t=new C;if(!e)return t;for(var r=function(e){for(var t=[],r=[],n=0;n<e.length;n+=1){var i=e[n];r.push(i),i.lastPointOfContour&&(t.push(r),r=[])}return P.argument(0===r.length,"There are still points left in the current contour."),t}(e),n=0;n<r.length;++n){var i=r[n],s=i[i.length-1],o=i[0];if(s.onCurve)t.moveTo(s.x,s.y);else if(o.onCurve)t.moveTo(o.x,o.y);else{var a={x:.5*(s.x+o.x),y:.5*(s.y+o.y)};t.moveTo(a.x,a.y)}for(var l=0;l<i.length;++l)if(s=o,o=i[(l+1)%i.length],s.onCurve)t.lineTo(s.x,s.y);else{var c=o;o.onCurve||(c={x:.5*(s.x+o.x),y:.5*(s.y+o.y)}),t.quadraticCurveTo(s.x,s.y,c.x,c.y)}t.closePath()}return t}function Pt(e,t){if(t.isComposite)for(var r=0;r<t.components.length;r+=1){var n=t.components[r],i=e.get(n.glyphIndex);if(i.getPath(),i.points){var s=void 0;if(void 0===n.matchedPoints)s=At(i.points,n);else{if(n.matchedPoints[0]>t.points.length-1||n.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+t.name);var o=t.points[n.matchedPoints[0]],a=i.points[n.matchedPoints[1]],l={xScale:n.xScale,scale01:n.scale01,scale10:n.scale10,yScale:n.yScale,dx:0,dy:0};a=At([a],l)[0],l.dx=o.x-a.x,l.dy=o.y-a.y,s=At(i.points,l)}t.points=t.points.concat(s)}}return Lt(t.points)}(bt.prototype=_t.prototype={searchTag:gt,binSearch:yt,getTable:function(e){var t=this.font.tables[this.tableName];return!t&&e&&(t=this.font.tables[this.tableName]=this.createDefaultTable()),t},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){var e=this.getTable();if(e){for(var t=!1,r=0;r<e.scripts.length;r++){var n=e.scripts[r].tag;if("DFLT"===n)return n;"latn"===n&&(t=!0)}return t?"latn":void 0}},getScriptTable:function(e,t){var r=this.getTable(t);if(r){var n=r.scripts,i=gt(r.scripts,e=e||"DFLT");if(0<=i)return n[i].script;if(t){var s={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return n.splice(-1-i,0,s),s.script}}},getLangSysTable:function(e,t,r){var n=this.getScriptTable(e,r);if(n){if(!t||"dflt"===t||"DFLT"===t)return n.defaultLangSys;var i=gt(n.langSysRecords,t);if(0<=i)return n.langSysRecords[i].langSys;if(r){var s={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return n.langSysRecords.splice(-1-i,0,s),s.langSys}}},getFeatureTable:function(e,t,r,n){var i=this.getLangSysTable(e,t,n);if(i){for(var s,o=i.featureIndexes,a=this.font.tables[this.tableName].features,l=0;l<o.length;l++)if((s=a[o[l]]).tag===r)return s.feature;if(n){var c=a.length;return P.assert(0===c||r>=a[c-1].tag,"Features must be added in alphabetical order."),a.push(s={tag:r,feature:{params:0,lookupListIndexes:[]}}),o.push(c),s.feature}}},getLookupTables:function(e,t,r,n,i){var s=this.getFeatureTable(e,t,r,i),o=[];if(s){for(var a,l=s.lookupListIndexes,c=this.font.tables[this.tableName].lookups,u=0;u<l.length;u++)(a=c[l[u]]).lookupType===n&&o.push(a);if(0===o.length&&i){var h=c.length;return c.push(a={lookupType:n,lookupFlag:0,subtables:[],markFilteringSet:void 0}),l.push(h),[a]}}return o},getGlyphClass:function(e,t){switch(e.format){case 1:return e.startGlyph<=t&&t<e.startGlyph+e.classes.length?e.classes[t-e.startGlyph]:0;case 2:var r=vt(e.ranges,t);return r?r.classId:0}},getCoverageIndex:function(e,t){switch(e.format){case 1:var r=yt(e.glyphs,t);return 0<=r?r:-1;case 2:var n=vt(e.ranges,t);return n?n.index+t-n.start:-1}},expandCoverage:function(e){if(1===e.format)return e.glyphs;for(var t=[],r=e.ranges,n=0;n<r.length;n++)for(var i=r[n],s=i.end,o=i.start;o<=s;o++)t.push(o);return t}}).init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)},bt.prototype.getKerningValue=function(e,t,r){for(var n=0;n<e.length;n++)for(var i=e[n].subtables,s=0;s<i.length;s++){var o=i[s],a=this.getCoverageIndex(o.coverage,t);if(!(a<0))switch(o.posFormat){case 1:for(var l=o.pairSets[a],c=0;c<l.length;c++){var u=l[c];if(u.secondGlyph===r)return u.value1&&u.value1.xAdvance||0}break;case 2:var h=this.getGlyphClass(o.classDef1,t),d=this.getGlyphClass(o.classDef2,r),p=o.classRecords[h][d];return p.value1&&p.value1.xAdvance||0}}return 0},bt.prototype.getKerningTables=function(e,t){if(this.font.tables.gpos)return this.getLookupTables(e,t,"kern",2)},(wt.prototype=_t.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},wt.prototype.getSingle=function(e,t,r){for(var n=[],i=this.getLookupTables(t,r,e,1),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++){var l=o[a],c=this.expandCoverage(l.coverage),u=void 0;if(1===l.substFormat){var h=l.deltaGlyphId;for(u=0;u<c.length;u++){var d=c[u];n.push({sub:d,by:d+h})}}else{var p=l.substitute;for(u=0;u<c.length;u++)n.push({sub:c[u],by:p[u]})}}return n},wt.prototype.getAlternates=function(e,t,r){for(var n=[],i=this.getLookupTables(t,r,e,3),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++)for(var l=o[a],c=this.expandCoverage(l.coverage),u=l.alternateSets,h=0;h<c.length;h++)n.push({sub:c[h],by:u[h]});return n},wt.prototype.getLigatures=function(e,t,r){for(var n=[],i=this.getLookupTables(t,r,e,4),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++)for(var l=o[a],c=this.expandCoverage(l.coverage),u=l.ligatureSets,h=0;h<c.length;h++)for(var d=c[h],p=u[h],f=0;f<p.length;f++){var m=p[f];n.push({sub:[d].concat(m.components),by:m.ligGlyph})}return n},wt.prototype.addSingle=function(e,t,r,n){var i=St(this.getLookupTables(r,n,e,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});P.assert(1===i.coverage.format,"Ligature: unable to modify coverage table format "+i.coverage.format);var s=t.sub,o=this.binSearch(i.coverage.glyphs,s);o<0&&(i.coverage.glyphs.splice(o=-1-o,0,s),i.substitute.splice(o,0,0)),i.substitute[o]=t.by},wt.prototype.addAlternate=function(e,t,r,n){var i=St(this.getLookupTables(r,n,e,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});P.assert(1===i.coverage.format,"Ligature: unable to modify coverage table format "+i.coverage.format);var s=t.sub,o=this.binSearch(i.coverage.glyphs,s);o<0&&(i.coverage.glyphs.splice(o=-1-o,0,s),i.alternateSets.splice(o,0,0)),i.alternateSets[o]=t.by},wt.prototype.addLigature=function(e,t,r,n){var i=this.getLookupTables(r,n,e,4,!0)[0],s=i.subtables[0];s||(i.subtables[0]=s={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),P.assert(1===s.coverage.format,"Ligature: unable to modify coverage table format "+s.coverage.format);var o=t.sub[0],a=t.sub.slice(1),l={ligGlyph:t.by,components:a},c=this.binSearch(s.coverage.glyphs,o);if(0<=c){for(var u=s.ligatureSets[c],h=0;h<u.length;h++)if(xt(u[h].components,a))return;u.push(l)}else s.coverage.glyphs.splice(c=-1-c,0,o),s.ligatureSets.splice(c,0,[l])},wt.prototype.getFeature=function(e,t,r){if(/ss\d\d/.test(e))return this.getSingle(e,t,r);switch(e){case"aalt":case"salt":return this.getSingle(e,t,r).concat(this.getAlternates(e,t,r));case"dlig":case"liga":case"rlig":return this.getLigatures(e,t,r)}},wt.prototype.add=function(e,t,r,n){if(/ss\d\d/.test(e))return this.addSingle(e,t,r,n);switch(e){case"aalt":case"salt":return"number"==typeof t.by?this.addSingle(e,t,r,n):this.addAlternate(e,t,r,n);case"dlig":case"liga":case"rlig":return this.addLigature(e,t,r,n)}};var Ot,Rt,kt,jt,Dt={getPath:Lt,parse:function(e,t,r,n){for(var i=new _e.GlyphSet(n),s=0;s<r.length-1;s+=1){var o=r[s];i.push(s,o!==r[s+1]?_e.ttfGlyphLoader(n,s,Ct,e,t+o,Pt):_e.glyphLoader(n,s))}return i}};function It(e){this.font=e,this.getCommands=function(e){return Dt.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Nt(e){return e}function zt(e){return Math.sign(e)*Math.round(Math.abs(e))}function Ft(e){return Math.sign(e)*Math.round(Math.abs(2*e))/2}function Ut(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function Bt(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function Vt(e){return Math.sign(e)*Math.floor(Math.abs(e))}function Ht(e){var t=this.srPeriod,r=this.srPhase,n=1;return e<0&&(e=-e,n=-1),e+=this.srThreshold-r,e=Math.trunc(e/t)*t,(e+=r)<0?r*n:e*n}var Gt={x:1,y:0,axis:"x",distance:function(e,t,r,n){return(r?e.xo:e.x)-(n?t.xo:t.x)},interpolate:function(e,t,r,n){var i,s,o,a,l,c,u;if(!n||n===this)return i=e.xo-t.xo,s=e.xo-r.xo,l=t.x-t.xo,c=r.x-r.xo,0===(u=(o=Math.abs(i))+(a=Math.abs(s)))?void(e.x=e.xo+(l+c)/2):void(e.x=e.xo+(l*a+c*o)/u);i=n.distance(e,t,!0,!0),s=n.distance(e,r,!0,!0),l=n.distance(t,t,!1,!0),c=n.distance(r,r,!1,!0),0!==(u=(o=Math.abs(i))+(a=Math.abs(s)))?Gt.setRelative(e,e,(l*a+c*o)/u,n,!0):Gt.setRelative(e,e,(l+c)/2,n,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,t,r,n,i){e.x=n&&n!==this?(i?t.xo:t.x)+r*n.x+(e.y-((i?t.yo:t.y)+r*n.y))/n.normalSlope:(i?t.xo:t.x)+r},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},Wt={x:0,y:1,axis:"y",distance:function(e,t,r,n){return(r?e.yo:e.y)-(n?t.yo:t.y)},interpolate:function(e,t,r,n){var i,s,o,a,l,c,u;if(!n||n===this)return i=e.yo-t.yo,s=e.yo-r.yo,l=t.y-t.yo,c=r.y-r.yo,0===(u=(o=Math.abs(i))+(a=Math.abs(s)))?void(e.y=e.yo+(l+c)/2):void(e.y=e.yo+(l*a+c*o)/u);i=n.distance(e,t,!0,!0),s=n.distance(e,r,!0,!0),l=n.distance(t,t,!1,!0),c=n.distance(r,r,!1,!0),0!==(u=(o=Math.abs(i))+(a=Math.abs(s)))?Wt.setRelative(e,e,(l*a+c*o)/u,n,!0):Wt.setRelative(e,e,(l+c)/2,n,!0)},normalSlope:0,setRelative:function(e,t,r,n,i){e.y=n&&n!==this?(i?t.yo:t.y)+r*n.y+n.normalSlope*(e.x-((i?t.xo:t.x)+r*n.x)):(i?t.yo:t.y)+r},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};function qt(e,t){this.x=e,this.y=t,this.axis=void 0,this.slope=t/e,this.normalSlope=-e/t,Object.freeze(this)}function Xt(e,t){var r=Math.sqrt(e*e+t*t);return t/=r,1==(e/=r)&&0===t?Gt:0===e&&1===t?Wt:new qt(e,t)}function Yt(e,t,r,n){this.x=this.xo=Math.round(64*e)/64,this.y=this.yo=Math.round(64*t)/64,this.lastPointOfContour=r,this.onCurve=n,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Gt),Object.freeze(Wt),qt.prototype.distance=function(e,t,r,n){return this.x*Gt.distance(e,t,r,n)+this.y*Wt.distance(e,t,r,n)},qt.prototype.interpolate=function(e,t,r,n){var i,s,o,a,l,c,u;o=n.distance(e,t,!0,!0),a=n.distance(e,r,!0,!0),i=n.distance(t,t,!1,!0),s=n.distance(r,r,!1,!0),0!==(u=(l=Math.abs(o))+(c=Math.abs(a)))?this.setRelative(e,e,(i*c+s*l)/u,n,!0):this.setRelative(e,e,(i+s)/2,n,!0)},qt.prototype.setRelative=function(e,t,r,n,i){var s=(n=n||this).normalSlope,o=this.slope,a=e.x,l=e.y;e.x=(o*a-s*((i?t.xo:t.x)+r*n.x)+((i?t.yo:t.y)+r*n.y)-l)/(o-s),e.y=o*(e.x-a)+l},qt.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0},Yt.prototype.nextTouched=function(e){for(var t=this.nextPointOnContour;!e.touched(t)&&t!==this;)t=t.nextPointOnContour;return t},Yt.prototype.prevTouched=function(e){for(var t=this.prevPointOnContour;!e.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var $t=Object.freeze(new Yt(0,0)),Zt={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Qt(e,t){switch(this.env=e,this.stack=[],this.prog=t,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Gt,this.round=zt}}function Jt(e){for(var t=e.tZone=new Array(e.gZone.length),r=0;r<t.length;r++)t[r]=new Yt(0,0)}function Kt(e,t){var r,n=e.prog,i=e.ip,s=1;do{if(88===(r=n[++i]))s++;else if(89===r)s--;else if(64===r)i+=n[i+1]+1;else if(65===r)i+=2*n[i+1]+1;else if(176<=r&&r<=183)i+=r-176+1;else if(184<=r&&r<=191)i+=2*(r-184+1);else if(t&&1===s&&27===r)break}while(0<s);e.ip=i}function er(e,r){t.DEBUG&&console.log(r.step,"SVTCA["+e.axis+"]"),r.fv=r.pv=r.dpv=e}function tr(e,r){t.DEBUG&&console.log(r.step,"SPVTCA["+e.axis+"]"),r.pv=r.dpv=e}function rr(e,r){t.DEBUG&&console.log(r.step,"SFVTCA["+e.axis+"]"),r.fv=e}function nr(e,r){var n,i,s=r.stack,o=s.pop(),a=s.pop(),l=r.z2[o],c=r.z1[a];t.DEBUG&&console.log("SPVTL["+e+"]",o,a),i=e?(n=l.y-c.y,c.x-l.x):(n=c.x-l.x,c.y-l.y),r.pv=r.dpv=Xt(n,i)}function ir(e,r){var n,i,s=r.stack,o=s.pop(),a=s.pop(),l=r.z2[o],c=r.z1[a];t.DEBUG&&console.log("SFVTL["+e+"]",o,a),i=e?(n=l.y-c.y,c.x-l.x):(n=c.x-l.x,c.y-l.y),r.fv=Xt(n,i)}function sr(e){t.DEBUG&&console.log(e.step,"POP[]"),e.stack.pop()}function or(e,r){var n=r.stack.pop(),i=r.z0[n],s=r.fv,o=r.pv;t.DEBUG&&console.log(r.step,"MDAP["+e+"]",n);var a=o.distance(i,$t);e&&(a=r.round(a)),s.setRelative(i,$t,a,o),s.touch(i),r.rp0=r.rp1=n}function ar(e,r){var n,i,s,o=r.z2,a=o.length-2;t.DEBUG&&console.log(r.step,"IUP["+e.axis+"]");for(var l=0;l<a;l++)e.touched(n=o[l])||(i=n.prevTouched(e))!==n&&(i===(s=n.nextTouched(e))&&e.setRelative(n,n,e.distance(i,i,!1,!0),e,!0),e.interpolate(n,i,s,e))}function lr(e,r){for(var n=r.stack,i=(e?r.z0:r.z1)[e?r.rp1:r.rp2],s=r.fv,o=r.pv,a=r.loop,l=r.z2;a--;){var c=n.pop(),u=l[c],h=o.distance(i,i,!1,!0);s.setRelative(u,u,h,o),s.touch(u),t.DEBUG&&console.log(r.step,(1<r.loop?"loop "+(r.loop-a)+": ":"")+"SHP["+(e?"rp1":"rp2")+"]",c)}r.loop=1}function cr(e,r){var n=(e?r.z0:r.z1)[e?r.rp1:r.rp2],i=r.fv,s=r.pv,o=r.stack.pop(),a=r.z2[r.contours[o]],l=a;t.DEBUG&&console.log(r.step,"SHC["+e+"]",o);for(var c=s.distance(n,n,!1,!0);l!==n&&i.setRelative(l,l,c,s),(l=l.nextPointOnContour)!==a;);}function ur(e,r){var n,i,s=(e?r.z0:r.z1)[e?r.rp1:r.rp2],o=r.fv,a=r.pv,l=r.stack.pop();switch(t.DEBUG&&console.log(r.step,"SHZ["+e+"]",l),l){case 0:n=r.tZone;break;case 1:n=r.gZone;break;default:throw new Error("Invalid zone")}for(var c=a.distance(s,s,!1,!0),u=n.length-2,h=0;h<u;h++)o.setRelative(i=n[h],i,c,a)}function hr(e,r){var n=r.stack,i=n.pop()/64,s=n.pop(),o=r.z1[s],a=r.fv;a.setRelative(o,r.z0[r.rp0],i,r.pv),a.touch(o),t.DEBUG&&console.log(r.step,"MSIRP["+e+"]",i,s),r.rp1=r.rp0,r.rp2=s,e&&(r.rp0=s)}function dr(e,r){var n=r.stack,i=n.pop(),s=n.pop(),o=r.z0[s],a=r.fv,l=r.pv,c=r.cvt[i];t.DEBUG&&console.log(r.step,"MIAP["+e+"]",i,"(",c,")",s);var u=l.distance(o,$t);e&&(Math.abs(u-c)<r.cvCutIn&&(u=c),u=r.round(u)),a.setRelative(o,$t,u,l),0===r.zp0&&(o.xo=o.x,o.yo=o.y),a.touch(o),r.rp0=r.rp1=s}function pr(e,r){var n=r.stack,i=n.pop(),s=r.z2[i];t.DEBUG&&console.log(r.step,"GC["+e+"]",i),n.push(64*r.dpv.distance(s,$t,e,!1))}function fr(e,r){var n=r.stack,i=n.pop(),s=n.pop(),o=r.dpv.distance(r.z0[s],r.z1[i],e,e);t.DEBUG&&console.log(r.step,"MD["+e+"]",i,s,"->",o),r.stack.push(Math.round(64*o))}function mr(e,r){var n=r.stack,i=n.pop(),s=r.fv,o=r.pv,a=r.ppem,l=r.deltaBase+16*(e-1),c=r.deltaShift,u=r.z0;t.DEBUG&&console.log(r.step,"DELTAP["+e+"]",i,n);for(var h=0;h<i;h++){var d=n.pop(),p=n.pop();if(l+((240&p)>>4)===a){var f=(15&p)-8;0<=f&&f++,t.DEBUG&&console.log(r.step,"DELTAPFIX",d,"by",f*c);var m=u[d];s.setRelative(m,m,f*c,o)}}}function gr(e,r){var n=r.stack,i=n.pop();t.DEBUG&&console.log(r.step,"ROUND[]"),n.push(64*r.round(i/64))}function yr(e,r){var n=r.stack,i=n.pop(),s=r.ppem,o=r.deltaBase+16*(e-1),a=r.deltaShift;t.DEBUG&&console.log(r.step,"DELTAC["+e+"]",i,n);for(var l=0;l<i;l++){var c=n.pop(),u=n.pop();if(o+((240&u)>>4)===s){var h=(15&u)-8;0<=h&&h++;var d=h*a;t.DEBUG&&console.log(r.step,"DELTACFIX",c,"by",d),r.cvt[c]+=d}}}function vr(e,r){var n,i,s=r.stack,o=s.pop(),a=s.pop(),l=r.z2[o],c=r.z1[a];t.DEBUG&&console.log(r.step,"SDPVTL["+e+"]",o,a),i=e?(n=l.y-c.y,c.x-l.x):(n=c.x-l.x,c.y-l.y),r.dpv=Xt(n,i)}function _r(e,r){var n=r.stack,i=r.prog,s=r.ip;t.DEBUG&&console.log(r.step,"PUSHB["+e+"]");for(var o=0;o<e;o++)n.push(i[++s]);r.ip=s}function br(e,r){var n=r.ip,i=r.prog,s=r.stack;t.DEBUG&&console.log(r.ip,"PUSHW["+e+"]");for(var o=0;o<e;o++){var a=i[++n]<<8|i[++n];32768&a&&(a=-(1+(65535^a))),s.push(a)}r.ip=n}function wr(e,r,n,i,s,o){var a,l,c,u,h=o.stack,d=e&&h.pop(),p=h.pop(),f=o.z0[o.rp0],m=o.z1[p],g=o.minDis,y=o.fv,v=o.dpv;c=0<=(l=a=v.distance(m,f,!0,!0))?1:-1,l=Math.abs(l),e&&(u=o.cvt[d],i&&Math.abs(l-u)<o.cvCutIn&&(l=u)),n&&l<g&&(l=g),i&&(l=o.round(l)),y.setRelative(m,f,c*l,v),y.touch(m),t.DEBUG&&console.log(o.step,(e?"MIRP[":"MDRP[")+(r?"M":"m")+(n?">":"_")+(i?"R":"_")+(0===s?"Gr":1===s?"Bl":2===s?"Wh":"")+"]",e?d+"("+o.cvt[d]+","+u+")":"",p,"(d =",a,"->",c*l,")"),o.rp1=o.rp0,o.rp2=p,r&&(o.rp0=p)}It.prototype.exec=function(e,r){if("number"!=typeof r)throw new Error("Point size is not a number!");if(!(2<this._errorState)){var n=this.font,i=this._prepState;if(!i||i.ppem!==r){var s=this._fpgmState;if(!s){Qt.prototype=Zt,(s=this._fpgmState=new Qt("fpgm",n.tables.fpgm)).funcs=[],s.font=n,t.DEBUG&&(console.log("---EXEC FPGM---"),s.step=-1);try{Rt(s)}catch(e){return console.log("Hinting error in FPGM:"+e),void(this._errorState=3)}}Qt.prototype=s,(i=this._prepState=new Qt("prep",n.tables.prep)).ppem=r;var o=n.tables.cvt;if(o)for(var a=i.cvt=new Array(o.length),l=r/n.unitsPerEm,c=0;c<o.length;c++)a[c]=o[c]*l;else i.cvt=[];t.DEBUG&&(console.log("---EXEC PREP---"),i.step=-1);try{Rt(i)}catch(e){this._errorState<2&&console.log("Hinting error in PREP:"+e),this._errorState=2}}if(!(1<this._errorState))try{return kt(e,i)}catch(e){return this._errorState<1&&(console.log("Hinting error:"+e),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},kt=function(e,r){var n,i,s,o=r.ppem/r.font.unitsPerEm,a=o,l=e.components;if(Qt.prototype=r,l){var c=r.font;i=[],n=[];for(var u=0;u<l.length;u++){var h=l[u],d=c.glyphs.get(h.glyphIndex);s=new Qt("glyf",d.instructions),t.DEBUG&&(console.log("---EXEC COMP "+u+"---"),s.step=-1),jt(d,s,o,a);for(var p=Math.round(h.dx*o),f=Math.round(h.dy*a),m=s.gZone,g=s.contours,y=0;y<m.length;y++){var v=m[y];v.xTouched=v.yTouched=!1,v.xo=v.x=v.x+p,v.yo=v.y=v.y+f}var _=i.length;i.push.apply(i,m);for(var b=0;b<g.length;b++)n.push(g[b]+_)}e.instructions&&!s.inhibitGridFit&&((s=new Qt("glyf",e.instructions)).gZone=s.z0=s.z1=s.z2=i,s.contours=n,i.push(new Yt(0,0),new Yt(Math.round(e.advanceWidth*o),0)),t.DEBUG&&(console.log("---EXEC COMPOSITE---"),s.step=-1),Rt(s),i.length-=2)}else s=new Qt("glyf",e.instructions),t.DEBUG&&(console.log("---EXEC GLYPH---"),s.step=-1),jt(e,s,o,a),i=s.gZone;return i},jt=function(e,r,n,i){for(var s,o,a=e.points||[],l=a.length,c=r.gZone=r.z0=r.z1=r.z2=[],u=r.contours=[],h=0;h<l;h++)c[h]=new Yt((s=a[h]).x*n,s.y*i,s.lastPointOfContour,s.onCurve);for(var d=0;d<l;d++)s=c[d],o||(o=s,u.push(d)),s.lastPointOfContour?((s.nextPointOnContour=o).prevPointOnContour=s,o=void 0):(s.nextPointOnContour=c[d+1]).prevPointOnContour=s;if(!r.inhibitGridFit){if(t.DEBUG){console.log("PROCESSING GLYPH",r.stack);for(var p=0;p<l;p++)console.log(p,c[p].x,c[p].y)}if(c.push(new Yt(0,0),new Yt(Math.round(e.advanceWidth*n),0)),Rt(r),c.length-=2,t.DEBUG){console.log("FINISHED GLYPH",r.stack);for(var f=0;f<l;f++)console.log(f,c[f].x,c[f].y)}}},Rt=function(e){var r=e.prog;if(r){var n,i=r.length;for(e.ip=0;e.ip<i;e.ip++){if(t.DEBUG&&e.step++,!(n=Ot[r[e.ip]]))throw new Error("unknown instruction: 0x"+Number(r[e.ip]).toString(16));n(e)}}},Ot=[er.bind(void 0,Wt),er.bind(void 0,Gt),tr.bind(void 0,Wt),tr.bind(void 0,Gt),rr.bind(void 0,Wt),rr.bind(void 0,Gt),nr.bind(void 0,0),nr.bind(void 0,1),ir.bind(void 0,0),ir.bind(void 0,1),function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"SPVFS[]",n,i),e.pv=e.dpv=Xt(i,n)},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"SPVFS[]",n,i),e.fv=Xt(i,n)},function(e){var r=e.stack,n=e.pv;t.DEBUG&&console.log(e.step,"GPV[]"),r.push(16384*n.x),r.push(16384*n.y)},function(e){var r=e.stack,n=e.fv;t.DEBUG&&console.log(e.step,"GFV[]"),r.push(16384*n.x),r.push(16384*n.y)},function(e){e.fv=e.pv,t.DEBUG&&console.log(e.step,"SFVTPV[]")},function(e){var r=e.stack,n=r.pop(),i=r.pop(),s=r.pop(),o=r.pop(),a=r.pop(),l=e.z0,c=e.z1,u=l[n],h=l[i],d=c[s],p=c[o],f=e.z2[a];t.DEBUG&&console.log("ISECT[], ",n,i,s,o,a);var m=u.x,g=u.y,y=h.x,v=h.y,_=d.x,b=d.y,w=p.x,x=p.y,S=(m-y)*(b-x)-(g-v)*(_-w),M=m*v-g*y,E=_*x-b*w;f.x=(M*(_-w)-E*(m-y))/S,f.y=(M*(b-x)-E*(g-v))/S},function(e){e.rp0=e.stack.pop(),t.DEBUG&&console.log(e.step,"SRP0[]",e.rp0)},function(e){e.rp1=e.stack.pop(),t.DEBUG&&console.log(e.step,"SRP1[]",e.rp1)},function(e){e.rp2=e.stack.pop(),t.DEBUG&&console.log(e.step,"SRP2[]",e.rp2)},function(e){var r=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"SZP0[]",r),e.zp0=r){case 0:e.tZone||Jt(e),e.z0=e.tZone;break;case 1:e.z0=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var r=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"SZP1[]",r),e.zp1=r){case 0:e.tZone||Jt(e),e.z1=e.tZone;break;case 1:e.z1=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var r=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"SZP2[]",r),e.zp2=r){case 0:e.tZone||Jt(e),e.z2=e.tZone;break;case 1:e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var r=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"SZPS[]",r),e.zp0=e.zp1=e.zp2=r,r){case 0:e.tZone||Jt(e),e.z0=e.z1=e.z2=e.tZone;break;case 1:e.z0=e.z1=e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){e.loop=e.stack.pop(),t.DEBUG&&console.log(e.step,"SLOOP[]",e.loop)},function(e){t.DEBUG&&console.log(e.step,"RTG[]"),e.round=zt},function(e){t.DEBUG&&console.log(e.step,"RTHG[]"),e.round=Ut},function(e){var r=e.stack.pop();t.DEBUG&&console.log(e.step,"SMD[]",r),e.minDis=r/64},function(e){t.DEBUG&&console.log(e.step,"ELSE[]"),Kt(e,!1)},function(e){var r=e.stack.pop();t.DEBUG&&console.log(e.step,"JMPR[]",r),e.ip+=r-1},function(e){var r=e.stack.pop();t.DEBUG&&console.log(e.step,"SCVTCI[]",r),e.cvCutIn=r/64},void 0,void 0,function(e){var r=e.stack;t.DEBUG&&console.log(e.step,"DUP[]"),r.push(r[r.length-1])},sr,function(e){t.DEBUG&&console.log(e.step,"CLEAR[]"),e.stack.length=0},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"SWAP[]"),r.push(n),r.push(i)},function(e){var r=e.stack;t.DEBUG&&console.log(e.step,"DEPTH[]"),r.push(r.length)},function(e){var r=e.stack,n=r.pop();t.DEBUG&&console.log(e.step,"CINDEX[]",n),r.push(r[r.length-n])},function(e){var r=e.stack,n=r.pop();t.DEBUG&&console.log(e.step,"MINDEX[]",n),r.push(r.splice(r.length-n,1)[0])},void 0,void 0,void 0,function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"LOOPCALL[]",n,i);var s=e.ip,o=e.prog;e.prog=e.funcs[n];for(var a=0;a<i;a++)Rt(e),t.DEBUG&&console.log(++e.step,a+1<i?"next loopcall":"done loopcall",a);e.ip=s,e.prog=o},function(e){var r=e.stack.pop();t.DEBUG&&console.log(e.step,"CALL[]",r);var n=e.ip,i=e.prog;e.prog=e.funcs[r],Rt(e),e.ip=n,e.prog=i,t.DEBUG&&console.log(++e.step,"returning from",r)},function(e){if("fpgm"!==e.env)throw new Error("FDEF not allowed here");var r=e.prog,n=e.ip,i=e.stack.pop(),s=n;for(t.DEBUG&&console.log(e.step,"FDEF[]",i);45!==r[++n];);e.ip=n,e.funcs[i]=r.slice(s+1,n)},void 0,or.bind(void 0,0),or.bind(void 0,1),ar.bind(void 0,Wt),ar.bind(void 0,Gt),lr.bind(void 0,0),lr.bind(void 0,1),cr.bind(void 0,0),cr.bind(void 0,1),ur.bind(void 0,0),ur.bind(void 0,1),function(e){for(var r=e.stack,n=e.loop,i=e.fv,s=r.pop()/64,o=e.z2;n--;){var a=r.pop(),l=o[a];t.DEBUG&&console.log(e.step,(1<e.loop?"loop "+(e.loop-n)+": ":"")+"SHPIX[]",a,s),i.setRelative(l,l,s),i.touch(l)}e.loop=1},function(e){for(var r=e.stack,n=e.rp1,i=e.rp2,s=e.loop,o=e.z0[n],a=e.z1[i],l=e.fv,c=e.dpv,u=e.z2;s--;){var h=r.pop(),d=u[h];t.DEBUG&&console.log(e.step,(1<e.loop?"loop "+(e.loop-s)+": ":"")+"IP[]",h,n,"<->",i),l.interpolate(d,o,a,c),l.touch(d)}e.loop=1},hr.bind(void 0,0),hr.bind(void 0,1),function(e){for(var r=e.stack,n=e.z0[e.rp0],i=e.loop,s=e.fv,o=e.pv,a=e.z1;i--;){var l=r.pop(),c=a[l];t.DEBUG&&console.log(e.step,(1<e.loop?"loop "+(e.loop-i)+": ":"")+"ALIGNRP[]",l),s.setRelative(c,n,0,o),s.touch(c)}e.loop=1},function(e){t.DEBUG&&console.log(e.step,"RTDG[]"),e.round=Ft},dr.bind(void 0,0),dr.bind(void 0,1),function(e){var r=e.prog,n=e.ip,i=e.stack,s=r[++n];t.DEBUG&&console.log(e.step,"NPUSHB[]",s);for(var o=0;o<s;o++)i.push(r[++n]);e.ip=n},function(e){var r=e.ip,n=e.prog,i=e.stack,s=n[++r];t.DEBUG&&console.log(e.step,"NPUSHW[]",s);for(var o=0;o<s;o++){var a=n[++r]<<8|n[++r];32768&a&&(a=-(1+(65535^a))),i.push(a)}e.ip=r},function(e){var r=e.stack,n=e.store;n=n||(e.store=[]);var i=r.pop(),s=r.pop();t.DEBUG&&console.log(e.step,"WS",i,s),n[s]=i},function(e){var r=e.stack,n=e.store,i=r.pop();t.DEBUG&&console.log(e.step,"RS",i),r.push(n&&n[i]||0)},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"WCVTP",n,i),e.cvt[i]=n/64},function(e){var r=e.stack,n=r.pop();t.DEBUG&&console.log(e.step,"RCVT",n),r.push(64*e.cvt[n])},pr.bind(void 0,0),pr.bind(void 0,1),void 0,fr.bind(void 0,0),fr.bind(void 0,1),function(e){t.DEBUG&&console.log(e.step,"MPPEM[]"),e.stack.push(e.ppem)},void 0,function(e){t.DEBUG&&console.log(e.step,"FLIPON[]"),e.autoFlip=!0},void 0,void 0,function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"LT[]",n,i),r.push(i<n?1:0)},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"LTEQ[]",n,i),r.push(i<=n?1:0)},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"GT[]",n,i),r.push(n<i?1:0)},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"GTEQ[]",n,i),r.push(n<=i?1:0)},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"EQ[]",n,i),r.push(n===i?1:0)},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"NEQ[]",n,i),r.push(n!==i?1:0)},function(e){var r=e.stack,n=r.pop();t.DEBUG&&console.log(e.step,"ODD[]",n),r.push(Math.trunc(n)%2?1:0)},function(e){var r=e.stack,n=r.pop();t.DEBUG&&console.log(e.step,"EVEN[]",n),r.push(Math.trunc(n)%2?0:1)},function(e){var r=e.stack.pop();t.DEBUG&&console.log(e.step,"IF[]",r),r||(Kt(e,!0),t.DEBUG&&console.log(e.step,"EIF[]"))},function(e){t.DEBUG&&console.log(e.step,"EIF[]")},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"AND[]",n,i),r.push(n&&i?1:0)},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"OR[]",n,i),r.push(n||i?1:0)},function(e){var r=e.stack,n=r.pop();t.DEBUG&&console.log(e.step,"NOT[]",n),r.push(n?0:1)},mr.bind(void 0,1),function(e){var r=e.stack.pop();t.DEBUG&&console.log(e.step,"SDB[]",r),e.deltaBase=r},function(e){var r=e.stack.pop();t.DEBUG&&console.log(e.step,"SDS[]",r),e.deltaShift=Math.pow(.5,r)},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"ADD[]",n,i),r.push(i+n)},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"SUB[]",n,i),r.push(i-n)},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"DIV[]",n,i),r.push(64*i/n)},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"MUL[]",n,i),r.push(i*n/64)},function(e){var r=e.stack,n=r.pop();t.DEBUG&&console.log(e.step,"ABS[]",n),r.push(Math.abs(n))},function(e){var r=e.stack,n=r.pop();t.DEBUG&&console.log(e.step,"NEG[]",n),r.push(-n)},function(e){var r=e.stack,n=r.pop();t.DEBUG&&console.log(e.step,"FLOOR[]",n),r.push(64*Math.floor(n/64))},function(e){var r=e.stack,n=r.pop();t.DEBUG&&console.log(e.step,"CEILING[]",n),r.push(64*Math.ceil(n/64))},gr.bind(void 0,0),gr.bind(void 0,1),gr.bind(void 0,2),gr.bind(void 0,3),void 0,void 0,void 0,void 0,function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"WCVTF[]",n,i),e.cvt[i]=n*e.ppem/e.font.unitsPerEm},mr.bind(void 0,2),mr.bind(void 0,3),yr.bind(void 0,1),yr.bind(void 0,2),yr.bind(void 0,3),function(e){var r,n=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"SROUND[]",n),e.round=Ht,192&n){case 0:r=.5;break;case 64:r=1;break;case 128:r=2;break;default:throw new Error("invalid SROUND value")}switch(e.srPeriod=r,48&n){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*r;break;case 32:e.srPhase=.5*r;break;case 48:e.srPhase=.75*r;break;default:throw new Error("invalid SROUND value")}e.srThreshold=0==(n&=15)?0:(n/8-.5)*r},function(e){var r,n=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"S45ROUND[]",n),e.round=Ht,192&n){case 0:r=Math.sqrt(2)/2;break;case 64:r=Math.sqrt(2);break;case 128:r=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(e.srPeriod=r,48&n){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*r;break;case 32:e.srPhase=.5*r;break;case 48:e.srPhase=.75*r;break;default:throw new Error("invalid S45ROUND value")}e.srThreshold=0==(n&=15)?0:(n/8-.5)*r},void 0,void 0,function(e){t.DEBUG&&console.log(e.step,"ROFF[]"),e.round=Nt},void 0,function(e){t.DEBUG&&console.log(e.step,"RUTG[]"),e.round=Bt},function(e){t.DEBUG&&console.log(e.step,"RDTG[]"),e.round=Vt},sr,sr,void 0,void 0,void 0,void 0,void 0,function(e){var r=e.stack.pop();t.DEBUG&&console.log(e.step,"SCANCTRL[]",r)},vr.bind(void 0,0),vr.bind(void 0,1),function(e){var r=e.stack,n=r.pop(),i=0;t.DEBUG&&console.log(e.step,"GETINFO[]",n),1&n&&(i=35),32&n&&(i|=4096),r.push(i)},void 0,function(e){var r=e.stack,n=r.pop(),i=r.pop(),s=r.pop();t.DEBUG&&console.log(e.step,"ROLL[]"),r.push(i),r.push(n),r.push(s)},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"MAX[]",n,i),r.push(Math.max(i,n))},function(e){var r=e.stack,n=r.pop(),i=r.pop();t.DEBUG&&console.log(e.step,"MIN[]",n,i),r.push(Math.min(i,n))},function(e){var r=e.stack.pop();t.DEBUG&&console.log(e.step,"SCANTYPE[]",r)},function(e){var r=e.stack.pop(),n=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"INSTCTRL[]",r,n),r){case 1:return void(e.inhibitGridFit=!!n);case 2:return void(e.ignoreCvt=!!n);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,_r.bind(void 0,1),_r.bind(void 0,2),_r.bind(void 0,3),_r.bind(void 0,4),_r.bind(void 0,5),_r.bind(void 0,6),_r.bind(void 0,7),_r.bind(void 0,8),br.bind(void 0,1),br.bind(void 0,2),br.bind(void 0,3),br.bind(void 0,4),br.bind(void 0,5),br.bind(void 0,6),br.bind(void 0,7),br.bind(void 0,8),wr.bind(void 0,0,0,0,0,0),wr.bind(void 0,0,0,0,0,1),wr.bind(void 0,0,0,0,0,2),wr.bind(void 0,0,0,0,0,3),wr.bind(void 0,0,0,0,1,0),wr.bind(void 0,0,0,0,1,1),wr.bind(void 0,0,0,0,1,2),wr.bind(void 0,0,0,0,1,3),wr.bind(void 0,0,0,1,0,0),wr.bind(void 0,0,0,1,0,1),wr.bind(void 0,0,0,1,0,2),wr.bind(void 0,0,0,1,0,3),wr.bind(void 0,0,0,1,1,0),wr.bind(void 0,0,0,1,1,1),wr.bind(void 0,0,0,1,1,2),wr.bind(void 0,0,0,1,1,3),wr.bind(void 0,0,1,0,0,0),wr.bind(void 0,0,1,0,0,1),wr.bind(void 0,0,1,0,0,2),wr.bind(void 0,0,1,0,0,3),wr.bind(void 0,0,1,0,1,0),wr.bind(void 0,0,1,0,1,1),wr.bind(void 0,0,1,0,1,2),wr.bind(void 0,0,1,0,1,3),wr.bind(void 0,0,1,1,0,0),wr.bind(void 0,0,1,1,0,1),wr.bind(void 0,0,1,1,0,2),wr.bind(void 0,0,1,1,0,3),wr.bind(void 0,0,1,1,1,0),wr.bind(void 0,0,1,1,1,1),wr.bind(void 0,0,1,1,1,2),wr.bind(void 0,0,1,1,1,3),wr.bind(void 0,1,0,0,0,0),wr.bind(void 0,1,0,0,0,1),wr.bind(void 0,1,0,0,0,2),wr.bind(void 0,1,0,0,0,3),wr.bind(void 0,1,0,0,1,0),wr.bind(void 0,1,0,0,1,1),wr.bind(void 0,1,0,0,1,2),wr.bind(void 0,1,0,0,1,3),wr.bind(void 0,1,0,1,0,0),wr.bind(void 0,1,0,1,0,1),wr.bind(void 0,1,0,1,0,2),wr.bind(void 0,1,0,1,0,3),wr.bind(void 0,1,0,1,1,0),wr.bind(void 0,1,0,1,1,1),wr.bind(void 0,1,0,1,1,2),wr.bind(void 0,1,0,1,1,3),wr.bind(void 0,1,1,0,0,0),wr.bind(void 0,1,1,0,0,1),wr.bind(void 0,1,1,0,0,2),wr.bind(void 0,1,1,0,0,3),wr.bind(void 0,1,1,0,1,0),wr.bind(void 0,1,1,0,1,1),wr.bind(void 0,1,1,0,1,2),wr.bind(void 0,1,1,0,1,3),wr.bind(void 0,1,1,1,0,0),wr.bind(void 0,1,1,1,0,1),wr.bind(void 0,1,1,1,0,2),wr.bind(void 0,1,1,1,0,3),wr.bind(void 0,1,1,1,1,0),wr.bind(void 0,1,1,1,1,1),wr.bind(void 0,1,1,1,1,2),wr.bind(void 0,1,1,1,1,3)];var xr=Array.from||function(e){return e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Sr(e){(e=e||{}).empty||(Et(e.familyName,"When creating a new Font object, familyName is required."),Et(e.styleName,"When creating a new Font object, styleName is required."),Et(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Et(e.ascender,"When creating a new Font object, ascender is required."),Et(e.descender,"When creating a new Font object, descender is required."),Et(e.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables={os2:{usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new _e.GlyphSet(this,e.glyphs||[]),this.encoding=new he(this),this.position=new bt(this),this.substitution=new wt(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new It(this):void 0}})}function Mr(e,t,r,n){var i={},s=new se.Parser(e,t);i.name=n[s.parseUShort()]||{},s.skip("uShort",1),i.coordinates={};for(var o=0;o<r.length;++o)i.coordinates[r[o].tag]=s.parseFixed();return i}Sr.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},Sr.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},Sr.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e);return this.glyphs.get(t)||this.glyphs.get(0)},Sr.prototype.stringToGlyphs=function(e,t){t=t||this.defaultRenderOptions;for(var r=xr(e),n=[],i=0;i<r.length;i+=1)n.push(this.charToGlyphIndex(r[i]));var s=n.length;if(t.features){var o=t.script||this.substitution.getDefaultScriptName(),a=[];t.features.liga&&(a=a.concat(this.substitution.getFeature("liga",o,t.language))),t.features.rlig&&(a=a.concat(this.substitution.getFeature("rlig",o,t.language)));for(var l=0;l<s;l+=1)for(var c=0;c<a.length;c++){for(var u=a[c],h=u.sub,d=h.length,p=0;p<d&&h[p]===n[l+p];)p++;p===d&&(n.splice(l,d,u.by),s=s-d+1)}}for(var f=new Array(s),m=this.glyphs.get(0),g=0;g<s;g+=1)f[g]=this.glyphs.get(n[g])||m;return f},Sr.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},Sr.prototype.nameToGlyph=function(e){var t=this.nameToGlyphIndex(e);return this.glyphs.get(t)||this.glyphs.get(0)},Sr.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},Sr.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var r=this.position.defaultKerningTables;return r?this.position.getKerningValue(r,e,t):this.kerningPairs[e+","+t]||0},Sr.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Sr.prototype.forEachGlyph=function(e,t,r,n,i,s){t=void 0!==t?t:0,r=void 0!==r?r:0;var o,a=1/this.unitsPerEm*(n=void 0!==n?n:72),l=this.stringToGlyphs(e,i=i||this.defaultRenderOptions);if(i.kerning){var c=i.script||this.position.getDefaultScriptName();o=this.position.getKerningTables(c,i.language)}for(var u=0;u<l.length;u+=1){var h=l[u];s.call(this,h,t,r,n,i),h.advanceWidth&&(t+=h.advanceWidth*a),i.kerning&&u<l.length-1&&(t+=(o?this.position.getKerningValue(o,h.index,l[u+1].index):this.getKerningValue(h,l[u+1]))*a),i.letterSpacing?t+=i.letterSpacing*n:i.tracking&&(t+=i.tracking/1e3*n)}return t},Sr.prototype.getPath=function(e,t,r,n,i){var s=new C;return this.forEachGlyph(e,t,r,n,i,function(e,t,r,n){var o=e.getPath(t,r,n,i,this);s.extend(o)}),s},Sr.prototype.getPaths=function(e,t,r,n,i){var s=[];return this.forEachGlyph(e,t,r,n,i,function(e,t,r,n){var o=e.getPath(t,r,n,i,this);s.push(o)}),s},Sr.prototype.getAdvanceWidth=function(e,t,r){return this.forEachGlyph(e,0,0,t,r,function(){})},Sr.prototype.draw=function(e,t,r,n,i,s){this.getPath(t,r,n,i,s).draw(e)},Sr.prototype.drawPoints=function(e,t,r,n,i,s){this.forEachGlyph(t,r,n,i,s,function(t,r,n,i){t.drawPoints(e,r,n,i)})},Sr.prototype.drawMetrics=function(e,t,r,n,i,s){this.forEachGlyph(t,r,n,i,s,function(t,r,n,i){t.drawMetrics(e,r,n,i)})},Sr.prototype.getEnglishName=function(e){var t=this.names[e];if(t)return t.en},Sr.prototype.validate=function(){var e=this;function t(t){var r=e.getEnglishName(t);r&&r.trim()}t("fontFamily"),t("weightName"),t("manufacturer"),t("copyright"),t("version")},Sr.prototype.toTables=function(){return mt(this)},Sr.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Sr.prototype.toArrayBuffer=function(){for(var e=this.toTables().encode(),t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;n++)r[n]=e[n];return t},Sr.prototype.download=function(t){var r=this.getEnglishName("fontFamily"),i=this.getEnglishName("fontSubfamily");t=t||r.replace(/\s/g,"")+"-"+i+".otf";var s=this.toArrayBuffer();if("undefined"!=typeof window)window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,s.byteLength,function(e){e.root.getFile(t,{create:!0},function(e){e.createWriter(function(t){var r=new DataView(s),n=new Blob([r],{type:"font/opentype"});t.write(n),t.addEventListener("writeend",function(){location.href=e.toURL()},!1)})})},function(e){throw new Error(e.name+": "+e.message)});else{var o=e("fs"),a=function(e){for(var t=new n(e.byteLength),r=new Uint8Array(e),i=0;i<t.length;++i)t[i]=r[i];return t}(s);o.writeFileSync(t,a)}},Sr.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Sr.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Sr.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Er=function(e,t,r){var n=new se.Parser(e,t),i=n.parseULong();P.argument(65536===i,"Unsupported fvar table version.");var s=n.parseOffset16();n.skip("uShort",1);for(var o,a,l,c=n.parseUShort(),u=n.parseUShort(),h=n.parseUShort(),d=n.parseUShort(),p=[],f=0;f<c;f++)p.push((o=r,l=a=void 0,a={},l=new se.Parser(e,t+s+f*u),a.tag=l.parseTag(),a.minValue=l.parseFixed(),a.defaultValue=l.parseFixed(),a.maxValue=l.parseFixed(),l.skip("uShort",1),a.name=o[l.parseUShort()]||{},a));for(var m=[],g=t+s+c*u,y=0;y<h;y++)m.push(Mr(e,g+y*d,p,r));return{axes:p,instances:m}},Tr=new Array(10);Tr[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{posFormat:1,coverage:this.parsePointer(ne.coverage),value:this.parseValueRecord()}:2===t?{posFormat:2,coverage:this.parsePointer(ne.coverage),values:this.parseValueRecordList()}:void P.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Tr[2]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();P.assert(1===t||2===t,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var r=this.parsePointer(ne.coverage),n=this.parseUShort(),i=this.parseUShort();if(1===t)return{posFormat:t,coverage:r,valueFormat1:n,valueFormat2:i,pairSets:this.parseList(ne.pointer(ne.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(n),value2:this.parseValueRecord(i)}})))};if(2===t){var s=this.parsePointer(ne.classDef),o=this.parsePointer(ne.classDef),a=this.parseUShort(),l=this.parseUShort();return{posFormat:t,coverage:r,valueFormat1:n,valueFormat2:i,classDef1:s,classDef2:o,class1Count:a,class2Count:l,classRecords:this.parseList(a,ne.list(l,function(){return{value1:this.parseValueRecord(n),value2:this.parseValueRecord(i)}}))}}},Tr[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Tr[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Tr[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Tr[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Tr[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Tr[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Tr[9]=function(){return{error:"GPOS Lookup 9 not supported"}},new Array(10);var Cr=function(e,t){var r=new ne(e,t=t||0),n=r.parseVersion(1);return P.argument(1===n||1.1===n,"Unsupported GPOS table version "+n),1===n?{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(Tr)}:{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(Tr),variations:r.parseFeatureVariationsList()}},Ar=function(e,t){var r=new se.Parser(e,t),n=r.parseUShort();if(0===n)return function(e){var t={};e.skip("uShort");var r=e.parseUShort();P.argument(0===r,"Unsupported kern sub-table version."),e.skip("uShort",2);var n=e.parseUShort();e.skip("uShort",3);for(var i=0;i<n;i+=1){var s=e.parseUShort(),o=e.parseUShort(),a=e.parseShort();t[s+","+o]=a}return t}(r);if(1===n)return function(e){var t={};e.skip("uShort"),1<e.parseULong()&&console.warn("Only the first kern subtable is supported."),e.skip("uLong");var r=255&e.parseUShort();if(e.skip("uShort"),0==r){var n=e.parseUShort();e.skip("uShort",3);for(var i=0;i<n;i+=1){var s=e.parseUShort(),o=e.parseUShort(),a=e.parseShort();t[s+","+o]=a}}return t}(r);throw new Error("Unsupported kern table version ("+n+").")};function Lr(t,r){e("fs").readFile(t,function(e,t){if(e)return r(e.message);r(null,Mt(t))})}function Pr(e,t){var r=new XMLHttpRequest;r.open("get",e,!0),r.responseType="arraybuffer",r.onload=function(){return r.response?t(null,r.response):t("Font could not be loaded: "+r.statusText)},r.onerror=function(){t("Font could not be loaded")},r.send()}function Or(e,t){for(var r=[],n=12,i=0;i<t;i+=1){var s=se.getTag(e,n),o=se.getULong(e,n+4),a=se.getULong(e,n+8),l=se.getULong(e,n+12);r.push({tag:s,checksum:o,offset:a,length:l,compression:!1}),n+=16}return r}function Rr(e,t){if("WOFF"!==t.compression)return{data:e,offset:t.offset};var r=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2),n=new Uint8Array(t.length);if(function(e,t){var r,n,i=new o(e,t);do{switch(r=_(i),b(i,2,0)){case 0:n=M(i);break;case 1:n=S(i,a,l);break;case 2:x(i,i.ltree,i.dtree),n=S(i,i.ltree,i.dtree);break;default:n=-3}if(0!==n)throw new Error("Data error")}while(!r);i.destLen<i.dest.length&&("function"==typeof i.dest.slice?i.dest.slice(0,i.destLen):i.dest.subarray(0,i.destLen))}(r,n),n.byteLength!==t.length)throw new Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");return{data:new DataView(n.buffer,0),offset:0}}function kr(e){var t,r,n,i,s,o,a,l,c,u,h,d,p,f,m=new Sr({empty:!0}),g=new DataView(e,0),y=[],v=se.getTag(g,0);if(v===String.fromCharCode(0,1,0,0)||"true"===v||"typ1"===v)m.outlinesFormat="truetype",y=Or(g,n=se.getUShort(g,4));else if("OTTO"===v)m.outlinesFormat="cff",y=Or(g,n=se.getUShort(g,4));else{if("wOFF"!==v)throw new Error("Unsupported OpenType signature "+v);var _=se.getTag(g,4);if(_===String.fromCharCode(0,1,0,0))m.outlinesFormat="truetype";else{if("OTTO"!==_)throw new Error("Unsupported OpenType flavor "+v);m.outlinesFormat="cff"}y=function(e,t){for(var r=[],n=44,i=0;i<t;i+=1){var s=se.getTag(e,n),o=se.getULong(e,n+4),a=se.getULong(e,n+8),l=se.getULong(e,n+12);r.push({tag:s,offset:o,compression:a<l&&"WOFF",compressedLength:a,length:l}),n+=20}return r}(g,n=se.getUShort(g,12))}for(var b=0;b<n;b+=1){var w=y[b],x=void 0;switch(w.tag){case"cmap":x=Rr(g,w),m.tables.cmap=oe(x.data,x.offset),m.encoding=new de(m.tables.cmap);break;case"cvt ":x=Rr(g,w),f=new se.Parser(x.data,x.offset),m.tables.cvt=f.parseShortList(w.length/2);break;case"fvar":s=w;break;case"fpgm":x=Rr(g,w),f=new se.Parser(x.data,x.offset),m.tables.fpgm=f.parseByteList(w.length);break;case"head":x=Rr(g,w),m.tables.head=Ne(x.data,x.offset),m.unitsPerEm=m.tables.head.unitsPerEm,t=m.tables.head.indexToLocFormat;break;case"hhea":x=Rr(g,w),m.tables.hhea=ze(x.data,x.offset),m.ascender=m.tables.hhea.ascender,m.descender=m.tables.hhea.descender,m.numberOfHMetrics=m.tables.hhea.numberOfHMetrics;break;case"hmtx":c=w;break;case"ltag":x=Rr(g,w),r=Fe(x.data,x.offset);break;case"maxp":x=Rr(g,w),m.tables.maxp=Ue(x.data,x.offset),m.numGlyphs=m.tables.maxp.numGlyphs;break;case"name":d=w;break;case"OS/2":x=Rr(g,w),m.tables.os2=rt(x.data,x.offset);break;case"post":x=Rr(g,w),m.tables.post=it(x.data,x.offset),m.glyphNames=new fe(m.tables.post);break;case"prep":x=Rr(g,w),f=new se.Parser(x.data,x.offset),m.tables.prep=f.parseByteList(w.length);break;case"glyf":o=w;break;case"loca":h=w;break;case"CFF ":i=w;break;case"kern":u=w;break;case"GPOS":a=w;break;case"GSUB":l=w;break;case"meta":p=w}}var S=Rr(g,d);if(m.tables.name=Ke(S.data,S.offset,r),m.names=m.tables.name,o&&h){var M=0===t,E=Rr(g,h),T=function(e,t,r,n){for(var i=new se.Parser(e,t),s=n?i.parseUShort:i.parseULong,o=[],a=0;a<r+1;a+=1){var l=s.call(i);n&&(l*=2),o.push(l)}return o}(E.data,E.offset,m.numGlyphs,M),C=Rr(g,o);m.glyphs=Dt.parse(C.data,C.offset,T,m)}else{if(!i)throw new Error("Font doesn't contain TrueType or CFF outlines.");var A=Rr(g,i);!function(e,t,r){r.tables.cff={};var n,i,s,o=xe(e,(n=e,i=t,(s={}).formatMajor=se.getCard8(n,i),s.formatMinor=se.getCard8(n,i+1),s.size=se.getCard8(n,i+2),s.offsetSize=se.getCard8(n,i+3),s.startOffset=i,s.endOffset=i+4,s).endOffset,se.bytesToString),a=xe(e,o.endOffset),l=xe(e,a.endOffset,se.bytesToString),c=xe(e,l.endOffset);r.gsubrs=c.objects,r.gsubrsBias=we(r.gsubrs);var u=Pe(e,t,a.objects,l.objects);if(1!==u.length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+u.length);var h=u[0];if((r.tables.cff.topDict=h)._privateDict&&(r.defaultWidthX=h._privateDict.defaultWidthX,r.nominalWidthX=h._privateDict.nominalWidthX),void 0!==h.ros[0]&&void 0!==h.ros[1]&&(r.isCIDFont=!0),r.isCIDFont){var d=h.fdArray,p=h.fdSelect;if(0===d||0===p)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var f=Pe(e,t,xe(e,d+=t).objects,l.objects);h._fdArray=f,h._fdSelect=function(e,t,r,n){var i,s=[],o=new se.Parser(e,t),a=o.parseCard8();if(0===a)for(var l=0;l<r;l++){if(n<=(i=o.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+n+")");s.push(i)}else{if(3!==a)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+a);var c,u=o.parseCard16(),h=o.parseCard16();if(0!==h)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+h);for(var d=0;d<u;d++){if(i=o.parseCard8(),c=o.parseCard16(),n<=i)throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+n+")");if(r<c)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+c);for(;h<c;h++)s.push(i);h=c}if(c!==r)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+c)}return s}(e,p+=t,r.numGlyphs,f.length)}var m=t+h.private[1],g=Le(e,m,h.private[0],l.objects);if(r.defaultWidthX=g.defaultWidthX,r.nominalWidthX=g.nominalWidthX,0!==g.subrs){var y=xe(e,m+g.subrs);r.subrs=y.objects,r.subrsBias=we(r.subrs)}else r.subrs=[],r.subrsBias=0;var v=xe(e,t+h.charStrings);r.nGlyphs=v.objects.length;var _=function(e,t,r,n){var i,s,o=new se.Parser(e,t);--r;var a=[".notdef"],l=o.parseCard8();if(0===l)for(var c=0;c<r;c+=1)i=o.parseSID(),a.push(Ee(n,i));else if(1===l)for(;a.length<=r;){i=o.parseSID(),s=o.parseCard8();for(var u=0;u<=s;u+=1)a.push(Ee(n,i)),i+=1}else{if(2!==l)throw new Error("Unknown charset format "+l);for(;a.length<=r;){i=o.parseSID(),s=o.parseCard16();for(var h=0;h<=s;h+=1)a.push(Ee(n,i)),i+=1}}return a}(e,t+h.charset,r.nGlyphs,l.objects);r.cffEncoding=0===h.encoding?new pe(le,_):1===h.encoding?new pe(ce,_):function(e,t,r){var n,i={},s=new se.Parser(e,t),o=s.parseCard8();if(0===o)for(var a=s.parseCard8(),l=0;l<a;l+=1)i[n=s.parseCard8()]=l;else{if(1!==o)throw new Error("Unknown encoding format "+o);var c=s.parseCard8();n=1;for(var u=0;u<c;u+=1)for(var h=s.parseCard8(),d=s.parseCard8(),p=h;p<=h+d;p+=1)i[p]=n,n+=1}return new pe(i,r)}(e,t+h.encoding,_),r.encoding=r.encoding||r.cffEncoding,r.glyphs=new _e.GlyphSet(r);for(var b=0;b<r.nGlyphs;b+=1)r.glyphs.push(b,_e.cffGlyphLoader(r,b,Oe,v.objects[b]))}(A.data,A.offset,m)}var L=Rr(g,c);if(function(e,t,r,n,i){for(var s,o,a=new se.Parser(e,t),l=0;l<n;l+=1){l<r&&(s=a.parseUShort(),o=a.parseShort());var c=i.get(l);c.advanceWidth=s,c.leftSideBearing=o}}(L.data,L.offset,m.numberOfHMetrics,m.numGlyphs,m.glyphs),function(e){for(var t,r=e.tables.cmap.glyphIndexMap,n=Object.keys(r),i=0;i<n.length;i+=1){var s=n[i];(t=e.glyphs.get(r[s])).addUnicode(parseInt(s))}for(var o=0;o<e.glyphs.length;o+=1)t=e.glyphs.get(o),e.cffEncoding?t.name=e.isCIDFont?"gid"+o:e.cffEncoding.charset[o]:e.glyphNames.names&&(t.name=e.glyphNames.glyphIndexToName(o))}(m),u){var P=Rr(g,u);m.kerningPairs=Ar(P.data,P.offset)}else m.kerningPairs={};if(a){var O=Rr(g,a);m.tables.gpos=Cr(O.data,O.offset),m.position.init()}if(l){var R=Rr(g,l);m.tables.gsub=lt(R.data,R.offset)}if(s){var k=Rr(g,s);m.tables.fvar=Er(k.data,k.offset,m.names)}if(p){var j=Rr(g,p);m.tables.meta=ct(j.data,j.offset),m.metas=m.tables.meta}return m}t.Font=Sr,t.Glyph=ge,t.Path=C,t.BoundingBox=T,t._parse=se,t.parse=kr,t.load=function(e,t){("undefined"==typeof window?Lr:Pr)(e,function(e,r){if(e)return t(e);var n;try{n=kr(r)}catch(e){return t(e,null)}return t(null,n)})},t.loadSync=function(t){return kr(Mt(e("fs").readFileSync(t)))},Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof r&&void 0!==t?r:this.opentype={})}).call(this,e("buffer").Buffer)},{buffer:4,fs:2}],237:[function(e,t,r){(function(e){function t(e,t){for(var r=0,n=e.length-1;0<=n;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}r.resolve=function(){for(var r="",i=!1,s=arguments.length-1;-1<=s&&!i;s--){var o=0<=s?arguments[s]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(r=o+"/"+r,i="/"===o.charAt(0))}return(i?"/":"")+(r=t(n(r.split("/"),function(e){return!!e}),!i).join("/"))||"."},r.normalize=function(e){var s=r.isAbsolute(e),o="/"===i(e,-1);return(e=t(n(e.split("/"),function(e){return!!e}),!s).join("/"))||s||(e="."),e&&o&&(e+="/"),(s?"/":"")+e},r.isAbsolute=function(e){return"/"===e.charAt(0)},r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(n(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},r.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;0<=r&&""===e[r];r--);return r<t?[]:e.slice(t,r-t+1)}e=r.resolve(e).substr(1),t=r.resolve(t).substr(1);for(var i=n(e.split("/")),s=n(t.split("/")),o=Math.min(i.length,s.length),a=o,l=0;l<o;l++)if(i[l]!==s[l]){a=l;break}var c=[];for(l=a;l<i.length;l++)c.push("..");return(c=c.concat(s.slice(a))).join("/")},r.sep="/",r.delimiter=":",r.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,i=!0,s=e.length-1;1<=s;--s)if(47===(t=e.charCodeAt(s))){if(!i){n=s;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"/":e.slice(0,n)},r.basename=function(e,t){var r=function(e){"string"!=typeof e&&(e+="");var t,r=0,n=-1,i=!0;for(t=e.length-1;0<=t;--t)if(47===e.charCodeAt(t)){if(!i){r=t+1;break}}else-1===n&&(i=!1,n=t+1);return-1===n?"":e.slice(r,n)}(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},r.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,r=0,n=-1,i=!0,s=0,o=e.length-1;0<=o;--o){var a=e.charCodeAt(o);if(47===a){if(i)continue;r=o+1;break}-1===n&&(i=!1,n=o+1),46===a?-1===t?t=o:1!==s&&(s=1):-1!==t&&(s=-1)}return-1===t||-1===n||0===s||1===s&&t===n-1&&t===r+1?"":e.slice(t,n)};var i="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,e("_process"))},{_process:238}],238:[function(e,t,r){var n,i,s=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var c,u=[],h=!1,d=-1;function p(){h&&c&&(h=!1,c.length?u=c.concat(u):d=-1,u.length&&f())}function f(){if(!h){var e=l(p);h=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,h=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new m(e,t)),1!==u.length||h||l(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=g,s.addListener=g,s.once=g,s.off=g,s.removeListener=g,s.removeAllListeners=g,s.emit=g,s.prependListener=g,s.prependOnceListener=g,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],239:[function(e,t,r){!function(e){"use strict";if(!e.fetch){var t="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,n="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,s="ArrayBuffer"in e;if(s)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=function(e){return e&&DataView.prototype.isPrototypeOf(e)},l=ArrayBuffer.isView||function(e){return e&&-1<o.indexOf(Object.prototype.toString.call(e))};f.prototype.append=function(e,t){e=h(e),t=d(t);var r=this.map[e];this.map[e]=r?r+","+t:t},f.prototype.delete=function(e){delete this.map[h(e)]},f.prototype.get=function(e){return e=h(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(h(e))},f.prototype.set=function(e,t){this.map[h(e)]=d(t)},f.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},f.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),p(e)},f.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),p(e)},f.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),p(e)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},_.call(b.prototype),_.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},x.error=function(){var e=new x(null,{status:0,statusText:""});return e.type="error",e};var u=[301,302,303,307,308];x.redirect=function(e,t){if(-1===u.indexOf(t))throw new RangeError("Invalid status code");return new x(null,{status:t,headers:{location:e}})},e.Headers=f,e.Request=b,e.Response=x,e.fetch=function(e,t){return new Promise(function(r,i){var s=new b(e,t),o=new XMLHttpRequest;o.onload=function(){var e,t,n={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}}),t)};n.url="responseURL"in o?o.responseURL:n.headers.get("X-Request-URL"),r(new x("response"in o?o.response:o.responseText,n))},o.onerror=function(){i(new TypeError("Network request failed"))},o.ontimeout=function(){i(new TypeError("Network request failed"))},o.open(s.method,s.url,!0),"include"===s.credentials?o.withCredentials=!0:"omit"===s.credentials&&(o.withCredentials=!1),"responseType"in o&&n&&(o.responseType="blob"),s.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send(void 0===s._bodyInit?null:s._bodyInit)})},e.fetch.polyfill=!0}function h(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function p(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function m(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function y(e){var t=new FileReader,r=g(t);return t.readAsArrayBuffer(e),r}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e)if("string"==typeof e)this._bodyText=e;else if(n&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(s&&n&&a(e))this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!s||!ArrayBuffer.prototype.isPrototypeOf(e)&&!l(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=v(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n&&(this.blob=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var e,t,r,n=m(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,r=g(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}function b(e,t){var r,n,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(n=(r=t.method||this.method||"GET").toUpperCase(),-1<c.indexOf(n)?n:r),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function x(e,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},{}],240:[function(e,t,r){"use strict";e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=o(e("../core/main")),s=o(e("../color/color_conversion"));function o(e){return e&&e.__esModule?e:{default:e}}var a=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],l=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];i.default.prototype._rgbColorName=function(e){var t=s.default._rgbaToHSBA(e);return function(e){var t;if(0!==e[0]){e[0]=Math.round(100*e[0]);var r=e[0].toString().split(""),i=r.length-1;r[i]=parseInt(r[i]),r[i]<2.5?r[i]=0:2.5<=r[i]&&r[i]<7.5&&(r[i]=5),2===r.length?(r[0]=parseInt(r[0]),7.5<=r[i]&&(r[i]=0,r[0]=r[0]+1),e[0]=10*r[0]+r[1]):e[0]=7.5<=r[i]?10:r[i]}e[2]=e[2]/255;for(var s=e.length-1;1<=s;s--)e[s]=e[s]<=.25?0:.25<e[s]&&e[s]<.75?.5:1;if(0===e[0]&&0===e[1]&&1===e[2]){for(var o=2;0<=o;o--)n[o]=Math.round(1e4*n[o])/1e4;for(var c=0;c<a.length;c++){if(a[c].h===n[0]&&a[c].s===n[1]&&a[c].b===n[2]){t=a[c].name;break}t="white"}}else for(var u=0;u<l.length;u++)if(l[u].h===e[0]&&l[u].s===e[1]&&l[u].b===e[2]){t=l[u].name;break}return t}([(n=t)[0],t[1],t[2]])},r.default=i.default},{"../color/color_conversion":246,"../core/main":260,"core-js/modules/es.function.name":163,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.split":188}],241:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.replace"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n},s="_Description",o="_fallbackDesc",a="_fallbackTable",l="_Label",c="_labelDesc",u="_labelTable";function h(e){if("label"===e||"fallback"===e)throw new Error("description should not be LABEL or FALLBACK");return e.endsWith(".")||e.endsWith(";")||e.endsWith(",")||e.endsWith("?")||e.endsWith("!")||(e+="."),e}i.default.prototype.describe=function(e,t){if(i.default._validateParameters("describe",arguments),"string"==typeof e){var r=this.canvas.id;e=h(e),this.dummyDOM||(this.dummyDOM=document.getElementById(r).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==e&&(this.descriptions.fallback.innerHTML=e):this._describeHTML("fallback",e),t===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==e&&(this.descriptions.label.innerHTML=e):this._describeHTML("label",e))}},i.default.prototype.describeElement=function(e,t,r){if(i.default._validateParameters("describeElement",arguments),"string"==typeof t&&"string"==typeof e){var n=this.canvas.id;t=h(t);var s=function(e){if("label"===e||"fallback"===e)throw new Error("element name should not be LABEL or FALLBACK");return e.endsWith(".")||e.endsWith(";")||e.endsWith(",")?e=e.replace(/.$/,":"):e.endsWith(":")||(e+=":"),e}(e);e=e.replace(/[^a-zA-Z0-9 ]/g,"");var o='<th scope="row">'.concat(s,"</th><td>").concat(t,"</td>");this.dummyDOM||(this.dummyDOM=document.getElementById(n).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[e]?this.descriptions.fallbackElements[e].innerHTML!==o&&(this.descriptions.fallbackElements[e].innerHTML=o):this._describeElementHTML("fallback",e,o),r===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[e]?this.descriptions.labelElements[e].innerHTML!==o&&(this.descriptions.labelElements[e].innerHTML=o):this._describeElementHTML("label",e,o))}},i.default.prototype._describeHTML=function(e,t){var r=this.canvas.id;if("fallback"===e){if(this.dummyDOM.querySelector("#".concat(r+s)))this.dummyDOM.querySelector("#"+r+a).insertAdjacentHTML("beforebegin",'<p id="'.concat(r+o,'"></p>'));else{var n='<div id="'.concat(r).concat(s,'" role="region" aria-label="Canvas Description"><p id="').concat(r).concat(o,'"></p></div>');this.dummyDOM.querySelector("#".concat(r,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(r,"accessibleOutput")).insertAdjacentHTML("beforebegin",n):this.dummyDOM.querySelector("#".concat(r)).innerHTML=n}return this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(r).concat(o)),void(this.descriptions.fallback.innerHTML=t)}if("label"===e){if(this.dummyDOM.querySelector("#".concat(r+l)))this.dummyDOM.querySelector("#".concat(r+u))&&this.dummyDOM.querySelector("#".concat(r+u)).insertAdjacentHTML("beforebegin",'<p id="'.concat(r).concat(c,'"></p>'));else{var i='<div id="'.concat(r).concat(l,'" class="p5Label"><p id="').concat(r).concat(c,'"></p></div>');this.dummyDOM.querySelector("#".concat(r,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(r,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",i):this.dummyDOM.querySelector("#"+r).insertAdjacentHTML("afterend",i)}return this.descriptions.label=this.dummyDOM.querySelector("#"+r+c),void(this.descriptions.label.innerHTML=t)}},i.default.prototype._describeElementHTML=function(e,t,r){var n=this.canvas.id;if("fallback"===e){if(this.dummyDOM.querySelector("#".concat(n+s)))this.dummyDOM.querySelector("#"+n+a)||this.dummyDOM.querySelector("#"+n+o).insertAdjacentHTML("afterend",'<table id="'.concat(n).concat(a,'"><caption>Canvas elements and their descriptions</caption></table>'));else{var i='<div id="'.concat(n).concat(s,'" role="region" aria-label="Canvas Description"><table id="').concat(n).concat(a,'"><caption>Canvas elements and their descriptions</caption></table></div>');this.dummyDOM.querySelector("#".concat(n,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(n,"accessibleOutput")).insertAdjacentHTML("beforebegin",i):this.dummyDOM.querySelector("#"+n).innerHTML=i}var h=document.createElement("tr");return h.id=n+"_fte_"+t,this.dummyDOM.querySelector("#"+n+a).appendChild(h),this.descriptions.fallbackElements[t]=this.dummyDOM.querySelector("#".concat(n).concat("_fte_").concat(t)),void(this.descriptions.fallbackElements[t].innerHTML=r)}if("label"===e){if(this.dummyDOM.querySelector("#".concat(n+l)))this.dummyDOM.querySelector("#".concat(n+u))||this.dummyDOM.querySelector("#"+n+c).insertAdjacentHTML("afterend",'<table id="'.concat(n+u,'"></table>'));else{var d='<div id="'.concat(n).concat(l,'" class="p5Label"><table id="').concat(n).concat(u,'"></table></div>');this.dummyDOM.querySelector("#".concat(n,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(n,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",d):this.dummyDOM.querySelector("#"+n).insertAdjacentHTML("afterend",d)}var p=document.createElement("tr");p.id=n+"_lte_"+t,this.dummyDOM.querySelector("#"+n+u).appendChild(p),this.descriptions.labelElements[t]=this.dummyDOM.querySelector("#".concat(n).concat("_lte_").concat(t)),this.descriptions.labelElements[t].innerHTML=r}},r.default=i.default},{"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.ends-with":181,"core-js/modules/es.string.replace":186}],242:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.map"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};i.default.prototype._updateGridOutput=function(e){if(this.dummyDOM.querySelector("#".concat(e,"_summary"))){var t=this._accessibleOutputs[e],r=function(e,t){var r="",n="",i=0;for(var s in t){var o=0;for(var a in t[s]){var l='<li id="'.concat(e,"shape").concat(i,'">').concat(t[s][a].color," ").concat(s,",");"line"===s?l+=" location = ".concat(t[s][a].pos,", length = ").concat(t[s][a].length," pixels"):(l+=" location = ".concat(t[s][a].pos),"point"!==s&&(l+=", area = ".concat(t[s][a].area," %")),l+="</li>"),r+=l,o++,i++}n=1<o?"".concat(n," ").concat(o," ").concat(s,"s"):"".concat(n," ").concat(o," ").concat(s)}return{numShapes:[i,n],details:r}}(e,this.ingredients.shapes),n=function(e,t,r,n){var i="".concat(t," canvas, ").concat(r," by ").concat(n," pixels, contains ").concat(e[0]);return 1===e[0]?"".concat(i," shape: ").concat(e[1]):"".concat(i," shapes: ").concat(e[1])}(r.numShapes,this.ingredients.colors.background,this.width,this.height),i=function(e,t){var r=0,n="",i=Array.apply(null,Array(10)).map(function(){});for(var s in i)i[s]=Array.apply(null,Array(10)).map(function(){});for(var o in t)for(var a in t[o]){var l;l="line"!==o?'<a href="#'.concat(e,"shape").concat(r,'">').concat(t[o][a].color," ").concat(o,"</a>"):'<a href="#'.concat(e,"shape").concat(r,'">').concat(t[o][a].color," ").concat(o," midpoint</a>"),i[t[o][a].loc.locY][t[o][a].loc.locX]=i[t[o][a].loc.locY][t[o][a].loc.locX]?i[t[o][a].loc.locY][t[o][a].loc.locX]+"  "+l:l,r++}for(var c in i){var u="<tr>";for(var h in i[c])u+="<td>",void 0!==i[c][h]&&(u+=i[c][h]),u+="</td>";n=n+u+"</tr>"}return n}(e,this.ingredients.shapes);n!==t.summary.innerHTML&&(t.summary.innerHTML=n),i!==t.map.innerHTML&&(t.map.innerHTML=i),r.details!==t.shapeDetails.innerHTML&&(t.shapeDetails.innerHTML=r.details),this._accessibleOutputs[e]=t}},r.default=i.default},{"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.map":159}],243:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.to-fixed"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};function s(e,t,r){return e[0]<.4*t?e[1]<.4*r?"top left":e[1]>.6*r?"bottom left":"mid left":e[0]>.6*t?e[1]<.4*r?"top right":e[1]>.6*r?"bottom right":"mid right":e[1]<.4*r?"top middle":e[1]>.6*r?"bottom middle":"middle"}function o(e,t,r){var n=Math.floor(e[0]/t*10),i=Math.floor(e[1]/r*10);return 10===n&&--n,10===i&&--i,{locX:n,locY:i}}i.default.prototype.textOutput=function(e){i.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),e===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},i.default.prototype.gridOutput=function(e){i.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),e===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},i.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},i.default.prototype._createOutput=function(e,t){var r,n,i,s=this.canvas.id;this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(s).parentNode);var o="";"Fallback"===t?(r=s+e,this.dummyDOM.querySelector("#".concat(n=s+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(s,"_Description"))?this.dummyDOM.querySelector("#".concat(s,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(n,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(s)).innerHTML='<div id="'.concat(n,'" role="region" aria-label="Canvas Outputs"></div>'))):"Label"===t&&(r=s+e+(o=t),this.dummyDOM.querySelector("#".concat(n=s+"accessibleOutput"+t))||(this.dummyDOM.querySelector("#".concat(s,"_Label"))?this.dummyDOM.querySelector("#".concat(s,"_Label")).insertAdjacentHTML("afterend",'<div id="'.concat(n,'"></div>')):this.dummyDOM.querySelector("#".concat(s)).insertAdjacentHTML("afterend",'<div id="'.concat(n,'"></div>')))),this._accessibleOutputs[r]={},"textOutput"===e?(o="#".concat(s,"gridOutput").concat(o),i='<div id="'.concat(r,'">Text Output<div id="').concat(r,'Summary" aria-label="text output summary"><p id="').concat(r,'_summary"></p><ul id="').concat(r,'_list"></ul></div><table id="').concat(r,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(o)?this.dummyDOM.querySelector(o).insertAdjacentHTML("beforebegin",i):this.dummyDOM.querySelector("#".concat(n)).innerHTML=i,this._accessibleOutputs[r].list=this.dummyDOM.querySelector("#".concat(r,"_list"))):"gridOutput"===e&&(o="#".concat(s,"textOutput").concat(o),i='<div id="'.concat(r,'">Grid Output<p id="').concat(r,'_summary" aria-label="grid output summary"><table id="').concat(r,'_map" summary="grid output content"></table><ul id="').concat(r,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(o)?this.dummyDOM.querySelector(o).insertAdjacentHTML("afterend",i):this.dummyDOM.querySelector("#".concat(n)).innerHTML=i,this._accessibleOutputs[r].map=this.dummyDOM.querySelector("#".concat(r,"_map"))),this._accessibleOutputs[r].shapeDetails=this.dummyDOM.querySelector("#".concat(r,"_shapeDetails")),this._accessibleOutputs[r].summary=this.dummyDOM.querySelector("#".concat(r,"_summary"))},i.default.prototype._updateAccsOutput=function(){var e=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(e+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(e+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(e+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(e+"gridOutputLabel"))},i.default.prototype._accsBackground=function(e){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==e&&(this.ingredients.colors.backgroundRGBA=e,this.ingredients.colors.background=this._rgbColorName(e))},i.default.prototype._accsCanvasColors=function(e,t){"fill"===e?this.ingredients.colors.fillRGBA!==t&&(this.ingredients.colors.fillRGBA=t,this.ingredients.colors.fill=this._rgbColorName(t)):"stroke"===e&&this.ingredients.colors.strokeRGBA!==t&&(this.ingredients.colors.strokeRGBA=t,this.ingredients.colors.stroke=this._rgbColorName(t))},i.default.prototype._accsOutput=function(e,t){"ellipse"===e&&t[2]===t[3]?e="circle":"rectangle"===e&&t[2]===t[3]&&(e="square");var r={},n=!0,i=function(e,t){var r,n;return n="rectangle"===e||"ellipse"===e||"arc"===e||"circle"===e||"square"===e?(r=Math.round(t[0]+t[2]/2),Math.round(t[1]+t[3]/2)):"triangle"===e?(r=(t[0]+t[2]+t[4])/3,(t[1]+t[3]+t[5])/3):"quadrilateral"===e?(r=(t[0]+t[2]+t[4]+t[6])/4,(t[1]+t[3]+t[5]+t[7])/4):"line"===e?(r=(t[0]+t[2])/2,(t[1]+t[3])/2):(r=t[0],t[1]),[r,n]}(e,t);if("line"===e){r.color=this.ingredients.colors.stroke,r.length=Math.round(this.dist(t[0],t[1],t[2],t[3]));var a=s([t[0],[1]],this.width,this.height),l=s([t[2],[3]],this.width,this.height);r.loc=o(i,this.width,this.height),r.pos=a===l?"at ".concat(a):"from ".concat(a," to ").concat(l)}else"point"===e?r.color=this.ingredients.colors.stroke:(r.color=this.ingredients.colors.fill,r.area=function(e,t,r,n){var i=0;if("arc"===e){var s=((t[5]-t[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI);if(i=s*t[2]*t[3]/8,"open"===t[6]||"chord"===t[6]){var o=t[0],a=t[1],l=t[0]+t[2]/2*Math.cos(t[4]).toFixed(2),c=t[1]+t[3]/2*Math.sin(t[4]).toFixed(2),u=t[0]+t[2]/2*Math.cos(t[5]).toFixed(2),h=t[1]+t[3]/2*Math.sin(t[5]).toFixed(2),d=Math.abs(o*(c-h)+l*(h-a)+u*(a-c))/2;s>Math.PI?i+=d:i-=d}}else"ellipse"===e||"circle"===e?i=3.14*t[2]/2*t[3]/2:"line"===e||"point"===e?i=0:"quadrilateral"===e?i=Math.abs((t[6]+t[0])*(t[7]-t[1])+(t[0]+t[2])*(t[1]-t[3])+(t[2]+t[4])*(t[3]-t[5])+(t[4]+t[6])*(t[5]-t[7]))/2:"rectangle"===e||"square"===e?i=t[2]*t[3]:"triangle"===e&&(i=Math.abs(t[0]*(t[3]-t[5])+t[2]*(t[5]-t[1])+t[4]*(t[1]-t[3]))/2);return Math.round(100*i/(r*n))}(e,t,this.width,this.height)),r.pos=s(i,this.width,this.height),r.loc=o(i,this.width,this.height);if(this.ingredients.shapes[e]){if(this.ingredients.shapes[e]!==[r]){for(var c in this.ingredients.shapes[e])JSON.stringify(this.ingredients.shapes[e][c])===JSON.stringify(r)&&(n=!1);!0===n&&this.ingredients.shapes[e].push(r)}}else this.ingredients.shapes[e]=[r]},r.default=i.default},{"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.fill":150,"core-js/modules/es.array.map":159,"core-js/modules/es.number.to-fixed":169}],244:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};i.default.prototype._updateTextOutput=function(e){if(this.dummyDOM.querySelector("#".concat(e,"_summary"))){var t=this._accessibleOutputs[e],r=function(e,t){var r="",n=0;for(var i in t)for(var s in t[i]){var o='<li><a href="#'.concat(e,"shape").concat(n,'">').concat(t[i][s].color," ").concat(i,"</a>");"line"===i?o+=", ".concat(t[i][s].pos,", ").concat(t[i][s].length," pixels long.</li>"):(o+=", at ".concat(t[i][s].pos),"point"!==i&&(o+=", covering ".concat(t[i][s].area,"% of the canvas")),o+=".</li>"),r+=o,n++}return{numShapes:n,listShapes:r}}(e,this.ingredients.shapes),n=function(e,t,r,n){var i="Your output is a, ".concat(r," by ").concat(n," pixels, ").concat(t," canvas containing the following");return 1===e?"".concat(i," shape:"):"".concat(i," ").concat(e," shapes:")}(r.numShapes,this.ingredients.colors.background,this.width,this.height),i=function(e,t){var r="",n=0;for(var i in t)for(var s in t[i]){var o='<tr id="'.concat(e,"shape").concat(n,'"><th>').concat(t[i][s].color," ").concat(i,"</th>");"line"===i?o+="<td>location = ".concat(t[i][s].pos,"</td><td>length = ").concat(t[i][s].length," pixels</td></tr>"):(o+="<td>location = ".concat(t[i][s].pos,"</td>"),"point"!==i&&(o+="<td> area = ".concat(t[i][s].area,"%</td>")),o+="</tr>"),r+=o,n++}return r}(e,this.ingredients.shapes);n!==t.summary.innerHTML&&(t.summary.innerHTML=n),r.listShapes!==t.list.innerHTML&&(t.list.innerHTML=r.listShapes),i!==t.shapeDetails.innerHTML&&(t.shapeDetails.innerHTML=i),this._accessibleOutputs[e]=t}},r.default=i.default},{"../core/main":260,"core-js/modules/es.array.concat":148}],245:[function(e,t,r){"use strict";var n,i=(n=e("./core/main"))&&n.__esModule?n:{default:n};e("./core/constants"),e("./core/environment"),e("./core/friendly_errors/stacktrace"),e("./core/friendly_errors/validate_params"),e("./core/friendly_errors/file_errors"),e("./core/friendly_errors/fes_core"),e("./core/helpers"),e("./core/legacy"),e("./core/preload"),e("./core/p5.Element"),e("./core/p5.Graphics"),e("./core/p5.Renderer"),e("./core/p5.Renderer2D"),e("./core/rendering"),e("./core/shim"),e("./core/structure"),e("./core/transform"),e("./core/shape/2d_primitives"),e("./core/shape/attributes"),e("./core/shape/curves"),e("./core/shape/vertex"),e("./accessibility/outputs"),e("./accessibility/textOutput"),e("./accessibility/gridOutput"),e("./accessibility/color_namer"),e("./color/color_conversion"),e("./color/creating_reading"),e("./color/p5.Color"),e("./color/setting"),e("./data/p5.TypedDict"),e("./data/local_storage.js"),e("./dom/dom"),e("./accessibility/describe"),e("./events/acceleration"),e("./events/keyboard"),e("./events/mouse"),e("./events/touch"),e("./image/filters"),e("./image/image"),e("./image/loading_displaying"),e("./image/p5.Image"),e("./image/pixels"),e("./io/files"),e("./io/p5.Table"),e("./io/p5.TableRow"),e("./io/p5.XML"),e("./math/calculation"),e("./math/math"),e("./math/noise"),e("./math/p5.Vector"),e("./math/random"),e("./math/trigonometry"),e("./typography/attributes"),e("./typography/loading_displaying"),e("./typography/p5.Font"),e("./utilities/array_functions"),e("./utilities/conversion"),e("./utilities/string_functions"),e("./utilities/time_date"),e("./webgl/3d_primitives"),e("./webgl/interaction"),e("./webgl/light"),e("./webgl/loading"),e("./webgl/material"),e("./webgl/p5.Camera"),e("./webgl/p5.Geometry"),e("./webgl/p5.Matrix"),e("./webgl/p5.RendererGL.Immediate"),e("./webgl/p5.RendererGL"),e("./webgl/p5.RendererGL.Retained"),e("./webgl/p5.Shader"),e("./webgl/p5.RenderBuffer"),e("./webgl/p5.Texture"),e("./webgl/text"),e("./core/init"),t.exports=i.default},{"./accessibility/color_namer":240,"./accessibility/describe":241,"./accessibility/gridOutput":242,"./accessibility/outputs":243,"./accessibility/textOutput":244,"./color/color_conversion":246,"./color/creating_reading":247,"./color/p5.Color":248,"./color/setting":249,"./core/constants":250,"./core/environment":251,"./core/friendly_errors/fes_core":252,"./core/friendly_errors/file_errors":253,"./core/friendly_errors/stacktrace":254,"./core/friendly_errors/validate_params":255,"./core/helpers":256,"./core/init":257,"./core/legacy":259,"./core/main":260,"./core/p5.Element":261,"./core/p5.Graphics":262,"./core/p5.Renderer":263,"./core/p5.Renderer2D":264,"./core/preload":265,"./core/rendering":266,"./core/shape/2d_primitives":267,"./core/shape/attributes":268,"./core/shape/curves":269,"./core/shape/vertex":270,"./core/shim":271,"./core/structure":272,"./core/transform":273,"./data/local_storage.js":274,"./data/p5.TypedDict":275,"./dom/dom":276,"./events/acceleration":277,"./events/keyboard":278,"./events/mouse":279,"./events/touch":280,"./image/filters":281,"./image/image":282,"./image/loading_displaying":283,"./image/p5.Image":284,"./image/pixels":285,"./io/files":286,"./io/p5.Table":287,"./io/p5.TableRow":288,"./io/p5.XML":289,"./math/calculation":290,"./math/math":291,"./math/noise":292,"./math/p5.Vector":293,"./math/random":294,"./math/trigonometry":295,"./typography/attributes":296,"./typography/loading_displaying":297,"./typography/p5.Font":298,"./utilities/array_functions":299,"./utilities/conversion":300,"./utilities/string_functions":301,"./utilities/time_date":302,"./webgl/3d_primitives":303,"./webgl/interaction":304,"./webgl/light":305,"./webgl/loading":306,"./webgl/material":307,"./webgl/p5.Camera":308,"./webgl/p5.Geometry":309,"./webgl/p5.Matrix":310,"./webgl/p5.RenderBuffer":311,"./webgl/p5.RendererGL":314,"./webgl/p5.RendererGL.Immediate":312,"./webgl/p5.RendererGL.Retained":313,"./webgl/p5.Shader":315,"./webgl/p5.Texture":316,"./webgl/text":317}],246:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};i.default.ColorConversion={},i.default.ColorConversion._hsbaToHSLA=function(e){var t=e[1],r=e[2],n=(2-t)*r/2;return 0!=n&&(1==n?t=0:n<.5?t/=2-t:t=t*r/(2-2*n)),[e[0],t,n,e[3]]},i.default.ColorConversion._hsbaToRGBA=function(e){var t=6*e[0],r=e[1],n=e[2],i=[];if(0===r)i=[n,n,n,e[3]];else{var s,o,a,l=Math.floor(t),c=n*(1-r),u=n*(1-r*(t-l)),h=n*(1-r*(1+l-t));a=1===l?(s=u,o=n,c):2===l?(s=c,o=n,h):3===l?(s=c,o=u,n):4===l?(s=h,o=c,n):5===l?(s=n,o=c,u):(s=n,o=h,c),i=[s,o,a,e[3]]}return i},i.default.ColorConversion._hslaToHSBA=function(e){var t,r=e[1],n=e[2];return[e[0],r=2*((t=n<.5?(1+r)*n:n+r-n*r)-n)/t,t,e[3]]},i.default.ColorConversion._hslaToRGBA=function(e){var t=6*e[0],r=e[1],n=e[2],i=[];if(0===r)i=[n,n,n,e[3]];else{var s,o=2*n-(s=n<.5?(1+r)*n:n+r-n*r),a=function(e,t,r){return e<0?e+=6:6<=e&&(e-=6),e<1?t+(r-t)*e:e<3?r:e<4?t+(r-t)*(4-e):t};i=[a(2+t,o,s),a(t,o,s),a(t-2,o,s),e[3]]}return i},i.default.ColorConversion._rgbaToHSBA=function(e){var t,r,n=e[0],i=e[1],s=e[2],o=Math.max(n,i,s),a=o-Math.min(n,i,s);return 0==a?r=t=0:(r=a/o,n===o?t=(i-s)/a:i===o?t=2+(s-n)/a:s===o&&(t=4+(n-i)/a),t<0?t+=6:6<=t&&(t-=6)),[t/6,r,o,e[3]]},i.default.ColorConversion._rgbaToHSLA=function(e){var t,r,n=e[0],i=e[1],s=e[2],o=Math.max(n,i,s),a=Math.min(n,i,s),l=o+a,c=o-a;return 0==c?r=t=0:(r=l<1?c/l:c/(2-l),n===o?t=(i-s)/c:i===o?t=2+(s-n)/c:s===o&&(t=4+(n-i)/c),t<0?t+=6:6<=t&&(t-=6)),[t/6,r,l/2,e[3]]},r.default=i.default.ColorConversion},{"../core/main":260}],247:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.array.map"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=(i=e("../core/main"))&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}e("./p5.Color"),e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),s.default.prototype.alpha=function(e){return s.default._validateParameters("alpha",arguments),this.color(e)._getAlpha()},s.default.prototype.blue=function(e){return s.default._validateParameters("blue",arguments),this.color(e)._getBlue()},s.default.prototype.brightness=function(e){return s.default._validateParameters("brightness",arguments),this.color(e)._getBrightness()},s.default.prototype.color=function(){return s.default._validateParameters("color",arguments),arguments[0]instanceof s.default.Color?arguments[0]:new s.default.Color(this,arguments[0]instanceof Array?arguments[0]:arguments)},s.default.prototype.green=function(e){return s.default._validateParameters("green",arguments),this.color(e)._getGreen()},s.default.prototype.hue=function(e){return s.default._validateParameters("hue",arguments),this.color(e)._getHue()},s.default.prototype.lerpColor=function(e,t,r){s.default._validateParameters("lerpColor",arguments);var n,i,a,l,c,u,h=this._colorMode,d=this._colorMaxes;if(h===o.RGB)c=e.levels.map(function(e){return e/255}),u=t.levels.map(function(e){return e/255});else if(h===o.HSB)e._getBrightness(),t._getBrightness(),c=e.hsba,u=t.hsba;else{if(h!==o.HSL)throw new Error("".concat(h,"cannot be used for interpolation."));e._getLightness(),t._getLightness(),c=e.hsla,u=t.hsla}return r=Math.max(Math.min(r,1),0),void 0===this.lerp&&(this.lerp=function(e,t,r){return r*(t-e)+e}),n=this.lerp(c[0],u[0],r),i=this.lerp(c[1],u[1],r),a=this.lerp(c[2],u[2],r),l=this.lerp(c[3],u[3],r),this.color(n*=d[h][0],i*=d[h][1],a*=d[h][2],l*=d[h][3])},s.default.prototype.lightness=function(e){return s.default._validateParameters("lightness",arguments),this.color(e)._getLightness()},s.default.prototype.red=function(e){return s.default._validateParameters("red",arguments),this.color(e)._getRed()},s.default.prototype.saturation=function(e){return s.default._validateParameters("saturation",arguments),this.color(e)._getSaturation()},r.default=s.default},{"../core/constants":250,"../core/friendly_errors/fes_core":252,"../core/friendly_errors/file_errors":253,"../core/friendly_errors/validate_params":255,"../core/main":260,"./p5.Color":248,"core-js/modules/es.array.map":159}],248:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.trim"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=l(e("../core/main")),s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}(e("../core/constants")),o=l(e("./color_conversion"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}i.default.Color=function(e,t){if(this._storeModeAndMaxes(e._colorMode,e._colorMaxes),this.mode!==s.RGB&&this.mode!==s.HSL&&this.mode!==s.HSB)throw new Error("".concat(this.mode," is an invalid colorMode."));return this._array=i.default.Color._parseInputs.apply(this,t),this._calculateLevels(),this},i.default.Color.prototype.toString=function(e){var t=this.levels,r=this._array,n=r[3];switch(e){case"#rrggbb":return"#".concat(t[0]<16?"0".concat(t[0].toString(16)):t[0].toString(16),t[1]<16?"0".concat(t[1].toString(16)):t[1].toString(16),t[2]<16?"0".concat(t[2].toString(16)):t[2].toString(16));case"#rrggbbaa":return"#".concat(t[0]<16?"0".concat(t[0].toString(16)):t[0].toString(16),t[1]<16?"0".concat(t[1].toString(16)):t[1].toString(16),t[2]<16?"0".concat(t[2].toString(16)):t[2].toString(16),t[3]<16?"0".concat(t[3].toString(16)):t[3].toString(16));case"#rgb":return"#".concat(Math.round(15*r[0]).toString(16),Math.round(15*r[1]).toString(16),Math.round(15*r[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*r[0]).toString(16),Math.round(15*r[1]).toString(16),Math.round(15*r[2]).toString(16),Math.round(15*r[3]).toString(16));case"rgb":return"rgb(".concat(t[0],", ",t[1],", ",t[2],")");case"rgb%":return"rgb(".concat((100*r[0]).toPrecision(3),"%, ",(100*r[1]).toPrecision(3),"%, ",(100*r[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*r[0]).toPrecision(3),"%, ",(100*r[1]).toPrecision(3),"%, ",(100*r[2]).toPrecision(3),"%, ",(100*r[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=o.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[s.HSB][0],", ",this.hsba[1]*this.maxes[s.HSB][1],", ",this.hsba[2]*this.maxes[s.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=o.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=o.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[s.HSB][0],", ",this.hsba[1]*this.maxes[s.HSB][1],", ",this.hsba[2]*this.maxes[s.HSB][2],", ",n,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=o.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*n).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=o.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[s.HSL][0],", ",this.hsla[1]*this.maxes[s.HSL][1],", ",this.hsla[2]*this.maxes[s.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=o.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=o.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[s.HSL][0],", ",this.hsla[1]*this.maxes[s.HSL][1],", ",this.hsla[2]*this.maxes[s.HSL][2],", ",n,")");case"hsla%":return this.hsla||(this.hsla=o.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*n).toPrecision(3),"%)");case"rgba":default:return"rgba(".concat(t[0],",",t[1],",",t[2],",",n,")")}},i.default.Color.prototype.setRed=function(e){this._array[0]=e/this.maxes[s.RGB][0],this._calculateLevels()},i.default.Color.prototype.setGreen=function(e){this._array[1]=e/this.maxes[s.RGB][1],this._calculateLevels()},i.default.Color.prototype.setBlue=function(e){this._array[2]=e/this.maxes[s.RGB][2],this._calculateLevels()},i.default.Color.prototype.setAlpha=function(e){this._array[3]=e/this.maxes[this.mode][3],this._calculateLevels()},i.default.Color.prototype._calculateLevels=function(){for(var e=this._array,t=this.levels=new Array(e.length),r=e.length-1;0<=r;--r)t[r]=Math.round(255*e[r])},i.default.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},i.default.Color.prototype._storeModeAndMaxes=function(e,t){this.mode=e,this.maxes=t},i.default.Color.prototype._getMode=function(){return this.mode},i.default.Color.prototype._getMaxes=function(){return this.maxes},i.default.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[s.RGB][2]},i.default.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=o.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[s.HSB][2]},i.default.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[s.RGB][1]},i.default.Color.prototype._getHue=function(){return this.mode===s.HSB?(this.hsba||(this.hsba=o.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[s.HSB][0]):(this.hsla||(this.hsla=o.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[s.HSL][0])},i.default.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=o.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[s.HSL][2]},i.default.Color.prototype._getRed=function(){return this._array[0]*this.maxes[s.RGB][0]},i.default.Color.prototype._getSaturation=function(){return this.mode===s.HSB?(this.hsba||(this.hsba=o.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[s.HSB][1]):(this.hsla||(this.hsla=o.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[s.HSL][1])};var c={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},u=/\s*/,h=/(\d{1,3})/,d=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,p=new RegExp("".concat(d.source,"%")),f={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",h.source,",",h.source,",",h.source,"\\)$"].join(u.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",p.source,",",p.source,",",p.source,"\\)$"].join(u.source),"i"),RGBA:new RegExp(["^rgba\\(",h.source,",",h.source,",",h.source,",",d.source,"\\)$"].join(u.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",p.source,",",p.source,",",p.source,",",d.source,"\\)$"].join(u.source),"i"),HSL:new RegExp(["^hsl\\(",h.source,",",p.source,",",p.source,"\\)$"].join(u.source),"i"),HSLA:new RegExp(["^hsla\\(",h.source,",",p.source,",",p.source,",",d.source,"\\)$"].join(u.source),"i"),HSB:new RegExp(["^hsb\\(",h.source,",",p.source,",",p.source,"\\)$"].join(u.source),"i"),HSBA:new RegExp(["^hsba\\(",h.source,",",p.source,",",p.source,",",d.source,"\\)$"].join(u.source),"i")};i.default.Color._parseInputs=function(e,t,r,n){var a,l=arguments.length,u=this.mode,h=this.maxes[u],d=[];if(3<=l){for(d[0]=e/h[0],d[1]=t/h[1],d[2]=r/h[2],d[3]="number"==typeof n?n/h[3]:1,a=d.length-1;0<=a;--a){var p=d[a];p<0?d[a]=0:1<p&&(d[a]=1)}return u===s.HSL?o.default._hslaToRGBA(d):u===s.HSB?o.default._hsbaToRGBA(d):d}if(1===l&&"string"==typeof e){var m=e.trim().toLowerCase();if(c[m])return i.default.Color._parseInputs.call(this,c[m]);if(f.HEX3.test(m))return(d=f.HEX3.exec(m).slice(1).map(function(e){return parseInt(e+e,16)/255}))[3]=1,d;if(f.HEX6.test(m))return(d=f.HEX6.exec(m).slice(1).map(function(e){return parseInt(e,16)/255}))[3]=1,d;if(f.HEX4.test(m))return f.HEX4.exec(m).slice(1).map(function(e){return parseInt(e+e,16)/255});if(f.HEX8.test(m))return f.HEX8.exec(m).slice(1).map(function(e){return parseInt(e,16)/255});if(f.RGB.test(m))return(d=f.RGB.exec(m).slice(1).map(function(e){return e/255}))[3]=1,d;if(f.RGB_PERCENT.test(m))return(d=f.RGB_PERCENT.exec(m).slice(1).map(function(e){return parseFloat(e)/100}))[3]=1,d;if(f.RGBA.test(m))return f.RGBA.exec(m).slice(1).map(function(e,t){return 3===t?parseFloat(e):e/255});if(f.RGBA_PERCENT.test(m))return f.RGBA_PERCENT.exec(m).slice(1).map(function(e,t){return 3===t?parseFloat(e):parseFloat(e)/100});if(f.HSL.test(m)?(d=f.HSL.exec(m).slice(1).map(function(e,t){return 0===t?parseInt(e,10)/360:parseInt(e,10)/100}))[3]=1:f.HSLA.test(m)&&(d=f.HSLA.exec(m).slice(1).map(function(e,t){return 0===t?parseInt(e,10)/360:3===t?parseFloat(e):parseInt(e,10)/100})),(d=d.map(function(e){return Math.max(Math.min(e,1),0)})).length)return o.default._hslaToRGBA(d);if(f.HSB.test(m)?(d=f.HSB.exec(m).slice(1).map(function(e,t){return 0===t?parseInt(e,10)/360:parseInt(e,10)/100}))[3]=1:f.HSBA.test(m)&&(d=f.HSBA.exec(m).slice(1).map(function(e,t){return 0===t?parseInt(e,10)/360:3===t?parseFloat(e):parseInt(e,10)/100})),d.length){for(a=d.length-1;0<=a;--a)d[a]=Math.max(Math.min(d[a],1),0);return o.default._hsbaToRGBA(d)}d=[1,1,1,1]}else{if(1!==l&&2!==l||"number"!=typeof e)throw new Error("".concat(arguments,"is not a valid color representation."));d[0]=e/h[2],d[1]=e/h[2],d[2]=e/h[2],d[3]="number"==typeof t?t/h[3]:1,d=d.map(function(e){return Math.max(Math.min(e,1),0)})}return d},r.default=i.default.Color},{"../core/constants":250,"../core/main":260,"./color_conversion":246,"core-js/modules/es.array.join":157,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.constructor":177,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.trim":190}],249:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.array.fill"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=(i=e("../core/main"))&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}e("./p5.Color"),s.default.prototype.background=function(){var e;return(e=this._renderer).background.apply(e,arguments),this},s.default.prototype.clear=function(){return this._renderer.clear(),this},s.default.prototype.colorMode=function(e,t,r,n,i){if(s.default._validateParameters("colorMode",arguments),e===o.RGB||e===o.HSB||e===o.HSL){this._colorMode=e;var a=this._colorMaxes[e];2===arguments.length?(a[0]=t,a[1]=t,a[2]=t,a[3]=t):4===arguments.length?(a[0]=t,a[1]=r,a[2]=n):5===arguments.length&&(a[0]=t,a[1]=r,a[2]=n,a[3]=i)}return this},s.default.prototype.fill=function(){var e;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(e=this._renderer).fill.apply(e,arguments),this},s.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},s.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},s.default.prototype.stroke=function(){var e;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(e=this._renderer).stroke.apply(e,arguments),this},s.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255),this},s.default.prototype.noErase=function(){return this._renderer.noErase(),this},r.default=s.default},{"../core/constants":250,"../core/main":260,"./p5.Color":248,"core-js/modules/es.array.fill":150}],250:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.STROKE=r.CURVE=r.BEZIER=r.QUADRATIC=r.LINEAR=r._CTX_MIDDLE=r._DEFAULT_LEADMULT=r._DEFAULT_TEXT_FILL=r.BOLDITALIC=r.BOLD=r.ITALIC=r.NORMAL=r.BLUR=r.ERODE=r.DILATE=r.POSTERIZE=r.INVERT=r.OPAQUE=r.GRAY=r.THRESHOLD=r.BURN=r.DODGE=r.SOFT_LIGHT=r.HARD_LIGHT=r.OVERLAY=r.REPLACE=r.SCREEN=r.MULTIPLY=r.EXCLUSION=r.SUBTRACT=r.DIFFERENCE=r.LIGHTEST=r.DARKEST=r.ADD=r.REMOVE=r.BLEND=r.UP_ARROW=r.TAB=r.SHIFT=r.RIGHT_ARROW=r.RETURN=r.OPTION=r.LEFT_ARROW=r.ESCAPE=r.ENTER=r.DOWN_ARROW=r.DELETE=r.CONTROL=r.BACKSPACE=r.ALT=r.AUTO=r.HSL=r.HSB=r.RGB=r.MITER=r.BEVEL=r.ROUND=r.SQUARE=r.PROJECT=r.PIE=r.CHORD=r.OPEN=r.CLOSE=r.TESS=r.QUAD_STRIP=r.QUADS=r.TRIANGLE_STRIP=r.TRIANGLE_FAN=r.TRIANGLES=r.LINE_LOOP=r.LINE_STRIP=r.LINES=r.POINTS=r.BASELINE=r.BOTTOM=r.TOP=r.CENTER=r.LEFT=r.RIGHT=r.RADIUS=r.CORNERS=r.CORNER=r.RAD_TO_DEG=r.DEG_TO_RAD=r.RADIANS=r.DEGREES=r.TWO_PI=r.TAU=r.QUARTER_PI=r.PI=r.HALF_PI=r.WAIT=r.TEXT=r.MOVE=r.HAND=r.CROSS=r.ARROW=r.WEBGL=r.P2D=r.VERSION=void 0,r.FALLBACK=r.LABEL=r.AXES=r.GRID=r._DEFAULT_FILL=r._DEFAULT_STROKE=r.PORTRAIT=r.LANDSCAPE=r.MIRROR=r.CLAMP=r.REPEAT=r.NEAREST=r.IMAGE=r.IMMEDIATE=r.TEXTURE=r.FILL=void 0;var n=Math.PI;r.VERSION="1.3.1",r.P2D="p2d",r.WEBGL="webgl",r.ARROW="default",r.CROSS="crosshair",r.HAND="pointer",r.MOVE="move",r.TEXT="text",r.WAIT="wait",r.HALF_PI=n/2,r.PI=n,r.QUARTER_PI=n/4,r.TAU=2*n,r.TWO_PI=2*n,r.DEGREES="degrees",r.RADIANS="radians",r.DEG_TO_RAD=n/180,r.RAD_TO_DEG=180/n,r.CORNER="corner",r.CORNERS="corners",r.RADIUS="radius",r.RIGHT="right",r.LEFT="left",r.CENTER="center",r.TOP="top",r.BOTTOM="bottom",r.BASELINE="alphabetic",r.POINTS=0,r.LINES=1,r.LINE_STRIP=3,r.LINE_LOOP=2,r.TRIANGLES=4,r.TRIANGLE_FAN=6,r.TRIANGLE_STRIP=5,r.QUADS="quads",r.QUAD_STRIP="quad_strip",r.TESS="tess",r.CLOSE="close",r.OPEN="open",r.CHORD="chord",r.PIE="pie",r.PROJECT="square",r.SQUARE="butt",r.ROUND="round",r.BEVEL="bevel",r.MITER="miter",r.RGB="rgb",r.HSB="hsb",r.HSL="hsl",r.AUTO="auto",r.ALT=18,r.BACKSPACE=8,r.CONTROL=17,r.DELETE=46,r.DOWN_ARROW=40,r.ENTER=13,r.ESCAPE=27,r.LEFT_ARROW=37,r.OPTION=18,r.RETURN=13,r.RIGHT_ARROW=39,r.SHIFT=16,r.TAB=9,r.UP_ARROW=38,r.BLEND="source-over",r.REMOVE="destination-out",r.ADD="lighter",r.DARKEST="darken",r.LIGHTEST="lighten",r.DIFFERENCE="difference",r.SUBTRACT="subtract",r.EXCLUSION="exclusion",r.MULTIPLY="multiply",r.SCREEN="screen",r.REPLACE="copy",r.OVERLAY="overlay",r.HARD_LIGHT="hard-light",r.SOFT_LIGHT="soft-light",r.DODGE="color-dodge",r.BURN="color-burn",r.THRESHOLD="threshold",r.GRAY="gray",r.OPAQUE="opaque",r.INVERT="invert",r.POSTERIZE="posterize",r.DILATE="dilate",r.ERODE="erode",r.BLUR="blur",r.NORMAL="normal",r.ITALIC="italic",r.BOLD="bold",r.BOLDITALIC="bold italic",r._DEFAULT_TEXT_FILL="#000000",r._DEFAULT_LEADMULT=1.25,r._CTX_MIDDLE="middle",r.LINEAR="linear",r.QUADRATIC="quadratic",r.BEZIER="bezier",r.CURVE="curve",r.STROKE="stroke",r.FILL="fill",r.TEXTURE="texture",r.IMMEDIATE="immediate",r.IMAGE="image",r.NEAREST="nearest",r.REPEAT="repeat",r.CLAMP="clamp",r.MIRROR="mirror",r.LANDSCAPE="landscape",r.PORTRAIT="portrait",r._DEFAULT_STROKE="#000000",r._DEFAULT_FILL="#FFFFFF",r.GRID="grid",r.AXES="axes",r.LABEL="label",r.FALLBACK="fallback"},{}],251:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=(i=e("./main"))&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}(e("./constants"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var l=[o.ARROW,o.CROSS,o.HAND,o.MOVE,o.TEXT,o.WAIT];s.default.prototype._frameRate=0,s.default.prototype._lastFrameTime=window.performance.now(),s.default.prototype._targetFrameRate=60;var c=window.print;function u(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function h(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}s.default.prototype.print=function(){var e;arguments.length?(e=console).log.apply(e,arguments):c()},s.default.prototype.frameCount=0,s.default.prototype.deltaTime=0,s.default.prototype.focused=document.hasFocus(),s.default.prototype.cursor=function(e,t,r){var n="auto",i=this._curElement.elt;if(l.includes(e))n=e;else if("string"==typeof e){var s="";t&&r&&"number"==typeof t&&"number"==typeof r&&(s="".concat(t," ").concat(r)),n="http://"===e.substring(0,7)||"https://"===e.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(e)?"url(".concat(e,") ").concat(s,", auto"):e}i.style.cursor=n},s.default.prototype.frameRate=function(e){return s.default._validateParameters("frameRate",arguments),"number"!=typeof e||e<0?this._frameRate:(this._setProperty("_targetFrameRate",e),0===e&&this._setProperty("_frameRate",e),this)},s.default.prototype.getFrameRate=function(){return this.frameRate()},s.default.prototype.setFrameRate=function(e){return this.frameRate(e)},s.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},s.default.prototype.displayWidth=screen.width,s.default.prototype.displayHeight=screen.height,s.default.prototype.windowWidth=u(),s.default.prototype.windowHeight=h(),s.default.prototype._onresize=function(e){this._setProperty("windowWidth",u()),this._setProperty("windowHeight",h());var t,r=this._isGlobal?window:this;"function"==typeof r.windowResized&&(void 0===(t=r.windowResized(e))||t||e.preventDefault())},s.default.prototype.width=0,s.default.prototype.height=0,s.default.prototype.fullscreen=function(e){if(s.default._validateParameters("fullscreen",arguments),void 0===e)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e?function(e){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}(document.documentElement):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},s.default.prototype.pixelDensity=function(e){var t;return s.default._validateParameters("pixelDensity",arguments),"number"==typeof e?(e!==this._pixelDensity&&(this._pixelDensity=e),(t=this).resizeCanvas(this.width,this.height,!0)):t=this._pixelDensity,t},s.default.prototype.displayDensity=function(){return window.devicePixelRatio},s.default.prototype.getURL=function(){return location.href},s.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(e){return""!==e})},s.default.prototype.getURLParams=function(){for(var e,t=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,r={};null!=(e=t.exec(location.search));)e.index===t.lastIndex&&t.lastIndex++,r[e[1]]=e[2];return r},r.default=s.default},{"./constants":250,"./main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.includes":154,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.includes":182,"core-js/modules/es.string.search":187,"core-js/modules/es.string.split":188}],252:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../main"))&&n.__esModule?n:{default:n};e("../internationalization");var s=null,o=null;function a(e,t){t=t||console.log.bind(console),s||o(),s.some(function(r){if(e.message&&null!==e.message.match("\\W?".concat(r.name,"\\W"))){var n="function"===r.type?"".concat(r.name,"()"):r.name;return t("Did you just try to use p5.js's ".concat(n," ").concat(r.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat("https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup")),!0}})}i.default._friendlyError=i.default._checkForUserDefinedFunctions=i.default._fesErrorMonitor=function(){},s=null,o=function(){function t(e){return Object.getOwnPropertyNames(e).filter(function(e){return"_"!==e[0]&&!(e in r)&&(r[e]=!0)}).map(function(t){var r;return r="function"==typeof e[t]?"function":t===t.toUpperCase()?"constant":"variable",{name:t,type:r}})}var r={};(s=[].concat(t(i.default.prototype),t(e("../constants")))).sort(function(e,t){return t.name.length-e.name.length})},i.default.prototype._helpForMisusedAtTopLevelCode=a,"complete"!==document.readyState&&(window.addEventListener("error",a,!1),window.addEventListener("load",function(){window.removeEventListener("error",a,!1)})),r.default=i.default},{"../constants":250,"../internationalization":258,"../main":260,"./browser_errors":void 0,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.for-each":152,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.join":157,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.some":161,"core-js/modules/es.function.name":163,"core-js/modules/es.object.assign":170,"core-js/modules/es.object.get-own-property-names":171,"core-js/modules/es.object.keys":173,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.constructor":177,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.match":184,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.search":187,"core-js/modules/es.string.split":188,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.for-each":225,"core-js/modules/web.dom-collections.iterator":226}],253:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../main"))&&n.__esModule?n:{default:n};e("../internationalization"),i.default._friendlyFileLoadError=function(){},r.default=i.default},{"../internationalization":258,"../main":260}],254:[function(e,t,r){"use strict";e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../main"))&&n.__esModule?n:{default:n};function s(){var e=/(^|@)\S+:\d+/,t=/^\s*at .*(\S+:\d+|\(native\))/m,r=/^(eval@)?(\[native code])?$/;return{parse:function(e){return void 0!==e.stacktrace||void 0!==e["opera#sourceloc"]?this.parseOpera(e):e.stack&&e.stack.match(t)?this.parseV8OrIE(e):e.stack?this.parseFFOrSafari(e):void 0},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter(function(e){return!!e.match(t)},this).map(function(e){-1<e.indexOf("(eval ")&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=t.match(/ (\((.+):(\d+):(\d+)\)$)/),n=(t=r?t.replace(r[0],""):t).split(/\s+/).slice(1),i=this.extractLocation(r?r[1]:n.pop());return{functionName:n.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(i[0])?void 0:i[0],lineNumber:i[1],columnNumber:i[2],source:e}},this)},parseFFOrSafari:function(e){return e.stack.split("\n").filter(function(e){return!e.match(r)},this).map(function(e){if(-1<e.indexOf(" > eval")&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return{functionName:e};var t=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=e.match(t),n=r&&r[1]?r[1]:void 0,i=this.extractLocation(e.replace(t,""));return{functionName:n,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:e}},this)},parseOpera:function(e){return!e.stacktrace||-1<e.message.indexOf("\n")&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)/i,r=e.message.split("\n"),n=[],i=2,s=r.length;i<s;i+=2){var o=t.exec(r[i]);o&&n.push({fileName:o[2],lineNumber:o[1],source:r[i]})}return n},parseOpera10:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=e.stacktrace.split("\n"),n=[],i=0,s=r.length;i<s;i+=2){var o=t.exec(r[i]);o&&n.push({functionName:o[3]||void 0,fileName:o[2],lineNumber:o[1],source:r[i]})}return n},parseOpera11:function(t){return t.stack.split("\n").filter(function(t){return!!t.match(e)&&!t.match(/^Error created at/)},this).map(function(e){var t,r=e.split("@"),n=this.extractLocation(r.pop()),i=r.shift()||"",s=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return i.match(/\(([^)]*)\)/)&&(t=i.replace(/^[^(]+\(([^)]*)\)$/,"$1")),{functionName:s,args:void 0===t||"[arguments not available]"===t?void 0:t.split(","),fileName:n[0],lineNumber:n[1],columnNumber:n[2],source:e}},this)}}}i.default._getErrorStackParser=function(){return new s},r.default=i.default},{"../main":260,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.join":157,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.match":184,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.split":188}],255:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../main"))&&n.__esModule?n:{default:n};function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(function(e){if(!(e&&e.__esModule||null===e||"object"!==o(e)&&"function"!=typeof e)){var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r)}})(e("../constants")),e("../internationalization"),i.default._validateParameters=i.default._clearValidateParamsCache=function(){},r.default=i.default},{"../../../docs/parameterData.json":void 0,"../constants":250,"../internationalization":258,"../main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.for-each":152,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.join":157,"core-js/modules/es.array.last-index-of":158,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.function.name":163,"core-js/modules/es.map":164,"core-js/modules/es.number.constructor":167,"core-js/modules/es.object.get-prototype-of":172,"core-js/modules/es.object.keys":173,"core-js/modules/es.object.to-string":174,"core-js/modules/es.reflect.construct":176,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.set":180,"core-js/modules/es.string.includes":182,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.split":188,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.for-each":225,"core-js/modules/web.dom-collections.iterator":226}],256:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}(e("./constants"));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}r.default={modeAdjust:function(e,t,r,n,s){return s===i.CORNER?{x:e,y:t,w:r,h:n}:s===i.CORNERS?{x:e,y:t,w:r-e,h:n-t}:s===i.RADIUS?{x:e-r,y:t-n,w:2*r,h:2*n}:s===i.CENTER?{x:e-.5*r,y:t-.5*n,w:r,h:n}:void 0}}},{"./constants":250}],257:[function(e,t,r){"use strict";e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};e("./internationalization");var s=Promise.resolve();Promise.all([new Promise(function(e,t){"complete"===document.readyState?e():window.addEventListener("load",e,!1)}),s]).then(function(){void 0===window._setupDone?window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!i.default.instance&&new i.default:console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import")})},{"../core/main":260,"./internationalization":258,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.promise":175,"core-js/modules/es.string.iterator":183,"core-js/modules/web.dom-collections.iterator":226}],258:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.initialize=r.translator=void 0;var n,i=o(e("i18next")),s=o(e("i18next-browser-languagedetector"));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init(t,r)}var t;return(t=[{key:"fetchWithTimeout",value:function(e,t,r){var n=2<arguments.length&&void 0!==r?r:2e3;return Promise.race([fetch(e,t),new Promise(function(e,t){return setTimeout(function(){return t(new Error("timeout"))},n)})])}},{key:"init",value:function(e,t){var r=1<arguments.length&&void 0!==t?t:{};this.services=e,this.options=r}},{key:"read",value:function(e,t,r){var i=this.options.loadPath;if(e===this.options.fallback)r(null,n[e][t]);else if((void 0).includes(e)){var s=this.services.interpolator.interpolate(i,{lng:e,ns:t});this.loadUrl(s,r)}else r("Not found",!1)}},{key:"loadUrl",value:function(e,t){this.fetchWithTimeout(e).then(function(t){if(!t.ok)throw new Error("failed loading ".concat(e));return t.json()},function(){throw new Error("failed loading ".concat(e))}).then(function(e){return t(null,e)}).catch(t)}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();a.type="backend";var l=function(e,t){console.debug("p5.js translator called before translations were loaded"),i.default.t(e,t)};r.translator=l,r.initialize=function(){return i.default.use(s.default).use(a).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:n}).then(function(e){r.translator=l=e},function(e){return console.debug("Translations failed to load (".concat(e,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.join":157,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.keys":173,"core-js/modules/es.object.to-string":174,"core-js/modules/es.promise":175,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.includes":182,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.split":188,"core-js/modules/web.dom-collections.iterator":226,i18next:3,"i18next-browser-languagedetector":3}],259:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./main"))&&n.__esModule?n:{default:n};i.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},i.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},i.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},i.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},r.default=i.default},{"./main":260}],260:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,e("./shim");var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}(e("./constants"));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var o=function(){function e(t,r,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._setupDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=r,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var s=Object.getOwnPropertyNames(e.prototype._registeredMethods),o=!0,a=!1,l=void 0;try{for(var c,u=s[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=c.value;this._registeredMethods[h]=e.prototype._registeredMethods[h].slice()}}catch(t){a=!0,l=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw l}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){i._userNode&&"string"==typeof i._userNode&&(i._userNode=document.getElementById(i._userNode));var t=i._isGlobal?window:i;if(t.preload){var r=document.getElementById(i._loadingScreenId);r||((r=document.createElement("div")).innerHTML="Loading...",r.style.position="absolute",r.id=i._loadingScreenId,(i._userNode||document.body).appendChild(r));var n=i._preloadMethods;for(var s in n){n[s]=n[s]||e;var o=n[s];o!==e.prototype&&o!==e||(i._isGlobal&&(window[s]=i._wrapPreload(i,s)),o=i),i._registeredPreloadMethods[s]=o[s],o[s]=i._wrapPreload(o,s)}t.preload(),i._runIfPreloadsAreDone()}else i._setup(),i._draw()},this._runIfPreloadsAreDone=function(){var e=this._isGlobal?window:this;if(0===e._preloadCount){var t=document.getElementById(e._loadingScreenId);t&&t.parentNode.removeChild(t),this._setupDone||(this._lastFrameTime=window.performance.now(),e._setup(),e._draw())}},this._decrementPreload=function(){var e=this._isGlobal?window:this;"function"==typeof e.preload&&(e._setProperty("_preloadCount",e._preloadCount-1),e._runIfPreloadsAreDone())},this._wrapPreload=function(e,t){var r=this;return function(){r._incrementPreload();for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r._registeredPreloadMethods[t].apply(e,i)}},this._incrementPreload=function(){var e=this._isGlobal?window:this;e._setProperty("_preloadCount",e._preloadCount+1)},this._setup=function(){i.createCanvas(i._defaultCanvasSize.width,i._defaultCanvasSize.height,"p2d");var e=i._isGlobal?window:i;if("function"==typeof e.preload)for(var t in i._preloadMethods)e[t]=i._preloadMethods[t][t],e[t]&&i&&(e[t]=e[t].bind(i));i._millisStart=window.performance.now(),"function"==typeof e.setup&&e.setup();var r=document.getElementsByTagName("canvas"),n=!0,s=!1,o=void 0;try{for(var a,l=r[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var c=a.value;"true"===c.dataset.hidden&&(c.style.visibility="",delete c.dataset.hidden)}}catch(e){s=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(s)throw o}}i._lastFrameTime=window.performance.now(),i._setupDone=!0,(i._accessibleOutputs.grid||i._accessibleOutputs.text)&&i._updateAccsOutput()},this._draw=function(){var e=window.performance.now();(!i._loop||1e3/i._targetFrameRate-5<=e-i._lastFrameTime)&&(i.redraw(),i._frameRate=1e3/(e-i._lastFrameTime),i.deltaTime=e-i._lastFrameTime,i._setProperty("deltaTime",i.deltaTime),i._lastFrameTime=e,void 0!==i._updateMouseCoords&&(i._updateMouseCoords(),i._setProperty("movedX",0),i._setProperty("movedY",0))),i._loop&&(i._requestAnimId=window.requestAnimationFrame(i._draw))},this._setProperty=function(e,t){i[e]=t,i._isGlobal&&(window[e]=t)},this.remove=function(){var t=document.getElementById(i._loadingScreenId);if(t&&(t.parentNode.removeChild(t),i._incrementPreload()),i._curElement){for(var r in i._loop=!1,i._requestAnimId&&window.cancelAnimationFrame(i._requestAnimId),i._events)window.removeEventListener(r,i._events[r]);var n=!0,s=!1,o=void 0;try{for(var a,l=i._elements[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var c=a.value;for(var u in c.elt&&c.elt.parentNode&&c.elt.parentNode.removeChild(c.elt),c._events)c.elt.removeEventListener(u,c._events[u])}}catch(t){s=!0,o=t}finally{try{n||null==l.return||l.return()}finally{if(s)throw o}}var h=i;i._registeredMethods.remove.forEach(function(e){void 0!==e&&e.call(h)})}if(i._isGlobal){for(var d in e.prototype)try{delete window[d]}catch(t){window[d]=void 0}for(var p in i)if(i.hasOwnProperty(p))try{delete window[p]}catch(t){window[p]=void 0}e.instance=null}},this._registeredMethods.init.forEach(function(e){void 0!==e&&e.call(this)},this),this._setupPromisePreloads();var d=this._createFriendlyGlobalFunctionBinder();if(t)t(this),e._checkForUserDefinedFunctions(this);else{for(var p in this._isGlobal=!0,e.instance=this,e.prototype)if("function"==typeof e.prototype[p]){var f=p.substring(2);this._events.hasOwnProperty(f)||(Math.hasOwnProperty(p)&&Math[p]===e.prototype[p]?d(p,e.prototype[p]):d(p,e.prototype[p].bind(this)))}else d(p,e.prototype[p]);for(var m in this)this.hasOwnProperty(m)&&d(m,this[m])}for(var g in this._events){var y=this["_on".concat(g)];if(y){var v=y.bind(this);window.addEventListener(g,v,{passive:!1}),this._events[g]=v}}function _(){i._setProperty("focused",!0)}function b(){i._setProperty("focused",!1)}window.addEventListener("focus",_),window.addEventListener("blur",b),this.registerMethod("remove",function(){window.removeEventListener("focus",_),window.removeEventListener("blur",b)}),"complete"===document.readyState?this._start():window.addEventListener("load",this._start.bind(this),!1)}var t;return(t=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=i.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(t,r){e.prototype._preloadMethods.hasOwnProperty(t)||(e.prototype._preloadMethods[t]=r)}},{key:"registerMethod",value:function(t,r){var n=this||e.prototype;n._registeredMethods.hasOwnProperty(t)||(n._registeredMethods[t]=[]),n._registeredMethods[t].push(r)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(e){var t=0<arguments.length&&void 0!==e?e:{},r=t.globalObject||window;return t.log||console.log.bind(console),function(e,t){r[e]=t}}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();for(var a in o.instance=null,o.disableFriendlyErrors=!1,i)o.prototype[a]=i[a];o.prototype._preloadMethods={loadJSON:o.prototype,loadImage:o.prototype,loadStrings:o.prototype,loadXML:o.prototype,loadBytes:o.prototype,loadTable:o.prototype,loadFont:o.prototype,loadModel:o.prototype,loadShader:o.prototype},o.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},o.prototype._registeredPreloadMethods={},r.default=o},{"./constants":250,"./shim":271,"core-js/modules/es.array.for-each":152,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.get-own-property-names":171,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.for-each":225,"core-js/modules/web.dom-collections.iterator":226}],261:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./main"))&&n.__esModule?n:{default:n};i.default.Element=function(e,t){this.elt=e,this._pInst=this._pixelsState=t,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},i.default.Element.prototype.parent=function(e){return void 0===e?this.elt.parentNode:("string"==typeof e?("#"===e[0]&&(e=e.substring(1)),e=document.getElementById(e)):e instanceof i.default.Element&&(e=e.elt),e.appendChild(this.elt),this)},i.default.Element.prototype.id=function(e){return void 0===e?this.elt.id:(this.elt.id=e,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},i.default.Element.prototype.class=function(e){return void 0===e?this.elt.className:(this.elt.className=e,this)},i.default.Element.prototype.mousePressed=function(e){return i.default.Element._adjustListener("mousedown",function(t){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(t),e.call(this)},this),this},i.default.Element.prototype.doubleClicked=function(e){return i.default.Element._adjustListener("dblclick",e,this),this},i.default.Element.prototype.mouseWheel=function(e){return i.default.Element._adjustListener("wheel",e,this),this},i.default.Element.prototype.mouseReleased=function(e){return i.default.Element._adjustListener("mouseup",e,this),this},i.default.Element.prototype.mouseClicked=function(e){return i.default.Element._adjustListener("click",e,this),this},i.default.Element.prototype.mouseMoved=function(e){return i.default.Element._adjustListener("mousemove",e,this),this},i.default.Element.prototype.mouseOver=function(e){return i.default.Element._adjustListener("mouseover",e,this),this},i.default.Element.prototype.mouseOut=function(e){return i.default.Element._adjustListener("mouseout",e,this),this},i.default.Element.prototype.touchStarted=function(e){return i.default.Element._adjustListener("touchstart",e,this),this},i.default.Element.prototype.touchMoved=function(e){return i.default.Element._adjustListener("touchmove",e,this),this},i.default.Element.prototype.touchEnded=function(e){return i.default.Element._adjustListener("touchend",e,this),this},i.default.Element.prototype.dragOver=function(e){return i.default.Element._adjustListener("dragover",e,this),this},i.default.Element.prototype.dragLeave=function(e){return i.default.Element._adjustListener("dragleave",e,this),this},i.default.Element._adjustListener=function(e,t,r){return!1===t?i.default.Element._detachListener(e,r):i.default.Element._attachListener(e,t,r),this},i.default.Element._attachListener=function(e,t,r){r._events[e]&&i.default.Element._detachListener(e,r);var n=t.bind(r);r.elt.addEventListener(e,n,!1),r._events[e]=n},i.default.Element._detachListener=function(e,t){t.elt.removeEventListener(e,t._events[e],!1),t._events[e]=null},i.default.Element.prototype._setProperty=function(e,t){this[e]=t},r.default=i.default.Element},{"./main":260}],262:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.splice"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=(i=e("./main"))&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}(e("./constants"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}s.default.Graphics=function(e,t,r,n){var i=r||o.P2D;this.canvas=document.createElement("canvas");var a=n._userNode||document.body;for(var l in a.appendChild(this.canvas),s.default.Element.call(this,this.canvas,n),s.default.prototype)this[l]||(this[l]="function"==typeof s.default.prototype[l]?s.default.prototype[l].bind(this):s.default.prototype[l]);return s.default.prototype._initializeInstanceVariables.apply(this),this.width=e,this.height=t,this._pixelDensity=n._pixelDensity,this._renderer=i===o.WEBGL?new s.default.RendererGL(this.canvas,this,!1):new s.default.Renderer2D(this.canvas,this,!1),n._elements.push(this),Object.defineProperty(this,"deltaTime",{get:function(){return this._pInst.deltaTime}}),this._renderer.resize(e,t),this._renderer._applyDefaults(),this},s.default.Graphics.prototype=Object.create(s.default.Element.prototype),s.default.Graphics.prototype.reset=function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()},s.default.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var e=this._pInst._elements.indexOf(this);for(var t in-1!==e&&this._pInst._elements.splice(e,1),this._events)this.elt.removeEventListener(t,this._events[t])},r.default=s.default.Graphics},{"./constants":250,"./main":260,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.splice":162}],263:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./main"))&&n.__esModule?n:{default:n},s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){var t=0,r=0;if(e.offsetParent)for(;t+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;);else t+=e.offsetLeft,r+=e.offsetTop;return[t,r]}i.default.Renderer=function(e,t,r){i.default.Element.call(this,e,t),this.canvas=e,this._pixelsState=t,r?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=s.NORMAL,this._textAscent=null,this._textDescent=null,this._textAlign=s.LEFT,this._textBaseline=s.BASELINE,this._rectMode=s.CORNER,this._ellipseMode=s.CENTER,this._curveTightness=0,this._imageMode=s.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1},i.default.Renderer.prototype=Object.create(i.default.Element.prototype),i.default.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle}}},i.default.Renderer.prototype.pop=function(e){e.properties&&Object.assign(this,e.properties)},i.default.Renderer.prototype.resize=function(e,t){this.width=e,this.height=t,this.elt.width=e*this._pInst._pixelDensity,this.elt.height=t*this._pInst._pixelDensity,this.elt.style.width="".concat(e,"px"),this.elt.style.height="".concat(t,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},i.default.Renderer.prototype.get=function(e,t,r,n){var s=this._pixelsState,o=s._pixelDensity,a=this.canvas;if(void 0===e&&void 0===t)e=t=0,r=s.width,n=s.height;else if(e*=o,t*=o,void 0===r&&void 0===n)return e<0||t<0||e>=a.width||t>=a.height?[0,0,0,0]:this._getPixel(e,t);var l=new i.default.Image(r,n);return l.canvas.getContext("2d").drawImage(a,e,t,r*o,n*o,0,0,r,n),l},i.default.Renderer.prototype.textLeading=function(e){return"number"==typeof e?(this._setProperty("_textLeading",e),this._pInst):this._textLeading},i.default.Renderer.prototype.textSize=function(e){return"number"==typeof e?(this._setProperty("_textSize",e),this._setProperty("_textLeading",e*s._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},i.default.Renderer.prototype.textStyle=function(e){return e?(e!==s.NORMAL&&e!==s.ITALIC&&e!==s.BOLD&&e!==s.BOLDITALIC||this._setProperty("_textStyle",e),this._applyTextProperties()):this._textStyle},i.default.Renderer.prototype.textAscent=function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent},i.default.Renderer.prototype.textDescent=function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent},i.default.Renderer.prototype.textAlign=function(e,t){return void 0!==e?(this._setProperty("_textAlign",e),void 0!==t&&this._setProperty("_textBaseline",t),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}},i.default.Renderer.prototype.text=function(e,t,r,n,i){var o,a,l,c,u,h,d,p,f,m,g=this._pInst,y=Number.MAX_VALUE;if((this._doFill||this._doStroke)&&void 0!==e){if("string"!=typeof e&&(e=e.toString()),o=(e=e.replace(/(\t)/g,"  ")).split("\n"),void 0!==n){for(d=1,l=f=0;l<o.length;l++){for(u="",p=o[l].split(" "),a=0;a<p.length;a++)h="".concat(u+p[a]," "),n<this.textWidth(h)&&1<d?(u="".concat(p[a]," "),f+=g.textLeading(),d=1):(u=h,d+=1);l<o.length-1&&(f+=g.textLeading())}switch(this._rectMode===s.CENTER&&(t-=n/2,r-=i/2),this._textAlign){case s.CENTER:t+=n/2;break;case s.RIGHT:t+=n}var v=!1;if(void 0!==i){switch(this._textBaseline){case s.BOTTOM:m=r+(i-f),r=Math.max(m,r);break;case s.CENTER:m=r+(i-f)/2,r=Math.max(m,r);break;case s.BASELINE:v=!0,this._textBaseline=s.TOP}y=r+i-g.textAscent()}for(l=0;l<o.length;l++){for(u="",p=o[l].split(" "),a=0;a<p.length;a++)h="".concat(u+p[a]," "),n<this.textWidth(h)&&0<u.length?(this._renderText(g,u,t,r,y),u="".concat(p[a]," "),r+=g.textLeading()):u=h;this._renderText(g,u,t,r,y),r+=g.textLeading(),v&&(this._textBaseline=s.BASELINE)}}else{var _=0,b=g.textAlign().vertical;for(b===s.CENTER?_=(o.length-1)*g.textLeading()/2:b===s.BOTTOM&&(_=(o.length-1)*g.textLeading()),c=0;c<o.length;c++)this._renderText(g,o[c],t,r-_,y),r+=g.textLeading()}return g}},i.default.Renderer.prototype._applyDefaults=function(){return this},i.default.Renderer.prototype._isOpenType=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._textFont;return"object"===a(e)&&e.font&&e.font.supported},i.default.Renderer.prototype._updateTextMetrics=function(){if(this._isOpenType())return this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent()),this;var e=document.createElement("span");e.style.fontFamily=this._textFont,e.style.fontSize="".concat(this._textSize,"px"),e.innerHTML="ABCjgq|";var t=document.createElement("div");t.style.display="inline-block",t.style.width="1px",t.style.height="0px";var r=document.createElement("div");r.appendChild(e),r.appendChild(t),r.style.height="0px",r.style.overflow="hidden",document.body.appendChild(r),t.style.verticalAlign="baseline";var n=l(t),i=l(e),s=n[1]-i[1];t.style.verticalAlign="bottom",n=l(t),i=l(e);var o=n[1]-i[1]-s;return document.body.removeChild(r),this._setProperty("_textAscent",s),this._setProperty("_textDescent",o),this},r.default=i.default.Renderer},{"../core/constants":250,"./main":260,"core-js/modules/es.array.iterator":156,"core-js/modules/es.number.constructor":167,"core-js/modules/es.object.assign":170,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.split":188,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],264:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=l(e("./main")),s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}(e("./constants")),o=l(e("../image/filters"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}e("./p5.Renderer");var c="rgba(0,0,0,0)";i.default.Renderer2D=function(e,t,r){return i.default.Renderer.call(this,e,t,r),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},i.default.Renderer2D.prototype=Object.create(i.default.Renderer.prototype),i.default.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=s.BLEND,this._setFill(s._DEFAULT_FILL),this._setStroke(s._DEFAULT_STROKE),this.drawingContext.lineCap=s.ROUND,this.drawingContext.font="normal 12px sans-serif"},i.default.Renderer2D.prototype.resize=function(e,t){i.default.Renderer.prototype.resize.call(this,e,t),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},i.default.Renderer2D.prototype.background=function(){if(this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof i.default.Image)this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height);else{var e,t=this._getFill(),r=(e=this._pInst).color.apply(e,arguments);this._pInst._addAccsOutput()&&this._pInst._accsBackground(r.levels);var n=r.toString();this._setFill(n),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(t),this._isErasing&&this._pInst.erase()}this.drawingContext.restore()},i.default.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()},i.default.Renderer2D.prototype.fill=function(){var e,t=(e=this._pInst).color.apply(e,arguments);this._setFill(t.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",t.levels)},i.default.Renderer2D.prototype.stroke=function(){var e,t=(e=this._pInst).color.apply(e,arguments);this._setStroke(t.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",t.levels)},i.default.Renderer2D.prototype.erase=function(e,t){if(!this._isErasing){this._cachedFillStyle=this.drawingContext.fillStyle;var r=this._pInst.color(255,e).toString();this.drawingContext.fillStyle=r,this._cachedStrokeStyle=this.drawingContext.strokeStyle;var n=this._pInst.color(255,t).toString();this.drawingContext.strokeStyle=n;var i=this._cachedBlendMode;this.blendMode(s.REMOVE),this._cachedBlendMode=i,this._isErasing=!0}},i.default.Renderer2D.prototype.noErase=function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)},i.default.Renderer2D.prototype.image=function(e,t,r,n,s,o,a,l,c){var u;e.gifProperties&&e._animateGif(this._pInst);try{this._tint&&(i.default.MediaElement&&e instanceof i.default.MediaElement&&e.loadPixels(),e.canvas&&(u=this._getTintedImageCanvas(e))),u=u||e.canvas||e.elt;var h=1;e.width&&0<e.width&&(h=u.width/e.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(u,h*t,h*r,h*n,h*s,o,a,l,c),this._isErasing&&this._pInst.erase()}catch(e){if("NS_ERROR_NOT_AVAILABLE"!==e.name)throw e}},i.default.Renderer2D.prototype._getTintedImageCanvas=function(e){if(!e.canvas)return e;var t=o.default._toPixels(e.canvas),r=document.createElement("canvas");r.width=e.canvas.width,r.height=e.canvas.height;for(var n=r.getContext("2d"),i=n.createImageData(e.canvas.width,e.canvas.height),s=i.data,a=0;a<t.length;a+=4){var l=t[a+1],c=t[a+2],u=t[a+3];s[a]=t[a]*this._tint[0]/255,s[a+1]=l*this._tint[1]/255,s[a+2]=c*this._tint[2]/255,s[a+3]=u*this._tint[3]/255}return n.putImageData(i,0,0),r},i.default.Renderer2D.prototype.blendMode=function(e){if(e===s.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(e!==s.BLEND&&e!==s.REMOVE&&e!==s.DARKEST&&e!==s.LIGHTEST&&e!==s.DIFFERENCE&&e!==s.MULTIPLY&&e!==s.EXCLUSION&&e!==s.SCREEN&&e!==s.REPLACE&&e!==s.OVERLAY&&e!==s.HARD_LIGHT&&e!==s.SOFT_LIGHT&&e!==s.DODGE&&e!==s.BURN&&e!==s.ADD)throw new Error("Mode ".concat(e," not recognized."));this._cachedBlendMode=e,this.drawingContext.globalCompositeOperation=e}},i.default.Renderer2D.prototype.blend=function(){for(var e=this.drawingContext.globalCompositeOperation,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[r.length-1],o=Array.prototype.slice.call(r,0,r.length-1);this.drawingContext.globalCompositeOperation=s,i.default.prototype.copy.apply(this,o),this.drawingContext.globalCompositeOperation=e},i.default.Renderer2D.prototype._getPixel=function(e,t){var r;return[(r=this.drawingContext.getImageData(e,t,1,1).data)[0],r[1],r[2],r[3]]},i.default.Renderer2D.prototype.loadPixels=function(){var e=this._pixelsState,t=e._pixelDensity,r=this.drawingContext.getImageData(0,0,this.width*t,this.height*t);e._setProperty("imageData",r),e._setProperty("pixels",r.data)},i.default.Renderer2D.prototype.set=function(e,t,r){e=Math.floor(e),t=Math.floor(t);var n=this._pixelsState;if(r instanceof i.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(n._pixelDensity,n._pixelDensity),this.drawingContext.clearRect(e,t,r.width,r.height),this.drawingContext.drawImage(r.canvas,e,t),this.drawingContext.restore();else{var s=0,o=0,a=0,l=0,c=4*(t*n._pixelDensity*(this.width*n._pixelDensity)+e*n._pixelDensity);if(n.imageData||n.loadPixels.call(n),"number"==typeof r)c<n.pixels.length&&(a=o=s=r,l=255);else if(r instanceof Array){if(r.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");c<n.pixels.length&&(s=r[0],o=r[1],a=r[2],l=r[3])}else r instanceof i.default.Color&&c<n.pixels.length&&(s=r.levels[0],o=r.levels[1],a=r.levels[2],l=r.levels[3]);for(var u=0;u<n._pixelDensity;u++)for(var h=0;h<n._pixelDensity;h++)n.pixels[c=4*((t*n._pixelDensity+h)*this.width*n._pixelDensity+(e*n._pixelDensity+u))]=s,n.pixels[c+1]=o,n.pixels[c+2]=a,n.pixels[c+3]=l}},i.default.Renderer2D.prototype.updatePixels=function(e,t,r,n){var i=this._pixelsState,s=i._pixelDensity;void 0===e&&void 0===t&&void 0===r&&void 0===n&&(t=e=0,r=this.width,n=this.height),e*=s,t*=s,r*=s,n*=s,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=i.imageData),this.drawingContext.putImageData(i.imageData,e,t,0,0,r,n)},i.default.Renderer2D.prototype._acuteArcToBezier=function(e,t){var r=t/2,n=Math.cos(r),i=Math.sin(r),s=1/Math.tan(r),o=e+r,a=Math.cos(o),l=Math.sin(o),c=(4-n)/3,u=i+(n-c)*s;return{ax:Math.cos(e).toFixed(7),ay:Math.sin(e).toFixed(7),bx:(c*a+u*l).toFixed(7),by:(c*l-u*a).toFixed(7),cx:(c*a-u*l).toFixed(7),cy:(c*l+u*a).toFixed(7),dx:Math.cos(e+t).toFixed(7),dy:Math.sin(e+t).toFixed(7)}},i.default.Renderer2D.prototype.arc=function(e,t,r,n,i,o,a){var l=this.drawingContext,c=r/2,u=n/2,h=0,d=[];for(e+=c,t+=u;1e-5<=o-i;)h=Math.min(o-i,s.HALF_PI),d.push(this._acuteArcToBezier(i,h)),i+=h;return this._doFill&&(l.beginPath(),d.forEach(function(r,n){0===n&&l.moveTo(e+r.ax*c,t+r.ay*u),l.bezierCurveTo(e+r.bx*c,t+r.by*u,e+r.cx*c,t+r.cy*u,e+r.dx*c,t+r.dy*u)}),a!==s.PIE&&null!=a||l.lineTo(e,t),l.closePath(),l.fill()),this._doStroke&&(l.beginPath(),d.forEach(function(r,n){0===n&&l.moveTo(e+r.ax*c,t+r.ay*u),l.bezierCurveTo(e+r.bx*c,t+r.by*u,e+r.cx*c,t+r.cy*u,e+r.dx*c,t+r.dy*u)}),a===s.PIE?(l.lineTo(e,t),l.closePath()):a===s.CHORD&&l.closePath(),l.stroke()),this},i.default.Renderer2D.prototype.ellipse=function(e){var t=this.drawingContext,r=this._doFill,n=this._doStroke,i=parseFloat(e[0]),s=parseFloat(e[1]),o=parseFloat(e[2]),a=parseFloat(e[3]);if(r&&!n){if(this._getFill()===c)return this}else if(!r&&n&&this._getStroke()===c)return this;var l=o/2*.5522847498,u=a/2*.5522847498,h=i+o,d=s+a,p=i+o/2,f=s+a/2;t.beginPath(),t.moveTo(i,f),t.bezierCurveTo(i,f-u,p-l,s,p,s),t.bezierCurveTo(p+l,s,h,f-u,h,f),t.bezierCurveTo(h,f+u,p+l,d,p,d),t.bezierCurveTo(p-l,d,i,f+u,i,f),r&&t.fill(),n&&t.stroke()},i.default.Renderer2D.prototype.line=function(e,t,r,n){var i=this.drawingContext;return this._doStroke&&(this._getStroke()===c||(i.beginPath(),i.moveTo(e,t),i.lineTo(r,n),i.stroke())),this},i.default.Renderer2D.prototype.point=function(e,t){var r=this.drawingContext;if(!this._doStroke)return this;if(this._getStroke()===c)return this;var n=this._getStroke(),i=this._getFill();this._setFill(n),r.beginPath(),r.arc(e,t,r.lineWidth/2,0,s.TWO_PI,!1),r.fill(),this._setFill(i)},i.default.Renderer2D.prototype.quad=function(e,t,r,n,i,s,o,a){var l=this.drawingContext,u=this._doFill,h=this._doStroke;if(u&&!h){if(this._getFill()===c)return this}else if(!u&&h&&this._getStroke()===c)return this;return l.beginPath(),l.moveTo(e,t),l.lineTo(r,n),l.lineTo(i,s),l.lineTo(o,a),l.closePath(),u&&l.fill(),h&&l.stroke(),this},i.default.Renderer2D.prototype.rect=function(e){var t=e[0],r=e[1],n=e[2],i=e[3],s=e[4],o=e[5],a=e[6],l=e[7],u=this.drawingContext,h=this._doFill,d=this._doStroke;if(h&&!d){if(this._getFill()===c)return this}else if(!h&&d&&this._getStroke()===c)return this;if(u.beginPath(),void 0===s)u.rect(t,r,n,i);else{void 0===o&&(o=s),void 0===a&&(a=o),void 0===l&&(l=a);var p=Math.abs(n),f=Math.abs(i),m=p/2,g=f/2;p<2*s&&(s=m),f<2*s&&(s=g),p<2*o&&(o=m),f<2*o&&(o=g),p<2*a&&(a=m),f<2*a&&(a=g),p<2*l&&(l=m),f<2*l&&(l=g),u.beginPath(),u.moveTo(t+s,r),u.arcTo(t+n,r,t+n,r+i,o),u.arcTo(t+n,r+i,t,r+i,a),u.arcTo(t,r+i,t,r,l),u.arcTo(t,r,t+n,r,s),u.closePath()}return this._doFill&&u.fill(),this._doStroke&&u.stroke(),this},i.default.Renderer2D.prototype.triangle=function(e){var t=this.drawingContext,r=this._doFill,n=this._doStroke,i=e[0],s=e[1],o=e[2],a=e[3],l=e[4],u=e[5];if(r&&!n){if(this._getFill()===c)return this}else if(!r&&n&&this._getStroke()===c)return this;t.beginPath(),t.moveTo(i,s),t.lineTo(o,a),t.lineTo(l,u),t.closePath(),r&&t.fill(),n&&t.stroke()},i.default.Renderer2D.prototype.endShape=function(e,t,r,n,i,o,a){if(0===t.length)return this;if(!this._doStroke&&!this._doFill)return this;var l,c,u,h=e===s.CLOSE;h&&!o&&t.push(t[0]);var d=t.length;if(!r||a!==s.POLYGON&&null!==a)if(!n||a!==s.POLYGON&&null!==a)if(!i||a!==s.POLYGON&&null!==a)if(a===s.POINTS)for(c=0;c<d;c++)l=t[c],this._doStroke&&this._pInst.stroke(l[6]),this._pInst.point(l[0],l[1]);else if(a===s.LINES)for(c=0;c+1<d;c+=2)l=t[c],this._doStroke&&this._pInst.stroke(t[c+1][6]),this._pInst.line(l[0],l[1],t[c+1][0],t[c+1][1]);else if(a===s.TRIANGLES)for(c=0;c+2<d;c+=3)l=t[c],this.drawingContext.beginPath(),this.drawingContext.moveTo(l[0],l[1]),this.drawingContext.lineTo(t[c+1][0],t[c+1][1]),this.drawingContext.lineTo(t[c+2][0],t[c+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(t[c+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(t[c+2][6]),this.drawingContext.stroke());else if(a===s.TRIANGLE_STRIP)for(c=0;c+1<d;c++)l=t[c],this.drawingContext.beginPath(),this.drawingContext.moveTo(t[c+1][0],t[c+1][1]),this.drawingContext.lineTo(l[0],l[1]),this._doStroke&&this._pInst.stroke(t[c+1][6]),this._doFill&&this._pInst.fill(t[c+1][5]),c+2<d&&(this.drawingContext.lineTo(t[c+2][0],t[c+2][1]),this._doStroke&&this._pInst.stroke(t[c+2][6]),this._doFill&&this._pInst.fill(t[c+2][5])),this._doFillStrokeClose(h);else if(a===s.TRIANGLE_FAN){if(2<d){for(this.drawingContext.beginPath(),c=2;c<d;c++)l=t[c],this.drawingContext.moveTo(t[0][0],t[0][1]),this.drawingContext.lineTo(t[c-1][0],t[c-1][1]),this.drawingContext.lineTo(l[0],l[1]),this.drawingContext.lineTo(t[0][0],t[0][1]),c<d-1&&(this._doFill&&l[5]!==t[c+1][5]||this._doStroke&&l[6]!==t[c+1][6])&&(this._doFill&&(this._pInst.fill(l[5]),this.drawingContext.fill(),this._pInst.fill(t[c+1][5])),this._doStroke&&(this._pInst.stroke(l[6]),this.drawingContext.stroke(),this._pInst.stroke(t[c+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(h)}}else if(a===s.QUADS)for(c=0;c+3<d;c+=4){for(l=t[c],this.drawingContext.beginPath(),this.drawingContext.moveTo(l[0],l[1]),u=1;u<4;u++)this.drawingContext.lineTo(t[c+u][0],t[c+u][1]);this.drawingContext.lineTo(l[0],l[1]),this._doFill&&this._pInst.fill(t[c+3][5]),this._doStroke&&this._pInst.stroke(t[c+3][6]),this._doFillStrokeClose(h)}else if(a===s.QUAD_STRIP){if(3<d)for(c=0;c+1<d;c+=2)l=t[c],this.drawingContext.beginPath(),c+3<d?(this.drawingContext.moveTo(t[c+2][0],t[c+2][1]),this.drawingContext.lineTo(l[0],l[1]),this.drawingContext.lineTo(t[c+1][0],t[c+1][1]),this.drawingContext.lineTo(t[c+3][0],t[c+3][1]),this._doFill&&this._pInst.fill(t[c+3][5]),this._doStroke&&this._pInst.stroke(t[c+3][6])):(this.drawingContext.moveTo(l[0],l[1]),this.drawingContext.lineTo(t[c+1][0],t[c+1][1])),this._doFillStrokeClose(h)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(t[0][0],t[0][1]),c=1;c<d;c++)(l=t[c]).isVert&&(l.moveTo?this.drawingContext.moveTo(l[0],l[1]):this.drawingContext.lineTo(l[0],l[1]));this._doFillStrokeClose(h)}else{for(this.drawingContext.beginPath(),c=0;c<d;c++)t[c].isVert?t[c].moveTo?this.drawingContext.moveTo(t[c][0],t[c][1]):this.drawingContext.lineTo(t[c][0],t[c][1]):this.drawingContext.quadraticCurveTo(t[c][0],t[c][1],t[c][2],t[c][3]);this._doFillStrokeClose(h)}else{for(this.drawingContext.beginPath(),c=0;c<d;c++)t[c].isVert?t[c].moveTo?this.drawingContext.moveTo(t[c][0],t[c][1]):this.drawingContext.lineTo(t[c][0],t[c][1]):this.drawingContext.bezierCurveTo(t[c][0],t[c][1],t[c][2],t[c][3],t[c][4],t[c][5]);this._doFillStrokeClose(h)}else if(3<d){var p=[],f=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(t[1][0],t[1][1]),c=1;c+2<d;c++)p[0]=[(l=t[c])[0],l[1]],p[1]=[l[0]+(f*t[c+1][0]-f*t[c-1][0])/6,l[1]+(f*t[c+1][1]-f*t[c-1][1])/6],p[2]=[t[c+1][0]+(f*t[c][0]-f*t[c+2][0])/6,t[c+1][1]+(f*t[c][1]-f*t[c+2][1])/6],p[3]=[t[c+1][0],t[c+1][1]],this.drawingContext.bezierCurveTo(p[1][0],p[1][1],p[2][0],p[2][1],p[3][0],p[3][1]);h&&this.drawingContext.lineTo(t[c+1][0],t[c+1][1]),this._doFillStrokeClose(h)}return o=i=n=r=!1,h&&t.pop(),this},i.default.Renderer2D.prototype.strokeCap=function(e){return e!==s.ROUND&&e!==s.SQUARE&&e!==s.PROJECT||(this.drawingContext.lineCap=e),this},i.default.Renderer2D.prototype.strokeJoin=function(e){return e!==s.ROUND&&e!==s.BEVEL&&e!==s.MITER||(this.drawingContext.lineJoin=e),this},i.default.Renderer2D.prototype.strokeWeight=function(e){return this.drawingContext.lineWidth=void 0===e||0===e?1e-4:e,this},i.default.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},i.default.Renderer2D.prototype._setFill=function(e){e!==this._cachedFillStyle&&(this.drawingContext.fillStyle=e,this._cachedFillStyle=e)},i.default.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},i.default.Renderer2D.prototype._setStroke=function(e){e!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=e,this._cachedStrokeStyle=e)},i.default.Renderer2D.prototype.bezier=function(e,t,r,n,i,s,o,a){return this._pInst.beginShape(),this._pInst.vertex(e,t),this._pInst.bezierVertex(r,n,i,s,o,a),this._pInst.endShape(),this},i.default.Renderer2D.prototype.curve=function(e,t,r,n,i,s,o,a){return this._pInst.beginShape(),this._pInst.curveVertex(e,t),this._pInst.curveVertex(r,n),this._pInst.curveVertex(i,s),this._pInst.curveVertex(o,a),this._pInst.endShape(),this},i.default.Renderer2D.prototype._doFillStrokeClose=function(e){e&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()},i.default.Renderer2D.prototype.applyMatrix=function(e,t,r,n,i,s){this.drawingContext.transform(e,t,r,n,i,s)},i.default.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},i.default.Renderer2D.prototype.rotate=function(e){this.drawingContext.rotate(e)},i.default.Renderer2D.prototype.scale=function(e,t){return this.drawingContext.scale(e,t),this},i.default.Renderer2D.prototype.translate=function(e,t){return e instanceof i.default.Vector&&(t=e.y,e=e.x),this.drawingContext.translate(e,t),this},i.default.Renderer2D.prototype.text=function(e,t,r,n,o){var a;void 0!==n&&this.drawingContext.textBaseline===s.BASELINE&&(a=!0,this.drawingContext.textBaseline=s.TOP);var l=i.default.Renderer.prototype.text.apply(this,arguments);return a&&(this.drawingContext.textBaseline=s.BASELINE),l},i.default.Renderer2D.prototype._renderText=function(e,t,r,n,i){if(!(i<=n))return e.push(),this._isOpenType()?this._textFont._renderPath(t,r,n,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(t,r,n),this._doFill&&(this._fillSet||this._setFill(s._DEFAULT_TEXT_FILL),this.drawingContext.fillText(t,r,n))),e.pop(),e},i.default.Renderer2D.prototype.textWidth=function(e){return this._isOpenType()?this._textFont._textWidth(e,this._textSize):this.drawingContext.measureText(e).width},i.default.Renderer2D.prototype._applyTextProperties=function(){var e,t=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),e=this._textFont,this._isOpenType()&&(e=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(e||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this.drawingContext.textBaseline=this._textBaseline===s.CENTER?s._CTX_MIDDLE:this._textBaseline,t},i.default.Renderer2D.prototype.push=function(){return this.drawingContext.save(),i.default.Renderer.prototype.push.apply(this)},i.default.Renderer2D.prototype.pop=function(e){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,i.default.Renderer.prototype.pop.call(this,e)},r.default=i.default.Renderer2D},{"../image/filters":281,"./constants":250,"./main":260,"./p5.Renderer":263,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.fill":150,"core-js/modules/es.array.for-each":152,"core-js/modules/es.array.slice":160,"core-js/modules/es.function.name":163,"core-js/modules/es.number.to-fixed":169,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179}],265:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var n,i=(n=e("./main"))&&n.__esModule?n:{default:n};i.default.prototype._promisePreloads=[];var s=!(i.default.prototype.registerPromisePreload=function(e){i.default.prototype._promisePreloads.push(e)});function o(){return{}}i.default.prototype._setupPromisePreloads=function(){var e=!0,t=!1,r=void 0;try{for(var n,o=this._promisePreloads[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var a=n.value,l=this,c=a.method,u=a.addCallbacks,h=a.legacyPreloadSetup,d=a.target||this,p=d[c].bind(d);if(d===i.default.prototype){if(s)continue;l=null,p=d[c]}d[c]=this._wrapPromisePreload(l,p,u),h&&(d[h.method]=this._legacyPreloadGenerator(l,h,d[c]))}}catch(e){t=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}s=!0},i.default.prototype._wrapPromisePreload=function(e,t,r){var n=function(){var e=this;this._incrementPreload();for(var n=null,i=null,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];if(r)for(var l=o.length-1;0<=l&&!i&&"function"==typeof o[l];l--)i=n,n=o.pop();var c=Promise.resolve(t.apply(this,o));return n&&c.then(n),i&&c.catch(i),c.then(function(){return e._decrementPreload()}),c};return e&&(n=n.bind(e)),n},i.default.prototype._legacyPreloadGenerator=function(e,t,r){var n=t.createBaseObject||o,i=function(){var e=this;this._incrementPreload();var t=n.apply(this,arguments);return r.apply(this,arguments).then(function(r){Object.assign(t,r),e._decrementPreload()}),t};return e&&(i=i.bind(e)),i}},{"./main":260,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.assign":170,"core-js/modules/es.object.to-string":174,"core-js/modules/es.promise":175,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],266:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./main"))&&n.__esModule?n:{default:n},s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}(e("./constants"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("./p5.Graphics"),e("./p5.Renderer2D"),e("../webgl/p5.RendererGL");var l="defaultCanvas0";i.default.prototype.createCanvas=function(e,t,r){i.default._validateParameters("createCanvas",arguments);var n,o=r||s.P2D;if(o===s.WEBGL){if(n=document.getElementById(l)){n.parentNode.removeChild(n);var a=this._renderer;this._elements=this._elements.filter(function(e){return e!==a})}(n=document.createElement("canvas")).id=l,n.classList.add("p5Canvas")}else if(this._defaultGraphicsCreated)n=this.canvas;else{n=document.createElement("canvas");for(var c=0;document.getElementById("defaultCanvas".concat(c));)c++;l="defaultCanvas".concat(c),n.id=l,n.classList.add("p5Canvas")}if(this._setupDone||(n.dataset.hidden=!0,n.style.visibility="hidden"),this._userNode)this._userNode.appendChild(n);else{if(0===document.getElementsByTagName("main").length){var u=document.createElement("main");document.body.appendChild(u)}document.getElementsByTagName("main")[0].appendChild(n)}return o===s.WEBGL?(this._setProperty("_renderer",new i.default.RendererGL(n,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new i.default.Renderer2D(n,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(e,t),this._renderer._applyDefaults(),this._renderer},i.default.prototype.resizeCanvas=function(e,t,r){if(i.default._validateParameters("resizeCanvas",arguments),this._renderer){var n={};for(var s in this.drawingContext){var o=this.drawingContext[s];"object"!==a(o)&&"function"!=typeof o&&(n[s]=o)}for(var l in this._renderer.resize(e,t),this.width=e,this.height=t,n)try{this.drawingContext[l]=n[l]}catch(e){}r||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},i.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},i.default.prototype.createGraphics=function(e,t,r){return i.default._validateParameters("createGraphics",arguments),new i.default.Graphics(e,t,r,this)},i.default.prototype.blendMode=function(e){i.default._validateParameters("blendMode",arguments),e===s.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),e=s.BLEND),this._renderer.blendMode(e)},r.default=i.default},{"../webgl/p5.RendererGL":314,"./constants":250,"./main":260,"./p5.Graphics":262,"./p5.Renderer2D":264,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],267:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.array.slice"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=l(e("../main")),s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}(e("../constants")),o=l(e("../helpers"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),i.default.prototype._normalizeArcAngles=function(e,t,r,n,i){var o;return e-=s.TWO_PI*Math.floor(e/s.TWO_PI),t-=s.TWO_PI*Math.floor(t/s.TWO_PI),o=Math.min(Math.abs(e-t),s.TWO_PI-Math.abs(e-t)),i&&(e=e<=s.HALF_PI?Math.atan(r/n*Math.tan(e)):e>s.HALF_PI&&e<=3*s.HALF_PI?Math.atan(r/n*Math.tan(e))+s.PI:Math.atan(r/n*Math.tan(e))+s.TWO_PI,t=t<=s.HALF_PI?Math.atan(r/n*Math.tan(t)):t>s.HALF_PI&&t<=3*s.HALF_PI?Math.atan(r/n*Math.tan(t))+s.PI:Math.atan(r/n*Math.tan(t))+s.TWO_PI),t<e&&(t+=s.TWO_PI),{start:e,stop:t,correspondToSamePoint:o<1e-5}},i.default.prototype.arc=function(e,t,r,n,s,a,l,c){if(i.default._validateParameters("arc",arguments),!this._renderer._doStroke&&!this._renderer._doFill)return this;if(s===a)return this;s=this._toRadians(s),a=this._toRadians(a),r=Math.abs(r),n=Math.abs(n);var u=o.default.modeAdjust(e,t,r,n,this._renderer._ellipseMode),h=this._normalizeArcAngles(s,a,u.w,u.h,!0);return h.correspondToSamePoint?this._renderer.ellipse([u.x,u.y,u.w,u.h,c]):(this._renderer.arc(u.x,u.y,u.w,u.h,h.start,h.stop,l,c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[u.x,u.y,u.w,u.h,h.start,h.stop,l])),this},i.default.prototype.ellipse=function(e,t,r,n,s){return i.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},i.default.prototype.circle=function(){i.default._validateParameters("circle",arguments);var e=Array.prototype.slice.call(arguments,0,2);return e.push(arguments[2]),e.push(arguments[2]),this._renderEllipse.apply(this,e)},i.default.prototype._renderEllipse=function(e,t,r,n,i){if(!this._renderer._doStroke&&!this._renderer._doFill)return this;r<0&&(r=Math.abs(r)),void 0===n?n=r:n<0&&(n=Math.abs(n));var s=o.default.modeAdjust(e,t,r,n,this._renderer._ellipseMode);return this._renderer.ellipse([s.x,s.y,s.w,s.h,i]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[s.x,s.y,s.w,s.h]),this},i.default.prototype.line=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n;return i.default._validateParameters("line",t),this._renderer._doStroke&&(n=this._renderer).line.apply(n,t),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",t),this},i.default.prototype.point=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n;return i.default._validateParameters("point",t),this._renderer._doStroke&&(1===t.length&&t[0]instanceof i.default.Vector?this._renderer.point.call(this._renderer,t[0].x,t[0].y,t[0].z):((n=this._renderer).point.apply(n,t),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",t))),this},i.default.prototype.quad=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n;return i.default._validateParameters("quad",t),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&t.length<=12?this._renderer.quad.call(this._renderer,t[0],t[1],0,t[2],t[3],0,t[4],t[5],0,t[6],t[7],0,t[8],t[9]):((n=this._renderer).quad.apply(n,t),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",t))),this},i.default.prototype.rect=function(){return i.default._validateParameters("rect",arguments),this._renderRect.apply(this,arguments)},i.default.prototype.square=function(e,t,r,n,s,o,a){return i.default._validateParameters("square",arguments),this._renderRect.call(this,e,t,r,r,n,s,o,a)},i.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var e=o.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),t=[e.x,e.y,e.w,e.h],r=4;r<arguments.length;r++)t[r]=arguments[r];this._renderer.rect(t),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[e.x,e.y,e.w,e.h])}return this},i.default.prototype.triangle=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return i.default._validateParameters("triangle",t),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(t),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",t),this},r.default=i.default},{"../constants":250,"../friendly_errors/fes_core":252,"../friendly_errors/file_errors":253,"../friendly_errors/validate_params":255,"../helpers":256,"../main":260,"core-js/modules/es.array.slice":160}],268:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=(i=e("../main"))&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}(e("../constants"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}s.default.prototype.ellipseMode=function(e){return s.default._validateParameters("ellipseMode",arguments),e!==o.CORNER&&e!==o.CORNERS&&e!==o.RADIUS&&e!==o.CENTER||(this._renderer._ellipseMode=e),this},s.default.prototype.noSmooth=function(){return this.setAttributes("antialias",!1),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},s.default.prototype.rectMode=function(e){return s.default._validateParameters("rectMode",arguments),e!==o.CORNER&&e!==o.CORNERS&&e!==o.RADIUS&&e!==o.CENTER||(this._renderer._rectMode=e),this},s.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},s.default.prototype.strokeCap=function(e){return s.default._validateParameters("strokeCap",arguments),e!==o.ROUND&&e!==o.SQUARE&&e!==o.PROJECT||this._renderer.strokeCap(e),this},s.default.prototype.strokeJoin=function(e){return s.default._validateParameters("strokeJoin",arguments),e!==o.ROUND&&e!==o.BEVEL&&e!==o.MITER||this._renderer.strokeJoin(e),this},s.default.prototype.strokeWeight=function(e){return s.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(e),this},r.default=s.default},{"../constants":250,"../main":260}],269:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../main"))&&n.__esModule?n:{default:n};e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),i.default.prototype.bezier=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return i.default._validateParameters("bezier",r),(this._renderer._doStroke||this._renderer._doFill)&&(e=this._renderer).bezier.apply(e,r),this},i.default.prototype.bezierDetail=function(e){return i.default._validateParameters("bezierDetail",arguments),this._bezierDetail=e,this},i.default.prototype.bezierPoint=function(e,t,r,n,s){i.default._validateParameters("bezierPoint",arguments);var o=1-s;return Math.pow(o,3)*e+3*Math.pow(o,2)*s*t+3*o*Math.pow(s,2)*r+Math.pow(s,3)*n},i.default.prototype.bezierTangent=function(e,t,r,n,s){i.default._validateParameters("bezierTangent",arguments);var o=1-s;return 3*n*Math.pow(s,2)-3*r*Math.pow(s,2)+6*r*o*s-6*t*o*s+3*t*Math.pow(o,2)-3*e*Math.pow(o,2)},i.default.prototype.curve=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n;return i.default._validateParameters("curve",t),this._renderer._doStroke&&(n=this._renderer).curve.apply(n,t),this},i.default.prototype.curveDetail=function(e){return i.default._validateParameters("curveDetail",arguments),this._curveDetail=e<3?3:e,this},i.default.prototype.curveTightness=function(e){return i.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=e,this},i.default.prototype.curvePoint=function(e,t,r,n,s){i.default._validateParameters("curvePoint",arguments);var o=s*s*s,a=s*s;return e*(-.5*o+a-.5*s)+t*(1.5*o-2.5*a+1)+r*(-1.5*o+2*a+.5*s)+n*(.5*o-.5*a)},i.default.prototype.curveTangent=function(e,t,r,n,s){i.default._validateParameters("curveTangent",arguments);var o=s*s;return e*(-3*o/2+2*s-.5)+t*(9*o/2-5*s)+r*(-9*o/2+4*s+.5)+n*(3*o/2-s)},r.default=i.default},{"../friendly_errors/fes_core":252,"../friendly_errors/file_errors":253,"../friendly_errors/validate_params":255,"../main":260}],270:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.array.slice"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=(i=e("../main"))&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}(e("../constants"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var l=null,c=[],u=[],h=!1,d=!1,p=!1,f=!1,m=!0;s.default.prototype.beginContour=function(){return u=[],f=!0,this},s.default.prototype.beginShape=function(e){var t;return s.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(t=this._renderer).beginShape.apply(t,arguments):(l=e===o.POINTS||e===o.LINES||e===o.TRIANGLES||e===o.TRIANGLE_FAN||e===o.TRIANGLE_STRIP||e===o.QUADS||e===o.QUAD_STRIP?e:null,c=[],u=[]),this},s.default.prototype.bezierVertex=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n;if(s.default._validateParameters("bezierVertex",t),this._renderer.isP3D)(n=this._renderer).bezierVertex.apply(n,t);else if(0===c.length)s.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{h=!0;for(var i=[],o=0;o<t.length;o++)i[o]=t[o];i.isVert=!1,f?u.push(i):c.push(i)}return this},s.default.prototype.curveVertex=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n;return s.default._validateParameters("curveVertex",t),this._renderer.isP3D?(n=this._renderer).curveVertex.apply(n,t):(d=!0,this.vertex(t[0],t[1])),this},s.default.prototype.endContour=function(){var e=u[0].slice();e.isVert=u[0].isVert,e.moveTo=!1,u.push(e),m&&(c.push(c[0]),m=!1);for(var t=0;t<u.length;t++)c.push(u[t]);return this},s.default.prototype.endShape=function(e){if(s.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(e,d,h,p,f,l);else{if(0===c.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var t=e===o.CLOSE;t&&!f&&c.push(c[0]),this._renderer.endShape(e,c,d,h,p,f,l),m=!(f=p=h=d=!1),t&&c.pop()}return this},s.default.prototype.quadraticVertex=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(s.default._validateParameters("quadraticVertex",t),this._renderer.isP3D){var n;(n=this._renderer).quadraticVertex.apply(n,t)}else{if(this._contourInited){var i={};return i.x=t[0],i.y=t[1],i.x3=t[2],i.y3=t[3],i.type=o.QUADRATIC,this._contourVertices.push(i),this}if(0<c.length){p=!0;for(var a=[],l=0;l<t.length;l++)a[l]=t[l];a.isVert=!1,f?u.push(a):c.push(a)}else s.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},s.default.prototype.vertex=function(e,t,r,n,i){if(this._renderer.isP3D){var s;(s=this._renderer).vertex.apply(s,arguments)}else{var o=[];o.isVert=!0,o[0]=e,o[1]=t,o[2]=0,o[3]=0,o[4]=0,o[5]=this._renderer._getFill(),o[6]=this._renderer._getStroke(),r&&(o.moveTo=r),f?(0===u.length&&(o.moveTo=!0),u.push(o)):c.push(o)}return this},r.default=s.default},{"../constants":250,"../main":260,"core-js/modules/es.array.slice":160}],271:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)},"undefined"==typeof Uint8ClampedArray||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),function(){if(!Object.assign){var e=Object.keys,t=Object.defineProperty,r="function"==typeof Symbol&&"symbol"===n(Symbol()),i=Object.prototype.propertyIsEnumerable,s=function(e){return function(t){return i.call(e,t)}};t(Object,"assign",{value:function(t,n){if(null==t)throw new TypeError("target must be an object");var i,o,a,l,c=Object(t);for(i=1;i<arguments.length;++i)for(o=Object(arguments[i]),l=e(o),r&&Object.getOwnPropertySymbols&&l.push.apply(l,Object.getOwnPropertySymbols(o).filter(s(o))),a=0;a<l.length;++a)c[l[a]]=o[l[a]];return c},configurable:!0,enumerable:!1,writable:!0})}}()},{"core-js/modules/es.array.filter":151,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.assign":170,"core-js/modules/es.object.keys":173,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint8-clamped-array":224,"core-js/modules/web.dom-collections.iterator":226}],272:[function(e,t,r){"use strict";e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.assign"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./main"))&&n.__esModule?n:{default:n};i.default.prototype.noLoop=function(){this._loop=!1},i.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},i.default.prototype.isLooping=function(){return this._loop},i.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},i.default.prototype.pop=function(){var e=this._styles.pop();e?(this._renderer.pop(e.renderer),Object.assign(this,e.props)):console.warn("pop() was called without matching push()")},i.default.prototype.redraw=function(e){if(!this._inUserDraw&&this._setupDone){var t=parseInt(e);(isNaN(t)||t<1)&&(t=1);var r=this._isGlobal?window:this;if("function"==typeof r.draw){void 0===r.setup&&r.scale(r._pixelDensity,r._pixelDensity);for(var n=function(e){e.call(r)},i=0;i<t;i++){r.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),r._renderer.isP3D&&r._renderer._update(),r._setProperty("frameCount",r.frameCount+1),r._registeredMethods.pre.forEach(n),this._inUserDraw=!0;try{r.draw()}finally{this._inUserDraw=!1}r._registeredMethods.post.forEach(n)}}}},r.default=i.default},{"./main":260,"core-js/modules/es.array.for-each":152,"core-js/modules/es.object.assign":170,"core-js/modules/web.dom-collections.for-each":225}],273:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./main"))&&n.__esModule?n:{default:n};function s(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}i.default.prototype.applyMatrix=function(){var e,t,r=arguments[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments[0])||r?(e=this._renderer).applyMatrix.apply(e,s(arguments[0])):(t=this._renderer).applyMatrix.apply(t,arguments),this},i.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},i.default.prototype.rotate=function(e,t){return i.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(e),t),this},i.default.prototype.rotateX=function(e){return this._assert3d("rotateX"),i.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(e)),this},i.default.prototype.rotateY=function(e){return this._assert3d("rotateY"),i.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(e)),this},i.default.prototype.rotateZ=function(e){return this._assert3d("rotateZ"),i.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(e)),this},i.default.prototype.scale=function(e,t,r){if(i.default._validateParameters("scale",arguments),e instanceof i.default.Vector){var n=e;e=n.x,t=n.y,r=n.z}else if(e instanceof Array){var s=e;e=s[0],t=s[1],r=s[2]||1}return isNaN(t)?t=r=e:isNaN(r)&&(r=1),this._renderer.scale.call(this._renderer,e,t,r),this},i.default.prototype.shearX=function(e){i.default._validateParameters("shearX",arguments);var t=this._toRadians(e);return this._renderer.applyMatrix(1,0,Math.tan(t),1,0,0),this},i.default.prototype.shearY=function(e){i.default._validateParameters("shearY",arguments);var t=this._toRadians(e);return this._renderer.applyMatrix(1,Math.tan(t),0,1,0,0),this},i.default.prototype.translate=function(e,t,r){return i.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(e,t,r):this._renderer.translate(e,t),this},r.default=i.default},{"./main":260,"core-js/modules/es.array.from":153,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.get-prototype-of":172,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint8-array":223,"core-js/modules/web.dom-collections.iterator":226}],274:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};function s(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i.default.prototype.storeItem=function(e,t){"string"!=typeof e&&console.log("The argument that you passed to storeItem() - ".concat(e," is not a string.")),e.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(e," must not end with 'p5TypeID'.")),void 0===t&&console.log("You cannot store undefined variables using storeItem().");var r=o(t);switch(r){case"number":case"boolean":t=t.toString();break;case"object":t instanceof i.default.Color?r="p5.Color":t instanceof i.default.Vector&&(r="p5.Vector",t=[t.x,t.y,t.z]),t=JSON.stringify(t)}localStorage.setItem(e,t);var n="".concat(e,"p5TypeID");localStorage.setItem(n,r)},i.default.prototype.getItem=function(e){var t=localStorage.getItem(e),r=localStorage.getItem("".concat(e,"p5TypeID"));if(void 0===r)console.log("Unable to determine type of item stored under ".concat(e,"in local storage. Did you save the item with something other than setItem()?"));else if(null!==t)switch(r){case"number":t=parseFloat(t);break;case"boolean":t="true"===t;break;case"object":t=JSON.parse(t);break;case"p5.Color":t=JSON.parse(t),t=this.color.apply(this,s(t.levels));break;case"p5.Vector":t=JSON.parse(t),t=this.createVector.apply(this,s(t))}return t},i.default.prototype.clearStorage=function(){localStorage.clear()},i.default.prototype.removeItem=function(e){"string"!=typeof e&&console.log("The argument that you passed to removeItem() - ".concat(e," is not a string.")),localStorage.removeItem(e),localStorage.removeItem("".concat(e,"p5TypeID"))}},{"../core/main":260,"core-js/modules/es.array.from":153,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.ends-with":181,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],275:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.string.sub"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};i.default.prototype.createStringDict=function(e,t){return i.default._validateParameters("createStringDict",arguments),new i.default.StringDict(e,t)},i.default.prototype.createNumberDict=function(e,t){return i.default._validateParameters("createNumberDict",arguments),new i.default.NumberDict(e,t)},i.default.TypedDict=function(e,t){return e instanceof Object?this.data=e:(this.data={},this.data[e]=t),this},i.default.TypedDict.prototype.size=function(){return Object.keys(this.data).length},i.default.TypedDict.prototype.hasKey=function(e){return this.data.hasOwnProperty(e)},i.default.TypedDict.prototype.get=function(e){if(this.data.hasOwnProperty(e))return this.data[e];console.log("".concat(e," does not exist in this Dictionary"))},i.default.TypedDict.prototype.set=function(e,t){this._validate(t)?this.data[e]=t:console.log("Those values dont work for this dictionary type.")},i.default.TypedDict.prototype._addObj=function(e){for(var t in e)this.set(t,e[t])},i.default.TypedDict.prototype.create=function(e,t){e instanceof Object&&void 0===t?this._addObj(e):void 0!==e?this.set(e,t):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")},i.default.TypedDict.prototype.clear=function(){this.data={}},i.default.TypedDict.prototype.remove=function(e){if(!this.data.hasOwnProperty(e))throw new Error("".concat(e," does not exist in this Dictionary"));delete this.data[e]},i.default.TypedDict.prototype.print=function(){for(var e in this.data)console.log("key:".concat(e," value:").concat(this.data[e]))},i.default.TypedDict.prototype.saveTable=function(e){var t="";for(var r in this.data)t+="".concat(r,",").concat(this.data[r],"\n");var n=new Blob([t],{type:"text/csv"});i.default.prototype.downloadFile(n,e||"mycsv","csv")},i.default.TypedDict.prototype.saveJSON=function(e,t){i.default.prototype.saveJSON(this.data,e,t)},i.default.TypedDict.prototype._validate=function(e){return!0},i.default.StringDict=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i.default.TypedDict.apply(this,t)},i.default.StringDict.prototype=Object.create(i.default.TypedDict.prototype),i.default.StringDict.prototype._validate=function(e){return"string"==typeof e},i.default.NumberDict=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i.default.TypedDict.apply(this,t)},i.default.NumberDict.prototype=Object.create(i.default.TypedDict.prototype),i.default.NumberDict.prototype._validate=function(e){return"number"==typeof e},i.default.NumberDict.prototype.add=function(e,t){this.data.hasOwnProperty(e)?this.data[e]+=t:console.log("The key - ".concat(e," does not exist in this dictionary."))},i.default.NumberDict.prototype.sub=function(e,t){this.add(e,-t)},i.default.NumberDict.prototype.mult=function(e,t){this.data.hasOwnProperty(e)?this.data[e]*=t:console.log("The key - ".concat(e," does not exist in this dictionary."))},i.default.NumberDict.prototype.div=function(e,t){this.data.hasOwnProperty(e)?this.data[e]/=t:console.log("The key - ".concat(e," does not exist in this dictionary."))},i.default.NumberDict.prototype._valueTest=function(e){if(0===Object.keys(this.data).length)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var t=this.data[Object.keys(this.data)[0]];for(var r in this.data)this.data[r]*e<t*e&&(t=this.data[r]);return t},i.default.NumberDict.prototype.minValue=function(){return this._valueTest(1)},i.default.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)},i.default.NumberDict.prototype._keyTest=function(e){if(0===Object.keys(this.data).length)throw new Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];for(var t=Object.keys(this.data)[0],r=1;r<Object.keys(this.data).length;r++)Object.keys(this.data)[r]*e<t*e&&(t=Object.keys(this.data)[r]);return t},i.default.NumberDict.prototype.minKey=function(){return this._keyTest(1)},i.default.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)},r.default=i.default.TypedDict},{"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.object.keys":173,"core-js/modules/es.string.sub":189}],276:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,r){(t._userNode?t._userNode:document.body).appendChild(e);var n=r?new i.default.MediaElement(e,t):new i.default.Element(e,t);return t._elements.push(n),n}function a(e,t,r,n){var i=document.createElement(t);"string"==typeof(r=r||"")&&(r=[r]);var s=!0,a=!1,l=void 0;try{for(var c,u=r[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var h=c.value,d=document.createElement("source");d.setAttribute("src",h),i.appendChild(d)}}catch(e){a=!0,l=e}finally{try{s||null==u.return||u.return()}finally{if(a)throw l}}"function"==typeof n&&i.addEventListener("canplaythrough",function e(){n(),i.removeEventListener("canplaythrough",e)});var p=o(i,e,!0);return p.loadedmetadata=!1,i.addEventListener("loadedmetadata",function(){p.width=i.videoWidth,p.height=i.videoHeight,0===p.elt.width&&(p.elt.width=i.videoWidth),0===p.elt.height&&(p.elt.height=i.videoHeight),p.presetPlaybackRate&&(p.elt.playbackRate=p.presetPlaybackRate,delete p.presetPlaybackRate),p.loadedmetadata=!0}),p}function l(e,t,r,n){this.callback=e,this.time=t,this.id=r,this.val=n}i.default.prototype.select=function(e,t){i.default._validateParameters("select",arguments);var r=this._getContainer(t).querySelector(e);return r?this._wrapElement(r):null},i.default.prototype.selectAll=function(e,t){i.default._validateParameters("selectAll",arguments);var r=[],n=this._getContainer(t).querySelectorAll(e);if(n)for(var s=0;s<n.length;s++){var o=this._wrapElement(n[s]);r.push(o)}return r},i.default.prototype._getContainer=function(e){var t=document;return"string"==typeof e?t=document.querySelector(e)||document:e instanceof i.default.Element?t=e.elt:e instanceof HTMLElement&&(t=e),t},i.default.prototype._wrapElement=function(e){var t=Array.prototype.slice.call(e.children);if("INPUT"!==e.tagName||"checkbox"!==e.type)return"VIDEO"===e.tagName||"AUDIO"===e.tagName?new i.default.MediaElement(e,this):"SELECT"===e.tagName?this.createSelect(new i.default.Element(e,this)):0<t.length&&t.every(function(e){return"INPUT"===e.tagName||"LABEL"===e.tagName})?this.createRadio(new i.default.Element(e,this)):new i.default.Element(e,this);var r=new i.default.Element(e,this);return r.checked=function(){return 0===arguments.length?this.elt.checked:(this.elt.checked=!!arguments[0],this)},r},i.default.prototype.removeElements=function(e){i.default._validateParameters("removeElements",arguments),this._elements.filter(function(e){return!(e.elt instanceof HTMLCanvasElement)}).map(function(e){return e.remove()})},i.default.Element.prototype.changed=function(e){return i.default.Element._adjustListener("change",e,this),this},i.default.Element.prototype.input=function(e){return i.default.Element._adjustListener("input",e,this),this},i.default.prototype.createDiv=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=document.createElement("div");return t.innerHTML=e,o(t,this)},i.default.prototype.createP=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=document.createElement("p");return t.innerHTML=e,o(t,this)},i.default.prototype.createSpan=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=document.createElement("span");return t.innerHTML=e,o(t,this)},i.default.prototype.createImg=function(){i.default._validateParameters("createImg",arguments);var e,t=document.createElement("img"),r=arguments;return 1<r.length&&"string"==typeof r[1]&&(t.alt=r[1]),2<r.length&&"string"==typeof r[2]&&(t.crossOrigin=r[2]),t.src=r[0],e=o(t,this),t.addEventListener("load",function(){e.width=t.offsetWidth||t.width,e.height=t.offsetHeight||t.height;var n=r[r.length-1];"function"==typeof n&&n(e)}),e},i.default.prototype.createA=function(e,t,r){i.default._validateParameters("createA",arguments);var n=document.createElement("a");return n.href=e,n.innerHTML=t,r&&(n.target=r),o(n,this)},i.default.prototype.createSlider=function(e,t,r,n){i.default._validateParameters("createSlider",arguments);var s=document.createElement("input");return s.type="range",s.min=e,s.max=t,0===n?s.step=1e-18:n&&(s.step=n),"number"==typeof r&&(s.value=r),o(s,this)},i.default.prototype.createButton=function(e,t){i.default._validateParameters("createButton",arguments);var r=document.createElement("button");return r.innerHTML=e,t&&(r.value=t),o(r,this)},i.default.prototype.createCheckbox=function(){i.default._validateParameters("createCheckbox",arguments);var e=document.createElement("div"),t=document.createElement("input");t.type="checkbox",e.appendChild(t);var r=o(e,this);if(r.checked=function(){var e=r.elt.getElementsByTagName("input")[0];if(e){if(0===arguments.length)return e.checked;e.checked=!!arguments[0]}return r},this.value=function(e){return r.value=e,this},arguments[0]){var n=Math.random().toString(36).slice(2),s=document.createElement("label");t.setAttribute("id",n),s.htmlFor=n,r.value(arguments[0]),s.appendChild(document.createTextNode(arguments[0])),e.appendChild(s)}return arguments[1]&&(t.checked=!0),r},i.default.prototype.createSelect=function(){var e;i.default._validateParameters("createSelect",arguments);var t=arguments[0];if(t instanceof i.default.Element&&t.elt instanceof HTMLSelectElement)e=t,this.elt=t.elt;else if(t instanceof HTMLSelectElement)e=o(t,this),this.elt=t;else{var r=document.createElement("select");t&&"boolean"==typeof t&&r.setAttribute("multiple","true"),e=o(r,this),this.elt=r}return e.option=function(e,t){var r;if(void 0!==e){for(var n=0;n<this.elt.length;n+=1)if(this.elt[n].innerHTML===e){r=n;break}if(void 0!==r)!1===t?this.elt.remove(r):this.elt[r].value=t;else{var i=document.createElement("option");i.innerHTML=e,i.value=void 0===t?e:t,this.elt.appendChild(i),this._pInst._elements.push(i)}}},e.selected=function(e){if(void 0!==e){for(var t=0;t<this.elt.length;t+=1)this.elt[t].value.toString()===e.toString()&&(this.elt.selectedIndex=t);return this}if(this.elt.getAttribute("multiple")){var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=this.elt.selectedOptions[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)r.push(o.value.value)}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}return this.elt.value},e.disable=function(e){if("string"==typeof e)for(var t=0;t<this.elt.length;t++)this.elt[t].value.toString()===e&&(this.elt[t].disabled=!0,this.elt[t].selected=!1);else this.elt.disabled=!0;return this},e},i.default.prototype.createRadio=function(){var e,t,r=arguments[0];r instanceof HTMLDivElement||r instanceof HTMLSpanElement?(e=r,"string"==typeof arguments[1]&&(t=arguments[1])):("string"==typeof r&&(t=r),e=document.createElement("div"));var n=o(this.elt=e,this);function i(e){return e instanceof HTMLInputElement&&"radio"===e.type}function s(e){return e.nextElementSibling instanceof HTMLLabelElement}return n._name=t||"radioOption",n._getOptionsArray=function(){return Array.from(this.elt.children).filter(i)},n.option=function(e,t){var r,i,o=!0,a=!1,l=void 0;try{for(var c,u=n._getOptionsArray()[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=c.value;if(h.value===e){r=h;break}}}catch(e){a=!0,l=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw l}}return void 0===r&&((r=document.createElement("input")).setAttribute("type","radio"),r.setAttribute("value",e),this.elt.appendChild(r)),s(r)?i=r.nextElementSibling:(i=document.createElement("label"),r.insertAdjacentElement("afterend",i)),i.innerHTML=void 0===t?e:t,r.setAttribute("name",n._name),r},n.remove=function(e){var t=!0,r=!1,i=void 0;try{for(var o,a=n._getOptionsArray()[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var l=o.value;if(l.value===e)return s(l)&&l.nextElementSibling.remove(),void l.remove()}}catch(e){r=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}},n.value=function(){var e="",t=!0,r=!1,i=void 0;try{for(var s,o=n._getOptionsArray()[Symbol.iterator]();!(t=(s=o.next()).done);t=!0){var a=s.value;if(a.checked){e=a.value;break}}}catch(e){r=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}return e},n.selected=function(e){var t=null;if(void 0===e){var r=!0,i=!1,s=void 0;try{for(var o,a=n._getOptionsArray()[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value;if(l.checked){t=l;break}}}catch(e){i=!0,s=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}}else{var c=!0,u=!1,h=void 0;try{for(var d,p=n._getOptionsArray()[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var f=d.value;f.value===e&&(f.setAttribute("checked",!0),t=f)}}catch(e){u=!0,h=e}finally{try{c||null==p.return||p.return()}finally{if(u)throw h}}}return t},n.disable=function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=!0,r=!1,i=void 0;try{for(var s,o=n._getOptionsArray()[Symbol.iterator]();!(t=(s=o.next()).done);t=!0)s.value.setAttribute("disabled",e)}catch(e){r=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}},n},i.default.prototype.createColorPicker=function(e){i.default._validateParameters("createColorPicker",arguments);var t,r=document.createElement("input");return r.type="color",e?e instanceof i.default.Color?r.value=e.toString("#rrggbb"):(i.default.prototype._colorMode="rgb",i.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},r.value=i.default.prototype.color(e).toString("#rrggbb")):r.value="#000000",(t=o(r,this)).color=function(){return e&&(e.mode&&(i.default.prototype._colorMode=e.mode),e.maxes&&(i.default.prototype._colorMaxes=e.maxes)),i.default.prototype.color(this.elt.value)},t},i.default.prototype.createInput=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text";i.default._validateParameters("createInput",arguments);var r=document.createElement("input");return r.setAttribute("value",e),r.setAttribute("type",t),o(r,this)},i.default.prototype.createFileInput=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(i.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob){var r=document.createElement("input");return r.setAttribute("type","file"),t&&r.setAttribute("multiple",!0),r.addEventListener("change",function(t){var r=!0,n=!1,s=void 0;try{for(var o,a=t.target.files[Symbol.iterator]();!(r=(o=a.next()).done);r=!0)i.default.File._load(o.value,e)}catch(t){n=!0,s=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw s}}},!1),o(r,this)}console.log("The File APIs are not fully supported in this browser. Cannot create element.")},i.default.prototype.createVideo=function(e,t){return i.default._validateParameters("createVideo",arguments),a(this,"video",e,t)},i.default.prototype.createAudio=function(e,t){return i.default._validateParameters("createAudio",arguments),a(this,"audio",e,t)},i.default.prototype.VIDEO="video",i.default.prototype.AUDIO="audio",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return t?new Promise(function(r,n){t.call(navigator,e,r,n)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),i.default.prototype.createCapture=function(){if(i.default._validateParameters("createCapture",arguments),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");var e,t,r=!0,n=!0,a=!0,l=!1,c=void 0;try{for(var u,h=arguments[Symbol.iterator]();!(a=(u=h.next()).done);a=!0){var d=u.value;d===i.default.prototype.VIDEO?n=!1:d===i.default.prototype.AUDIO?r=!1:"object"===s(d)?e=d:"function"==typeof d&&(t=d)}}catch(e){l=!0,c=e}finally{try{a||null==h.return||h.return()}finally{if(l)throw c}}e=e||{video:r,audio:n};var p=document.createElement("video");p.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(e).then(function(t){try{"srcObject"in p?p.srcObject=t:p.src=window.URL.createObjectURL(t)}catch(e){p.src=t}},console.log);var f=o(p,this,!0);return f.loadedmetadata=!1,p.addEventListener("loadedmetadata",function(){p.play(),p.width?(f.width=p.width,f.height=p.height):(f.width=f.elt.width=p.videoWidth,f.height=f.elt.height=p.videoHeight),f.loadedmetadata=!0,t&&t(p.srcObject)}),f},i.default.prototype.createElement=function(e,t){i.default._validateParameters("createElement",arguments);var r=document.createElement(e);return void 0!==t&&(r.innerHTML=t),o(r,this)},i.default.Element.prototype.addClass=function(e){return this.elt.className?this.hasClass(e)||(this.elt.className=this.elt.className+" "+e):this.elt.className=e,this},i.default.Element.prototype.removeClass=function(e){return this.elt.classList.remove(e),this},i.default.Element.prototype.hasClass=function(e){return this.elt.classList.contains(e)},i.default.Element.prototype.toggleClass=function(e){return this.elt.classList.contains(e)?this.elt.classList.remove(e):this.elt.classList.add(e),this},i.default.Element.prototype.child=function(e){return void 0===e?this.elt.childNodes:("string"==typeof e?("#"===e[0]&&(e=e.substring(1)),e=document.getElementById(e)):e instanceof i.default.Element&&(e=e.elt),e instanceof HTMLElement&&this.elt.appendChild(e),this)},i.default.Element.prototype.center=function(e){var t=this.elt.style.display,r="none"===this.elt.style.display,n="none"===this.parent().style.display,i={x:this.elt.offsetLeft,y:this.elt.offsetTop};r&&this.show(),n&&this.parent().show(),this.elt.style.display="block",this.position(0,0);var s=Math.abs(this.parent().offsetWidth-this.elt.offsetWidth),o=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return"both"===e||void 0===e?this.position(s/2+this.parent().offsetLeft,o/2+this.parent().offsetTop):"horizontal"===e?this.position(s/2+this.parent().offsetLeft,i.y):"vertical"===e&&this.position(i.x,o/2+this.parent().offsetTop),this.style("display",t),r&&this.hide(),n&&this.parent().hide(),this},i.default.Element.prototype.html=function(){return 0===arguments.length?this.elt.innerHTML:(arguments[1]?this.elt.insertAdjacentHTML("beforeend",arguments[0]):this.elt.innerHTML=arguments[0],this)},i.default.Element.prototype.position=function(){if(0===arguments.length)return{x:this.elt.offsetLeft,y:this.elt.offsetTop};var e="absolute";return"static"!==arguments[2]&&"fixed"!==arguments[2]&&"relative"!==arguments[2]&&"sticky"!==arguments[2]&&"initial"!==arguments[2]&&"inherit"!==arguments[2]||(e=arguments[2]),this.elt.style.position=e,this.elt.style.left=arguments[0]+"px",this.elt.style.top=arguments[1]+"px",this.x=arguments[0],this.y=arguments[1],this},i.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var e="";return this.elt.style.transform&&(e=(e=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?this.elt.style.transform="translate("+arguments[0]+"px, "+arguments[1]+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+arguments[0]+"px,"+arguments[1]+"px,"+arguments[2]+"px)",this.elt.parentElement.style.perspective=3===arguments.length?"1000px":arguments[3]+"px"),this.elt.style.transform+=e,this},i.default.Element.prototype._rotate=function(){var e="";return this.elt.style.transform&&(e=(e=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?this.elt.style.transform="rotate("+arguments[0]+"deg)":2===arguments.length?this.elt.style.transform="rotate("+arguments[0]+"deg, "+arguments[1]+"deg)":3===arguments.length&&(this.elt.style.transform="rotateX("+arguments[0]+"deg)",this.elt.style.transform+="rotateY("+arguments[1]+"deg)",this.elt.style.transform+="rotateZ("+arguments[2]+"deg)"),this.elt.style.transform+=e,this},i.default.Element.prototype.style=function(e,t){if(t instanceof i.default.Color&&(t="rgba("+t.levels[0]+","+t.levels[1]+","+t.levels[2]+","+t.levels[3]/255+")"),void 0===t){if(-1===e.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(e);for(var r=e.split(";"),n=0;n<r.length;n++){var s=r[n].split(":");s[0]&&s[1]&&(this.elt.style[s[0].trim()]=s[1].trim())}}else if(this.elt.style[e]=t,"width"===e||"height"===e||"left"===e||"top"===e){var o=window.getComputedStyle(this.elt).getPropertyValue(e).replace(/\D+/g,"");this[e]=parseInt(o,10)}return this},i.default.Element.prototype.attribute=function(e,t){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===t?this.elt.getAttribute(e):(this.elt.setAttribute(e,t),this);if(void 0===t)return this.elt.firstChild.getAttribute(e);for(var r=0;r<this.elt.childNodes.length;r++)this.elt.childNodes[r].setAttribute(e,t)},i.default.Element.prototype.removeAttribute=function(e){if(null!=this.elt.firstChild&&("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(var t=0;t<this.elt.childNodes.length;t++)this.elt.childNodes[t].removeAttribute(e);return this.elt.removeAttribute(e),this},i.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},i.default.Element.prototype.show=function(){return this.elt.style.display="block",this},i.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},i.default.Element.prototype.size=function(e,t){if(0===arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var r=e,n=t,s=i.default.prototype.AUTO;if(r!==s||n!==s){if(r===s?r=t*this.width/this.height:n===s&&(n=e*this.height/this.width),this.elt instanceof HTMLCanvasElement){var o,a={},l=this.elt.getContext("2d");for(o in l)a[o]=l[o];for(o in this.elt.setAttribute("width",r*this._pInst._pixelDensity),this.elt.setAttribute("height",n*this._pInst._pixelDensity),this.elt.style.width=r+"px",this.elt.style.height=n+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),a)this.elt.getContext("2d")[o]=a[o]}else this.elt.style.width=r+"px",this.elt.style.height=n+"px",this.elt.width=r,this.elt.height=n;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},i.default.Element.prototype.remove=function(){if(this instanceof i.default.MediaElement){this.stop();var e=this.elt.srcObject;null!==e&&e.getTracks().forEach(function(e){e.stop()})}var t=this._pInst._elements.indexOf(this);for(var r in-1!==t&&this._pInst._elements.splice(t,1),this._events)this.elt.removeEventListener(r,this._events[r]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},i.default.Element.prototype.drop=function(e,t){if(window.File&&window.FileReader&&window.FileList&&window.Blob){if(!this._dragDisabled){this._dragDisabled=!0;var r=function(e){e.preventDefault()};this.elt.addEventListener("dragover",r),this.elt.addEventListener("dragleave",r)}i.default.Element._attachListener("drop",function(r){r.preventDefault(),"function"==typeof t&&t.call(this,r);for(var n=r.dataTransfer.files,s=0;s<n.length;s++)i.default.File._load(n[s],e)},this)}else console.log("The File APIs are not fully supported in this browser.");return this},i.default.MediaElement=function(e,t){i.default.Element.call(this,e,t);var r=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],(this._pixelsState=this)._pixelDensity=1,this._modified=!1,Object.defineProperty(r,"src",{get:function(){var e=r.elt.children[0].src,t=r.elt.src===window.location.href?"":r.elt.src;return e===window.location.href?t:e},set:function(t){for(var n=0;n<r.elt.children.length;n++)r.elt.removeChild(r.elt.children[n]);var i=document.createElement("source");i.src=t,e.appendChild(i),r.elt.src=t,r.modified=!0}}),r._onended=function(){},r.elt.onended=function(){r._onended(r)}},i.default.MediaElement.prototype=Object.create(i.default.Element.prototype),i.default.MediaElement.prototype.play=function(){var e,t=this;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(e=this.elt.play())&&e.catch&&e.catch(function(e){"NotAllowedError"===e.name?i.default._friendlyAutoplayError(t.src):console.error("Media play method encountered an unexpected error",e)}),this},i.default.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},i.default.MediaElement.prototype.pause=function(){return this.elt.pause(),this},i.default.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},i.default.MediaElement.prototype.noLoop=function(){return this.elt.removeAttribute("loop"),this},i.default.MediaElement.prototype._setupAutoplayFailDetection=function(){var e=this,t=setTimeout(function(){return i.default._friendlyAutoplayError(e.src)},500);this.elt.addEventListener("play",function(){return clearTimeout(t)},{passive:!0,once:!0})},i.default.MediaElement.prototype.autoplay=function(e){var t=this,r=this.elt.getAttribute("autoplay");if(this.elt.setAttribute("autoplay",e),e&&!r){var n=function(){return t._setupAutoplayFailDetection()};4===this.elt.readyState?n():this.elt.addEventListener("canplay",n,{passive:!0,once:!0})}return this},i.default.MediaElement.prototype.volume=function(e){if(void 0===e)return this.elt.volume;this.elt.volume=e},i.default.MediaElement.prototype.speed=function(e){if(void 0===e)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=e:this.presetPlaybackRate=e},i.default.MediaElement.prototype.time=function(e){return void 0===e?this.elt.currentTime:(this.elt.currentTime=e,this)},i.default.MediaElement.prototype.duration=function(){return this.elt.duration},i.default.MediaElement.prototype.pixels=[],i.default.MediaElement.prototype._ensureCanvas=function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0))},i.default.MediaElement.prototype.loadPixels=function(){return this._ensureCanvas(),i.default.Renderer2D.prototype.loadPixels.apply(this,arguments)},i.default.MediaElement.prototype.updatePixels=function(e,t,r,n){return this.loadedmetadata&&(this._ensureCanvas(),i.default.Renderer2D.prototype.updatePixels.call(this,e,t,r,n)),this.setModified(!0),this},i.default.MediaElement.prototype.get=function(){return this._ensureCanvas(),i.default.Renderer2D.prototype.get.apply(this,arguments)},i.default.MediaElement.prototype._getPixel=function(){return this.loadPixels(),i.default.Renderer2D.prototype._getPixel.apply(this,arguments)},i.default.MediaElement.prototype.set=function(e,t,r){this.loadedmetadata&&(this._ensureCanvas(),i.default.Renderer2D.prototype.set.call(this,e,t,r),this.setModified(!0))},i.default.MediaElement.prototype.copy=function(){this._ensureCanvas(),i.default.prototype.copy.apply(this,arguments)},i.default.MediaElement.prototype.mask=function(){this.loadPixels(),this.setModified(!0),i.default.Image.prototype.mask.apply(this,arguments)},i.default.MediaElement.prototype.isModified=function(){return this._modified},i.default.MediaElement.prototype.setModified=function(e){this._modified=e},i.default.MediaElement.prototype.onended=function(e){return this._onended=e,this},i.default.MediaElement.prototype.connect=function(e){var t,r;if("function"==typeof i.default.prototype.getAudioContext)t=i.default.prototype.getAudioContext(),r=i.default.soundOut.input;else try{r=(t=e.context).destination}catch(e){throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=t.createMediaElementSource(this.elt),this.audioSourceNode.connect(r)),this.audioSourceNode.connect(e?e.input?e.input:e:r)},i.default.MediaElement.prototype.disconnect=function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()},i.default.MediaElement.prototype.showControls=function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0},i.default.MediaElement.prototype.hideControls=function(){this.elt.controls=!1},i.default.MediaElement.prototype.addCue=function(e,t,r){var n=this._cueIDCounter++,i=new l(t,e,n,r);return this._cues.push(i),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),n},i.default.MediaElement.prototype.removeCue=function(e){for(var t=0;t<this._cues.length;t++)this._cues[t].id===e&&(console.log(e),this._cues.splice(t,1));0===this._cues.length&&(this.elt.ontimeupdate=null)},i.default.MediaElement.prototype.clearCues=function(){this._cues=[],this.elt.ontimeupdate=null},i.default.MediaElement.prototype._onTimeUpdate=function(){for(var e=this.time(),t=0;t<this._cues.length;t++){var r=this._cues[t].time;this._prevTime<r&&r<=e&&this._cues[t].callback(this._cues[t].val)}this._prevTime=e},i.default.File=function(e,t){this.file=e,this._pInst=t;var r=e.type.split("/");this.type=r[0],this.subtype=r[1],this.name=e.name,this.size=e.size,this.data=void 0},i.default.File._createLoader=function(e,t){var r=new FileReader;return r.onload=function(r){var n=new i.default.File(e);if("application/json"===n.file.type)n.data=JSON.parse(r.target.result);else if("text/xml"===n.file.type){var s=(new DOMParser).parseFromString(r.target.result,"text/xml");n.data=new i.default.XML(s.documentElement)}else n.data=r.target.result;t(n)},r},i.default.File._load=function(e,t){if(/^text\//.test(e.type)||"application/json"===e.type)i.default.File._createLoader(e,t).readAsText(e);else if(/^(video|audio)\//.test(e.type)){var r=new i.default.File(e);r.data=URL.createObjectURL(e),t(r)}else i.default.File._createLoader(e,t).readAsDataURL(e)},r.default=i.default},{"../core/main":260,"core-js/modules/es.array.every":149,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.for-each":152,"core-js/modules/es.array.from":153,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.splice":162,"core-js/modules/es.function.name":163,"core-js/modules/es.object.to-string":174,"core-js/modules/es.promise":175,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.split":188,"core-js/modules/es.string.trim":190,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.for-each":225,"core-js/modules/web.dom-collections.iterator":226,"core-js/modules/web.url":228}],277:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=(i=e("../core/main"))&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}s.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",s.default.prototype.accelerationX=0,s.default.prototype.accelerationY=0,s.default.prototype.accelerationZ=0,s.default.prototype.pAccelerationX=0,s.default.prototype.pAccelerationY=0,s.default.prototype.pAccelerationZ=0,s.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},s.default.prototype.rotationX=0,s.default.prototype.rotationY=0,s.default.prototype.rotationZ=0,s.default.prototype.pRotationX=0,s.default.prototype.pRotationY=0;var l=s.default.prototype.pRotationZ=0,c=0,u=0,h="clockwise",d="clockwise",p="clockwise";s.default.prototype.pRotateDirectionX=void 0,s.default.prototype.pRotateDirectionY=void 0,s.default.prototype.pRotateDirectionZ=void 0,s.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},s.default.prototype.turnAxis=void 0;var f=.5,m=30;s.default.prototype.setMoveThreshold=function(e){s.default._validateParameters("setMoveThreshold",arguments),f=e},s.default.prototype.setShakeThreshold=function(e){s.default._validateParameters("setShakeThreshold",arguments),m=e},s.default.prototype._ondeviceorientation=function(e){this._updatePRotations(),this._angleMode===o.radians&&(e.beta=e.beta*(_PI/180),e.gamma=e.gamma*(_PI/180),e.alpha=e.alpha*(_PI/180)),this._setProperty("rotationX",e.beta),this._setProperty("rotationY",e.gamma),this._setProperty("rotationZ",e.alpha),this._handleMotion()},s.default.prototype._ondevicemotion=function(e){this._updatePAccelerations(),this._setProperty("accelerationX",2*e.acceleration.x),this._setProperty("accelerationY",2*e.acceleration.y),this._setProperty("accelerationZ",2*e.acceleration.z),this._handleMotion()},s.default.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var e,t,r=this._isGlobal?window:this;if("function"==typeof r.deviceMoved&&(Math.abs(this.accelerationX-this.pAccelerationX)>f||Math.abs(this.accelerationY-this.pAccelerationY)>f||Math.abs(this.accelerationZ-this.pAccelerationZ)>f)&&r.deviceMoved(),"function"==typeof r.deviceTurned){var n=this.rotationX+180,i=this.pRotationX+180,s=l+180;0<n-i&&n-i<270||n-i<-270?h="clockwise":(n-i<0||270<n-i)&&(h="counter-clockwise"),h!==this.pRotateDirectionX&&(s=n),90<Math.abs(n-s)&&Math.abs(n-s)<270&&(s=n,this._setProperty("turnAxis","X"),r.deviceTurned()),this.pRotateDirectionX=h,l=s-180;var o=this.rotationY+180,a=this.pRotationY+180,g=c+180;0<o-a&&o-a<270||o-a<-270?d="clockwise":(o-a<0||270<o-this.pRotationY)&&(d="counter-clockwise"),d!==this.pRotateDirectionY&&(g=o),90<Math.abs(o-g)&&Math.abs(o-g)<270&&(g=o,this._setProperty("turnAxis","Y"),r.deviceTurned()),this.pRotateDirectionY=d,c=g-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?p="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(p="counter-clockwise"),p!==this.pRotateDirectionZ&&(u=this.rotationZ),90<Math.abs(this.rotationZ-u)&&Math.abs(this.rotationZ-u)<270&&(u=this.rotationZ,this._setProperty("turnAxis","Z"),r.deviceTurned()),this.pRotateDirectionZ=p,this._setProperty("turnAxis",void 0)}"function"==typeof r.deviceShaken&&(null!==this.pAccelerationX&&(e=Math.abs(this.accelerationX-this.pAccelerationX),t=Math.abs(this.accelerationY-this.pAccelerationY)),m<e+t&&r.deviceShaken())},r.default=s.default},{"../core/constants":250,"../core/main":260}],278:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};i.default.prototype.isKeyPressed=!1,i.default.prototype.keyIsPressed=!1,i.default.prototype.key="",i.default.prototype.keyCode=0,i.default.prototype._onkeydown=function(e){if(!this._downKeys[e.which]){this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",e.which),this._downKeys[e.which]=!0,this._setProperty("key",e.key||String.fromCharCode(e.which)||e.which);var t=this._isGlobal?window:this;"function"!=typeof t.keyPressed||e.charCode||!1===t.keyPressed(e)&&e.preventDefault()}},i.default.prototype._onkeyup=function(e){this._downKeys[e.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",e.key||String.fromCharCode(e.which)||e.which),this._setProperty("keyCode",e.which);var t=this._isGlobal?window:this;"function"==typeof t.keyReleased&&!1===t.keyReleased(e)&&e.preventDefault()},i.default.prototype._onkeypress=function(e){if(e.which!==this._lastKeyCodeTyped){this._setProperty("_lastKeyCodeTyped",e.which),this._setProperty("key",e.key||String.fromCharCode(e.which)||e.which);var t=this._isGlobal?window:this;"function"==typeof t.keyTyped&&!1===t.keyTyped(e)&&e.preventDefault()}},i.default.prototype._onblur=function(e){this._downKeys={}},i.default.prototype.keyIsDown=function(e){return i.default._validateParameters("keyIsDown",arguments),this._downKeys[e]||!1},i.default.prototype._areDownKeys=function(){for(var e in this._downKeys)if(this._downKeys.hasOwnProperty(e)&&!0===this._downKeys[e])return!0;return!1},r.default=i.default},{"../core/main":260}],279:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=(i=e("../core/main"))&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}s.default.prototype.movedX=0,s.default.prototype.movedY=0,s.default.prototype._hasMouseInteracted=!1,s.default.prototype.mouseX=0,s.default.prototype.mouseY=0,s.default.prototype.pmouseX=0,s.default.prototype.pmouseY=0,s.default.prototype.winMouseX=0,s.default.prototype.winMouseY=0,s.default.prototype.pwinMouseX=0,s.default.prototype.pwinMouseY=0,s.default.prototype.mouseButton=0,s.default.prototype.mouseIsPressed=!1,s.default.prototype._updateNextMouseCoords=function(e){if(null!==this._curElement&&(!e.touches||0<e.touches.length)){var t=function(e,t,r,n){n&&!n.clientX&&(n.touches?n=n.touches[0]:n.changedTouches&&(n=n.changedTouches[0]));var i=e.getBoundingClientRect();return{x:(n.clientX-i.left)/(e.scrollWidth/t||1),y:(n.clientY-i.top)/(e.scrollHeight/r||1),winX:n.clientX,winY:n.clientY,id:n.identifier}}(this._curElement.elt,this.width,this.height,e);this._setProperty("movedX",e.movementX),this._setProperty("movedY",e.movementY),this._setProperty("mouseX",t.x),this._setProperty("mouseY",t.y),this._setProperty("winMouseX",t.winX),this._setProperty("winMouseY",t.winY)}this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},s.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},s.default.prototype._setMouseButton=function(e){this._setProperty("mouseButton",1===e.button?o.CENTER:2===e.button?o.RIGHT:o.LEFT)},s.default.prototype._onmousemove=function(e){var t=this._isGlobal?window:this;this._updateNextMouseCoords(e),this.mouseIsPressed?"function"==typeof t.mouseDragged?!1===t.mouseDragged(e)&&e.preventDefault():"function"==typeof t.touchMoved&&!1===t.touchMoved(e)&&e.preventDefault():"function"==typeof t.mouseMoved&&!1===t.mouseMoved(e)&&e.preventDefault()},s.default.prototype._onmousedown=function(e){var t=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(e),this._updateNextMouseCoords(e),"function"==typeof t.mousePressed?!1===t.mousePressed(e)&&e.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&"function"==typeof t.touchStarted&&!1===t.touchStarted(e)&&e.preventDefault()},s.default.prototype._onmouseup=function(e){var t=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),"function"==typeof t.mouseReleased?!1===t.mouseReleased(e)&&e.preventDefault():"function"==typeof t.touchEnded&&!1===t.touchEnded(e)&&e.preventDefault()},s.default.prototype._ondragend=s.default.prototype._onmouseup,s.default.prototype._ondragover=s.default.prototype._onmousemove,s.default.prototype._onclick=function(e){var t=this._isGlobal?window:this;"function"==typeof t.mouseClicked&&!1===t.mouseClicked(e)&&e.preventDefault()},s.default.prototype._ondblclick=function(e){var t=this._isGlobal?window:this;"function"==typeof t.doubleClicked&&!1===t.doubleClicked(e)&&e.preventDefault()},s.default.prototype._mouseWheelDeltaY=0,s.default.prototype._pmouseWheelDeltaY=0,s.default.prototype._onwheel=function(e){var t=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",e.deltaY),"function"==typeof t.mouseWheel&&(e.delta=e.deltaY,!1===t.mouseWheel(e)&&e.preventDefault())},s.default.prototype.requestPointerLock=function(){var e=this._curElement.elt;return e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock,e.requestPointerLock?(e.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},s.default.prototype.exitPointerLock=function(){document.exitPointerLock()},r.default=s.default},{"../core/constants":250,"../core/main":260,"core-js/modules/es.array.includes":154,"core-js/modules/es.string.includes":182}],280:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};function s(e,t,r,n,i){var s=4<arguments.length&&void 0!==i?i:0,o=e.getBoundingClientRect(),a=n.touches[s]||n.changedTouches[s];return{x:(a.clientX-o.left)/(e.scrollWidth/t||1),y:(a.clientY-o.top)/(e.scrollHeight/r||1),winX:a.clientX,winY:a.clientY,id:a.identifier}}i.default.prototype.touches=[],i.default.prototype._updateTouchCoords=function(e){if(null!==this._curElement){for(var t=[],r=0;r<e.touches.length;r++)t[r]=s(this._curElement.elt,this.width,this.height,e,r);this._setProperty("touches",t)}},i.default.prototype._ontouchstart=function(e){var t=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(e),this._updateNextMouseCoords(e),this._updateMouseCoords(),"function"==typeof t.touchStarted?!1===t.touchStarted(e)&&e.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&"function"==typeof t.mousePressed&&!1===t.mousePressed(e)&&e.preventDefault()},i.default.prototype._ontouchmove=function(e){var t=this._isGlobal?window:this;this._updateTouchCoords(e),this._updateNextMouseCoords(e),"function"==typeof t.touchMoved?!1===t.touchMoved(e)&&e.preventDefault():"function"==typeof t.mouseDragged&&!1===t.mouseDragged(e)&&e.preventDefault()},i.default.prototype._ontouchend=function(e){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(e),this._updateNextMouseCoords(e);var t=this._isGlobal?window:this;"function"==typeof t.touchEnded?!1===t.touchEnded(e)&&e.preventDefault():"function"==typeof t.mouseReleased&&!1===t.mouseReleased(e)&&e.preventDefault()},r.default=i.default},{"../core/main":260,"core-js/modules/es.array.includes":154,"core-js/modules/es.string.includes":182}],281:[function(e,t,r){"use strict";e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.int32-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i,s,o,a={_toPixels:function(e){if(e instanceof ImageData)return e.data;if(e.getContext("2d"))return e.getContext("2d").getImageData(0,0,e.width,e.height).data;if(e.getContext("webgl")){var t=e.getContext("webgl"),r=new Uint8Array(t.drawingBufferWidth*t.drawingBufferHeight*4);return t.readPixels(0,0,e.width,e.height,t.RGBA,t.UNSIGNED_BYTE,r),r}},_getARGB:function(e,t){var r=4*t;return e[3+r]<<24&4278190080|e[r]<<16&16711680|e[1+r]<<8&65280|255&e[2+r]},_setPixels:function(e,t){for(var r=0,n=0,i=e.length;n<i;n++)e[0+(r=4*n)]=(16711680&t[n])>>>16,e[r+1]=(65280&t[n])>>>8,e[r+2]=255&t[n],e[r+3]=(4278190080&t[n])>>>24},_toImageData:function(e){return e instanceof ImageData?e:e.getContext("2d").getImageData(0,0,e.width,e.height)},_createImageData:function(e,t){return a._tmpCanvas=document.createElement("canvas"),a._tmpCtx=a._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(e,t)},apply:function(e,t,r){var n=e.getContext("2d"),i=n.getImageData(0,0,e.width,e.height),s=t(i,r);s instanceof ImageData?n.putImageData(s,0,0,0,0,e.width,e.height):n.putImageData(i,0,0,0,0,e.width,e.height)},threshold:function(e,t){var r=a._toPixels(e);void 0===t&&(t=.5);for(var n=Math.floor(255*t),i=0;i<r.length;i+=4)r[i]=r[i+1]=r[i+2]=n<=.2126*r[i]+.7152*r[i+1]+.0722*r[i+2]?255:0},gray:function(e){for(var t=a._toPixels(e),r=0;r<t.length;r+=4)t[r]=t[r+1]=t[r+2]=.2126*t[r]+.7152*t[r+1]+.0722*t[r+2]},opaque:function(e){for(var t=a._toPixels(e),r=0;r<t.length;r+=4)t[r+3]=255;return t},invert:function(e){for(var t=a._toPixels(e),r=0;r<t.length;r+=4)t[r]=255-t[r],t[r+1]=255-t[r+1],t[r+2]=255-t[r+2]},posterize:function(e,t){var r=a._toPixels(e);if(t<2||255<t)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var n=t-1,i=0;i<r.length;i+=4){var s=r[i+1],o=r[i+2];r[i]=255*(r[i]*t>>8)/n,r[i+1]=255*(s*t>>8)/n,r[i+2]=255*(o*t>>8)/n}},dilate:function(e){for(var t,r,n,i,s,o,l,c,u,h,d,p,f,m,g,y,v,_=a._toPixels(e),b=0,w=_.length?_.length/4:0,x=new Int32Array(w);b<w;)for(r=(t=b)+e.width;b<r;)n=i=a._getARGB(_,b),(l=b-1)<t&&(l=b),r<=(o=b+1)&&(o=b),(c=b-e.width)<0&&(c=0),w<=(u=b+e.width)&&(u=b),p=a._getARGB(_,c),d=a._getARGB(_,l),f=a._getARGB(_,u),(s=77*(n>>16&255)+151*(n>>8&255)+28*(255&n))<(g=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))&&(i=d,s=g),s<(m=77*((h=a._getARGB(_,o))>>16&255)+151*(h>>8&255)+28*(255&h))&&(i=h,s=m),s<(y=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))&&(i=p,s=y),s<(v=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))&&(i=f,s=v),x[b++]=i;a._setPixels(_,x)},erode:function(e){for(var t,r,n,i,s,o,l,c,u,h,d,p,f,m,g,y,v,_=a._toPixels(e),b=0,w=_.length?_.length/4:0,x=new Int32Array(w);b<w;)for(r=(t=b)+e.width;b<r;)n=i=a._getARGB(_,b),(l=b-1)<t&&(l=b),r<=(o=b+1)&&(o=b),(c=b-e.width)<0&&(c=0),w<=(u=b+e.width)&&(u=b),p=a._getARGB(_,c),d=a._getARGB(_,l),f=a._getARGB(_,u),(g=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))<(s=77*(n>>16&255)+151*(n>>8&255)+28*(255&n))&&(i=d,s=g),(m=77*((h=a._getARGB(_,o))>>16&255)+151*(h>>8&255)+28*(255&h))<s&&(i=h,s=m),(y=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))<s&&(i=p,s=y),(v=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))<s&&(i=f,s=v),x[b++]=i;a._setPixels(_,x)},blur:function(e,t){!function(e,t){for(var r,l,c,u,h,d,p,f,m,g,y=a._toPixels(e),v=e.width,_=e.height,b=v*_,w=new Int32Array(b),x=0;x<b;x++)w[x]=a._getARGB(y,x);var S,M,E,T,C=new Int32Array(b),A=new Int32Array(b),L=new Int32Array(b),P=new Int32Array(b),O=0;for(function(e){var t=3.5*e|0;if(n!==(t=t<1?1:t<248?t:248)){i=1+(n=t)<<1,s=new Int32Array(i),o=new Array(i);for(var r=0;r<i;r++)o[r]=new Int32Array(256);for(var a,l,c,u,h=1,d=t-1;h<t;h++){s[t+h]=s[d]=l=d*d,c=o[t+h],u=o[d--];for(var p=0;p<256;p++)c[p]=u[p]=l*p}a=s[t]=t*t,c=o[t];for(var f=0;f<256;f++)c[f]=a*f}}(t),M=0;M<_;M++){for(S=0;S<v;S++){if(u=c=l=h=r=0,(d=S-n)<0)g=-d,d=0;else{if(v<=d)break;g=0}for(E=g;E<i&&!(v<=d);E++){var R=w[d+O];h+=(T=o[E])[(-16777216&R)>>>24],l+=T[(16711680&R)>>16],c+=T[(65280&R)>>8],u+=T[255&R],r+=s[E],d++}C[p=O+S]=h/r,A[p]=l/r,L[p]=c/r,P[p]=u/r}O+=v}for(m=(f=-n)*v,M=O=0;M<_;M++){for(S=0;S<v;S++){if(u=c=l=h=r=0,f<0)g=p=-f,d=S;else{if(_<=f)break;g=0,p=f,d=S+m}for(E=g;E<i&&!(_<=p);E++)h+=(T=o[E])[C[d]],l+=T[A[d]],c+=T[L[d]],u+=T[P[d]],r+=s[E],p++,d+=v;w[S+O]=h/r<<24|l/r<<16|c/r<<8|u/r}O+=v,m+=v,f++}a._setPixels(y,w)}(e,t)}};r.default=a},{"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.int32-array":206,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint8-array":223}],282:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("../core/main")),i=s(e("omggif"));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.default.prototype.createImage=function(e,t){return n.default._validateParameters("createImage",arguments),new n.default.Image(e,t)},n.default.prototype.saveCanvas=function(){n.default._validateParameters("saveCanvas",arguments);var e,t,r,i,s=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(e=arguments[0],s.shift()):arguments[0]instanceof n.default.Element?(e=arguments[0].elt,s.shift()):e=this._curElement&&this._curElement.elt,1<=s.length&&(t=s[0]),2<=s.length&&(r=s[1]),r=r||n.default.prototype._checkFileExtension(t,r)[1]||"png"){default:i="image/png";break;case"jpeg":case"jpg":i="image/jpeg"}e.toBlob(function(e){n.default.prototype.downloadFile(e,t,r)},i)},n.default.prototype.saveGif=function(e,t){var r=e.gifProperties,s=r.loopLimit;1===s?s=null:null===s&&(s=0);for(var a=new Uint8Array(e.width*e.height*r.numFrames),l=[],c={},u=0;u<r.numFrames;u++){for(var h=new Set,d=r.frames[u].image.data,p=d.length,f=new Uint32Array(e.width*e.height),m=0,g=0;m<p;m+=4,g++){var y=d[m+0]<<16|d[m+1]<<8|d[m+2]<<0;h.add(y),f[g]=y}var v=o(h).sort().toString();void 0===c[v]?c[v]={freq:1,frames:[u]}:(c[v].freq+=1,c[v].frames.push(u)),l.push(f)}var _=[],b=Object.keys(c).sort(function(e,t){return c[t].freq-c[e].freq}),w=b[0].split(",").map(function(e){return parseInt(e)});_=_.concat(c[w].frames);for(var x=new Set(w),S=1;S<b.length;S++){var M=b[S].split(",").map(function(e){return parseInt(e)}).filter(function(e){return!x.has(e)});if(w.length+M.length<=256){for(var E=0;E<M.length;E++)w.push(M[E]),x.add(M[E]);_=_.concat(c[b[S]].frames)}}_=new Set(_);for(var T={},C=0;C<w.length;C++)T[w[C]]||(T[w[C]]=C);for(var A=1;A<w.length;)A<<=1;w.length=A;for(var L={loop:s,palette:new Uint32Array(w)},P=new i.default.GifWriter(a,e.width,e.height,L),O={},R=function(t){for(var n=!_.has(t),i=n?[]:w,s=new Uint8Array(e.width*e.height),o={},a=new Set,c=0;c<l[t].length;c++){var u=l[t][c];n?(void 0===o[u]&&(o[u]=i.length,i.push(u)),s[c]=o[u]):s[c]=T[u],0<t&&l[t-1][c]!==u&&a.add(u)}var h={},d=i.filter(function(e){return!a.has(e)});if(0<d.length){var p=d[0],f=n?o[p]:T[p];if(0<t){for(var m=0;m<l[t].length;m++)l[t-1][m]===l[t][m]&&(s[m]=f);h.transparent=f,O.frameOpts.disposal=1}}if(h.delay=r.frames[t].delay/10,n){for(var g=1;g<i.length;)g<<=1;i.length=g,h.palette=new Uint32Array(i)}0<t&&P.addFrame(0,0,e.width,e.height,O.pixelPaletteIndex,O.frameOpts),O={pixelPaletteIndex:s,frameOpts:h}},k=0;k<r.numFrames;k++)R(k);O.frameOpts.disposal=1,P.addFrame(0,0,e.width,e.height,O.pixelPaletteIndex,O.frameOpts);var j=new Blob([a.slice(0,P.end())],{type:"image/gif"});n.default.prototype.downloadFile(j,t,"gif")},n.default.prototype.saveFrames=function(e,t,r,i,s){n.default._validateParameters("saveFrames",arguments);var o=r||3;o=n.default.prototype.constrain(o,0,15),o*=1e3;var a=i||15;a=n.default.prototype.constrain(a,0,22);var l=0,c=n.default.prototype._makeFrame,u=this._curElement.elt,h=[],d=setInterval(function(){h.push(c(e+l,t,u)),l++},1e3/a);setTimeout(function(){if(clearInterval(d),s)s(h);else{var e=!0,t=!1,r=void 0;try{for(var i,o=h[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;n.default.prototype.downloadFile(a.imageData,a.filename,a.ext)}}catch(e){t=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}}h=[]},o+.01)},n.default.prototype._makeFrame=function(e,t,r){var n,i;if(n=this?this._curElement.elt:r,t)switch(t.toLowerCase()){case"png":i="image/png";break;case"jpeg":case"jpg":i="image/jpeg";break;default:i="image/png"}else t="png",i="image/png";var s=n.toDataURL(i);s=s.replace(i,"image/octet-stream");var o={};return o.imageData=s,o.filename=e,o.ext=t,o},r.default=n.default},{"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.from":153,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.keys":173,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.set":180,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.split":188,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint32-array":222,"core-js/modules/es.typed-array.uint8-array":223,"core-js/modules/web.dom-collections.iterator":226,omggif:235}],283:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=u(e("../core/main")),s=u(e("./filters")),o=u(e("../core/helpers")),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}(e("../core/constants")),l=u(e("omggif"));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function u(e){return e&&e.__esModule?e:{default:e}}function h(e,t){return 0<e&&e<t?e:t}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),i.default.prototype.loadImage=function(e,t,r){i.default._validateParameters("loadImage",arguments);var n=new i.default.Image(1,1,this),s=this,o=new Request(e,{method:"GET",mode:"cors"});return fetch(e,o).then(function(o){var a=o.headers.get("content-type");if(null===a&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),a&&a.includes("image/gif"))o.arrayBuffer().then(function(e){e&&function(e,t,r,n,s){var o=new l.default.GifReader(e);t.width=t.canvas.width=o.width,t.height=t.canvas.height=o.height;var a=[],c=o.numFrames(),u=new Uint8ClampedArray(t.width*t.height*4);if(1<c){for(var h=function(e,r){try{r.decodeAndBlitFrameRGBA(e,u)}catch(e){i.default._friendlyFileLoadError(8,t.src),"function"==typeof n?n(e):console.error(e)}},d=0;d<c;d++){var p=o.frameInfo(d);1===o.frameInfo(d).disposal&&0<d?t.drawingContext.putImageData(a[d-1].image,0,0):(t.drawingContext.clearRect(0,0,t.width,t.height),u=new Uint8ClampedArray(t.width*t.height*4)),h(d,o);var f=new ImageData(u,t.width,t.height);t.drawingContext.putImageData(f,0,0);var m=p.delay;0===m&&(m=10),a.push({image:t.drawingContext.getImageData(0,0,t.width,t.height),delay:10*m})}var g=o.loopCount();null===g?g=1:0===g&&(g=null),t.drawingContext.putImageData(a[0].image,0,0),t.gifProperties={displayIndex:0,loopLimit:g,loopCount:0,frames:a,numFrames:c,playing:!0,timeDisplayed:0,lastChangeTime:0}}"function"==typeof r&&r(t),s()}(new Uint8Array(e),n,t,r,(function(e){s._decrementPreload()}).bind(s))},function(e){"function"==typeof r?r(e):console.error(e)});else{var c=new Image;c.onload=function(){n.width=n.canvas.width=c.width,n.height=n.canvas.height=c.height,n.drawingContext.drawImage(c,0,0),n.modified=!0,"function"==typeof t&&t(n),s._decrementPreload()},c.onerror=function(e){i.default._friendlyFileLoadError(0,c.src),"function"==typeof r?r(e):console.error(e)},0!==e.indexOf("data:image/")&&(c.crossOrigin="Anonymous"),c.src=e}n.modified=!0}).catch(function(t){i.default._friendlyFileLoadError(0,e),"function"==typeof r?r(t):console.error(t)}),n},i.default.prototype.image=function(e,t,r,n,s,a,l,c,u){i.default._validateParameters("image",arguments);var d=e.width,p=e.height;e.elt&&e.elt.videoWidth&&!e.canvas&&(d=e.elt.videoWidth,p=e.elt.videoHeight);var f=t,m=r,g=n||d,y=s||p,v=a||0,_=l||0,b=c||d,w=u||p;b=h(b,d),w=h(w,p);var x=1;e.elt&&!e.canvas&&e.elt.style.width&&(x=e.elt.videoWidth&&!n?e.elt.videoWidth:e.elt.width,x/=parseInt(e.elt.style.width,10)),v*=x,_*=x,w*=x,b*=x;var S=o.default.modeAdjust(f,m,g,y,this._renderer._imageMode);this._renderer.image(e,v,_,b,w,S.x,S.y,S.w,S.h)},i.default.prototype.tint=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i.default._validateParameters("tint",t);var n=this.color.apply(this,t);this._renderer._tint=n.levels},i.default.prototype.noTint=function(){this._renderer._tint=null},i.default.prototype._getTintedImageCanvas=function(e){if(!e.canvas)return e;var t=s.default._toPixels(e.canvas),r=document.createElement("canvas");r.width=e.canvas.width,r.height=e.canvas.height;for(var n=r.getContext("2d"),i=n.createImageData(e.canvas.width,e.canvas.height),o=i.data,a=0;a<t.length;a+=4){var l=t[a+1],c=t[a+2],u=t[a+3];o[a]=t[a]*this._renderer._tint[0]/255,o[a+1]=l*this._renderer._tint[1]/255,o[a+2]=c*this._renderer._tint[2]/255,o[a+3]=u*this._renderer._tint[3]/255}return n.putImageData(i,0,0),r},i.default.prototype.imageMode=function(e){i.default._validateParameters("imageMode",arguments),e!==a.CORNER&&e!==a.CORNERS&&e!==a.CENTER||(this._renderer._imageMode=e)},r.default=i.default},{"../core/constants":250,"../core/friendly_errors/fes_core":252,"../core/friendly_errors/file_errors":253,"../core/friendly_errors/validate_params":255,"../core/helpers":256,"../core/main":260,"./filters":281,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.promise":175,"core-js/modules/es.string.includes":182,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint8-array":223,"core-js/modules/es.typed-array.uint8-clamped-array":224,omggif:235}],284:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("../core/main")),i=s(e("./filters"));function s(e){return e&&e.__esModule?e:{default:e}}n.default.Image=function(e,t){this.width=e,this.height=t,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]},n.default.Image.prototype._animateGif=function(e){var t=this.gifProperties,r=e._lastFrameTime+e.deltaTime;if(0===t.lastChangeTime&&(t.lastChangeTime=r),t.playing){t.timeDisplayed=r-t.lastChangeTime;var n=t.frames[t.displayIndex].delay;if(t.timeDisplayed>=n){var i=Math.floor(t.timeDisplayed/n);if(t.timeDisplayed=0,t.lastChangeTime=r,t.displayIndex+=i,t.loopCount=Math.floor(t.displayIndex/t.numFrames),null!==t.loopLimit&&t.loopCount>=t.loopLimit)t.playing=!1;else{var s=t.displayIndex%t.numFrames;this.drawingContext.putImageData(t.frames[s].image,0,0),t.displayIndex=s,this.setModified(!0)}}}},n.default.Image.prototype._setProperty=function(e,t){this[e]=t,this.setModified(!0)},n.default.Image.prototype.loadPixels=function(){n.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},n.default.Image.prototype.updatePixels=function(e,t,r,i){n.default.Renderer2D.prototype.updatePixels.call(this,e,t,r,i),this.setModified(!0)},n.default.Image.prototype.get=function(e,t,r,i){return n.default._validateParameters("p5.Image.get",arguments),n.default.Renderer2D.prototype.get.apply(this,arguments)},n.default.Image.prototype._getPixel=n.default.Renderer2D.prototype._getPixel,n.default.Image.prototype.set=function(e,t,r){n.default.Renderer2D.prototype.set.call(this,e,t,r),this.setModified(!0)},n.default.Image.prototype.resize=function(e,t){0===e&&0===t?(e=this.canvas.width,t=this.canvas.height):0===e?e=this.canvas.width*t/this.canvas.height:0===t&&(t=this.canvas.height*e/this.canvas.width),e=Math.floor(e),t=Math.floor(t);var r=document.createElement("canvas");if(r.width=e,r.height=t,this.gifProperties)for(var n=this.gifProperties,i=function(e,t){for(var r=0,n=0;n<t.height;n++)for(var i=0;i<t.width;i++){var s=Math.floor(i*e.width/t.width),o=4*(Math.floor(n*e.height/t.height)*e.width+s);t.data[r++]=e.data[o++],t.data[r++]=e.data[o++],t.data[r++]=e.data[o++],t.data[r++]=e.data[o++]}},s=0;s<n.numFrames;s++){var o=this.drawingContext.createImageData(e,t);i(n.frames[s].image,o),n.frames[s].image=o}r.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,r.width,r.height),this.canvas.width=this.width=e,this.canvas.height=this.height=t,this.drawingContext.drawImage(r,0,0,e,t,0,0,e,t),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)},n.default.Image.prototype.copy=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.default.prototype.copy.apply(this,t)},n.default.Image.prototype.mask=function(e){void 0===e&&(e=this);var t=this.drawingContext.globalCompositeOperation,r=1;e instanceof n.default.Renderer&&(r=e._pInst._pixelDensity);var i=[e,0,0,r*e.width,r*e.height,0,0,this.width,this.height];this.drawingContext.globalCompositeOperation="destination-in",n.default.Image.prototype.copy.apply(this,i),this.drawingContext.globalCompositeOperation=t,this.setModified(!0)},n.default.Image.prototype.filter=function(e,t){i.default.apply(this.canvas,i.default[e],t),this.setModified(!0)},n.default.Image.prototype.blend=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.default._validateParameters("p5.Image.blend",arguments),n.default.prototype.blend.apply(this,t),this.setModified(!0)},n.default.Image.prototype.setModified=function(e){this._modified=e},n.default.Image.prototype.isModified=function(){return this._modified},n.default.Image.prototype.save=function(e,t){this.gifProperties?n.default.prototype.saveGif(this,e):n.default.prototype.saveCanvas(this.canvas,e,t)},n.default.Image.prototype.reset=function(){if(this.gifProperties){var e=this.gifProperties;e.playing=!0,e.timeSinceStart=0,e.timeDisplayed=0,e.lastChangeTime=0,e.loopCount=0,e.displayIndex=0,this.drawingContext.putImageData(e.frames[0].image,0,0)}},n.default.Image.prototype.getCurrentFrame=function(){if(this.gifProperties){var e=this.gifProperties;return e.displayIndex%e.numFrames}},n.default.Image.prototype.setFrame=function(e){if(this.gifProperties){var t=this.gifProperties;e<t.numFrames&&0<=e?(t.timeDisplayed=0,t.lastChangeTime=0,t.displayIndex=e,this.drawingContext.putImageData(t.frames[e].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero.")}},n.default.Image.prototype.numFrames=function(){if(this.gifProperties)return this.gifProperties.numFrames},n.default.Image.prototype.play=function(){this.gifProperties&&(this.gifProperties.playing=!0)},n.default.Image.prototype.pause=function(){this.gifProperties&&(this.gifProperties.playing=!1)},n.default.Image.prototype.delay=function(e,t){if(this.gifProperties){var r=this.gifProperties;if(t<r.numFrames&&0<=t)r.frames[t].delay=e;else{var n=!0,i=!1,s=void 0;try{for(var o,a=r.frames[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)o.value.delay=e}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}}}},r.default=n.default.Image},{"../core/main":260,"./filters":281,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],285:[function(e,t,r){"use strict";e("core-js/modules/es.array.filter"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("../core/main")),i=s(e("./filters"));function s(e){return e&&e.__esModule?e:{default:e}}e("../color/p5.Color"),n.default.prototype.pixels=[],n.default.prototype.blend=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i;n.default._validateParameters("blend",t),this._renderer?(i=this._renderer).blend.apply(i,t):n.default.Renderer2D.prototype.blend.apply(this,t)},n.default.prototype.copy=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,s,o,a,l,c,u,h,d;if(n.default._validateParameters("copy",t),9===t.length)i=t[0],s=t[1],o=t[2],a=t[3],l=t[4],c=t[5],u=t[6],h=t[7],d=t[8];else{if(8!==t.length)throw new Error("Signature not supported");i=this,s=t[0],o=t[1],a=t[2],l=t[3],c=t[4],u=t[5],h=t[6],d=t[7]}n.default.prototype._copyHelper(this,i,s,o,a,l,c,u,h,d)},n.default.prototype._copyHelper=function(e,t,r,i,s,o,a,l,c,u){t.loadPixels();var h=t.canvas.width/t.width,d=0,p=0;t._renderer&&t._renderer.isP3D&&(d=t.width/2,p=t.height/2),e._renderer&&e._renderer.isP3D?n.default.RendererGL.prototype.image.call(e._renderer,t,r+d,i+p,s,o,a,l,c,u):e.drawingContext.drawImage(t.canvas,h*(r+d),h*(i+p),h*s,h*o,a,l,c,u)},n.default.prototype.filter=function(e,t){n.default._validateParameters("filter",arguments),i.default.apply(void 0!==this.canvas?this.canvas:this.elt,i.default[e],t)},n.default.prototype.get=function(e,t,r,i){var s;return n.default._validateParameters("get",arguments),(s=this._renderer).get.apply(s,arguments)},n.default.prototype.loadPixels=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.default._validateParameters("loadPixels",t),this._renderer.loadPixels()},n.default.prototype.set=function(e,t,r){this._renderer.set(e,t,r)},n.default.prototype.updatePixels=function(e,t,r,i){n.default._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(e,t,r,i)},r.default=n.default},{"../color/p5.Color":248,"../core/main":260,"./filters":281,"core-js/modules/es.array.filter":151}],286:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(e("../core/main"));e("whatwg-fetch"),e("es6-promise/auto");var i=o(e("fetch-jsonp")),s=o(e("file-saver"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r={};if(void 0===(t=t||[]))for(var n=0;n<e.length;n++)t[n.toString()]=n;for(var i=0;i<t.length;i++)r[t[i]]=e[i];return r}function c(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function u(e,t){t&&!0!==t&&"true"!==t||(t="");var r="";return(e=e||"untitled")&&e.includes(".")&&(r=e.split(".").pop()),t&&r!==t&&(r=t,e="".concat(e,".").concat(r)),[e,r]}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),n.default.prototype.loadJSON=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.default._validateParameters("loadJSON",t);for(var i,s,o,l=t[0],c={},u="json",h=1;h<t.length;h++){var d=t[h];"string"==typeof d?"jsonp"!==d&&"json"!==d||(u=d):"function"==typeof d?i?s=d:i=d:"object"===a(d)&&(d.hasOwnProperty("jsonpCallback")||d.hasOwnProperty("jsonpCallbackFunction"))&&(u="jsonp",o=d)}var p=this;return this.httpDo(l,"GET",o,u,function(e){for(var t in e)c[t]=e[t];void 0!==i&&i(e),p._decrementPreload()},function(e){if(n.default._friendlyFileLoadError(5,l),!s)throw e;s(e)}),c},n.default.prototype.loadStrings=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.default._validateParameters("loadStrings",t);for(var i,s,o=[],a=1;a<t.length;a++){var l=t[a];"function"==typeof l&&(void 0===i?i=l:void 0===s&&(s=l))}var c=this;return n.default.prototype.httpDo.call(this,t[0],"GET","text",function(e){for(var t=e.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),r=0,n=t.length;r<n;r+=32768)Array.prototype.push.apply(o,t.slice(r,Math.min(r+32768,n)));void 0!==i&&i(o),c._decrementPreload()},function(e){if(n.default._friendlyFileLoadError(3,e),!s)throw e;s(e)}),o},n.default.prototype.loadTable=function(e){var t,r,i,s=[],o=!1,a=e.substring(e.lastIndexOf(".")+1,e.length);"csv"===a?i=",":"ssv"===a?i=";":"tsv"===a&&(i="\t");for(var c=1;c<arguments.length;c++)"function"==typeof arguments[c]?void 0===t?t=arguments[c]:void 0===r&&(r=arguments[c]):"string"==typeof arguments[c]&&(s.push(arguments[c]),"header"===arguments[c]&&(o=!0),"csv"===arguments[c]?i=",":"ssv"===arguments[c]?i=";":"tsv"===arguments[c]&&(i="\t"));var u=new n.default.Table,h=this;return this.httpDo(e,"GET","table",function(e){for(var r,s,a={},c=[],d=0,p=null,f=function(){a.currentState=0,a.token=""},m=function(){p.push(a.token),f()},g=function(){a.currentState=4,c.push(p),p=null};;){if(null==(r=e[d++])){if(a.escaped)throw new Error("Unclosed quote in file.");if(p){m(),g();break}}if(null===p&&(a.escaped=!1,p=[],f()),0===a.currentState){if('"'===r){a.escaped=!0,a.currentState=1;continue}a.currentState=1}if(1===a.currentState&&a.escaped)if('"'===r)'"'===e[d]?(a.token+='"',d++):(a.escaped=!1,a.currentState=2);else{if("\r"===r)continue;a.token+=r}else"\r"===r?("\n"===e[d]&&d++,m(),g()):"\n"===r?(m(),g()):r===i?m():1===a.currentState&&(a.token+=r)}if(o)u.columns=c.shift();else for(var y=0;y<c[0].length;y++)u.columns[y]="null";for(var v=0;v<c.length;v++)(1!==c[v].length||"undefined"!==c[v][0]&&""!==c[v][0])&&((s=new n.default.TableRow).arr=c[v],s.obj=l(c[v],u.columns),u.addRow(s));"function"==typeof t&&t(u),h._decrementPreload()},function(t){n.default._friendlyFileLoadError(2,e),r?r(t):console.error(t)}),u},n.default.prototype.loadXML=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var i,s,o=new n.default.XML,a=1;a<t.length;a++){var l=t[a];"function"==typeof l&&(void 0===i?i=l:void 0===s&&(s=l))}var c=this;return this.httpDo(t[0],"GET","xml",function(e){for(var t in e)o[t]=e[t];void 0!==i&&i(o),c._decrementPreload()},function(e){if(n.default._friendlyFileLoadError(1,e),!s)throw e;s(e)}),o},n.default.prototype.loadBytes=function(e,t,r){var i={},s=this;return this.httpDo(e,"GET","arrayBuffer",function(e){i.bytes=new Uint8Array(e),"function"==typeof t&&t(i),s._decrementPreload()},function(t){if(n.default._friendlyFileLoadError(6,e),!r)throw t;r(t)}),i},n.default.prototype.httpGet=function(){n.default._validateParameters("httpGet",arguments);var e=Array.prototype.slice.call(arguments);return e.splice(1,0,"GET"),n.default.prototype.httpDo.apply(this,e)},n.default.prototype.httpPost=function(){n.default._validateParameters("httpPost",arguments);var e=Array.prototype.slice.call(arguments);return e.splice(1,0,"POST"),n.default.prototype.httpDo.apply(this,e)},n.default.prototype.httpDo=function(){for(var e,t,r,s,o,l={},c=0,u="text/plain",h=arguments.length-1;0<h&&"function"==typeof(h<0||arguments.length<=h?void 0:arguments[h]);h--)c++;var d=arguments.length<=0?void 0:arguments[0];if(2==arguments.length-c&&"string"==typeof d&&"object"===a(arguments.length<=1?void 0:arguments[1]))s=new Request(d,arguments.length<=1?void 0:arguments[1]),t=arguments.length<=2?void 0:arguments[2],r=arguments.length<=3?void 0:arguments[3];else{for(var p,f="GET",m=1;m<arguments.length;m++){var g=m<0||arguments.length<=m?void 0:arguments[m];if("string"==typeof g)"GET"===g||"POST"===g||"PUT"===g||"DELETE"===g?f=g:"json"===g||"jsonp"===g||"binary"===g||"arrayBuffer"===g||"xml"===g||"text"===g||"table"===g?e=g:p=g;else if("number"==typeof g)p=g.toString();else if("object"===a(g))if(g.hasOwnProperty("jsonpCallback")||g.hasOwnProperty("jsonpCallbackFunction"))for(var y in g)l[y]=g[y];else u=g instanceof n.default.XML?(p=g.serialize(),"application/xml"):(p=JSON.stringify(g),"application/json");else"function"==typeof g&&(t?r=g:t=g)}var v="GET"===f?new Headers:new Headers({"Content-Type":u});s=new Request(d,{method:f,mode:"cors",body:p,headers:v})}return(o=(o="jsonp"===(e=e||(d.includes("json")?"json":d.includes("xml")?"xml":"text"))?(0,i.default)(d,l):fetch(s)).then(function(t){if(!t.ok){var r=new Error(t.body);throw r.status=t.status,r.ok=!1,r}var i=0;switch("jsonp"!==e&&(i=t.headers.get("content-length")),i&&64e6<i&&n.default._friendlyFileLoadError(7,d),e){case"json":case"jsonp":return t.json();case"binary":return t.blob();case"arrayBuffer":return t.arrayBuffer();case"xml":return t.text().then(function(e){var t=(new DOMParser).parseFromString(e,"text/xml");return new n.default.XML(t.documentElement)});default:return t.text()}})).then(t||function(){}),o.catch(r||console.error),o},window.URL=window.URL||window.webkitURL,n.default.prototype._pWriters=[],n.default.prototype.createWriter=function(e,t){var r;for(var i in n.default.prototype._pWriters)if(n.default.prototype._pWriters[i].name===e)return r=new n.default.PrintWriter(e+this.millis(),t),n.default.prototype._pWriters.push(r),r;return r=new n.default.PrintWriter(e,t),n.default.prototype._pWriters.push(r),r},n.default.PrintWriter=function(e,t){var r=this;this.name=e,this.content="",this.write=function(e){this.content+=e},this.print=function(e){this.content+="".concat(e,"\n")},this.clear=function(){this.content=""},this.close=function(){var i=[];for(var s in i.push(this.content),n.default.prototype.writeFile(i,e,t),n.default.prototype._pWriters)n.default.prototype._pWriters[s].name===this.name&&n.default.prototype._pWriters.splice(s,1);r.clear(),r={}}},n.default.prototype.save=function(e,t,r){var i=arguments,s=this._curElement?this._curElement.elt:this.elt;if(0!==i.length)if(i[0]instanceof n.default.Renderer||i[0]instanceof n.default.Graphics)n.default.prototype.saveCanvas(i[0].elt,i[1],i[2]);else if(1===i.length&&"string"==typeof i[0])n.default.prototype.saveCanvas(s,i[0]);else switch(u(i[1],i[2])[1]){case"json":return void n.default.prototype.saveJSON(i[0],i[1],i[2]);case"txt":return void n.default.prototype.saveStrings(i[0],i[1],i[2]);default:i[0]instanceof Array?n.default.prototype.saveStrings(i[0],i[1],i[2]):i[0]instanceof n.default.Table?n.default.prototype.saveTable(i[0],i[1],i[2]):i[0]instanceof n.default.Image?n.default.prototype.saveCanvas(i[0].canvas,i[1]):i[0]instanceof n.default.SoundFile&&n.default.prototype.saveSound(i[0],i[1],i[2],i[3])}else n.default.prototype.saveCanvas(s)},n.default.prototype.saveJSON=function(e,t,r){var i;n.default._validateParameters("saveJSON",arguments),i=r?JSON.stringify(e):JSON.stringify(e,void 0,2),this.saveStrings(i.split("\n"),t,"json")},n.default.prototype.saveJSONObject=n.default.prototype.saveJSON,n.default.prototype.saveJSONArray=n.default.prototype.saveJSON,n.default.prototype.saveStrings=function(e,t,r,i){n.default._validateParameters("saveStrings",arguments);for(var s=this.createWriter(t,r||"txt"),o=0;o<e.length;o++)s.write(i?e[o]+"\r\n":e[o]+"\n");s.close(),s.clear()},n.default.prototype.saveTable=function(e,t,r){var i;n.default._validateParameters("saveTable",arguments),i=void 0===r?t.substring(t.lastIndexOf(".")+1,t.length):r;var s=this.createWriter(t,i),o=e.columns,a=",";if("tsv"===i&&(a="\t"),"html"!==i){if("0"!==o[0]){for(var l=0;l<o.length;l++)s.write(l<o.length-1?o[l]+a:o[l]);s.write("\n")}for(var u=0;u<e.rows.length;u++){var h=void 0;for(h=0;h<e.rows[u].arr.length;h++)h<e.rows[u].arr.length-1?"csv"===i&&String(e.rows[u].arr[h]).includes(",")?s.write('"'+e.rows[u].arr[h]+'"'+a):s.write(e.rows[u].arr[h]+a):"csv"===i&&String(e.rows[u].arr[h]).includes(",")?s.write('"'+e.rows[u].arr[h]+'"'):s.write(e.rows[u].arr[h]);s.write("\n")}}else{if(s.print("<html>"),s.print("<head>"),s.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),s.print("</head>"),s.print("<body>"),s.print("  <table>"),"0"!==o[0]){s.print("    <tr>");for(var d=0;d<o.length;d++){var p=c(o[d]);s.print("      <td>".concat(p)),s.print("      </td>")}s.print("    </tr>")}for(var f=0;f<e.rows.length;f++){s.print("    <tr>");for(var m=0;m<e.columns.length;m++){var g=c(e.rows[f].getString(m));s.print("      <td>".concat(g)),s.print("      </td>")}s.print("    </tr>")}s.print("  </table>"),s.print("</body>"),s.print("</html>")}s.close(),s.clear()},n.default.prototype.writeFile=function(e,t,r){var i="application/octet-stream";n.default.prototype._isSafari()&&(i="text/plain");var s=new Blob(e,{type:i});n.default.prototype.downloadFile(s,t,r)},n.default.prototype.downloadFile=function(e,t,r){var i=u(t,r),o=i[0];if(e instanceof Blob)s.default.saveAs(e,o);else{var a=document.createElement("a");if(a.href=e,a.download=o,a.onclick=function(e){document.body.removeChild(e.target),e.stopPropagation()},a.style.display="none",document.body.appendChild(a),n.default.prototype._isSafari()){var l="Hello, Safari user! To download this file...\n";l+="1. Go to File --\x3e Save As.\n",l+='2. Choose "Page Source" as the Format.\n',l+='3. Name it with this extension: ."'.concat(i[1],'"'),alert(l)}a.click()}},n.default.prototype._checkFileExtension=u,n.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},r.default=n.default},{"../core/friendly_errors/fes_core":252,"../core/friendly_errors/file_errors":253,"../core/friendly_errors/validate_params":255,"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.last-index-of":158,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.splice":162,"core-js/modules/es.function.name":163,"core-js/modules/es.object.to-string":174,"core-js/modules/es.promise":175,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.includes":182,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.split":188,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint8-array":223,"core-js/modules/web.dom-collections.iterator":226,"core-js/modules/web.url":228,"es6-promise/auto":229,"fetch-jsonp":231,"file-saver":232,"whatwg-fetch":239}],287:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.trim"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};i.default.Table=function(e){this.columns=[],this.rows=[]},i.default.Table.prototype.addRow=function(e){var t=e||new i.default.TableRow;if(void 0===t.arr||void 0===t.obj)throw new Error("invalid TableRow: ".concat(t));return(t.table=this).rows.push(t),t},i.default.Table.prototype.removeRow=function(e){this.rows[e].table=null;var t=this.rows.splice(e+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(t)},i.default.Table.prototype.getRow=function(e){return this.rows[e]},i.default.Table.prototype.getRows=function(){return this.rows},i.default.Table.prototype.findRow=function(e,t){if("string"==typeof t){for(var r=0;r<this.rows.length;r++)if(this.rows[r].obj[t]===e)return this.rows[r]}else for(var n=0;n<this.rows.length;n++)if(this.rows[n].arr[t]===e)return this.rows[n];return null},i.default.Table.prototype.findRows=function(e,t){var r=[];if("string"==typeof t)for(var n=0;n<this.rows.length;n++)this.rows[n].obj[t]===e&&r.push(this.rows[n]);else for(var i=0;i<this.rows.length;i++)this.rows[i].arr[t]===e&&r.push(this.rows[i]);return r},i.default.Table.prototype.matchRow=function(e,t){if("number"==typeof t){for(var r=0;r<this.rows.length;r++)if(this.rows[r].arr[t].match(e))return this.rows[r]}else for(var n=0;n<this.rows.length;n++)if(this.rows[n].obj[t].match(e))return this.rows[n];return null},i.default.Table.prototype.matchRows=function(e,t){var r=[];if("number"==typeof t)for(var n=0;n<this.rows.length;n++)this.rows[n].arr[t].match(e)&&r.push(this.rows[n]);else for(var i=0;i<this.rows.length;i++)this.rows[i].obj[t].match(e)&&r.push(this.rows[i]);return r},i.default.Table.prototype.getColumn=function(e){var t=[];if("string"==typeof e)for(var r=0;r<this.rows.length;r++)t.push(this.rows[r].obj[e]);else for(var n=0;n<this.rows.length;n++)t.push(this.rows[n].arr[e]);return t},i.default.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},i.default.Table.prototype.addColumn=function(e){this.columns.push(e||null)},i.default.Table.prototype.getColumnCount=function(){return this.columns.length},i.default.Table.prototype.getRowCount=function(){return this.rows.length},i.default.Table.prototype.removeTokens=function(e,t){for(var r=[],n=0;n<e.length;n++)r.push(e.charAt(n).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var i=new RegExp(r.join("|"),"g");if(void 0===t)for(var s=0;s<this.columns.length;s++)for(var o=0;o<this.rows.length;o++){var a=this.rows[o].arr[s];a=a.replace(i,""),this.rows[o].arr[s]=a,this.rows[o].obj[this.columns[s]]=a}else if("string"==typeof t)for(var l=0;l<this.rows.length;l++){var c=this.rows[l].obj[t];c=c.replace(i,""),this.rows[l].obj[t]=c;var u=this.columns.indexOf(t);this.rows[l].arr[u]=c}else for(var h=0;h<this.rows.length;h++){var d=this.rows[h].arr[t];d=d.replace(i,""),this.rows[h].arr[t]=d,this.rows[h].obj[this.columns[t]]=d}},i.default.Table.prototype.trim=function(e){var t=new RegExp(" ","g");if(void 0===e)for(var r=0;r<this.columns.length;r++)for(var n=0;n<this.rows.length;n++){var i=this.rows[n].arr[r];i=i.replace(t,""),this.rows[n].arr[r]=i,this.rows[n].obj[this.columns[r]]=i}else if("string"==typeof e)for(var s=0;s<this.rows.length;s++){var o=this.rows[s].obj[e];o=o.replace(t,""),this.rows[s].obj[e]=o;var a=this.columns.indexOf(e);this.rows[s].arr[a]=o}else for(var l=0;l<this.rows.length;l++){var c=this.rows[l].arr[e];c=c.replace(t,""),this.rows[l].arr[e]=c,this.rows[l].obj[this.columns[e]]=c}},i.default.Table.prototype.removeColumn=function(e){var t,r;"string"==typeof e?(t=e,r=this.columns.indexOf(e)):(r=e,t=this.columns[e]);var n=this.columns.splice(r+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(n);for(var i=0;i<this.rows.length;i++){var s=this.rows[i].arr,o=s.splice(r+1,s.length);s.pop(),this.rows[i].arr=s.concat(o),delete this.rows[i].obj[t]}},i.default.Table.prototype.set=function(e,t,r){this.rows[e].set(t,r)},i.default.Table.prototype.setNum=function(e,t,r){this.rows[e].setNum(t,r)},i.default.Table.prototype.setString=function(e,t,r){this.rows[e].setString(t,r)},i.default.Table.prototype.get=function(e,t){return this.rows[e].get(t)},i.default.Table.prototype.getNum=function(e,t){return this.rows[e].getNum(t)},i.default.Table.prototype.getString=function(e,t){return this.rows[e].getString(t)},i.default.Table.prototype.getObject=function(e){for(var t,r={},n=0;n<this.rows.length;n++)if(t=this.rows[n].obj,"string"==typeof e){if(!(0<=this.columns.indexOf(e)))throw new Error('This table has no column named "'.concat(e,'"'));r[t[e]]=t}else r[n]=this.rows[n].obj;return r},i.default.Table.prototype.getArray=function(){for(var e=[],t=0;t<this.rows.length;t++)e.push(this.rows[t].arr);return e},r.default=i.default},{"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.join":157,"core-js/modules/es.array.splice":162,"core-js/modules/es.regexp.constructor":177,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.match":184,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.trim":190}],288:[function(e,t,r){"use strict";e("core-js/modules/es.array.index-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};i.default.TableRow=function(e,t){var r=[],n={};e&&(r=e.split(t=t||","));for(var i=0;i<r.length;i++)n[i]=r[i];this.arr=r,this.obj=n,this.table=null},i.default.TableRow.prototype.set=function(e,t){if("string"==typeof e){var r=this.table.columns.indexOf(e);if(!(0<=r))throw new Error('This table has no column named "'.concat(e,'"'));this.obj[e]=t,this.arr[r]=t}else{if(!(e<this.table.columns.length))throw new Error("Column #".concat(e," is out of the range of this table"));this.arr[e]=t,this.obj[this.table.columns[e]]=t}},i.default.TableRow.prototype.setNum=function(e,t){var r=parseFloat(t);this.set(e,r)},i.default.TableRow.prototype.setString=function(e,t){var r=t.toString();this.set(e,r)},i.default.TableRow.prototype.get=function(e){return"string"==typeof e?this.obj[e]:this.arr[e]},i.default.TableRow.prototype.getNum=function(e){var t;if("NaN"===(t="string"==typeof e?parseFloat(this.obj[e]):parseFloat(this.arr[e])).toString())throw"Error: ".concat(this.obj[e]," is NaN (Not a Number)");return t},i.default.TableRow.prototype.getString=function(e){return"string"==typeof e?this.obj[e].toString():this.arr[e].toString()},r.default=i.default},{"../core/main":260,"core-js/modules/es.array.index-of":155,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.split":188}],289:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};i.default.XML=function(e){if(e)this.DOM=e;else{var t=document.implementation.createDocument(null,"doc");this.DOM=t.createElement("root")}},i.default.XML.prototype.getParent=function(){return new i.default.XML(this.DOM.parentElement)},i.default.XML.prototype.getName=function(){return this.DOM.tagName},i.default.XML.prototype.setName=function(e){var t=this.DOM.innerHTML,r=this.DOM.attributes,n=document.implementation.createDocument(null,"default").createElement(e);n.innerHTML=t;for(var i=0;i<r.length;i++)n.setAttribute(r[i].nodeName,r.nodeValue);this.DOM=n},i.default.XML.prototype.hasChildren=function(){return 0<this.DOM.children.length},i.default.XML.prototype.listChildren=function(){for(var e=[],t=0;t<this.DOM.childNodes.length;t++)e.push(this.DOM.childNodes[t].nodeName);return e},i.default.XML.prototype.getChildren=function(e){return function(e){for(var t=[],r=0;r<e.length;r++)t.push(new i.default.XML(e[r]));return t}(e?this.DOM.getElementsByTagName(e):this.DOM.children)},i.default.XML.prototype.getChild=function(e){if("string"!=typeof e)return new i.default.XML(this.DOM.children[e]);var t=!0,r=!1,n=void 0;try{for(var s,o=this.DOM.children[Symbol.iterator]();!(t=(s=o.next()).done);t=!0){var a=s.value;if(a.tagName===e)return new i.default.XML(a)}}catch(e){r=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}},i.default.XML.prototype.addChild=function(e){e instanceof i.default.XML&&this.DOM.appendChild(e.DOM)},i.default.XML.prototype.removeChild=function(e){var t=-1;if("string"==typeof e){for(var r=0;r<this.DOM.children.length;r++)if(this.DOM.children[r].tagName===e){t=r;break}}else t=e;-1!==t&&this.DOM.removeChild(this.DOM.children[t])},i.default.XML.prototype.getAttributeCount=function(){return this.DOM.attributes.length},i.default.XML.prototype.listAttributes=function(){var e=[],t=!0,r=!1,n=void 0;try{for(var i,s=this.DOM.attributes[Symbol.iterator]();!(t=(i=s.next()).done);t=!0)e.push(i.value.nodeName)}catch(e){r=!0,n=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw n}}return e},i.default.XML.prototype.hasAttribute=function(e){var t={},r=!0,n=!1,i=void 0;try{for(var s,o=this.DOM.attributes[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var a=s.value;t[a.nodeName]=a.nodeValue}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return!!t[e]},i.default.XML.prototype.getNum=function(e,t){var r={},n=!0,i=!1,s=void 0;try{for(var o,a=this.DOM.attributes[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;r[l.nodeName]=l.nodeValue}}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return Number(r[e])||t||0},i.default.XML.prototype.getString=function(e,t){var r={},n=!0,i=!1,s=void 0;try{for(var o,a=this.DOM.attributes[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;r[l.nodeName]=l.nodeValue}}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r[e]?String(r[e]):t||null},i.default.XML.prototype.setAttribute=function(e,t){this.DOM.setAttribute(e,t)},i.default.XML.prototype.getContent=function(e){return this.DOM.textContent.replace(/\s\s+/g,",")||e||null},i.default.XML.prototype.setContent=function(e){this.DOM.children.length||(this.DOM.textContent=e)},i.default.XML.prototype.serialize=function(){return(new XMLSerializer).serializeToString(this.DOM)},r.default=i.default},{"../core/main":260,"core-js/modules/es.array.iterator":156,"core-js/modules/es.number.constructor":167,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.replace":186,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],290:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.string.includes"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};function s(){if("function"==typeof Math.hypot)return Math.hypot.apply(null,arguments);for(var e=arguments.length,t=[],r=0,n=0;n<e;n++){var i=arguments[n];if((i=+i)==1/0||i===-1/0)return 1/0;r<(i=Math.abs(i))&&(r=i),t[n]=i}0===r&&(r=1);for(var s=0,o=0,a=0;a<e;a++){var l=t[a]/r,c=l*l-o,u=s+c;o=u-s-c,s=u}return Math.sqrt(s)*r}i.default.prototype.abs=Math.abs,i.default.prototype.ceil=Math.ceil,i.default.prototype.constrain=function(e,t,r){return i.default._validateParameters("constrain",arguments),Math.max(Math.min(e,r),t)},i.default.prototype.dist=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return i.default._validateParameters("dist",t),4===t.length?s(t[2]-t[0],t[3]-t[1]):6===t.length?s(t[3]-t[0],t[4]-t[1],t[5]-t[2]):void 0},i.default.prototype.exp=Math.exp,i.default.prototype.floor=Math.floor,i.default.prototype.lerp=function(e,t,r){return i.default._validateParameters("lerp",arguments),r*(t-e)+e},i.default.prototype.log=Math.log,i.default.prototype.mag=function(e,t){return i.default._validateParameters("mag",arguments),s(e,t)},i.default.prototype.map=function(e,t,r,n,s,o){i.default._validateParameters("map",arguments);var a=(e-t)/(r-t)*(s-n)+n;return o?n<s?this.constrain(a,n,s):this.constrain(a,s,n):a},i.default.prototype.max=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t[0]instanceof Array?Math.max.apply(null,t[0]):Math.max.apply(null,t)},i.default.prototype.min=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t[0]instanceof Array?Math.min.apply(null,t[0]):Math.min.apply(null,t)},i.default.prototype.norm=function(e,t,r){return i.default._validateParameters("norm",arguments),this.map(e,t,r,0,1)},i.default.prototype.pow=Math.pow,i.default.prototype.round=function(e,t){return t?Number(Math.round(e+"e"+t)+"e-"+t):Math.round(e)},i.default.prototype.sq=function(e){return e*e},i.default.prototype.sqrt=Math.sqrt,i.default.prototype.fract=function(e){i.default._validateParameters("fract",arguments);var t=0,r=Number(e);if(isNaN(r)||Math.abs(r)===1/0)return r;if(r<0&&(r=-r,t=1),!String(r).includes(".")||String(r).includes("e"))return r<1?Math.abs(t-r):0;var n=String(r);return n=Number("0"+n.slice(n.indexOf("."))),Math.abs(t-n)},r.default=i.default},{"../core/main":260,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.math.hypot":165,"core-js/modules/es.number.constructor":167,"core-js/modules/es.string.includes":182}],291:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};i.default.prototype.createVector=function(e,t,r){return this instanceof i.default?new i.default.Vector(this,arguments):new i.default.Vector(e,t,r)},r.default=i.default},{"../core/main":260}],292:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};function s(e){return.5*(1-Math.cos(e*Math.PI))}var o,a=4095,l=4,c=.5;i.default.prototype.noise=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==o){o=new Array(4096);for(var n=0;n<4096;n++)o[n]=Math.random()}e<0&&(e=-e),t<0&&(t=-t),r<0&&(r=-r);for(var i,u,h,d,p,f=Math.floor(e),m=Math.floor(t),g=Math.floor(r),y=e-f,v=t-m,_=r-g,b=0,w=.5,x=0;x<l;x++){var S=f+(m<<4)+(g<<8);i=s(y),u=s(v),h=o[S&a],h+=i*(o[S+1&a]-h),d=o[S+16&a],h+=u*((d+=i*(o[S+16+1&a]-d))-h),d=o[(S+=256)&a],d+=i*(o[S+1&a]-d),p=o[S+16&a],d+=u*((p+=i*(o[S+16+1&a]-p))-d),b+=(h+=s(_)*(d-h))*w,w*=c,f<<=1,m<<=1,g<<=1,1<=(y*=2)&&(f++,y--),1<=(v*=2)&&(m++,v--),1<=(_*=2)&&(g++,_--)}return b},i.default.prototype.noiseDetail=function(e,t){0<e&&(l=e),0<t&&(c=t)},i.default.prototype.noiseSeed=function(e){var t,r,n,i=(n=4294967296,{setSeed:function(e){r=t=(null==e?Math.random()*n:e)>>>0},getSeed:function(){return t},rand:function(){return(r=(1664525*r+1013904223)%n)/n}});i.setSeed(e),o=new Array(4096);for(var s=0;s<4096;s++)o[s]=i.rand()},r.default=i.default},{"../core/main":260}],293:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.number.is-finite"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.sub"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=(i=e("../core/main"))&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function l(e,t){return 0!==e&&(this.x=this.x%e),0!==t&&(this.y=this.y%t),this}function c(e,t,r){return 0!==e&&(this.x=this.x%e),0!==t&&(this.y=this.y%t),0!==r&&(this.z=this.z%r),this}s.default.Vector=function(e,t,r){var n,i,o;o=e instanceof s.default?(this.p5=e,n=t[0]||0,i=t[1]||0,t[2]||0):(n=e||0,i=t||0,r||0),this.x=n,this.y=i,this.z=o},s.default.Vector.prototype.toString=function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")},s.default.Vector.prototype.set=function(e,t,r){return e instanceof s.default.Vector?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0):e instanceof Array?(this.x=e[0]||0,this.y=e[1]||0,this.z=e[2]||0):(this.x=e||0,this.y=t||0,this.z=r||0),this},s.default.Vector.prototype.copy=function(){return this.p5?new s.default.Vector(this.p5,[this.x,this.y,this.z]):new s.default.Vector(this.x,this.y,this.z)},s.default.Vector.prototype.add=function(e,t,r){return e instanceof s.default.Vector?(this.x+=e.x||0,this.y+=e.y||0,this.z+=e.z||0):e instanceof Array?(this.x+=e[0]||0,this.y+=e[1]||0,this.z+=e[2]||0):(this.x+=e||0,this.y+=t||0,this.z+=r||0),this},s.default.Vector.prototype.rem=function(e,t,r){if(e instanceof s.default.Vector){if(Number.isFinite(e.x)&&Number.isFinite(e.y)&&Number.isFinite(e.z)){var n=parseFloat(e.x),i=parseFloat(e.y),o=parseFloat(e.z);c.call(this,n,i,o)}}else if(e instanceof Array)e.every(function(e){return Number.isFinite(e)})&&(2===e.length&&l.call(this,e[0],e[1]),3===e.length&&c.call(this,e[0],e[1],e[2]));else if(1===arguments.length){if(Number.isFinite(e)&&0!==e)return this.x=this.x%e,this.y=this.y%e,this.z=this.z%e,this}else if(2===arguments.length){var a=Array.prototype.slice.call(arguments);a.every(function(e){return Number.isFinite(e)})&&2===a.length&&l.call(this,a[0],a[1])}else if(3===arguments.length){var u=Array.prototype.slice.call(arguments);u.every(function(e){return Number.isFinite(e)})&&3===u.length&&c.call(this,u[0],u[1],u[2])}},s.default.Vector.prototype.sub=function(e,t,r){return e instanceof s.default.Vector?(this.x-=e.x||0,this.y-=e.y||0,this.z-=e.z||0):e instanceof Array?(this.x-=e[0]||0,this.y-=e[1]||0,this.z-=e[2]||0):(this.x-=e||0,this.y-=t||0,this.z-=r||0),this},s.default.Vector.prototype.mult=function(e,t,r){if(e instanceof s.default.Vector)return Number.isFinite(e.x)&&Number.isFinite(e.y)&&Number.isFinite(e.z)&&"number"==typeof e.x&&"number"==typeof e.y&&"number"==typeof e.z?(this.x*=e.x,this.y*=e.y,this.z*=e.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"),this;if(e instanceof Array)return e.every(function(e){return Number.isFinite(e)})&&e.every(function(e){return"number"==typeof e})?1===e.length?(this.x*=e[0],this.y*=e[0],this.z*=e[0]):2===e.length?(this.x*=e[0],this.y*=e[1]):3===e.length&&(this.x*=e[0],this.y*=e[1],this.z*=e[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"),this;var n=Array.prototype.slice.call(arguments);return n.every(function(e){return Number.isFinite(e)})&&n.every(function(e){return"number"==typeof e})?(1===arguments.length&&(this.x*=e,this.y*=e,this.z*=e),2===arguments.length&&(this.x*=e,this.y*=t),3===arguments.length&&(this.x*=e,this.y*=t,this.z*=r)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this},s.default.Vector.prototype.div=function(e,t,r){if(e instanceof s.default.Vector){if(Number.isFinite(e.x)&&Number.isFinite(e.y)&&Number.isFinite(e.z)&&"number"==typeof e.x&&"number"==typeof e.y&&"number"==typeof e.z){if(0===e.x||0===e.y||0===e.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=e.x,this.y/=e.y,this.z/=e.z}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}if(e instanceof Array){if(e.every(function(e){return Number.isFinite(e)})&&e.every(function(e){return"number"==typeof e})){if(e.some(function(e){return 0===e}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===e.length?(this.x/=e[0],this.y/=e[0],this.z/=e[0]):2===e.length?(this.x/=e[0],this.y/=e[1]):3===e.length&&(this.x/=e[0],this.y/=e[1],this.z/=e[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}var n=Array.prototype.slice.call(arguments);if(n.every(function(e){return Number.isFinite(e)})&&n.every(function(e){return"number"==typeof e})){if(n.some(function(e){return 0===e}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===arguments.length&&(this.x/=e,this.y/=e,this.z/=e),2===arguments.length&&(this.x/=e,this.y/=t),3===arguments.length&&(this.x/=e,this.y/=t,this.z/=r)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this},s.default.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},s.default.Vector.prototype.magSq=function(){var e=this.x,t=this.y,r=this.z;return e*e+t*t+r*r},s.default.Vector.prototype.dot=function(e,t,r){return e instanceof s.default.Vector?this.dot(e.x,e.y,e.z):this.x*(e||0)+this.y*(t||0)+this.z*(r||0)},s.default.Vector.prototype.cross=function(e){var t=this.y*e.z-this.z*e.y,r=this.z*e.x-this.x*e.z,n=this.x*e.y-this.y*e.x;return this.p5?new s.default.Vector(this.p5,[t,r,n]):new s.default.Vector(t,r,n)},s.default.Vector.prototype.dist=function(e){return e.copy().sub(this).mag()},s.default.Vector.prototype.normalize=function(){var e=this.mag();return 0!==e&&this.mult(1/e),this},s.default.Vector.prototype.limit=function(e){var t=this.magSq();return e*e<t&&this.div(Math.sqrt(t)).mult(e),this},s.default.Vector.prototype.setMag=function(e){return this.normalize().mult(e)},s.default.Vector.prototype.heading=function(){var e=Math.atan2(this.y,this.x);return this.p5?this.p5._fromRadians(e):e},s.default.Vector.prototype.setHeading=function(e){var t=this.mag();return this.x=t*Math.cos(e),this.y=t*Math.sin(e),this},s.default.Vector.prototype.rotate=function(e){var t=this.heading()+e;this.p5&&(t=this.p5._toRadians(t));var r=this.mag();return this.x=Math.cos(t)*r,this.y=Math.sin(t)*r,this},s.default.Vector.prototype.angleBetween=function(e){var t,r=this.dot(e)/(this.mag()*e.mag());return t=Math.acos(Math.min(1,Math.max(-1,r))),t*=Math.sign(this.cross(e).z||1),this.p5&&(t=this.p5._fromRadians(t)),t},s.default.Vector.prototype.lerp=function(e,t,r,n){return e instanceof s.default.Vector?this.lerp(e.x,e.y,e.z,t):(this.x+=(e-this.x)*n||0,this.y+=(t-this.y)*n||0,this.z+=(r-this.z)*n||0,this)},s.default.Vector.prototype.reflect=function(e){return e.normalize(),this.sub(e.mult(2*this.dot(e)))},s.default.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},s.default.Vector.prototype.equals=function(e,t,r){var n,i,o;return o=e instanceof s.default.Vector?(n=e.x||0,i=e.y||0,e.z||0):e instanceof Array?(n=e[0]||0,i=e[1]||0,e[2]||0):(n=e||0,i=t||0,r||0),this.x===n&&this.y===i&&this.z===o},s.default.Vector.fromAngle=function(e,t){return void 0===t&&(t=1),new s.default.Vector(t*Math.cos(e),t*Math.sin(e),0)},s.default.Vector.fromAngles=function(e,t,r){void 0===r&&(r=1);var n=Math.cos(t),i=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return new s.default.Vector(r*a*i,-r*o,r*a*n)},s.default.Vector.random2D=function(){return this.fromAngle(Math.random()*o.TWO_PI)},s.default.Vector.random3D=function(){var e=Math.random()*o.TWO_PI,t=2*Math.random()-1,r=Math.sqrt(1-t*t),n=r*Math.cos(e),i=r*Math.sin(e);return new s.default.Vector(n,i,t)},s.default.Vector.add=function(e,t,r){return r?r.set(e):(r=e.copy(),3===arguments.length&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),r.add(t),r},s.default.Vector.rem=function(e,t){if(e instanceof s.default.Vector&&t instanceof s.default.Vector){var r=e.copy();return r.rem(t),r}},s.default.Vector.sub=function(e,t,r){return r?r.set(e):(r=e.copy(),3===arguments.length&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),r.sub(t),r},s.default.Vector.mult=function(e,t,r){return r?r.set(e):(r=e.copy(),3===arguments.length&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),r.mult(t),r},s.default.Vector.rotate=function(e,t,r){return 2===arguments.length?r=e.copy():(r instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),r.set(e)),r.rotate(t),r},s.default.Vector.div=function(e,t,r){return r?r.set(e):(r=e.copy(),3===arguments.length&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),r.div(t),r},s.default.Vector.dot=function(e,t){return e.dot(t)},s.default.Vector.cross=function(e,t){return e.cross(t)},s.default.Vector.dist=function(e,t){return e.dist(t)},s.default.Vector.lerp=function(e,t,r,n){return n?n.set(e):(n=e.copy(),4===arguments.length&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),n.lerp(t,r),n},s.default.Vector.mag=function(e){var t=e.x,r=e.y,n=e.z;return Math.sqrt(t*t+r*r+n*n)},s.default.Vector.normalize=function(e,t){return arguments.length<2?t=e.copy():(t instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),t.set(e)),t.normalize()},r.default=s.default.Vector},{"../core/constants":250,"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.every":149,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.some":161,"core-js/modules/es.math.sign":166,"core-js/modules/es.number.constructor":167,"core-js/modules/es.number.is-finite":168,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.sub":189}],294:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n},s="_lcg_random_state",o=4294967296,a=0;i.default.prototype._lcg=function(e){return this[e]=(1664525*this[e]+1013904223)%o,this[e]/o},i.default.prototype._lcgSetSeed=function(e,t){this[e]=(null==t?Math.random()*o:t)>>>0},i.default.prototype.randomSeed=function(e){this._lcgSetSeed(s,e),this._gaussian_previous=!1},i.default.prototype.random=function(e,t){var r;if(i.default._validateParameters("random",arguments),r=null!=this[s]?this._lcg(s):Math.random(),void 0===e)return r;if(void 0===t)return e instanceof Array?e[Math.floor(r*e.length)]:r*e;if(t<e){var n=e;e=t,t=n}return r*(t-e)+e},i.default.prototype.randomGaussian=function(e){var t,r,n,i,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(this._gaussian_previous)t=a,this._gaussian_previous=!1;else{for(;1<=(i=(r=this.random(2)-1)*r+(n=this.random(2)-1)*n););t=r*(i=Math.sqrt(-2*Math.log(i)/i)),a=n*i,this._gaussian_previous=!0}return t*s+(e||0)},r.default=i.default},{"../core/main":260}],295:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=(i=e("../core/main"))&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}s.default.prototype._angleMode=o.RADIANS,s.default.prototype.acos=function(e){return this._fromRadians(Math.acos(e))},s.default.prototype.asin=function(e){return this._fromRadians(Math.asin(e))},s.default.prototype.atan=function(e){return this._fromRadians(Math.atan(e))},s.default.prototype.atan2=function(e,t){return this._fromRadians(Math.atan2(e,t))},s.default.prototype.cos=function(e){return Math.cos(this._toRadians(e))},s.default.prototype.sin=function(e){return Math.sin(this._toRadians(e))},s.default.prototype.tan=function(e){return Math.tan(this._toRadians(e))},s.default.prototype.degrees=function(e){return e*o.RAD_TO_DEG},s.default.prototype.radians=function(e){return e*o.DEG_TO_RAD},s.default.prototype.angleMode=function(e){e!==o.DEGREES&&e!==o.RADIANS||(this._angleMode=e)},s.default.prototype._toRadians=function(e){return this._angleMode===o.DEGREES?e*o.DEG_TO_RAD:e},s.default.prototype._toDegrees=function(e){return this._angleMode===o.RADIANS?e*o.RAD_TO_DEG:e},s.default.prototype._fromRadians=function(e){return this._angleMode===o.DEGREES?e*o.RAD_TO_DEG:e},r.default=s.default},{"../core/constants":250,"../core/main":260}],296:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};i.default.prototype.textAlign=function(e,t){var r;return i.default._validateParameters("textAlign",arguments),(r=this._renderer).textAlign.apply(r,arguments)},i.default.prototype.textLeading=function(e){var t;return i.default._validateParameters("textLeading",arguments),(t=this._renderer).textLeading.apply(t,arguments)},i.default.prototype.textSize=function(e){var t;return i.default._validateParameters("textSize",arguments),(t=this._renderer).textSize.apply(t,arguments)},i.default.prototype.textStyle=function(e){var t;return i.default._validateParameters("textStyle",arguments),(t=this._renderer).textStyle.apply(t,arguments)},i.default.prototype.textWidth=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r[0]+="",i.default._validateParameters("textWidth",r),0===r[0].length?0:(e=this._renderer).textWidth.apply(e,r)},i.default.prototype.textAscent=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return i.default._validateParameters("textAscent",t),this._renderer.textAscent()},i.default.prototype.textDescent=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return i.default._validateParameters("textDescent",t),this._renderer.textDescent()},i.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},r.default=i.default},{"../core/main":260}],297:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.split"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=(i=e("../core/main"))&&i.__esModule?i:{default:i},o=c(e("../core/constants")),a=c(e("opentype.js"));function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),s.default.prototype.loadFont=function(e,t,r){s.default._validateParameters("loadFont",arguments);var n=new s.default.Font(this),i=this;return a.load(e,function(o,a){if(o)return s.default._friendlyFileLoadError(4,e),void 0!==r?r(o):void console.error(o,e);n.font=a,void 0!==t&&t(n),i._decrementPreload();var l,c,u=e.split("\\").pop().split("/").pop(),h=u.lastIndexOf("."),d=h<1?null:u.substr(h+1);["ttf","otf","woff","woff2"].includes(d)&&(l=u.substr(0,h),(c=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(l,";\nsrc: url(").concat(e,");\n}\n"))),document.head.appendChild(c))}),n},s.default.prototype.text=function(e,t,r,n,i){var o;return s.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(o=this._renderer).text.apply(o,arguments):this},s.default.prototype.textFont=function(e,t){if(s.default._validateParameters("textFont",arguments),arguments.length){if(!e)throw new Error("null font passed to textFont");return this._renderer._setProperty("_textFont",e),t&&(this._renderer._setProperty("_textSize",t),this._renderer._setProperty("_textLeading",t*o._DEFAULT_LEADMULT)),this._renderer._applyTextProperties()}return this._renderer._textFont},r.default=s.default},{"../core/constants":250,"../core/friendly_errors/fes_core":252,"../core/friendly_errors/file_errors":253,"../core/friendly_errors/validate_params":255,"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.last-index-of":158,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.split":188,"opentype.js":236}],298:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n},s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=function(e,t){if("object"!==a(e))e=t;else for(var r in t)void 0===e[r]&&(e[r]=t[r]);return e}(t,{sampleFactor:.1,simplifyThreshold:0}),n=m(e,0,1),i=n/(n*r.sampleFactor),s=[],o=0;o<n;o+=i)s.push(m(e,o));return r.simplifyThreshold&&function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=e.length-1;3<e.length&&0<=r;--r)d(h(e,r-1),h(e,r),h(e,r+1),t)&&e.splice(r%e.length,1)}(s,r.simplifyThreshold),s}function c(e){for(var t,r=[],n=0;n<e.length;n++)"M"===e[n].type&&(t&&r.push(t),t=[]),t.push(u(e[n]));return r.push(t),r}function u(e){var t=[e.type];return"M"===e.type||"L"===e.type?t.push(e.x,e.y):"C"===e.type?t.push(e.x1,e.y1,e.x2,e.y2,e.x,e.y):"Q"===e.type&&t.push(e.x1,e.y1,e.x,e.y),t}function h(e,t){var r=e.length;return e[t<0?t%r+r:t%r]}function d(e,t,r,n){if(!n)return 0==((s=t)[0]-(i=e)[0])*((o=r)[1]-i[1])-(o[0]-i[0])*(s[1]-i[1]);var i,s,o;void 0===d.tmpPoint1&&(d.tmpPoint1=[],d.tmpPoint2=[]);var a=d.tmpPoint1,l=d.tmpPoint2;a.x=t.x-e.x,a.y=t.y-e.y,l.x=r.x-t.x,l.y=r.y-t.y;var c=a.x*l.x+a.y*l.y,u=Math.sqrt(a.x*a.x+a.y*a.y),h=Math.sqrt(l.x*l.x+l.y*l.y);return Math.acos(c/(u*h))<n}function p(e,t,r,n,i,s,o,a,l){var c=1-l,u=Math.pow(c,3),h=Math.pow(c,2),d=l*l,p=d*l,f=u*e+3*h*l*r+3*c*l*l*i+p*o,m=u*t+3*h*l*n+3*c*l*l*s+p*a,g=e+2*l*(r-e)+d*(i-2*r+e),y=t+2*l*(n-t)+d*(s-2*n+t),v=r+2*l*(i-r)+d*(o-2*i+r),_=n+2*l*(s-n)+d*(a-2*s+n),b=c*e+l*r,w=c*t+l*n,x=c*i+l*o,S=c*s+l*a,M=90-180*Math.atan2(g-v,y-_)/Math.PI;return(v<g||y<_)&&(M+=180),{x:f,y:m,m:{x:g,y:y},n:{x:v,y:_},start:{x:b,y:w},end:{x:x,y:S},alpha:M}}function f(e,t,r,n,i,s,o,a,l){return null==l?_(e,t,r,n,i,s,o,a):p(e,t,r,n,i,s,o,a,function(e,t,r,n,i,s,o,a,l){if(!(l<0||_(e,t,r,n,i,s,o,a)<l)){var c,u=.5,h=1-u;for(c=_(e,t,r,n,i,s,o,a,h);.01<Math.abs(c-l);)c=_(e,t,r,n,i,s,o,a,h+=(c<l?1:-1)*(u/=2));return h}}(e,t,r,n,i,s,o,a,l))}function m(e,t,r){for(var n,i,s,o,a,l=0,c=0,u=(e=function(e,t){function r(e,t,r){var n,i;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(e[0]in{T:1,Q:1}||(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat((function e(t,r,n,i,s,o,a,l,c,u){var h,d,p,f,m,g=Math.PI,y=120*g/180,v=g/180*(+s||0),_=[],b=function(e,t,r){return{x:e*Math.cos(r)-t*Math.sin(r),y:e*Math.sin(r)+t*Math.cos(r)}};if(u)h=u[0],d=u[1],p=u[2],f=u[3];else{r=(m=b(t,r,-v)).y;var w=((t=m.x)-(l=(m=b(l,c,-v)).x))/2,x=(r-(c=m.y))/2,S=w*w/(n*n)+x*x/(i*i);1<S&&(n*=S=Math.sqrt(S),i*=S);var M=n*n,E=i*i,T=(o===a?-1:1)*Math.sqrt(Math.abs((M*E-M*x*x-E*w*w)/(M*x*x+E*w*w)));p=T*n*x/i+(t+l)/2,f=T*-i*w/n+(r+c)/2,h=Math.asin(((r-f)/i).toFixed(9)),d=Math.asin(((c-f)/i).toFixed(9)),(h=t<p?g-h:h)<0&&(h=2*g+h),(d=l<p?g-d:d)<0&&(d=2*g+d),a&&d<h&&(h-=2*g),!a&&h<d&&(d-=2*g)}var C=d-h;if(Math.abs(C)>y){var A=d,L=l,P=c;d=h+y*(a&&h<d?1:-1),_=e(l=p+n*Math.cos(d),c=f+i*Math.sin(d),n,i,s,0,a,L,P,[d,A,p,f])}C=d-h;var O=Math.cos(h),R=Math.sin(h),k=Math.cos(d),j=Math.sin(d),D=Math.tan(C/4),I=4/3*n*D,N=4/3*i*D,z=[t,r],F=[t+I*R,r-N*O],U=[l+I*j,c-N*k],B=[l,c];if(F[0]=2*z[0]-F[0],F[1]=2*z[1]-F[1],u)return[F,U,B].concat(_);for(var V=[],H=0,G=(_=[F,U,B].concat(_).join().split(",")).length;H<G;H++)V[H]=H%2?b(_[H-1],_[H],v).y:b(_[H],_[H+1],v).x;return V}).apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":i="C"===r||"S"===r?(n=2*t.x-t.bx,2*t.y-t.by):(n=t.x,t.y),e=["C",n,i].concat(e.slice(1));break;case"T":"Q"===r||"T"===r?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(v(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(v(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(y(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(y(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(y(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(y(t.x,t.y,t.X,t.Y))}return e}function n(e,t){if(7<e[t].length){e[t].shift();for(var r=e[t];r.length;)u[t]="A",a&&(h[t]="A"),e.splice(t++,0,["C"].concat(r.splice(0,6)));e.splice(t,1),s=Math.max(o.length,a&&a.length||0)}}function i(e,t,r,n,i){e&&t&&"M"===e[i][0]&&"M"!==t[i][0]&&(t.splice(i,0,["M",n.x,n.y]),r.bx=0,r.by=0,r.x=e[i][1],r.y=e[i][2],s=Math.max(o.length,a&&a.length||0))}var s,o=function(e){var t,r=[],n=0,i=0,s=0,o=0,a=0;if(!e)return r;"M"===e[0][0]&&(s=n=+e[0][1],o=i=+e[0][2],a++,r[0]=["M",n,i]);for(var l,c,u=3===e.length&&"M"===e[0][0]&&"R"===e[1][0].toUpperCase()&&"Z"===e[2][0].toUpperCase(),h=a,d=e.length;h<d;h++){if(r.push(l=[]),(c=e[h])[0]!==String.prototype.toUpperCase.call(c[0]))switch(l[0]=String.prototype.toUpperCase.call(c[0]),l[0]){case"A":l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=+(c[6]+n),l[7]=+(c[7]+i);break;case"V":l[1]=+c[1]+i;break;case"H":l[1]=+c[1]+n;break;case"R":for(var p=2,f=(t=[n,i].concat(c.slice(1))).length;p<f;p++)t[p]=+t[p]+n,t[++p]=+t[p]+i;r.pop(),r=r.concat(g(t,u));break;case"M":s=+c[1]+n,o=+c[2]+i;break;default:for(var m=1,y=c.length;m<y;m++)l[m]=+c[m]+(m%2?n:i)}else if("R"===c[0])t=[n,i].concat(c.slice(1)),r.pop(),r=r.concat(g(t,u)),l=["R"].concat(c.slice(-2));else for(var v=0,_=c.length;v<_;v++)l[v]=c[v];switch(l[0]){case"Z":n=s,i=o;break;case"H":n=l[1];break;case"V":i=l[1];break;case"M":s=l[l.length-2],o=l[l.length-1];break;default:n=l[l.length-2],i=l[l.length-1]}}return r}(e),a=void 0,l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=[],h=[],d="",p="";s=Math.max(o.length,a&&a.length||0);for(var f=0;f<s;f++){o[f]&&(d=o[f][0]),"C"!==d&&(u[f]=d,f&&(p=u[f-1])),o[f]=r(o[f],l,p),"A"!==u[f]&&"C"===d&&(u[f]="C"),n(o,f),a&&(a[f]&&(d=a[f][0]),"C"!==d&&(h[f]=d,f&&(p=h[f-1])),a[f]=r(a[f],c,p),"A"!==h[f]&&"C"===d&&(h[f]="C"),n(a,f)),i(o,a,l,c,f),i(a,o,c,l,f);var m=o[f],_=a&&a[f],b=m.length,w=a&&_.length;l.x=m[b-2],l.y=m[b-1],l.bx=parseFloat(m[b-4])||l.x,l.by=parseFloat(m[b-3])||l.y,c.bx=a&&(parseFloat(_[w-4])||c.x),c.by=a&&(parseFloat(_[w-3])||c.y),c.x=a&&_[w-2],c.y=a&&_[w-1]}return a?[o,a]:o}(e)).length;c<u;c++){if("M"===(s=e[c])[0])n=+s[1],i=+s[2];else{if(t<l+(o=f(n,i,s[1],s[2],s[3],s[4],s[5],s[6]))&&!r)return{x:(a=f(n,i,s[1],s[2],s[3],s[4],s[5],s[6],t-l)).x,y:a.y,alpha:a.alpha};l+=o,n=+s[5],i=+s[6]}s.shift()}return(a=r?l:p(n,i,s[0],s[1],s[2],s[3],s[4],s[5],1)).alpha&&(a={x:a.x,y:a.y,alpha:a.alpha}),a}function g(e,t){for(var r=[],n=0,i=e.length;n<i-2*!t;n+=2){var s=[{x:+e[n-2],y:+e[n-1]},{x:+e[n],y:+e[n+1]},{x:+e[n+2],y:+e[n+3]},{x:+e[n+4],y:+e[n+5]}];t?n?i-4===n?s[3]={x:+e[0],y:+e[1]}:i-2===n&&(s[2]={x:+e[0],y:+e[1]},s[3]={x:+e[2],y:+e[3]}):s[0]={x:+e[i-2],y:+e[i-1]}:i-4===n?s[3]=s[2]:n||(s[0]={x:+e[n],y:+e[n+1]}),r.push(["C",(6*s[1].x-s[0].x+s[2].x)/6,(6*s[1].y-s[0].y+s[2].y)/6,(s[1].x+6*s[2].x-s[3].x)/6,(s[1].y+6*s[2].y-s[3].y)/6,s[2].x,s[2].y])}return r}function y(e,t,r,n){return[e,t,r,n,r,n]}function v(e,t,r,n,i,s){return[1/3*e+2/3*r,1/3*t+2/3*n,1/3*i+2/3*r,1/3*s+2/3*n,i,s]}function _(e,t,r,n,i,s,o,a,l){null==l&&(l=1);for(var c=(l=1<l?1:l<0?0:l)/2,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=0,d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0;p<12;p++){var f=c*u[p]+c,m=b(f,e,r,i,o),g=b(f,t,n,s,a);h+=d[p]*Math.sqrt(m*m+g*g)}return c*h}function b(e,t,r,n,i){return e*(e*(-3*t+9*r-9*n+3*i)+6*t-12*r+6*n)-3*t+3*r}i.default.Font=function(e){this.parent=e,this.cache={},this.font=void 0},i.default.Font.prototype.textBounds=function(e){var t,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length?arguments[3]:void 0,s=4<arguments.length?arguments[4]:void 0,o=s&&s.renderer&&s.renderer._pInst||this.parent;if(i=i||o._renderer._textSize,!t){var a,l,c=[],u=[],h=[];h[0]=[];var d=[],p=this._scale(i),f=o._renderer.textLeading(),m=0;this.font.forEachGlyph(e,r,n,i,s,function(e,t,r,n){var i=e.getMetrics();0===e.index||10===e.index?h[m+=1]=[]:(h[m].push(t+i.xMin*p),h[m].push(t+i.xMax*p),d.push(r+m*f+-i.yMin*p),d.push(r+m*f+-i.yMax*p))}),0<h[m].length&&(c[m]=Math.min.apply(null,h[m]),u[m]=Math.max.apply(null,h[m]));for(var g=0,y=0;y<=m;y++){c[y]=Math.min.apply(null,h[y]),u[y]=Math.max.apply(null,h[y]);var v=u[y]-c[y];g<v&&(g=v)}var _=Math.min.apply(null,c);t={x:_,y:a=Math.min.apply(null,d),h:Math.max.apply(null,d)-a,w:g,advance:_-r},l=this._handleAlignment(o._renderer,e,t.x,t.y,t.w+t.advance),t.x=l.x,t.y=l.y}return t},i.default.Font.prototype.textToPoints=function(e,t,r,n,i){var s,o=0,a=[],u=this._getGlyphs(e);n=n||this.parent._renderer._textSize;for(var h=0;h<u.length;h++){if(!(u[s=h].name&&"space"===u[s].name||e.length===u.length&&" "===e[s]||u[s].index&&3===u[s].index))for(var d=c(u[h].getPath(t,r,n).commands),p=0;p<d.length;p++)for(var f=l(d[p],i),m=0;m<f.length;m++)f[m].x+=o,a.push(f[m]);o+=u[h].advanceWidth*this._scale(n)}return a},i.default.Font.prototype._getGlyphs=function(e){return this.font.stringToGlyphs(e)},i.default.Font.prototype._getPath=function(e,t,r,n){var i=(n&&n.renderer&&n.renderer._pInst||this.parent)._renderer,s=this._handleAlignment(i,e,t,r);return this.font.getPath(e,s.x,s.y,i._textSize,n)},i.default.Font.prototype._getPathData=function(e,t,r,n){var i=3;return"string"==typeof e&&2<arguments.length?e=this._getPath(e,t,r,n):"object"===a(t)&&(n=t),n&&"number"==typeof n.decimals&&(i=n.decimals),e.toPathData(i)},i.default.Font.prototype._getSVG=function(e,t,r,n){var i=3;return"string"==typeof e&&2<arguments.length?e=this._getPath(e,t,r,n):"object"===a(t)&&(n=t),n&&("number"==typeof n.decimals&&(i=n.decimals),"number"==typeof n.strokeWidth&&(e.strokeWidth=n.strokeWidth),void 0!==n.fill&&(e.fill=n.fill),void 0!==n.stroke&&(e.stroke=n.stroke)),e.toSVG(i)},i.default.Font.prototype._renderPath=function(e,t,r,n){var i,o=n&&n.renderer||this.parent._renderer,l=o.drawingContext;i="object"===a(e)&&e.commands?e.commands:this._getPath(e,t,r,n).commands,l.beginPath();var c=!0,u=!1,h=void 0;try{for(var d,p=i[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var f=d.value;"M"===f.type?l.moveTo(f.x,f.y):"L"===f.type?l.lineTo(f.x,f.y):"C"===f.type?l.bezierCurveTo(f.x1,f.y1,f.x2,f.y2,f.x,f.y):"Q"===f.type?l.quadraticCurveTo(f.x1,f.y1,f.x,f.y):"Z"===f.type&&l.closePath()}}catch(e){u=!0,h=e}finally{try{c||null==p.return||p.return()}finally{if(u)throw h}}return o._doStroke&&o._strokeSet&&l.stroke(),o._doFill&&(o._fillSet||o._setFill(s._DEFAULT_TEXT_FILL),l.fill()),this},i.default.Font.prototype._textWidth=function(e,t){return this.font.getAdvanceWidth(e,t)},i.default.Font.prototype._textAscent=function(e){return this.font.ascender*this._scale(e)},i.default.Font.prototype._textDescent=function(e){return-this.font.descender*this._scale(e)},i.default.Font.prototype._scale=function(e){return 1/this.font.unitsPerEm*(e||this.parent._renderer._textSize)},i.default.Font.prototype._handleAlignment=function(e,t,r,n,i){var o=e._textSize;switch(void 0===i&&(i=this._textWidth(t,o)),e._textAlign){case s.CENTER:r-=i/2;break;case s.RIGHT:r-=i}switch(e._textBaseline){case s.TOP:n+=this._textAscent(o);break;case s.CENTER:n+=this._textAscent(o)/2;break;case s.BOTTOM:n-=this._textDescent(o)}return{x:r,y:n}},r.default=i.default},{"../core/constants":250,"../core/main":260,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.fill":150,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.join":157,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.splice":162,"core-js/modules/es.function.name":163,"core-js/modules/es.number.to-fixed":169,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.split":188,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],299:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.array-buffer.constructor"),e("core-js/modules/es.object.to-string"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};i.default.prototype.append=function(e,t){return e.push(t),e},i.default.prototype.arrayCopy=function(e,t,r,n,i){var s,o;e=void 0!==i?(o=Math.min(i,e.length),s=n,e.slice(t,o+t)):(o=void 0!==r?(o=r,Math.min(o,e.length)):e.length,s=0,r=t,e.slice(0,o)),Array.prototype.splice.apply(r,[s,o].concat(e))},i.default.prototype.concat=function(e,t){return e.concat(t)},i.default.prototype.reverse=function(e){return e.reverse()},i.default.prototype.shorten=function(e){return e.pop(),e},i.default.prototype.shuffle=function(e,t){for(var r,n,i=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(e),s=(e=t||i?e:e.slice()).length;1<s;)r=this.random(0,1)*s|0,n=e[--s],e[s]=e[r],e[r]=n;return e},i.default.prototype.sort=function(e,t){var r=t?e.slice(0,Math.min(t,e.length)):e,n=t?e.slice(Math.min(t,e.length)):[];return(r="string"==typeof r[0]?r.sort():r.sort(function(e,t){return e-t})).concat(n)},i.default.prototype.splice=function(e,t,r){return Array.prototype.splice.apply(e,[r,0].concat(t)),e},i.default.prototype.subset=function(e,t,r){return e.slice(t,void 0!==r?t+r:e.length)},r.default=i.default},{"../core/main":260,"core-js/modules/es.array-buffer.constructor":147,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.splice":162,"core-js/modules/es.object.to-string":174}],300:[function(e,t,r){"use strict";e("core-js/modules/es.array.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.repeat"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};i.default.prototype.float=function(e){return e instanceof Array?e.map(parseFloat):parseFloat(e)},i.default.prototype.int=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return e===1/0||"Infinity"===e?1/0:e===-1/0||"-Infinity"===e?-1/0:"string"==typeof e?parseInt(e,t):"number"==typeof e?0|e:"boolean"==typeof e?e?1:0:e instanceof Array?e.map(function(e){return i.default.prototype.int(e,t)}):void 0},i.default.prototype.str=function(e){return e instanceof Array?e.map(i.default.prototype.str):String(e)},i.default.prototype.boolean=function(e){return"number"==typeof e?0!==e:"string"==typeof e?"true"===e.toLowerCase():"boolean"==typeof e?e:e instanceof Array?e.map(i.default.prototype.boolean):void 0},i.default.prototype.byte=function(e){var t=i.default.prototype.int(e,10);return"number"==typeof t?(t+128)%256-128:t instanceof Array?t.map(i.default.prototype.byte):void 0},i.default.prototype.char=function(e){return"number"!=typeof e||isNaN(e)?e instanceof Array?e.map(i.default.prototype.char):"string"==typeof e?i.default.prototype.char(parseInt(e,10)):void 0:String.fromCharCode(e)},i.default.prototype.unchar=function(e){return"string"==typeof e&&1===e.length?e.charCodeAt(0):e instanceof Array?e.map(i.default.prototype.unchar):void 0},i.default.prototype.hex=function(e,t){if(t=null==t?t=8:t,e instanceof Array)return e.map(function(e){return i.default.prototype.hex(e,t)});if(e===1/0||e===-1/0)return(e===1/0?"F":"0").repeat(t);if("number"==typeof e){e<0&&(e=4294967295+e+1);for(var r=Number(e).toString(16).toUpperCase();r.length<t;)r="0".concat(r);return r.length>=t&&(r=r.substring(r.length-t,r.length)),r}},i.default.prototype.unhex=function(e){return e instanceof Array?e.map(i.default.prototype.unhex):parseInt("0x".concat(e),16)},r.default=i.default},{"../core/main":260,"core-js/modules/es.array.map":159,"core-js/modules/es.number.constructor":167,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.repeat":185}],301:[function(e,t,r){"use strict";e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};function s(e,t,r){var n=e<0,i=n?e.toString().substring(1):e.toString(),s=i.indexOf("."),o=-1!==s?i.substring(0,s):i,a=-1!==s?i.substring(s+1):"",l=n?"-":"";if(void 0!==r){var c="";(-1!==s||0<r-a.length)&&(c="."),a.length>r&&(a=a.substring(0,r));for(var u=0;u<t-o.length;u++)l+="0";l+=o,l+=c,l+=a;for(var h=0;h<r-a.length;h++)l+="0";return l}for(var d=0;d<Math.max(t-o.length,0);d++)l+="0";return l+i}function o(e,t){var r=(e=e.toString()).indexOf("."),n=-1!==r?e.substring(r):"",i=-1!==r?e.substring(0,r):e;if(i=i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===t)n="";else if(void 0!==t)if(t>n.length)for(var s=t-(n+=-1===r?".":"").length+1,o=0;o<s;o++)n+="0";else n=n.substring(0,t+1);return i+n}function a(e){return 0<parseFloat(e)?"+".concat(e.toString()):e.toString()}function l(e){return 0<=parseFloat(e)?" ".concat(e.toString()):e.toString()}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),i.default.prototype.join=function(e,t){return i.default._validateParameters("join",arguments),e.join(t)},i.default.prototype.match=function(e,t){return i.default._validateParameters("match",arguments),e.match(t)},i.default.prototype.matchAll=function(e,t){i.default._validateParameters("matchAll",arguments);for(var r=new RegExp(t,"g"),n=r.exec(e),s=[];null!==n;)s.push(n),n=r.exec(e);return s},i.default.prototype.nf=function(e,t,r){return i.default._validateParameters("nf",arguments),e instanceof Array?e.map(function(e){return s(e,t,r)}):"[object Arguments]"===Object.prototype.toString.call(e)?3===e.length?this.nf(e[0],e[1],e[2]):2===e.length?this.nf(e[0],e[1]):this.nf(e[0]):s(e,t,r)},i.default.prototype.nfc=function(e,t){return i.default._validateParameters("nfc",arguments),e instanceof Array?e.map(function(e){return o(e,t)}):o(e,t)},i.default.prototype.nfp=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i.default._validateParameters("nfp",t);var n=i.default.prototype.nf.apply(this,t);return n instanceof Array?n.map(a):a(n)},i.default.prototype.nfs=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i.default._validateParameters("nfs",t);var n=i.default.prototype.nf.apply(this,t);return n instanceof Array?n.map(l):l(n)},i.default.prototype.split=function(e,t){return i.default._validateParameters("split",arguments),e.split(t)},i.default.prototype.splitTokens=function(e,t){var r;if(i.default._validateParameters("splitTokens",arguments),void 0!==t){var n=t,s=/\]/g.exec(n),o=/\[/g.exec(n);r=o&&s?(n=n.slice(0,s.index)+n.slice(s.index+1),o=/\[/g.exec(n),n=n.slice(0,o.index)+n.slice(o.index+1),new RegExp("[\\[".concat(n,"\\]]"),"g")):s?(n=n.slice(0,s.index)+n.slice(s.index+1),new RegExp("[".concat(n,"\\]]"),"g")):o?(n=n.slice(0,o.index)+n.slice(o.index+1),new RegExp("[".concat(n,"\\[]"),"g")):new RegExp("[".concat(n,"]"),"g")}else r=/\s/g;return e.split(r).filter(function(e){return e})},i.default.prototype.trim=function(e){return i.default._validateParameters("trim",arguments),e instanceof Array?e.map(this.trim):e.trim()},r.default=i.default},{"../core/friendly_errors/fes_core":252,"../core/friendly_errors/file_errors":253,"../core/friendly_errors/validate_params":255,"../core/main":260,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.join":157,"core-js/modules/es.array.map":159,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.constructor":177,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.match":184,"core-js/modules/es.string.replace":186,"core-js/modules/es.string.split":188,"core-js/modules/es.string.trim":190}],302:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};i.default.prototype.day=function(){return(new Date).getDate()},i.default.prototype.hour=function(){return(new Date).getHours()},i.default.prototype.minute=function(){return(new Date).getMinutes()},i.default.prototype.millis=function(){return-1===this._millisStart?0:window.performance.now()-this._millisStart},i.default.prototype.month=function(){return(new Date).getMonth()+1},i.default.prototype.second=function(){return(new Date).getSeconds()},i.default.prototype.year=function(){return(new Date).getFullYear()},r.default=i.default},{"../core/main":260}],303:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.number.to-fixed"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=(i=e("../core/main"))&&i.__esModule?i:{default:i};e("./p5.Geometry");var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function l(e,t,r,n,i,o,a){e=e<=0?1:e,t=t<0?0:t,r=r<=0?e:r,n=n<3?3:n;var l,c,u,h=(o=void 0===o||o)?-2:0,d=(i=i<1?1:i)+((a=void 0===a?0!==t:a)?2:0),p=Math.atan2(e-t,r),f=Math.sin(p),m=Math.cos(p);for(l=h;l<=d;++l){var g=l/i,y=r*g,v=void 0;for(v=l<0?(g=y=0,e):i<l?(y=r,g=1,t):e+(t-e)*g,-2!==l&&l!==i+2||(v=0),y-=r/2,c=0;c<n;++c){var _,b=c/(n-1),w=2*Math.PI*b,x=Math.sin(w),S=Math.cos(w);this.vertices.push(new s.default.Vector(x*v,y,S*v)),_=l<0?new s.default.Vector(0,-1,0):i<l&&t?new s.default.Vector(0,1,0):new s.default.Vector(x*m,f,S*m),this.vertexNormals.push(_),this.uvs.push(b,g)}}var M=0;if(o){for(u=0;u<n;++u)this.faces.push([M+u,M+n+(u+1)%n,M+n+u]);M+=2*n}for(l=0;l<i;++l){for(c=0;c<n;++c){var E=(c+1)%n;this.faces.push([M+c,M+E,M+n+E]),this.faces.push([M+c,M+n+E,M+n+c])}M+=n}if(a)for(M+=n,c=0;c<n;++c)this.faces.push([M+c,M+(c+1)%n,M+n])}s.default.prototype.plane=function(e,t,r,n){this._assert3d("plane"),s.default._validateParameters("plane",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===r&&(r=1),void 0===n&&(n=1);var i="plane|".concat(r,"|").concat(n);if(!this._renderer.geometryInHash(i)){var o=new s.default.Geometry(r,n,function(){for(var e,t,r,n=0;n<=this.detailY;n++){t=n/this.detailY;for(var i=0;i<=this.detailX;i++)r=new s.default.Vector((e=i/this.detailX)-.5,t-.5,0),this.vertices.push(r),this.uvs.push(e,t)}});o.computeFaces().computeNormals(),r<=1&&n<=1?o._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(i,o)}return this._renderer.drawBuffersScaled(i,e,t,1),this},s.default.prototype.box=function(e,t,r,n,i){this._assert3d("box"),s.default._validateParameters("box",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===r&&(r=t);var o=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;void 0===n&&(n=o?1:4),void 0===i&&(i=o?1:4);var a="box|".concat(n,"|").concat(i);if(!this._renderer.geometryInHash(a)){var l=new s.default.Geometry(n,i,function(){var e=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var t=0;t<e.length;t++){for(var r=e[t],n=4*t,i=0;i<4;i++){var o=r[i],a=new s.default.Vector((2*(1&o)-1)/2,((2&o)-1)/2,((4&o)/2-1)/2);this.vertices.push(a),this.uvs.push(1&i,(2&i)/2)}this.faces.push([n,1+n,2+n]),this.faces.push([2+n,1+n,3+n])}});l.computeNormals(),n<=4&&i<=4?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(a,l)}return this._renderer.drawBuffersScaled(a,e,t,r),this},s.default.prototype.sphere=function(e,t,r){return this._assert3d("sphere"),s.default._validateParameters("sphere",arguments),void 0===e&&(e=50),void 0===t&&(t=24),void 0===r&&(r=16),this.ellipsoid(e,e,e,t,r),this},s.default.prototype.cylinder=function(e,t,r,n,i,o){this._assert3d("cylinder"),s.default._validateParameters("cylinder",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===r&&(r=24),void 0===n&&(n=1),void 0===o&&(o=!0),void 0===i&&(i=!0);var a="cylinder|".concat(r,"|").concat(n,"|").concat(i,"|").concat(o);if(!this._renderer.geometryInHash(a)){var c=new s.default.Geometry(r,n);l.call(c,1,1,1,r,n,i,o),r<=24&&n<=16?c._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(a,c)}return this._renderer.drawBuffersScaled(a,e,t,e),this},s.default.prototype.cone=function(e,t,r,n,i){this._assert3d("cone"),s.default._validateParameters("cone",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===r&&(r=24),void 0===n&&(n=1),void 0===i&&(i=!0);var o="cone|".concat(r,"|").concat(n,"|").concat(i);if(!this._renderer.geometryInHash(o)){var a=new s.default.Geometry(r,n);l.call(a,1,0,1,r,n,i,!1),r<=24&&n<=16?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(o,a)}return this._renderer.drawBuffersScaled(o,e,t,e),this},s.default.prototype.ellipsoid=function(e,t,r,n,i){this._assert3d("ellipsoid"),s.default._validateParameters("ellipsoid",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===r&&(r=e),void 0===n&&(n=24),void 0===i&&(i=16);var o="ellipsoid|".concat(n,"|").concat(i);if(!this._renderer.geometryInHash(o)){var a=new s.default.Geometry(n,i,function(){for(var e=0;e<=this.detailY;e++)for(var t=e/this.detailY,r=Math.PI*t-Math.PI/2,n=Math.cos(r),i=Math.sin(r),o=0;o<=this.detailX;o++){var a=o/this.detailX,l=2*Math.PI*a,c=Math.cos(l),u=Math.sin(l),h=new s.default.Vector(n*u,i,n*c);this.vertices.push(h),this.vertexNormals.push(h),this.uvs.push(a,t)}});a.computeFaces(),n<=24&&i<=24?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(o,a)}return this._renderer.drawBuffersScaled(o,e,t,r),this},s.default.prototype.torus=function(e,t,r,n){if(this._assert3d("torus"),s.default._validateParameters("torus",arguments),void 0===e)e=50;else if(!e)return;if(void 0===t)t=10;else if(!t)return;void 0===r&&(r=24),void 0===n&&(n=16);var i=(t/e).toPrecision(4),o="torus|".concat(i,"|").concat(r,"|").concat(n);if(!this._renderer.geometryInHash(o)){var a=new s.default.Geometry(r,n,function(){for(var e=0;e<=this.detailY;e++)for(var t=e/this.detailY,r=2*Math.PI*t,n=Math.cos(r),o=Math.sin(r),a=1+i*n,l=0;l<=this.detailX;l++){var c=l/this.detailX,u=2*Math.PI*c,h=Math.cos(u),d=Math.sin(u),p=new s.default.Vector(a*h,a*d,i*o),f=new s.default.Vector(n*h,n*d,o);this.vertices.push(p),this.vertexNormals.push(f),this.uvs.push(c,t)}});a.computeFaces(),r<=24&&n<=16?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(o,a)}return this._renderer.drawBuffersScaled(o,e,e,e),this},s.default.RendererGL.prototype.point=function(e,t,r){void 0===r&&(r=0);var n=[];return n.push(new s.default.Vector(e,t,r)),this._drawPoints(n,this.immediateMode.buffers.point),this},s.default.RendererGL.prototype.triangle=function(e){var t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5];if(!this.geometryInHash("tri")){var l=new s.default.Geometry(1,1,function(){var e=[];e.push(new s.default.Vector(0,0,0)),e.push(new s.default.Vector(0,1,0)),e.push(new s.default.Vector(1,0,0)),this.strokeIndices=[[0,1],[1,2],[2,0]],this.vertices=e,this.faces=[[0,1,2]],this.uvs=[0,0,0,1,1,1]});l._makeTriangleEdges()._edgesToVertices(),l.computeNormals(),this.createBuffers("tri",l)}var c=this.uMVMatrix.copy();try{var u=new s.default.Matrix([n-t,i-r,0,0,o-t,a-r,0,0,0,0,1,0,t,r,0,1]).mult(this.uMVMatrix);this.uMVMatrix=u,this.drawBuffers("tri")}finally{this.uMVMatrix=c}return this},s.default.RendererGL.prototype.ellipse=function(e){this.arc(e[0],e[1],e[2],e[3],0,o.TWO_PI,o.OPEN,e[4])},s.default.RendererGL.prototype.arc=function(e){var t,r,n=e,i=arguments[1],a=arguments[2],l=arguments[3],c=arguments[4],u=arguments[5],h=arguments[6],d=arguments[7]||25;if(r=Math.abs(u-c)>=o.TWO_PI?"".concat(t="ellipse","|").concat(d,"|"):"".concat(t="arc","|").concat(c,"|").concat(u,"|").concat(h,"|").concat(d,"|"),!this.geometryInHash(r)){var p=new s.default.Geometry(d,1,function(){if(this.strokeIndices=[],c.toFixed(10)!==u.toFixed(10)){h!==o.PIE&&void 0!==h||(this.vertices.push(new s.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var e=0;e<=d;e++){var t=e/d*(u-c)+c,r=.5+Math.cos(t)/2,n=.5+Math.sin(t)/2;this.vertices.push(new s.default.Vector(r,n,0)),this.uvs.push([r,n]),e<d-1&&(this.faces.push([0,e+1,e+2]),this.strokeIndices.push([e+1,e+2]))}switch(h){case o.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case o.CHORD:this.strokeIndices.push([0,1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case o.OPEN:this.strokeIndices.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1])}}});p.computeNormals(),d<=50?p._makeTriangleEdges()._edgesToVertices(p):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(t," with more than 50 detail")),this.createBuffers(r,p)}var f=this.uMVMatrix.copy();try{this.uMVMatrix.translate([n,i,0]),this.uMVMatrix.scale(a,l,1),this.drawBuffers(r)}finally{this.uMVMatrix=f}return this},s.default.RendererGL.prototype.rect=function(e){var t=this._pInst._glAttributes.perPixelLighting,r=e[0],n=e[1],i=e[2],o=e[3],a=e[4]||(t?1:24),l=e[5]||(t?1:16),c="rect|".concat(a,"|").concat(l);if(!this.geometryInHash(c)){var u=new s.default.Geometry(a,l,function(){for(var e=0;e<=this.detailY;e++)for(var t=e/this.detailY,r=0;r<=this.detailX;r++){var n=r/this.detailX,i=new s.default.Vector(n,t,0);this.vertices.push(i),this.uvs.push(n,t)}0<a&&0<l&&(this.strokeIndices=[[0,a],[a,(a+1)*(l+1)-1],[(a+1)*(l+1)-1,(a+1)*l],[(a+1)*l,0]])});u.computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(c,u)}var h=this.uMVMatrix.copy();try{this.uMVMatrix.translate([r,n,0]),this.uMVMatrix.scale(i,o,1),this.drawBuffers(c)}finally{this.uMVMatrix=h}return this},s.default.RendererGL.prototype.quad=function(e,t,r,n,i,o,a,l,c,u,h,d,p,f){void 0===p&&(p=2),void 0===f&&(f=2);var m="quad|".concat(e,"|").concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(o,"|").concat(a,"|").concat(l,"|").concat(c,"|").concat(u,"|").concat(h,"|").concat(d,"|").concat(p,"|").concat(f);if(!this.geometryInHash(m)){var g=new s.default.Geometry(p,f,function(){for(var p=1/(this.detailX-1),f=1/(this.detailY-1),m=0;m<this.detailY;m++)for(var g=0;g<this.detailX;g++){var y=g*p,v=m*f;this.vertices.push(new s.default.Vector((1-y)*((1-v)*e+v*u)+y*((1-v)*n+v*a),(1-y)*((1-v)*t+v*h)+y*((1-v)*i+v*l),(1-y)*((1-v)*r+v*d)+y*((1-v)*o+v*c))),this.uvs.push([y,v])}});g.faces=[];for(var y=0;y<f-1;y++)for(var v=0;v<p-1;v++){var _=v+y*p,b=v+1+(y+1)*p,w=v+(y+1)*p;g.faces.push([_,v+1+y*p,b]),g.faces.push([_,b,w])}g.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(m,g)}return this.drawBuffers(m),this},s.default.RendererGL.prototype.bezier=function(e,t,r,n,i,s,o,a,l,c,u,h){8===arguments.length&&(u=a,c=o,a=s,o=i,i=n,n=r,r=s=l=h=0);var d=this._pInst._bezierDetail||20;this.beginShape();for(var p=0;p<=d;p++){var f=Math.pow(1-p/d,3),m=p/d*3*Math.pow(1-p/d,2),g=3*Math.pow(p/d,2)*(1-p/d),y=Math.pow(p/d,3);this.vertex(e*f+n*m+o*g+c*y,t*f+i*m+a*g+u*y,r*f+s*m+l*g+h*y)}return this.endShape(),this},s.default.RendererGL.prototype.curve=function(e,t,r,n,i,s,o,a,l,c,u,h){8===arguments.length&&(c=o,u=a,o=i,a=n,i=n=r,r=s=l=h=0);var d=this._pInst._curveDetail;this.beginShape();for(var p=0;p<=d;p++){var f=.5*Math.pow(p/d,3),m=.5*Math.pow(p/d,2),g=p/d*.5;this.vertex(f*(3*n-e-3*o+c)+m*(2*e-5*n+4*o-c)+g*(-e+o)+2*n*.5,f*(3*i-t-3*a+u)+m*(2*t-5*i+4*a-u)+g*(-t+a)+2*i*.5,f*(3*s-r-3*l+h)+m*(2*r-5*s+4*l-h)+g*(-r+l)+2*s*.5)}return this.endShape(),this},s.default.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(o.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(o.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},s.default.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var e,t,r=[],n=[],i=[],s=arguments.length;if((e=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var o=1/this._lutBezierDetail,a=0,l=1,c=0;a<1;){if(e=parseFloat(a.toFixed(6)),this._lookUpTableBezier[c]=this._bezierCoefficients(e),l.toFixed(6)===o.toFixed(6)){e=parseFloat(l.toFixed(6))+parseFloat(a.toFixed(6)),++c,this._lookUpTableBezier[c]=this._bezierCoefficients(e);break}a+=o,l-=o,++c}}var u=this._lookUpTableBezier.length;if(6===s){for(this.isBezier=!0,r=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],n=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],t=0;t<u;t++)this.vertex(r[0]*this._lookUpTableBezier[t][0]+r[1]*this._lookUpTableBezier[t][1]+r[2]*this._lookUpTableBezier[t][2]+r[3]*this._lookUpTableBezier[t][3],n[0]*this._lookUpTableBezier[t][0]+n[1]*this._lookUpTableBezier[t][1]+n[2]*this._lookUpTableBezier[t][2]+n[3]*this._lookUpTableBezier[t][3]);this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(9===s){for(this.isBezier=!0,r=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],n=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]],i=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],t=0;t<u;t++)this.vertex(r[0]*this._lookUpTableBezier[t][0]+r[1]*this._lookUpTableBezier[t][1]+r[2]*this._lookUpTableBezier[t][2]+r[3]*this._lookUpTableBezier[t][3],n[0]*this._lookUpTableBezier[t][0]+n[1]*this._lookUpTableBezier[t][1]+n[2]*this._lookUpTableBezier[t][2]+n[3]*this._lookUpTableBezier[t][3],i[0]*this._lookUpTableBezier[t][0]+i[1]*this._lookUpTableBezier[t][1]+i[2]*this._lookUpTableBezier[t][2]+i[3]*this._lookUpTableBezier[t][3]);this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},s.default.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var e,t,r=[],n=[],i=[],s=arguments.length;if((e=0)===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var o=1/this._lutQuadraticDetail,a=0,l=1,c=0;a<1;){if(e=parseFloat(a.toFixed(6)),this._lookUpTableQuadratic[c]=this._quadraticCoefficients(e),l.toFixed(6)===o.toFixed(6)){e=parseFloat(l.toFixed(6))+parseFloat(a.toFixed(6)),++c,this._lookUpTableQuadratic[c]=this._quadraticCoefficients(e);break}a+=o,l-=o,++c}}var u=this._lookUpTableQuadratic.length;if(4===s){for(this.isQuadratic=!0,r=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],n=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],t=0;t<u;t++)this.vertex(r[0]*this._lookUpTableQuadratic[t][0]+r[1]*this._lookUpTableQuadratic[t][1]+r[2]*this._lookUpTableQuadratic[t][2],n[0]*this._lookUpTableQuadratic[t][0]+n[1]*this._lookUpTableQuadratic[t][1]+n[2]*this._lookUpTableQuadratic[t][2]);this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(6===s){for(this.isQuadratic=!0,r=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],n=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]],i=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],t=0;t<u;t++)this.vertex(r[0]*this._lookUpTableQuadratic[t][0]+r[1]*this._lookUpTableQuadratic[t][1]+r[2]*this._lookUpTableQuadratic[t][2],n[0]*this._lookUpTableQuadratic[t][0]+n[1]*this._lookUpTableQuadratic[t][1]+n[2]*this._lookUpTableQuadratic[t][2],i[0]*this._lookUpTableQuadratic[t][0]+i[1]*this._lookUpTableQuadratic[t][1]+i[2]*this._lookUpTableQuadratic[t][2]);this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},s.default.RendererGL.prototype.curveVertex=function(){var e,t,r=[],n=[],i=[],s=arguments.length;if((e=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var o=1/this._lutBezierDetail,a=0,l=1,c=0;a<1;){if(e=parseFloat(a.toFixed(6)),this._lookUpTableBezier[c]=this._bezierCoefficients(e),l.toFixed(6)===o.toFixed(6)){e=parseFloat(l.toFixed(6))+parseFloat(a.toFixed(6)),++c,this._lookUpTableBezier[c]=this._bezierCoefficients(e);break}a+=o,l-=o,++c}}var u=this._lookUpTableBezier.length;if(2===s){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),8===this.immediateMode._curveVertex.length){for(this.isCurve=!0,r=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),n=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),t=0;t<u;t++)this.vertex(r[0]*this._lookUpTableBezier[t][0]+r[1]*this._lookUpTableBezier[t][1]+r[2]*this._lookUpTableBezier[t][2]+r[3]*this._lookUpTableBezier[t][3],n[0]*this._lookUpTableBezier[t][0]+n[1]*this._lookUpTableBezier[t][1]+n[2]*this._lookUpTableBezier[t][2]+n[3]*this._lookUpTableBezier[t][3]);for(t=0;t<s;t++)this.immediateMode._curveVertex.shift()}}else if(3===s&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),12===this.immediateMode._curveVertex.length)){for(this.isCurve=!0,r=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),n=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),i=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),t=0;t<u;t++)this.vertex(r[0]*this._lookUpTableBezier[t][0]+r[1]*this._lookUpTableBezier[t][1]+r[2]*this._lookUpTableBezier[t][2]+r[3]*this._lookUpTableBezier[t][3],n[0]*this._lookUpTableBezier[t][0]+n[1]*this._lookUpTableBezier[t][1]+n[2]*this._lookUpTableBezier[t][2]+n[3]*this._lookUpTableBezier[t][3],i[0]*this._lookUpTableBezier[t][0]+i[1]*this._lookUpTableBezier[t][1]+i[2]*this._lookUpTableBezier[t][2]+i[3]*this._lookUpTableBezier[t][3]);for(t=0;t<s;t++)this.immediateMode._curveVertex.shift()}},s.default.RendererGL.prototype.image=function(e,t,r,n,i,s,a,l,c){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.texture(e),this._pInst.textureMode(o.NORMAL);var u=0;t<=e.width&&(u=t/e.width);var h=1;t+n<=e.width&&(h=(t+n)/e.width);var d=0;r<=e.height&&(d=r/e.height);var p=1;r+i<=e.height&&(p=(r+i)/e.height),this.beginShape(),this.vertex(s,a,0,u,d),this.vertex(s+l,a,0,h,d),this.vertex(s+l,a+c,0,h,p),this.vertex(s,a+c,0,u,p),this.endShape(o.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(o.REMOVE)},r.default=s.default},{"../core/constants":250,"../core/main":260,"./p5.Geometry":309,"core-js/modules/es.array.concat":148,"core-js/modules/es.number.to-fixed":169}],304:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=(i=e("../core/main"))&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}s.default.prototype.orbitControl=function(e,t,r){if(this._assert3d("orbitControl"),s.default._validateParameters("orbitControl",arguments),this.mouseX<this.width&&0<this.mouseX&&this.mouseY<this.height&&0<this.mouseY){var n=this._renderer._curCamera;void 0===e&&(e=1),void 0===t&&(t=e),void 0===r&&(r=.5),!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var i=this.height<this.width?this.height:this.width;if(this._mouseWheelDeltaY!==this._pmouseWheelDeltaY&&this._renderer._curCamera._orbit(0,0,0<this._mouseWheelDeltaY?r*i:-r*i),this.mouseIsPressed)if(this.mouseButton===this.LEFT)this._renderer._curCamera._orbit(-e*(this.mouseX-this.pmouseX)/i,t*(this.mouseY-this.pmouseY)/i,0);else if(this.mouseButton===this.RIGHT){var o=n._getLocalAxes(),a=Math.sqrt(o.x[0]*o.x[0]+o.x[2]*o.x[2]);0!==a&&(o.x[0]/=a,o.x[2]/=a);var l=Math.sqrt(o.y[0]*o.y[0]+o.y[2]*o.y[2]);0!==l&&(o.y[0]/=l,o.y[2]/=l);var c=-1*e*(this.mouseX-this.pmouseX),u=-1*t*(this.mouseY-this.pmouseY);n.setPosition(n.eyeX+c*o.x[0]+u*o.z[0],n.eyeY,n.eyeZ+c*o.x[2]+u*o.z[2])}return this}},s.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];s.default._validateParameters("debugMode",t);for(var n=this._registeredMethods.post.length-1;0<=n;n--)this._registeredMethods.post[n].toString()!==this._grid().toString()&&this._registeredMethods.post[n].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(n,1);t[0]===o.GRID?this.registerMethod("post",this._grid.call(this,t[1],t[2],t[3],t[4],t[5])):t[0]===o.AXES?this.registerMethod("post",this._axesIcon.call(this,t[1],t[2],t[3],t[4])):(this.registerMethod("post",this._grid.call(this,t[0],t[1],t[2],t[3],t[4])),this.registerMethod("post",this._axesIcon.call(this,t[5],t[6],t[7],t[8])))},s.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var e=this._registeredMethods.post.length-1;0<=e;e--)this._registeredMethods.post[e].toString()!==this._grid().toString()&&this._registeredMethods.post[e].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(e,1)},s.default.prototype._grid=function(e,t,r,n,i){void 0===e&&(e=this.width/2),void 0===t&&(t=Math.round(e/30)<4?4:Math.round(e/30)),void 0===r&&(r=0),void 0===n&&(n=0),void 0===i&&(i=0);var s=e/t,o=e/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var e=0;e<=t;e++)this.beginShape(this.LINES),this.vertex(-o+r,n,e*s-o+i),this.vertex(+o+r,n,e*s-o+i),this.endShape();for(var a=0;a<=t;a++)this.beginShape(this.LINES),this.vertex(a*s-o+r,n,-o+i),this.vertex(a*s-o+r,n,+o+i),this.endShape();this.pop()}},s.default.prototype._axesIcon=function(e,t,r,n){return void 0===e&&(e=40<this.width/20?this.width/20:40),void 0===t&&(t=-this.width/4),void 0===r&&(r=t),void 0===n&&(n=t),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(t,r,n),this.vertex(t+e,r,n),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(t,r,n),this.vertex(t,r+e,n),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(t,r,n),this.vertex(t,r,n+e),this.endShape(),this.pop()}},r.default=s.default},{"../core/constants":250,"../core/main":260,"core-js/modules/es.array.splice":162,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179}],305:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=(i=e("../core/main"))&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}s.default.prototype.ambientLight=function(e,t,r,n){this._assert3d("ambientLight"),s.default._validateParameters("ambientLight",arguments);var i=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(i._array[0],i._array[1],i._array[2]),this._renderer._enableLighting=!0,this},s.default.prototype.specularColor=function(e,t,r){this._assert3d("specularColor"),s.default._validateParameters("specularColor",arguments);var n=this.color.apply(this,arguments);return this._renderer.specularColors=[n._array[0],n._array[1],n._array[2]],this},s.default.prototype.directionalLight=function(e,t,r,n,i,o){var a,l,c,u;this._assert3d("directionalLight"),s.default._validateParameters("directionalLight",arguments),a=e instanceof s.default.Color?e:this.color(e,t,r);var h=arguments[arguments.length-1];u="number"==typeof h?(l=arguments[arguments.length-3],c=arguments[arguments.length-2],arguments[arguments.length-1]):(l=h.x,c=h.y,h.z);var d=Math.sqrt(l*l+c*c+u*u);return this._renderer.directionalLightDirections.push(l/d,c/d,u/d),this._renderer.directionalLightDiffuseColors.push(a._array[0],a._array[1],a._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},s.default.prototype.pointLight=function(e,t,r,n,i,o){var a,l,c,u;this._assert3d("pointLight"),s.default._validateParameters("pointLight",arguments),a=e instanceof s.default.Color?e:this.color(e,t,r);var h=arguments[arguments.length-1];return u="number"==typeof h?(l=arguments[arguments.length-3],c=arguments[arguments.length-2],arguments[arguments.length-1]):(l=h.x,c=h.y,h.z),this._renderer.pointLightPositions.push(l,c,u),this._renderer.pointLightDiffuseColors.push(a._array[0],a._array[1],a._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},s.default.prototype.lights=function(){if(this._assert3d("lights"),this._colorMode===o.RGB)this.ambientLight(128,128,128),this.directionalLight(128,128,128,0,0,-1);else{var e=this._colorMaxes[this._colorMode][2];this.ambientLight(0,0,e),this.directionalLight(0,0,e,0,0,-1)}return this},s.default.prototype.lightFalloff=function(e,t,r){return this._assert3d("lightFalloff"),s.default._validateParameters("lightFalloff",arguments),e<0&&(e=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),t<0&&(t=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),r<0&&(r=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===e&&0===t&&0===r&&(e=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=e,this._renderer.linearAttenuation=t,this._renderer.quadraticAttenuation=r,this},s.default.prototype.spotLight=function(e,t,r,n,i,o,a,l,c,u,h){var d,p,f;this._assert3d("spotLight"),s.default._validateParameters("spotLight",arguments);var m=arguments.length;switch(m){case 11:case 10:d=this.color(e,t,r),p=new s.default.Vector(n,i,o),f=new s.default.Vector(a,l,c);break;case 9:e instanceof s.default.Color?(d=e,p=new s.default.Vector(t,r,n),f=new s.default.Vector(i,o,a),u=l,h=c):n instanceof s.default.Vector?(d=this.color(e,t,r),p=n,f=new s.default.Vector(i,o,a),u=l,h=c):a instanceof s.default.Vector?(d=this.color(e,t,r),p=new s.default.Vector(n,i,o),f=a,u=l,h=c):(d=this.color(e,t,r),p=new s.default.Vector(n,i,o),f=new s.default.Vector(a,l,c));break;case 8:f=e instanceof s.default.Color?(d=e,p=new s.default.Vector(t,r,n),new s.default.Vector(i,o,a)):n instanceof s.default.Vector?(d=this.color(e,t,r),p=n,new s.default.Vector(i,o,a)):(d=this.color(e,t,r),p=new s.default.Vector(n,i,o),a),u=l;break;case 7:e instanceof s.default.Color&&t instanceof s.default.Vector?(d=e,p=t,f=new s.default.Vector(r,n,i),u=o,h=a):e instanceof s.default.Color&&i instanceof s.default.Vector?(d=e,p=new s.default.Vector(t,r,n),f=i,u=o,h=a):n instanceof s.default.Vector&&i instanceof s.default.Vector?(d=this.color(e,t,r),p=n,f=i,u=o,h=a):f=e instanceof s.default.Color?(d=e,p=new s.default.Vector(t,r,n),new s.default.Vector(i,o,a)):n instanceof s.default.Vector?(d=this.color(e,t,r),p=n,new s.default.Vector(i,o,a)):(d=this.color(e,t,r),p=new s.default.Vector(n,i,o),a);break;case 6:n instanceof s.default.Vector&&i instanceof s.default.Vector?(d=this.color(e,t,r),p=n,f=i,u=o):e instanceof s.default.Color&&i instanceof s.default.Vector?(d=e,p=new s.default.Vector(t,r,n),f=i,u=o):e instanceof s.default.Color&&t instanceof s.default.Vector&&(d=e,p=t,f=new s.default.Vector(r,n,i),u=o);break;case 5:e instanceof s.default.Color&&t instanceof s.default.Vector&&r instanceof s.default.Vector?(d=e,p=t,f=r,u=n,h=i):n instanceof s.default.Vector&&i instanceof s.default.Vector?(d=this.color(e,t,r),p=n,f=i):e instanceof s.default.Color&&i instanceof s.default.Vector?(d=e,p=new s.default.Vector(t,r,n),f=i):e instanceof s.default.Color&&t instanceof s.default.Vector&&(d=e,p=t,f=new s.default.Vector(r,n,i));break;case 4:d=e,p=t,f=r,u=n;break;case 3:d=e,p=t,f=r;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(m<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(d._array[0],d._array[1],d._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(p.x,p.y,p.z),f.normalize(),this._renderer.spotLightDirections.push(f.x,f.y,f.z),void 0===u&&(u=Math.PI/3),void 0!==h&&h<1?(h=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===h&&(h=100),u=this._renderer._pInst._toRadians(u),this._renderer.spotLightAngle.push(Math.cos(u)),this._renderer.spotLightConc.push(h),this._renderer._enableLighting=!0,this},s.default.prototype.noLights=function(){return this._assert3d("noLights"),s.default._validateParameters("noLights",arguments),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this},r.default=s.default},{"../core/constants":250,"../core/main":260}],306:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};function s(e,t,r){for(var n=0,i=e.length;n<i;n++)if(e[n]!==t.getUint8(r+n,!1))return!1;return!0}e("./p5.Geometry"),i.default.prototype.loadModel=function(e){var t,r,n;i.default._validateParameters("loadModel",arguments);var o=e.slice(-4);"boolean"==typeof arguments[1]?(t=arguments[1],r=arguments[2],n=arguments[3],void 0!==arguments[4]&&(o=arguments[4])):(t=!1,r=arguments[1],n=arguments[2],void 0!==arguments[3]&&(o=arguments[3]));var a=new i.default.Geometry;a.gid="".concat(e,"|").concat(t);var l=this;return o.match(/\.stl$/i)?this.httpDo(e,"GET","arrayBuffer",function(e){!function(e,t){if(function(e){for(var t=new DataView(e),r=[115,111,108,105,100],n=0;n<5;n++)if(s(r,t,n))return!1;return!0}(t))!function(e,t){for(var r,n,s,o,a,l,c,u=new DataView(t),h=u.getUint32(80,!0),d=!1,p=0;p<70;p++)1129270351===u.getUint32(p,!1)&&82===u.getUint8(p+4)&&61===u.getUint8(p+5)&&(d=!0,o=[],a=u.getUint8(p+6)/255,l=u.getUint8(p+7)/255,c=u.getUint8(p+8)/255);for(var f=0;f<h;f++){var m=84+50*f,g=u.getFloat32(m,!0),y=u.getFloat32(4+m,!0),v=u.getFloat32(8+m,!0);if(d){var _=u.getUint16(48+m,!0);s=0==(32768&_)?(r=(31&_)/31,n=(_>>5&31)/31,(_>>10&31)/31):(r=a,n=l,c)}for(var b=new i.default.Vector(g,y,v),w=1;w<=3;w++){var x=m+12*w,S=new i.default.Vector(u.getFloat32(x,!0),u.getFloat32(4+x,!0),u.getFloat32(8+x,!0));e.vertices.push(S),e.vertexNormals.push(b),d&&o.push(r,n,s)}e.faces.push([3*f,3*f+1,3*f+2]),e.uvs.push([0,0],[0,0],[0,0])}}(e,t);else{var r=new DataView(t);if(!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");!function(e,t){for(var r,n,s="",o=[],a=0;a<t.length;++a){for(var l=t[a].trim(),c=l.split(" "),u=0;u<c.length;++u)""===c[u]&&c.splice(u,1);if(0!==c.length)switch(s){case"":if("solid"!==c[0])return console.error(l),console.error('Invalid state "'.concat(c[0],'", should be "solid"'));s="solid";break;case"solid":if("facet"!==c[0]||"normal"!==c[1])return console.error(l),console.error('Invalid state "'.concat(c[0],'", should be "facet normal"'));r=new i.default.Vector(parseFloat(c[2]),parseFloat(c[3]),parseFloat(c[4])),e.vertexNormals.push(r,r,r),s="facet normal";break;case"facet normal":if("outer"!==c[0]||"loop"!==c[1])return console.error(l),console.error('Invalid state "'.concat(c[0],'", should be "outer loop"'));s="vertex";break;case"vertex":if("vertex"===c[0])n=new i.default.Vector(parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3])),e.vertices.push(n),e.uvs.push([0,0]),o.push(e.vertices.indexOf(n));else{if("endloop"!==c[0])return console.error(l),console.error('Invalid state "'.concat(c[0],'", should be "vertex" or "endloop"'));e.faces.push(o),o=[],s="endloop"}break;case"endloop":if("endfacet"!==c[0])return console.error(l),console.error('Invalid state "'.concat(c[0],'", should be "endfacet"'));s="endfacet";break;case"endfacet":if("endsolid"!==c[0]){if("facet"!==c[0]||"normal"!==c[1])return console.error(l),console.error('Invalid state "'.concat(c[0],'", should be "endsolid" or "facet normal"'));r=new i.default.Vector(parseFloat(c[2]),parseFloat(c[3]),parseFloat(c[4])),e.vertexNormals.push(r,r,r),s="facet normal"}break;default:console.error('Invalid state "'.concat(s,'"'))}}}(e,new TextDecoder("utf-8").decode(r).split("\n"))}}(a,e),t&&a.normalize(),l._decrementPreload(),"function"==typeof r&&r(a)},n):o.match(/\.obj$/i)?this.loadStrings(e,function(e){!function(e,t){for(var r={v:[],vt:[],vn:[]},n={},s=0;s<t.length;++s){var o=t[s].trim().split(/\b\s+/);if(0<o.length)if("v"===o[0]||"vn"===o[0]){var a=new i.default.Vector(parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3]));r[o[0]].push(a)}else if("vt"===o[0]){var l=[parseFloat(o[1]),1-parseFloat(o[2])];r[o[0]].push(l)}else if("f"===o[0])for(var c=3;c<o.length;++c){for(var u=[],h=[1,c-1,c],d=0;d<h.length;++d){var p=o[h[d]],f=0;if(void 0!==n[p])f=n[p];else{for(var m=p.split("/"),g=0;g<m.length;g++)m[g]=parseInt(m[g])-1;f=n[p]=e.vertices.length,e.vertices.push(r.v[m[0]].copy()),e.uvs.push(r.vt[m[1]]?r.vt[m[1]].slice():[0,0]),r.vn[m[2]]&&e.vertexNormals.push(r.vn[m[2]].copy())}u.push(f)}u[0]!==u[1]&&u[0]!==u[2]&&u[1]!==u[2]&&e.faces.push(u)}}0===e.vertexNormals.length&&e.computeNormals()}(a,e),t&&a.normalize(),l._decrementPreload(),"function"==typeof r&&r(a)},n):(i.default._friendlyFileLoadError(3,e),n?n():console.error("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),a},i.default.prototype.model=function(e){this._assert3d("model"),i.default._validateParameters("model",arguments),0<e.vertices.length&&(this._renderer.geometryInHash(e.gid)||(e._makeTriangleEdges()._edgesToVertices(),this._renderer.createBuffers(e.gid,e)),this._renderer.drawBuffers(e.gid))},r.default=i.default},{"../core/main":260,"./p5.Geometry":309,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.slice":160,"core-js/modules/es.array.splice":162,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.match":184,"core-js/modules/es.string.split":188,"core-js/modules/es.string.trim":190}],307:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.array.join"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=(i=e("../core/main"))&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}e("./p5.Texture"),s.default.prototype.loadShader=function(e,t,r,n){function i(){a._decrementPreload(),r&&r(o)}s.default._validateParameters("loadShader",arguments),n=n||console.error;var o=new s.default.Shader,a=this,l=!1,c=!1;return this.loadStrings(e,function(e){o._vertSrc=e.join("\n"),c=!0,l&&i()},n),this.loadStrings(t,function(e){o._fragSrc=e.join("\n"),l=!0,c&&i()},n),o},s.default.prototype.createShader=function(e,t){return this._assert3d("createShader"),s.default._validateParameters("createShader",arguments),new s.default.Shader(this._renderer,e,t)},s.default.prototype.shader=function(e){return this._assert3d("shader"),s.default._validateParameters("shader",arguments),void 0===e._renderer&&(e._renderer=this._renderer),e.isStrokeShader()?this._renderer.userStrokeShader=e:(this._renderer.userFillShader=e,this._renderer._useNormalMaterial=!1),e.init(),this},s.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},s.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s.default._validateParameters("normalMaterial",t),this._renderer.drawMode=o.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},s.default.prototype.texture=function(e){return this._assert3d("texture"),s.default._validateParameters("texture",arguments),e.gifProperties&&e._animateGif(this),this._renderer.drawMode=o.TEXTURE,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._tex=e,this._renderer._setProperty("_doFill",!0),this},s.default.prototype.textureMode=function(e){e!==o.IMAGE&&e!==o.NORMAL?console.warn("You tried to set ".concat(e," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=e},s.default.prototype.textureWrap=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e;this._renderer.textureWrapX=e,this._renderer.textureWrapY=t;for(var r=this._renderer.textures,n=0;n<r.length;n++)r[n].setWrapMode(e,t)},s.default.prototype.ambientMaterial=function(e,t,r){this._assert3d("ambientMaterial"),s.default._validateParameters("ambientMaterial",arguments);var n=s.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=n._array,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},s.default.prototype.emissiveMaterial=function(e,t,r,n){this._assert3d("emissiveMaterial"),s.default._validateParameters("emissiveMaterial",arguments);var i=s.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=i._array,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},s.default.prototype.specularMaterial=function(e,t,r,n){this._assert3d("specularMaterial"),s.default._validateParameters("specularMaterial",arguments);var i=s.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=i._array,this._renderer._useSpecularMaterial=!0,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},s.default.prototype.shininess=function(e){return this._assert3d("shininess"),s.default._validateParameters("shininess",arguments),e<1&&(e=1),this._renderer._useShininess=e,this},s.default.RendererGL.prototype._applyColorBlend=function(e){var t=this.GL,r=this.drawMode===o.TEXTURE||e[e.length-1]<1||this._isErasing;return r!==this._isBlending&&(r||this.curBlendMode!==o.BLEND&&this.curBlendMode!==o.ADD?t.enable(t.BLEND):t.disable(t.BLEND),t.depthMask(!0),this._isBlending=r),this._applyBlendMode(),e},s.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var e=this.GL;switch(this.curBlendMode){case o.BLEND:case o.ADD:e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA);break;case o.REMOVE:e.blendEquation(e.FUNC_REVERSE_SUBTRACT),e.blendFunc(e.SRC_ALPHA,e.DST_ALPHA);break;case o.MULTIPLY:e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ONE,e.ONE);break;case o.SCREEN:e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE_MINUS_DST_COLOR,e.ONE,e.ONE,e.ONE);break;case o.EXCLUSION:e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE_MINUS_DST_COLOR,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE);break;case o.REPLACE:e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO);break;case o.SUBTRACT:e.blendEquationSeparate(e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE,e.ONE,e.ONE);break;case o.DARKEST:this.blendExt?(e.blendEquationSeparate(this.blendExt.MIN_EXT,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case o.LIGHTEST:this.blendExt?(e.blendEquationSeparate(this.blendExt.MAX_EXT,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}},r.default=s.default},{"../core/constants":250,"../core/main":260,"./p5.Texture":316,"core-js/modules/es.array.join":157}],308:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};i.default.prototype.camera=function(){var e;this._assert3d("camera");for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return i.default._validateParameters("camera",r),(e=this._renderer._curCamera).camera.apply(e,r),this},i.default.prototype.perspective=function(){var e;this._assert3d("perspective");for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return i.default._validateParameters("perspective",r),(e=this._renderer._curCamera).perspective.apply(e,r),this},i.default.prototype.ortho=function(){var e;this._assert3d("ortho");for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return i.default._validateParameters("ortho",r),(e=this._renderer._curCamera).ortho.apply(e,r),this},i.default.prototype.frustum=function(){var e;this._assert3d("frustum");for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return i.default._validateParameters("frustum",r),(e=this._renderer._curCamera).frustum.apply(e,r),this},i.default.prototype.createCamera=function(){this._assert3d("createCamera");var e=new i.default.Camera(this._renderer);return e._computeCameraDefaultSettings(),e._setDefaultCamera(),this._renderer._curCamera=e},i.default.Camera=function(e){this._renderer=e,this.cameraType="default",this.cameraMatrix=new i.default.Matrix,this.projMatrix=new i.default.Matrix},i.default.Camera.prototype.perspective=function(e,t,r,n){this.cameraType=0<arguments.length?"custom":"default",this.cameraFOV=void 0===e?e=this.defaultCameraFOV:this._renderer._pInst._toRadians(e),void 0===t&&(t=this.defaultAspectRatio),void 0===r&&(r=this.defaultCameraNear),void 0===n&&(n=this.defaultCameraFar),r<=1e-4&&(r=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),n<r&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=t,this.cameraNear=r,this.cameraFar=n,this.projMatrix=i.default.Matrix.identity();var s=1/Math.tan(this.cameraFOV/2),o=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(s/t,0,0,0,0,-s,0,0,0,0,(n+r)*o,-1,0,0,2*n*r*o,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])},i.default.Camera.prototype.ortho=function(e,t,r,n,s,o){void 0===e&&(e=-this._renderer.width/2),void 0===t&&(t=this._renderer.width/2),void 0===r&&(r=-this._renderer.height/2),void 0===n&&(n=this._renderer.height/2),void 0===s&&(s=0),void 0===o&&(o=Math.max(this._renderer.width,this._renderer.height));var a=t-e,l=n-r,c=o-s,u=2/a,h=2/l,d=-2/c,p=-(t+e)/a,f=-(n+r)/l,m=-(o+s)/c;this.projMatrix=i.default.Matrix.identity(),this.projMatrix.set(u,0,0,0,0,-h,0,0,0,0,d,0,p,f,m,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},i.default.Camera.prototype.frustum=function(e,t,r,n,s,o){void 0===e&&(e=-this._renderer.width/2),void 0===t&&(t=this._renderer.width/2),void 0===r&&(r=-this._renderer.height/2),void 0===n&&(n=this._renderer.height/2),void 0===s&&(s=0),void 0===o&&(o=Math.max(this._renderer.width,this._renderer.height));var a=t-e,l=n-r,c=o-s,u=2*s/a,h=2*s/l,d=-2*o*s/c,p=(t+e)/a,f=(n+r)/l,m=-(o+s)/c;this.projMatrix=i.default.Matrix.identity(),this.projMatrix.set(u,0,0,0,0,h,0,0,p,f,m,-1,0,0,d,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},i.default.Camera.prototype._rotateView=function(e,t,r,n){var s=this.centerX,o=this.centerY,a=this.centerZ;s-=this.eyeX,o-=this.eyeY,a-=this.eyeZ;var l=i.default.Matrix.identity(this._renderer._pInst);l.rotate(this._renderer._pInst._toRadians(e),t,r,n);var c=[s*l.mat4[0]+o*l.mat4[4]+a*l.mat4[8],s*l.mat4[1]+o*l.mat4[5]+a*l.mat4[9],s*l.mat4[2]+o*l.mat4[6]+a*l.mat4[10]];c[0]+=this.eyeX,c[1]+=this.eyeY,c[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,c[0],c[1],c[2],this.upX,this.upY,this.upZ)},i.default.Camera.prototype.pan=function(e){var t=this._getLocalAxes();this._rotateView(e,t.y[0],t.y[1],t.y[2])},i.default.Camera.prototype.tilt=function(e){var t=this._getLocalAxes();this._rotateView(e,t.x[0],t.x[1],t.x[2])},i.default.Camera.prototype.lookAt=function(e,t,r){this.camera(this.eyeX,this.eyeY,this.eyeZ,e,t,r,this.upX,this.upY,this.upZ)},i.default.Camera.prototype.camera=function(e,t,r,n,i,s,o,a,l){void 0===e&&(r=this.defaultEyeZ,n=e=this.defaultEyeX,i=t=this.defaultEyeY,a=1,l=o=s=0),this.eyeX=e,this.eyeY=t,this.eyeZ=r,void 0!==n&&(this.centerX=n,this.centerY=i,this.centerZ=s),void 0!==o&&(this.upX=o,this.upY=a,this.upZ=l);var c=this._getLocalAxes();return this.cameraMatrix.set(c.x[0],c.y[0],c.z[0],0,c.x[1],c.y[1],c.z[1],0,c.x[2],c.y[2],c.z[2],0,0,0,0,1),this.cameraMatrix.translate([-e,-t,-r]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},i.default.Camera.prototype.move=function(e,t,r){var n=this._getLocalAxes(),i=[n.x[0]*e,n.x[1]*e,n.x[2]*e],s=[n.y[0]*t,n.y[1]*t,n.y[2]*t],o=[n.z[0]*r,n.z[1]*r,n.z[2]*r];this.camera(this.eyeX+i[0]+s[0]+o[0],this.eyeY+i[1]+s[1]+o[1],this.eyeZ+i[2]+s[2]+o[2],this.centerX+i[0]+s[0]+o[0],this.centerY+i[1]+s[1]+o[1],this.centerZ+i[2]+s[2]+o[2],0,1,0)},i.default.Camera.prototype.setPosition=function(e,t,r){this.camera(e,t,r,this.centerX+(e-this.eyeX),this.centerY+(t-this.eyeY),this.centerZ+(r-this.eyeZ),0,1,0)},i.default.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ},i.default.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"},i.default.Camera.prototype._resize=function(){"default"===this.cameraType?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)},i.default.Camera.prototype.copy=function(){var e=new i.default.Camera(this._renderer);return e.cameraFOV=this.cameraFOV,e.aspectRatio=this.aspectRatio,e.eyeX=this.eyeX,e.eyeY=this.eyeY,e.eyeZ=this.eyeZ,e.centerX=this.centerX,e.centerY=this.centerY,e.centerZ=this.centerZ,e.cameraNear=this.cameraNear,e.cameraFar=this.cameraFar,e.cameraType=this.cameraType,e.cameraMatrix=this.cameraMatrix.copy(),e.projMatrix=this.projMatrix.copy(),e},i.default.Camera.prototype._getLocalAxes=function(){var e=this.eyeX-this.centerX,t=this.eyeY-this.centerY,r=this.eyeZ-this.centerZ,n=Math.sqrt(e*e+t*t+r*r);0!==n&&(e/=n,t/=n,r/=n);var i=this.upX,s=this.upY,o=this.upZ,a=s*r-o*t,l=-i*r+o*e,c=i*t-s*e;i=t*c-r*l,s=-e*c+r*a,o=e*l-t*a;var u=Math.sqrt(a*a+l*l+c*c);0!==u&&(a/=u,l/=u,c/=u);var h=Math.sqrt(i*i+s*s+o*o);return 0!==h&&(i/=h,s/=h,o/=h),{x:[a,l,c],y:[i,s,o],z:[e,t,r]}},i.default.Camera.prototype._orbit=function(e,t,r){var n=this.eyeX-this.centerX,i=this.eyeY-this.centerY,s=this.eyeZ-this.centerZ,o=Math.sqrt(n*n+i*i+s*s),a=Math.atan2(n,s),l=Math.acos(Math.max(-1,Math.min(1,i/o)));a+=e,(o+=r)<0&&(o=.1),(l+=t)>Math.PI?l=Math.PI:l<=0&&(l=.001);var c=Math.sin(l)*o*Math.sin(a),u=Math.cos(l)*o,h=Math.sin(l)*o*Math.cos(a);this.camera(c+this.centerX,u+this.centerY,h+this.centerZ,this.centerX,this.centerY,this.centerZ,0,1,0)},i.default.Camera.prototype._isActive=function(){return this===this._renderer._curCamera},i.default.prototype.setCamera=function(e){this._renderer._curCamera=e,this._renderer.uPMatrix.set(e.projMatrix.mat4[0],e.projMatrix.mat4[1],e.projMatrix.mat4[2],e.projMatrix.mat4[3],e.projMatrix.mat4[4],e.projMatrix.mat4[5],e.projMatrix.mat4[6],e.projMatrix.mat4[7],e.projMatrix.mat4[8],e.projMatrix.mat4[9],e.projMatrix.mat4[10],e.projMatrix.mat4[11],e.projMatrix.mat4[12],e.projMatrix.mat4[13],e.projMatrix.mat4[14],e.projMatrix.mat4[15])},r.default=i.default.Camera},{"../core/main":260}],309:[function(e,t,r){"use strict";e("core-js/modules/es.string.sub"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};i.default.Geometry=function(e,t,r){return this.vertices=[],this.lineVertices=[],this.lineNormals=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.detailX=void 0!==e?e:1,this.detailY=void 0!==t?t:1,this.dirtyFlags={},r instanceof Function&&r.call(this),this},i.default.Geometry.prototype.reset=function(){this.lineVertices.length=0,this.lineNormals.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}},i.default.Geometry.prototype.computeFaces=function(){this.faces.length=0;for(var e,t,r,n,i=this.detailX+1,s=0;s<this.detailY;s++)for(var o=0;o<this.detailX;o++)t=(e=s*i+o)+1,r=(s+1)*i+o+1,this.faces.push([e,t,n=(s+1)*i+o]),this.faces.push([n,t,r]);return this},i.default.Geometry.prototype._getFaceNormal=function(e){var t=this.faces[e],r=this.vertices[t[0]],n=this.vertices[t[2]],s=i.default.Vector.sub(this.vertices[t[1]],r),o=i.default.Vector.sub(n,r),a=i.default.Vector.cross(s,o),l=i.default.Vector.mag(a),c=l/(i.default.Vector.mag(s)*i.default.Vector.mag(o));return 0===c||isNaN(c)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),a):(1<c&&(c=1),a.mult(Math.asin(c)/l))},i.default.Geometry.prototype.computeNormals=function(){var e,t=this.vertexNormals,r=this.vertices,n=this.faces;for(e=t.length=0;e<r.length;++e)t.push(new i.default.Vector);for(var s=0;s<n.length;++s)for(var o=n[s],a=this._getFaceNormal(s),l=0;l<3;++l)t[o[l]].add(a);for(e=0;e<r.length;++e)t[e].normalize();return this},i.default.Geometry.prototype.averageNormals=function(){for(var e=0;e<=this.detailY;e++){var t=this.detailX+1,r=i.default.Vector.add(this.vertexNormals[e*t],this.vertexNormals[e*t+this.detailX]);r=i.default.Vector.div(r,2),this.vertexNormals[e*t]=r,this.vertexNormals[e*t+this.detailX]=r}return this},i.default.Geometry.prototype.averagePoleNormals=function(){for(var e=new i.default.Vector(0,0,0),t=0;t<this.detailX;t++)e.add(this.vertexNormals[t]);e=i.default.Vector.div(e,this.detailX);for(var r=0;r<this.detailX;r++)this.vertexNormals[r]=e;e=new i.default.Vector(0,0,0);for(var n=this.vertices.length-1;n>this.vertices.length-1-this.detailX;n--)e.add(this.vertexNormals[n]);e=i.default.Vector.div(e,this.detailX);for(var s=this.vertices.length-1;s>this.vertices.length-1-this.detailX;s--)this.vertexNormals[s]=e;return this},i.default.Geometry.prototype._makeTriangleEdges=function(){if(this.edges.length=0,Array.isArray(this.strokeIndices))for(var e=0,t=this.strokeIndices.length;e<t;e++)this.edges.push(this.strokeIndices[e]);else for(var r=0;r<this.faces.length;r++)this.edges.push([this.faces[r][0],this.faces[r][1]]),this.edges.push([this.faces[r][1],this.faces[r][2]]),this.edges.push([this.faces[r][2],this.faces[r][0]]);return this},i.default.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0;for(var e=this.lineNormals.length=0;e<this.edges.length;e++){var t=this.vertices[this.edges[e][0]],r=this.vertices[this.edges[e][1]],n=r.copy().sub(t).normalize(),i=t.array(),s=t.array(),o=r.array(),a=r.array(),l=n.array(),c=n.array();l.push(1),c.push(-1),this.lineNormals.push(l,c,l,l,c,c),this.lineVertices.push(i,s,o,o,s,a)}return this},i.default.Geometry.prototype.normalize=function(){if(0<this.vertices.length){for(var e=this.vertices[0].copy(),t=this.vertices[0].copy(),r=0;r<this.vertices.length;r++)e.x=Math.max(e.x,this.vertices[r].x),t.x=Math.min(t.x,this.vertices[r].x),e.y=Math.max(e.y,this.vertices[r].y),t.y=Math.min(t.y,this.vertices[r].y),e.z=Math.max(e.z,this.vertices[r].z),t.z=Math.min(t.z,this.vertices[r].z);for(var n=i.default.Vector.lerp(e,t,.5),s=i.default.Vector.sub(e,t),o=200/Math.max(Math.max(s.x,s.y),s.z),a=0;a<this.vertices.length;a++)this.vertices[a].sub(n),this.vertices[a].mult(o)}return this},r.default=i.default.Geometry},{"../core/main":260,"core-js/modules/es.string.sub":189}],310:[function(e,t,r){"use strict";e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n},s=Array,o=function(e){return e instanceof Array};"undefined"!=typeof Float32Array&&(s=Float32Array,o=function(e){return e instanceof Array||e instanceof Float32Array}),i.default.Matrix=function(){for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];return e.length&&e[e.length-1]instanceof i.default&&(this.p5=e[e.length-1]),"mat3"===e[0]?this.mat3=Array.isArray(e[1])?e[1]:new s([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(e[0])?e[0]:new s([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},i.default.Matrix.prototype.set=function(e){return e instanceof i.default.Matrix?this.mat4=e.mat4:o(e)?this.mat4=e:16===arguments.length&&(this.mat4[0]=e,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this},i.default.Matrix.prototype.get=function(){return new i.default.Matrix(this.mat4,this.p5)},i.default.Matrix.prototype.copy=function(){var e=new i.default.Matrix(this.p5);return e.mat4[0]=this.mat4[0],e.mat4[1]=this.mat4[1],e.mat4[2]=this.mat4[2],e.mat4[3]=this.mat4[3],e.mat4[4]=this.mat4[4],e.mat4[5]=this.mat4[5],e.mat4[6]=this.mat4[6],e.mat4[7]=this.mat4[7],e.mat4[8]=this.mat4[8],e.mat4[9]=this.mat4[9],e.mat4[10]=this.mat4[10],e.mat4[11]=this.mat4[11],e.mat4[12]=this.mat4[12],e.mat4[13]=this.mat4[13],e.mat4[14]=this.mat4[14],e.mat4[15]=this.mat4[15],e},i.default.Matrix.identity=function(e){return new i.default.Matrix(e)},i.default.Matrix.prototype.transpose=function(e){var t,r,n,s,a,l;return e instanceof i.default.Matrix?(t=e.mat4[1],r=e.mat4[2],n=e.mat4[3],s=e.mat4[6],a=e.mat4[7],l=e.mat4[11],this.mat4[0]=e.mat4[0],this.mat4[1]=e.mat4[4],this.mat4[2]=e.mat4[8],this.mat4[3]=e.mat4[12],this.mat4[4]=t,this.mat4[5]=e.mat4[5],this.mat4[6]=e.mat4[9],this.mat4[7]=e.mat4[13],this.mat4[8]=r,this.mat4[9]=s,this.mat4[10]=e.mat4[10],this.mat4[11]=e.mat4[14],this.mat4[12]=n,this.mat4[13]=a,this.mat4[14]=l,this.mat4[15]=e.mat4[15]):o(e)&&(t=e[1],r=e[2],n=e[3],s=e[6],a=e[7],l=e[11],this.mat4[0]=e[0],this.mat4[1]=e[4],this.mat4[2]=e[8],this.mat4[3]=e[12],this.mat4[4]=t,this.mat4[5]=e[5],this.mat4[6]=e[9],this.mat4[7]=e[13],this.mat4[8]=r,this.mat4[9]=s,this.mat4[10]=e[10],this.mat4[11]=e[14],this.mat4[12]=n,this.mat4[13]=a,this.mat4[14]=l,this.mat4[15]=e[15]),this},i.default.Matrix.prototype.invert=function(e){var t,r,n,s,a,l,c,u,h,d,p,f,m,g,y,v;e instanceof i.default.Matrix?(t=e.mat4[0],r=e.mat4[1],n=e.mat4[2],s=e.mat4[3],a=e.mat4[4],l=e.mat4[5],c=e.mat4[6],u=e.mat4[7],h=e.mat4[8],d=e.mat4[9],p=e.mat4[10],f=e.mat4[11],m=e.mat4[12],g=e.mat4[13],y=e.mat4[14],v=e.mat4[15]):o(e)&&(t=e[0],r=e[1],n=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],h=e[8],d=e[9],p=e[10],f=e[11],m=e[12],g=e[13],y=e[14],v=e[15]);var _=t*l-r*a,b=t*c-n*a,w=t*u-s*a,x=r*c-n*l,S=r*u-s*l,M=n*u-s*c,E=h*g-d*m,T=h*y-p*m,C=h*v-f*m,A=d*y-p*g,L=d*v-f*g,P=p*v-f*y,O=_*P-b*L+w*A+x*C-S*T+M*E;return O?(this.mat4[0]=(l*P-c*L+u*A)*(O=1/O),this.mat4[1]=(n*L-r*P-s*A)*O,this.mat4[2]=(g*M-y*S+v*x)*O,this.mat4[3]=(p*S-d*M-f*x)*O,this.mat4[4]=(c*C-a*P-u*T)*O,this.mat4[5]=(t*P-n*C+s*T)*O,this.mat4[6]=(y*w-m*M-v*b)*O,this.mat4[7]=(h*M-p*w+f*b)*O,this.mat4[8]=(a*L-l*C+u*E)*O,this.mat4[9]=(r*C-t*L-s*E)*O,this.mat4[10]=(m*S-g*w+v*_)*O,this.mat4[11]=(d*w-h*S-f*_)*O,this.mat4[12]=(l*T-a*A-c*E)*O,this.mat4[13]=(t*A-r*T+n*E)*O,this.mat4[14]=(g*b-m*x-y*_)*O,this.mat4[15]=(h*x-d*b+p*_)*O,this):null},i.default.Matrix.prototype.invert3x3=function(){var e=this.mat3[0],t=this.mat3[1],r=this.mat3[2],n=this.mat3[3],i=this.mat3[4],s=this.mat3[5],o=this.mat3[6],a=this.mat3[7],l=this.mat3[8],c=l*i-s*a,u=-l*n+s*o,h=a*n-i*o,d=e*c+t*u+r*h;return d?(this.mat3[0]=c*(d=1/d),this.mat3[1]=(-l*t+r*a)*d,this.mat3[2]=(s*t-r*i)*d,this.mat3[3]=u*d,this.mat3[4]=(l*e-r*o)*d,this.mat3[5]=(-s*e+r*n)*d,this.mat3[6]=h*d,this.mat3[7]=(-a*e+t*o)*d,this.mat3[8]=(i*e-t*n)*d,this):null},i.default.Matrix.prototype.transpose3x3=function(e){var t=e[1],r=e[2],n=e[5];return this.mat3[1]=e[3],this.mat3[2]=e[6],this.mat3[3]=t,this.mat3[5]=e[7],this.mat3[6]=r,this.mat3[7]=n,this},i.default.Matrix.prototype.inverseTranspose=function(e){void 0===this.mat3?console.error("sorry, this function only works with mat3"):(this.mat3[0]=e.mat4[0],this.mat3[1]=e.mat4[1],this.mat3[2]=e.mat4[2],this.mat3[3]=e.mat4[4],this.mat3[4]=e.mat4[5],this.mat3[5]=e.mat4[6],this.mat3[6]=e.mat4[8],this.mat3[7]=e.mat4[9],this.mat3[8]=e.mat4[10]);var t=this.invert3x3();if(t)t.transpose3x3(this.mat3);else for(var r=0;r<9;r++)this.mat3[r]=0;return this},i.default.Matrix.prototype.determinant=function(){return(this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4])*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-(this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4])*(this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13])+(this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4])*(this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13])+(this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5])*(this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12])-(this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5])*(this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12])+(this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6])*(this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12])},i.default.Matrix.prototype.mult=function(e){var t;if(e===this||e===this.mat4)t=this.copy().mat4;else if(e instanceof i.default.Matrix)t=e.mat4;else if(o(e))t=e;else{if(16!==arguments.length)return;t=arguments}var r=this.mat4[0],n=this.mat4[1],s=this.mat4[2],a=this.mat4[3];return this.mat4[0]=r*t[0]+n*t[4]+s*t[8]+a*t[12],this.mat4[1]=r*t[1]+n*t[5]+s*t[9]+a*t[13],this.mat4[2]=r*t[2]+n*t[6]+s*t[10]+a*t[14],this.mat4[3]=r*t[3]+n*t[7]+s*t[11]+a*t[15],this.mat4[4]=(r=this.mat4[4])*t[0]+(n=this.mat4[5])*t[4]+(s=this.mat4[6])*t[8]+(a=this.mat4[7])*t[12],this.mat4[5]=r*t[1]+n*t[5]+s*t[9]+a*t[13],this.mat4[6]=r*t[2]+n*t[6]+s*t[10]+a*t[14],this.mat4[7]=r*t[3]+n*t[7]+s*t[11]+a*t[15],this.mat4[8]=(r=this.mat4[8])*t[0]+(n=this.mat4[9])*t[4]+(s=this.mat4[10])*t[8]+(a=this.mat4[11])*t[12],this.mat4[9]=r*t[1]+n*t[5]+s*t[9]+a*t[13],this.mat4[10]=r*t[2]+n*t[6]+s*t[10]+a*t[14],this.mat4[11]=r*t[3]+n*t[7]+s*t[11]+a*t[15],this.mat4[12]=(r=this.mat4[12])*t[0]+(n=this.mat4[13])*t[4]+(s=this.mat4[14])*t[8]+(a=this.mat4[15])*t[12],this.mat4[13]=r*t[1]+n*t[5]+s*t[9]+a*t[13],this.mat4[14]=r*t[2]+n*t[6]+s*t[10]+a*t[14],this.mat4[15]=r*t[3]+n*t[7]+s*t[11]+a*t[15],this},i.default.Matrix.prototype.apply=function(e){var t;if(e===this||e===this.mat4)t=this.copy().mat4;else if(e instanceof i.default.Matrix)t=e.mat4;else if(o(e))t=e;else{if(16!==arguments.length)return;t=arguments}var r=this.mat4,n=r[0],s=r[4],a=r[8],l=r[12];r[0]=t[0]*n+t[1]*s+t[2]*a+t[3]*l,r[4]=t[4]*n+t[5]*s+t[6]*a+t[7]*l,r[8]=t[8]*n+t[9]*s+t[10]*a+t[11]*l,r[12]=t[12]*n+t[13]*s+t[14]*a+t[15]*l;var c=r[1],u=r[5],h=r[9],d=r[13];r[1]=t[0]*c+t[1]*u+t[2]*h+t[3]*d,r[5]=t[4]*c+t[5]*u+t[6]*h+t[7]*d,r[9]=t[8]*c+t[9]*u+t[10]*h+t[11]*d,r[13]=t[12]*c+t[13]*u+t[14]*h+t[15]*d;var p=r[2],f=r[6],m=r[10],g=r[14];r[2]=t[0]*p+t[1]*f+t[2]*m+t[3]*g,r[6]=t[4]*p+t[5]*f+t[6]*m+t[7]*g,r[10]=t[8]*p+t[9]*f+t[10]*m+t[11]*g,r[14]=t[12]*p+t[13]*f+t[14]*m+t[15]*g;var y=r[3],v=r[7],_=r[11],b=r[15];return r[3]=t[0]*y+t[1]*v+t[2]*_+t[3]*b,r[7]=t[4]*y+t[5]*v+t[6]*_+t[7]*b,r[11]=t[8]*y+t[9]*v+t[10]*_+t[11]*b,r[15]=t[12]*y+t[13]*v+t[14]*_+t[15]*b,this},i.default.Matrix.prototype.scale=function(e,t,r){return e instanceof i.default.Vector?(t=e.y,r=e.z,e=e.x):e instanceof Array&&(t=e[1],r=e[2],e=e[0]),this.mat4[0]*=e,this.mat4[1]*=e,this.mat4[2]*=e,this.mat4[3]*=e,this.mat4[4]*=t,this.mat4[5]*=t,this.mat4[6]*=t,this.mat4[7]*=t,this.mat4[8]*=r,this.mat4[9]*=r,this.mat4[10]*=r,this.mat4[11]*=r,this},i.default.Matrix.prototype.rotate=function(e,t,r,n){t instanceof i.default.Vector?(r=t.y,n=t.z,t=t.x):t instanceof Array&&(r=t[1],n=t[2],t=t[0]);var s=Math.sqrt(t*t+r*r+n*n);t*=1/s,r*=1/s,n*=1/s;var o=this.mat4[0],a=this.mat4[1],l=this.mat4[2],c=this.mat4[3],u=this.mat4[4],h=this.mat4[5],d=this.mat4[6],p=this.mat4[7],f=this.mat4[8],m=this.mat4[9],g=this.mat4[10],y=this.mat4[11],v=Math.sin(e),_=Math.cos(e),b=1-_,w=t*t*b+_,x=r*t*b+n*v,S=n*t*b-r*v,M=t*r*b-n*v,E=r*r*b+_,T=n*r*b+t*v,C=t*n*b+r*v,A=r*n*b-t*v,L=n*n*b+_;return this.mat4[0]=o*w+u*x+f*S,this.mat4[1]=a*w+h*x+m*S,this.mat4[2]=l*w+d*x+g*S,this.mat4[3]=c*w+p*x+y*S,this.mat4[4]=o*M+u*E+f*T,this.mat4[5]=a*M+h*E+m*T,this.mat4[6]=l*M+d*E+g*T,this.mat4[7]=c*M+p*E+y*T,this.mat4[8]=o*C+u*A+f*L,this.mat4[9]=a*C+h*A+m*L,this.mat4[10]=l*C+d*A+g*L,this.mat4[11]=c*C+p*A+y*L,this},i.default.Matrix.prototype.translate=function(e){var t=e[0],r=e[1],n=e[2]||0;this.mat4[12]+=this.mat4[0]*t+this.mat4[4]*r+this.mat4[8]*n,this.mat4[13]+=this.mat4[1]*t+this.mat4[5]*r+this.mat4[9]*n,this.mat4[14]+=this.mat4[2]*t+this.mat4[6]*r+this.mat4[10]*n,this.mat4[15]+=this.mat4[3]*t+this.mat4[7]*r+this.mat4[11]*n},i.default.Matrix.prototype.rotateX=function(e){this.rotate(e,1,0,0)},i.default.Matrix.prototype.rotateY=function(e){this.rotate(e,0,1,0)},i.default.Matrix.prototype.rotateZ=function(e){this.rotate(e,0,0,1)},i.default.Matrix.prototype.perspective=function(e,t,r,n){var i=1/Math.tan(e/2),s=1/(r-n);return this.mat4[0]=i/t,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=i,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(n+r)*s,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*n*r*s,this.mat4[15]=0,this},i.default.Matrix.prototype.ortho=function(e,t,r,n,i,s){var o=1/(e-t),a=1/(r-n),l=1/(i-s);return this.mat4[0]=-2*o,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*a,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*l,this.mat4[11]=0,this.mat4[12]=(e+t)*o,this.mat4[13]=(n+r)*a,this.mat4[14]=(s+i)*l,this.mat4[15]=1,this},r.default=i.default.Matrix},{"../core/main":260,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.float32-array":200,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220}],311:[function(e,t,r){"use strict";e("core-js/modules/es.array.map"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};i.default.RenderBuffer=function(e,t,r,n,i,s){this.size=e,this.src=t,this.dst=r,this.attr=n,this._renderer=i,this.map=s},i.default.RenderBuffer.prototype._prepareBuffer=function(e,t){var r,n=this._renderer.GL;r=e.model?e.model:e;var i=t.attributes[this.attr];if(i){var s=e[this.dst],o=r[this.src];if(0<o.length){var a=!s;if(a&&(e[this.dst]=s=n.createBuffer()),n.bindBuffer(n.ARRAY_BUFFER,s),a||!1!==r.dirtyFlags[this.src]){var l=this.map,c=l?l(o):o;this._renderer._bindBuffer(s,n.ARRAY_BUFFER,c),r.dirtyFlags[this.src]=!1}t.enableAttrib(i,this.size)}}},r.default=i.default.RenderBuffer},{"../core/main":260,"core-js/modules/es.array.map":159}],312:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=(i=e("../core/main"))&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}e("./p5.RenderBuffer"),s.default.RendererGL.prototype.beginShape=function(e){return this.immediateMode.shapeMode=void 0!==e?e:o.TRIANGLE_FAN,this.immediateMode.geometry.reset(),this},s.default.RendererGL.prototype.vertex=function(e,t){var r,n,i;r=n=i=0,3===arguments.length?r=arguments[2]:4===arguments.length?(n=arguments[2],i=arguments[3]):5===arguments.length&&(r=arguments[2],n=arguments[3],i=arguments[4]);var a=new s.default.Vector(e,t,r);this.immediateMode.geometry.vertices.push(a);var l=this.curFillColor||[.5,.5,.5,1];return this.immediateMode.geometry.vertexColors.push(l[0],l[1],l[2],l[3]),this.textureMode===o.IMAGE&&(null!==this._tex?0<this._tex.width&&0<this._tex.height&&(n/=this._tex.width,i/=this._tex.height):null===this._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(n,i),this.immediateMode._bezierVertex[0]=e,this.immediateMode._bezierVertex[1]=t,this.immediateMode._bezierVertex[2]=r,this.immediateMode._quadraticVertex[0]=e,this.immediateMode._quadraticVertex[1]=t,this.immediateMode._quadraticVertex[2]=r,this},s.default.RendererGL.prototype.endShape=function(e,t,r,n,i,s){return this.immediateMode.shapeMode===o.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this._processVertices.apply(this,arguments),this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},s.default.RendererGL.prototype._processVertices=function(e){0!==this.immediateMode.geometry.vertices.length&&(this._doStroke&&this.drawMode!==o.TEXTURE&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,e===o.CLOSE),this.immediateMode.geometry._edgesToVertices()),(this.isBezier||this.isQuadratic||this.isCurve||this.immediateMode.shapeMode===o.TESS)&&this.immediateMode.shapeMode!==o.LINES&&this._tesselateShape())},s.default.RendererGL.prototype._calculateEdges=function(e,t,r){var n=[],i=0;switch(e){case o.TRIANGLE_STRIP:for(i=0;i<t.length-2;i++)n.push([i,i+1]),n.push([i,i+2]);n.push([i,i+1]);break;case o.TRIANGLES:for(i=0;i<t.length-2;i+=3)n.push([i,i+1]),n.push([i+1,i+2]),n.push([i+2,i]);break;case o.LINES:for(i=0;i<t.length-1;i+=2)n.push([i,i+1]);break;default:for(i=0;i<t.length-1;i++)n.push([i,i+1])}return r&&n.push([t.length-1,0]),n},s.default.RendererGL.prototype._tesselateShape=function(){this.immediateMode.shapeMode=o.TRIANGLES;var e=[new Float32Array(this._vToNArray(this.immediateMode.geometry.vertices))],t=this._triangulate(e);this.immediateMode.geometry.vertices=[];for(var r=0,n=t.length;r<n;r+=3)this.vertex(t[r],t[r+1],t[r+2])},s.default.RendererGL.prototype._drawImmediateFill=function(){var e=this.GL,t=this._getImmediateFillShader();this._calculateNormals(this.immediateMode.geometry),this._setFillUniforms(t);var r=!0,n=!1,i=void 0;try{for(var s,a=this.immediateMode.buffers.fill[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)s.value._prepareBuffer(this.immediateMode.geometry,t)}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}this.immediateMode.shapeMode!==o.LINE_STRIP&&this.immediateMode.shapeMode!==o.LINES||(this.immediateMode.shapeMode=o.TRIANGLE_FAN),this._applyColorBlend(this.curFillColor),e.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),t.unbindShader()},s.default.RendererGL.prototype._drawImmediateStroke=function(){var e=this.GL,t=this._getImmediateStrokeShader();this._setStrokeUniforms(t);var r=!0,n=!1,i=void 0;try{for(var s,o=this.immediateMode.buffers.stroke[Symbol.iterator]();!(r=(s=o.next()).done);r=!0)s.value._prepareBuffer(this.immediateMode.geometry,t)}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}this._applyColorBlend(this.curStrokeColor),e.drawArrays(e.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),t.unbindShader()},s.default.RendererGL.prototype._calculateNormals=function(e){e.vertices.forEach(function(){e.vertexNormals.push(new s.default.Vector(0,0,1))})},r.default=s.default.RendererGL},{"../core/constants":250,"../core/main":260,"./p5.RenderBuffer":311,"core-js/modules/es.array.fill":150,"core-js/modules/es.array.for-each":152,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.float32-array":200,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/web.dom-collections.for-each":225,"core-js/modules/web.dom-collections.iterator":226}],313:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};e("./p5.RendererGL"),e("./p5.RenderBuffer");var s=0;i.default.RendererGL.prototype._initBufferDefaults=function(e){if(this._freeBuffers(e),1e3<++s){var t=Object.keys(this.retainedMode.geometry)[0];delete this.retainedMode.geometry[t],s--}return this.retainedMode.geometry[e]={}},i.default.RendererGL.prototype._freeBuffers=function(e){var t=this.retainedMode.geometry[e];if(t){delete this.retainedMode.geometry[e],s--;var r=this.GL;t.indexBuffer&&r.deleteBuffer(t.indexBuffer),n(this.retainedMode.buffers.stroke),n(this.retainedMode.buffers.fill)}function n(e){var n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;t[l.dst]&&(r.deleteBuffer(t[l.dst]),t[l.dst]=null)}}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}}},i.default.RendererGL.prototype.createBuffers=function(e,t){var r=this.GL,n=this._initBufferDefaults(e);n.model=t;var s=n.indexBuffer;if(t.faces.length){s=s||(n.indexBuffer=r.createBuffer());var o=i.default.RendererGL.prototype._flatten(t.faces);this._bindBuffer(s,r.ELEMENT_ARRAY_BUFFER,o,Uint16Array),n.vertexCount=3*t.faces.length}else s&&(r.deleteBuffer(s),n.indexBuffer=null),n.vertexCount=t.vertices?t.vertices.length:0;return n.lineVertexCount=t.lineVertices?t.lineVertices.length:0,n},i.default.RendererGL.prototype.drawBuffers=function(e){var t=this.GL,r=this.retainedMode.geometry[e];if(this._doStroke&&0<r.lineVertexCount){var n=this._getRetainedStrokeShader();this._setStrokeUniforms(n);var i=!0,s=!1,o=void 0;try{for(var a,l=this.retainedMode.buffers.stroke[Symbol.iterator]();!(i=(a=l.next()).done);i=!0)a.value._prepareBuffer(r,n)}catch(e){s=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(s)throw o}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(t.TRIANGLES,e),n.unbindShader()}if(this._doFill){var c=this._getRetainedFillShader();this._setFillUniforms(c);var u=!0,h=!1,d=void 0;try{for(var p,f=this.retainedMode.buffers.fill[Symbol.iterator]();!(u=(p=f.next()).done);u=!0)p.value._prepareBuffer(r,c)}catch(e){h=!0,d=e}finally{try{u||null==f.return||f.return()}finally{if(h)throw d}}r.indexBuffer&&this._bindBuffer(r.indexBuffer,t.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(t.TRIANGLES,e),c.unbindShader()}return this},i.default.RendererGL.prototype.drawBuffersScaled=function(e,t,r,n){var i=this.uMVMatrix.copy();try{this.uMVMatrix.scale(t,r,n),this.drawBuffers(e)}finally{this.uMVMatrix=i}},i.default.RendererGL.prototype._drawArrays=function(e,t){return this.GL.drawArrays(e,0,this.retainedMode.geometry[t].lineVertexCount),this},i.default.RendererGL.prototype._drawElements=function(e,t){var r=this.retainedMode.geometry[t],n=this.GL;r.indexBuffer?n.drawElements(n.TRIANGLES,r.vertexCount,n.UNSIGNED_SHORT,0):n.drawArrays(e||n.TRIANGLES,0,r.vertexCount)},i.default.RendererGL.prototype._drawPoints=function(e,t){var r=this.GL,n=this._getImmediatePointShader();this._setPointUniforms(n),this._bindBuffer(t,r.ARRAY_BUFFER,this._vToNArray(e),Float32Array,r.STATIC_DRAW),n.enableAttrib(n.attributes.aPosition,3),r.drawArrays(r.Points,0,e.length),n.unbindShader()},r.default=i.default.RendererGL},{"../core/main":260,"./p5.RenderBuffer":311,"./p5.RendererGL":314,"core-js/modules/es.array.fill":150,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.keys":173,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.float32-array":200,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint16-array":221,"core-js/modules/web.dom-collections.iterator":226}],314:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.float64-array"),e("core-js/modules/es.typed-array.int16-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=l(e("../core/main")),s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}(e("../core/constants")),o=l(e("libtess"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e("./p5.Shader"),e("./p5.Camera"),e("../core/p5.Renderer"),e("./p5.Matrix"),e("path");var u="precision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\n\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  if (uSpecular)\n    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);\n  lr.diffuse = _lambertDiffuse(lightDir, normal);\n  return lr;\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n",h={immediateVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nvarying vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n  gl_FragColor = vColor;\n}",normalVert:"attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying vec3 vVertexNormal;\nvarying highp vec2 vVertTexCoord;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n}\n",normalFrag:"precision mediump float;\nvarying vec3 vVertexNormal;\nvoid main(void) {\n  gl_FragColor = vec4(vVertexNormal, 1.0);\n}",basicFrag:"precision mediump float;\nuniform vec4 uMaterialColor;\nvoid main(void) {\n  gl_FragColor = uMaterialColor;\n}",lightVert:u+"// include lighting.glgl\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n}\n",lightTextureFrag:"precision highp float;\n\nuniform vec4 uMaterialColor;\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    gl_FragColor = uMaterialColor;\n  }\n  else {\n    gl_FragColor = isTexture ? texture2D(uSampler, vVertTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;\n    gl_FragColor.rgb = gl_FragColor.rgb * vDiffuseColor + vSpecularColor;\n  }\n}",phongVert:"precision highp float;\nprecision highp int;\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 5; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n}\n",phongFrag:u+"// include lighting.glsl\nprecision highp float;\nprecision highp int;\n\nuniform vec4 uMaterialColor;\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  if(uEmissive && !isTexture) {\n    gl_FragColor = uMaterialColor;\n  }\n  else {\n    gl_FragColor = isTexture ? texture2D(uSampler, vTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;\n    gl_FragColor.rgb = gl_FragColor.rgb * (diffuse + vAmbientColor) + specular;\n  }\n}",fontVert:"precision mediump float;\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nvarying vec2 vTexCoord;\nvarying float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord;\n  w = gl_Position.w;\n}\n",fontFrag:"#extension GL_OES_standard_derivatives : enable\nprecision mediump float;\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nvarying vec2 vTexCoord;\n\n// some helper functions\nint round(float v) { return ifloor(v + 0.5); }\nivec2 round(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = round(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  gl_FragColor = uMaterialColor;\n  gl_FragColor.a *= saturate(max(antialias, cover));\n}",lineVert:"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\n\nattribute vec4 aPosition;\nattribute vec4 aDirection;\n  \nvoid main() {\n  // using a scale <1 moves the lines towards the camera\n  // in order to prevent popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  vec3 scale = vec3(0.9995);\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posq = uModelViewMatrix * (aPosition + vec4(aDirection.xyz, 0));\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  \n  posp.xyz = posp.xyz * scale;\n  posq.xyz = posq.xyz * scale;\n\n  vec4 p = uProjectionMatrix * posp;\n  vec4 q = uProjectionMatrix * posq;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangent = normalize((q.xy*p.w - p.xy*q.w) * uViewport.zw);\n\n  // flip tangent to normal (it's already normalized)\n  vec2 normal = vec2(-tangent.y, tangent.x);\n\n  float thickness = aDirection.w * uStrokeWeight;\n  vec2 offset = normal * thickness / 2.0;\n\n  vec2 curPerspScale;\n\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n    // invert Y, projections in Processing invert Y\n    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  gl_Position.xy = p.xy + offset.xy * curPerspScale;\n  gl_Position.zw = p.zw;\n}\n",lineFrag:"precision mediump float;\nprecision mediump int;\n\nuniform vec4 uMaterialColor;\n\nvoid main() {\n  gl_FragColor = uMaterialColor;\n}",pointVert:"attribute vec3 aPosition;\nuniform float uPointSize;\nvarying float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}",pointFrag:"precision mediump float;\nprecision mediump int;\nuniform vec4 uMaterialColor;\nvarying float vStrokeWeight;\n\nvoid main(){\n\tfloat mask = 0.0;\n\n\t// make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n    // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n\tmask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n\t// if strokeWeight is 1 or less lets just draw a square\n\t// this prevents weird artifacting from carving circles when our points are really small\n\t// if strokeWeight is larger than 1, we just use it as is\n\n\tmask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n\t// throw away the borders of the mask\n    // otherwise we get weird alpha blending issues\n\n\tif(mask > 0.98){\n      discard;\n  \t}\n\n  \tgl_FragColor = vec4(uMaterialColor.rgb * (1.0 - mask), uMaterialColor.a) ;\n}"};i.default.RendererGL=function(e,t,r,n){return i.default.Renderer.call(this,e,t,r),this._setAttributeDefaults(t),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this._pInst._setProperty("drawingContext",this.drawingContext),this._isErasing=!1,this._enableLighting=!1,this.ambientLightColors=[],this.specularColors=[1,1,1],this.directionalLightDirections=[],this.directionalLightDiffuseColors=[],this.directionalLightSpecularColors=[],this.pointLightPositions=[],this.pointLightDiffuseColors=[],this.pointLightSpecularColors=[],this.spotLightPositions=[],this.spotLightDirections=[],this.spotLightDiffuseColors=[],this.spotLightSpecularColors=[],this.spotLightAngle=[],this.spotLightConc=[],this.drawMode=s.FILL,this.curFillColor=this._cachedFillStyle=[1,1,1,1],this.curStrokeColor=this._cachedStrokeStyle=[0,0,0,1],this.curBlendMode=s.BLEND,this._cachedBlendMode=void 0,this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useSpecularMaterial=!1,this._useEmissiveMaterial=!1,this._useNormalMaterial=!1,this._useShininess=1,this._tint=[255,255,255,255],this.constantAttenuation=1,this.linearAttenuation=0,this.quadraticAttenuation=0,this.uMVMatrix=new i.default.Matrix,this.uPMatrix=new i.default.Matrix,this.uNMatrix=new i.default.Matrix("mat3"),this._curCamera=new i.default.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.userFillShader=void 0,this.userStrokeShader=void 0,this.userPointShader=void 0,this.retainedMode={geometry:{},buffers:{stroke:[new i.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new i.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],fill:[new i.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new i.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new i.default.RenderBuffer(4,"vertexColors","colorBuffer","aMaterialColor",this),new i.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new i.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],text:[new i.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new i.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)]}},this.immediateMode={geometry:new i.default.Geometry,shapeMode:s.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new i.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new i.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new i.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new i.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new i.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],stroke:[new i.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new i.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],point:this.GL.createBuffer()}},this.pointSize=5,this.curStrokeWeight=1,this.textures=[],this.textureMode=s.IMAGE,this.textureWrapX=s.CLAMP,this.textureWrapY=s.CLAMP,this._tex=null,this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this._tessy=this._initTessy(),this.fontInfos={},this._curShader=void 0,this},i.default.RendererGL.prototype=Object.create(i.default.Renderer.prototype),i.default.RendererGL.prototype._setAttributeDefaults=function(e){var t={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!1,preserveDrawingBuffer:!0,perPixelLighting:!0};e._glAttributes=null===e._glAttributes?t:Object.assign(t,e._glAttributes)},i.default.RendererGL.prototype._initContext=function(){try{if(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes),null===this.drawingContext)throw new Error("Error creating webgl context");var e=this.drawingContext;e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}catch(e){throw e}},i.default.RendererGL.prototype._resetContext=function(e,t){var r=this.width,n=this.height,s=this.canvas.id,o=this._pInst instanceof i.default.Graphics;if(o){var a=this._pInst;a.canvas.parentNode.removeChild(a.canvas),a.canvas=document.createElement("canvas"),(a._pInst._userNode||document.body).appendChild(a.canvas),i.default.Element.call(a,a.canvas,a._pInst),a.width=r,a.height=n}else{var l=this.canvas;l&&l.parentNode.removeChild(l),(l=document.createElement("canvas")).id=s,this._pInst._userNode?this._pInst._userNode.appendChild(l):document.body.appendChild(l),this._pInst.canvas=l}var c=new i.default.RendererGL(this._pInst.canvas,this._pInst,!o);this._pInst._setProperty("_renderer",c),c.resize(r,n),c._applyDefaults(),o||this._pInst._elements.push(c),"function"==typeof t&&setTimeout(function(){t.apply(window._renderer,e)},0)},i.default.prototype.setAttributes=function(e,t){if(void 0!==this._glAttributes){var r=!0;if(void 0!==t?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[e]!==t&&(this._glAttributes[e]=t,r=!1)):e instanceof Object&&this._glAttributes!==e&&(this._glAttributes=e,r=!1),this._renderer.isP3D&&!r){if(!this._setupDone)for(var n in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(n))return void console.error("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}else console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.")},i.default.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)},i.default.RendererGL.prototype.background=function(){var e,t=(e=this._pInst).color.apply(e,arguments);this.GL.clearColor(t.levels[0]/255,t.levels[1]/255,t.levels[2]/255,t.levels[3]/255),this.GL.clear(this.GL.COLOR_BUFFER_BIT)},i.default.RendererGL.prototype.fill=function(e,t,r,n){var o=i.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=o._array,this.drawMode=s.FILL,this._useNormalMaterial=!1,this._tex=null},i.default.RendererGL.prototype.stroke=function(e,t,r,n){arguments[3]=255;var s=i.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=s._array},i.default.RendererGL.prototype.strokeCap=function(e){console.error("Sorry, strokeCap() is not yet implemented in WEBGL mode")},i.default.RendererGL.prototype.strokeJoin=function(e){console.error("Sorry, strokeJoin() is not yet implemented in WEBGL mode")},i.default.RendererGL.prototype.filter=function(e){console.error("filter() does not work in WEBGL mode")},i.default.RendererGL.prototype.blendMode=function(e){e===s.DARKEST||e===s.LIGHTEST||e===s.ADD||e===s.BLEND||e===s.SUBTRACT||e===s.SCREEN||e===s.EXCLUSION||e===s.REPLACE||e===s.MULTIPLY||e===s.REMOVE?this.curBlendMode=e:e!==s.BURN&&e!==s.OVERLAY&&e!==s.HARD_LIGHT&&e!==s.SOFT_LIGHT&&e!==s.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")},i.default.RendererGL.prototype.erase=function(e,t){this._isErasing||(this._applyBlendMode(s.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,e/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,t/255])},i.default.RendererGL.prototype.noErase=function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))},i.default.RendererGL.prototype.strokeWeight=function(e){this.curStrokeWeight!==e&&(this.pointSize=e,this.curStrokeWeight=e)},i.default.RendererGL.prototype._getPixel=function(e,t){var r;return r=new Uint8Array(4),this.drawingContext.readPixels(e,t,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,r),[r[0],r[1],r[2],r[3]]},i.default.RendererGL.prototype.loadPixels=function(){if(!0===this._pInst._glAttributes.preserveDrawingBuffer){var e=this._pixelsState.pixels,t=this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4;e instanceof Uint8Array&&e.length===t||(e=new Uint8Array(t),this._pixelsState._setProperty("pixels",e));var r=this._pInst._pixelDensity;this.GL.readPixels(0,0,this.width*r,this.height*r,this.GL.RGBA,this.GL.UNSIGNED_BYTE,e)}else console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true.")},i.default.RendererGL.prototype.geometryInHash=function(e){return void 0!==this.retainedMode.geometry[e]},i.default.RendererGL.prototype.resize=function(e,t){i.default.Renderer.prototype.resize.call(this,e,t),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize();var r=this._pixelsState;void 0!==r.pixels&&r._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},i.default.RendererGL.prototype.clear=function(){this.GL.clearColor((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},i.default.RendererGL.prototype.applyMatrix=function(e,t,r,n,s,o){16===arguments.length?i.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([e,t,0,0,r,n,0,0,0,0,1,0,s,o,0,1])},i.default.RendererGL.prototype.translate=function(e,t,r){return e instanceof i.default.Vector&&(r=e.z,t=e.y,e=e.x),this.uMVMatrix.translate([e,t,r]),this},i.default.RendererGL.prototype.scale=function(e,t,r){return this.uMVMatrix.scale(e,t,r),this},i.default.RendererGL.prototype.rotate=function(e,t){return void 0===t?this.rotateZ(e):(i.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},i.default.RendererGL.prototype.rotateX=function(e){return this.rotate(e,1,0,0),this},i.default.RendererGL.prototype.rotateY=function(e){return this.rotate(e,0,1,0),this},i.default.RendererGL.prototype.rotateZ=function(e){return this.rotate(e,0,0,1),this},i.default.RendererGL.prototype.push=function(){var e=i.default.Renderer.prototype.push.apply(this),t=e.properties;return t.uMVMatrix=this.uMVMatrix.copy(),t.uPMatrix=this.uPMatrix.copy(),t._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),t.ambientLightColors=this.ambientLightColors.slice(),t.specularColors=this.specularColors.slice(),t.directionalLightDirections=this.directionalLightDirections.slice(),t.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),t.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),t.pointLightPositions=this.pointLightPositions.slice(),t.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),t.pointLightSpecularColors=this.pointLightSpecularColors.slice(),t.spotLightPositions=this.spotLightPositions.slice(),t.spotLightDirections=this.spotLightDirections.slice(),t.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),t.spotLightSpecularColors=this.spotLightSpecularColors.slice(),t.spotLightAngle=this.spotLightAngle.slice(),t.spotLightConc=this.spotLightConc.slice(),t.userFillShader=this.userFillShader,t.userStrokeShader=this.userStrokeShader,t.userPointShader=this.userPointShader,t.pointSize=this.pointSize,t.curStrokeWeight=this.curStrokeWeight,t.curStrokeColor=this.curStrokeColor,t.curFillColor=this.curFillColor,t._useSpecularMaterial=this._useSpecularMaterial,t._useEmissiveMaterial=this._useEmissiveMaterial,t._useShininess=this._useShininess,t.constantAttenuation=this.constantAttenuation,t.linearAttenuation=this.linearAttenuation,t.quadraticAttenuation=this.quadraticAttenuation,t._enableLighting=this._enableLighting,t._useNormalMaterial=this._useNormalMaterial,t._tex=this._tex,t.drawMode=this.drawMode,e},i.default.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix=i.default.Matrix.identity(this._pInst),this},i.default.RendererGL.prototype._getImmediateStrokeShader=function(){var e=this.userStrokeShader;return e&&e.isStrokeShader()?e:this._getLineShader()},i.default.RendererGL.prototype._getRetainedStrokeShader=i.default.RendererGL.prototype._getImmediateStrokeShader,i.default.RendererGL.prototype._getImmediateFillShader=function(){var e=this.userFillShader;if(this._useNormalMaterial&&(!e||!e.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!e||!e.isLightShader())return this._getLightShader()}else if(this._tex){if(!e||!e.isTextureShader())return this._getLightShader()}else if(!e)return this._getImmediateModeShader();return e},i.default.RendererGL.prototype._getRetainedFillShader=function(){if(this._useNormalMaterial)return this._getNormalShader();var e=this.userFillShader;if(this._enableLighting){if(!e||!e.isLightShader())return this._getLightShader()}else if(this._tex){if(!e||!e.isTextureShader())return this._getLightShader()}else if(!e)return this._getColorShader();return e},i.default.RendererGL.prototype._getImmediatePointShader=function(){var e=this.userPointShader;return e&&e.isPointShader()?e:this._getPointShader()},i.default.RendererGL.prototype._getRetainedLineShader=i.default.RendererGL.prototype._getImmediateLineShader,i.default.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this._defaultLightShader=this._pInst._glAttributes.perPixelLighting?new i.default.Shader(this,h.phongVert,h.phongFrag):new i.default.Shader(this,h.lightVert,h.lightTextureFrag)),this._defaultLightShader},i.default.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new i.default.Shader(this,h.immediateVert,h.vertexColorFrag)),this._defaultImmediateModeShader},i.default.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new i.default.Shader(this,h.normalVert,h.normalFrag)),this._defaultNormalShader},i.default.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new i.default.Shader(this,h.normalVert,h.basicFrag)),this._defaultColorShader},i.default.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new i.default.Shader(this,h.pointVert,h.pointFrag)),this._defaultPointShader},i.default.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new i.default.Shader(this,h.lineVert,h.lineFrag)),this._defaultLineShader},i.default.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new i.default.Shader(this,h.fontVert,h.fontFrag)),this._defaultFontShader},i.default.RendererGL.prototype._getEmptyTexture=function(){if(!this._emptyTexture){var e=new i.default.Image(1,1);e.set(0,0,255),this._emptyTexture=new i.default.Texture(this,e)}return this._emptyTexture},i.default.RendererGL.prototype.getTexture=function(e){var t=this.textures,r=!0,n=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value;if(l.src===e)return l}}catch(e){n=!0,s=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw s}}var c=new i.default.Texture(this,e);return t.push(c),c},i.default.RendererGL.prototype._setStrokeUniforms=function(e){e.bindShader(),e.setUniform("uMaterialColor",this.curStrokeColor),e.setUniform("uStrokeWeight",this.curStrokeWeight)},i.default.RendererGL.prototype._setFillUniforms=function(e){e.bindShader(),e.setUniform("uMaterialColor",this.curFillColor),e.setUniform("isTexture",!!this._tex),this._tex&&e.setUniform("uSampler",this._tex),e.setUniform("uTint",this._tint),e.setUniform("uSpecular",this._useSpecularMaterial),e.setUniform("uEmissive",this._useEmissiveMaterial),e.setUniform("uShininess",this._useShininess),e.setUniform("uUseLighting",this._enableLighting),e.setUniform("uPointLightCount",this.pointLightDiffuseColors.length/3),e.setUniform("uPointLightLocation",this.pointLightPositions),e.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),e.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),e.setUniform("uDirectionalLightCount",this.directionalLightDiffuseColors.length/3),e.setUniform("uLightingDirection",this.directionalLightDirections),e.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),e.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),e.setUniform("uAmbientLightCount",this.ambientLightColors.length/3),e.setUniform("uAmbientColor",this.ambientLightColors),e.setUniform("uSpotLightCount",this.spotLightDiffuseColors.length/3),e.setUniform("uSpotLightAngle",this.spotLightAngle),e.setUniform("uSpotLightConc",this.spotLightConc),e.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),e.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),e.setUniform("uSpotLightLocation",this.spotLightPositions),e.setUniform("uSpotLightDirection",this.spotLightDirections),e.setUniform("uConstantAttenuation",this.constantAttenuation),e.setUniform("uLinearAttenuation",this.linearAttenuation),e.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),e.bindTextures()},i.default.RendererGL.prototype._setPointUniforms=function(e){e.bindShader(),e.setUniform("uMaterialColor",this.curStrokeColor),e.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)},i.default.RendererGL.prototype._bindBuffer=function(e,t,r,n,i){if(this.GL.bindBuffer(t=t||this.GL.ARRAY_BUFFER,e),void 0!==r){var s=new(n||Float32Array)(r);this.GL.bufferData(t,s,i||this.GL.STATIC_DRAW)}},i.default.RendererGL.prototype._arraysEqual=function(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0},i.default.RendererGL.prototype._isTypedArray=function(e){return Float32Array,Float64Array,Int16Array,Uint16Array,e instanceof Uint32Array},i.default.RendererGL.prototype._flatten=function(e){if(0===e.length)return[];if(2e4<e.length){var t,r=Object.prototype.toString,n=[],i=e.slice();for(t=i.pop();"[object Array]"===r.call(t)?i.push.apply(i,c(t)):n.push(t),i.length&&void 0!==(t=i.pop()););return n.reverse(),n}var s;return(s=[]).concat.apply(s,c(e))},i.default.RendererGL.prototype._vToNArray=function(e){var t=[],r=!0,n=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var a=s.value;t.push(a.x,a.y,a.z)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return t},i.default.prototype._assert3d=function(e){if(!this._renderer.isP3D)throw new Error("".concat(e,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},i.default.RendererGL.prototype._initTessy=function(){var e=new o.default.GluTesselator;return e.gluTessCallback(o.default.gluEnum.GLU_TESS_VERTEX_DATA,function(e,t){t[t.length]=e[0],t[t.length]=e[1],t[t.length]=e[2]}),e.gluTessCallback(o.default.gluEnum.GLU_TESS_BEGIN,function(e){e!==o.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(e))}),e.gluTessCallback(o.default.gluEnum.GLU_TESS_ERROR,function(e){console.log("error callback"),console.log("error number: ".concat(e))}),e.gluTessCallback(o.default.gluEnum.GLU_TESS_COMBINE,function(e,t,r){return[e[0],e[1],e[2]]}),e.gluTessCallback(o.default.gluEnum.GLU_TESS_EDGE_FLAG,function(e){}),e},i.default.RendererGL.prototype._triangulate=function(e){this._tessy.gluTessNormal(0,0,1);var t=[];this._tessy.gluTessBeginPolygon(t);for(var r=0;r<e.length;r++){this._tessy.gluTessBeginContour();for(var n=e[r],i=0;i<n.length;i+=3){var s=[n[i],n[i+1],n[i+2]];this._tessy.gluTessVertex(s,s)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),t},i.default.RendererGL.prototype._bezierCoefficients=function(e){var t=e*e,r=1-e,n=r*r;return[n*r,3*n*e,3*r*t,t*e]},i.default.RendererGL.prototype._quadraticCoefficients=function(e){var t=1-e;return[t*t,2*t*e,e*e]},i.default.RendererGL.prototype._bezierToCatmull=function(e){return[e[1],e[1]+(e[2]-e[0])/this._curveTightness,e[2]-(e[3]-e[1])/this._curveTightness,e[2]]},r.default=i.default.RendererGL},{"../core/constants":250,"../core/main":260,"../core/p5.Renderer":263,"./p5.Camera":308,"./p5.Matrix":310,"./p5.Shader":315,"core-js/modules/es.array.concat":148,"core-js/modules/es.array.fill":150,"core-js/modules/es.array.filter":151,"core-js/modules/es.array.from":153,"core-js/modules/es.array.includes":154,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.slice":160,"core-js/modules/es.object.assign":170,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.to-string":179,"core-js/modules/es.string.includes":182,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.float32-array":200,"core-js/modules/es.typed-array.float64-array":201,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.int16-array":205,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint16-array":221,"core-js/modules/es.typed-array.uint32-array":222,"core-js/modules/es.typed-array.uint8-array":223,"core-js/modules/web.dom-collections.iterator":226,libtess:234,path:237}],315:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("../core/main"))&&n.__esModule?n:{default:n};i.default.Shader=function(e,t,r){this._renderer=e,this._vertSrc=t,this._fragSrc=r,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]},i.default.Shader.prototype.init=function(){if(0===this._glProgram){var e=this._renderer.GL;if(this._vertShader=e.createShader(e.VERTEX_SHADER),e.shaderSource(this._vertShader,this._vertSrc),e.compileShader(this._vertShader),!e.getShaderParameter(this._vertShader,e.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:".concat(e.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(this._fragShader,this._fragSrc),e.compileShader(this._fragShader),!e.getShaderParameter(this._fragShader,e.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:".concat(e.getShaderInfoLog(this._fragShader))),null;this._glProgram=e.createProgram(),e.attachShader(this._glProgram,this._vertShader),e.attachShader(this._glProgram,this._fragShader),e.linkProgram(this._glProgram),e.getProgramParameter(this._glProgram,e.LINK_STATUS)||console.error("Snap! Error linking shader program: ".concat(e.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this},i.default.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var e=this._renderer.GL,t=e.getProgramParameter(this._glProgram,e.ACTIVE_ATTRIBUTES),r=0;r<t;++r){var n=e.getActiveAttrib(this._glProgram,r),i=n.name,s=e.getAttribLocation(this._glProgram,i),o={};o.name=i,o.location=s,o.index=r,o.type=n.type,o.size=n.size,this.attributes[i]=o}this._loadedAttributes=!0}},i.default.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var e=this._renderer.GL,t=e.getProgramParameter(this._glProgram,e.ACTIVE_UNIFORMS),r=0,n=0;n<t;++n){var i=e.getActiveUniform(this._glProgram,n),s={};s.location=e.getUniformLocation(this._glProgram,i.name),s.size=i.size;var o=i.name;1<i.size&&(o=o.substring(0,o.indexOf("[0]"))),s.name=o,s.type=i.type,s._cachedData=void 0,s.type===e.SAMPLER_2D&&(s.samplerIndex=r,r++,this.samplers.push(s)),s.isArray=s.type===e.FLOAT_MAT3||s.type===e.FLOAT_MAT4||s.type===e.FLOAT_VEC2||s.type===e.FLOAT_VEC3||s.type===e.FLOAT_VEC4||s.type===e.INT_VEC2||s.type===e.INT_VEC3||s.type===e.INT_VEC4,this.uniforms[o]=s}this._loadedUniforms=!0}},i.default.Shader.prototype.compile=function(){},i.default.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))},i.default.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},i.default.Shader.prototype.bindTextures=function(){var e=this._renderer.GL,t=!0,r=!1,n=void 0;try{for(var i,s=this.samplers[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var o=i.value,a=o.texture;void 0===a&&(a=this._renderer._getEmptyTexture()),e.activeTexture(e.TEXTURE0+o.samplerIndex),a.bindTexture(),a.update(),e.uniform1i(o.location,o.samplerIndex)}}catch(e){r=!0,n=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw n}}},i.default.Shader.prototype.updateTextures=function(){var e=!0,t=!1,r=void 0;try{for(var n,i=this.samplers[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var s=n.value.texture;s&&s.update()}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}},i.default.Shader.prototype.unbindTextures=function(){},i.default.Shader.prototype._setMatrixUniforms=function(){this.setUniform("uProjectionMatrix",this._renderer.uPMatrix.mat4),this.isStrokeShader()&&this.setUniform("uPerspective","default"===this._renderer._curCamera.cameraType?1:0),this.setUniform("uModelViewMatrix",this._renderer.uMVMatrix.mat4),this.setUniform("uViewMatrix",this._renderer._curCamera.cameraMatrix.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},i.default.Shader.prototype.useProgram=function(){return this._renderer._curShader!==this&&(this._renderer.GL.useProgram(this._glProgram),this._renderer._curShader=this),this},i.default.Shader.prototype.setUniform=function(e,t){var r=this.uniforms[e];if(r){var n=this._renderer.GL;if(r.isArray){if(r._cachedData&&this._renderer._arraysEqual(r._cachedData,t))return;r._cachedData=t.slice(0)}else{if(r._cachedData&&r._cachedData===t)return;r._cachedData=t}var i=r.location;switch(this.useProgram(),r.type){case n.BOOL:n.uniform1i(i,!0===t?1:0);break;case n.INT:1<r.size?t.length&&n.uniform1iv(i,t):n.uniform1i(i,t);break;case n.FLOAT:1<r.size?t.length&&n.uniform1fv(i,t):n.uniform1f(i,t);break;case n.FLOAT_MAT3:n.uniformMatrix3fv(i,!1,t);break;case n.FLOAT_MAT4:n.uniformMatrix4fv(i,!1,t);break;case n.FLOAT_VEC2:1<r.size?t.length&&n.uniform2fv(i,t):n.uniform2f(i,t[0],t[1]);break;case n.FLOAT_VEC3:1<r.size?t.length&&n.uniform3fv(i,t):n.uniform3f(i,t[0],t[1],t[2]);break;case n.FLOAT_VEC4:1<r.size?t.length&&n.uniform4fv(i,t):n.uniform4f(i,t[0],t[1],t[2],t[3]);break;case n.INT_VEC2:1<r.size?t.length&&n.uniform2iv(i,t):n.uniform2i(i,t[0],t[1]);break;case n.INT_VEC3:1<r.size?t.length&&n.uniform3iv(i,t):n.uniform3i(i,t[0],t[1],t[2]);break;case n.INT_VEC4:1<r.size?t.length&&n.uniform4iv(i,t):n.uniform4i(i,t[0],t[1],t[2],t[3]);break;case n.SAMPLER_2D:n.activeTexture(n.TEXTURE0+r.samplerIndex),r.texture=this._renderer.getTexture(t),n.uniform1i(r.location,r.samplerIndex)}return this}},i.default.Shader.prototype.isLightShader=function(){return void 0!==this.attributes.aNormal||void 0!==this.uniforms.uUseLighting||void 0!==this.uniforms.uAmbientLightCount||void 0!==this.uniforms.uDirectionalLightCount||void 0!==this.uniforms.uPointLightCount||void 0!==this.uniforms.uAmbientColor||void 0!==this.uniforms.uDirectionalDiffuseColors||void 0!==this.uniforms.uDirectionalSpecularColors||void 0!==this.uniforms.uPointLightLocation||void 0!==this.uniforms.uPointLightDiffuseColors||void 0!==this.uniforms.uPointLightSpecularColors||void 0!==this.uniforms.uLightingDirection||void 0!==this.uniforms.uSpecular},i.default.Shader.prototype.isNormalShader=function(){return void 0!==this.attributes.aNormal},i.default.Shader.prototype.isTextureShader=function(){return 0<this.samplerIndex},i.default.Shader.prototype.isColorShader=function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor},i.default.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},i.default.Shader.prototype.isStrokeShader=function(){return void 0!==this.uniforms.uStrokeWeight},i.default.Shader.prototype.enableAttrib=function(e,t,r,n,i,s){if(e){var o=e.location;if(-1!==o){var a=this._renderer.GL;e.enabled||(a.enableVertexAttribArray(o),e.enabled=!0),this._renderer.GL.vertexAttribPointer(o,t,r||a.FLOAT,n||!1,i||0,s||0)}}return this},r.default=i.default.Shader},{"../core/main":260,"core-js/modules/es.array.index-of":155,"core-js/modules/es.array.iterator":156,"core-js/modules/es.array.slice":160,"core-js/modules/es.function.name":163,"core-js/modules/es.object.to-string":174,"core-js/modules/es.string.iterator":183,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}],316:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=(i=e("../core/main"))&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}s.default.Texture=function(e,t){this._renderer=e;var r=this._renderer.GL;this.src=t,this.glTex=void 0,this.glTarget=r.TEXTURE_2D,this.glFormat=r.RGBA,this.mipmaps=!1,this.glMinFilter=r.LINEAR,this.glMagFilter=r.LINEAR,this.glWrapS=r.CLAMP_TO_EDGE,this.glWrapT=r.CLAMP_TO_EDGE,this.isSrcMediaElement=void 0!==s.default.MediaElement&&t instanceof s.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==s.default.Element&&t instanceof s.default.Element&&!(t instanceof s.default.Graphics),this.isSrcP5Image=t instanceof s.default.Image,this.isSrcP5Graphics=t instanceof s.default.Graphics,this.isImageData="undefined"!=typeof ImageData&&t instanceof ImageData;var n=this._getTextureDataFromSource();return this.width=n.width,this.height=n.height,this.init(n),this},s.default.Texture.prototype._getTextureDataFromSource=function(){var e;return this.isSrcP5Image?e=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcHTMLElement?e=this.src.elt:this.isImageData&&(e=this.src),e},s.default.Texture.prototype.init=function(e){var t=this._renderer.GL;if(this.glTex=t.createTexture(),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,this.glMagFilter),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,this.glMinFilter),0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata){var r=new Uint8Array([1,1,1,1]);t.texImage2D(this.glTarget,0,t.RGBA,1,1,0,this.glFormat,t.UNSIGNED_BYTE,r)}else t.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,t.UNSIGNED_BYTE,e)},s.default.Texture.prototype.update=function(){var e=this.src;if(0===e.width||0===e.height)return!1;var t=this._getTextureDataFromSource(),r=!1,n=this._renderer.GL;return t.width!==this.width||t.height!==this.height?(r=!0,this.width=t.width,this.height=t.height,this.isSrcP5Image?e.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&e.setModified(!0)):this.isSrcP5Image?e.isModified()&&(r=!0,e.setModified(!1)):this.isSrcMediaElement?e.isModified()?(r=!0,e.setModified(!1)):e.loadedmetadata&&this._videoPrevUpdateTime!==e.time()&&(this._videoPrevUpdateTime=e.time(),r=!0):this.isImageData?e._dirty&&(r=!(e._dirty=!1)):r=!0,r&&(this.bindTexture(),n.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,n.UNSIGNED_BYTE,t)),r},s.default.Texture.prototype.bindTexture=function(){return this._renderer.GL.bindTexture(this.glTarget,this.glTex),this},s.default.Texture.prototype.unbindTexture=function(){this._renderer.GL.bindTexture(this.glTarget,null)},s.default.Texture.prototype.setInterpolation=function(e,t){var r=this._renderer.GL;this.glMinFilter=e===o.NEAREST?r.NEAREST:r.LINEAR,this.glMagFilter=t===o.NEAREST?r.NEAREST:r.LINEAR,this.bindTexture(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.glMinFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()},s.default.Texture.prototype.setWrapMode=function(e,t){function r(e){return 0==(e&e-1)}var n=this._renderer.GL,i=r(this.width),s=r(this.height);e===o.REPEAT?i&&s?this.glWrapS=n.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=n.CLAMP_TO_EDGE):e===o.MIRROR?i&&s?this.glWrapS=n.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=n.CLAMP_TO_EDGE):this.glWrapS=n.CLAMP_TO_EDGE,t===o.REPEAT?i&&s?this.glWrapT=n.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=n.CLAMP_TO_EDGE):t===o.MIRROR?i&&s?this.glWrapT=n.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=n.CLAMP_TO_EDGE):this.glWrapT=n.CLAMP_TO_EDGE,this.bindTexture(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.glWrapS),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()},r.default=s.default.Texture},{"../core/constants":250,"../core/main":260,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.typed-array.copy-within":194,"core-js/modules/es.typed-array.every":195,"core-js/modules/es.typed-array.fill":196,"core-js/modules/es.typed-array.filter":197,"core-js/modules/es.typed-array.find":199,"core-js/modules/es.typed-array.find-index":198,"core-js/modules/es.typed-array.for-each":202,"core-js/modules/es.typed-array.includes":203,"core-js/modules/es.typed-array.index-of":204,"core-js/modules/es.typed-array.iterator":207,"core-js/modules/es.typed-array.join":208,"core-js/modules/es.typed-array.last-index-of":209,"core-js/modules/es.typed-array.map":210,"core-js/modules/es.typed-array.reduce":212,"core-js/modules/es.typed-array.reduce-right":211,"core-js/modules/es.typed-array.reverse":213,"core-js/modules/es.typed-array.set":214,"core-js/modules/es.typed-array.slice":215,"core-js/modules/es.typed-array.some":216,"core-js/modules/es.typed-array.sort":217,"core-js/modules/es.typed-array.subarray":218,"core-js/modules/es.typed-array.to-locale-string":219,"core-js/modules/es.typed-array.to-string":220,"core-js/modules/es.typed-array.uint8-array":223}],317:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.sub"),e("core-js/modules/web.dom-collections.iterator");var i,s=(i=e("../core/main"))&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function l(e,t){this.width=e,this.height=t,this.infos=[],this.findImage=function(e){var t,r,n=this.width*this.height;if(n<e)throw new Error("font is too complex to render in 3D");for(var i=this.infos.length-1;0<=i;--i){var s=this.infos[i];if(s.index+e<n){r=(t=s).imageData;break}}if(!t){try{r=new ImageData(this.width,this.height)}catch(e){var o=document.getElementsByTagName("canvas")[0],a=!o;o||((o=document.createElement("canvas")).style.display="none",document.body.appendChild(o));var l=o.getContext("2d");l&&(r=l.createImageData(this.width,this.height)),a&&document.body.removeChild(o)}this.infos.push(t={index:0,imageData:r})}var c=t.index;return t.index+=e,r._dirty=!0,{imageData:r,index:c}}}function c(e,t,r,n,i){var s=e.imageData.data,o=4*e.index++;s[o++]=t,s[o++]=r,s[o++]=n,s[o++]=i}function u(e){this.font=e,this.strokeImageInfos=new l(64,64),this.colDimImageInfos=new l(64,64),this.rowDimImageInfos=new l(64,64),this.colCellImageInfos=new l(64,64),this.rowCellImageInfos=new l(64,64),this.glyphInfos={},this.getGlyphInfo=function(e){var t=this.glyphInfos[e.index];if(t)return t;var r,n=e.getBoundingBox(),i=n.x1,o=n.y1,a=n.x2-i,l=n.y2-o,u=e.path.commands;if(0==a||0==l||!u.length)return this.glyphInfos[e.index]={};var d,p,f,m,g=[],y=[],v=[];for(r=8;0<=r;--r)v.push([]);for(r=8;0<=r;--r)y.push([]);function _(e,t,r){var n=g.length;function i(e,t,r){for(var n=e.length;0<n--;){var i=e[n];i<t&&(t=i),r<i&&(r=i)}return{min:t,max:r}}g.push(r);for(var s=i(e,1,0),o=Math.max(Math.floor(9*s.min),0),a=Math.min(Math.ceil(9*s.max),9),l=o;l<a;++l)v[l].push(n);for(var c=i(t,1,0),u=Math.max(Math.floor(9*c.min),0),h=Math.min(Math.ceil(9*c.max),9),d=u;d<h;++d)y[d].push(n)}function b(e){return(t=255*e)<0?0:255<t?255:t;var t}function w(e,t,r,n){this.p0=e,this.c0=t,this.c1=r,this.p1=n,this.toQuadratic=function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}},this.quadError=function(){return s.default.Vector.sub(s.default.Vector.sub(this.p1,this.p0),s.default.Vector.mult(s.default.Vector.sub(this.c1,this.c0),3)).mag()/2},this.split=function(e){var t=s.default.Vector.lerp(this.p0,this.c0,e),r=s.default.Vector.lerp(this.c0,this.c1,e),n=s.default.Vector.lerp(t,r,e);this.c1=s.default.Vector.lerp(this.c1,this.p1,e),this.c0=s.default.Vector.lerp(r,this.c1,e);var i=s.default.Vector.lerp(n,this.c0,e),o=new w(this.p0,t,n,i);return this.p0=i,o},this.splitInflections=function(){var e=s.default.Vector.sub(this.c0,this.p0),t=s.default.Vector.sub(s.default.Vector.sub(this.c1,this.c0),e),r=s.default.Vector.sub(s.default.Vector.sub(s.default.Vector.sub(this.p1,this.c1),e),s.default.Vector.mult(t,2)),n=[],i=t.x*r.y-t.y*r.x;if(0!==i){var o=e.x*r.y-e.y*r.x,a=e.x*t.y-e.y*t.x,l=o*o-4*i*a;if(0<=l){i<0&&(i=-i,o=-o,a=-a);var c=Math.sqrt(l),u=(-o-c)/(2*i),h=(-o+c)/(2*i);0<u&&u<1&&(n.push(this.split(u)),h=1-(1-h)/(1-u)),0<h&&h<1&&n.push(this.split(h))}}return n.push(this),n}}function x(e,t,r,n,i,o,a,l){var c=new w(new s.default.Vector(e,t),new s.default.Vector(r,n),new s.default.Vector(i,o),new s.default.Vector(a,l)).splitInflections(),u=[],d=30/h,p=!0,f=!1,m=void 0;try{for(var g,y=c[Symbol.iterator]();!(p=(g=y.next()).done);p=!0){for(var v=g.value,_=[],b=void 0;!(.125<=(b=d/v.quadError()));){var x=Math.pow(b,1/3),S=v.split(x),M=v.split(1-x/(1-x));u.push(S),_.push(v),v=M}b<1&&u.push(v.split(.5)),u.push(v),Array.prototype.push.apply(u,_.reverse())}}catch(e){f=!0,m=e}finally{try{p||null==y.return||y.return()}finally{if(f)throw m}}return u}function S(e,t,r,n){_([e,r],[t,n],{x:e,y:t,cx:(e+r)/2,cy:(t+n)/2})}function M(e,t,r,n){return Math.abs(r-e)<1e-5&&Math.abs(n-t)<1e-5}var E=!0,T=!1,C=void 0;try{for(var A,L=u[Symbol.iterator]();!(E=(A=L.next()).done);E=!0){var P=A.value,O=(P.x-i)/a,R=(P.y-o)/l;if(!M(d,p,O,R)){switch(P.type){case"M":f=O,m=R;break;case"L":S(d,p,O,R);break;case"Q":var k=(P.x1-i)/a,j=(P.y1-o)/l;_([d,O,k],[p,R,j],{x:d,y:p,cx:k,cy:j});break;case"Z":M(d,p,f,m)?g.push({x:d,y:p}):(S(d,p,f,m),g.push({x:f,y:m}));break;case"C":for(var D=x(d,p,(P.x1-i)/a,(P.y1-o)/l,(P.x2-i)/a,(P.y2-o)/l,O,R),I=0;I<D.length;I++){var N=D[I].toQuadratic();_([N.x,N.x1,N.cx],[N.y,N.y1,N.cy],N)}break;default:throw new Error("unknown command type: ".concat(P.type))}d=O,p=R}}}catch(e){T=!0,C=e}finally{try{E||null==L.return||L.return()}finally{if(T)throw C}}for(var z=g.length,F=this.strokeImageInfos.findImage(z),U=F.index,B=0;B<z;++B){var V=g[B];c(F,b(V.x),b(V.y),b(V.cx),b(V.cy))}function H(e,t,r){for(var n=e.length,i=t.findImage(n),s=i.index,o=0,a=0;a<n;++a)o+=e[a].length;for(var l=r.findImage(o),u=0;u<n;++u){var h=e[u],d=h.length,p=l.index;c(i,p>>7,127&p,d>>7,127&d);for(var f=0;f<d;++f){var m=h[f]+U;c(l,m>>7,127&m,0,0)}}return{cellImageInfo:l,dimOffset:s,dimImageInfo:i}}return(t=this.glyphInfos[e.index]={glyph:e,uGlyphRect:[n.x1,-n.y1,n.x2,-n.y2],strokeImageInfo:F,strokes:g,colInfo:H(v,this.colDimImageInfos,this.colCellImageInfos),rowInfo:H(y,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[t.colInfo.dimOffset,t.rowInfo.dimOffset],t}}e("./p5.Shader"),e("./p5.RendererGL.Retained"),s.default.RendererGL.prototype._applyTextProperties=function(){},s.default.RendererGL.prototype.textWidth=function(e){return this._isOpenType()?this._textFont._textWidth(e,this._textSize):0};var h=Math.sqrt(3);s.default.RendererGL.prototype._renderText=function(e,t,r,n,i){if(this._textFont&&"string"!=typeof this._textFont){if(!(i<=n)&&this._doFill){if(!this._isOpenType())return console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported"),e;e.push();var a=this._doStroke,l=this.drawMode;this._doStroke=!1,this.drawMode=o.TEXTURE;var c=this._textFont.font,h=this._textFont._fontInfo;h=h||(this._textFont._fontInfo=new u(c));var d=this._textFont._handleAlignment(this,t,r,n),p=this._textSize/c.unitsPerEm;this.translate(d.x,d.y,0),this.scale(p,p,1);var f=this.GL,m=!this._defaultFontShader,g=this._getFontShader();g.init(),g.bindShader(),m&&(g.setUniform("uGridImageSize",[64,64]),g.setUniform("uCellsImageSize",[64,64]),g.setUniform("uStrokeImageSize",[64,64]),g.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor);var y=this.retainedMode.geometry.glyph;if(!y){var v=this._textGeom=new s.default.Geometry(1,1,function(){for(var e=0;e<=1;e++)for(var t=0;t<=1;t++)this.vertices.push(new s.default.Vector(t,e,0)),this.uvs.push(t,e)});v.computeFaces().computeNormals(),y=this.createBuffers("glyph",v)}var _=!0,b=!1,w=void 0;try{for(var x,S=this.retainedMode.buffers.text[Symbol.iterator]();!(_=(x=S.next()).done);_=!0)x.value._prepareBuffer(y,g)}catch(e){b=!0,w=e}finally{try{_||null==S.return||S.return()}finally{if(b)throw w}}this._bindBuffer(y.indexBuffer,f.ELEMENT_ARRAY_BUFFER),g.setUniform("uMaterialColor",this.curFillColor);try{var M=0,E=null,T=c.stringToGlyphs(t),C=!0,A=!1,L=void 0;try{for(var P,O=T[Symbol.iterator]();!(C=(P=O.next()).done);C=!0){var R=P.value;E&&(M+=c.getKerningValue(E,R));var k=h.getGlyphInfo(R);if(k.uGlyphRect){var j=k.rowInfo,D=k.colInfo;g.setUniform("uSamplerStrokes",k.strokeImageInfo.imageData),g.setUniform("uSamplerRowStrokes",j.cellImageInfo.imageData),g.setUniform("uSamplerRows",j.dimImageInfo.imageData),g.setUniform("uSamplerColStrokes",D.cellImageInfo.imageData),g.setUniform("uSamplerCols",D.dimImageInfo.imageData),g.setUniform("uGridOffset",k.uGridOffset),g.setUniform("uGlyphRect",k.uGlyphRect),g.setUniform("uGlyphOffset",M),g.bindTextures(),f.drawElements(f.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)}M+=R.advanceWidth,E=R}}catch(e){A=!0,L=e}finally{try{C||null==O.return||O.return()}finally{if(A)throw L}}}finally{g.unbindShader(),this._doStroke=a,this.drawMode=l,e.pop()}return e}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":250,"../core/main":260,"./p5.RendererGL.Retained":313,"./p5.Shader":315,"core-js/modules/es.array.iterator":156,"core-js/modules/es.object.to-string":174,"core-js/modules/es.regexp.exec":178,"core-js/modules/es.string.iterator":183,"core-js/modules/es.string.split":188,"core-js/modules/es.string.sub":189,"core-js/modules/es.symbol":193,"core-js/modules/es.symbol.description":191,"core-js/modules/es.symbol.iterator":192,"core-js/modules/web.dom-collections.iterator":226}]},{},[245])(245)},zUnb:function(e,t,r){"use strict";function n(e){return"function"==typeof e}r.r(t);let i=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}};function o(e){setTimeout(()=>{throw e},0)}const a={closed:!0,next(e){},error(e){if(s.useDeprecatedSynchronousErrorHandling)throw e;o(e)},complete(){}},l=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))();function c(e){return null!==e&&"object"==typeof e}const u=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let h=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:r,_ctorUnsubscribe:i,_unsubscribe:s,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(null!==r)for(let e=0;e<r.length;++e)r[e].remove(this);if(n(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(a){t=a instanceof u?d(a.errors):[a]}}if(l(o)){let e=-1,r=o.length;for(;++e<r;){const r=o[e];if(c(r))try{r.unsubscribe()}catch(a){t=t||[],a instanceof u?t=t.concat(d(a.errors)):t.push(a)}}}if(t)throw new u(t)}add(t){let r=t;if(!t)return e.EMPTY;switch(typeof t){case"function":r=new e(t);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof e)){const t=r;r=new e,r._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=r;if(null===n)r._parentOrParents=this;else if(n instanceof e){if(n===this)return r;r._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return r;n.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[r]:i.push(r),r}remove(e){const t=this._subscriptions;if(t){const r=t.indexOf(e);-1!==r&&t.splice(r,1)}}}var t;return e.EMPTY=((t=new e).closed=!0,t),e})();function d(e){return e.reduce((e,t)=>e.concat(t instanceof u?t.errors:t),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends h{constructor(e,t,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!e){this.destination=a;break}if("object"==typeof e){e instanceof f?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,e,t,r)}}[p](){return this}static create(e,t,r){const n=new f(e,t,r);return n.syncErrorThrowable=!1,n}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class m extends f{constructor(e,t,r,i){let s;super(),this._parentSubscriber=e;let o=this;n(t)?s=t:t&&(s=t.next,r=t.error,i=t.complete,t!==a&&(o=Object.create(t),n(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=r,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:r}=s;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):o(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;o(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(r){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw r;o(r)}}__tryOrSetError(e,t,r){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(n){return s.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=n,e.syncErrorThrown=!0,!0):(o(n),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(e){return e}let v=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(e,t,r){const{operator:n}=this,i=function(e,t,r){if(e){if(e instanceof f)return e;if(e[p])return e[p]()}return e||t||r?new f(e,t,r):new f(a)}(e,t,r);if(i.add(n?n.call(i,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),s.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(e){try{return this._subscribe(e)}catch(t){s.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:r,isStopped:n}=e;if(t||n)return!1;e=r&&r instanceof f?r:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=_(t))((t,r)=>{let n;n=this.subscribe(t=>{try{e(t)}catch(i){r(i),n&&n.unsubscribe()}},r,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[g](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?y:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=_(e))((e,t)=>{let r;this.subscribe(e=>r=e,e=>t(e),()=>e(r))})}}return e.create=t=>new e(t),e})();function _(e){if(e||(e=s.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const b=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class w extends h{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}class x extends f{constructor(e){super(e),this.destination=e}}let S=(()=>{class e extends v{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new x(this)}lift(e){const t=new M(this,this);return t.operator=e,t}next(e){if(this.closed)throw new b;if(!this.isStopped){const{observers:t}=this,r=t.length,n=t.slice();for(let i=0;i<r;i++)n[i].next(e)}}error(e){if(this.closed)throw new b;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,r=t.length,n=t.slice();for(let i=0;i<r;i++)n[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new b;this.isStopped=!0;const{observers:e}=this,t=e.length,r=e.slice();for(let n=0;n<t;n++)r[n].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new b;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new b;return this.hasError?(e.error(this.thrownError),h.EMPTY):this.isStopped?(e.complete(),h.EMPTY):(this.observers.push(e),new w(this,e))}asObservable(){const e=new v;return e.source=this,e}}return e.create=(e,t)=>new M(e,t),e})();class M extends S{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):h.EMPTY}}function E(e){return e&&"function"==typeof e.schedule}function T(e,t){return function(r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new C(e,t))}}class C{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new A(e,this.project,this.thisArg))}}class A extends f{constructor(e,t,r){super(e),this.project=t,this.count=0,this.thisArg=r||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const L=e=>t=>{for(let r=0,n=e.length;r<n&&!t.closed;r++)t.next(e[r]);t.complete()};function P(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const O=P(),R=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function k(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const j=e=>{if(e&&"function"==typeof e[g])return n=e,e=>{const t=n[g]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(R(e))return L(e);if(k(e))return r=e,e=>(r.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,o),e);if(e&&"function"==typeof e[O])return t=e,e=>{const r=t[O]();for(;;){let t;try{t=r.next()}catch(n){return e.error(n),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof r.return&&e.add(()=>{r.return&&r.return()}),e};{const t=c(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,r,n};function D(e,t){return new v(r=>{const n=new h;let i=0;return n.add(t.schedule(function(){i!==e.length?(r.next(e[i++]),r.closed||n.add(this.schedule())):r.complete()})),n})}function I(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[g]}(e))return function(e,t){return new v(r=>{const n=new h;return n.add(t.schedule(()=>{const i=e[g]();n.add(i.subscribe({next(e){n.add(t.schedule(()=>r.next(e)))},error(e){n.add(t.schedule(()=>r.error(e)))},complete(){n.add(t.schedule(()=>r.complete()))}}))})),n})}(e,t);if(k(e))return function(e,t){return new v(r=>{const n=new h;return n.add(t.schedule(()=>e.then(e=>{n.add(t.schedule(()=>{r.next(e),n.add(t.schedule(()=>r.complete()))}))},e=>{n.add(t.schedule(()=>r.error(e)))}))),n})}(e,t);if(R(e))return D(e,t);if(function(e){return e&&"function"==typeof e[O]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new v(r=>{const n=new h;let i;return n.add(()=>{i&&"function"==typeof i.return&&i.return()}),n.add(t.schedule(()=>{i=e[O](),n.add(t.schedule(function(){if(r.closed)return;let e,t;try{const r=i.next();e=r.value,t=r.done}catch(n){return void r.error(n)}t?r.complete():(r.next(e),this.schedule())}))})),n})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof v?e:new v(j(e))}class N extends f{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class z extends f{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function F(e,t){if(t.closed)return;if(e instanceof v)return e.subscribe(t);let r;try{r=j(e)(t)}catch(n){t.error(n)}return r}function U(e,t,r=Number.POSITIVE_INFINITY){return"function"==typeof t?n=>n.pipe(U((r,n)=>I(e(r,n)).pipe(T((e,i)=>t(r,e,n,i))),r)):("number"==typeof t&&(r=t),t=>t.lift(new B(e,r)))}class B{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new V(e,this.project,this.concurrent))}}class V extends z{constructor(e,t,r=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(t)}_innerSub(e){const t=new N(this),r=this.destination;r.add(t);const n=F(e,t);n!==t&&r.add(n)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function H(e=Number.POSITIVE_INFINITY){return U(y,e)}function G(e,t){return t?D(e,t):new v(L(e))}function W(...e){let t=Number.POSITIVE_INFINITY,r=null,n=e[e.length-1];return E(n)?(r=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof n&&(t=e.pop()),null===r&&1===e.length&&e[0]instanceof v?e[0]:H(t)(G(e,r))}function q(){return function(e){return e.lift(new X(e))}}class X{constructor(e){this.connectable=e}call(e,t){const{connectable:r}=this;r._refCount++;const n=new Y(e,r),i=t.subscribe(n);return n.closed||(n.connection=r.connect()),i}}class Y extends f{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:r}=this,n=e._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}class $ extends v{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new h,e.add(this.source.subscribe(new Q(this.getSubject(),this))),e.closed&&(this._connection=null,e=h.EMPTY)),e}refCount(){return q()(this)}}const Z=(()=>{const e=$.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class Q extends x{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function J(){return new S}function K(){return e=>{return q()((t=J,function(e){let r;r="function"==typeof t?t:function(){return t};const n=Object.create(e,Z);return n.source=e,n.subjectFactory=r,n})(e));var t}}function ee(e){for(let t in e)if(e[t]===ee)return t;throw Error("Could not find renamed property on target object.")}function te(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function re(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(re).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function ne(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const ie=ee({__forward_ref__:ee});function se(e){return e.__forward_ref__=se,e.toString=function(){return re(this())},e}function oe(e){return ae(e)?e():e}function ae(e){return"function"==typeof e&&e.hasOwnProperty(ie)&&e.__forward_ref__===se}function le(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ce(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function ue(e){return he(e,pe)||he(e,me)}function he(e,t){return e.hasOwnProperty(t)?e[t]:null}function de(e){return e&&(e.hasOwnProperty(fe)||e.hasOwnProperty(ge))?e[fe]:null}const pe=ee({"\u0275prov":ee}),fe=ee({"\u0275inj":ee}),me=ee({ngInjectableDef:ee}),ge=ee({ngInjectorDef:ee});var ye=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});let ve;function _e(e){const t=ve;return ve=e,t}function be(e,t,r){const n=ue(e);if(n&&"root"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;if(r&ye.Optional)return null;if(void 0!==t)return t;throw new Error(`Injector: NOT_FOUND [${re(e)}]`)}function we(e){return{toString:e}.toString()}var xe=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),Se=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({});const Me="undefined"!=typeof globalThis&&globalThis,Ee="undefined"!=typeof window&&window,Te="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ce="undefined"!=typeof global&&global,Ae=Me||Ce||Ee||Te,Le={},Pe=[],Oe=ee({"\u0275cmp":ee}),Re=ee({"\u0275dir":ee}),ke=ee({"\u0275pipe":ee}),je=ee({"\u0275mod":ee}),De=ee({"\u0275loc":ee}),Ie=ee({"\u0275fac":ee}),Ne=ee({__NG_ELEMENT_ID__:ee});let ze=0;function Fe(e){return we(()=>{const t={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===xe.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Pe,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Se.Emulated,id:"c",styles:e.styles||Pe,_:null,setInput:null,schemas:e.schemas||null,tView:null},n=e.directives,i=e.features,s=e.pipes;return r.id+=ze++,r.inputs=Ge(e.inputs,t),r.outputs=Ge(e.outputs),i&&i.forEach(e=>e(r)),r.directiveDefs=n?()=>("function"==typeof n?n():n).map(Ue):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(Be):null,r})}function Ue(e){return qe(e)||function(e){return e[Re]||null}(e)}function Be(e){return function(e){return e[ke]||null}(e)}const Ve={};function He(e){const t={type:e.type,bootstrap:e.bootstrap||Pe,declarations:e.declarations||Pe,imports:e.imports||Pe,exports:e.exports||Pe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&we(()=>{Ve[e.id]=e.type}),t}function Ge(e,t){if(null==e)return Le;const r={};for(const n in e)if(e.hasOwnProperty(n)){let i=e[n],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),r[i]=n,t&&(t[i]=s)}return r}const We=Fe;function qe(e){return e[Oe]||null}function Xe(e,t){const r=e[je]||null;if(!r&&!0===t)throw new Error(`Type ${re(e)} does not have '\u0275mod' property.`);return r}const Ye=20,$e=10;function Ze(e){return Array.isArray(e)&&"object"==typeof e[1]}function Qe(e){return Array.isArray(e)&&!0===e[1]}function Je(e){return 0!=(8&e.flags)}function Ke(e){return 2==(2&e.flags)}function et(e){return 1==(1&e.flags)}function tt(e){return null!==e.template}function rt(e,t){return e.hasOwnProperty(Ie)?e[Ie]:null}class nt extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function it(e){return"string"==typeof e?e:null==e?"":String(e)}function st(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():it(e)}function ot(e,t){const r=t?" in "+t:"";throw new nt("201",`No provider for ${st(e)} found${r}`)}class at{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function lt(){return ct}function ct(e){return e.type.prototype.ngOnChanges&&(e.setInput=ht),ut}function ut(){const e=dt(this),t=null==e?void 0:e.current;if(t){const r=e.previous;if(r===Le)e.previous=t;else for(let e in t)r[e]=t[e];e.current=null,this.ngOnChanges(t)}}function ht(e,t,r,n){const i=dt(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Le,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[r],l=o[a];s[a]=new at(l&&l.currentValue,t,o===Le),e[n]=t}function dt(e){return e.__ngSimpleChanges__||null}lt.ngInherit=!0;let pt=void 0;function ft(e){return!!e.listen}const mt={createRenderer:(e,t)=>void 0!==pt?pt:"undefined"!=typeof document?document:void 0};function gt(e){for(;Array.isArray(e);)e=e[0];return e}function yt(e,t){return gt(t[e])}function vt(e,t){return gt(t[e.index])}function _t(e,t){return e.data[t]}function bt(e,t){const r=t[e];return Ze(r)?r:r[0]}function wt(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function xt(e){return 4==(4&e[2])}function St(e){return 128==(128&e[2])}function Mt(e,t){return null==t?null:e[t]}function Et(e){e[18]=0}function Tt(e,t){e[5]+=t;let r=e,n=e[3];for(;null!==n&&(1===t&&1===r[5]||-1===t&&0===r[5]);)n[5]+=t,r=n,n=n[3]}const Ct={lFrame:Zt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function At(){return Ct.bindingsEnabled}function Lt(){return Ct.lFrame.lView}function Pt(){return Ct.lFrame.tView}function Ot(e){Ct.lFrame.contextLView=e}function Rt(){let e=kt();for(;null!==e&&64===e.type;)e=e.parent;return e}function kt(){return Ct.lFrame.currentTNode}function jt(e,t){const r=Ct.lFrame;r.currentTNode=e,r.isParent=t}function Dt(){return Ct.lFrame.isParent}function It(){Ct.lFrame.isParent=!1}function Nt(){return Ct.isInCheckNoChangesMode}function zt(e){Ct.isInCheckNoChangesMode=e}function Ft(){return Ct.lFrame.bindingIndex++}function Ut(e){const t=Ct.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function Bt(e,t){const r=Ct.lFrame;r.bindingIndex=r.bindingRootIndex=e,Vt(t)}function Vt(e){Ct.lFrame.currentDirectiveIndex=e}function Ht(e){const t=Ct.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function Gt(){return Ct.lFrame.currentQueryIndex}function Wt(e){Ct.lFrame.currentQueryIndex=e}function qt(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Xt(e,t,r){if(r&ye.SkipSelf){let n=t,i=e;for(;n=n.parent,!(null!==n||r&ye.Host||(n=qt(i),null===n)||(i=i[15],10&n.type)););if(null===n)return!1;t=n,e=i}const n=Ct.lFrame=$t();return n.currentTNode=t,n.lView=e,!0}function Yt(e){const t=$t(),r=e[1];Ct.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function $t(){const e=Ct.lFrame,t=null===e?null:e.child;return null===t?Zt(e):t}function Zt(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Qt(){const e=Ct.lFrame;return Ct.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Jt=Qt;function Kt(){const e=Qt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function er(){return Ct.lFrame.selectedIndex}function tr(e){Ct.lFrame.selectedIndex=e}function rr(){const e=Ct.lFrame;return _t(e.tView,e.selectedIndex)}function nr(e,t){for(let r=t.directiveStart,n=t.directiveEnd;r<n;r++){const t=e.data[r].type.prototype,{ngAfterContentInit:n,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;n&&(e.contentHooks||(e.contentHooks=[])).push(-r,n),i&&((e.contentHooks||(e.contentHooks=[])).push(r,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(r,i)),s&&(e.viewHooks||(e.viewHooks=[])).push(-r,s),o&&((e.viewHooks||(e.viewHooks=[])).push(r,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(r,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(r,a)}}function ir(e,t,r){ar(e,t,3,r)}function sr(e,t,r,n){(3&e[2])===r&&ar(e,t,r,n)}function or(e,t){let r=e[2];(3&r)===t&&(r&=2047,r+=1,e[2]=r)}function ar(e,t,r,n){const i=null!=n?n:-1,s=t.length-1;let o=0;for(let a=void 0!==n?65535&e[18]:0;a<s;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=n&&o>=n)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(lr(e,r,t,a),e[18]=(4294901760&e[18])+a+2),a++}function lr(e,t,r,n){const i=r[n]<0,s=r[n+1],o=e[i?-r[n]:r[n]];i?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,s.call(o)):s.call(o)}const cr=-1;class ur{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function hr(e,t,r){const n=ft(e);let i=0;for(;i<r.length;){const s=r[i];if("number"==typeof s){if(0!==s)break;i++;const o=r[i++],a=r[i++],l=r[i++];n?e.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=s,a=r[++i];pr(o)?n&&e.setProperty(t,o,a):n?e.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function dr(e){return 3===e||4===e||6===e}function pr(e){return 64===e.charCodeAt(0)}function fr(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let n=0;n<t.length;n++){const i=t[n];"number"==typeof i?r=i:0===r||mr(e,r,i,null,-1===r||2===r?t[++n]:null)}}return e}function mr(e,t,r,n,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const r=e[s++];if("number"==typeof r){if(r===t){o=-1;break}if(r>t){o=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===r){if(null===n)return void(null!==i&&(e[s+1]=i));if(n===e[s+1])return void(e[s+2]=i)}s++,null!==n&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,r),null!==n&&e.splice(s++,0,n),null!==i&&e.splice(s++,0,i)}function gr(e){return e!==cr}function yr(e){return 32767&e}function vr(e,t){let r=e>>16,n=t;for(;r>0;)n=n[15],r--;return n}let _r=!0;function br(e){const t=_r;return _r=e,t}let wr=0;function xr(e,t){const r=Mr(e,t);if(-1!==r)return r;const n=t[1];n.firstCreatePass&&(e.injectorIndex=t.length,Sr(n.data,e),Sr(t,null),Sr(n.blueprint,null));const i=Er(e,t),s=e.injectorIndex;if(gr(i)){const e=yr(i),r=vr(i,t),n=r[1].data;for(let i=0;i<8;i++)t[s+i]=r[e+i]|n[e+i]}return t[s+8]=i,s}function Sr(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Mr(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Er(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,n=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(n=2===t?e.declTNode:1===t?i[6]:null,null===n)return cr;if(r++,i=i[15],-1!==n.injectorIndex)return n.injectorIndex|r<<16}return cr}function Tr(e,t,r){!function(e,t,r){let n;"string"==typeof r?n=r.charCodeAt(0)||0:r.hasOwnProperty(Ne)&&(n=r[Ne]),null==n&&(n=r[Ne]=wr++);const i=255&n,s=1<<i,o=64&i,a=32&i,l=t.data;128&i?o?a?l[e+7]|=s:l[e+6]|=s:a?l[e+5]|=s:l[e+4]|=s:o?a?l[e+3]|=s:l[e+2]|=s:a?l[e+1]|=s:l[e]|=s}(e,t,r)}function Cr(e,t,r){if(r&ye.Optional)return e;ot(t,"NodeInjector")}function Ar(e,t,r,n){if(r&ye.Optional&&void 0===n&&(n=null),0==(r&(ye.Self|ye.Host))){const i=e[9],s=_e(void 0);try{return i?i.get(t,n,r&ye.Optional):be(t,n,r&ye.Optional)}finally{_e(s)}}return Cr(n,t,r)}function Lr(e,t,r,n=ye.Default,i){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ne)?e[Ne]:void 0;return"number"==typeof t?t>=0?255&t:Or:t}(r);if("function"==typeof s){if(!Xt(t,e,n))return n&ye.Host?Cr(i,r,n):Ar(t,r,n,i);try{const e=s();if(null!=e||n&ye.Optional)return e;ot(r)}finally{Jt()}}else if("number"==typeof s){let i=null,o=Mr(e,t),a=cr,l=n&ye.Host?t[16][6]:null;for((-1===o||n&ye.SkipSelf)&&(a=-1===o?Er(e,t):t[o+8],a!==cr&&Ir(n,!1)?(i=t[1],o=yr(a),t=vr(a,t)):o=-1);-1!==o;){const e=t[1];if(Dr(s,o,e.data)){const e=Rr(o,t,r,i,n,l);if(e!==Pr)return e}a=t[o+8],a!==cr&&Ir(n,t[1].data[o+8]===l)&&Dr(s,o,t)?(i=e,o=yr(a),t=vr(a,t)):o=-1}}}return Ar(t,r,n,i)}const Pr={};function Or(){return new Nr(Rt(),Lt())}function Rr(e,t,r,n,i,s){const o=t[1],a=o.data[e+8],l=kr(a,o,r,null==n?Ke(a)&&_r:n!=o&&0!=(3&a.type),i&ye.Host&&s===a);return null!==l?jr(t,o,l,a):Pr}function kr(e,t,r,n,i){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,c=s>>20,u=i?a+c:e.directiveEnd;for(let h=n?a:a+c;h<u;h++){const e=o[h];if(h<l&&r===e||h>=l&&e.type===r)return h}if(i){const e=o[l];if(e&&tt(e)&&e.type===r)return l}return null}function jr(e,t,r,n){let i=e[r];const s=t.data;if(i instanceof ur){const o=i;o.resolving&&function(e,t){throw new nt("200","Circular dependency in DI detected for "+e)}(st(s[r]));const a=br(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?_e(o.injectImpl):null;Xt(e,n,ye.Default);try{i=e[r]=o.factory(void 0,s,e,n),t.firstCreatePass&&r>=n.directiveStart&&function(e,t,r){const{ngOnChanges:n,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(n){const n=ct(t);(r.preOrderHooks||(r.preOrderHooks=[])).push(e,n),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(e,n)}i&&(r.preOrderHooks||(r.preOrderHooks=[])).push(0-e,i),s&&((r.preOrderHooks||(r.preOrderHooks=[])).push(e,s),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(e,s))}(r,s[r],t)}finally{null!==l&&_e(l),br(a),o.resolving=!1,Jt()}}return i}function Dr(e,t,r){const n=64&e,i=32&e;let s;return s=128&e?n?i?r[t+7]:r[t+6]:i?r[t+5]:r[t+4]:n?i?r[t+3]:r[t+2]:i?r[t+1]:r[t],!!(s&1<<e)}function Ir(e,t){return!(e&ye.Self||e&ye.Host&&t)}class Nr{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return Lr(this._tNode,this._lView,e,void 0,t)}}function zr(e){const t=e;if(ae(e))return()=>{const e=zr(oe(t));return e?e():null};let r=rt(t);if(null===r){const e=de(t);r=e&&e.factory}return r||null}function Fr(e){return we(()=>{const t=e.prototype.constructor,r=t[Ie]||zr(t),n=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==n;){const e=i[Ie]||zr(i);if(e&&e!==r)return e;i=Object.getPrototypeOf(i)}return e=>new e})}function Ur(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const e=r.length;let n=0;for(;n<e;){const i=r[n];if(dr(i))break;if(0===i)n+=2;else if("number"==typeof i)for(n++;n<e&&"string"==typeof r[n];)n++;else{if(i===t)return r[n+1];n+=2}}}return null}(Rt(),e)}const Br="__parameters__";function Vr(e,t,r){return we(()=>{const n=function(e){return function(...t){if(e){const r=e(...t);for(const e in r)this[e]=r[e]}}}(t);function i(...e){if(this instanceof i)return n.apply(this,e),this;const t=new i(...e);return r.annotation=t,r;function r(e,r,n){const i=e.hasOwnProperty(Br)?e[Br]:Object.defineProperty(e,Br,{value:[]})[Br];for(;i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(t),e}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class Hr{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=le({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return"InjectionToken "+this._desc}}const Gr=new Hr("AnalyzeForEntryComponents"),Wr=Function;function qr(e,t){void 0===t&&(t=e);for(let r=0;r<e.length;r++){let n=e[r];Array.isArray(n)?(t===e&&(t=e.slice(0,r)),qr(n,t)):t!==e&&t.push(n)}return t}function Xr(e,t){e.forEach(e=>Array.isArray(e)?Xr(e,t):t(e))}function Yr(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function $r(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Zr(e,t){const r=[];for(let n=0;n<e;n++)r.push(t);return r}function Qr(e,t,r){let n=Kr(e,t);return n>=0?e[1|n]=r:(n=~n,function(e,t,r,n){let i=e.length;if(i==t)e.push(r,n);else if(1===i)e.push(n,e[0]),e[0]=r;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=r,e[t+1]=n}}(e,n,t,r)),n}function Jr(e,t){const r=Kr(e,t);if(r>=0)return e[1|r]}function Kr(e,t){return function(e,t,r){let n=0,i=e.length>>1;for(;i!==n;){const r=n+(i-n>>1),s=e[r<<1];if(t===s)return r<<1;s>t?i=r:n=r+1}return~(i<<1)}(e,t)}const en=Vr("Inject",e=>({token:e})),tn=Vr("Optional"),rn=Vr("Self"),nn=Vr("SkipSelf"),sn=Vr("Host"),on={},an=/\n/gm,ln="__source",cn=ee({provide:String,useValue:ee});let un=void 0;function hn(e){const t=un;return un=e,t}function dn(e,t=ye.Default){if(void 0===un)throw new Error("inject() must be called from an injection context");return null===un?be(e,void 0,t):un.get(e,t&ye.Optional?null:void 0,t)}function pn(e,t=ye.Default){return(ve||dn)(oe(e),t)}const fn=pn;function mn(e){const t=[];for(let r=0;r<e.length;r++){const n=oe(e[r]);if(Array.isArray(n)){if(0===n.length)throw new Error("Arguments array must have arguments.");let e=void 0,r=ye.Default;for(let t=0;t<n.length;t++){const i=n[t];i instanceof tn||"Optional"===i.ngMetadataName||i===tn?r|=ye.Optional:i instanceof nn||"SkipSelf"===i.ngMetadataName||i===nn?r|=ye.SkipSelf:i instanceof rn||"Self"===i.ngMetadataName||i===rn?r|=ye.Self:i instanceof sn||"Host"===i.ngMetadataName||i===sn?r|=ye.Host:e=i instanceof en||i===en?i.token:i}t.push(pn(e,r))}else t.push(pn(n))}return t}let gn;function yn(e){var t;return(null===(t=function(){if(void 0===gn&&(gn=null,Ae.trustedTypes))try{gn=Ae.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(t){}return gn}())||void 0===t?void 0:t.createHTML(e))||e}class vn{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class _n extends vn{getTypeName(){return"HTML"}}class bn extends vn{getTypeName(){return"Style"}}class wn extends vn{getTypeName(){return"Script"}}class xn extends vn{getTypeName(){return"URL"}}class Sn extends vn{getTypeName(){return"ResourceURL"}}function Mn(e){return e instanceof vn?e.changingThisBreaksApplicationSecurity:e}function En(e,t){const r=Tn(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see https://g.co/ng/security#xss)`)}return r===t}function Tn(e){return e instanceof vn&&e.getTypeName()||null}class Cn{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(yn(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class An{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=yn(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=yn(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let n=t.length-1;0<n;n--){const r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Ln=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Pn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function On(e){return(e=String(e)).match(Ln)||e.match(Pn)?e:"unsafe:"+e}function Rn(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function kn(...e){const t={};for(const r of e)for(const e in r)r.hasOwnProperty(e)&&(t[e]=!0);return t}const jn=Rn("area,br,col,hr,img,wbr"),Dn=Rn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),In=Rn("rp,rt"),Nn=kn(In,Dn),zn=kn(jn,kn(Dn,Rn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),kn(In,Rn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Nn),Fn=Rn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Un=Rn("srcset"),Bn=kn(Fn,Un,Rn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Rn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Vn=Rn("script,style,template");class Hn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!zn.hasOwnProperty(t))return this.sanitizedSomething=!0,!Vn.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const e=r.item(i),t=e.name,s=t.toLowerCase();if(!Bn.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=e.value;Fn[s]&&(o=On(o)),Un[s]&&(n=o,o=(n=String(n)).split(",").map(e=>On(e.trim())).join(", ")),this.buf.push(" ",t,'="',qn(o),'"')}var n;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();zn.hasOwnProperty(t)&&!jn.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(qn(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}const Gn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wn=/([^\#-~ |!])/g;function qn(e){return e.replace(/&/g,"&amp;").replace(Gn,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Wn,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xn;function Yn(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var $n=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function Zn(e){const t=function(){const e=Lt();return e&&e[12]}();return t?t.sanitize($n.URL,e)||"":En(e,"URL")?Mn(e):On(it(e))}function Qn(e){return e.ngDebugContext}function Jn(e){return e.ngOriginalError}function Kn(e,...t){e.error(...t)}class ei{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=this._findContext(e),n=function(e){return e.ngErrorLogger||Kn}(e);n(this._console,"ERROR",e),t&&n(this._console,"ORIGINAL ERROR",t),r&&n(this._console,"ERROR CONTEXT",r)}_findContext(e){return e?Qn(e)?Qn(e):this._findContext(Jn(e)):null}_findOriginalError(e){let t=Jn(e);for(;t&&Jn(t);)t=Jn(t);return t}}function ti(e,t){e.__ngContext__=t}const ri=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ae))();function ni(e){return e instanceof Function?e():e}var ii=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});function si(e,t){return(void 0)(e,t)}function oi(e){const t=e[3];return Qe(t)?t[3]:t}function ai(e){return ci(e[13])}function li(e){return ci(e[4])}function ci(e){for(;null!==e&&!Qe(e);)e=e[4];return e}function ui(e,t,r,n,i){if(null!=n){let s,o=!1;Qe(n)?s=n:Ze(n)&&(o=!0,n=n[0]);const a=gt(n);0===e&&null!==r?null==i?vi(t,r,a):yi(t,r,a,i||null,!0):1===e&&null!==r?yi(t,r,a,i||null,!0):2===e?function(e,t,r){const n=bi(e,t);n&&function(e,t,r,n){ft(e)?e.removeChild(t,r,n):t.removeChild(r)}(e,n,t,r)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,r,n,i){const s=r[7];s!==gt(r)&&ui(t,e,n,s,i);for(let o=$e;o<r.length;o++){const i=r[o];Ci(i[1],i,e,t,n,s)}}(t,e,s,r,i)}}function hi(e,t,r){return ft(e)?e.createElement(t,r):null===r?e.createElement(t):e.createElementNS(r,t)}function di(e,t){const r=e[9],n=r.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Tt(i,-1)),r.splice(n,1)}function pi(e,t){if(e.length<=$e)return;const r=$e+t,n=e[r];if(n){const s=n[17];null!==s&&s!==e&&di(s,n),t>0&&(e[r-1][4]=n[4]);const o=$r(e,$e+t);Ci(n[1],i=n,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),n[3]=null,n[4]=null,n[2]&=-129}var i;return n}function fi(e,t){if(!(256&t[2])){const r=t[11];ft(r)&&r.destroyNode&&Ci(e,t,r,3,null,null),function(e){let t=e[13];if(!t)return mi(e[1],e);for(;t;){let r=null;if(Ze(t))r=t[13];else{const e=t[10];e&&(r=e)}if(!r){for(;t&&!t[4]&&t!==e;)Ze(t)&&mi(t[1],t),t=t[3];null===t&&(t=e),Ze(t)&&mi(t[1],t),r=t&&t[4]}t=r}}(t)}}function mi(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let n=0;n<r.length;n+=2){const e=t[r[n]];if(!(e instanceof ur)){const t=r[n+1];if(Array.isArray(t))for(let r=0;r<t.length;r+=2)t[r+1].call(e[t[r]]);else t.call(e)}}}(e,t),function(e,t){const r=e.cleanup,n=t[7];let i=-1;if(null!==r)for(let s=0;s<r.length-1;s+=2)if("string"==typeof r[s]){const e=r[s+1],o="function"==typeof e?e(t):gt(t[e]),a=n[i=r[s+2]],l=r[s+3];"boolean"==typeof l?o.removeEventListener(r[s],a,l):l>=0?n[i=l]():n[i=-l].unsubscribe(),s+=2}else{const e=n[i=r[s+1]];r[s].call(e)}if(null!==n){for(let e=i+1;e<n.length;e++)(0,n[e])();t[7]=null}}(e,t),1===t[1].type&&ft(t[11])&&t[11].destroy();const r=t[17];if(null!==r&&Qe(t[3])){r!==t[3]&&di(r,t);const n=t[19];null!==n&&n.detachView(e)}}}function gi(e,t,r){return function(e,t,r){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return r[0];if(2&n.flags){const t=e.data[n.directiveStart].encapsulation;if(t===Se.None||t===Se.Emulated)return null}return vt(n,r)}(e,t.parent,r)}function yi(e,t,r,n,i){ft(e)?e.insertBefore(t,r,n,i):t.insertBefore(r,n,i)}function vi(e,t,r){ft(e)?e.appendChild(t,r):t.appendChild(r)}function _i(e,t,r,n,i){null!==n?yi(e,t,r,n,i):vi(e,t,r)}function bi(e,t){return ft(e)?e.parentNode(t):t.parentNode}function wi(e,t,r){return xi(e,t,r)}let xi=function(e,t,r){return 40&e.type?vt(e,r):null};function Si(e,t,r,n){const i=gi(e,n,t),s=t[11],o=wi(n.parent||t[6],n,t);if(null!=i)if(Array.isArray(r))for(let a=0;a<r.length;a++)_i(s,i,r[a],o,!1);else _i(s,i,r,o,!1)}function Mi(e,t){if(null!==t){const r=t.type;if(3&r)return vt(t,e);if(4&r)return Ei(-1,e[t.index]);if(8&r){const r=t.child;if(null!==r)return Mi(e,r);{const r=e[t.index];return Qe(r)?Ei(-1,r):gt(r)}}if(32&r)return si(t,e)()||gt(e[t.index]);{const r=e[16],n=r[6],i=oi(r),s=n.projection[t.projection];return null!=s?Mi(i,s):Mi(e,t.next)}}return null}function Ei(e,t){const r=$e+e+1;if(r<t.length){const e=t[r],n=e[1].firstChild;if(null!==n)return Mi(e,n)}return t[7]}function Ti(e,t,r,n,i,s,o){for(;null!=r;){const a=n[r.index],l=r.type;if(o&&0===t&&(a&&ti(gt(a),n),r.flags|=4),64!=(64&r.flags))if(8&l)Ti(e,t,r.child,n,i,s,!1),ui(t,e,i,a,s);else if(32&l){const o=si(r,n);let l;for(;l=o();)ui(t,e,i,l,s);ui(t,e,i,a,s)}else 16&l?Ai(e,t,n,r,i,s):ui(t,e,i,a,s);r=o?r.projectionNext:r.next}}function Ci(e,t,r,n,i,s){Ti(r,n,e.firstChild,t,i,s,!1)}function Ai(e,t,r,n,i,s){const o=r[16],a=o[6].projection[n.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)ui(t,e,i,a[l],s);else Ti(e,t,a,o[3],i,s,!0)}function Li(e,t,r){ft(e)?e.setAttribute(t,"style",r):t.style.cssText=r}function Pi(e,t,r){ft(e)?""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r):t.className=r}function Oi(e,t,r){let n=e.length;for(;;){const i=e.indexOf(t,r);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const r=t.length;if(i+r===n||e.charCodeAt(i+r)<=32)return i}r=i+1}}const Ri="ng-template";function ki(e,t,r){let n=0;for(;n<e.length;){let i=e[n++];if(r&&"class"===i){if(i=e[n],-1!==Oi(i.toLowerCase(),t,0))return!0}else if(1===i){for(;n<e.length&&"string"==typeof(i=e[n++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function ji(e){return 4===e.type&&e.value!==Ri}function Di(e,t,r){return t===(4!==e.type||r?e.value:Ri)}function Ii(e,t,r){let n=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(dr(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&n){if(n=2|1&n,""!==l&&!Di(e,l,r)||""===l&&1===t.length){if(Ni(n))return!1;o=!0}}else{const c=8&n?l:t[++a];if(8&n&&null!==e.attrs){if(!ki(e.attrs,c,r)){if(Ni(n))return!1;o=!0}continue}const u=zi(8&n?"class":l,i,ji(e),r);if(-1===u){if(Ni(n))return!1;o=!0;continue}if(""!==c){let e;e=u>s?"":i[u+1].toLowerCase();const t=8&n?e:null;if(t&&-1!==Oi(t,c,0)||2&n&&c!==e){if(Ni(n))return!1;o=!0}}}}else{if(!o&&!Ni(n)&&!Ni(l))return!1;if(o&&Ni(l))continue;o=!1,n=l|1&n}}return Ni(n)||o}function Ni(e){return 0==(1&e)}function zi(e,t,r,n){if(null===t)return-1;let i=0;if(n||!r){let r=!1;for(;i<t.length;){const n=t[i];if(n===e)return i;if(3===n||6===n)r=!0;else{if(1===n||2===n){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===n)break;if(0===n){i+=4;continue}}i+=r?1:2}return-1}return function(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const n=e[r];if("number"==typeof n)return-1;if(n===t)return r;r++}return-1}(t,e)}function Fi(e,t,r=!1){for(let n=0;n<t.length;n++)if(Ii(e,t[n],r))return!0;return!1}function Ui(e,t){e:for(let r=0;r<t.length;r++){const n=t[r];if(e.length===n.length){for(let t=0;t<e.length;t++)if(e[t]!==n[t])continue e;return!0}}return!1}function Bi(e,t){return e?":not("+t.trim()+")":t}function Vi(e){let t=e[0],r=1,n=2,i="",s=!1;for(;r<e.length;){let o=e[r];if("string"==typeof o)if(2&n){const t=e[++r];i+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&n?i+="."+o:4&n&&(i+=" "+o);else""===i||Ni(o)||(t+=Bi(s,i),i=""),n=o,s=s||!Ni(n);r++}return""!==i&&(t+=Bi(s,i)),t}const Hi={};function Gi(e){Wi(Pt(),Lt(),er()+e,Nt())}function Wi(e,t,r,n){if(!n)if(3==(3&t[2])){const n=e.preOrderCheckHooks;null!==n&&ir(t,n,r)}else{const n=e.preOrderHooks;null!==n&&sr(t,n,0,r)}tr(r)}function qi(e,t){return e<<17|t<<2}function Xi(e){return e>>17&32767}function Yi(e){return 2|e}function $i(e){return(131068&e)>>2}function Zi(e,t){return-131069&e|t<<2}function Qi(e){return 1|e}function Ji(e,t){const r=e.contentQueries;if(null!==r)for(let n=0;n<r.length;n+=2){const i=r[n],s=r[n+1];if(-1!==s){const r=e.data[s];Wt(i),r.contentQueries(2,t[s],s)}}}function Ki(e,t,r,n,i,s,o,a,l,c){const u=t.blueprint.slice();return u[0]=i,u[2]=140|n,Et(u),u[3]=u[15]=e,u[8]=r,u[10]=o||e&&e[10],u[11]=a||e&&e[11],u[12]=l||e&&e[12]||null,u[9]=c||e&&e[9]||null,u[6]=s,u[16]=2==t.type?e[16]:u,u}function es(e,t,r,n,i){let s=e.data[t];if(null===s)s=function(e,t,r,n,i){const s=kt(),o=Dt(),a=e.data[t]=function(e,t,r,n,i,s){return{type:r,index:n,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,r,t,n,i);return null===e.firstChild&&(e.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(e,t,r,n,i),Ct.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=r,s.value=n,s.attrs=i;const e=function(){const e=Ct.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===e?-1:e.injectorIndex}return jt(s,!0),s}function ts(e,t,r,n){if(0===r)return-1;const i=t.length;for(let s=0;s<r;s++)t.push(n),e.blueprint.push(n),e.data.push(null);return i}function rs(e,t,r){Yt(t);try{const n=e.viewQuery;null!==n&&Rs(1,n,r);const i=e.template;null!==i&&ss(e,t,i,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ji(e,t),e.staticViewQueries&&Rs(2,e.viewQuery,r);const s=e.components;null!==s&&function(e,t){for(let r=0;r<t.length;r++)Cs(e,t[r])}(t,s)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),n}finally{t[2]&=-5,Kt()}}function ns(e,t,r,n){const i=t[2];if(256==(256&i))return;Yt(t);const s=Nt();try{Et(t),Ct.lFrame.bindingIndex=e.bindingStartIndex,null!==r&&ss(e,t,r,2,n);const o=3==(3&i);if(!s)if(o){const r=e.preOrderCheckHooks;null!==r&&ir(t,r,null)}else{const r=e.preOrderHooks;null!==r&&sr(t,r,0,null),or(t,0)}if(function(e){for(let t=ai(e);null!==t;t=li(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const r=e[t],n=r[3];0==(1024&r[2])&&Tt(n,1),r[2]|=1024}}}(t),function(e){for(let t=ai(e);null!==t;t=li(t))for(let e=$e;e<t.length;e++){const r=t[e],n=r[1];St(r)&&ns(n,r,n.template,r[8])}}(t),null!==e.contentQueries&&Ji(e,t),!s)if(o){const r=e.contentCheckHooks;null!==r&&ir(t,r)}else{const r=e.contentHooks;null!==r&&sr(t,r,1),or(t,1)}!function(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let e=0;e<r.length;e++){const n=r[e];if(n<0)tr(~n);else{const i=n,s=r[++e],o=r[++e];Bt(s,i),o(2,t[i])}}}finally{tr(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let r=0;r<t.length;r++)Es(e,t[r])}(t,a);const l=e.viewQuery;if(null!==l&&Rs(2,l,n),!s)if(o){const r=e.viewCheckHooks;null!==r&&ir(t,r)}else{const r=e.viewHooks;null!==r&&sr(t,r,2),or(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Tt(t[3],-1))}finally{Kt()}}function is(e,t,r,n){const i=t[10],s=!Nt(),o=xt(t);try{s&&!o&&i.begin&&i.begin(),o&&rs(e,t,n),ns(e,t,r,n)}finally{s&&!o&&i.end&&i.end()}}function ss(e,t,r,n,i){const s=er();try{tr(-1),2&n&&t.length>Ye&&Wi(e,t,Ye,Nt()),r(n,i)}finally{tr(s)}}function os(e,t,r){if(Je(t)){const n=t.directiveEnd;for(let i=t.directiveStart;i<n;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,r[i],i)}}}function as(e,t,r){At()&&(function(e,t,r,n){const i=r.directiveStart,s=r.directiveEnd;e.firstCreatePass||xr(r,t),ti(n,t);const o=r.initialInputs;for(let a=i;a<s;a++){const n=e.data[a],s=tt(n);s&&ws(t,r,n);const l=jr(t,e,a,r);ti(l,t),null!==o&&xs(0,a-i,l,n,0,o),s&&(bt(r.index,t)[8]=l)}}(e,t,r,vt(r,t)),128==(128&r.flags)&&function(e,t,r){const n=r.directiveStart,i=r.directiveEnd,s=r.index,o=Ct.lFrame.currentDirectiveIndex;try{tr(s);for(let r=n;r<i;r++){const n=e.data[r],i=t[r];Vt(r),null===n.hostBindings&&0===n.hostVars&&null===n.hostAttrs||gs(n,i)}}finally{tr(-1),Vt(o)}}(e,t,r))}function ls(e,t,r=vt){const n=t.localNames;if(null!==n){let i=t.index+1;for(let s=0;s<n.length;s+=2){const o=n[s+1],a=-1===o?r(t,e):e[o];e[i++]=a}}}function cs(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=us(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function us(e,t,r,n,i,s,o,a,l,c){const u=Ye+n,h=u+i,d=function(e,t){const r=[];for(let n=0;n<t;n++)r.push(n<e?null:Hi);return r}(u,h),p="function"==typeof c?c():c;return d[1]={type:e,blueprint:d,template:r,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function hs(e,t,r,n){const i=js(t);null===r?i.push(n):(i.push(r),e.firstCreatePass&&Ds(e).push(n,i.length-1))}function ds(e,t,r){for(let n in e)if(e.hasOwnProperty(n)){const i=e[n];(r=null===r?{}:r).hasOwnProperty(n)?r[n].push(t,i):r[n]=[t,i]}return r}function ps(e,t,r,n,i,s,o,a){const l=vt(t,r);let c,u=t.inputs;!a&&null!=u&&(c=u[n])?(Ns(e,r,c,n,i),Ke(t)&&function(e,t){const r=bt(t,e);16&r[2]||(r[2]|=64)}(r,t.index)):3&t.type&&(n=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),i=null!=o?o(i,t.value||"",n):i,ft(s)?s.setProperty(l,n,i):pr(n)||(l.setProperty?l.setProperty(n,i):l[n]=i))}function fs(e,t,r,n){let i=!1;if(At()){const s=function(e,t,r){const n=e.directiveRegistry;let i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];Fi(r,o.selectors,!1)&&(i||(i=[]),Tr(xr(r,t),e,o.type),tt(o)?(ys(e,r),i.unshift(o)):i.push(o))}return i}(e,t,r),o=null===n?null:{"":-1};if(null!==s){i=!0,_s(r,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}let n=!1,a=!1,l=ts(e,t,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];r.mergedAttrs=fr(r.mergedAttrs,c.hostAttrs),bs(e,r,t,l,c),vs(l,c,o),null!==c.contentQueries&&(r.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(r.flags|=128);const u=c.type.prototype;!n&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(r.index),n=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(r.index),a=!0),l++}!function(e,t){const r=t.directiveEnd,n=e.data,i=t.attrs,s=[];let o=null,a=null;for(let l=t.directiveStart;l<r;l++){const e=n[l],r=e.inputs,c=null===i||ji(t)?null:Ss(r,i);s.push(c),o=ds(r,l,o),a=ds(e.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=o,t.outputs=a}(e,r)}o&&function(e,t,r){if(t){const n=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=r[t[e+1]];if(null==i)throw new nt("301",`Export of name '${t[e+1]}' not found!`);n.push(t[e],i)}}}(r,n,o)}return r.mergedAttrs=fr(r.mergedAttrs,r.attrs),i}function ms(e,t,r,n,i,s){const o=s.hostBindings;if(o){let r=e.hostBindingOpCodes;null===r&&(r=e.hostBindingOpCodes=[]);const s=~t.index;(function(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(r)!=s&&r.push(s),r.push(n,i,o)}}function gs(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ys(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function vs(e,t,r){if(r){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)r[t.exportAs[n]]=e;tt(t)&&(r[""]=e)}}function _s(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}function bs(e,t,r,n,i){e.data[n]=i;const s=i.factory||(i.factory=rt(i.type)),o=new ur(s,tt(i),null);e.blueprint[n]=o,r[n]=o,ms(e,t,0,n,ts(e,r,i.hostVars,Hi),i)}function ws(e,t,r){const n=vt(t,e),i=cs(r),s=e[10],o=As(e,Ki(e,i,null,r.onPush?64:16,n,t,s,s.createRenderer(n,r),null,null));e[t.index]=o}function xs(e,t,r,n,i,s){const o=s[t];if(null!==o){const e=n.setInput;for(let t=0;t<o.length;){const i=o[t++],s=o[t++],a=o[t++];null!==e?n.setInput(r,a,i,s):r[s]=a}}}function Ss(e,t){let r=null,n=0;for(;n<t.length;){const i=t[n];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===r&&(r=[]),r.push(i,e[i],t[n+1])),n+=2}else n+=2;else n+=4}return r}function Ms(e,t,r,n){return new Array(e,!0,!1,t,null,0,n,r,null,null)}function Es(e,t){const r=bt(t,e);if(St(r)){const e=r[1];80&r[2]?ns(e,r,e.template,r[8]):r[5]>0&&Ts(r)}}function Ts(e){for(let r=ai(e);null!==r;r=li(r))for(let e=$e;e<r.length;e++){const t=r[e];if(1024&t[2]){const e=t[1];ns(e,t,e.template,t[8])}else t[5]>0&&Ts(t)}const t=e[1].components;if(null!==t)for(let r=0;r<t.length;r++){const n=bt(t[r],e);St(n)&&n[5]>0&&Ts(n)}}function Cs(e,t){const r=bt(t,e),n=r[1];!function(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(n,r),rs(n,r,r[8])}function As(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Ls(e){for(;e;){e[2]|=64;const t=oi(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function Ps(e,t,r){const n=t[10];n.begin&&n.begin();try{ns(e,t,e.template,r)}catch(i){throw Is(t,i),i}finally{n.end&&n.end()}}function Os(e){!function(e){for(let t=0;t<e.components.length;t++){const r=e.components[t],n=wt(r),i=n[1];is(i,n,i.template,r)}}(e[8])}function Rs(e,t,r){Wt(0),t(e,r)}const ks=(()=>Promise.resolve(null))();function js(e){return e[7]||(e[7]=[])}function Ds(e){return e.cleanup||(e.cleanup=[])}function Is(e,t){const r=e[9],n=r?r.get(ei,null):null;n&&n.handleError(t)}function Ns(e,t,r,n,i){for(let s=0;s<r.length;){const o=r[s++],a=r[s++],l=t[o],c=e.data[o];null!==c.setInput?c.setInput(l,i,n,a):l[a]=i}}function zs(e,t,r){const n=yt(t,e);!function(e,t,r){ft(e)?e.setValue(t,r):t.textContent=r}(e[11],n,r)}function Fs(e,t,r){let n=r?e.styles:null,i=r?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?s=e:1==s?i=ne(i,e):2==s&&(n=ne(n,e+": "+t[++o]+";"))}r?e.styles=n:e.stylesWithoutHost=n,r?e.classes=i:e.classesWithoutHost=i}const Us=new Hr("INJECTOR",-1);class Bs{get(e,t=on){if(t===on){const t=new Error(`NullInjectorError: No provider for ${re(e)}!`);throw t.name="NullInjectorError",t}return t}}const Vs=new Hr("Set Injector scope."),Hs={},Gs={},Ws=[];let qs=void 0;function Xs(){return void 0===qs&&(qs=new Bs),qs}function Ys(e,t=null,r=null,n){return new $s(e,r,t||Xs(),n)}class $s{constructor(e,t,r,n=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&Xr(t,r=>this.processProvider(r,e,t)),Xr([e],e=>this.processInjectorType(e,[],i)),this.records.set(Us,Js(void 0,this));const s=this.records.get(Vs);this.scope=null!=s?s.value:null,this.source=n||("object"==typeof e?null:re(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=on,r=ye.Default){this.assertNotDestroyed();const n=hn(this);try{if(!(r&ye.SkipSelf)){let t=this.records.get(e);if(void 0===t){const r=("function"==typeof(i=e)||"object"==typeof i&&i instanceof Hr)&&ue(e);t=r&&this.injectableDefInScope(r)?Js(Zs(e),Hs):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(r&ye.Self?Xs():this.parent).get(e,t=r&ye.Optional&&t===on?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(re(e)),n)throw s;return function(e,t,r,n){const i=e.ngTempTokenPath;throw t[ln]&&i.unshift(t[ln]),e.message=function(e,t,r,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=re(t);if(Array.isArray(t))i=t.map(re).join(" -> ");else if("object"==typeof t){let e=[];for(let r in t)if(t.hasOwnProperty(r)){let n=t[r];e.push(r+":"+("string"==typeof n?JSON.stringify(n):re(n)))}i=`{${e.join(", ")}}`}return`${r}${n?"("+n+")":""}[${i}]: ${e.replace(an,"\n  ")}`}("\n"+e.message,i,r,n),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,"R3InjectorError",this.source)}throw s}finally{hn(n)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,r)=>e.push(re(r))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,r){if(!(e=oe(e)))return!1;let n=de(e);const i=null==n&&e.ngModule||void 0,s=void 0===i?e:i,o=-1!==r.indexOf(s);if(void 0!==i&&(n=de(i)),null==n)return!1;if(null!=n.imports&&!o){let e;r.push(s);try{Xr(n.imports,n=>{this.processInjectorType(n,t,r)&&(void 0===e&&(e=[]),e.push(n))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:r,providers:n}=e[t];Xr(n,e=>this.processProvider(e,r,n||Ws))}}this.injectorDefTypes.add(s),this.records.set(s,Js(n.factory,Hs));const a=n.providers;if(null!=a&&!o){const t=e;Xr(a,e=>this.processProvider(e,t,a))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,r){let n=eo(e=oe(e))?e:oe(e&&e.provide);const i=function(e,t,r){return Ks(e)?Js(void 0,e.useValue):Js(Qs(e),Hs)}(e);if(eo(e)||!0!==e.multi)this.records.get(n);else{let t=this.records.get(n);t||(t=Js(void 0,Hs,!0),t.factory=()=>mn(t.multi),this.records.set(n,t)),n=e,t.multi.push(e)}this.records.set(n,i)}hydrate(e,t){var r;return t.value===Hs&&(t.value=Gs,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(r=t.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}function Zs(e){const t=ue(e),r=null!==t?t.factory:rt(e);if(null!==r)return r;const n=de(e);if(null!==n)return n.factory;if(e instanceof Hr)throw new Error(`Token ${re(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const r=Zr(t,"?");throw new Error(`Can't resolve all parameters for ${re(e)}: (${r.join(", ")}).`)}const r=function(e){const t=e&&(e[pe]||e[me]);if(t){const r=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${r}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${r}" class.`),t}return null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Error("unreachable")}function Qs(e,t,r){let n=void 0;if(eo(e)){const t=oe(e);return rt(t)||Zs(t)}if(Ks(e))n=()=>oe(e.useValue);else if((i=e)&&i.useFactory)n=()=>e.useFactory(...mn(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))n=()=>pn(oe(e.useExisting));else{const t=oe(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return rt(t)||Zs(t);n=()=>new t(...mn(e.deps))}var i;return n}function Js(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Ks(e){return null!==e&&"object"==typeof e&&cn in e}function eo(e){return"function"==typeof e}const to=function(e,t,r){return function(e,t=null,r=null,n){const i=Ys(e,t,r,n);return i._resolveInjectorDefTypes(),i}({name:r},t,e,r)};let ro=(()=>{class e{static create(e,t){return Array.isArray(e)?to(e,t,""):to(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=on,e.NULL=new Bs,e.\u0275prov=le({token:e,providedIn:"any",factory:()=>pn(Us)}),e.__NG_ELEMENT_ID__=-1,e})();function no(e,t){nr(wt(e)[1],Rt())}function io(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,r=!0;const n=[e];for(;t;){let i=void 0;if(tt(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(r){n.push(i);const t=e;t.inputs=so(e.inputs),t.declaredInputs=so(e.declaredInputs),t.outputs=so(e.outputs);const r=i.hostBindings;r&&lo(e,r);const s=i.viewQuery,o=i.contentQueries;if(s&&oo(e,s),o&&ao(e,o),te(e.inputs,i.inputs),te(e.declaredInputs,i.declaredInputs),te(e.outputs,i.outputs),tt(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}}const t=i.features;if(t)for(let n=0;n<t.length;n++){const i=t[n];i&&i.ngInherit&&i(e),i===io&&(r=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,r=null;for(let n=e.length-1;n>=0;n--){const i=e[n];i.hostVars=t+=i.hostVars,i.hostAttrs=fr(i.hostAttrs,r=fr(r,i.hostAttrs))}}(n)}function so(e){return e===Le?{}:e===Pe?[]:e}function oo(e,t){const r=e.viewQuery;e.viewQuery=r?(e,n)=>{t(e,n),r(e,n)}:t}function ao(e,t){const r=e.contentQueries;e.contentQueries=r?(e,n,i)=>{t(e,n,i),r(e,n,i)}:t}function lo(e,t){const r=e.hostBindings;e.hostBindings=r?(e,n)=>{t(e,n),r(e,n)}:t}let co=null;function uo(){if(!co){const e=Ae.Symbol;if(e&&e.iterator)co=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(co=r)}}}return co}function ho(e){return!!po(e)&&(Array.isArray(e)||!(e instanceof Map)&&uo()in e)}function po(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function fo(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function mo(e,t,r,n){const i=Lt();return fo(i,Ft(),t)&&(Pt(),function(e,t,r,n,i,s){const o=vt(e,t);!function(e,t,r,n,i,s,o){if(null==s)ft(e)?e.removeAttribute(t,i,r):t.removeAttribute(i);else{const a=null==o?it(s):o(s,n||"",i);ft(e)?e.setAttribute(t,i,a,r):r?t.setAttributeNS(r,i,a):t.setAttribute(i,a)}}(t[11],o,s,e.value,r,n,i)}(rr(),i,e,t,r,n)),mo}function go(e,t,r,n){return fo(e,Ft(),r)?t+it(r)+n:Hi}function yo(e,t,r,n,i,s,o,a){const l=Lt(),c=Pt(),u=e+Ye,h=c.firstCreatePass?function(e,t,r,n,i,s,o,a,l){const c=t.consts,u=es(t,e,4,o||null,Mt(c,a));fs(t,r,u,Mt(c,l)),nr(t,u);const h=u.tViews=us(2,u,n,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,r,n,i,s,o):c.data[u];jt(h,!1);const d=l[11].createComment("");Si(c,l,d,h),ti(d,l),As(l,l[u]=Ms(d,l,d,h)),et(h)&&as(c,l,h),null!=o&&ls(l,h,a)}function vo(e){return function(e,t){return e[t]}(Ct.lFrame.contextLView,Ye+e)}function _o(e,t=ye.Default){const r=Lt();return null===r?pn(e,t):Lr(Rt(),r,oe(e),t)}function bo(e,t,r){const n=Lt();return fo(n,Ft(),t)&&ps(Pt(),rr(),n,e,t,n[11],r,!1),bo}function wo(e,t,r,n,i){const s=i?"class":"style";Ns(e,r,t.inputs[s],s,n)}function xo(e,t,r,n){const i=Lt(),s=Pt(),o=Ye+e,a=i[11],l=i[o]=hi(a,t,Ct.lFrame.currentNamespace),c=s.firstCreatePass?function(e,t,r,n,i,s,o){const a=t.consts,l=es(t,e,2,i,Mt(a,s));return fs(t,r,l,Mt(a,o)),null!==l.attrs&&Fs(l,l.attrs,!1),null!==l.mergedAttrs&&Fs(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,i,0,t,r,n):s.data[o];jt(c,!0);const u=c.mergedAttrs;null!==u&&hr(a,l,u);const h=c.classes;null!==h&&Pi(a,l,h);const d=c.styles;null!==d&&Li(a,l,d),64!=(64&c.flags)&&Si(s,i,l,c),0===Ct.lFrame.elementDepthCount&&ti(l,i),Ct.lFrame.elementDepthCount++,et(c)&&(as(s,i,c),os(s,c,i)),null!==n&&ls(i,c)}function So(){let e=Rt();Dt()?It():(e=e.parent,jt(e,!1));const t=e;Ct.lFrame.elementDepthCount--;const r=Pt();r.firstCreatePass&&(nr(r,e),Je(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&wo(r,t,Lt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&wo(r,t,Lt(),t.stylesWithoutHost,!1)}function Mo(e,t,r,n){xo(e,t,r,n),So()}function Eo(e,t,r){const n=Lt(),i=Pt(),s=e+Ye,o=i.firstCreatePass?function(e,t,r,n,i){const s=t.consts,o=Mt(s,n),a=es(t,e,8,"ng-container",o);return null!==o&&Fs(a,o,!0),fs(t,r,a,Mt(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,n,t,r):i.data[s];jt(o,!0);const a=n[s]=n[11].createComment("");Si(i,n,a,o),ti(a,n),et(o)&&(as(i,n,o),os(i,o,n)),null!=r&&ls(n,o)}function To(){let e=Rt();const t=Pt();Dt()?It():(e=e.parent,jt(e,!1)),t.firstCreatePass&&(nr(t,e),Je(e)&&t.queries.elementEnd(e))}function Co(){return Lt()}function Ao(e){return!!e&&"function"==typeof e.then}function Lo(e){return!!e&&"function"==typeof e.subscribe}function Po(e,t,r=!1,n){const i=Lt(),s=Pt(),o=Rt();return function(e,t,r,n,i,s,o=!1,a){const l=et(n),c=e.firstCreatePass&&Ds(e),u=js(t);let h=!0;if(3&n.type){const d=vt(n,t),p=a?a(d):Le,f=p.target||d,m=u.length,g=a?e=>a(gt(e[n.index])).target:n.index;if(ft(r)){let o=null;if(!a&&l&&(o=function(e,t,r,n){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const e=i[s];if(e===r&&i[s+1]===n){const e=t[7],r=i[s+2];return e.length>r?e[r]:null}"string"==typeof e&&(s+=2)}return null}(e,t,i,n.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Ro(n,t,s,!1);const e=r.listen(p.name||f,i,s);u.push(s,e),c&&c.push(i,g,m,m+1)}}else s=Ro(n,t,s,!0),f.addEventListener(i,s,o),u.push(s),c&&c.push(i,g,m,o)}else s=Ro(n,t,s,!1);const d=n.outputs;let p;if(h&&null!==d&&(p=d[i])){const e=p.length;if(e)for(let r=0;r<e;r+=2){const e=t[p[r]][p[r+1]].subscribe(s),o=u.length;u.push(s,e),c&&c.push(i,n.index,o,-(o+1))}}}(s,i,i[11],o,e,t,r,n),Po}function Oo(e,t,r){try{return!1!==t(r)}catch(n){return Is(e,n),!1}}function Ro(e,t,r,n){return function i(s){if(s===Function)return r;const o=2&e.flags?bt(e.index,t):t;0==(32&t[2])&&Ls(o);let a=Oo(t,r,s),l=i.__ngNextListenerFn__;for(;l;)a=Oo(t,l,s)&&a,l=l.__ngNextListenerFn__;return n&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function ko(e=1){return function(e){return(Ct.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Ct.lFrame.contextLView))[8]}(e)}function jo(e,t){let r=null;const n=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===n?Fi(e,s,!0):Ui(n,s))return i}else r=i}return r}function Do(e){const t=Lt()[16][6];if(!t.projection){const r=t.projection=Zr(e?e.length:1,null),n=r.slice();let i=t.child;for(;null!==i;){const t=e?jo(i,e):0;null!==t&&(n[t]?n[t].projectionNext=i:r[t]=i,n[t]=i),i=i.next}}}function Io(e,t=0,r){const n=Lt(),i=Pt(),s=es(i,Ye+e,16,null,r||null);null===s.projection&&(s.projection=t),It(),64!=(64&s.flags)&&function(e,t,r){Ai(t[11],0,t,r,gi(e,r,t),wi(r.parent||t[6],r,t))}(i,n,s)}function No(e,t,r,n,i){const s=Lt(),o=go(s,t,r,n);return o!==Hi&&ps(Pt(),rr(),s,e,o,s[11],i,!1),No}const zo=[];function Fo(e,t,r,n,i){const s=e[r+1],o=null===t;let a=n?Xi(s):$i(s),l=!1;for(;0!==a&&(!1===l||o);){const r=e[a+1];Uo(e[a],t)&&(l=!0,e[a+1]=n?Qi(r):Yi(r)),a=n?Xi(r):$i(r)}l&&(e[r+1]=n?Yi(s):Qi(s))}function Uo(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Kr(e,t)>=0}function Bo(e,t,r){return Ho(e,t,r,!1),Bo}function Vo(e,t){return Ho(e,t,null,!0),Vo}function Ho(e,t,r,n){const i=Lt(),s=Pt(),o=Ut(2);s.firstUpdatePass&&function(e,t,r,n){const i=e.data;if(null===i[r+1]){const s=i[er()],o=function(e,t){return t>=e.expandoStartIndex}(e,r);(function(e,t){return 0!=(e.flags&(t?16:32))})(s,n)&&null===t&&!o&&(t=!1),t=function(e,t,r,n){const i=Ht(e);let s=n?t.residualClasses:t.residualStyles;if(null===i)0===(n?t.classBindings:t.styleBindings)&&(r=Wo(r=Go(null,e,t,r,n),t.attrs,n),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(r=Go(i,e,t,r,n),null===s){let r=function(e,t,r){const n=r?t.classBindings:t.styleBindings;if(0!==$i(n))return e[Xi(n)]}(e,t,n);void 0!==r&&Array.isArray(r)&&(r=Go(null,e,t,r[1],n),r=Wo(r,t.attrs,n),function(e,t,r,n){e[Xi(r?t.classBindings:t.styleBindings)]=n}(e,t,n,r))}else s=function(e,t,r){let n=void 0;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)n=Wo(n,e[s].hostAttrs,r);return Wo(n,t.attrs,r)}(e,t,n)}return void 0!==s&&(n?t.residualClasses=s:t.residualStyles=s),r}(i,s,t,n),function(e,t,r,n,i,s){let o=s?t.classBindings:t.styleBindings,a=Xi(o),l=$i(o);e[n]=r;let c,u=!1;if(Array.isArray(r)){const e=r;c=e[1],(null===c||Kr(e,c)>0)&&(u=!0)}else c=r;if(i)if(0!==l){const t=Xi(e[a+1]);e[n+1]=qi(t,a),0!==t&&(e[t+1]=Zi(e[t+1],n)),e[a+1]=131071&e[a+1]|n<<17}else e[n+1]=qi(a,0),0!==a&&(e[a+1]=Zi(e[a+1],n)),a=n;else e[n+1]=qi(l,0),0===a?a=n:e[l+1]=Zi(e[l+1],n),l=n;u&&(e[n+1]=Yi(e[n+1])),Fo(e,c,n,!0),Fo(e,c,n,!1),function(e,t,r,n,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Kr(s,t)>=0&&(r[n+1]=Qi(r[n+1]))}(t,c,e,n,s),o=qi(a,l),s?t.classBindings=o:t.styleBindings=o}(i,s,t,r,o,n)}}(s,e,o,n),t!==Hi&&fo(i,o,t)&&function(e,t,r,n,i,s,o,a){if(!(3&t.type))return;const l=e.data,c=l[a+1];Xo(1==(1&c)?qo(l,t,r,i,$i(c),o):void 0)||(Xo(s)||function(e){return 2==(2&e)}(c)&&(s=qo(l,null,r,i,a,o)),function(e,t,r,n,i){const s=ft(e);if(t)i?s?e.addClass(r,n):r.classList.add(n):s?e.removeClass(r,n):r.classList.remove(n);else{let t=-1===n.indexOf("-")?void 0:ii.DashCase;if(null==i)s?e.removeStyle(r,n,t):r.style.removeProperty(n);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),t|=ii.Important),s?e.setStyle(r,n,i,t):r.style.setProperty(n,i,o?"important":"")}}}(n,o,yt(er(),r),i,s))}(s,s.data[er()],i,i[11],e,i[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=re(Mn(e)))),e}(t,r),n,o)}function Go(e,t,r,n,i){let s=null;const o=r.directiveEnd;let a=r.directiveStylingLast;for(-1===a?a=r.directiveStart:a++;a<o&&(s=t[a],n=Wo(n,s.hostAttrs,i),s!==e);)a++;return null!==e&&(r.directiveStylingLast=a),n}function Wo(e,t,r){const n=r?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Qr(e,o,!!r||t[++s]))}return void 0===e?null:e}function qo(e,t,r,n,i,s){const o=null===t;let a=void 0;for(;i>0;){const t=e[i],s=Array.isArray(t),l=s?t[1]:t,c=null===l;let u=r[i+1];u===Hi&&(u=c?zo:void 0);let h=c?Jr(u,n):l===n?u:void 0;if(s&&!Xo(h)&&(h=Jr(t,n)),Xo(h)&&(a=h,o))return a;const d=e[i+1];i=o?Xi(d):$i(d)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(a=Jr(e,n))}return a}function Xo(e){return void 0!==e}function Yo(e,t=""){const r=Lt(),n=Pt(),i=e+Ye,s=n.firstCreatePass?es(n,i,1,t,null):n.data[i],o=r[i]=function(e,t){return ft(e)?e.createText(t):e.createTextNode(t)}(r[11],t);Si(n,r,o,s),jt(s,!1)}function $o(e){return Zo("",e,""),$o}function Zo(e,t,r){const n=Lt(),i=go(n,e,t,r);return i!==Hi&&zs(n,er(),i),Zo}function Qo(e,t,r,n,i){const s=Lt(),o=function(e,t,r,n,i,s){const o=function(e,t,r,n){const i=fo(e,t,r);return fo(e,t+1,n)||i}(e,Ct.lFrame.bindingIndex,r,i);return Ut(2),o?t+it(r)+n+it(i)+s:Hi}(s,e,t,r,n,i);return o!==Hi&&zs(s,er(),o),Qo}function Jo(e,t,r){const n=Lt();return fo(n,Ft(),t)&&ps(Pt(),rr(),n,e,t,n[11],r,!0),Jo}function Ko(e,t,r){const n=Lt();if(fo(n,Ft(),t)){const i=Pt(),s=rr();ps(i,s,n,e,t,function(e,t,r){return(null===e||tt(e))&&(r=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(r[t.index])),r[11]}(Ht(i.data),s,n),r,!0)}return Ko}const ea=void 0;var ta=["en",[["a","p"],["AM","PM"],ea],[["AM","PM"],ea,ea],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ea,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ea,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ea,"{1} 'at' {0}",ea],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let ra={};function na(e){return e in ra||(ra[e]=Ae.ng&&Ae.ng.common&&Ae.ng.common.locales&&Ae.ng.common.locales[e]),ra[e]}var ia=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});const sa="en-US";let oa=sa;function aa(e){var t,r;r="Expected localeId to be defined",null==(t=e)&&function(e,t,r,n){throw new Error("ASSERTION ERROR: "+e+` [Expected=> null != ${t} <=Actual]`)}(r,t),"string"==typeof e&&(oa=e.toLowerCase().replace(/_/g,"-"))}function la(e,t,r,n,i){if(e=oe(e),Array.isArray(e))for(let s=0;s<e.length;s++)la(e[s],t,r,n,i);else{const s=Pt(),o=Lt();let a=eo(e)?e:oe(e.provide),l=Qs(e);const c=Rt(),u=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(eo(e)||!e.multi){const n=new ur(l,i,_o),p=ha(a,t,i?u:u+d,h);-1===p?(Tr(xr(c,o),s,a),ca(s,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),r.push(n),o.push(n)):(r[p]=n,o[p]=n)}else{const p=ha(a,t,u+d,h),f=ha(a,t,u,u+d),m=p>=0&&r[p],g=f>=0&&r[f];if(i&&!g||!i&&!m){Tr(xr(c,o),s,a);const u=function(e,t,r,n,i){const s=new ur(e,r,_o);return s.multi=[],s.index=t,s.componentProviders=0,ua(s,i,n&&!r),s}(i?pa:da,r.length,i,n,l);!i&&g&&(r[f].providerFactory=u),ca(s,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),r.push(u),o.push(u)}else ca(s,e,p>-1?p:f,ua(r[i?f:p],l,!i&&n));!i&&n&&g&&r[f].componentProviders++}}}function ca(e,t,r,n){const i=eo(t);if(i||t.useClass){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const o=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=o.indexOf(r);-1===e?o.push(r,[n,s]):o[e+1].push(n,s)}else o.push(r,s)}}}function ua(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function ha(e,t,r,n){for(let i=r;i<n;i++)if(t[i]===e)return i;return-1}function da(e,t,r,n){return fa(this.multi,[])}function pa(e,t,r,n){const i=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=jr(r,r[1],this.providerFactory.index,n);s=t.slice(0,e),fa(i,s);for(let r=e;r<t.length;r++)s.push(t[r])}else s=[],fa(i,s);return s}function fa(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function ma(e,t=[]){return r=>{r.providersResolver=(r,n)=>function(e,t,r){const n=Pt();if(n.firstCreatePass){const i=tt(e);la(r,n.data,n.blueprint,i,!0),la(t,n.data,n.blueprint,i,!1)}}(r,n?n(e):e,t)}}class ga{}class ya{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${re(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let va=(()=>{class e{}return e.NULL=new ya,e})();function _a(...e){}function ba(e,t){return new xa(vt(e,t))}const wa=function(){return ba(Rt(),Lt())};let xa=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=wa,e})();class Sa{}let Ma=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Ea(),e})();const Ea=function(){const e=Lt(),t=bt(Rt().index,e);return function(e){return e[11]}(Ze(t)?t:e)};let Ta=(()=>{class e{}return e.\u0275prov=le({token:e,providedIn:"root",factory:()=>null}),e})();class Ca{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Aa=new Ca("11.0.9");class La{constructor(){}supports(e){return ho(e)}create(e){return new Oa(e)}}const Pa=(e,t)=>t;class Oa{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Pa}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,n=0,i=null;for(;t||r;){const s=!r||t&&t.currentIndex<Da(r,n,i)?t:r,o=Da(s,n,i),a=s.currentIndex;if(s===r)n--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)n++;else{i||(i=[]);const e=o-n,t=a-n;if(e!=t){for(let r=0;r<e;r++){const n=r<i.length?i[r]:i[r]=0,s=n+r;t<=s&&s<e&&(i[r]=n+1)}i[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!ho(e))throw new Error(`Error trying to diff '${re(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,r,n,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)r=e[t],n=this._trackByFn(t,r),null!==i&&Object.is(i.trackById,n)?(s&&(i=this._verifyReinsertion(i,r,n,t)),Object.is(i.item,r)||this._addIdentityChange(i,r)):(i=this._mismatch(i,r,n,t),s=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[uo()]();let n;for(;!(n=r.next()).done;)t(n.value)}}(e,e=>{n=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,n)?(s&&(i=this._verifyReinsertion(i,e,n,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,n,t),s=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,n){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,n))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,n)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,n)):e=this._addAfter(new Ra(t,r),i,n),e}_verifyReinsertion(e,t,r,n){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?e=this._reinsertAfter(i,e._prev,n):e.currentIndex!=n&&(e.currentIndex=n,this._addToMoves(e,n)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const n=e._prevRemoved,i=e._nextRemoved;return null===n?this._removalsHead=i:n._nextRemoved=i,null===i?this._removalsTail=n:i._prevRemoved=n,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const n=null===t?this._itHead:t._next;return e._next=n,e._prev=t,null===n?this._itTail=e:n._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ja),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ja),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Ra{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ka{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class ja{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new ka,this.map.set(t,r)),r.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Da(e,t,r){const n=e.previousIndex;if(null===n)return n;let i=0;return r&&n<r.length&&(i=r[n]),n+t+i}class Ia{constructor(){}supports(e){return e instanceof Map||po(e)}create(){return new Na}}class Na{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||po(e)))throw new Error(`Error trying to diff '${re(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const n=this._getOrCreateRecordForKey(r,e);t=this._insertBeforeOrAppend(t,n)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const n=r._prev,i=r._next;return n&&(n._next=i),i&&(i._prev=n),r._next=null,r._prev=null,r}const r=new za(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class za{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Fa=(()=>{class e{constructor(e){this.factories=e}static create(t,r){if(null!=r){const e=r.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>{if(!r)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,r)},deps:[[e,new nn,new tn]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${r=e,r.name||typeof r}'`);var r}}return e.\u0275prov=le({token:e,providedIn:"root",factory:()=>new e([new La])}),e})(),Ua=(()=>{class e{constructor(e){this.factories=e}static create(t,r){if(r){const e=r.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>{if(!r)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,r)},deps:[[e,new nn,new tn]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=le({token:e,providedIn:"root",factory:()=>new e([new Ia])}),e})();function Ba(e,t,r,n,i=!1){for(;null!==r;){const s=t[r.index];if(null!==s&&n.push(gt(s)),Qe(s))for(let e=$e;e<s.length;e++){const t=s[e],r=t[1].firstChild;null!==r&&Ba(t[1],t,r,n)}const o=r.type;if(8&o)Ba(e,t,r.child,n);else if(32&o){const e=si(r,t);let i;for(;i=e();)n.push(i)}else if(16&o){const e=t[16],i=e[6].projection[r.projection];if(Array.isArray(i))n.push(...i);else{const t=oi(e);Ba(t[1],t,i,n,!0)}}r=i?r.projectionNext:r.next}return n}class Va{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Ba(t,e,t.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Qe(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(pi(e,r),$r(t,r))}this._attachedToViewContainer=!1}fi(this._lView[1],this._lView)}onDestroy(e){hs(this._lView[1],this._lView,null,e)}markForCheck(){Ls(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ps(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,r){zt(!0);try{Ps(e,t,r)}finally{zt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,Ci(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class Ha extends Va{constructor(e){super(e),this._view=e}detectChanges(){Os(this._view)}checkNoChanges(){!function(e){zt(!0);try{Os(e)}finally{zt(!1)}}(this._view)}get context(){return null}}const Ga=function(e=!1){return function(e,t,r){if(!r&&Ke(e)){const r=bt(e.index,t);return new Va(r,r)}return 47&e.type?new Va(t[16],t):null}(Rt(),Lt(),e)};let Wa=(()=>{class e{}return e.__NG_ELEMENT_ID__=Ga,e.__ChangeDetectorRef__=!0,e})();const qa=[new Ia],Xa=new Fa([new La]),Ya=new Ua(qa),$a=function(){return Ka(Rt(),Lt())};let Za=(()=>{class e{}return e.__NG_ELEMENT_ID__=$a,e})();const Qa=Za,Ja=class extends Qa{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=Ki(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const n=this._declarationLView[19];return null!==n&&(r[19]=n.createEmbeddedView(t)),rs(t,r,e),new Va(r)}};function Ka(e,t){return 4&e.type?new Ja(t,e,ba(e,t)):null}class el{}class tl{}const rl=function(){return ll(Rt(),Lt())};let nl=(()=>{class e{}return e.__NG_ELEMENT_ID__=rl,e})();const il=nl,sl=class extends il{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ba(this._hostTNode,this._hostLView)}get injector(){return new Nr(this._hostTNode,this._hostLView)}get parentInjector(){const e=Er(this._hostTNode,this._hostLView);if(gr(e)){const t=vr(e,this._hostLView),r=yr(e);return new Nr(t[1].data[r+8],t)}return new Nr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=ol(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-$e}createEmbeddedView(e,t,r){const n=e.createEmbeddedView(t||{});return this.insert(n,r),n}createComponent(e,t,r,n,i){const s=r||this.parentInjector;if(!i&&null==e.ngModule&&s){const e=s.get(el,null);e&&(i=e)}const o=e.create(s,n,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){const r=e._lView,n=r[1];if(Qe(r[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=r[3],n=new sl(t,t[6],t[3]);n.detach(n.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function(e,t,r,n){const i=$e+n,s=r.length;n>0&&(r[i-1][4]=t),n<s-$e?(t[4]=r[i],Yr(r,$e+n,t)):(r.push(t),t[4]=null),t[3]=r;const o=t[17];null!==o&&r!==o&&function(e,t){const r=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===r?e[9]=[t]:r.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(n,r,s,i);const o=Ei(i,s),a=r[11],l=bi(a,s[7]);return null!==l&&function(e,t,r,n,i,s){n[0]=i,n[6]=t,Ci(e,n,r,1,i,s)}(n,s[6],a,r,l,o),e.attachToViewContainerRef(),Yr(al(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=ol(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=pi(this._lContainer,t);r&&($r(al(this._lContainer),t),fi(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=pi(this._lContainer,t);return r&&null!=$r(al(this._lContainer),t)?new Va(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function ol(e){return e[8]}function al(e){return e[8]||(e[8]=[])}function ll(e,t){let r;const n=t[e.index];if(Qe(n))r=n;else{let i;if(8&e.type)i=gt(n);else{const r=t[11];i=r.createComment("");const n=vt(e,t);yi(r,bi(r,n),i,function(e,t){return ft(e)?e.nextSibling(t):t.nextSibling}(r,n),!1)}t[e.index]=r=Ms(n,t,i,e),As(t,r)}return new sl(r,e,t)}const cl={};class ul extends va{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=qe(e);return new pl(t,this.ngModule)}}function hl(e){const t=[];for(let r in e)e.hasOwnProperty(r)&&t.push({propName:e[r],templateName:r});return t}const dl=new Hr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ri});class pl extends ga{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(Vi).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return hl(this.componentDef.inputs)}get outputs(){return hl(this.componentDef.outputs)}create(e,t,r,n){const i=(n=n||this.ngModule)?function(e,t){return{get:(r,n,i)=>{const s=e.get(r,cl,i);return s!==cl||n===cl?s:t.get(r,n,i)}}}(e,n.injector):e,s=i.get(Sa,mt),o=i.get(Ta,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=r?function(e,t,r){if(ft(e))return e.selectRootElement(t,r===Se.ShadowDom);let n="string"==typeof t?e.querySelector(t):t;return n.textContent="",n}(a,r,this.componentDef.encapsulation):hi(s.createRenderer(null,this.componentDef),l,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:ri,clean:ks,playerHandler:null,flags:0},d=us(0,null,null,1,0,null,null,null,null,null),p=Ki(null,d,h,u,null,null,s,a,o,i);let f,m;Yt(p);try{const e=function(e,t,r,n,i,s){const o=r[1];r[20]=e;const a=es(o,20,2,"#host",null),l=a.mergedAttrs=t.hostAttrs;null!==l&&(Fs(a,l,!0),null!==e&&(hr(i,e,l),null!==a.classes&&Pi(i,e,a.classes),null!==a.styles&&Li(i,e,a.styles)));const c=n.createRenderer(e,t),u=Ki(r,cs(t),null,t.onPush?64:16,r[20],a,n,c,null,null);return o.firstCreatePass&&(Tr(xr(a,r),o,t.type),ys(o,a),_s(a,r.length,1)),As(r,u),r[20]=u}(c,this.componentDef,p,s,a);if(c)if(r)hr(a,c,["ng-version",Aa.full]);else{const{attrs:e,classes:t}=function(e){const t=[],r=[];let n=1,i=2;for(;n<e.length;){let s=e[n];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++n]):8===i&&r.push(s);else{if(!Ni(i))break;i=s}n++}return{attrs:t,classes:r}}(this.componentDef.selectors[0]);e&&hr(a,c,e),t&&t.length>0&&Pi(a,c,t.join(" "))}if(m=_t(d,Ye),void 0!==t){const e=m.projection=[];for(let r=0;r<this.ngContentSelectors.length;r++){const n=t[r];e.push(null!=n?Array.from(n):null)}}f=function(e,t,r,n,i){const s=r[1],o=function(e,t,r){const n=Rt();e.firstCreatePass&&(r.providersResolver&&r.providersResolver(r),bs(e,n,t,ts(e,t,1,null),r));const i=jr(t,e,n.directiveStart,n);ti(i,t);const s=vt(n,t);return s&&ti(s,t),i}(s,r,t);if(n.components.push(o),e[8]=o,i&&i.forEach(e=>e(o,t)),t.contentQueries){const e=Rt();t.contentQueries(1,o,e.directiveStart)}const a=Rt();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(tr(a.index),ms(r[1],a,0,a.directiveStart,a.directiveEnd,t),gs(t,o)),o}(e,this.componentDef,p,h,[no]),rs(d,p,null)}finally{Kt()}return new fl(this.componentType,f,ba(m,p),p,m)}}class fl extends class{}{constructor(e,t,r,n,i){super(),this.location=r,this._rootLView=n,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new Ha(n),this.componentType=e}get injector(){return new Nr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const ml=new Map;class gl extends el{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ul(this);const r=Xe(e),n=e[De]||null;n&&aa(n),this._bootstrapComponents=ni(r.bootstrap),this._r3Injector=Ys(e,t,[{provide:el,useValue:this},{provide:va,useValue:this.componentFactoryResolver}],re(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=ro.THROW_IF_NOT_FOUND,r=ye.Default){return e===ro||e===el||e===Us?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class yl extends tl{constructor(e){super(),this.moduleType=e,null!==Xe(e)&&function(e){const t=new Set;!function e(r){const n=Xe(r,!0),i=n.id;null!==i&&(function(e,t,r){if(t&&t!==r)throw new Error(`Duplicate module registered for ${e} - ${re(t)} vs ${re(t.name)}`)}(i,ml.get(i),r),ml.set(i,r));const s=ni(n.imports);for(const o of s)t.has(o)||(t.add(o),e(o))}(e)}(e)}create(e){return new gl(this.moduleType,e)}}const vl=class extends S{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let n,i=e=>null,s=()=>null;e&&"object"==typeof e?(n=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(i=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(s=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(n=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),r&&(s=this.__isAsync?()=>{setTimeout(()=>r())}:()=>{r()}));const o=super.subscribe(n,i,s);return e instanceof h&&e.add(o),o}};function _l(){return this._results[uo()]()}class bl{constructor(){this.dirty=!0,this._results=[],this.changes=new vl,this.length=0;const e=uo(),t=bl.prototype;t[e]||(t[e]=_l)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=qr(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class wl{constructor(e){this.queryList=e,this.matches=null}clone(){return new wl(this.queryList)}setDirty(){this.queryList.setDirty()}}class xl{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,n=[];for(let e=0;e<r;e++){const r=t.getByIndex(e);n.push(this.queries[r.indexInDeclarationView].clone())}return new xl(n)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==zl(e,t).matches&&this.queries[t].setDirty()}}class Sl{constructor(e,t,r,n=null){this.predicate=e,this.descendants=t,this.isStatic=r,this.read=n}}class Ml{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const n=null!==t?t.length:0,i=this.getByIndex(r).embeddedTView(e,n);i&&(i.indexInDeclarationView=r,null!==t?t.push(i):t=[i])}return null!==t?new Ml(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class El{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new El(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let n=0;n<r.length;n++){const i=r[n];this.matchTNodeWithReadOption(e,t,Tl(t,i)),this.matchTNodeWithReadOption(e,t,kr(t,e,i,!1,!1))}else r===Za?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,kr(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const n=this.metadata.read;if(null!==n)if(n===xa||n===nl||n===Za&&4&t.type)this.addMatch(t.index,-2);else{const r=kr(t,e,n,!1,!1);null!==r&&this.addMatch(t.index,r)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Tl(e,t){const r=e.localNames;if(null!==r)for(let n=0;n<r.length;n+=2)if(r[n]===t)return r[n+1];return null}function Cl(e,t,r,n){return-1===r?function(e,t){return 11&e.type?ba(e,t):4&e.type?Ka(e,t):null}(t,e):-2===r?function(e,t,r){return r===xa?ba(t,e):r===Za?Ka(t,e):r===nl?ll(t,e):void 0}(e,t,n):jr(e,e[1],r,t)}function Al(e,t,r,n){const i=t[19].queries[n];if(null===i.matches){const n=e.data,s=r.matches,o=[];for(let e=0;e<s.length;e+=2){const i=s[e];o.push(i<0?null:Cl(t,n[i],s[e+1],r.metadata.read))}i.matches=o}return i.matches}function Ll(e,t,r,n){const i=e.queries.getByIndex(r),s=i.matches;if(null!==s){const o=Al(e,t,i,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)n.push(o[e/2]);else{const i=s[e+1],o=t[-r];for(let e=$e;e<o.length;e++){const t=o[e];t[17]===t[3]&&Ll(t[1],t,i,n)}if(null!==o[9]){const e=o[9];for(let t=0;t<e.length;t++){const r=e[t];Ll(r[1],r,i,n)}}}}}return n}function Pl(e){const t=Lt(),r=Pt(),n=Gt();Wt(n+1);const i=zl(r,n);if(e.dirty&&xt(t)===i.metadata.isStatic){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?Ll(r,t,n,[]):Al(r,t,i,n);e.reset(s),e.notifyOnChanges()}return!0}return!1}function Ol(e,t,r){kl(Pt(),Lt(),e,t,r,!0)}function Rl(e,t,r){kl(Pt(),Lt(),e,t,r,!1)}function kl(e,t,r,n,i,s){e.firstCreatePass&&(Nl(e,new Sl(r,n,s,i),-1),s&&(e.staticViewQueries=!0)),Il(e,t)}function jl(e,t,r,n){!function(e,t,r,n,i,s,o,a){e.firstCreatePass&&(Nl(e,new Sl(r,n,false,i),o.index),function(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(e,a)),Il(e,t)}(Pt(),Lt(),t,r,n,0,Rt(),e)}function Dl(){return e=Lt(),t=Gt(),e[19].queries[t].queryList;var e,t}function Il(e,t){const r=new bl;hs(e,t,r,r.destroy),null===t[19]&&(t[19]=new xl),t[19].queries.push(new wl(r))}function Nl(e,t,r){null===e.queries&&(e.queries=new Ml),e.queries.track(new El(t,r))}function zl(e,t){return e.queries.getByIndex(t)}function Fl(e,t){return Ka(e,t)}const Ul=new Hr("Application Initializer");let Bl=(()=>{class e{constructor(e){this.appInits=e,this.resolve=_a,this.reject=_a,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const t=this.appInits[r]();Ao(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(pn(Ul,8))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const Vl=new Hr("AppId"),Hl={provide:Vl,useFactory:function(){return`${Gl()}${Gl()}${Gl()}`},deps:[]};function Gl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Wl=new Hr("Platform Initializer"),ql=new Hr("Platform ID"),Xl=new Hr("appBootstrapListener");let Yl=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const $l=new Hr("LocaleId"),Zl=new Hr("DefaultCurrencyCode");class Ql{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const Jl=function(e){return new yl(e)},Kl=Jl,ec=function(e){return Promise.resolve(Jl(e))},tc=function(e){const t=Jl(e),r=ni(Xe(e).declarations).reduce((e,t)=>{const r=qe(t);return r&&e.push(new pl(r)),e},[]);return new Ql(t,r)},rc=tc,nc=function(e){return Promise.resolve(tc(e))};let ic=(()=>{class e{constructor(){this.compileModuleSync=Kl,this.compileModuleAsync=ec,this.compileModuleAndAllComponentsSync=rc,this.compileModuleAndAllComponentsAsync=nc}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const sc=(()=>Promise.resolve(0))();function oc(e){"undefined"==typeof Zone?sc.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class ac{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vl(!1),this.onMicrotaskEmpty=new vl(!1),this.onStable=new vl(!1),this.onError=new vl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=t,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=Ae.requestAnimationFrame,t=Ae.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=!!e.shouldCoalesceEventChangeDetection&&e.nativeRequestAnimationFrame&&(()=>{!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ae,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,uc(e),cc(e)},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),uc(e))}(e)});e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:t},onInvokeTask:(r,n,i,s,o,a)=>{try{return hc(e),r.invokeTask(i,s,o,a)}finally{t&&"eventTask"===s.type&&t(),dc(e)}},onInvoke:(t,r,n,i,s,o,a)=>{try{return hc(e),t.invoke(n,i,s,o,a)}finally{dc(e)}},onHasTask:(t,r,n,i)=>{t.hasTask(n,i),r===n&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,uc(e),cc(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,r,n,i)=>(t.handleError(n,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ac.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ac.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,n){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+n,e,lc,_a,_a);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const lc={};function cc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function uc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function hc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function dc(e){e._nesting--,cc(e)}class pc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vl,this.onMicrotaskEmpty=new vl,this.onStable=new vl,this.onError=new vl}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,n){return e.apply(t,r)}}let fc=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ac.assertNotInAngularZone(),oc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())oc(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,r){let n=-1;t&&t>0&&(n=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==n),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:n,updateCb:r})}whenStable(e,t,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,r){return[]}}return e.\u0275fac=function(t){return new(t||e)(pn(ac))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),mc=(()=>{class e{constructor(){this._applications=new Map,vc.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return vc.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();class gc{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let yc,vc=new gc,_c=!0,bc=!1;function wc(){return bc=!0,_c}const xc=new Hr("AllowMultipleToken");class Sc{constructor(e,t){this.name=e,this.token=t}}function Mc(e,t,r=[]){const n="Platform: "+t,i=new Hr(n);return(t=[])=>{let s=Ec();if(!s||s.injector.get(xc,!1))if(e)e(r.concat(t).concat({provide:i,useValue:!0}));else{const e=r.concat(t).concat({provide:i,useValue:!0},{provide:Vs,useValue:"platform"});!function(e){if(yc&&!yc.destroyed&&!yc.injector.get(xc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");yc=e.get(Tc);const t=e.get(Wl,null);t&&t.forEach(e=>e())}(ro.create({providers:e,name:n}))}return function(e){const t=Ec();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Ec(){return yc&&!yc.destroyed?yc:null}let Tc=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const r=function(e,t){let r;return r="noop"===e?new pc:("zone.js"===e?void 0:e)||new ac({enableLongStackTrace:wc(),shouldCoalesceEventChangeDetection:t}),r}(t?t.ngZone:void 0,t&&t.ngZoneEventCoalescing||!1),n=[{provide:ac,useValue:r}];return r.run(()=>{const t=ro.create({providers:n,parent:this.injector,name:e.moduleType.name}),i=e.create(t),s=i.injector.get(ei,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.runOutsideAngular(()=>{const e=r.onError.subscribe({next:e=>{s.handleError(e)}});i.onDestroy(()=>{Lc(this._modules,i),e.unsubscribe()})}),function(e,t,r){try{const n=r();return Ao(n)?n.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(s,r,()=>{const e=i.injector.get(Bl);return e.runInitializers(),e.donePromise.then(()=>(aa(i.injector.get($l,sa)||sa),this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const r=Cc({},t);return function(e,t,r){const n=new yl(r);return Promise.resolve(n)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,r))}_moduleDoBootstrap(e){const t=e.injector.get(Ac);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${re(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(pn(ro))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();function Cc(e,t){return Array.isArray(t)?t.reduce(Cc,e):Object.assign(Object.assign({},e),t)}let Ac=(()=>{class e{constructor(e,t,r,n,i,s){this._zone=e,this._console=t,this._injector=r,this._exceptionHandler=n,this._componentFactoryResolver=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new v(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new v(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{ac.assertNotInAngularZone(),oc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const r=this._zone.onUnstable.subscribe(()=>{ac.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),r.unsubscribe()}});this.isStable=W(o,a.pipe(K()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let r;r=e instanceof ga?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(r.componentType);const n=r.isBoundToModule?void 0:this._injector.get(el),i=r.create(ro.NULL,[],t||r.selector,n),s=i.location.nativeElement,o=i.injector.get(fc,null),a=o&&i.injector.get(mc);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Lc(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),wc()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Lc(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Xl,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(pn(ac),pn(Yl),pn(ro),pn(ei),pn(va),pn(Bl))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();function Lc(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Pc{}class Oc{}const Rc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let kc=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||Rc}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,n]=e.split("#");return void 0===n&&(n="default"),r("zn8P")(t).then(e=>e[n]).then(e=>jc(e,t,n)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,n]=e.split("#"),i="NgFactory";return void 0===n&&(n="default",i=""),r("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[n+i]).then(e=>jc(e,t,n))}}return e.\u0275fac=function(t){return new(t||e)(pn(ic),pn(Oc,8))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();function jc(e,t,r){if(!e)throw new Error(`Cannot find '${r}' in '${t}'`);return e}const Dc=Mc(null,"core",[{provide:ql,useValue:"unknown"},{provide:Tc,deps:[ro]},{provide:mc,deps:[]},{provide:Yl,deps:[]}]),Ic=[{provide:Ac,useClass:Ac,deps:[ac,Yl,ro,ei,va,Bl]},{provide:dl,deps:[ac],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Bl,useClass:Bl,deps:[[new tn,Ul]]},{provide:ic,useClass:ic,deps:[]},Hl,{provide:Fa,useFactory:function(){return Xa},deps:[]},{provide:Ua,useFactory:function(){return Ya},deps:[]},{provide:$l,useFactory:function(e){return aa(e=e||"undefined"!=typeof $localize&&$localize.locale||sa),e},deps:[[new en($l),new tn,new nn]]},{provide:Zl,useValue:"USD"}];let Nc=(()=>{class e{constructor(e){}}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)(pn(Ac))},providers:Ic}),e})(),zc=null;function Fc(){return zc}const Uc=new Hr("DocumentToken");let Bc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({factory:Vc,token:e,providedIn:"platform"}),e})();function Vc(){return pn(Gc)}const Hc=new Hr("Location Initialized");let Gc=(()=>{class e extends Bc{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=Fc().getLocation(),this._history=Fc().getHistory()}getBaseHrefFromDOM(){return Fc().getBaseHref(this._doc)}onPopState(e){Fc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){Fc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,r){Wc()?this._history.pushState(e,t,r):this.location.hash=r}replaceState(e,t,r){Wc()?this._history.replaceState(e,t,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(pn(Uc))},e.\u0275prov=le({factory:qc,token:e,providedIn:"platform"}),e})();function Wc(){return!!window.history.pushState}function qc(){return new Gc(pn(Uc))}function Xc(e,t){if(0==e.length)return t;if(0==t.length)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,2==r?e+t.substring(1):1==r?e+t:e+"/"+t}function Yc(e){const t=e.match(/#|\?|$/),r=t&&t.index||e.length;return e.slice(0,r-("/"===e[r-1]?1:0))+e.slice(r)}function $c(e){return e&&"?"!==e[0]?"?"+e:e}let Zc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({factory:Qc,token:e,providedIn:"root"}),e})();function Qc(e){const t=pn(Uc).location;return new Kc(pn(Bc),t&&t.origin||"")}const Jc=new Hr("appBaseHref");let Kc=(()=>{class e extends Zc{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Xc(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+$c(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${t}${r}`:t}pushState(e,t,r,n){const i=this.prepareExternalUrl(r+$c(n));this._platformLocation.pushState(e,t,i)}replaceState(e,t,r,n){const i=this.prepareExternalUrl(r+$c(n));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(pn(Bc),pn(Jc,8))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),eu=(()=>{class e extends Zc{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=Xc(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,r,n){let i=this.prepareExternalUrl(r+$c(n));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,r,n){let i=this.prepareExternalUrl(r+$c(n));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(pn(Bc),pn(Jc,8))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),tu=(()=>{class e{constructor(e,t){this._subject=new vl,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=Yc(nu(r)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+$c(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,nu(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",r=null){this._platformStrategy.pushState(r,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+$c(t)),r)}replaceState(e,t="",r=null){this._platformStrategy.replaceState(r,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+$c(t)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(r=>r(e,t))}subscribe(e,t,r){return this._subject.subscribe({next:e,error:t,complete:r})}}return e.\u0275fac=function(t){return new(t||e)(pn(Zc),pn(Bc))},e.normalizeQueryParams=$c,e.joinWithSlash=Xc,e.stripTrailingSlash=Yc,e.\u0275prov=le({factory:ru,token:e,providedIn:"root"}),e})();function ru(){return new tu(pn(Zc),pn(Bc))}function nu(e){return e.replace(/\/index.html$/,"")}var iu=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({});class su{}let ou=(()=>{class e extends su{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(function(e){return function(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=na(t);if(r)return r;const n=t.split("-")[0];if(r=na(n),r)return r;if("en"===n)return ta;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[ia.PluralCase]}(t||this.locale)(e)){case iu.Zero:return"zero";case iu.One:return"one";case iu.Two:return"two";case iu.Few:return"few";case iu.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(pn($l))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();function au(e,t){t=encodeURIComponent(t);for(const r of e.split(";")){const e=r.indexOf("="),[n,i]=-1==e?[r,""]:[r.slice(0,e),r.slice(e+1)];if(n.trim()===t)return decodeURIComponent(i)}return null}let lu=(()=>{class e{constructor(e,t,r,n){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=r,this._renderer=n,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(ho(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+re(e.item));this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(_o(Fa),_o(Ua),_o(xa),_o(Ma))},e.\u0275dir=We({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class cu{constructor(e,t,r,n){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=n}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let uu=(()=>{class e{constructor(e,t,r){this._viewContainer=e,this._template=t,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;if(!this._differ&&r)try{this._differ=this._differs.find(r).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${r}' of type '${e=r,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,r,n)=>{if(null==e.previousIndex){const r=this._viewContainer.createEmbeddedView(this._template,new cu(null,this._ngForOf,-1,-1),null===n?void 0:n),i=new hu(e,r);t.push(i)}else if(null==n)this._viewContainer.remove(null===r?void 0:r);else if(null!==r){const i=this._viewContainer.get(r);this._viewContainer.move(i,n);const s=new hu(e,i);t.push(s)}});for(let r=0;r<t.length;r++)this._perViewChange(t[r].view,t[r].record);for(let r=0,n=this._viewContainer.length;r<n;r++){const e=this._viewContainer.get(r);e.context.index=r,e.context.count=n,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(_o(nl),_o(Za),_o(Fa))},e.\u0275dir=We({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class hu{constructor(e,t){this.record=e,this.view=t}}let du=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new pu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){fu("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){fu("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(_o(nl),_o(Za))},e.\u0275dir=We({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class pu{constructor(){this.$implicit=null,this.ngIf=null}}function fu(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${re(t)}'.`)}class mu{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let gu=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=We({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),yu=(()=>{class e{constructor(e,t,r){this.ngSwitch=r,r._addCase(),this._view=new mu(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(_o(nl),_o(Za),_o(gu,1))},e.\u0275dir=We({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),vu=(()=>{class e{constructor(e,t,r){r._addDefault(new mu(e,t))}}return e.\u0275fac=function(t){return new(t||e)(_o(nl),_o(Za),_o(gu,1))},e.\u0275dir=We({type:e,selectors:[["","ngSwitchDefault",""]]}),e})(),_u=(()=>{class e{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(e){const t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){const t=Object.keys(e.previousValue||{}),r=Object.keys(e.currentValue||{});if(t.length===r.length){for(let e of r)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.ngTemplateOutletContext[t]}}return e.\u0275fac=function(t){return new(t||e)(_o(nl))},e.\u0275dir=We({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[lt]}),e})(),bu=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},providers:[{provide:su,useClass:ou}]}),e})(),wu=(()=>{class e{}return e.\u0275prov=le({token:e,providedIn:"root",factory:()=>new xu(pn(Uc),window)}),e})();class xu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){var t;if(!this.supportsScrolling())return;const r=null!==(t=this.document.getElementById(e))&&void 0!==t?t:this.document.getElementsByName(e)[0];void 0!==r&&(this.scrollToElement(r),this.attemptFocus(r))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,n=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],n-i[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Su(this.window.history)||Su(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Su(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Mu extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var e;e=new Mu,zc||(zc=e)}getProperty(e,t){return e[t]}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}getValue(e){return e.value}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=Tu||(Tu=document.querySelector("base"),Tu)?Tu.getAttribute("href"):null;return null==t?null:(r=t,Eu||(Eu=document.createElement("a")),Eu.setAttribute("href",r),"/"===Eu.pathname.charAt(0)?Eu.pathname:"/"+Eu.pathname);var r}resetBaseElement(){Tu=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return au(document.cookie,e)}}let Eu,Tu=null;const Cu=new Hr("TRANSITION_ID"),Au=[{provide:Ul,useFactory:function(e,t,r){return()=>{r.get(Bl).donePromise.then(()=>{const r=Fc();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>r.remove(e))})}},deps:[Cu,Uc,ro],multi:!0}];class Lu{static init(){var e;e=new Lu,vc=e}addToWindow(e){Ae.getAngularTestability=(t,r=!0)=>{const n=e.findTestabilityInTree(t,r);if(null==n)throw new Error("Could not find testability for element.");return n},Ae.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ae.getAllAngularRootElements=()=>e.getAllRootElements(),Ae.frameworkStabilizers||(Ae.frameworkStabilizers=[]),Ae.frameworkStabilizers.push(e=>{const t=Ae.getAllAngularTestabilities();let r=t.length,n=!1;const i=function(t){n=n||t,r--,0==r&&e(n)};t.forEach(function(e){e.whenStable(i)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const n=e.getTestability(t);return null!=n?n:r?Fc().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}const Pu=new Hr("EventManagerPlugins");let Ou=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,r){return this._findPluginFor(t).addEventListener(e,t,r)}addGlobalEventListener(e,t,r){return this._findPluginFor(t).addGlobalEventListener(e,t,r)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const r=this._plugins;for(let n=0;n<r.length;n++){const t=r[n];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error("No event manager plugin found for event "+e)}}return e.\u0275fac=function(t){return new(t||e)(pn(Pu),pn(ac))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();class Ru{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const n=Fc().getGlobalEventTarget(this._doc,e);if(!n)throw new Error(`Unsupported event target ${n} for event ${t}`);return this.addEventListener(n,t,r)}}let ku=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),ju=(()=>{class e extends ku{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const r=this._doc.createElement("style");r.textContent=e,this._styleNodes.add(t.appendChild(r))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>Fc().remove(e))}}return e.\u0275fac=function(t){return new(t||e)(pn(Uc))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const Du={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Iu=/%COMP%/g;function Nu(e,t,r){for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?Nu(e,i,r):(i=i.replace(Iu,e),r.push(i))}return r}function zu(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Fu=(()=>{class e{constructor(e,t,r){this.eventManager=e,this.sharedStylesHost=t,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Uu(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case Se.Emulated:{let r=this.rendererByCompId.get(t.id);return r||(r=new Bu(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,r)),r.applyToHost(e),r}case 1:case Se.ShadowDom:return new Vu(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Nu(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(pn(Ou),pn(ju),pn(Vl))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();class Uu{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Du[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,n){if(n){t=n+":"+t;const i=Du[n];i?e.setAttributeNS(i,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const n=Du[r];n?e.removeAttributeNS(n,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,n){n&(ii.DashCase|ii.Important)?e.style.setProperty(t,r,n&ii.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ii.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,zu(r)):this.eventManager.addEventListener(e,t,zu(r))}}class Bu extends Uu{constructor(e,t,r,n){super(e),this.component=r;const i=Nu(n+"-"+r.id,r.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Iu,n+"-"+r.id),this.hostAttr="_nghost-%COMP%".replace(Iu,n+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Vu extends Uu{constructor(e,t,r,n){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Nu(n.id,n.styles,[]);for(let s=0;s<i.length;s++){const e=document.createElement("style");e.textContent=i[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Hu=(()=>{class e extends Ru{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,r){return e.addEventListener(t,r,!1),()=>this.removeEventListener(e,t,r)}removeEventListener(e,t,r){return e.removeEventListener(t,r)}}return e.\u0275fac=function(t){return new(t||e)(pn(Uc))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const Gu=["alt","control","meta","shift"],Wu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Xu={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Yu=(()=>{class e extends Ru{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,n){const i=e.parseEventName(r),s=e.eventCallback(i.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fc().onAndCancel(t,i.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),n=r.shift();if(0===r.length||"keydown"!==n&&"keyup"!==n)return null;const i=e._normalizeKey(r.pop());let s="";if(Gu.forEach(e=>{const t=r.indexOf(e);t>-1&&(r.splice(t,1),s+=e+".")}),s+=i,0!=r.length||0===i.length)return null;const o={};return o.domEventName=n,o.fullKey=s,o}static getEventFullKey(e){let t="",r=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&qu.hasOwnProperty(t)&&(t=qu[t]))}return Wu[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Gu.forEach(n=>{n!=r&&(0,Xu[n])(e)&&(t+=n+".")}),t+=r,t}static eventCallback(t,r,n){return i=>{e.getEventFullKey(i)===t&&n.runGuarded(()=>r(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(pn(Uc))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),$u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({factory:function(){return pn(Zu)},token:e,providedIn:"root"}),e})(),Zu=(()=>{class e extends $u{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case $n.NONE:return t;case $n.HTML:return En(t,"HTML")?Mn(t):function(e,t){let r=null;try{Xn=Xn||function(e){const t=new An(e);return function(){try{return!!(new window.DOMParser).parseFromString(yn(""),"text/html")}catch(e){return!1}}()?new Cn(t):t}(e);let n=t?String(t):"";r=Xn.getInertBodyElement(n);let i=5,s=n;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,n=s,s=r.innerHTML,r=Xn.getInertBodyElement(n)}while(n!==s);return(new Hn).sanitizeChildren(Yn(r)||r)}finally{if(r){const e=Yn(r)||r;for(;e.firstChild;)e.removeChild(e.firstChild)}}}(this._doc,String(t));case $n.STYLE:return En(t,"Style")?Mn(t):t;case $n.SCRIPT:if(En(t,"Script"))return Mn(t);throw new Error("unsafe value used in a script context");case $n.URL:return Tn(t),En(t,"URL")?Mn(t):On(String(t));case $n.RESOURCE_URL:if(En(t,"ResourceURL"))return Mn(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return new _n(e)}bypassSecurityTrustStyle(e){return new bn(e)}bypassSecurityTrustScript(e){return new wn(e)}bypassSecurityTrustUrl(e){return new xn(e)}bypassSecurityTrustResourceUrl(e){return new Sn(e)}}return e.\u0275fac=function(t){return new(t||e)(pn(Uc))},e.\u0275prov=le({factory:function(){return e=pn(Us),new Zu(e.get(Uc));var e},token:e,providedIn:"root"}),e})();const Qu=Mc(Dc,"browser",[{provide:ql,useValue:"browser"},{provide:Wl,useValue:function(){Mu.makeCurrent(),Lu.init()},multi:!0},{provide:Uc,useFactory:function(){return function(e){pt=e}(document),document},deps:[]}]),Ju=[[],{provide:Vs,useValue:"root"},{provide:ei,useFactory:function(){return new ei},deps:[]},{provide:Pu,useClass:Hu,multi:!0,deps:[Uc,ac,ql]},{provide:Pu,useClass:Yu,multi:!0,deps:[Uc]},[],{provide:Fu,useClass:Fu,deps:[Ou,ju,Vl]},{provide:Sa,useExisting:Fu},{provide:ku,useExisting:ju},{provide:ju,useClass:ju,deps:[Uc]},{provide:fc,useClass:fc,deps:[ac]},{provide:Ou,useClass:Ou,deps:[Pu,ac]},[]];let Ku=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:Vl,useValue:t.appId},{provide:Cu,useExisting:Vl},Au]}}}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)(pn(e,12))},providers:Ju,imports:[bu,Nc]}),e})();function eh(...e){let t=e[e.length-1];return E(t)?(e.pop(),D(e,t)):G(e)}"undefined"!=typeof window&&window;class th extends S{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new b;return this._value}next(e){super.next(this._value=e)}}class rh extends f{notifyNext(e,t,r,n,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class nh extends f{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function ih(e,t,r,n,i=new nh(e,r,n)){if(!i.closed)return t instanceof v?t.subscribe(i):j(t)(i)}const sh={};function oh(...e){let t=void 0,r=void 0;return E(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&l(e[0])&&(e=e[0]),G(e,r).lift(new ah(t))}class ah{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new lh(e,this.resultSelector))}}class lh extends rh{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(sh),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(ih(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const n=this.values,i=this.toRespond?n[r]===sh?--this.toRespond:this.toRespond:0;n[r]=t,0===i&&(this.resultSelector?this._tryResultSelector(n):this.destination.next(n.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const ch=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();function uh(...e){return H(1)(eh(...e))}const hh=new v(e=>e.complete());function dh(e){return e?function(e){return new v(t=>e.schedule(()=>t.complete()))}(e):hh}function ph(e){return new v(t=>{let r;try{r=e()}catch(n){return void t.error(n)}return(r?I(r):dh()).subscribe(t)})}function fh(e,t){return"function"==typeof t?r=>r.pipe(fh((r,n)=>I(e(r,n)).pipe(T((e,i)=>t(r,e,n,i))))):t=>t.lift(new mh(e))}class mh{constructor(e){this.project=e}call(e,t){return t.subscribe(new gh(e,this.project))}}class gh extends z{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(n){return void this.destination.error(n)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new N(this),n=this.destination;n.add(r),this.innerSubscription=F(e,r),this.innerSubscription!==r&&n.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const yh=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function vh(e){return t=>0===e?dh():t.lift(new _h(e))}class _h{constructor(e){if(this.total=e,this.total<0)throw new yh}call(e,t){return t.subscribe(new bh(e,this.total))}}class bh extends f{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function wh(...e){const t=e[e.length-1];return E(t)?(e.pop(),r=>uh(e,r,t)):t=>uh(e,t)}function xh(e,t){let r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new Sh(e,t,r))}}class Sh{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new Mh(e,this.accumulator,this.seed,this.hasSeed))}}class Mh extends f{constructor(e,t,r,n){super(e),this.accumulator=t,this._seed=r,this.hasSeed=n,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(n){this.destination.error(n)}this.seed=r,this.destination.next(r)}}function Eh(e,t){return function(r){return r.lift(new Th(e,t))}}class Th{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Ch(e,this.predicate,this.thisArg))}}class Ch extends f{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function Ah(e){return function(t){const r=new Lh(e),n=t.lift(r);return r.caught=n}}class Lh{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Ph(e,this.selector,this.caught))}}class Ph extends z{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let r;try{r=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const n=new N(this);this.add(n);const i=F(r,n);i!==n&&this.add(i)}}}function Oh(e,t){return U(e,t,1)}function Rh(e){return function(t){return 0===e?dh():t.lift(new kh(e))}}class kh{constructor(e){if(this.total=e,this.total<0)throw new yh}call(e,t){return t.subscribe(new jh(e,this.total))}}class jh extends f{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,n=this.count++;t.length<r?t.push(e):t[n%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,n=this.ring;for(let i=0;i<r;i++){const i=t++%r;e.next(n[i])}}e.complete()}}function Dh(e=zh){return t=>t.lift(new Ih(e))}class Ih{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Nh(e,this.errorFactory))}}class Nh extends f{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function zh(){return new ch}function Fh(e=null){return t=>t.lift(new Uh(e))}class Uh{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Bh(e,this.defaultValue))}}class Bh extends f{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Vh(e,t){const r=arguments.length>=2;return n=>n.pipe(e?Eh((t,r)=>e(t,r,n)):y,vh(1),r?Fh(t):Dh(()=>new ch))}function Hh(){}function Gh(e,t,r){return function(n){return n.lift(new Wh(e,t,r))}}class Wh{constructor(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}call(e,t){return t.subscribe(new qh(e,this.nextOrObserver,this.error,this.complete))}}class qh extends f{constructor(e,t,r,i){super(e),this._tapNext=Hh,this._tapError=Hh,this._tapComplete=Hh,this._tapError=r||Hh,this._tapComplete=i||Hh,n(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||Hh,this._tapError=t.error||Hh,this._tapComplete=t.complete||Hh)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}function Xh(e){return t=>t.lift(new Yh(e))}class Yh{constructor(e){this.callback=e}call(e,t){return t.subscribe(new $h(e,this.callback))}}class $h extends f{constructor(e,t){super(e),this.add(new h(t))}}class Zh{constructor(e,t){this.id=e,this.url=t}}class Qh extends Zh{constructor(e,t,r="imperative",n=null){super(e,t),this.navigationTrigger=r,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jh extends Zh{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Kh extends Zh{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ed extends Zh{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class td extends Zh{constructor(e,t,r,n){super(e,t),this.urlAfterRedirects=r,this.state=n}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rd extends Zh{constructor(e,t,r,n){super(e,t),this.urlAfterRedirects=r,this.state=n}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nd extends Zh{constructor(e,t,r,n,i){super(e,t),this.urlAfterRedirects=r,this.state=n,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class id extends Zh{constructor(e,t,r,n){super(e,t),this.urlAfterRedirects=r,this.state=n}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sd extends Zh{constructor(e,t,r,n){super(e,t),this.urlAfterRedirects=r,this.state=n}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class od{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ad{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ld{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cd{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ud{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hd{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dd{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const pd="primary";class fd{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function md(e){return new fd(e)}function gd(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function yd(e,t,r){const n=r.path.split("/");if(n.length>e.length)return null;if("full"===r.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const i={};for(let s=0;s<n.length;s++){const t=n[s],r=e[s];if(t.startsWith(":"))i[t.substring(1)]=r;else if(t!==r.path)return null}return{consumed:e.slice(0,n.length),posParams:i}}function vd(e,t){const r=Object.keys(e),n=Object.keys(t);if(!r||!n||r.length!=n.length)return!1;let i;for(let s=0;s<r.length;s++)if(i=r[s],!_d(e[i],t[i]))return!1;return!0}function _d(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const r=[...e].sort(),n=[...t].sort();return r.every((e,t)=>n[t]===e)}return e===t}function bd(e){return Array.prototype.concat.apply([],e)}function wd(e){return e.length>0?e[e.length-1]:null}function xd(e,t){for(const r in e)e.hasOwnProperty(r)&&t(e[r],r)}function Sd(e){return Lo(e)?e:Ao(e)?I(Promise.resolve(e)):eh(e)}function Md(e,t,r){return r?function(e,t){return vd(e,t)}(e.queryParams,t.queryParams)&&Ed(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>_d(e[r],t[r]))}(e.queryParams,t.queryParams)&&Td(e.root,t.root)}function Ed(e,t){if(!Od(e.segments,t.segments))return!1;if(e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children){if(!e.children[r])return!1;if(!Ed(e.children[r],t.children[r]))return!1}return!0}function Td(e,t){return Cd(e,t,t.segments)}function Cd(e,t,r){if(e.segments.length>r.length)return!!Od(e.segments.slice(0,r.length),r)&&!t.hasChildren();if(e.segments.length===r.length){if(!Od(e.segments,r))return!1;for(const r in t.children){if(!e.children[r])return!1;if(!Td(e.children[r],t.children[r]))return!1}return!0}{const n=r.slice(0,e.segments.length),i=r.slice(e.segments.length);return!!Od(e.segments,n)&&!!e.children.primary&&Cd(e.children.primary,t,i)}}class Ad{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=md(this.queryParams)),this._queryParamMap}toString(){return jd.serialize(this)}}class Ld{constructor(e,t){this.segments=e,this.children=t,this.parent=null,xd(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dd(this)}}class Pd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=md(this.parameters)),this._parameterMap}toString(){return Vd(this)}}function Od(e,t){return e.length===t.length&&e.every((e,r)=>e.path===t[r].path)}class Rd{}class kd{parse(e){const t=new Xd(e);return new Ad(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${"/"+Id(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(e=>`${zd(t)}=${zd(e)}`).join("&"):`${zd(t)}=${zd(r)}`});return t.length?"?"+t.join("&"):""}(e.queryParams)}${"string"==typeof e.fragment?"#"+encodeURI(e.fragment):""}`}}const jd=new kd;function Dd(e){return e.segments.map(e=>Vd(e)).join("/")}function Id(e,t){if(!e.hasChildren())return Dd(e);if(t){const t=e.children.primary?Id(e.children.primary,!1):"",r=[];return xd(e.children,(e,t)=>{t!==pd&&r.push(`${t}:${Id(e,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(e,t){let r=[];return xd(e.children,(e,n)=>{n===pd&&(r=r.concat(t(e,n)))}),xd(e.children,(e,n)=>{n!==pd&&(r=r.concat(t(e,n)))}),r}(e,(t,r)=>r===pd?[Id(e.children.primary,!1)]:[`${r}:${Id(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${Dd(e)}/${t[0]}`:`${Dd(e)}/(${t.join("//")})`}}function Nd(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zd(e){return Nd(e).replace(/%3B/gi,";")}function Fd(e){return Nd(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ud(e){return decodeURIComponent(e)}function Bd(e){return Ud(e.replace(/\+/g,"%20"))}function Vd(e){return`${Fd(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Fd(e)}=${Fd(t[e])}`).join("")}`;var t}const Hd=/^[^\/()?;=#]+/;function Gd(e){const t=e.match(Hd);return t?t[0]:""}const Wd=/^[^=?&#]+/,qd=/^[^?&#]+/;class Xd{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ld([],{}):new Ld([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r.primary=new Ld(e,t)),r}parseSegment(){const e=Gd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Pd(Ud(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Gd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const e=Gd(this.remaining);e&&(r=e,this.capture(r))}e[Ud(t)]=Ud(r)}parseQueryParam(e){const t=function(e){const t=e.match(Wd);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(qd);return t?t[0]:""}(this.remaining);e&&(r=e,this.capture(r))}const n=Bd(t),i=Bd(r);if(e.hasOwnProperty(n)){let t=e[n];Array.isArray(t)||(t=[t],e[n]=t),t.push(i)}else e[n]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Gd(this.remaining),n=this.remaining[r.length];if("/"!==n&&")"!==n&&";"!==n)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;r.indexOf(":")>-1?(i=r.substr(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=pd);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s.primary:new Ld([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Yd{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=$d(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=$d(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Zd(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Zd(e,this._root).map(e=>e.value)}}function $d(e,t){if(e===t.value)return t;for(const r of t.children){const t=$d(e,r);if(t)return t}return null}function Zd(e,t){if(e===t.value)return[t];for(const r of t.children){const n=Zd(e,r);if(n.length)return n.unshift(t),n}return[]}class Qd{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Jd(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Kd extends Yd{constructor(e,t){super(e),this.snapshot=t,sp(this,e)}toString(){return this.snapshot.toString()}}function ep(e,t){const r=function(e,t){const r=new np([],{},{},"",{},pd,t,null,e.root,-1,{});return new ip("",new Qd(r,[]))}(e,t),n=new th([new Pd("",{})]),i=new th({}),s=new th({}),o=new th({}),a=new th(""),l=new tp(n,i,o,a,s,pd,t,r.root);return l.snapshot=r.root,new Kd(new Qd(l,[]),r)}class tp{constructor(e,t,r,n,i,s,o,a){this.url=e,this.params=t,this.queryParams=r,this.fragment=n,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(T(e=>md(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(T(e=>md(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rp(e,t="emptyOnly"){const r=e.pathFromRoot;let n=0;if("always"!==t)for(n=r.length-1;n>=1;){const e=r[n],t=r[n-1];if(e.routeConfig&&""===e.routeConfig.path)n--;else{if(t.component)break;n--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(r.slice(n))}class np{constructor(e,t,r,n,i,s,o,a,l,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=n,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=md(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=md(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ip extends Yd{constructor(e,t){super(t),this.url=e,sp(this,t)}toString(){return op(this._root)}}function sp(e,t){t.value._routerState=e,t.children.forEach(t=>sp(e,t))}function op(e){const t=e.children.length>0?` { ${e.children.map(op).join(", ")} } `:"";return`${e.value}${t}`}function ap(e){if(e.snapshot){const t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,vd(t.queryParams,r.queryParams)||e.queryParams.next(r.queryParams),t.fragment!==r.fragment&&e.fragment.next(r.fragment),vd(t.params,r.params)||e.params.next(r.params),function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!vd(e[r],t[r]))return!1;return!0}(t.url,r.url)||e.url.next(r.url),vd(t.data,r.data)||e.data.next(r.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function lp(e,t){var r,n;return vd(e.params,t.params)&&Od(r=e.url,n=t.url)&&r.every((e,t)=>vd(e.parameters,n[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||lp(e.parent,t.parent))}function cp(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){const n=r.value;n._futureSnapshot=t.value;const i=function(e,t,r){return t.children.map(t=>{for(const n of r.children)if(e.shouldReuseRoute(t.value,n.value.snapshot))return cp(e,t,n);return cp(e,t)})}(e,t,r);return new Qd(n,i)}{const r=e.retrieve(t.value);if(r){const e=r.route;return up(t,e),e}{const r=new tp(new th((n=t.value).url),new th(n.params),new th(n.queryParams),new th(n.fragment),new th(n.data),n.outlet,n.component,n),i=t.children.map(t=>cp(e,t));return new Qd(r,i)}}var n}function up(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)up(e.children[r],t.children[r])}function hp(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function dp(e){return"object"==typeof e&&null!=e&&e.outlets}function pp(e,t,r,n,i){let s={};return n&&xd(n,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>""+e):""+e}),new Ad(r.root===e?t:fp(r.root,e,t),s,i)}function fp(e,t,r){const n={};return xd(e.children,(e,i)=>{n[i]=e===t?r:fp(e,t,r)}),new Ld(e.segments,n)}class mp{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&hp(r[0]))throw new Error("Root segment cannot have matrix parameters");const n=r.find(dp);if(n&&n!==wd(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gp{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function yp(e,t,r){if(e||(e=new Ld([],{})),0===e.segments.length&&e.hasChildren())return vp(e,t,r);const n=function(e,t,r){let n=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(n>=r.length)return s;const t=e.segments[i],o=r[n];if(dp(o))break;const a=""+o,l=n<r.length-1?r[n+1]:null;if(i>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!xp(a,l,t))return s;n+=2}else{if(!xp(a,{},t))return s;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}(e,t,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const t=new Ld(e.segments.slice(0,n.pathIndex),{});return t.children.primary=new Ld(e.segments.slice(n.pathIndex),e.children),vp(t,0,i)}return n.match&&0===i.length?new Ld(e.segments,{}):n.match&&!e.hasChildren()?_p(e,t,r):n.match?vp(e,0,i):_p(e,t,r)}function vp(e,t,r){if(0===r.length)return new Ld(e.segments,{});{const n=function(e){return dp(e[0])?e[0].outlets:{[pd]:e}}(r),i={};return xd(n,(r,n)=>{"string"==typeof r&&(r=[r]),null!==r&&(i[n]=yp(e.children[n],t,r))}),xd(e.children,(e,t)=>{void 0===n[t]&&(i[t]=e)}),new Ld(e.segments,i)}}function _p(e,t,r){const n=e.segments.slice(0,t);let i=0;for(;i<r.length;){const s=r[i];if(dp(s)){const e=bp(s.outlets);return new Ld(n,e)}if(0===i&&hp(r[0])){n.push(new Pd(e.segments[t].path,r[0])),i++;continue}const o=dp(s)?s.outlets.primary:""+s,a=i<r.length-1?r[i+1]:null;o&&a&&hp(a)?(n.push(new Pd(o,wp(a))),i+=2):(n.push(new Pd(o,{})),i++)}return new Ld(n,{})}function bp(e){const t={};return xd(e,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=_p(new Ld([],{}),0,e))}),t}function wp(e){const t={};return xd(e,(e,r)=>t[r]=""+e),t}function xp(e,t,r){return e==r.path&&vd(t,r.parameters)}class Sp{constructor(e,t,r,n){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=n}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ap(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const n=Jd(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,n[t],r),delete n[t]}),xd(n,(e,t)=>{this.deactivateRouteAndItsChildren(e,r)})}deactivateRoutes(e,t,r){const n=e.value,i=t?t.value:null;if(n===i)if(n.component){const i=r.getContext(n.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const t=r.outlet.detach(),n=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:n})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),n=r&&e.value.component?r.children:t,i=Jd(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],n);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}activateChildRoutes(e,t,r){const n=Jd(t);e.children.forEach(e=>{this.activateRoutes(e,n[e.value.outlet],r),this.forwardEvent(new hd(e.value.snapshot))}),e.children.length&&this.forwardEvent(new cd(e.value.snapshot))}activateRoutes(e,t,r){const n=e.value,i=t?t.value:null;if(ap(n),n===i)if(n.component){const i=r.getOrCreateContext(n.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,r);else if(n.component){const t=r.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){const e=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Mp(e.route)}else{const r=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(n.snapshot),i=r?r.module.componentFactoryResolver:null;t.attachRef=null,t.route=n,t.resolver=i,t.outlet&&t.outlet.activateWith(n,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,r)}}function Mp(e){ap(e.value),e.children.forEach(Mp)}class Ep{constructor(e,t){this.routes=e,this.module=t}}function Tp(e){return"function"==typeof e}function Cp(e){return e instanceof Ad}const Ap=Symbol("INITIAL_VALUE");function Lp(){return fh(e=>oh(e.map(e=>e.pipe(vh(1),wh(Ap)))).pipe(xh((e,t)=>{let r=!1;return t.reduce((e,n,i)=>{if(e!==Ap)return e;if(n===Ap&&(r=!0),!r){if(!1===n)return n;if(i===t.length-1||Cp(n))return n}return e},e)},Ap),Eh(e=>e!==Ap),T(e=>Cp(e)?e:!0===e),vh(1)))}let Pp=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Fe({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&Mo(0,"router-outlet")},directives:function(){return[Ef]},encapsulation:2}),e})();function Op(e,t=""){for(let r=0;r<e.length;r++){const n=e[r];Rp(n,kp(t,n))}}function Rp(e,t){e.children&&Op(e.children,t)}function kp(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:`${e}/${t.path}`:"":e}function jp(e){const t=e.children&&e.children.map(jp),r=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!r.component&&(t||r.loadChildren)&&r.outlet&&r.outlet!==pd&&(r.component=Pp),r}function Dp(e){return e.outlet||pd}function Ip(e,t){const r=e.filter(e=>Dp(e)===t);return r.push(...e.filter(e=>Dp(e)!==t)),r}const Np={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function zp(e,t,r){var n;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||r.length>0)?Object.assign({},Np):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(t.matcher||yd)(r,e,t);if(!i)return Object.assign({},Np);const s={};xd(i.posParams,(e,t)=>{s[t]=e.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(n=i.posParams)&&void 0!==n?n:{}}}function Fp(e,t,r,n,i="corrected"){if(r.length>0&&function(e,t,r){return r.some(r=>Up(e,t,r)&&Dp(r)!==pd)}(e,r,n)){const i=new Ld(t,function(e,t,r,n){const i={};i.primary=n,n._sourceSegment=e,n._segmentIndexShift=t.length;for(const s of r)if(""===s.path&&Dp(s)!==pd){const r=new Ld([],{});r._sourceSegment=e,r._segmentIndexShift=t.length,i[Dp(s)]=r}return i}(e,t,n,new Ld(r,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===r.length&&function(e,t,r){return r.some(r=>Up(e,t,r))}(e,r,n)){const s=new Ld(e.segments,function(e,t,r,n,i,s){const o={};for(const a of n)if(Up(e,r,a)&&!i[Dp(a)]){const r=new Ld([],{});r._sourceSegment=e,r._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[Dp(a)]=r}return Object.assign(Object.assign({},i),o)}(e,t,r,n,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:r}}const s=new Ld(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:r}}function Up(e,t,r){return(!(e.hasChildren()||t.length>0)||"full"!==r.pathMatch)&&""===r.path}function Bp(e,t,r,n){return!!(Dp(e)===n||n!==pd&&Up(t,r,e))&&("**"===e.path||zp(t,e,r).matched)}function Vp(e,t,r){return 0===t.length&&!e.children[r]}class Hp{constructor(e){this.segmentGroup=e||null}}class Gp{constructor(e){this.urlTree=e}}function Wp(e){return new v(t=>t.error(new Hp(e)))}function qp(e){return new v(t=>t.error(new Gp(e)))}function Xp(e){return new v(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Yp{constructor(e,t,r,n,i){this.configLoader=t,this.urlSerializer=r,this.urlTree=n,this.config=i,this.allowRedirects=!0,this.ngModule=e.get(el)}apply(){const e=Fp(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ld(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,pd).pipe(T(e=>this.createUrlTree($p(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ah(e=>{if(e instanceof Gp)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Hp)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,pd).pipe(T(t=>this.createUrlTree($p(t),e.queryParams,e.fragment))).pipe(Ah(e=>{if(e instanceof Hp)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const n=e.segments.length>0?new Ld([],{[pd]:e}):e;return new Ad(n,t,r)}expandSegmentGroup(e,t,r,n){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(T(e=>new Ld([],e))):this.expandSegment(e,r,t,r.segments,n,!0)}expandChildren(e,t,r){const n=[];for(const i of Object.keys(r.children))"primary"===i?n.unshift(i):n.push(i);return I(n).pipe(Oh(n=>{const i=r.children[n],s=Ip(t,n);return this.expandSegmentGroup(e,s,i,n).pipe(T(e=>({segment:e,outlet:n})))}),xh((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const r=arguments.length>=2;return n=>n.pipe(e?Eh((t,r)=>e(t,r,n)):y,Rh(1),r?Fh(t):Dh(()=>new ch))}())}expandSegment(e,t,r,n,i,s){return I(r).pipe(Oh(o=>this.expandSegmentAgainstRoute(e,t,r,o,n,i,s).pipe(Ah(e=>{if(e instanceof Hp)return eh(null);throw e}))),Vh(e=>!!e),Ah((e,r)=>{if(e instanceof ch||"EmptyError"===e.name){if(Vp(t,n,i))return eh(new Ld([],{}));throw new Hp(t)}throw e}))}expandSegmentAgainstRoute(e,t,r,n,i,s,o){return Bp(n,t,i,s)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(e,t,n,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,n,i,s):Wp(t):Wp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,n,i,s){return"**"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,n,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,n,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,n){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?qp(i):this.lineralizeSegments(r,i).pipe(U(r=>{const i=new Ld(r,{});return this.expandSegment(e,i,t,r,n,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,n,i,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=zp(t,n,i);if(!o)return Wp(t);const u=this.applyRedirectCommands(a,n.redirectTo,c);return n.redirectTo.startsWith("/")?qp(u):this.lineralizeSegments(n,u).pipe(U(n=>this.expandSegment(e,t,r,n.concat(i.slice(l)),s,!1)))}matchSegmentAgainstRoute(e,t,r,n,i){if("**"===r.path)return r.loadChildren?this.configLoader.load(e.injector,r).pipe(T(e=>(r._loadedConfig=e,new Ld(n,{})))):eh(new Ld(n,{}));const{matched:s,consumedSegments:o,lastChild:a}=zp(t,r,n);if(!s)return Wp(t);const l=n.slice(a);return this.getChildConfig(e,r,n).pipe(U(e=>{const n=e.module,s=e.routes,{segmentGroup:a,slicedSegments:c}=Fp(t,o,l,s),u=new Ld(a.segments,a.children);if(0===c.length&&u.hasChildren())return this.expandChildren(n,s,u).pipe(T(e=>new Ld(o,e)));if(0===s.length&&0===c.length)return eh(new Ld(o,{}));const h=Dp(r)===i;return this.expandSegment(n,u,s,c,h?pd:i,!0).pipe(T(e=>new Ld(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,r){return t.children?eh(new Ep(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?eh(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(U(r=>r?this.configLoader.load(e.injector,t).pipe(T(e=>(t._loadedConfig=e,e))):function(e){return new v(t=>t.error(gd(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):eh(new Ep([],e))}runCanLoadGuards(e,t,r){const n=t.canLoad;return n&&0!==n.length?eh(n.map(n=>{const i=e.get(n);let s;if(function(e){return e&&Tp(e.canLoad)}(i))s=i.canLoad(t,r);else{if(!Tp(i))throw new Error("Invalid CanLoad guard");s=i(t,r)}return Sd(s)})).pipe(Lp(),Gh(e=>{if(!Cp(e))return;const t=gd(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),T(e=>!0===e)):eh(!0)}lineralizeSegments(e,t){let r=[],n=t.root;for(;;){if(r=r.concat(n.segments),0===n.numberOfChildren)return eh(r);if(n.numberOfChildren>1||!n.children.primary)return Xp(e.redirectTo);n=n.children.primary}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,n){const i=this.createSegmentGroup(e,t.root,r,n);return new Ad(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return xd(e,(e,n)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);r[n]=t[i]}else r[n]=e}),r}createSegmentGroup(e,t,r,n){const i=this.createSegments(e,t.segments,r,n);let s={};return xd(t.children,(t,i)=>{s[i]=this.createSegmentGroup(e,t,r,n)}),new Ld(i,s)}createSegments(e,t,r,n){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,n):this.findOrReturn(t,r))}findPosParam(e,t,r){const n=r[t.path.substring(1)];if(!n)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return n}findOrReturn(e,t){let r=0;for(const n of t){if(n.path===e.path)return t.splice(r),n;r++}return e}}function $p(e){const t={};for(const r of Object.keys(e.children)){const n=$p(e.children[r]);(n.segments.length>0||n.hasChildren())&&(t[r]=n)}return function(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new Ld(e.segments.concat(t.segments),t.children)}return e}(new Ld(e.segments,t))}class Zp{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Qp{constructor(e,t){this.component=e,this.route=t}}function Jp(e,t,r){const n=e._root;return ef(n,t?t._root:null,r,[n.value])}function Kp(e,t,r){const n=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(n?n.module.injector:r).get(e)}function ef(e,t,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Jd(t);return e.children.forEach(e=>{!function(e,t,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=r?r.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(e,t,r){if("function"==typeof r)return r(e,t);switch(r){case"pathParamsChange":return!Od(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Od(e.url,t.url)||!vd(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lp(e,t)||!vd(e.queryParams,t.queryParams);case"paramsChange":default:return!lp(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Zp(n)):(s.data=o.data,s._resolvedData=o._resolvedData),ef(e,t,s.component?a?a.children:null:r,n,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Qp(a.outlet.component,o))}else o&&tf(t,a,i),i.canActivateChecks.push(new Zp(n)),ef(e,null,s.component?a?a.children:null:r,n,i)}(e,s[e.value.outlet],r,n.concat([e.value]),i),delete s[e.value.outlet]}),xd(s,(e,t)=>tf(e,r.getContext(t),i)),i}function tf(e,t,r){const n=Jd(e),i=e.value;xd(n,(e,n)=>{tf(e,i.component?t?t.children.getContext(n):null:t,r)}),r.canDeactivateChecks.push(new Qp(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class rf{}function nf(e){return new v(t=>t.error(e))}class sf{constructor(e,t,r,n,i,s){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=n,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const e=Fp(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,pd);if(null===t)return null;const r=new np([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},pd,this.rootComponentType,null,this.urlTree.root,-1,{}),n=new Qd(r,t),i=new ip(this.url,n);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(e){const t=e.value,r=rp(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const i of Object.keys(t.children)){const n=t.children[i],s=Ip(e,i),o=this.processSegmentGroup(s,n,i);if(null===o)return null;r.push(...o)}const n=function(e){const t=[];for(const r of e){if(!of(r)){t.push(r);continue}const e=t.find(e=>r.value.routeConfig===e.value.routeConfig);void 0!==e?e.children.push(...r.children):t.push(r)}return t}(r);return n.sort((e,t)=>e.value.outlet===pd?-1:t.value.outlet===pd?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,r,n){for(const i of e){const e=this.processSegmentAgainstRoute(i,t,r,n);if(null!==e)return e}return Vp(t,r,n)?[]:null}processSegmentAgainstRoute(e,t,r,n){if(e.redirectTo||!Bp(e,t,r,n))return null;let i,s=[],o=[];if("**"===e.path){const n=r.length>0?wd(r).parameters:{};i=new np(r,n,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,cf(e),Dp(e),e.component,e,af(t),lf(t)+r.length,uf(e))}else{const n=zp(t,e,r);if(!n.matched)return null;s=n.consumedSegments,o=r.slice(n.lastChild),i=new np(s,n.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,cf(e),Dp(e),e.component,e,af(t),lf(t)+s.length,uf(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:c}=Fp(t,s,o,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const e=this.processChildren(a,l);return null===e?null:[new Qd(i,e)]}if(0===a.length&&0===c.length)return[new Qd(i,[])];const u=Dp(e)===n,h=this.processSegment(a,l,c,u?pd:n);return null===h?null:[new Qd(i,h)]}}function of(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function af(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function lf(e){let t=e,r=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,r+=t._segmentIndexShift?t._segmentIndexShift:0;return r-1}function cf(e){return e.data||{}}function uf(e){return e.resolve||{}}function hf(e){return fh(t=>{const r=e(t);return r?I(r).pipe(T(()=>t)):eh(t)})}class df extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const pf=new Hr("ROUTES");class ff{constructor(e,t,r,n){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=n}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(T(r=>{this.onLoadEndListener&&this.onLoadEndListener(t);const n=r.create(e);return new Ep(bd(n.injector.get(pf)).map(jp),n)}))}loadModuleFactory(e){return"string"==typeof e?I(this.loader.load(e)):Sd(e()).pipe(U(e=>e instanceof tl?eh(e):I(this.compiler.compileModuleAsync(e))))}}class mf{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new gf,this.attachRef=null}}class gf{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new mf,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class yf{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function vf(e){throw e}function _f(e,t,r){return t.parse("/")}function bf(e,t){return eh(null)}let wf=(()=>{class e{constructor(e,t,r,n,i,s,o,a){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=r,this.location=n,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new S,this.errorHandler=vf,this.malformedUriErrorHandler=_f,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:bf,afterPreactivation:bf},this.urlHandlingStrategy=new yf,this.routeReuseStrategy=new df,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=i.get(el),this.console=i.get(Yl);const l=i.get(ac);this.isNgZoneEnabled=l instanceof ac&&ac.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new Ad(new Ld([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ff(s,o,e=>this.triggerEvent(new od(e)),e=>this.triggerEvent(new ad(e))),this.routerState=ep(this.currentUrlTree,this.rootComponentType),this.transitions=new th({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(Eh(e=>0!==e.id),T(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),fh(e=>{let r=!1,n=!1;return eh(e).pipe(Gh(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),fh(e=>{const r=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||r)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return eh(e).pipe(fh(e=>{const r=this.transitions.getValue();return t.next(new Qh(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==this.transitions.getValue()?hh:Promise.resolve(e)}),(n=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,fh(e=>function(e,t,r,n,i){return new Yp(e,t,r,n,i).apply()}(n,i,s,e.extractedUrl,o).pipe(T(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t}))))),Gh(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,r,n,i){return U(s=>function(e,t,r,n,i="emptyOnly",s="legacy"){try{const o=new sf(e,t,r,n,i,s).recognize();return null===o?nf(new rf):eh(o)}catch(o){return nf(o)}}(e,t,s.urlAfterRedirects,r(s.urlAfterRedirects),n,i).pipe(T(e=>Object.assign(Object.assign({},s),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),Gh(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects);const r=new td(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(r)}));var n,i,s,o;if(r&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:r,extractedUrl:n,source:i,restoredState:s,extras:o}=e,a=new Qh(r,this.serializeUrl(n),i,s);t.next(a);const l=ep(n,this.rootComponentType).snapshot;return eh(Object.assign(Object.assign({},e),{targetSnapshot:l,urlAfterRedirects:n,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),hh}),hf(e=>{const{targetSnapshot:t,id:r,extractedUrl:n,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:r,appliedUrlTree:n,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Gh(e=>{const t=new rd(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),T(e=>Object.assign(Object.assign({},e),{guards:Jp(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return U(r=>{const{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=r;return 0===o.length&&0===s.length?eh(Object.assign(Object.assign({},r),{guardsResult:!0})):function(e,t,r,n){return I(e).pipe(U(e=>function(e,t,r,n,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?eh(s.map(s=>{const o=Kp(s,t,i);let a;if(function(e){return e&&Tp(e.canDeactivate)}(o))a=Sd(o.canDeactivate(e,t,r,n));else{if(!Tp(o))throw new Error("Invalid CanDeactivate guard");a=Sd(o(e,t,r,n))}return a.pipe(Vh())})).pipe(Lp()):eh(!0)}(e.component,e.route,r,t,n)),Vh(e=>!0!==e,!0))}(o,n,i,e).pipe(U(r=>r&&"boolean"==typeof r?function(e,t,r,n){return I(t).pipe(Oh(t=>uh(function(e,t){return null!==e&&t&&t(new ld(e)),eh(!0)}(t.route.parent,n),function(e,t){return null!==e&&t&&t(new ud(e)),eh(!0)}(t.route,n),function(e,t,r){const n=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>ph(()=>eh(t.guards.map(i=>{const s=Kp(i,t.node,r);let o;if(function(e){return e&&Tp(e.canActivateChild)}(s))o=Sd(s.canActivateChild(n,e));else{if(!Tp(s))throw new Error("Invalid CanActivateChild guard");o=Sd(s(n,e))}return o.pipe(Vh())})).pipe(Lp())));return eh(i).pipe(Lp())}(e,t.path,r),function(e,t,r){const n=t.routeConfig?t.routeConfig.canActivate:null;return n&&0!==n.length?eh(n.map(n=>ph(()=>{const i=Kp(n,t,r);let s;if(function(e){return e&&Tp(e.canActivate)}(i))s=Sd(i.canActivate(t,e));else{if(!Tp(i))throw new Error("Invalid CanActivate guard");s=Sd(i(t,e))}return s.pipe(Vh())}))).pipe(Lp()):eh(!0)}(e,t.route,r))),Vh(e=>!0!==e,!0))}(n,s,e,t):eh(r)),T(e=>Object.assign(Object.assign({},r),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),Gh(e=>{if(Cp(e.guardsResult)){const t=gd(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new nd(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Eh(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const r=new Kh(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(r),e.resolve(!1),!1}return!0}),hf(e=>{if(e.guards.canActivateChecks.length)return eh(e).pipe(Gh(e=>{const t=new id(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),fh(e=>{let r=!1;return eh(e).pipe((n=this.paramsInheritanceStrategy,i=this.ngModule.injector,U(e=>{const{targetSnapshot:t,guards:{canActivateChecks:r}}=e;if(!r.length)return eh(e);let s=0;return I(r).pipe(Oh(e=>function(e,t,r,n){return function(e,t,r,n){const i=Object.keys(e);if(0===i.length)return eh({});const s={};return I(i).pipe(U(i=>function(e,t,r,n){const i=Kp(e,t,n);return Sd(i.resolve?i.resolve(t,r):i(t,r))}(e[i],t,r,n).pipe(Gh(e=>{s[i]=e}))),Rh(1),U(()=>Object.keys(s).length===i.length?eh(s):hh))}(e._resolve,e,t,n).pipe(T(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),rp(e,r).resolve),null)))}(e.route,t,n,i)),Gh(()=>s++),Rh(1),U(t=>s===r.length?eh(e):hh))})),Gh({next:()=>r=!0,complete:()=>{if(!r){const r=new Kh(e.id,this.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");t.next(r),e.resolve(!1)}}}));var n,i}),Gh(e=>{const t=new sd(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),hf(e=>{const{targetSnapshot:t,id:r,extractedUrl:n,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:r,appliedUrlTree:n,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),T(e=>{const t=function(e,t,r){const n=cp(e,t._root,r?r._root:void 0);return new Kd(n,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),Gh(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=e=>this.triggerEvent(e),T(e=>(new Sp(s,e.targetRouterState,e.currentRouterState,o).activate(i),e))),Gh({next(){r=!0},complete(){r=!0}}),Xh(()=>{if(!r&&!n){this.resetUrlToCurrentUrlTree();const r=new Kh(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(r),e.resolve(!1)}this.currentNavigation=null}),Ah(r=>{if(n=!0,(i=r)&&i.ngNavigationCancelingError){const n=Cp(r.url);n||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const i=new Kh(e.id,this.serializeUrl(e.extractedUrl),r.message);t.next(i),n?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(r.url,this.rawUrlTree);this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const n=new ed(e.id,this.serializeUrl(e.extractedUrl),r);t.next(n);try{e.resolve(this.errorHandler(r))}catch(s){e.reject(s)}}var i;return hh}));var i,s,o}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:r,urlTree:n}=t,i={replaceUrl:!0};if(r){const e=Object.assign({},r);delete e.navigationId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(n,e,r,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const r=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&r&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Op(e),this.config=e.map(jp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(e,t={}){const{relativeTo:r,queryParams:n,fragment:i,queryParamsHandling:s,preserveFragment:o}=t,a=r||this.routerState.root,l=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),n);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=n||null}return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,r,n,i){if(0===r.length)return pp(t.root,t.root,t,n,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new mp(!0,0,e);let t=0,r=!1;const n=e.reduce((e,n,i)=>{if("object"==typeof n&&null!=n){if(n.outlets){const t={};return xd(n.outlets,(e,r)=>{t[r]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(n.segmentPath)return[...e,n.segmentPath]}return"string"!=typeof n?[...e,n]:0===i?(n.split("/").forEach((n,i)=>{0==i&&"."===n||(0==i&&""===n?r=!0:".."===n?t++:""!=n&&e.push(n))}),e):[...e,n]},[]);return new mp(r,t,n)}(r);if(s.toRoot())return pp(t.root,new Ld([],{}),t,n,i);const o=function(e,t,r){if(e.isAbsolute)return new gp(t.root,!0,0);if(-1===r.snapshot._lastPathIndex){const e=r.snapshot._urlSegment;return new gp(e,e===t.root,0)}const n=hp(e.commands[0])?0:1;return function(e,t,r){let n=e,i=t,s=r;for(;s>i;){if(s-=i,n=n.parent,!n)throw new Error("Invalid number of '../'");i=n.segments.length}return new gp(n,!1,i-s)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+n,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?vp(o.segmentGroup,o.index,s.commands):yp(o.segmentGroup,o.index,s.commands);return pp(o.segmentGroup,a,t,n,i)}(a,this.currentUrlTree,e,c,l)}navigateByUrl(e,t={skipLocationChange:!1}){const r=Cp(e)?e:this.parseUrl(e),n=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(n,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const r=e[t];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(r){t=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return t}isActive(e,t){if(Cp(e))return Md(this.currentUrlTree,e,t);const r=this.parseUrl(e);return Md(this.currentUrlTree,r,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return null!=n&&(t[r]=n),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new Jh(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,r,n,i){const s=this.getTransition(),o="imperative"!==t&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===e.toString();if(o&&a)return Promise.resolve(!0);let l,c,u;i?(l=i.resolve,c=i.reject,u=i.promise):u=new Promise((e,t)=>{l=e,c=t});const h=++this.navigationId;return this.setTransition({id:h,source:t,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:n,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,r,n){const i=this.urlSerializer.serialize(e);n=n||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},n),{navigationId:r})):this.location.go(i,"",Object.assign(Object.assign({},n),{navigationId:r}))}resetStateAndUrl(e,t,r){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return e.\u0275fac=function(t){return new(t||e)(pn(Wr),pn(Rd),pn(gf),pn(tu),pn(ro),pn(Pc),pn(ic),pn(void 0))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),xf=(()=>{class e{constructor(e,t,r,n,i){this.router=e,this.route=t,this.commands=[],this.onChanges=new S,null==r&&n.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:Mf(this.skipLocationChange),replaceUrl:Mf(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Mf(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(_o(wf),_o(tp),Ur("tabindex"),_o(Ma),_o(xa))},e.\u0275dir=We({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&Po("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[lt]}),e})(),Sf=(()=>{class e{constructor(e,t,r){this.router=e,this.route=t,this.locationStrategy=r,this.commands=[],this.onChanges=new S,this.subscription=e.events.subscribe(e=>{e instanceof Jh&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,r,n,i){if(0!==e||t||r||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:Mf(this.skipLocationChange),replaceUrl:Mf(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Mf(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(_o(wf),_o(tp),_o(Zc))},e.\u0275dir=We({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&Po("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(Jo("href",t.href,Zn),mo("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[lt]}),e})();function Mf(e){return""===e||!!e}let Ef=(()=>{class e{constructor(e,t,r,n,i){this.parentContexts=e,this.location=t,this.resolver=r,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new vl,this.deactivateEvents=new vl,this.name=n||pd,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const r=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),n=this.parentContexts.getOrCreateContext(this.name).children,i=new Tf(e,n,this.location.injector);this.activated=this.location.createComponent(r,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(_o(gf),_o(nl),_o(va),Ur("name"),_o(Wa))},e.\u0275dir=We({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class Tf{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===tp?this.route:e===gf?this.childContexts:this.parent.get(e,t)}}class Cf{}class Af{preload(e,t){return eh(null)}}let Lf=(()=>{class e{constructor(e,t,r,n,i){this.router=e,this.injector=n,this.preloadingStrategy=i,this.loader=new ff(t,r,t=>e.triggerEvent(new od(t)),t=>e.triggerEvent(new ad(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Eh(e=>e instanceof Jh),Oh(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(el);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const r=[];for(const n of t)if(n.loadChildren&&!n.canLoad&&n._loadedConfig){const e=n._loadedConfig;r.push(this.processRoutes(e.module,e.routes))}else n.loadChildren&&!n.canLoad?r.push(this.preloadConfig(e,n)):n.children&&r.push(this.processRoutes(e,n.children));return I(r).pipe(H(),T(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(U(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(pn(wf),pn(Pc),pn(ic),pn(ro),pn(Cf))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),Pf=(()=>{class e{constructor(e,t,r={}){this.router=e,this.viewportScroller=t,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Qh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Jh&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof dd&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new dd(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(pn(wf),pn(wu),pn(void 0))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const Of=new Hr("ROUTER_CONFIGURATION"),Rf=new Hr("ROUTER_FORROOT_GUARD"),kf=[tu,{provide:Rd,useClass:kd},{provide:wf,useFactory:function(e,t,r,n,i,s,o,a={},l,c){const u=new wf(null,e,t,r,n,i,s,bd(o));if(l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,u),a.enableTracing){const e=Fc();u.events.subscribe(t=>{e.logGroup("Router Event: "+t.constructor.name),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return u},deps:[Rd,gf,tu,ro,Pc,ic,pf,Of,[class{},new tn],[class{},new tn]]},gf,{provide:tp,useFactory:function(e){return e.routerState.root},deps:[wf]},{provide:Pc,useClass:kc},Lf,Af,class{preload(e,t){return t().pipe(Ah(()=>eh(null)))}},{provide:Of,useValue:{enableTracing:!1}}];function jf(){return new Sc("Router",wf)}let Df=(()=>{class e{constructor(e,t){}static forRoot(t,r){return{ngModule:e,providers:[kf,Ff(t),{provide:Rf,useFactory:zf,deps:[[wf,new tn,new nn]]},{provide:Of,useValue:r||{}},{provide:Zc,useFactory:Nf,deps:[Bc,[new en(Jc),new tn],Of]},{provide:Pf,useFactory:If,deps:[wf,wu,Of]},{provide:Cf,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Af},{provide:Sc,multi:!0,useFactory:jf},[Uf,{provide:Ul,multi:!0,useFactory:Bf,deps:[Uf]},{provide:Hf,useFactory:Vf,deps:[Uf]},{provide:Xl,multi:!0,useExisting:Hf}]]}}static forChild(t){return{ngModule:e,providers:[Ff(t)]}}}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)(pn(Rf,8),pn(wf,8))}}),e})();function If(e,t,r){return r.scrollOffset&&t.setOffset(r.scrollOffset),new Pf(e,t,r)}function Nf(e,t,r={}){return r.useHash?new eu(e,t):new Kc(e,t)}function zf(e){return"guarded"}function Ff(e){return[{provide:Gr,multi:!0,useValue:e},{provide:pf,multi:!0,useValue:e}]}let Uf=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new S}appInitializer(){return this.injector.get(Hc,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),r=this.injector.get(wf),n=this.injector.get(Of);return"disabled"===n.initialNavigation?(r.setUpLocationChangeListener(),e(!0)):"enabled"===n.initialNavigation||"enabledBlocking"===n.initialNavigation?(r.hooks.afterPreactivation=()=>this.initNavigation?eh(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),r.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(Of),r=this.injector.get(Lf),n=this.injector.get(Pf),i=this.injector.get(wf),s=this.injector.get(Ac);e===s.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||i.initialNavigation(),r.setUpPreloading(),n.init(),i.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return e.\u0275fac=function(t){return new(t||e)(pn(ro))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();function Bf(e){return e.appInitializer.bind(e)}function Vf(e){return e.bootstrapListener.bind(e)}const Hf=new Hr("Router Initializer");var Gf=class{constructor(e,t){this.__id=(new Date).getTime(),this.defOption={fontSize:16},this.divWidth=10,this.divHeight=10,this.domdiv=e,this.divWidth=e.offsetWidth,this.divHeight=e.offsetHeight,this.setOption(t),e.style.fontSize=this.nowOption.fontSize+"px"}setOption(e){void 0===e&&(e={}),this.nowOption=this.deepCopy(this.defOption,e)}deepCopy(e,t){let r=Object.assign({},e);for(let n in t)"object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?void 0!==t[n]&&(r[n]=t[n]):r[n]=this.deepCopy(e[n],t[n]);return r}updateData(e){}dispose(){}reSize(){}},Wf={value:()=>{}};function qf(){for(var e,t=0,r=arguments.length,n={};t<r;++t){if(!(e=arguments[t]+"")||e in n||/[\s.]/.test(e))throw new Error("illegal type: "+e);n[e]=[]}return new Xf(n)}function Xf(e){this._=e}function Yf(e,t){return e.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}function $f(e,t){for(var r,n=0,i=e.length;n<i;++n)if((r=e[n]).name===t)return r.value}function Zf(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=Wf,e=e.slice(0,n).concat(e.slice(n+1));break}return null!=r&&e.push({name:t,value:r}),e}Xf.prototype=qf.prototype={constructor:Xf,on:function(e,t){var r,n=this._,i=Yf(e+"",n),s=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<o;)if(r=(e=i[s]).type)n[r]=Zf(n[r],e.name,t);else if(null==t)for(r in n)n[r]=Zf(n[r],e.name,null);return this}for(;++s<o;)if((r=(e=i[s]).type)&&(r=$f(n[r],e.name)))return r},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Xf(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var r,n,i=new Array(r),s=0;s<r;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=0,r=(n=this._[e]).length;s<r;++s)n[s].value.apply(t,i)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,s=n.length;i<s;++i)n[i].value.apply(t,r)}};var Qf=qf;function Jf(){}var Kf=function(e){return null==e?Jf:function(){return this.querySelector(e)}},em=function(e){return"object"==typeof e&&"length"in e?e:Array.from(e)};function tm(){return[]}var rm=function(e){return null==e?tm:function(){return this.querySelectorAll(e)}},nm=function(e){return function(){return this.matches(e)}};function im(e){return function(t){return t.matches(e)}}var sm=Array.prototype.find;function om(){return this.firstElementChild}var am=Array.prototype.filter;function lm(){return this.children}var cm=function(e){return new Array(e.length)};function um(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}um.prototype={constructor:um,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var hm=function(e){return function(){return e}};function dm(e,t,r,n,i,s){for(var o,a=0,l=t.length,c=s.length;a<c;++a)(o=t[a])?(o.__data__=s[a],n[a]=o):r[a]=new um(e,s[a]);for(;a<l;++a)(o=t[a])&&(i[a]=o)}function pm(e,t,r,n,i,s,o){var a,l,c,u=new Map,h=t.length,d=s.length,p=new Array(h);for(a=0;a<h;++a)(l=t[a])&&(p[a]=c=o.call(l,l.__data__,a,t)+"",u.has(c)?i[a]=l:u.set(c,l));for(a=0;a<d;++a)c=o.call(e,s[a],a,s)+"",(l=u.get(c))?(n[a]=l,l.__data__=s[a],u.delete(c)):r[a]=new um(e,s[a]);for(a=0;a<h;++a)(l=t[a])&&u.get(p[a])===l&&(i[a]=l)}function fm(e){return e.__data__}function mm(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var gm="http://www.w3.org/1999/xhtml",ym={svg:"http://www.w3.org/2000/svg",xhtml:gm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},vm=function(e){var t=e+="",r=t.indexOf(":");return r>=0&&"xmlns"!==(t=e.slice(0,r))&&(e=e.slice(r+1)),ym.hasOwnProperty(t)?{space:ym[t],local:e}:e};function _m(e){return function(){this.removeAttribute(e)}}function bm(e){return function(){this.removeAttributeNS(e.space,e.local)}}function wm(e,t){return function(){this.setAttribute(e,t)}}function xm(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Sm(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttribute(e):this.setAttribute(e,r)}}function Mm(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}var Em=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function Tm(e){return function(){this.style.removeProperty(e)}}function Cm(e,t,r){return function(){this.style.setProperty(e,t,r)}}function Am(e,t,r){return function(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function Lm(e,t){return e.style.getPropertyValue(t)||Em(e).getComputedStyle(e,null).getPropertyValue(t)}function Pm(e){return function(){delete this[e]}}function Om(e,t){return function(){this[e]=t}}function Rm(e,t){return function(){var r=t.apply(this,arguments);null==r?delete this[e]:this[e]=r}}function km(e){return e.trim().split(/^|\s+/)}function jm(e){return e.classList||new Dm(e)}function Dm(e){this._node=e,this._names=km(e.getAttribute("class")||"")}function Im(e,t){for(var r=jm(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function Nm(e,t){for(var r=jm(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function zm(e){return function(){Im(this,e)}}function Fm(e){return function(){Nm(this,e)}}function Um(e,t){return function(){(t.apply(this,arguments)?Im:Nm)(this,e)}}function Bm(){this.textContent=""}function Vm(e){return function(){this.textContent=e}}function Hm(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Gm(){this.innerHTML=""}function Wm(e){return function(){this.innerHTML=e}}function qm(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Xm(){this.nextSibling&&this.parentNode.appendChild(this)}function Ym(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $m(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===gm&&t.documentElement.namespaceURI===gm?t.createElement(e):t.createElementNS(r,e)}}function Zm(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}Dm.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Qm=function(e){var t=vm(e);return(t.local?Zm:$m)(t)};function Jm(){return null}function Km(){var e=this.parentNode;e&&e.removeChild(this)}function eg(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function tg(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function rg(e){return e.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}function ng(e){return function(){var t=this.__on;if(t){for(var r,n=0,i=-1,s=t.length;n<s;++n)r=t[n],e.type&&r.type!==e.type||r.name!==e.name?t[++i]=r:this.removeEventListener(r.type,r.listener,r.options);++i?t.length=i:delete this.__on}}}function ig(e,t,r){return function(){var n,i=this.__on,s=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var o=0,a=i.length;o<a;++o)if((n=i[o]).type===e.type&&n.name===e.name)return this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=s,n.options=r),void(n.value=t);this.addEventListener(e.type,s,r),n={type:e.type,name:e.name,value:t,listener:s,options:r},i?i.push(n):this.__on=[n]}}function sg(e,t,r){var n=Em(e),i=n.CustomEvent;"function"==typeof i?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function og(e,t){return function(){return sg(this,e,t)}}function ag(e,t){return function(){return sg(this,e,t.apply(this,arguments))}}var lg=[null];function cg(e,t){this._groups=e,this._parents=t}function ug(){return new cg([[document.documentElement]],lg)}cg.prototype=ug.prototype={constructor:cg,select:function(e){"function"!=typeof e&&(e=Kf(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s,o,a=t[i],l=a.length,c=n[i]=new Array(l),u=0;u<l;++u)(s=a[u])&&(o=e.call(s,s.__data__,u,a))&&("__data__"in s&&(o.__data__=s.__data__),c[u]=o);return new cg(n,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);return null==t?[]:em(t)}}(e):rm(e);for(var t=this._groups,r=t.length,n=[],i=[],s=0;s<r;++s)for(var o,a=t[s],l=a.length,c=0;c<l;++c)(o=a[c])&&(n.push(e.call(o,o.__data__,c,a)),i.push(o));return new cg(n,i)},selectChild:function(e){return this.select(null==e?om:function(e){return function(){return sm.call(this.children,e)}}("function"==typeof e?e:im(e)))},selectChildren:function(e){return this.selectAll(null==e?lm:function(e){return function(){return am.call(this.children,e)}}("function"==typeof e?e:im(e)))},filter:function(e){"function"!=typeof e&&(e=nm(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s,o=t[i],a=o.length,l=n[i]=[],c=0;c<a;++c)(s=o[c])&&e.call(s,s.__data__,c,o)&&l.push(s);return new cg(n,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,fm);var r=t?pm:dm,n=this._parents,i=this._groups;"function"!=typeof e&&(e=hm(e));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=n[c],h=i[c],d=h.length,p=em(e.call(u,u&&u.__data__,c,n)),f=p.length,m=a[c]=new Array(f),g=o[c]=new Array(f),y=l[c]=new Array(d);r(u,h,m,g,y,p,t);for(var v,_,b=0,w=0;b<f;++b)if(v=m[b]){for(b>=w&&(w=b+1);!(_=g[w])&&++w<f;);v._next=_||null}}return(o=new cg(o,n))._enter=a,o._exit=l,o},enter:function(){return new cg(this._enter||this._groups.map(cm),this._parents)},exit:function(){return new cg(this._exit||this._groups.map(cm),this._parents)},join:function(e,t,r){var n=this.enter(),i=this,s=this.exit();return n="function"==typeof e?e(n):n.append(e+""),null!=t&&(i=t(i)),null==r?s.remove():r(s),n&&i?n.merge(i).order():i},merge:function(e){if(!(e instanceof cg))throw new Error("invalid merge");for(var t=this._groups,r=e._groups,n=t.length,i=Math.min(n,r.length),s=new Array(n),o=0;o<i;++o)for(var a,l=t[o],c=r[o],u=l.length,h=s[o]=new Array(u),d=0;d<u;++d)(a=l[d]||c[d])&&(h[d]=a);for(;o<n;++o)s[o]=t[o];return new cg(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n,i=e[t],s=i.length-1,o=i[s];--s>=0;)(n=i[s])&&(o&&4^n.compareDocumentPosition(o)&&o.parentNode.insertBefore(n,o),o=n);return this},sort:function(e){function t(t,r){return t&&r?e(t.__data__,r.__data__):!t-!r}e||(e=mm);for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s){for(var o,a=r[s],l=a.length,c=i[s]=new Array(l),u=0;u<l;++u)(o=a[u])&&(c[u]=o);c.sort(t)}return new cg(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length;i<s;++i){var o=n[i];if(o)return o}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i,s=t[r],o=0,a=s.length;o<a;++o)(i=s[o])&&e.call(i,i.__data__,o,s);return this},attr:function(e,t){var r=vm(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((null==t?r.local?bm:_m:"function"==typeof t?r.local?Mm:Sm:r.local?xm:wm)(r,t))},style:function(e,t,r){return arguments.length>1?this.each((null==t?Tm:"function"==typeof t?Am:Cm)(e,t,null==r?"":r)):Lm(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Pm:"function"==typeof t?Rm:Om)(e,t)):this.node()[e]},classed:function(e,t){var r=km(e+"");if(arguments.length<2){for(var n=jm(this.node()),i=-1,s=r.length;++i<s;)if(!n.contains(r[i]))return!1;return!0}return this.each(("function"==typeof t?Um:t?zm:Fm)(r,t))},text:function(e){return arguments.length?this.each(null==e?Bm:("function"==typeof e?Hm:Vm)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Gm:("function"==typeof e?qm:Wm)(e)):this.node().innerHTML},raise:function(){return this.each(Xm)},lower:function(){return this.each(Ym)},append:function(e){var t="function"==typeof e?e:Qm(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var r="function"==typeof e?e:Qm(e),n=null==t?Jm:"function"==typeof t?t:Kf(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})},remove:function(){return this.each(Km)},clone:function(e){return this.select(e?tg:eg)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,r){var n,i,s=rg(e+""),o=s.length;if(!(arguments.length<2)){for(a=t?ig:ng,n=0;n<o;++n)this.each(a(s[n],t,r));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(n=0,l=a[c];n<o;++n)if((i=s[n]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?ag:og)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n,i=e[t],s=0,o=i.length;s<o;++s)(n=i[s])&&(yield n)}};var hg=ug,dg=function(e){return"string"==typeof e?new cg([[document.querySelector(e)]],[document.documentElement]):new cg([[e]],lg)},pg=function(e,t,r){e.prototype=t.prototype=r,r.constructor=e};function fg(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function mg(){}var gg=.7,yg=1/gg,vg="\\s*([+-]?\\d+)\\s*",_g="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",bg="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wg=/^#([0-9a-f]{3,8})$/,xg=new RegExp("^rgb\\("+[vg,vg,vg]+"\\)$"),Sg=new RegExp("^rgb\\("+[bg,bg,bg]+"\\)$"),Mg=new RegExp("^rgba\\("+[vg,vg,vg,_g]+"\\)$"),Eg=new RegExp("^rgba\\("+[bg,bg,bg,_g]+"\\)$"),Tg=new RegExp("^hsl\\("+[_g,bg,bg]+"\\)$"),Cg=new RegExp("^hsla\\("+[_g,bg,bg,_g]+"\\)$"),Ag={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Lg(){return this.rgb().formatHex()}function Pg(){return this.rgb().formatRgb()}function Og(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=wg.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?Rg(t):3===r?new Ig(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?kg(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?kg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=xg.exec(e))?new Ig(t[1],t[2],t[3],1):(t=Sg.exec(e))?new Ig(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Mg.exec(e))?kg(t[1],t[2],t[3],t[4]):(t=Eg.exec(e))?kg(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Tg.exec(e))?Ug(t[1],t[2]/100,t[3]/100,1):(t=Cg.exec(e))?Ug(t[1],t[2]/100,t[3]/100,t[4]):Ag.hasOwnProperty(e)?Rg(Ag[e]):"transparent"===e?new Ig(NaN,NaN,NaN,0):null}function Rg(e){return new Ig(e>>16&255,e>>8&255,255&e,1)}function kg(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ig(e,t,r,n)}function jg(e){return e instanceof mg||(e=Og(e)),e?new Ig((e=e.rgb()).r,e.g,e.b,e.opacity):new Ig}function Dg(e,t,r,n){return 1===arguments.length?jg(e):new Ig(e,t,r,null==n?1:n)}function Ig(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function Ng(){return"#"+Fg(this.r)+Fg(this.g)+Fg(this.b)}function zg(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Fg(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Ug(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Vg(e,t,r,n)}function Bg(e){if(e instanceof Vg)return new Vg(e.h,e.s,e.l,e.opacity);if(e instanceof mg||(e=Og(e)),!e)return new Vg;if(e instanceof Vg)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,a=s-i,l=(s+i)/2;return a?(o=t===s?(r-n)/a+6*(r<n):r===s?(n-t)/a+2:(t-r)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Vg(o,a,l,e.opacity)}function Vg(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function Hg(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function Gg(e,t,r,n,i){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*r+(1+3*e+3*s-3*o)*n+o*i)/6}pg(mg,Og,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Lg,formatHex:Lg,formatHsl:function(){return Bg(this).formatHsl()},formatRgb:Pg,toString:Pg}),pg(Ig,Dg,fg(mg,{brighter:function(e){return e=null==e?yg:Math.pow(yg,e),new Ig(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?gg:Math.pow(gg,e),new Ig(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ng,formatHex:Ng,formatRgb:zg,toString:zg})),pg(Vg,function(e,t,r,n){return 1===arguments.length?Bg(e):new Vg(e,t,r,null==n?1:n)},fg(mg,{brighter:function(e){return e=null==e?yg:Math.pow(yg,e),new Vg(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?gg:Math.pow(gg,e),new Vg(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Ig(Hg(e>=240?e-240:e+120,i,n),Hg(e,i,n),Hg(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Wg=e=>()=>e;function qg(e,t){var r=t-e;return r?function(e,t){return function(r){return e+r*t}}(e,r):Wg(isNaN(e)?t:e)}var Xg=function e(t){var r=function(e){return 1==(e=+e)?qg:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):Wg(isNaN(t)?r:t)}}(t);function n(e,t){var n=r((e=Dg(e)).r,(t=Dg(t)).r),i=r(e.g,t.g),s=r(e.b,t.b),o=qg(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=s(t),e.opacity=o(t),e+""}}return n.gamma=e,n}(1);function Yg(e){return function(t){var r,n,i=t.length,s=new Array(i),o=new Array(i),a=new Array(i);for(r=0;r<i;++r)n=Dg(t[r]),s[r]=n.r||0,o[r]=n.g||0,a[r]=n.b||0;return s=e(s),o=e(o),a=e(a),n.opacity=1,function(e){return n.r=s(e),n.g=o(e),n.b=a(e),n+""}}}Yg(function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],s=e[n+1];return Gg((r-n/t)*t,n>0?e[n-1]:2*i-s,i,s,n<t-1?e[n+2]:2*s-i)}}),Yg(function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t);return Gg((r-n/t)*t,e[(n+t-1)%t],e[n%t],e[(n+1)%t],e[(n+2)%t])}});var $g,Zg,Qg=function(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}},Jg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kg=new RegExp(Jg.source,"g"),ey=function(e,t){var r,n,i,s=Jg.lastIndex=Kg.lastIndex=0,o=-1,a=[],l=[];for(e+="",t+="";(r=Jg.exec(e))&&(n=Kg.exec(t));)(i=n.index)>s&&(i=t.slice(s,i),a[o]?a[o]+=i:a[++o]=i),(r=r[0])===(n=n[0])?a[o]?a[o]+=n:a[++o]=n:(a[++o]=null,l.push({i:o,x:Qg(r,n)})),s=Kg.lastIndex;return s<t.length&&(i=t.slice(s),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)a[(r=l[n]).i]=r.x(e);return a.join("")})},ty=0,ry=0,ny=0,iy=0,sy=0,oy=0,ay="object"==typeof performance&&performance.now?performance:Date,ly="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function cy(){return sy||(ly(uy),sy=ay.now()+oy)}function uy(){sy=0}function hy(){this._call=this._time=this._next=null}function dy(e,t,r){var n=new hy;return n.restart(e,t,r),n}function py(){sy=(iy=ay.now())+oy,ty=ry=0;try{!function(){cy(),++ty;for(var e,t=$g;t;)(e=sy-t._time)>=0&&t._call.call(null,e),t=t._next;--ty}()}finally{ty=0,function(){for(var e,t,r=$g,n=1/0;r;)r._call?(n>r._time&&(n=r._time),e=r,r=r._next):(t=r._next,r._next=null,r=e?e._next=t:$g=t);Zg=e,my(n)}(),sy=0}}function fy(){var e=ay.now(),t=e-iy;t>1e3&&(oy-=t,iy=e)}function my(e){ty||(ry&&(ry=clearTimeout(ry)),e-sy>24?(e<1/0&&(ry=setTimeout(py,e-ay.now()-oy)),ny&&(ny=clearInterval(ny))):(ny||(iy=ay.now(),ny=setInterval(fy,1e3)),ty=1,ly(py)))}hy.prototype=dy.prototype={constructor:hy,restart:function(e,t,r){if("function"!=typeof e)throw new TypeError("callback is not a function");r=(null==r?cy():+r)+(null==t?0:+t),this._next||Zg===this||(Zg?Zg._next=this:$g=this,Zg=this),this._call=e,this._time=r,my()},stop:function(){this._call&&(this._call=null,this._time=1/0,my())}};var gy=function(e,t,r){var n=new hy;return n.restart(r=>{n.stop(),e(r+t)},t=null==t?0:+t,r),n},yy=Qf("start","end","cancel","interrupt"),vy=[],_y=function(e,t,r,n,i,s){var o=e.__transition;if(o){if(r in o)return}else e.__transition={};!function(e,t,r){var n,i=e.__transition;function s(l){var c,u,h,d;if(1!==r.state)return a();for(c in i)if((d=i[c]).name===r.name){if(3===d.state)return gy(s);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[c]):+c<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[c])}if(gy(function(){3===r.state&&(r.state=4,r.timer.restart(o,r.delay,r.time),o(l))}),r.state=2,r.on.call("start",e,e.__data__,r.index,r.group),2===r.state){for(r.state=3,n=new Array(h=r.tween.length),c=0,u=-1;c<h;++c)(d=r.tween[c].value.call(e,e.__data__,r.index,r.group))&&(n[++u]=d);n.length=u+1}}function o(t){for(var i=t<r.duration?r.ease.call(null,t/r.duration):(r.timer.restart(a),r.state=5,1),s=-1,o=n.length;++s<o;)n[s].call(e,i);5===r.state&&(r.on.call("end",e,e.__data__,r.index,r.group),a())}function a(){for(var n in r.state=6,r.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=r,r.timer=dy(function(e){r.state=1,r.timer.restart(s,r.delay,r.time),r.delay<=e&&s(e-r.delay)},0,r.time)}(e,r,{name:t,index:n,group:i,on:yy,tween:vy,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})};function by(e,t){var r=xy(e,t);if(r.state>0)throw new Error("too late; already scheduled");return r}function wy(e,t){var r=xy(e,t);if(r.state>3)throw new Error("too late; already running");return r}function xy(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}var Sy,My=180/Math.PI,Ey={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Ty=function(e,t,r,n,i,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(a=Math.sqrt(r*r+n*n))&&(r/=a,n/=a,l/=a),e*n<t*r&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*My,skewX:Math.atan(l)*My,scaleX:o,scaleY:a}};function Cy(e,t,r,n){function i(e){return e.length?e.pop()+" ":""}return function(s,o){var a=[],l=[];return s=e(s),o=e(o),function(e,n,i,s,o,a){if(e!==i||n!==s){var l=o.push("translate(",null,t,null,r);a.push({i:l-4,x:Qg(e,i)},{i:l-2,x:Qg(n,s)})}else(i||s)&&o.push("translate("+i+t+s+r)}(s.translateX,s.translateY,o.translateX,o.translateY,a,l),function(e,t,r,s){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),s.push({i:r.push(i(r)+"rotate(",null,n)-2,x:Qg(e,t)})):t&&r.push(i(r)+"rotate("+t+n)}(s.rotate,o.rotate,a,l),function(e,t,r,s){e!==t?s.push({i:r.push(i(r)+"skewX(",null,n)-2,x:Qg(e,t)}):t&&r.push(i(r)+"skewX("+t+n)}(s.skewX,o.skewX,a,l),function(e,t,r,n,s,o){if(e!==r||t!==n){var a=s.push(i(s)+"scale(",null,",",null,")");o.push({i:a-4,x:Qg(e,r)},{i:a-2,x:Qg(t,n)})}else 1===r&&1===n||s.push(i(s)+"scale("+r+","+n+")")}(s.scaleX,s.scaleY,o.scaleX,o.scaleY,a,l),s=o=null,function(e){for(var t,r=-1,n=l.length;++r<n;)a[(t=l[r]).i]=t.x(e);return a.join("")}}}var Ay=Cy(function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ey:Ty(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),Ly=Cy(function(e){return null==e?Ey:(Sy||(Sy=document.createElementNS("http://www.w3.org/2000/svg","g")),Sy.setAttribute("transform",e),(e=Sy.transform.baseVal.consolidate())?Ty((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Ey)},", ",")",")");function Py(e,t){var r,n;return function(){var i=wy(this,e),s=i.tween;if(s!==r)for(var o=0,a=(n=r=s).length;o<a;++o)if(n[o].name===t){(n=n.slice()).splice(o,1);break}i.tween=n}}function Oy(e,t,r){var n,i;if("function"!=typeof r)throw new Error;return function(){var s=wy(this,e),o=s.tween;if(o!==n){i=(n=o).slice();for(var a={name:t,value:r},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function Ry(e,t,r){var n=e._id;return e.each(function(){var e=wy(this,n);(e.value||(e.value={}))[t]=r.apply(this,arguments)}),function(e){return xy(e,n).value[t]}}var ky=function(e,t){var r;return("number"==typeof t?Qg:t instanceof Og?Xg:(r=Og(t))?(t=r,Xg):ey)(e,t)};function jy(e){return function(){this.removeAttribute(e)}}function Dy(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Iy(e,t,r){var n,i,s=r+"";return function(){var o=this.getAttribute(e);return o===s?null:o===n?i:i=t(n=o,r)}}function Ny(e,t,r){var n,i,s=r+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===n?i:i=t(n=o,r)}}function zy(e,t,r){var n,i,s;return function(){var o,a,l=r(this);if(null!=l)return(o=this.getAttribute(e))===(a=l+"")?null:o===n&&a===i?s:(i=a,s=t(n=o,l));this.removeAttribute(e)}}function Fy(e,t,r){var n,i,s;return function(){var o,a,l=r(this);if(null!=l)return(o=this.getAttributeNS(e.space,e.local))===(a=l+"")?null:o===n&&a===i?s:(i=a,s=t(n=o,l));this.removeAttributeNS(e.space,e.local)}}function Uy(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function By(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Vy(e,t){var r,n;function i(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&By(e,i)),r}return i._value=t,i}function Hy(e,t){var r,n;function i(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&Uy(e,i)),r}return i._value=t,i}function Gy(e,t){return function(){by(this,e).delay=+t.apply(this,arguments)}}function Wy(e,t){return t=+t,function(){by(this,e).delay=t}}function qy(e,t){return function(){wy(this,e).duration=+t.apply(this,arguments)}}function Xy(e,t){return t=+t,function(){wy(this,e).duration=t}}function Yy(e,t){if("function"!=typeof t)throw new Error;return function(){wy(this,e).ease=t}}function $y(e,t,r){var n,i,s=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?by:wy;return function(){var o=s(this,e),a=o.on;a!==n&&(i=(n=a).copy()).on(t,r),o.on=i}}var Zy=hg.prototype.constructor;function Qy(e){return function(){this.style.removeProperty(e)}}function Jy(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function Ky(e,t,r){var n,i;function s(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&Jy(e,s,r)),n}return s._value=t,s}function ev(e){return function(t){this.textContent=e.call(this,t)}}function tv(e){var t,r;function n(){var n=e.apply(this,arguments);return n!==r&&(t=(r=n)&&ev(n)),t}return n._value=e,n}var rv=0;function nv(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function iv(){return++rv}var sv=hg.prototype;nv.prototype=(function(e){return hg().transition(e)}).prototype={constructor:nv,select:function(e){var t=this._name,r=this._id;"function"!=typeof e&&(e=Kf(e));for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o)for(var a,l,c=n[o],u=c.length,h=s[o]=new Array(u),d=0;d<u;++d)(a=c[d])&&(l=e.call(a,a.__data__,d,c))&&("__data__"in a&&(l.__data__=a.__data__),h[d]=l,_y(h[d],t,r,d,h,xy(a,r)));return new nv(s,this._parents,t,r)},selectAll:function(e){var t=this._name,r=this._id;"function"!=typeof e&&(e=rm(e));for(var n=this._groups,i=n.length,s=[],o=[],a=0;a<i;++a)for(var l,c=n[a],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,p=e.call(l,l.__data__,h,c),f=xy(l,r),m=0,g=p.length;m<g;++m)(d=p[m])&&_y(d,t,r,m,p,f);s.push(p),o.push(l)}return new nv(s,o,t,r)},filter:function(e){"function"!=typeof e&&(e=nm(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s,o=t[i],a=o.length,l=n[i]=[],c=0;c<a;++c)(s=o[c])&&e.call(s,s.__data__,c,o)&&l.push(s);return new nv(n,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=Math.min(n,r.length),s=new Array(n),o=0;o<i;++o)for(var a,l=t[o],c=r[o],u=l.length,h=s[o]=new Array(u),d=0;d<u;++d)(a=l[d]||c[d])&&(h[d]=a);for(;o<n;++o)s[o]=t[o];return new nv(s,this._parents,this._name,this._id)},selection:function(){return new Zy(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,r=iv(),n=this._groups,i=n.length,s=0;s<i;++s)for(var o,a=n[s],l=a.length,c=0;c<l;++c)if(o=a[c]){var u=xy(o,t);_y(o,e,r,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new nv(n,this._parents,e,r)},call:sv.call,nodes:sv.nodes,node:sv.node,size:sv.size,empty:sv.empty,each:sv.each,on:function(e,t){var r=this._id;return arguments.length<2?xy(this.node(),r).on.on(e):this.each($y(r,e,t))},attr:function(e,t){var r=vm(e),n="transform"===r?Ly:ky;return this.attrTween(e,"function"==typeof t?(r.local?Fy:zy)(r,n,Ry(this,"attr."+e,t)):null==t?(r.local?Dy:jy)(r):(r.local?Ny:Iy)(r,n,t))},attrTween:function(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;var n=vm(e);return this.tween(r,(n.local?Vy:Hy)(n,t))},style:function(e,t,r){var n="transform"==(e+="")?Ay:ky;return null==t?this.styleTween(e,function(e,t){var r,n,i;return function(){var s=Lm(this,e),o=(this.style.removeProperty(e),Lm(this,e));return s===o?null:s===r&&o===n?i:i=t(r=s,n=o)}}(e,n)).on("end.style."+e,Qy(e)):"function"==typeof t?this.styleTween(e,function(e,t,r){var n,i,s;return function(){var o=Lm(this,e),a=r(this),l=a+"";return null==a&&(this.style.removeProperty(e),l=a=Lm(this,e)),o===l?null:o===n&&l===i?s:(i=l,s=t(n=o,a))}}(e,n,Ry(this,"style."+e,t))).each(function(e,t){var r,n,i,s,o="style."+t,a="end."+o;return function(){var l=wy(this,e),c=l.on,u=null==l.value[o]?s||(s=Qy(t)):void 0;c===r&&i===u||(n=(r=c).copy()).on(a,i=u),l.on=n}}(this._id,e)):this.styleTween(e,function(e,t,r){var n,i,s=r+"";return function(){var o=Lm(this,e);return o===s?null:o===n?i:i=t(n=o,r)}}(e,n,t),r).on("end.style."+e,null)},styleTween:function(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,Ky(e,t,null==r?"":r))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Ry(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,tv(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n,i=xy(this.node(),r).tween,s=0,o=i.length;s<o;++s)if((n=i[s]).name===e)return n.value;return null}return this.each((null==t?Py:Oy)(r,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Gy:Wy)(t,e)):xy(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?qy:Xy)(t,e)):xy(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(Yy(t,e)):xy(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var r=t.apply(this,arguments);if("function"!=typeof r)throw new Error;wy(this,e).ease=r}}(this._id,e))},end:function(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(s,o){var a={value:o},l={value:function(){0==--i&&s()}};r.each(function(){var r=wy(this,n),i=r.on;i!==e&&((t=(e=i).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),r.on=t}),0===i&&s()})},[Symbol.iterator]:sv[Symbol.iterator]};var ov={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function av(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function lv(e){return{type:e}}function cv(e){return((e=Math.exp(e))+1/e)/2}function uv(e,t,r){this.k=e,this.x=t,this.y=r}hg.prototype.interrupt=function(e){return this.each(function(){!function(e,t){var r,n,i,s=e.__transition,o=!0;if(s){for(i in t=null==t?null:t+"",s)(r=s[i]).name===t?(n=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(n?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete s[i]):o=!1;o&&delete e.__transition}}(this,e)})},hg.prototype.transition=function(e){var t,r;e instanceof nv?(t=e._id,e=e._name):(t=iv(),(r=ov).time=cy(),e=null==e?null:e+"");for(var n=this._groups,i=n.length,s=0;s<i;++s)for(var o,a=n[s],l=a.length,c=0;c<l;++c)(o=a[c])&&_y(o,e,t,c,a,r||av(o,t));return new nv(n,this._parents,e,t)},Math,["w","e"].map(lv),["n","s"].map(lv),["n","w","e","s","nw","ne","sw","se"].map(lv),function e(t,r,n){function i(e,i){var s,o,a=e[0],l=e[1],c=e[2],u=i[2],h=i[0]-a,d=i[1]-l,p=h*h+d*d;if(p<1e-12)o=Math.log(u/c)/t,s=function(e){return[a+e*h,l+e*d,c*Math.exp(t*e*o)]};else{var f=Math.sqrt(p),m=(u*u-c*c+n*p)/(2*c*r*f),g=(u*u-c*c-n*p)/(2*u*r*f),y=Math.log(Math.sqrt(m*m+1)-m),v=Math.log(Math.sqrt(g*g+1)-g);o=(v-y)/t,s=function(e){var n,i=e*o,s=cv(y),u=c/(r*f)*(s*(n=t*i+y,((n=Math.exp(2*n))-1)/(n+1))-function(e){return((e=Math.exp(e))-1/e)/2}(y));return[a+u*h,l+u*d,c*s/cv(t*i+y)]}}return s.duration=1e3*o*t/Math.SQRT2,s}return i.rho=function(t){var r=Math.max(.001,+t),n=r*r;return e(r,n,n*n)},i}(Math.SQRT2,2,4),uv.prototype={constructor:uv,scale:function(e){return 1===e?this:new uv(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new uv(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new uv(1,0,0);class hv extends Gf{constructor(e,t){super(e,t),this.commitwidht=722,this.commitheight=112,this.colors=["#ebedf0","#9be9a8","#40c463","#30a14e","#216e39"],this.month=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.week=["Mon","Wed","Fri"],this.svg=dg(e).append("svg").attr("width",this.divWidth).attr("height",this.divHeight).style("position","absolute"),this.commitG=this.svg.append("g").attr("class","commitG").attr("transform","translate("+this.divWidth/2+",160)"),this.infoG=this.svg.append("g").attr("class","infoG").attr("transform","translate("+this.divWidth/2+",160)");let{boxw:r,boxh:n}=this.drawRects(5);this.drawIonf(r,n)}updateData(e){this.drawRects(e)}drawRects(e){let t=[];for(let s=0;s<376;s++){let r=Math.round(4*Math.random());e<10*Math.random()&&(r=0),t.push(r)}let r=this.commitG.selectAll("g").filter(".rects").data([1]).join("g").attr("class","rects");r.selectAll("rect").data(t).join("rect").attr("width",10).attr("height",10).attr("x",(e,t)=>13*Math.floor(t/7)).attr("y",(e,t)=>13*Math.floor(t%7)).attr("rx",2).attr("ry",2).attr("fill",e=>this.colors[e]).attr("stroke","#1b1f230f").attr("stroke-width",1).attr("opacity",(e,t)=>t<3?0:1);let n=10,i=10;return r.each(function(){let e=this.getBBox();n=e.width,i=e.height,dg(this).attr("transform","translate("+-n/2+","+-i/2+")")}),{boxw:n,boxh:i}}drawIonf(e,t){let r=e+70,n=t+80;this.infoG.append("rect").attr("width",r).attr("height",n).attr("x",-r/2-10).attr("y",-n/2).attr("rx",8).attr("ry",8).attr("stroke","#e1e4e8").attr("fill","none").attr("stroke-width",1),this.infoG.append("text").text("Learn how we count contributions.").attr("fill","#586069").attr("font-size","0.75em").attr("x",-e/2).attr("y",t/2+20).attr("font-size","12px"),this.infoG.append("text").text("Less").attr("fill","#586069").attr("font-size","0.75em").attr("x",e/2-150).attr("y",t/2+20).attr("font-size","12px"),this.infoG.append("text").text("More").attr("fill","#586069").attr("font-size","0.75em").attr("x",e/2-50).attr("y",t/2+20).attr("font-size","12px"),this.infoG.selectAll("rect").filter("frect").data(this.colors).join("rect").attr("class","frect").attr("width",10).attr("height",10).attr("x",(t,r)=>e/2-118+13*r).attr("y",t/2+10).attr("rx",2).attr("ry",2).attr("stroke","#1b1f230f").attr("fill",e=>e).attr("stroke-width",1),this.infoG.selectAll("text").filter("month").data(this.month).join("text").attr("class","month").text(e=>e).attr("x",(t,r)=>59*r-e/2).attr("y",-t/2-10).attr("fill","#24292e").attr("font-size","9px"),this.infoG.selectAll("text").filter("week").attr("class","week").data(this.week).join("text").text(e=>e).attr("x",-e/2-30).attr("y",(e,r)=>25*r+22-t/2).attr("fill","#24292e").attr("font-size","9px")}addHelper(){let e=this.svg.append("g").attr("transform","translate("+this.divWidth/2+","+this.divHeight/2+")").attr("opacity",.8);e.append("line").attr("x1",-100).attr("y1",0).attr("x2",100).attr("y2",0).attr("stroke","#666").attr("stroke-width",1),e.append("line").attr("x1",0).attr("y1",-100).attr("x2",0).attr("y2",100).attr("stroke","#666").attr("stroke-width",1)}}function dv(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function pv(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}const fv=new Hr("cdk-dir-doc",{providedIn:"root",factory:function(){return fn(Uc)}});let mv=(()=>{class e{constructor(e){if(this.value="ltr",this.change=new vl,e){const t=e.documentElement?e.documentElement.dir:null,r=(e.body?e.body.dir:null)||t;this.value="ltr"===r||"rtl"===r?r:"ltr"}}ngOnDestroy(){this.change.complete()}}return e.\u0275fac=function(t){return new(t||e)(pn(fv,8))},e.\u0275prov=le({factory:function(){return new e(pn(fv,8))},token:e,providedIn:"root"}),e})(),gv=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)}}),e})();function yv(e,t){return new v(r=>{const n=e.length;if(0===n)return void r.complete();const i=new Array(n);let s=0,o=0;for(let a=0;a<n;a++){const l=I(e[a]);let c=!1;r.add(l.subscribe({next:e=>{c||(c=!0,o++),i[a]=e},error:e=>r.error(e),complete:()=>{s++,s!==n&&c||(o===n&&r.next(t?t.reduce((e,t,r)=>(e[t]=i[r],e),{}):i),r.complete())}}))}})}const vv=new Hr("NgValueAccessor"),_v={provide:vv,useExisting:se(()=>bv),multi:!0};let bv=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(_o(Ma),_o(xa))},e.\u0275dir=We({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&Po("change",function(e){return t.onChange(e.target.checked)})("blur",function(){return t.onTouched()})},features:[ma([_v])]}),e})();const wv={provide:vv,useExisting:se(()=>Sv),multi:!0},xv=new Hr("CompositionEventMode");let Sv=(()=>{class e{constructor(e,t,r){this._renderer=e,this._elementRef=t,this._compositionMode=r,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=Fc()?Fc().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(_o(Ma),_o(xa),_o(xv,8))},e.\u0275dir=We({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&Po("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[ma([wv])]}),e})();function Mv(e){return null==e||0===e.length}function Ev(e){return null!=e&&"number"==typeof e.length}const Tv=new Hr("NgValidators"),Cv=new Hr("NgAsyncValidators"),Av=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Lv{static min(e){return t=>{if(Mv(t.value)||Mv(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(Mv(t.value)||Mv(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r>e?{max:{max:e,actual:t.value}}:null}}static required(e){return Mv(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return Mv(e.value)||Av.test(e.value)?null:{email:!0}}static minLength(e){return t=>Mv(t.value)||!Ev(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}static maxLength(e){return t=>Ev(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}static pattern(e){if(!e)return Lv.nullValidator;let t,r;return"string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),t=new RegExp(r)):(r=e.toString(),t=e),e=>{if(Mv(e.value))return null;const n=e.value;return t.test(n)?null:{pattern:{requiredPattern:r,actualValue:n}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(Pv);return 0==t.length?null:function(e){return Rv(kv(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(Pv);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if(l(t))return yv(t,null);if(c(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return yv(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return yv(e=1===e.length&&l(e[0])?e[0]:e,null).pipe(T(e=>t(...e)))}return yv(e,null)}(kv(e,t).map(Ov)).pipe(T(Rv))}}}function Pv(e){return null!=e}function Ov(e){const t=Ao(e)?I(e):e;return Lo(t),t}function Rv(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function kv(e,t){return t.map(t=>t(e))}function jv(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function Dv(e){return null!=e?Lv.compose(jv(e)):null}function Iv(e){return null!=e?Lv.composeAsync(jv(e)):null}function Nv(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}let zv=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Dv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Iv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=We({type:e}),e})(),Fv=(()=>{class e extends zv{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(t){return Uv(t||e)},e.\u0275dir=We({type:e,features:[io]}),e})();const Uv=Fr(Fv);class Bv extends zv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Vv=(()=>{class e extends class{constructor(e){this._cd=e}get ngClassUntouched(){var e,t,r;return null!==(r=null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t?void 0:t.untouched)&&void 0!==r&&r}get ngClassTouched(){var e,t,r;return null!==(r=null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t?void 0:t.touched)&&void 0!==r&&r}get ngClassPristine(){var e,t,r;return null!==(r=null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t?void 0:t.pristine)&&void 0!==r&&r}get ngClassDirty(){var e,t,r;return null!==(r=null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t?void 0:t.dirty)&&void 0!==r&&r}get ngClassValid(){var e,t,r;return null!==(r=null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t?void 0:t.valid)&&void 0!==r&&r}get ngClassInvalid(){var e,t,r;return null!==(r=null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t?void 0:t.invalid)&&void 0!==r&&r}get ngClassPending(){var e,t,r;return null!==(r=null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t?void 0:t.pending)&&void 0!==r&&r}}{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(_o(Bv,2))},e.\u0275dir=We({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&Vo("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[io]}),e})();const Hv={provide:vv,useExisting:se(()=>Gv),multi:!0};let Gv=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(_o(Ma),_o(xa))},e.\u0275dir=We({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&Po("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[ma([Hv])]}),e})();const Wv={provide:vv,useExisting:se(()=>Xv),multi:!0};let qv=(()=>{class e{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),Xv=(()=>{class e{constructor(e,t,r,n){this._renderer=e,this._elementRef=t,this._registry=r,this._injector=n,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Bv),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return e.\u0275fac=function(t){return new(t||e)(_o(Ma),_o(xa),_o(qv),_o(ro))},e.\u0275dir=We({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&Po("change",function(){return t.onChange()})("blur",function(){return t.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ma([Wv])]}),e})();const Yv={provide:vv,useExisting:se(()=>$v),multi:!0};let $v=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(_o(Ma),_o(xa))},e.\u0275dir=We({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&Po("change",function(e){return t.onChange(e.target.value)})("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[ma([Yv])]}),e})();const Zv={provide:vv,useExisting:se(()=>Qv),multi:!0};let Qv=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const r=function(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",r)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}return e.\u0275fac=function(t){return new(t||e)(_o(Ma),_o(xa))},e.\u0275dir=We({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&Po("change",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[ma([Zv])]}),e})();const Jv={provide:vv,useExisting:se(()=>Kv),multi:!0};let Kv=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const r=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(r.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const r=[];if(void 0!==t.selectedOptions){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const n=e.item(t),i=this._getOptionValue(n.value);r.push(i)}}else{const e=t.options;for(let t=0;t<e.length;t++){const n=e.item(t);if(n.selected){const e=this._getOptionValue(n.value);r.push(e)}}}this.value=r,e(r)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}return e.\u0275fac=function(t){return new(t||e)(_o(Ma),_o(xa))},e.\u0275dir=We({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&Po("change",function(e){return t.onChange(e.target)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[ma([Jv])]}),e})();function e_(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function t_(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}const r_=[bv,$v,Gv,Qv,Kv,Xv];function n_(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const i_="VALID",s_="INVALID",o_="PENDING",a_="DISABLED";function l_(e){return(d_(e)?e.validators:e)||null}function c_(e){return Array.isArray(e)?Dv(e):e||null}function u_(e,t){return(d_(t)?t.asyncValidators:e)||null}function h_(e){return Array.isArray(e)?Iv(e):e||null}function d_(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class p_{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=c_(this._rawValidators),this._composedAsyncValidatorFn=h_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===i_}get invalid(){return this.status===s_}get pending(){return this.status==o_}get disabled(){return this.status===a_}get enabled(){return this.status!==a_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=c_(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=h_(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=o_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=a_,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=i_,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==i_&&this.status!==o_||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?a_:i_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=o_,this._hasOwnPendingAsyncValidator=!0;const t=Ov(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,r){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let n=e;return t.forEach(e=>{n=n instanceof m_?n.controls.hasOwnProperty(e)?n.controls[e]:null:n instanceof g_&&n.at(e)||null}),n}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new vl,this.statusChanges=new vl}_calculateStatus(){return this._allControlsDisabled()?a_:this.errors?s_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(o_)?o_:this._anyControlsHaveStatus(s_)?s_:i_}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){d_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class f_ extends p_{constructor(e=null,t,r){super(l_(t),u_(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!r})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){n_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){n_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class m_ extends p_{constructor(e,t,r){super(l_(t),u_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!r})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((r,n)=>{r.reset(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof f_?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((e,n)=>{r=t(r,e,n)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class g_ extends p_{constructor(e,t,r){super(l_(t),u_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!r})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,r)=>{this._throwIfControlMissing(r),this.at(r).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,r)=>{this.at(r)&&this.at(r).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((r,n)=>{r.reset(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof f_?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const y_={provide:Bv,useExisting:se(()=>__)},v_=(()=>Promise.resolve(null))();let __=(()=>{class e extends Bv{constructor(e,t,r,n){super(),this.control=new f_,this._registered=!1,this.update=new vl,this._parent=e,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t);let r=void 0,n=void 0,i=void 0;return t.forEach(e=>{var t;e.constructor===Sv?r=e:(t=e,r_.some(e=>t.constructor===e)?n=e:i=e)}),i||n||r||null}(0,n)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;const r=e.model;return!!r.isFirstChange()||!Object.is(t,r.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(e,t){return[...t.path,e]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var e,t;(function(e,t,r){const n=function(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(Nv(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const i=function(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(Nv(i,t.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);{const r=()=>e.updateValueAndValidity();e_(t._rawValidators,r),e_(t._rawAsyncValidators,r)}})(e=this.control,t=this),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&t_(e,t)})}(e,t),function(e,t){const r=(e,r)=>{t.valueAccessor.writeValue(e),r&&t.viewToModelUpdate(e)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&t_(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const r=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}(e,t),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){v_.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,r=""===t||t&&"false"!==t;v_.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(_o(Fv,9),_o(Tv,10),_o(Cv,10),_o(vv,10))},e.\u0275dir=We({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ma([y_]),io,lt]}),e})(),b_=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)}}),e})(),w_=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},providers:[qv],imports:[b_]}),e})();function x_(e){return null!=e&&""+e!="false"}function S_(e){return Array.isArray(e)?e:[e]}function M_(e){return null==e?"":"string"==typeof e?e:e+"px"}function E_(e){return e instanceof xa?e.nativeElement:e}const T_={},C_="[NG-ZORRO]:";function A_(e,...t){wc()&&function(...e){const t=e.reduce((e,t)=>e+t.toString(),"");return!T_[t]&&(T_[t]=!0,!0)}(...t)&&e(...t)}const L_=(...e)=>A_((...e)=>console.warn(C_,...e),...e);function P_(e){return null!=e}function O_(e){return x_(e)}function R_(){return e=O_,function(t,r,n){const i="$$__"+r;return Object.prototype.hasOwnProperty.call(t,i)&&L_(`The prop "${i}" is already exist, it will be overrided by InputBoolean decorator.`),Object.defineProperty(t,i,{configurable:!0,writable:!0}),{get(){return n&&n.get?n.get.bind(this)():this[i]},set(t){n&&n.set&&n.set.bind(this)(e(t)),this[i]=e(t)}}};var e}function k_(e){return t=>t.lift(new j_(e))}"undefined"!=typeof window&&window;class j_{constructor(e){this.notifier=e}call(e,t){const r=new D_(e),n=F(this.notifier,new N(r));return n&&!r.seenValue?(r.add(n),t.subscribe(r)):r}}class D_ extends z{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let I_;try{I_="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(NI){I_=!1}let N_,z_,F_,U_=(()=>{class e{constructor(e){this._platformId=e,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!I_)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(pn(ql))},e.\u0275prov=le({factory:function(){return new e(pn(ql))},token:e,providedIn:"root"}),e})(),B_=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)}}),e})();function V_(e){return function(){if(null==N_&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>N_=!0}))}finally{N_=N_||!1}return N_}()?e:!!e.capture}function H_(){if(null==z_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return z_=!1,z_;if("scrollBehavior"in document.documentElement.style)z_=!0;else{const e=Element.prototype.scrollTo;z_=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return z_}function G_(e,t){(function(e){return"string"==typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var r=function(e){return"string"==typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function W_(e){return Math.min(1,Math.max(0,e))}function q_(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function X_(e){return e<=1?100*Number(e)+"%":e}function Y_(e){return 1===e.length?"0"+e:String(e)}function $_(e,t,r){e=G_(e,255),t=G_(t,255),r=G_(r,255);var n=Math.max(e,t,r),i=Math.min(e,t,r),s=0,o=0,a=(n+i)/2;if(n===i)o=0,s=0;else{var l=n-i;switch(o=a>.5?l/(2-n-i):l/(n+i),n){case e:s=(t-r)/l+(t<r?6:0);break;case t:s=(r-e)/l+2;break;case r:s=(e-t)/l+4}s/=6}return{h:s,s:o,l:a}}function Z_(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*r*(t-e):r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Q_(e,t,r){e=G_(e,255),t=G_(t,255),r=G_(r,255);var n=Math.max(e,t,r),i=Math.min(e,t,r),s=0,o=n,a=n-i,l=0===n?0:a/n;if(n===i)s=0;else{switch(n){case e:s=(t-r)/a+(t<r?6:0);break;case t:s=(r-e)/a+2;break;case r:s=(e-t)/a+4}s/=6}return{h:s,s:l,v:o}}function J_(e,t,r,n){var i=[Y_(Math.round(e).toString(16)),Y_(Math.round(t).toString(16)),Y_(Math.round(r).toString(16))];return n&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function K_(e){return eb(e)/255}function eb(e){return parseInt(e,16)}var tb={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},rb="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",nb="[\\s|\\(]+("+rb+")[,|\\s]+("+rb+")[,|\\s]+("+rb+")\\s*\\)?",ib="[\\s|\\(]+("+rb+")[,|\\s]+("+rb+")[,|\\s]+("+rb+")[,|\\s]+("+rb+")\\s*\\)?",sb={CSS_UNIT:new RegExp(rb),rgb:new RegExp("rgb"+nb),rgba:new RegExp("rgba"+ib),hsl:new RegExp("hsl"+nb),hsla:new RegExp("hsla"+ib),hsv:new RegExp("hsv"+nb),hsva:new RegExp("hsva"+ib),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function ob(e){return Boolean(sb.CSS_UNIT.exec(String(e)))}var ab=function(){function e(t,r){var n;if(void 0===t&&(t=""),void 0===r&&(r={}),t instanceof e)return t;"number"==typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var i=function(e){var t,r,n={r:0,g:0,b:0},i=1,s=null,o=null,a=null,l=!1,c=!1;return"string"==typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(tb[e])e=tb[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var r=sb.rgb.exec(e);return r?{r:r[1],g:r[2],b:r[3]}:(r=sb.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=sb.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=sb.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=sb.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=sb.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=sb.hex8.exec(e))?{r:eb(r[1]),g:eb(r[2]),b:eb(r[3]),a:K_(r[4]),format:t?"name":"hex8"}:(r=sb.hex6.exec(e))?{r:eb(r[1]),g:eb(r[2]),b:eb(r[3]),format:t?"name":"hex"}:(r=sb.hex4.exec(e))?{r:eb(r[1]+r[1]),g:eb(r[2]+r[2]),b:eb(r[3]+r[3]),a:K_(r[4]+r[4]),format:t?"name":"hex8"}:!!(r=sb.hex3.exec(e))&&{r:eb(r[1]+r[1]),g:eb(r[2]+r[2]),b:eb(r[3]+r[3]),format:t?"name":"hex"}}(e)),"object"==typeof e&&(ob(e.r)&&ob(e.g)&&ob(e.b)?(t=e.g,r=e.b,n={r:255*G_(e.r,255),g:255*G_(t,255),b:255*G_(r,255)},l=!0,c="%"===String(e.r).substr(-1)?"prgb":"rgb"):ob(e.h)&&ob(e.s)&&ob(e.v)?(s=X_(e.s),o=X_(e.v),n=function(e,t,r){e=6*G_(e,360),t=G_(t,100),r=G_(r,100);var n=Math.floor(e),i=e-n,s=r*(1-t),o=r*(1-i*t),a=r*(1-(1-i)*t),l=n%6;return{r:255*[r,o,s,s,a,r][l],g:255*[a,r,r,o,s,s][l],b:255*[s,s,a,r,r,o][l]}}(e.h,s,o),l=!0,c="hsv"):ob(e.h)&&ob(e.s)&&ob(e.l)&&(s=X_(e.s),a=X_(e.l),n=function(e,t,r){var n,i,s;if(e=G_(e,360),t=G_(t,100),r=G_(r,100),0===t)i=r,s=r,n=r;else{var o=r<.5?r*(1+t):r+t-r*t,a=2*r-o;n=Z_(a,o,e+1/3),i=Z_(a,o,e),s=Z_(a,o,e-1/3)}return{r:255*n,g:255*i,b:255*s}}(e.h,s,a),l=!0,c="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(i=e.a)),i=q_(i),{ok:l,format:e.format||c,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:i}}(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(n=r.format)&&void 0!==n?n:i.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,r=e.g/255,n=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=q_(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var e=Q_(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=Q_(this.r,this.g,this.b),t=Math.round(360*e.h),r=Math.round(100*e.s),n=Math.round(100*e.v);return 1===this.a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this.roundA+")"},e.prototype.toHsl=function(){var e=$_(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=$_(this.r,this.g,this.b),t=Math.round(360*e.h),r=Math.round(100*e.s),n=Math.round(100*e.l);return 1===this.a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this.roundA+")"},e.prototype.toHex=function(e){return void 0===e&&(e=!1),J_(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,r,n,i){var s,o=[Y_(Math.round(e).toString(16)),Y_(Math.round(t).toString(16)),Y_(Math.round(r).toString(16)),Y_((s=n,Math.round(255*parseFloat(s)).toString(16)))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),r=Math.round(this.b);return 1===this.a?"rgb("+e+", "+t+", "+r+")":"rgba("+e+", "+t+", "+r+", "+this.roundA+")"},e.prototype.toPercentageRgb=function(){var e=function(e){return Math.round(100*G_(e,255))+"%"};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*G_(e,255))};return 1===this.a?"rgb("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%)":"rgba("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%, "+this.roundA+")"},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+J_(this.r,this.g,this.b,!1),t=0,r=Object.entries(tb);t<r.length;t++){var n=r[t];if(e===n[1])return n[0]}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!=e?e:this.format;var r=!1;return t||!(this.a<1&&this.a>=0)||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var r=this.toHsl();return r.l+=t/100,r.l=W_(r.l),new e(r)},e.prototype.brighten=function(t){void 0===t&&(t=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(-t/100*255))),r.g=Math.max(0,Math.min(255,r.g-Math.round(-t/100*255))),r.b=Math.max(0,Math.min(255,r.b-Math.round(-t/100*255))),new e(r)},e.prototype.darken=function(t){void 0===t&&(t=10);var r=this.toHsl();return r.l-=t/100,r.l=W_(r.l),new e(r)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var r=this.toHsl();return r.s-=t/100,r.s=W_(r.s),new e(r)},e.prototype.saturate=function(t){void 0===t&&(t=10);var r=this.toHsl();return r.s+=t/100,r.s=W_(r.s),new e(r)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var r=this.toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,new e(r)},e.prototype.mix=function(t,r){void 0===r&&(r=50);var n=this.toRgb(),i=new e(t).toRgb(),s=r/100;return new e({r:(i.r-n.r)*s+n.r,g:(i.g-n.g)*s+n.g,b:(i.b-n.b)*s+n.b,a:(i.a-n.a)*s+n.a})},e.prototype.analogous=function(t,r){void 0===t&&(t=6),void 0===r&&(r=30);var n=this.toHsl(),i=360/r,s=[this];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,s.push(new e(n));return s},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var r=this.toHsv(),n=r.h,i=r.s,s=r.v,o=[],a=1/t;t--;)o.push(new e({h:n,s:i,v:s})),s=(s+a)%1;return o},e.prototype.splitcomplement=function(){var t=this.toHsl(),r=t.h;return[this,new e({h:(r+72)%360,s:t.s,l:t.l}),new e({h:(r+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var r=this.toRgb(),n=new e(t).toRgb();return new e({r:n.r+(r.r-n.r)*r.a,g:n.g+(r.g-n.g)*r.a,b:n.b+(r.b-n.b)*r.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var r=this.toHsl(),n=r.h,i=[this],s=360/t,o=1;o<t;o++)i.push(new e({h:(n+o*s)%360,s:r.s,l:r.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}(),lb=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function cb(e,t,r){var n;return(n=Math.round(e.h)>=60&&Math.round(e.h)<=240?r?Math.round(e.h)-2*t:Math.round(e.h)+2*t:r?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?n+=360:n>=360&&(n-=360),n}function ub(e,t,r){return 0===e.h&&0===e.s?e.s:((n=r?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(n=1),r&&5===t&&n>.1&&(n=.1),n<.06&&(n=.06),Number(n.toFixed(2)));var n}function hb(e,t,r){var n;return(n=r?e.v+.05*t:e.v-.15*t)>1&&(n=1),Number(n.toFixed(2))}function db(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],n=new ab(e),i=5;i>0;i-=1){var s=n.toHsv(),o=new ab({h:cb(s,i,!0),s:ub(s,i,!0),v:hb(s,i,!0)}).toHexString();r.push(o)}r.push(n.toHexString());for(var a=1;a<=4;a+=1){var l=n.toHsv(),c=new ab({h:cb(l,a),s:ub(l,a),v:hb(l,a)}).toHexString();r.push(c)}return"dark"===t.theme?lb.map(function(e){var n=e.index,i=e.opacity;return new ab(t.backgroundColor||"#141414").mix(r[n],100*i).toHexString()}):r}var pb={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},fb={},mb={};Object.keys(pb).forEach(function(e){fb[e]=db(pb[e]),fb[e].primary=fb[e][5],mb[e]=db(pb[e],{theme:"dark",backgroundColor:"#141414"}),mb[e].primary=mb[e][5]});class gb{}class yb{}class vb{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const r=e.slice(0,t),n=r.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(r,n),this.headers.has(n)?this.headers.get(n).push(i):this.headers.set(n,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const n=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(n,r),this.maybeSetNormalizedName(t,n))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof vb?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new vb;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof vb?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const n=("a"===e.op?this.headers.get(t):void 0)||[];n.push(...r),this.headers.set(t,n);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===i.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class _b{encodeKey(e){return bb(e)}encodeValue(e){return bb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function bb(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class wb{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new _b,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const r=new Map;return e.length>0&&e.split("&").forEach(e=>{const n=e.indexOf("="),[i,s]=-1==n?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,n)),t.decodeValue(e.slice(n+1))],o=r.get(i)||[];o.push(s),r.set(i,o)}),r}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new wb({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const r=t.indexOf(e.value);-1!==r&&t.splice(r,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function xb(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Sb(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Mb(e){return"undefined"!=typeof FormData&&e instanceof FormData}class Eb{constructor(e,t,r,n){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==r?r:null,i=n):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new vb),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const r=t.indexOf("?");this.urlWithParams=t+(-1===r?"?":r<t.length-1?"&":"")+e}}else this.params=new wb,this.urlWithParams=t}serializeBody(){return null===this.body?null:xb(this.body)||Sb(this.body)||Mb(this.body)||"string"==typeof this.body?this.body:this.body instanceof wb?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Mb(this.body)?null:Sb(this.body)?this.body.type||null:xb(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof wb?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,n=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,o=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,r)=>t.set(r,e.setHeaders[r]),a)),e.setParams&&(l=Object.keys(e.setParams).reduce((t,r)=>t.set(r,e.setParams[r]),l)),new Eb(t,r,i,{params:l,headers:a,reportProgress:o,responseType:n,withCredentials:s})}}var Tb=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({});class Cb{constructor(e,t=200,r="OK"){this.headers=e.headers||new vb,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Ab extends Cb{constructor(e={}){super(e),this.type=Tb.ResponseHeader}clone(e={}){return new Ab({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Lb extends Cb{constructor(e={}){super(e),this.type=Tb.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Lb({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Pb extends Cb{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Ob(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let Rb=(()=>{class e{constructor(e){this.handler=e}request(e,t,r={}){let n;if(e instanceof Eb)n=e;else{let i=void 0;i=r.headers instanceof vb?r.headers:new vb(r.headers);let s=void 0;r.params&&(s=r.params instanceof wb?r.params:new wb({fromObject:r.params})),n=new Eb(e,t,void 0!==r.body?r.body:null,{headers:i,params:s,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const i=eh(n).pipe(Oh(e=>this.handler.handle(e)));if(e instanceof Eb||"events"===r.observe)return i;const s=i.pipe(Eh(e=>e instanceof Lb));switch(r.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return s.pipe(T(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return s.pipe(T(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return s.pipe(T(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return s.pipe(T(e=>e.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new wb).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,r={}){return this.request("PATCH",e,Ob(r,t))}post(e,t,r={}){return this.request("POST",e,Ob(r,t))}put(e,t,r={}){return this.request("PUT",e,Ob(r,t))}}return e.\u0275fac=function(t){return new(t||e)(pn(gb))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();class kb{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const jb=new Hr("HTTP_INTERCEPTORS");let Db=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const Ib=/^\)\]\}',?\n/;class Nb{}let zb=(()=>{class e{constructor(){}build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),Fb=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new v(t=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((e,t)=>r.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&r.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();r.responseType="json"!==t?t:"text"}const n=e.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const t=1223===r.status?204:r.status,n=r.statusText||"OK",s=new vb(r.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return i=new Ab({headers:s,status:t,statusText:n,url:o}),i},o=()=>{let{headers:n,status:i,statusText:o,url:a}=s(),l=null;204!==i&&(l=void 0===r.response?r.responseText:r.response),0===i&&(i=l?200:0);let c=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(Ib,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=e,c&&(c=!1,l={error:u,text:l})}}c?(t.next(new Lb({body:l,headers:n,status:i,statusText:o,url:a||void 0})),t.complete()):t.error(new Pb({error:l,headers:n,status:i,statusText:o,url:a||void 0}))},a=e=>{const{url:n}=s(),i=new Pb({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:n||void 0});t.error(i)};let l=!1;const c=n=>{l||(t.next(s()),l=!0);let i={type:Tb.DownloadProgress,loaded:n.loaded};n.lengthComputable&&(i.total=n.total),"text"===e.responseType&&r.responseText&&(i.partialText=r.responseText),t.next(i)},u=e=>{let r={type:Tb.UploadProgress,loaded:e.loaded};e.lengthComputable&&(r.total=e.total),t.next(r)};return r.addEventListener("load",o),r.addEventListener("error",a),e.reportProgress&&(r.addEventListener("progress",c),null!==n&&r.upload&&r.upload.addEventListener("progress",u)),r.send(n),t.next({type:Tb.Sent}),()=>{r.removeEventListener("error",a),r.removeEventListener("load",o),e.reportProgress&&(r.removeEventListener("progress",c),null!==n&&r.upload&&r.upload.removeEventListener("progress",u)),r.readyState!==r.DONE&&r.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(pn(Nb))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const Ub=new Hr("XSRF_COOKIE_NAME"),Bb=new Hr("XSRF_HEADER_NAME");class Vb{}let Hb=(()=>{class e{constructor(e,t,r){this.doc=e,this.platform=t,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=au(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(pn(Uc),pn(ql),pn(Ub))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),Gb=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return t.handle(e);const n=this.tokenService.getToken();return null===n||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,n)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(pn(Vb),pn(Bb))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),Wb=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(jb,[]);this.chain=e.reduceRight((e,t)=>new kb(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(pn(yb),pn(ro))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),qb=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:Gb,useClass:Db}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:Ub,useValue:t.cookieName}:[],t.headerName?{provide:Bb,useValue:t.headerName}:[]]}}}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},providers:[Gb,{provide:jb,useExisting:Gb,multi:!0},{provide:Vb,useClass:Hb},{provide:Ub,useValue:"XSRF-TOKEN"},{provide:Bb,useValue:"X-XSRF-TOKEN"}]}),e})(),Xb=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},providers:[Rb,{provide:gb,useClass:Wb},Fb,{provide:yb,useExisting:Fb},zb,{provide:Nb,useExisting:zb}],imports:[[qb.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})();function Yb(e){wc()&&console.warn(`[@ant-design/icons-angular]: ${e}.`)}function $b(e){return db(e)[0]}function Zb(e,t){switch(t){case"fill":return e+"-fill";case"outline":return e+"-o";case"twotone":return e+"-twotone";case void 0:return e;default:throw new Error(`[@ant-design/icons-angular]:Theme "${t}" is not a recognized theme!`)}}function Qb(e){return"object"==typeof e&&"string"==typeof e.name&&("string"==typeof e.theme||void 0===e.theme)&&"string"==typeof e.icon}function Jb(e){const t=e.split(":");switch(t.length){case 1:return[e,""];case 2:return[t[1],t[0]];default:throw new Error(`[@ant-design/icons-angular]:The icon type ${e} is not valid!`)}}function Kb(){return new Error("[@ant-design/icons-angular]:<svg> tag not found.")}let ew=(()=>{class e{constructor(e,t,r,n){this._rendererFactory=e,this._handler=t,this._document=r,this.sanitizer=n,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new S,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new Rb(this._handler))}set twoToneColor({primaryColor:e,secondaryColor:t}){this._twoToneColorPalette.primaryColor=e,this._twoToneColorPalette.secondaryColor=t||$b(e)}get twoToneColor(){return Object.assign({},this._twoToneColorPalette)}useJsonpLoading(){this._enableJsonpLoading?Yb("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window.__ant_icon_load=e=>{this._jsonpIconLoad$.next(e)})}changeAssetsSource(e){this._assetsUrlRoot=e.endsWith("/")?e:e+"/"}addIcon(...e){e.forEach(e=>{this._svgDefinitions.set(Zb(e.name,e.theme),e)})}addIconLiteral(e,t){const[r,n]=Jb(e);if(!n)throw new Error(`[@ant-design/icons-angular]:Type should have a namespace. Try "namespace:${name}".`);this.addIcon({name:e,icon:t})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(e,t){const r=Qb(e)?e:this._svgDefinitions.get(e)||null;return(r?eh(r):this._loadIconDynamically(e)).pipe(T(r=>{if(!r)throw function(e){return new Error(`[@ant-design/icons-angular]:the icon ${e} does not exist or is not registered.`)}(e);return this._loadSVGFromCacheOrCreateNew(r,t)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(e){if(!this._http&&!this._enableJsonpLoading)return eh((console.error('[@ant-design/icons-angular]: you need to import "HttpClientModule" to use dynamic importing..'),null));let t=this._inProgressFetches.get(e);if(!t){const[r,n]=Jb(e),i=n?{name:e,icon:""}:function(e){const t=e.split("-"),r="o"===(n=t.splice(t.length-1,1)[0])?"outline":n;var n;return{name:t.join("-"),theme:r,icon:""}}(r),s=(n?`${this._assetsUrlRoot}assets/${n}/${r}`:`${this._assetsUrlRoot}assets/${i.theme}/${i.name}`)+(this._enableJsonpLoading?".js":".svg"),o=this.sanitizer.sanitize($n.URL,s);if(!o)throw function(e){return new Error(`[@ant-design/icons-angular]:The url "${e}" is unsafe.`)}(s);t=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(i,o):this._http.get(o,{responseType:"text"}).pipe(T(e=>Object.assign(Object.assign({},i),{icon:e})))).pipe(Gh(e=>this.addIcon(e)),Xh(()=>this._inProgressFetches.delete(e)),Ah(()=>eh(null)),K()),this._inProgressFetches.set(e,t)}return t}_loadIconDynamicallyWithJsonp(e,t){return new v(r=>{const n=this._document.createElement("script"),i=setTimeout(()=>{s(),r.error(new Error("[@ant-design/icons-angular]:Importing timeout error."))},6e3);function s(){n.parentNode.removeChild(n),clearTimeout(i)}n.src=t,this._document.body.appendChild(n),this._jsonpIconLoad$.pipe(Eh(t=>t.name===e.name&&t.theme===e.theme),vh(1)).subscribe(e=>{r.next(e),s()})})}_loadSVGFromCacheOrCreateNew(e,t){let r;const n=t||this._twoToneColorPalette.primaryColor,i=$b(n)||this._twoToneColorPalette.secondaryColor,s="twotone"===e.theme?function(e,t,r,n){return`${Zb(e,t)}-${r}-${n}`}(e.name,e.theme,n,i):void 0===e.theme?e.name:Zb(e.name,e.theme),o=this._svgRenderedDefinitions.get(s);return o?r=o.icon:(r=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(""!==Jb(e.name)[1]?e.icon:e.icon.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')),"twotone"===e.theme,n,i)),this._svgRenderedDefinitions.set(s,Object.assign(Object.assign({},e),{icon:r}))),function(e){return e.cloneNode(!0)}(r)}_createSVGElementFromString(e){const t=this._document.createElement("div");t.innerHTML=e;const r=t.querySelector("svg");if(!r)throw Kb;return r}_setSVGAttribute(e){return this._renderer.setAttribute(e,"width","1em"),this._renderer.setAttribute(e,"height","1em"),e}_colorizeSVGIcon(e,t,r,n){if(t){const t=e.childNodes,i=t.length;for(let e=0;e<i;e++){const i=t[e];"secondaryColor"===i.getAttribute("fill")?this._renderer.setAttribute(i,"fill",n):this._renderer.setAttribute(i,"fill",r)}}return this._renderer.setAttribute(e,"fill","currentColor"),e}}return e.\u0275fac=function(t){return new(t||e)(pn(Sa),pn(yb,8),pn(Uc,8),pn($u))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),tw=(()=>{class e{constructor(e,t,r){this._iconService=e,this._elementRef=t,this._renderer=r}ngOnChanges(e){(e.type||e.theme||e.twoToneColor)&&this._changeIcon()}_changeIcon(){return new Promise(e=>{if(this.type){const t=this._getSelfRenderMeta();this._iconService.getRenderedContent(this._parseIconType(this.type,this.theme),this.twoToneColor).subscribe(r=>{var n,i;n=t,i=this._getSelfRenderMeta(),n.type===i.type&&n.theme===i.theme&&n.twoToneColor===i.twoToneColor?(this._setSVGElement(r),e(r)):e(null)})}else this._clearSVGElement(),e(null)})}_getSelfRenderMeta(){return{type:this.type,theme:this.theme,twoToneColor:this.twoToneColor}}_parseIconType(e,t){if(Qb(e))return e;{const[r,n]=Jb(e);return n?e:function(e){return e.endsWith("-fill")||e.endsWith("-o")||e.endsWith("-twotone")}(r)?(t&&Yb(`'type' ${r} already gets a theme inside so 'theme' ${t} would be ignored`),r):Zb(r,t||this._iconService.defaultTheme)}}_setSVGElement(e){this._clearSVGElement(),this._renderer.appendChild(this._elementRef.nativeElement,e)}_clearSVGElement(){var e;const t=this._elementRef.nativeElement,r=t.childNodes;for(let n=r.length-1;n>=0;n--){const i=r[n];"svg"===(null===(e=i.tagName)||void 0===e?void 0:e.toLowerCase())&&this._renderer.removeChild(t,i)}}}return e.\u0275fac=function(t){return new(t||e)(_o(ew),_o(xa),_o(Ma))},e.\u0275dir=We({type:e,selectors:[["","antIcon",""]],inputs:{type:"type",theme:"theme",twoToneColor:"twoToneColor"},features:[lt]}),e})();function rw(e){return t=>t.lift(new nw(e))}class nw{constructor(e){this.value=e}call(e,t){return t.subscribe(new iw(e,this.value))}}class iw extends f{constructor(e,t){super(e),this.value=t}_next(e){this.destination.next(this.value)}}const sw=new Hr("nz-config"),ow=function(e){return void 0!==e};let aw=(()=>{class e{constructor(e){this.configUpdated$=new S,this.config=e||{}}getConfigForComponent(e){return this.config[e]}getConfigChangeEventForComponent(e){return this.configUpdated$.pipe(Eh(t=>t===e),rw(void 0))}set(e,t){this.config[e]=Object.assign(Object.assign({},this.config[e]),t),this.configUpdated$.next(e)}}return e.\u0275fac=function(t){return new(t||e)(pn(sw,8))},e.\u0275prov=le({factory:function(){return new e(pn(sw,8))},token:e,providedIn:"root"}),e})();const lw={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'},cw=[{name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'},{name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},{name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'},{name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'},{name:"close-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z" /><path d="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"close-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z" /></svg>'},{name:"close",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z" /></svg>'},{name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'},{name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'},{name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'},{name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'},{name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'},{name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'},{name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'},{name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'},{name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'},{name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'},{name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'},{name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'},{name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'},{name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'},{name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'},{name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'},{name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'},{name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'},lw,{name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'},lw,{name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'},{name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'},{name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'},{name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'},{name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'},{name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'}],uw=new Hr("nz_icons"),hw=(new Hr("nz_icon_default_twotone_color"),"#1890ff");let dw=(()=>{class e extends ew{constructor(e,t,r,n,i,s){super(e,n,i,t),this.nzConfigService=r,this.configUpdated$=new S,this.iconfontCache=new Set,this.onConfigChange(),this.addIcon(...cw,...s||[]),this.configDefaultTwotoneColor(),this.configDefaultTheme()}normalizeSvgElement(e){e.getAttribute("viewBox")||this._renderer.setAttribute(e,"viewBox","0 0 1024 1024"),e.getAttribute("width")&&e.getAttribute("height")||(this._renderer.setAttribute(e,"width","1em"),this._renderer.setAttribute(e,"height","1em")),e.getAttribute("fill")||this._renderer.setAttribute(e,"fill","currentColor")}fetchFromIconfont(e){const{scriptUrl:t}=e;if(this._document&&!this.iconfontCache.has(t)){const e=this._renderer.createElement("script");this._renderer.setAttribute(e,"src",t),this._renderer.setAttribute(e,"data-namespace",t.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,e),this.iconfontCache.add(t)}}createIconfontIcon(e){return this._createSVGElementFromString(`<svg><use xlink:href="${e}"></svg>`)}onConfigChange(){this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){const e=this.getConfig();this.defaultTheme=e.nzTheme||"outline"}configDefaultTwotoneColor(){const e=this.getConfig().nzTwotoneColor||hw;let t=hw;e&&(e.startsWith("#")?t=e:L_("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:t}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}}return e.\u0275fac=function(t){return new(t||e)(pn(Sa),pn($u),pn(aw),pn(yb,8),pn(Uc,8),pn(uw,8))},e.\u0275prov=le({factory:function(){return new e(pn(Sa),pn($u),pn(aw),pn(yb,8),pn(Uc,8),pn(uw,8))},token:e,providedIn:"root"}),e})();const pw=new Hr("nz_icons_patch");let fw=(()=>{class e{constructor(e,t){this.extraIcons=e,this.rootIconService=t,this.patched=!1}doPatch(){this.patched||(this.extraIcons.forEach(e=>this.rootIconService.addIcon(e)),this.patched=!0)}}return e.\u0275fac=function(t){return new(t||e)(pn(pw,2),pn(dw))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),mw=(()=>{class e extends tw{constructor(e,t,r,n){super(t,e,r),this.iconService=t,this.renderer=r,this.cacheClassName=null,this.nzRotate=0,this.spin=!1,n&&n.doPatch(),this.el=e.nativeElement}set nzSpin(e){this.spin=e}set nzType(e){this.type=e}set nzTheme(e){this.theme=e}set nzTwotoneColor(e){this.twoToneColor=e}set nzIconfont(e){this.iconfont=e}ngOnChanges(e){const{nzType:t,nzTwotoneColor:r,nzSpin:n,nzTheme:i,nzRotate:s}=e;t||r||n||i?this.changeIcon2():s?this.handleRotate(this.el.firstChild):this._setSVGElement(this.iconService.createIconfontIcon("#"+this.iconfont))}ngOnInit(){this.renderer.setAttribute(this.el,"class",("anticon "+this.el.className).trim())}ngAfterContentChecked(){if(!this.type){const e=this.el.children;let t=e.length;if(!this.type&&e.length)for(;t--;){const r=e[t];"svg"===r.tagName.toLowerCase()&&this.iconService.normalizeSvgElement(r)}}}changeIcon2(){this.setClassName(),this._changeIcon().then(e=>{e&&(this.setSVGData(e),this.handleSpin(e),this.handleRotate(e))})}handleSpin(e){this.spin||"loading"===this.type?this.renderer.addClass(e,"anticon-spin"):this.renderer.removeClass(e,"anticon-spin")}handleRotate(e){this.nzRotate?this.renderer.setAttribute(e,"style",`transform: rotate(${this.nzRotate}deg)`):this.renderer.removeAttribute(e,"style")}setClassName(){this.cacheClassName&&this.renderer.removeClass(this.el,this.cacheClassName),this.cacheClassName="anticon-"+this.type,this.renderer.addClass(this.el,this.cacheClassName)}setSVGData(e){this.renderer.setAttribute(e,"data-icon",this.type),this.renderer.setAttribute(e,"aria-hidden","true")}}return e.\u0275fac=function(t){return new(t||e)(_o(xa),_o(dw),_o(Ma),_o(fw,8))},e.\u0275dir=We({type:e,selectors:[["","nz-icon",""]],hostVars:2,hostBindings:function(e,t){2&e&&Vo("anticon",!0)},inputs:{nzRotate:"nzRotate",nzSpin:"nzSpin",nzType:"nzType",nzTheme:"nzTheme",nzTwotoneColor:"nzTwotoneColor",nzIconfont:"nzIconfont"},exportAs:["nzIcon"],features:[io,lt]}),dv([R_(),pv("design:type",Boolean),pv("design:paramtypes",[Boolean])],e.prototype,"nzSpin",null),e})(),gw=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[{provide:uw,useValue:t}]}}static forChild(t){return{ngModule:e,providers:[fw,{provide:pw,useValue:t}]}}}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},imports:[[B_]]}),e})();class yw extends h{constructor(e,t){super()}schedule(e,t=0){return this}}class vw extends yw{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this}requestAsyncId(e,t,r=0){return setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,n=void 0;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let _w=(()=>{class e{constructor(t,r=e.now){this.SchedulerAction=t,this.now=r}schedule(e,t=0,r){return new this.SchedulerAction(this,e).schedule(r,t)}}return e.now=()=>Date.now(),e})();class bw extends _w{constructor(e,t=_w.now){super(e,()=>bw.delegate&&bw.delegate!==this?bw.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,r){return bw.delegate&&bw.delegate!==this?bw.delegate.schedule(e,t,r):super.schedule(e,t,r)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const ww=new bw(vw);"undefined"!=typeof Element&&Element;const xw=new Hr("cdk-focus-monitor-default-options"),Sw=V_({passive:!0,capture:!0});let Mw=(()=>{class e{constructor(e,t,r,n){this._ngZone=e,this._platform=t,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=e=>{if(!this._lastTouchTarget){const t=function(e){return 0===e.buttons}(e)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(t)}},this._documentTouchstartListener=e=>{!function(e){const t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(e)?(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Ew(e),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)):this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard")},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=e=>{const t=Ew(e),r="focus"===e.type?this._onFocus:this._onBlur;for(let n=t;n;n=n.parentElement)r.call(this,e,n)},this._document=r,this._detectionMode=(null==n?void 0:n.detectionMode)||0}monitor(e,t=!1){const r=E_(e);if(!this._platform.isBrowser||1!==r.nodeType)return eh(null);const n=function(e){if(function(){if(null==F_){const e="undefined"!=typeof document?document.head:null;F_=!(!e||!e.createShadowRoot&&!e.attachShadow)}return F_}()){const t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),i=this._elementInfo.get(r);if(i)return t&&(i.checkChildren=!0),i.subject;const s={checkChildren:t,subject:new S,rootNode:n};return this._elementInfo.set(r,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){const t=E_(e),r=this._elementInfo.get(t);r&&(r.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(r))}focusVia(e,t,r){const n=E_(e);n===this._getDocument().activeElement?this._getClosestElementsInfo(n).forEach(([e,r])=>this._originChanged(e,t,r)):(this._setOriginForCurrentEventQueue(t),"function"==typeof n.focus&&n.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,t,r){r?e.classList.add(t):e.classList.remove(t)}_getFocusOrigin(e){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"}_setClasses(e,t){this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t)}_setOriginForCurrentEventQueue(e){this._ngZone.runOutsideAngular(()=>{this._origin=e,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(e){const t=Ew(e);return this._lastTouchTarget instanceof Node&&t instanceof Node&&(t===this._lastTouchTarget||t.contains(this._lastTouchTarget))}_onFocus(e,t){const r=this._elementInfo.get(t);r&&(r.checkChildren||t===Ew(e))&&this._originChanged(t,this._getFocusOrigin(e),r)}_onBlur(e,t){const r=this._elementInfo.get(t);!r||r.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(r.subject,null))}_emitOrigin(e,t){this._ngZone.run(()=>e.next(t))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const t=e.rootNode,r=this._rootNodeFocusListenerCount.get(t)||0;r||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,Sw),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,Sw)}),this._rootNodeFocusListenerCount.set(t,r+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const e=this._getDocument(),t=this._getWindow();e.addEventListener("keydown",this._documentKeydownListener,Sw),e.addEventListener("mousedown",this._documentMousedownListener,Sw),e.addEventListener("touchstart",this._documentTouchstartListener,Sw),t.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(e){const t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){const e=this._rootNodeFocusListenerCount.get(t);e>1?this._rootNodeFocusListenerCount.set(t,e-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Sw),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Sw),this._rootNodeFocusListenerCount.delete(t))}if(!--this._monitoredElementCount){const e=this._getDocument(),t=this._getWindow();e.removeEventListener("keydown",this._documentKeydownListener,Sw),e.removeEventListener("mousedown",this._documentMousedownListener,Sw),e.removeEventListener("touchstart",this._documentTouchstartListener,Sw),t.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(e,t,r){this._setClasses(e,t),this._emitOrigin(r.subject,t),this._lastFocusOrigin=t}_getClosestElementsInfo(e){const t=[];return this._elementInfo.forEach((r,n)=>{(n===e||r.checkChildren&&n.contains(e))&&t.push([n,r])}),t}}return e.\u0275fac=function(t){return new(t||e)(pn(ac),pn(U_),pn(Uc,8),pn(xw,8))},e.\u0275prov=le({factory:function(){return new e(pn(ac),pn(U_),pn(Uc,8),pn(xw,8))},token:e,providedIn:"root"}),e})();function Ew(e){return e.composedPath?e.composedPath()[0]:e.target}const Tw=["inputElement"];let Cw=(()=>{class e{constructor(e,t,r,n){this.elementRef=e,this.cdr=t,this.focusMonitor=r,this.directionality=n,this.destroy$=new S,this.isFocused=!1,this.disabledUp=!1,this.disabledDown=!1,this.dir="ltr",this.onChange=()=>{},this.onTouched=()=>{},this.nzBlur=new vl,this.nzFocus=new vl,this.nzSize="default",this.nzMin=-1/0,this.nzMax=1/0,this.nzParser=e=>e.trim().replace(/\u3002/g,".").replace(/[^\w\.-]+/g,""),this.nzPrecisionMode="toFixed",this.nzPlaceHolder="",this.nzStep=1,this.nzInputMode="decimal",this.nzId=null,this.nzDisabled=!1,this.nzAutoFocus=!1,this.nzFormatter=e=>e,this.elementRef.nativeElement.classList.add("ant-input-number")}onModelChange(e){this.parsedValue=this.nzParser(e),this.inputElement.nativeElement.value=""+this.parsedValue;const t=this.getCurrentValidValue(this.parsedValue);this.setValue(t)}getCurrentValidValue(e){let t=e;return t=""===t?"":this.isNotCompleteNumber(t)?this.value:""+this.getValidValue(t),this.toNumber(t)}isNotCompleteNumber(e){return isNaN(e)||""===e||null===e||!(!e||e.toString().indexOf(".")!==e.toString().length-1)}getValidValue(e){let t=parseFloat(e);return isNaN(t)?e:(t<this.nzMin&&(t=this.nzMin),t>this.nzMax&&(t=this.nzMax),t)}toNumber(e){if(this.isNotCompleteNumber(e))return e;const t=String(e);if(t.indexOf(".")>=0&&P_(this.nzPrecision)){if("function"==typeof this.nzPrecisionMode)return this.nzPrecisionMode(e,this.nzPrecision);if("cut"===this.nzPrecisionMode){const e=t.split(".");return e[1]=e[1].slice(0,this.nzPrecision),Number(e.join("."))}return Number(Number(e).toFixed(this.nzPrecision))}return Number(e)}getRatio(e){let t=1;return e.metaKey||e.ctrlKey?t=.1:e.shiftKey&&(t=10),t}down(e,t){this.isFocused||this.focus(),this.step("down",e,t)}up(e,t){this.isFocused||this.focus(),this.step("up",e,t)}getPrecision(e){const t=e.toString();if(t.indexOf("e-")>=0)return parseInt(t.slice(t.indexOf("e-")+2),10);let r=0;return t.indexOf(".")>=0&&(r=t.length-t.indexOf(".")-1),r}getMaxPrecision(e,t){if(P_(this.nzPrecision))return this.nzPrecision;const r=this.getPrecision(t),n=this.getPrecision(this.nzStep),i=this.getPrecision(e);return e?Math.max(i,r+n):r+n}getPrecisionFactor(e,t){const r=this.getMaxPrecision(e,t);return Math.pow(10,r)}upStep(e,t){const r=this.getPrecisionFactor(e,t),n=Math.abs(this.getMaxPrecision(e,t));let i;return i="number"==typeof e?((r*e+r*this.nzStep*t)/r).toFixed(n):this.nzMin===-1/0?this.nzStep:this.nzMin,this.toNumber(i)}downStep(e,t){const r=this.getPrecisionFactor(e,t),n=Math.abs(this.getMaxPrecision(e,t));let i;return i="number"==typeof e?((r*e-r*this.nzStep*t)/r).toFixed(n):this.nzMin===-1/0?-this.nzStep:this.nzMin,this.toNumber(i)}step(e,t,r=1){if(this.stop(),t.preventDefault(),this.nzDisabled)return;const n=this.getCurrentValidValue(this.parsedValue)||0;let i=0;"up"===e?i=this.upStep(n,r):"down"===e&&(i=this.downStep(n,r));const s=i>this.nzMax||i<this.nzMin;i>this.nzMax?i=this.nzMax:i<this.nzMin&&(i=this.nzMin),this.setValue(i),this.updateDisplayValue(i),this.isFocused=!0,s||(this.autoStepTimer=setTimeout(()=>{this[e](t,r)},300))}stop(){this.autoStepTimer&&clearTimeout(this.autoStepTimer)}setValue(e){if(""+this.value!=""+e&&this.onChange(e),this.value=e,this.parsedValue=e,this.disabledUp=this.disabledDown=!1,e||0===e){const t=Number(e);t>=this.nzMax&&(this.disabledUp=!0),t<=this.nzMin&&(this.disabledDown=!0)}}updateDisplayValue(e){const t=P_(this.nzFormatter(e))?this.nzFormatter(e):"";this.displayValue=t,this.inputElement.nativeElement.value=""+t}onKeyDown(e){if(38===e.keyCode){const t=this.getRatio(e);this.up(e,t),this.stop()}else if(40===e.keyCode){const t=this.getRatio(e);this.down(e,t),this.stop()}else 13===e.keyCode&&this.updateDisplayValue(this.value)}writeValue(e){this.value=e,this.setValue(e),this.updateDisplayValue(e),this.cdr.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.nzDisabled=e,this.cdr.markForCheck()}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}ngOnInit(){var e;this.focusMonitor.monitor(this.elementRef,!0).subscribe(e=>{e?(this.isFocused=!0,this.nzFocus.emit()):(this.isFocused=!1,this.updateDisplayValue(this.value),this.nzBlur.emit(),Promise.resolve().then(()=>this.onTouched()))}),this.dir=this.directionality.value,null===(e=this.directionality.change)||void 0===e||e.pipe(k_(this.destroy$)).subscribe(e=>{this.dir=e})}ngOnChanges(e){if(e.nzFormatter&&!e.nzFormatter.isFirstChange()){const e=this.getCurrentValidValue(this.parsedValue);this.setValue(e),this.updateDisplayValue(e)}}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(_o(xa),_o(Wa),_o(Mw),_o(mv,8))},e.\u0275cmp=Fe({type:e,selectors:[["nz-input-number"]],viewQuery:function(e,t){if(1&e&&Ol(Tw,!0),2&e){let e;Pl(e=Dl())&&(t.inputElement=e.first)}},hostVars:10,hostBindings:function(e,t){2&e&&Vo("ant-input-number-focused",t.isFocused)("ant-input-number-lg","large"===t.nzSize)("ant-input-number-sm","small"===t.nzSize)("ant-input-number-disabled",t.nzDisabled)("ant-input-number-rtl","rtl"===t.dir)},inputs:{nzSize:"nzSize",nzMin:"nzMin",nzMax:"nzMax",nzParser:"nzParser",nzPrecisionMode:"nzPrecisionMode",nzPlaceHolder:"nzPlaceHolder",nzStep:"nzStep",nzInputMode:"nzInputMode",nzId:"nzId",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus",nzFormatter:"nzFormatter",nzPrecision:"nzPrecision"},outputs:{nzBlur:"nzBlur",nzFocus:"nzFocus"},exportAs:["nzInputNumber"],features:[ma([{provide:vv,useExisting:se(()=>e),multi:!0}]),lt],decls:8,vars:13,consts:[[1,"ant-input-number-handler-wrap"],["unselectable","unselectable",1,"ant-input-number-handler","ant-input-number-handler-up",3,"mousedown","mouseup","mouseleave"],["nz-icon","","nzType","up",1,"ant-input-number-handler-up-inner"],["unselectable","unselectable",1,"ant-input-number-handler","ant-input-number-handler-down",3,"mousedown","mouseup","mouseleave"],["nz-icon","","nzType","down",1,"ant-input-number-handler-down-inner"],[1,"ant-input-number-input-wrap"],["autocomplete","off",1,"ant-input-number-input",3,"disabled","placeholder","ngModel","keydown","keyup","ngModelChange"],["inputElement",""]],template:function(e,t){1&e&&(xo(0,"div",0),xo(1,"span",1),Po("mousedown",function(e){return t.up(e)})("mouseup",function(){return t.stop()})("mouseleave",function(){return t.stop()}),Mo(2,"i",2),So(),xo(3,"span",3),Po("mousedown",function(e){return t.down(e)})("mouseup",function(){return t.stop()})("mouseleave",function(){return t.stop()}),Mo(4,"i",4),So(),So(),xo(5,"div",5),xo(6,"input",6,7),Po("keydown",function(e){return t.onKeyDown(e)})("keyup",function(){return t.stop()})("ngModelChange",function(e){return t.onModelChange(e)}),So(),So()),2&e&&(Gi(1),Vo("ant-input-number-handler-up-disabled",t.disabledUp),Gi(2),Vo("ant-input-number-handler-down-disabled",t.disabledDown),Gi(3),bo("disabled",t.nzDisabled)("placeholder",t.nzPlaceHolder)("ngModel",t.displayValue),mo("id",t.nzId)("autofocus",t.nzAutoFocus?"autofocus":null)("min",t.nzMin)("max",t.nzMax)("step",t.nzStep)("inputmode",t.nzInputMode))},directives:[mw,Sv,Vv,__],encapsulation:2,changeDetection:0}),dv([R_(),pv("design:type",Object)],e.prototype,"nzDisabled",void 0),dv([R_(),pv("design:type",Object)],e.prototype,"nzAutoFocus",void 0),e})(),Aw=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},imports:[[gv,bu,w_,gw]]}),e})(),Lw=(()=>{class e{constructor(e,t){this.elementRef=e,this.renderer=t,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}setHiddenAttribute(){!0===this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden",""):!1===this.hidden||null===this.hidden?this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden"):"string"==typeof this.hidden&&this.renderer.setAttribute(this.elementRef.nativeElement,"hidden",this.hidden)}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}}return e.\u0275fac=function(t){return new(t||e)(_o(xa),_o(Ma))},e.\u0275dir=We({type:e,selectors:[["","nz-button",""],["nz-button-group"],["","nz-icon",""],["","nz-menu-item",""],["","nz-submenu",""],["nz-select-top-control"],["nz-select-placeholder"],["nz-input-group"]],inputs:{hidden:"hidden"},features:[lt]}),e})(),Pw=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},imports:[[B_]]}),e})();class Ow{}const Rw="*";function kw(e,t){return{type:7,name:e,definitions:t,options:{}}}function jw(e,t=null){return{type:4,styles:t,timings:e}}function Dw(e,t=null){return{type:2,steps:e,options:t}}function Iw(e){return{type:6,styles:e,offset:null}}function Nw(e,t,r){return{type:0,name:e,styles:t,options:r}}function zw(e,t,r=null){return{type:1,expr:e,animation:t,options:r}}function Fw(e,t,r=null){return{type:11,selector:e,animation:t,options:r}}function Uw(e,t){return{type:12,timings:e,animation:t}}function Bw(e){Promise.resolve(null).then(e)}class Vw{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Bw(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class Hw{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,n=0;const i=this.players.length;0==i?Bw(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==i&&this._onFinish()}),e.onDestroy(()=>{++r==i&&this._onDestroy()}),e.onStart(()=>{++n==i&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const r=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(r)})}getPosition(){const e=this.players.reduce((e,t)=>null===e||t.totalTime>e.totalTime?t:e,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}function Gw(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ww(e){switch(e.length){case 0:return new Vw;case 1:return e[0];default:return new Hw(e)}}function qw(e,t,r,n,i={},s={}){const o=[],a=[];let l=-1,c=null;if(n.forEach(e=>{const r=e.offset,n=r==l,u=n&&c||{};Object.keys(e).forEach(r=>{let n=r,a=e[r];if("offset"!==r)switch(n=t.normalizePropertyName(n,o),a){case"!":a=i[r];break;case Rw:a=s[r];break;default:a=t.normalizeStyleValue(r,n,a,o)}u[n]=a}),n||a.push(u),c=u,l=r}),o.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${o.join(e)}`)}return a}function Xw(e,t,r,n){switch(t){case"start":e.onStart(()=>n(r&&Yw(r,"start",e)));break;case"done":e.onDone(()=>n(r&&Yw(r,"done",e)));break;case"destroy":e.onDestroy(()=>n(r&&Yw(r,"destroy",e)))}}function Yw(e,t,r){const n=r.totalTime,i=$w(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==n?e.totalTime:n,!!r.disabled),s=e._data;return null!=s&&(i._data=s),i}function $w(e,t,r,n,i="",s=0,o){return{element:e,triggerName:t,fromState:r,toState:n,phaseName:i,totalTime:s,disabled:!!o}}function Zw(e,t,r){let n;return e instanceof Map?(n=e.get(t),n||e.set(t,n=r)):(n=e[t],n||(n=e[t]=r)),n}function Qw(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let Jw=(e,t)=>!1,Kw=(e,t)=>!1,ex=(e,t,r)=>[];const tx=Gw();(tx||"undefined"!=typeof Element)&&(Jw=(e,t)=>e.contains(t),Kw=(()=>{if(tx||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,r)=>t.apply(e,[r]):Kw}})(),ex=(e,t,r)=>{let n=[];if(r){const r=e.querySelectorAll(t);for(let e=0;e<r.length;e++)n.push(r[e])}else{const r=e.querySelector(t);r&&n.push(r)}return n});let rx=null,nx=!1;function ix(e){rx||(rx=("undefined"!=typeof document?document.body:null)||{},nx=!!rx.style&&"WebkitAppearance"in rx.style);let t=!0;return rx.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in rx.style,!t&&nx)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in rx.style),t}const sx=Kw,ox=Jw,ax=ex;function lx(e){const t={};return Object.keys(e).forEach(r=>{const n=r.replace(/([a-z])([A-Z])/g,"$1-$2");t[n]=e[r]}),t}let cx=(()=>{class e{validateStyleProperty(e){return ix(e)}matchesElement(e,t){return sx(e,t)}containsElement(e,t){return ox(e,t)}query(e,t,r){return ax(e,t,r)}computeStyle(e,t,r){return r||""}animate(e,t,r,n,i,s=[],o){return new Vw(r,n)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),ux=(()=>{class e{}return e.NOOP=new cx,e})();const hx="ng-enter",dx="ng-leave",px="ng-trigger",fx=".ng-trigger",mx="ng-animating",gx=".ng-animating";function yx(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:vx(parseFloat(t[1]),t[2])}function vx(e,t){switch(t){case"s":return 1e3*e;default:return e}}function _x(e,t,r){return e.hasOwnProperty("duration")?e:function(e,t,r){let n,i=0,s="";if("string"==typeof e){const r=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===r)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};n=vx(parseFloat(r[1]),r[2]);const o=r[3];null!=o&&(i=vx(parseFloat(o),r[4]));const a=r[5];a&&(s=a)}else n=e;if(!r){let r=!1,s=t.length;n<0&&(t.push("Duration values below 0 are not allowed for this animation step."),r=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),r=!0),r&&t.splice(s,0,`The provided timing value "${e}" is invalid.`)}return{duration:n,delay:i,easing:s}}(e,t,r)}function bx(e,t={}){return Object.keys(e).forEach(r=>{t[r]=e[r]}),t}function wx(e,t,r={}){if(t)for(let n in e)r[n]=e[n];else bx(e,r);return r}function xx(e,t,r){return r?t+":"+r+";":""}function Sx(e){let t="";for(let r=0;r<e.style.length;r++){const n=e.style.item(r);t+=xx(0,n,e.style.getPropertyValue(n))}for(const r in e.style)e.style.hasOwnProperty(r)&&!r.startsWith("_")&&(t+=xx(0,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[r]));e.setAttribute("style",t)}function Mx(e,t,r){e.style&&(Object.keys(t).forEach(n=>{const i=Rx(n);r&&!r.hasOwnProperty(n)&&(r[n]=e.style[i]),e.style[i]=t[n]}),Gw()&&Sx(e))}function Ex(e,t){e.style&&(Object.keys(t).forEach(t=>{const r=Rx(t);e.style[r]=""}),Gw()&&Sx(e))}function Tx(e){return Array.isArray(e)?1==e.length?e[0]:Dw(e):e}const Cx=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ax(e){let t=[];if("string"==typeof e){let r;for(;r=Cx.exec(e);)t.push(r[1]);Cx.lastIndex=0}return t}function Lx(e,t,r){const n=e.toString(),i=n.replace(Cx,(e,n)=>{let i=t[n];return t.hasOwnProperty(n)||(r.push("Please provide a value for the animation param "+n),i=""),i.toString()});return i==n?e:i}function Px(e){const t=[];let r=e.next();for(;!r.done;)t.push(r.value),r=e.next();return t}const Ox=/-+([a-z0-9])/g;function Rx(e){return e.replace(Ox,(...e)=>e[1].toUpperCase())}function kx(e,t){return 0===e||0===t}function jx(e,t,r){const n=Object.keys(r);if(n.length&&t.length){let s=t[0],o=[];if(n.forEach(e=>{s.hasOwnProperty(e)||o.push(e),s[e]=r[e]}),o.length)for(var i=1;i<t.length;i++){let r=t[i];o.forEach(function(t){r[t]=Ix(e,t)})}}return t}function Dx(e,t,r){switch(t.type){case 7:return e.visitTrigger(t,r);case 0:return e.visitState(t,r);case 1:return e.visitTransition(t,r);case 2:return e.visitSequence(t,r);case 3:return e.visitGroup(t,r);case 4:return e.visitAnimate(t,r);case 5:return e.visitKeyframes(t,r);case 6:return e.visitStyle(t,r);case 8:return e.visitReference(t,r);case 9:return e.visitAnimateChild(t,r);case 10:return e.visitAnimateRef(t,r);case 11:return e.visitQuery(t,r);case 12:return e.visitStagger(t,r);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function Ix(e,t){return window.getComputedStyle(e)[t]}const Nx="*";function zx(e,t){const r=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,r){if(":"==e[0]){const n=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,r);if("function"==typeof n)return void t.push(n);e=n}const n=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return r.push(`The provided transition expression "${e}" is not supported`),t;const i=n[1],s=n[2],o=n[3];t.push(Bx(i,o)),"<"!=s[0]||i==Nx&&o==Nx||t.push(Bx(o,i))}(e,r,t)):r.push(e),r}const Fx=new Set(["true","1"]),Ux=new Set(["false","0"]);function Bx(e,t){const r=Fx.has(e)||Ux.has(e),n=Fx.has(t)||Ux.has(t);return(i,s)=>{let o=e==Nx||e==i,a=t==Nx||t==s;return!o&&r&&"boolean"==typeof i&&(o=i?Fx.has(e):Ux.has(e)),!a&&n&&"boolean"==typeof s&&(a=s?Fx.has(t):Ux.has(t)),o&&a}}const Vx=new RegExp("s*:selfs*,?","g");function Hx(e,t,r){return new Gx(e).build(t,r)}class Gx{constructor(e){this._driver=e}build(e,t){const r=new Wx(t);return this._resetContextStyleTimingState(r),Dx(this,Tx(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,n=t.depCount=0;const i=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const r=e,n=r.name;n.toString().split(/\s*,\s*/).forEach(e=>{r.name=e,i.push(this.visitState(r,t))}),r.name=n}else if(1==e.type){const i=this.visitTransition(e,t);r+=i.queryCount,n+=i.depCount,s.push(i)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:i,transitions:s,queryCount:r,depCount:n,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),n=e.options&&e.options.params||null;if(r.containsDynamicStyles){const i=new Set,s=n||{};if(r.styles.forEach(e=>{if(qx(e)){const t=e;Object.keys(t).forEach(e=>{Ax(t[e]).forEach(e=>{s.hasOwnProperty(e)||i.add(e)})})}}),i.size){const r=Px(i.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${r.join(", ")}`)}}return{type:0,name:e.name,style:r,options:n?{params:n}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Dx(this,Tx(e.animation),t);return{type:1,matchers:zx(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Xx(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>Dx(this,e,t)),options:Xx(e.options)}}visitGroup(e,t){const r=t.currentTime;let n=0;const i=e.steps.map(e=>{t.currentTime=r;const i=Dx(this,e,t);return n=Math.max(n,t.currentTime),i});return t.currentTime=n,{type:3,steps:i,options:Xx(e.options)}}visitAnimate(e,t){const r=function(e,t){let r=null;if(e.hasOwnProperty("duration"))r=e;else if("number"==typeof e)return Yx(_x(e,t).duration,0,"");const n=e;if(n.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=Yx(0,0,"");return e.dynamic=!0,e.strValue=n,e}return r=r||_x(n,t),Yx(r.duration,r.delay,r.easing)}(e.timings,t.errors);let n;t.currentAnimateTimings=r;let i=e.styles?e.styles:Iw({});if(5==i.type)n=this.visitKeyframes(i,t);else{let i=e.styles,s=!1;if(!i){s=!0;const e={};r.easing&&(e.easing=r.easing),i=Iw(e)}t.currentTime+=r.duration+r.delay;const o=this.visitStyle(i,t);o.isEmptyStep=s,n=o}return t.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?e==Rw?r.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):r.push(e)}):r.push(e.styles);let n=!1,i=null;return r.forEach(e=>{if(qx(e)){const t=e,r=t.easing;if(r&&(i=r,delete t.easing),!n)for(let e in t)if(t[e].toString().indexOf("{{")>=0){n=!0;break}}}),{type:6,styles:r,easing:i,offset:e.offset,containsDynamicStyles:n,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let n=t.currentTime,i=t.currentTime;r&&i>0&&(i-=r.duration+r.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(r=>{if(!this._driver.validateStyleProperty(r))return void t.errors.push(`The provided animation property "${r}" is not a supported CSS property for animations`);const s=t.collectedStyles[t.currentQuerySelector],o=s[r];let a=!0;o&&(i!=n&&i>=o.startTime&&n<=o.endTime&&(t.errors.push(`The CSS property "${r}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${n}ms"`),a=!1),i=o.startTime),a&&(s[r]={startTime:i,endTime:n}),t.options&&function(e,t,r){const n=t.params||{},i=Ax(e);i.length&&i.forEach(e=>{n.hasOwnProperty(e)||r.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[r],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let n=0;const i=[];let s=!1,o=!1,a=0;const l=e.steps.map(e=>{const r=this._makeStyleAst(e,t);let l=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(qx(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}});else if(qx(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}return t}(r.styles),c=0;return null!=l&&(n++,c=r.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),r});o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");const c=e.steps.length;let u=0;n>0&&n<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==n&&(u=1/(c-1));const h=c-1,d=t.currentTime,p=t.currentAnimateTimings,f=p.duration;return l.forEach((e,n)=>{const s=u>0?n==h?1:u*n:i[n],o=s*f;t.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(e,t),e.offset=s,r.styles.push(e)}),r}visitReference(e,t){return{type:8,animation:Dx(this,Tx(e.animation),t),options:Xx(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Xx(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Xx(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,n=e.options||{};t.queryCount++,t.currentQuery=e;const[i,s]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(Vx,"")),[e=e.replace(/@\*/g,fx).replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,gx),t]}(e.selector);t.currentQuerySelector=r.length?r+" "+i:i,Zw(t.collectedStyles,t.currentQuerySelector,{});const o=Dx(this,Tx(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:i,limit:n.limit||0,optional:!!n.optional,includeSelf:s,animation:o,originalSelector:e.selector,options:Xx(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:_x(e.timings,t.errors,!0);return{type:12,animation:Dx(this,Tx(e.animation),t),timings:r,options:null}}}class Wx{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function qx(e){return!Array.isArray(e)&&"object"==typeof e}function Xx(e){var t;return e?(e=bx(e)).params&&(e.params=(t=e.params)?bx(t):null):e={},e}function Yx(e,t,r){return{duration:e,delay:t,easing:r}}function $x(e,t,r,n,i,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:r,postStyleProps:n,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Zx{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Qx=new RegExp(":enter","g"),Jx=new RegExp(":leave","g");function Kx(e,t,r,n,i,s={},o={},a,l,c=[]){return(new eS).buildKeyframes(e,t,r,n,i,s,o,a,l,c)}class eS{buildKeyframes(e,t,r,n,i,s,o,a,l,c=[]){l=l||new Zx;const u=new rS(e,t,l,n,i,c,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),Dx(this,r,u);const h=u.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(o).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([o],null,u.errors,a)}return h.length?h.map(e=>e.buildKeyframes()):[$x(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const n=t.createSubContext(e.options),i=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,n,n.options);i!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let n=t.currentTimeline.currentTime;const i=null!=r.duration?yx(r.duration):null,s=null!=r.delay?yx(r.delay):null;return 0!==i&&e.forEach(e=>{const r=t.appendInstructionToTimeline(e,i,s);n=Math.max(n,r.duration+r.delay)}),n}visitReference(e,t){t.updateOptions(e.options,!0),Dx(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let n=t;const i=e.options;if(i&&(i.params||i.delay)&&(n=t.createSubContext(i),n.transformIntoNewTimeline(),null!=i.delay)){6==n.previousNode.type&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=tS);const e=yx(i.delay);n.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>Dx(this,e,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>r&&n.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let n=t.currentTimeline.currentTime;const i=e.options&&e.options.delay?yx(e.options.delay):0;e.steps.forEach(s=>{const o=t.createSubContext(e.options);i&&o.delayNextStep(i),Dx(this,s,o),n=Math.max(n,o.currentTimeline.currentTime),r.push(o.currentTimeline)}),r.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(n),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return _x(t.params?Lx(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),n=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),n.snapshotCurrentStyles());const i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(r.duration),this.visitStyle(i,t),n.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,n=t.currentAnimateTimings;!n&&r.getCurrentStyleProperties().length&&r.forwardFrame();const i=n&&n.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(i):r.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,n=t.currentTimeline.duration,i=r.duration,s=t.createSubContext().currentTimeline;s.easing=r.easing,e.styles.forEach(e=>{s.forwardTime((e.offset||0)*i),s.setStyles(e.styles,e.easing,t.errors,t.options),s.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(n+i),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,n=e.options||{},i=n.delay?yx(n.delay):0;i&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=tS);let s=r;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!n.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach((r,n)=>{t.currentQueryIndex=n;const o=t.createSubContext(e.options,r);i&&o.delayNextStep(i),r===t.element&&(a=o.currentTimeline),Dx(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,n=t.currentTimeline,i=e.timings,s=Math.abs(i.duration),o=s*(t.currentQueryTotal-1);let a=s*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=r.currentStaggerTime}const l=t.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;Dx(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=n.currentTime-c+(n.startTime-r.currentTimeline.startTime)}}const tS={};class rS{constructor(e,t,r,n,i,s,o,a){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=n,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=tS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new nS(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let n=this.options;null!=r.duration&&(n.duration=yx(r.duration)),null!=r.delay&&(n.delay=yx(r.delay));const i=r.params;if(i){let e=n.params;e||(e=this.options.params={}),Object.keys(i).forEach(r=>{t&&e.hasOwnProperty(r)||(e[r]=Lx(i[r],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(e=>{r[e]=t[e]})}}return e}createSubContext(e=null,t,r){const n=t||this.element,i=new rS(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,r||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(e){return this.previousNode=tS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const n={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},i=new iS(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,n,e.stretchStartingKeyframe);return this.timelines.push(i),n}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,n,i,s){let o=[];if(n&&o.push(this.element),e.length>0){e=(e=e.replace(Qx,"."+this._enterClassName)).replace(Jx,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=r);0!==r&&(t=r<0?t.slice(t.length+r,t.length):t.slice(0,r)),o.push(...t)}return i||0!=o.length||s.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),o}}class nS{constructor(e,t,r,n){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=n,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new nS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Rw,this._currentKeyframe[e]=Rw}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,n){t&&(this._previousKeyframe.easing=t);const i=n&&n.params||{},s=function(e,t){const r={};let n;return e.forEach(e=>{"*"===e?(n=n||Object.keys(t),n.forEach(e=>{r[e]=Rw})):wx(e,!1,r)}),r}(e,this._globalTimelineStyles);Object.keys(s).forEach(e=>{const t=Lx(s[e],i,r);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:Rw),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],n=e._styleSummary[t];(!r||n.time>r.time)&&this._updateStyle(t,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let n=[];this._keyframes.forEach((i,s)=>{const o=wx(i,!0);Object.keys(o).forEach(r=>{const n=o[r];"!"==n?e.add(r):n==Rw&&t.add(r)}),r||(o.offset=s/this.duration),n.push(o)});const i=e.size?Px(e.values()):[],s=t.size?Px(t.values()):[];if(r){const e=n[0],t=bx(e);e.offset=0,t.offset=1,n=[e,t]}return $x(this.element,n,i,s,this.duration,this.startTime,this.easing,!1)}}class iS extends nS{constructor(e,t,r,n,i,s,o=!1){super(e,t,s.delay),this.element=t,this.keyframes=r,this.preStyleProps=n,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:n}=this.timings;if(this._stretchStartingKeyframe&&t){const i=[],s=r+t,o=t/s,a=wx(e[0],!1);a.offset=0,i.push(a);const l=wx(e[0],!1);l.offset=sS(o),i.push(l);const c=e.length-1;for(let n=1;n<=c;n++){let o=wx(e[n],!1);o.offset=sS((t+o.offset*r)/s),i.push(o)}r=s,t=0,n="",e=i}return $x(this.element,e,this.preStyleProps,this.postStyleProps,r,t,n,!0)}}function sS(e,t=3){const r=Math.pow(10,t-1);return Math.round(e*r)/r}class oS{}class aS extends oS{normalizePropertyName(e,t){return Rx(e)}normalizeStyleValue(e,t,r,n){let i="";const s=r.toString().trim();if(lS[t]&&0!==r&&"0"!==r)if("number"==typeof r)i="px";else{const t=r.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&n.push(`Please provide a CSS unit value for ${e}:${r}`)}return s+i}}const lS=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function cS(e,t,r,n,i,s,o,a,l,c,u,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:r,fromStyles:s,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const uS={};class hS{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,n){return function(e,t,r,n,i){return e.some(e=>e(t,r,n,i))}(this.ast.matchers,e,t,r,n)}buildStyles(e,t,r){const n=this._stateStyles["*"],i=this._stateStyles[e],s=n?n.buildStyles(t,r):{};return i?i.buildStyles(t,r):s}build(e,t,r,n,i,s,o,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||uS,d=this.buildStyles(r,o&&o.params||uS,u),p=a&&a.params||uS,f=this.buildStyles(n,p,u),m=new Set,g=new Map,y=new Map,v="void"===n,_={params:Object.assign(Object.assign({},h),p)},b=c?[]:Kx(e,t,this.ast.animation,i,s,d,f,_,l,u);let w=0;if(b.forEach(e=>{w=Math.max(e.duration+e.delay,w)}),u.length)return cS(t,this._triggerName,r,n,v,d,f,[],[],g,y,w,u);b.forEach(e=>{const r=e.element,n=Zw(g,r,{});e.preStyleProps.forEach(e=>n[e]=!0);const i=Zw(y,r,{});e.postStyleProps.forEach(e=>i[e]=!0),r!==t&&m.add(r)});const x=Px(m.values());return cS(t,this._triggerName,r,n,v,d,f,b,x,g,y,w)}}class dS{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const r={},n=bx(this.defaultParams);return Object.keys(e).forEach(t=>{const r=e[t];null!=r&&(n[t]=r)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const i=e;Object.keys(i).forEach(e=>{let s=i[e];s.length>1&&(s=Lx(s,n,t)),r[e]=s})}}),r}}class pS{constructor(e,t){this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new dS(e.style,e.options&&e.options.params||{})}),fS(this.states,"true","1"),fS(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new hS(e,t,this.states))}),this.fallbackTransition=new hS(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,n){return this.transitionFactories.find(i=>i.match(e,t,r,n))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function fS(e,t,r){e.hasOwnProperty(t)?e.hasOwnProperty(r)||(e[r]=e[t]):e.hasOwnProperty(r)&&(e[t]=e[r])}const mS=new Zx;class gS{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],n=Hx(this._driver,t,r);if(r.length)throw new Error("Unable to build the animation due to the following errors: "+r.join("\n"));this._animations[e]=n}_buildPlayer(e,t,r){const n=e.element,i=qw(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(n,i,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const n=[],i=this._animations[e];let s;const o=new Map;if(i?(s=Kx(this._driver,t,i,hx,dx,{},{},r,mS,n),s.forEach(e=>{const t=Zw(o,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(n.push("The requested animation doesn't exist or has already been destroyed"),s=[]),n.length)throw new Error("Unable to create the animation due to the following errors: "+n.join("\n"));o.forEach((e,t)=>{Object.keys(e).forEach(r=>{e[r]=this._driver.computeStyle(t,r,Rw)})});const a=Ww(s.map(e=>{const t=o.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}listen(e,t,r,n){const i=$w(t,"","","");return Xw(this._getPlayer(e),r,i,n),()=>{}}command(e,t,r,n){if("register"==r)return void this.register(e,n[0]);if("create"==r)return void this.create(e,t,n[0]||{});const i=this._getPlayer(e);switch(r){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(e)}}}const yS="ng-animate-queued",vS="ng-animate-disabled",_S=".ng-animate-disabled",bS=[],wS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xS={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class SS{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=null!=(n=r?e.value:e)?n:null,r){const t=bx(e);delete t.value,this.options=t}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(r=>{null==e[r]&&(e[r]=t[r])})}}}const MS="void",ES=new SS(MS);class TS{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,kS(t,this._hostClassName)}listen(e,t,r,n){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(i=r)&&"done"!=i)throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);var i;const s=Zw(this._elementListeners,e,[]),o={name:t,phase:r,callback:n};s.push(o);const a=Zw(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(kS(e,px),kS(e,"ng-trigger-"+t),a[t]=ES),()=>{this._engine.afterFlush(()=>{const e=s.indexOf(o);e>=0&&s.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,n=!0){const i=this._getTrigger(t),s=new AS(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(kS(e,px),kS(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,o={}));let a=o[t];const l=new SS(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[t]=l,a||(a=ES),l.value!==MS&&a.value===l.value){if(!function(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!=n.length)return!1;for(let i=0;i<r.length;i++){const n=r[i];if(!t.hasOwnProperty(n)||e[n]!==t[n])return!1}return!0}(a.params,l.params)){const t=[],r=i.matchStyles(a.value,a.params,t),n=i.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{Ex(e,r),Mx(e,n)})}return}const c=Zw(this._engine.playersByElement,e,[]);c.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let u=i.matchTransition(a.value,l.value,e,l.params),h=!1;if(!u){if(!n)return;u=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:u,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(kS(e,yS),s.onStart(()=>{jS(e,yS)})),s.onDone(()=>{let t=this.players.indexOf(s);t>=0&&this.players.splice(t,1);const r=this._engine.playersByElement.get(e);if(r){let e=r.indexOf(s);e>=0&&r.splice(e,1)}}),this.players.push(s),c.push(s),s}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,fx,!0);r.forEach(e=>{if(e.__ng_removed)return;const r=this._engine.fetchNamespacesByElement(e);r.size?r.forEach(r=>r.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,r,n){const i=this._engine.statesByElement.get(e);if(i){const s=[];if(Object.keys(i).forEach(t=>{if(this._triggers[t]){const r=this.trigger(e,t,MS,n);r&&s.push(r)}}),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&Ww(s).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e);if(t){const r=new Set;t.forEach(t=>{const n=t.name;if(r.has(n))return;r.add(n);const i=this._triggers[n].fallbackTransition,s=this._engine.statesByElement.get(e)[n]||ES,o=new SS(MS),a=new AS(this.id,n,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let n=!1;if(r.totalAnimations){const t=r.players.length?r.playersByQueriedElement.get(e):[];if(t&&t.length)n=!0;else{let t=e;for(;t=t.parentNode;)if(r.statesByElement.get(t)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(e),n)r.markElementAsRemoved(this.id,e,!1,t);else{const n=e.__ng_removed;n&&n!==wS||(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){kS(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const n=r.player;if(n.destroyed)return;const i=r.element,s=this._elementListeners.get(i);s&&s.forEach(t=>{if(t.name==r.triggerName){const n=$w(i,r.triggerName,r.fromState.value,r.toState.value);n._data=e,Xw(r.player,t.phase,n,t.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):t.push(r)}),this._queue=[],t.sort((e,t)=>{const r=e.transition.ast.depCount,n=t.transition.ast.depCount;return 0==r||0==n?r-n:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class CS{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const r=new TS(e,t,this);return t.parentNode?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let n=!1;for(let i=r;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),n=!0;break}n||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let n=this._namespaceLookup[e];n&&n.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(r);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const e=Object.keys(r);for(let n=0;n<e.length;n++){const i=r[e[n]].namespaceId;if(i){const e=this._fetchNamespace(i);e&&t.add(e)}}}return t}trigger(e,t,r,n){if(LS(t)){const i=this._fetchNamespace(e);if(i)return i.trigger(t,r,n),!0}return!1}insertNode(e,t,r,n){if(!LS(t))return;const i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const n=this._fetchNamespace(e);n&&n.insertNode(t,r)}n&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),kS(e,vS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),jS(e,vS))}removeNode(e,t,r,n){if(LS(t)){const i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n),r){const r=this.namespacesByHostElement.get(t);r&&r.id!==e&&r.removeNode(t,n)}}else this._onRemovalComplete(t,n)}markElementAsRemoved(e,t,r,n){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:n,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,n,i){return LS(t)?this._fetchNamespace(e).listen(t,r,n,i):()=>{}}_buildInstruction(e,t,r,n,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,n,e.fromState.options,e.toState.options,t,i)}destroyInnerAnimations(e){let t=this.driver.query(e,fx,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,gx,!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ww(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=wS,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,_S)&&this.markElementAsDisabled(e,!1),this.driver.query(e,_S,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)kS(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let e=0;e<r.length;e++)r[e]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?Ww(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}_flushAnimations(e,t){const r=new Zx,n=[],i=new Map,s=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(e=>{c.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let r=0;r<t.length;r++)c.add(t[r])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=RS(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((e,t)=>{const r=hx+f++;p.set(t,r),e.forEach(e=>kS(e,r))});const m=[],g=new Set,y=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){const e=this.collectedLeaveElements[P],t=e.__ng_removed;t&&t.setForRemoval&&(m.push(e),g.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>g.add(e)):y.add(e))}const v=new Map,_=RS(h,Array.from(g));_.forEach((e,t)=>{const r=dx+f++;v.set(t,r),e.forEach(e=>kS(e,r))}),e.push(()=>{d.forEach((e,t)=>{const r=p.get(t);e.forEach(e=>jS(e,r))}),_.forEach((e,t)=>{const r=v.get(t);e.forEach(e=>jS(e,r))}),m.forEach(e=>{this.processLeaveNode(e)})});const b=[],w=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(t).forEach(e=>{const t=e.player,i=e.element;if(b.push(t),this.collectedEnterElements.length){const e=i.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const c=!u||!this.driver.containsElement(u,i),h=v.get(i),d=p.get(i),f=this._buildInstruction(e,r,d,h,c);if(f.errors&&f.errors.length)w.push(f);else{if(c)return t.onStart(()=>Ex(i,f.fromStyles)),t.onDestroy(()=>Mx(i,f.toStyles)),void n.push(t);if(e.isFallbackTransition)return t.onStart(()=>Ex(i,f.fromStyles)),t.onDestroy(()=>Mx(i,f.toStyles)),void n.push(t);f.timelines.forEach(e=>e.stretchStartingKeyframe=!0),r.append(i,f.timelines),s.push({instruction:f,player:t,element:i}),f.queriedElements.forEach(e=>Zw(o,e,[]).push(t)),f.preStyleProps.forEach((e,t)=>{const r=Object.keys(e);if(r.length){let e=a.get(t);e||a.set(t,e=new Set),r.forEach(t=>e.add(t))}}),f.postStyleProps.forEach((e,t)=>{const r=Object.keys(e);let n=l.get(t);n||l.set(t,n=new Set),r.forEach(e=>n.add(e))})}});if(w.length){const e=[];w.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),b.forEach(e=>e.destroy()),this.reportError(e)}const x=new Map,S=new Map;s.forEach(e=>{const t=e.element;r.has(t)&&(S.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,x))}),n.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{Zw(x,t,[]).push(e),e.destroy()})});const M=m.filter(e=>NS(e,a,l)),E=new Map;OS(E,this.driver,y,l,Rw).forEach(e=>{NS(e,a,l)&&M.push(e)});const T=new Map;d.forEach((e,t)=>{OS(T,this.driver,new Set(e),a,"!")}),M.forEach(e=>{const t=E.get(e),r=T.get(e);E.set(e,Object.assign(Object.assign({},t),r))});const C=[],A=[],L={};s.forEach(e=>{const{element:t,player:s,instruction:o}=e;if(r.has(t)){if(c.has(t))return s.onDestroy(()=>Mx(t,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void n.push(s);let e=L;if(S.size>1){let r=t;const n=[];for(;r=r.parentNode;){const t=S.get(r);if(t){e=t;break}n.push(r)}n.forEach(t=>S.set(t,e))}const r=this._buildAnimation(s.namespaceId,o,x,i,T,E);if(s.setRealPlayer(r),e===L)C.push(s);else{const t=this.playersByElement.get(e);t&&t.length&&(s.parentPlayer=Ww(t)),n.push(s)}}else Ex(t,o.fromStyles),s.onDestroy(()=>Mx(t,o.toStyles)),A.push(s),c.has(t)&&n.push(s)}),A.forEach(e=>{const t=i.get(e.element);if(t&&t.length){const r=Ww(t);e.setRealPlayer(r)}}),n.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let P=0;P<m.length;P++){const e=m[P],t=e.__ng_removed;if(jS(e,dx),t&&t.hasAnimation)continue;let r=[];if(o.size){let t=o.get(e);t&&t.length&&r.push(...t);let n=this.driver.query(e,gx,!0);for(let e=0;e<n.length;e++){let t=o.get(n[e]);t&&t.length&&r.push(...t)}}const n=r.filter(e=>!e.destroyed);n.length?DS(this,e,n):this.processLeaveNode(e)}return m.length=0,C.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),C}elementContainsData(e,t){let r=!1;const n=t.__ng_removed;return n&&n.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,n,i){let s=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(s=t)}else{const t=this.playersByElement.get(e);if(t){const e=!i||i==MS;t.forEach(t=>{t.queued||(e||t.triggerName==n)&&s.push(t)})}}return(r||n)&&(s=s.filter(e=>!(r&&r!=e.namespaceId||n&&n!=e.triggerName))),s}_beforeAnimationBuild(e,t,r){const n=t.element,i=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName;for(const o of t.timelines){const e=o.element,a=e!==n,l=Zw(r,e,[]);this._getPreviousPlayers(e,a,i,s,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})}Ex(n,t.fromStyles)}_buildAnimation(e,t,r,n,i,s){const o=t.triggerName,a=t.element,l=[],c=new Set,u=new Set,h=t.timelines.map(t=>{const h=t.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Vw(t.duration,t.delay);const p=h!==a,f=function(e){const t=[];return IS(e,t),t}((r.get(h)||bS).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===h),m=i.get(h),g=s.get(h),y=qw(0,this._normalizer,0,t.keyframes,m,g),v=this._buildPlayer(t,y,f);if(t.subTimeline&&n&&u.add(h),p){const t=new AS(e,o,h);t.setRealPlayer(v),l.push(t)}return v});l.forEach(e=>{Zw(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,r){let n;if(e instanceof Map){if(n=e.get(t),n){if(n.length){const e=n.indexOf(r);n.splice(e,1)}0==n.length&&e.delete(t)}}else if(n=e[t],n){if(n.length){const e=n.indexOf(r);n.splice(e,1)}0==n.length&&delete e[t]}return n}(this.playersByQueriedElement,e.element,e))}),c.forEach(e=>kS(e,mx));const d=Ww(h);return d.onDestroy(()=>{c.forEach(e=>jS(e,mx)),Mx(a,t.toStyles)}),u.forEach(e=>{Zw(n,e,[]).push(d)}),d}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Vw(e.duration,e.delay)}}class AS{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Vw,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>Xw(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Zw(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function LS(e){return e&&1===e.nodeType}function PS(e,t){const r=e.style.display;return e.style.display=null!=t?t:"none",r}function OS(e,t,r,n,i){const s=[];r.forEach(e=>s.push(PS(e)));const o=[];n.forEach((r,n)=>{const s={};r.forEach(e=>{const r=s[e]=t.computeStyle(n,e,i);r&&0!=r.length||(n.__ng_removed=xS,o.push(n))}),e.set(n,s)});let a=0;return r.forEach(e=>PS(e,s[a++])),o}function RS(e,t){const r=new Map;if(e.forEach(e=>r.set(e,[])),0==t.length)return r;const n=new Set(t),i=new Map;function s(e){if(!e)return 1;let t=i.get(e);if(t)return t;const o=e.parentNode;return t=r.has(o)?o:n.has(o)?1:s(o),i.set(e,t),t}return t.forEach(e=>{const t=s(e);1!==t&&r.get(t).push(e)}),r}function kS(e,t){if(e.classList)e.classList.add(t);else{let r=e.$$classes;r||(r=e.$$classes={}),r[t]=!0}}function jS(e,t){if(e.classList)e.classList.remove(t);else{let r=e.$$classes;r&&delete r[t]}}function DS(e,t,r){Ww(r).onDone(()=>e.processLeaveNode(t))}function IS(e,t){for(let r=0;r<e.length;r++){const n=e[r];n instanceof Hw?IS(n.players,t):t.push(n)}}function NS(e,t,r){const n=r.get(e);if(!n)return!1;let i=t.get(e);return i?n.forEach(e=>i.add(e)):t.set(e,n),r.delete(e),!0}class zS{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new CS(e,t,r),this._timelineEngine=new gS(e,t,r),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,r,n,i){const s=e+"-"+n;let o=this._triggerCache[s];if(!o){const e=[],t=Hx(this._driver,i,e);if(e.length)throw new Error(`The animation trigger "${n}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);o=function(e,t){return new pS(e,t)}(n,t),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,n,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,n){this._transitionEngine.insertNode(e,t,r,n)}onRemove(e,t,r,n){this._transitionEngine.removeNode(e,t,n||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,n){if("@"==r.charAt(0)){const[e,i]=Qw(r);this._timelineEngine.command(e,t,i,n)}else this._transitionEngine.trigger(e,t,r,n)}listen(e,t,r,n,i){if("@"==r.charAt(0)){const[e,n]=Qw(r);return this._timelineEngine.listen(e,t,n,i)}return this._transitionEngine.listen(e,t,r,n,i)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function FS(e,t){let r=null,n=null;return Array.isArray(t)&&t.length?(r=BS(t[0]),t.length>1&&(n=BS(t[t.length-1]))):t&&(r=BS(t)),r||n?new US(e,r,n):null}let US=(()=>{class e{constructor(t,r,n){this._element=t,this._startStyles=r,this._endStyles=n,this._state=0;let i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Mx(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Mx(this._element,this._initialStyles),this._endStyles&&(Mx(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Ex(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ex(this._element,this._endStyles),this._endStyles=null),Mx(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function BS(e){let t=null;const r=Object.keys(e);for(let n=0;n<r.length;n++){const i=r[n];VS(i)&&(t=t||{},t[i]=e[i])}return t}function VS(e){return"display"===e||"position"===e}const HS="animation",GS="animationend";class WS{constructor(e,t,r,n,i,s,o){this._element=e,this._name=t,this._duration=r,this._delay=n,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const r=QS(e,"").trim();r.length&&(function(e,t){let r=0;for(let n=0;n<e.length;n++)","===e.charAt(n)&&r++}(r),t=`${r}, ${t}`),ZS(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),$S(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){qS(this._element,this._name,"paused")}resume(){qS(this._element,this._name,"running")}setPosition(e){const t=XS(this._element,this._name);this._position=e*this._duration,ZS(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),$S(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const r=QS(e,"").split(","),n=YS(r,t);n>=0&&(r.splice(n,1),ZS(e,"",r.join(",")))}(this._element,this._name))}}function qS(e,t,r){ZS(e,"PlayState",r,XS(e,t))}function XS(e,t){const r=QS(e,"");return r.indexOf(",")>0?YS(r.split(","),t):YS([r],t)}function YS(e,t){for(let r=0;r<e.length;r++)if(e[r].indexOf(t)>=0)return r;return-1}function $S(e,t,r){r?e.removeEventListener(GS,t):e.addEventListener(GS,t)}function ZS(e,t,r,n){const i=HS+t;if(null!=n){const t=e.style[i];if(t.length){const e=t.split(",");e[n]=r,r=e.join(",")}}e.style[i]=r}function QS(e,t){return e.style[HS+t]||""}class JS{constructor(e,t,r,n,i,s,o,a){this.element=e,this.keyframes=t,this.animationName=r,this._duration=n,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=n+i,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new WS(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:Ix(this.element,r))})}this.currentSnapshot=e}}class KS extends Vw{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=lx(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class eM{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(e){return ix(e)}matchesElement(e,t){return sx(e,t)}containsElement(e,t){return ox(e,t)}query(e,t,r){return ax(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(e=>lx(e));let n=`@keyframes ${t} {\n`,i="";r.forEach(e=>{i=" ";const t=parseFloat(e.offset);n+=`${i}${100*t}% {\n`,i+=" ",Object.keys(e).forEach(t=>{const r=e[t];switch(t){case"offset":return;case"easing":return void(r&&(n+=`${i}animation-timing-function: ${r};\n`));default:return void(n+=`${i}${t}: ${r};\n`)}}),n+=i+"}\n"}),n+="}\n";const s=document.createElement("style");return s.textContent=n,s}animate(e,t,r,n,i,s=[],o){const a=s.filter(e=>e instanceof JS),l={};kx(r,n)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const c=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(r=>{"offset"!=r&&"easing"!=r&&(t[r]=e[r])})}),t}(t=jx(e,t,l));if(0==r)return new KS(e,c);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,u,t);document.querySelector("head").appendChild(h);const d=FS(e,t),p=new JS(e,t,u,r,n,i,c,d);return p.onDestroy(()=>{var e;(e=h).parentNode.removeChild(e)}),p}}class tM{constructor(e,t,r,n){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:Ix(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class rM{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(nM().toString()),this._cssKeyframesDriver=new eM}validateStyleProperty(e){return ix(e)}matchesElement(e,t){return sx(e,t)}containsElement(e,t){return ox(e,t)}query(e,t,r){return ax(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,n,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,n,i,s);const a={duration:r,delay:n,fill:0==n?"both":"forwards"};i&&(a.easing=i);const l={},c=s.filter(e=>e instanceof tM);kx(r,n)&&c.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const u=FS(e,t=jx(e,t=t.map(e=>wx(e,!1)),l));return new tM(e,t,a,u)}}function nM(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let iM=(()=>{class e extends Ow{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:Se.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Dw(e):e;return aM(this._renderer,null,t,"register",[r]),new sM(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(pn(Sa),pn(Uc))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();class sM extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new oM(this._id,e,t||{},this._renderer)}}class oM{constructor(e,t,r,n){this.id=e,this.element=t,this._renderer=n,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return aM(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function aM(e,t,r,n,i){return e.setProperty(t,`@@${r}:${n}`,i)}const lM="@",cM="@.disabled";let uM=(()=>{class e{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(r);return e||(e=new hM("",r,this.engine),this._rendererCache.set(r,e)),e}const n=t.id,i=t.id+"-"+this._currentId;this._currentId++,this.engine.register(i,e);const s=t=>{Array.isArray(t)?t.forEach(s):this.engine.registerTrigger(n,i,e,t.name,t)};return t.data.animation.forEach(s),new dM(this,i,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){e>=0&&e<this._microtaskId?this._zone.run(()=>t(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,r]=e;t(r)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(pn(Sa),pn(zS),pn(ac))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();class hM{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,n=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,n)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,n){this.delegate.setAttribute(e,t,r,n)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,n){this.delegate.setStyle(e,t,r,n)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==lM&&t==cM?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class dM extends hM{constructor(e,t,r,n){super(t,r,n),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==lM?"."==t.charAt(1)&&t==cM?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if(t.charAt(0)==lM){const n=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let i=t.substr(1),s="";return i.charAt(0)!=lM&&([i,s]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(i)),this.engine.listen(this.namespaceId,n,i,s,e=>{this.factory.scheduleListenerCallback(e._data||-1,r,e)})}return this.delegate.listen(e,t,r)}}let pM=(()=>{class e extends zS{constructor(e,t,r){super(e.body,t,r)}}return e.\u0275fac=function(t){return new(t||e)(pn(Uc),pn(ux),pn(oS))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const fM=new Hr("AnimationModuleType"),mM=[{provide:ux,useFactory:function(){return"function"==typeof nM()?new rM:new eM}},{provide:fM,useValue:"BrowserAnimations"},{provide:Ow,useClass:iM},{provide:oS,useFactory:function(){return new aS}},{provide:zS,useClass:pM},{provide:Sa,useFactory:function(e,t,r){return new uM(e,t,r)},deps:[Fu,zS,ac]}];let gM=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},providers:mM,imports:[Ku]}),e})();class yM{constructor(e,t,r,n){this.triggerElement=e,this.ngZone=t,this.insertExtraNode=r,this.platformId=n,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=e=>{!this.triggerElement||!this.triggerElement.getAttribute||this.triggerElement.getAttribute("disabled")||"INPUT"===e.target.tagName||this.triggerElement.className.indexOf("disabled")>=0||this.fadeOutWave()},this.platform=new U_(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}get waveAttributeName(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}bindTriggerEvent(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.removeTriggerEvent(),this.triggerElement&&this.triggerElement.addEventListener("click",this.clickHandler,!0)})}removeTriggerEvent(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}removeStyleAndExtraNode(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}destroy(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}fadeOutWave(){const e=this.triggerElement,t=this.getWaveColor(e);e.setAttribute(this.waveAttributeName,"true"),Date.now()<this.lastTime+this.waveTransitionDuration||(this.isValidColor(t)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style")),this.styleForPseudo.innerHTML=`\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ${t};\n      }`,document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",e.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(()=>{e.removeAttribute(this.waveAttributeName),this.removeStyleAndExtraNode()},this.waveTransitionDuration))}isValidColor(e){return!!e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&this.isNotGrey(e)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(e)&&"transparent"!==e}isNotGrey(e){const t=e.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(t&&t[1]&&t[2]&&t[3]&&t[1]===t[2]&&t[2]===t[3])}getWaveColor(e){const t=getComputedStyle(e);return t.getPropertyValue("border-top-color")||t.getPropertyValue("border-color")||t.getPropertyValue("background-color")}runTimeoutOutsideZone(e,t){this.ngZone.runOutsideAngular(()=>setTimeout(e,t))}}const vM={disabled:!1},_M=new Hr("nz-wave-global-options",{providedIn:"root",factory:function(){return vM}});let bM=(()=>{class e{constructor(e,t,r,n,i){this.ngZone=e,this.elementRef=t,this.config=r,this.animationType=n,this.platformId=i,this.nzWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}get disabled(){return this.waveDisabled}get rendererRef(){return this.waveRenderer}isConfigDisabled(){let e=!1;return this.config&&"boolean"==typeof this.config.disabled&&(e=this.config.disabled),"NoopAnimations"===this.animationType&&(e=!0),e}ngOnDestroy(){this.waveRenderer&&this.waveRenderer.destroy()}ngOnInit(){this.renderWaveIfEnabled()}renderWaveIfEnabled(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new yM(this.elementRef.nativeElement,this.ngZone,this.nzWaveExtraNode,this.platformId))}disable(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}enable(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}}return e.\u0275fac=function(t){return new(t||e)(_o(ac),_o(xa),_o(_M,8),_o(fM,8),_o(ql))},e.\u0275dir=We({type:e,selectors:[["","nz-wave",""],["button","nz-button","",3,"nzType","link",3,"nzType","text"]],inputs:{nzWaveExtraNode:"nzWaveExtraNode"},exportAs:["nzWave"]}),e})(),wM=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},imports:[[B_]]}),e})();const xM=["nz-button",""];function SM(e,t){1&e&&Mo(0,"i",1)}const MM=["*"],EM="button";let TM=(()=>{class e{constructor(e,t,r,n,i){this.elementRef=e,this.cdr=t,this.renderer=r,this.nzConfigService=n,this.directionality=i,this._nzModuleName=EM,this.nzBlock=!1,this.nzGhost=!1,this.nzSearch=!1,this.nzLoading=!1,this.nzDanger=!1,this.disabled=!1,this.tabIndex=null,this.nzType=null,this.nzShape=null,this.nzSize="default",this.dir="ltr",this.destroy$=new S,this.loading$=new S,this.elementRef.nativeElement.classList.add("ant-btn"),this.nzConfigService.getConfigChangeEventForComponent(EM).pipe(k_(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}insertSpan(e,t){e.forEach(e=>{if("#text"===e.nodeName){const r=t.createElement("span"),n=t.parentNode(e);t.insertBefore(n,r,e),t.appendChild(r,e)}})}assertIconOnly(e,t){const r=Array.from(e.childNodes),n=r.filter(e=>"I"===e.nodeName).length,i=r.every(e=>"#text"!==e.nodeName);r.every(e=>"SPAN"!==e.nodeName)&&i&&n>=1&&t.addClass(e,"ant-btn-icon-only")}ngOnInit(){var e;null===(e=this.directionality.change)||void 0===e||e.pipe(k_(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(e){const{nzLoading:t,nzType:r}=e;t&&this.loading$.next(this.nzLoading),"danger"===(null==r?void 0:r.currentValue)&&((...e)=>{{const t=(new Error).stack;A_((...e)=>console.warn(C_,"deprecated:",...e,t),...e)}})("'danger' value of 'nzType' in Button is going to be removed in 12.0.0. Please use 'nzDanger' instead.")}ngAfterViewInit(){this.assertIconOnly(this.elementRef.nativeElement,this.renderer),this.insertSpan(this.elementRef.nativeElement.childNodes,this.renderer)}ngAfterContentInit(){this.loading$.pipe(wh(this.nzLoading),Eh(()=>!!this.nzIconDirectiveElement),k_(this.destroy$)).subscribe(e=>{const t=this.nzIconDirectiveElement.nativeElement;e?this.renderer.setStyle(t,"display","none"):this.renderer.removeStyle(t,"display")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(_o(xa),_o(Wa),_o(Ma),_o(aw),_o(mv,8))},e.\u0275cmp=Fe({type:e,selectors:[["button","nz-button",""],["a","nz-button",""]],contentQueries:function(e,t,r){if(1&e&&jl(r,mw,!0,xa),2&e){let e;Pl(e=Dl())&&(t.nzIconDirectiveElement=e.first)}},hostVars:32,hostBindings:function(e,t){2&e&&(mo("tabindex",t.disabled?-1:null===t.tabIndex?null:t.tabIndex)("disabled",t.disabled||null),Vo("ant-btn-primary","primary"===t.nzType)("ant-btn-dashed","dashed"===t.nzType)("ant-btn-link","link"===t.nzType)("ant-btn-text","text"===t.nzType)("ant-btn-danger","danger"===t.nzType)("ant-btn-circle","circle"===t.nzShape)("ant-btn-round","round"===t.nzShape)("ant-btn-lg","large"===t.nzSize)("ant-btn-sm","small"===t.nzSize)("ant-btn-dangerous",t.nzDanger)("ant-btn-loading",t.nzLoading)("ant-btn-background-ghost",t.nzGhost)("ant-btn-block",t.nzBlock)("ant-input-search-button",t.nzSearch)("ant-btn-rtl","rtl"===t.dir))},inputs:{nzBlock:"nzBlock",nzGhost:"nzGhost",nzSearch:"nzSearch",nzLoading:"nzLoading",nzDanger:"nzDanger",disabled:"disabled",tabIndex:"tabIndex",nzType:"nzType",nzShape:"nzShape",nzSize:"nzSize"},exportAs:["nzButton"],features:[lt],attrs:xM,ngContentSelectors:MM,decls:2,vars:1,consts:[["nz-icon","","nzType","loading",4,"ngIf"],["nz-icon","","nzType","loading"]],template:function(e,t){1&e&&(Do(),yo(0,SM,1,0,"i",0),Io(1)),2&e&&bo("ngIf",t.nzLoading)},directives:[du,mw,Lw],encapsulation:2,changeDetection:0}),dv([R_(),pv("design:type",Boolean)],e.prototype,"nzBlock",void 0),dv([R_(),pv("design:type",Boolean)],e.prototype,"nzGhost",void 0),dv([R_(),pv("design:type",Boolean)],e.prototype,"nzSearch",void 0),dv([R_(),pv("design:type",Boolean)],e.prototype,"nzLoading",void 0),dv([R_(),pv("design:type",Boolean)],e.prototype,"nzDanger",void 0),dv([R_(),pv("design:type",Boolean)],e.prototype,"disabled",void 0),dv([function(e,t,r){const n="$$__assignedValue__"+t;return Object.defineProperty(e,n,{configurable:!0,writable:!0,enumerable:!1}),{get(){const e=(null==r?void 0:r.get)?r.get.bind(this)():this[n];if(((this.assignmentCount||{})[t]||0)>1&&ow(e))return e;const i=(this.nzConfigService.getConfigForComponent(this._nzModuleName)||{})[t];return ow(i)?i:e},set(e){this.assignmentCount=this.assignmentCount||{},this.assignmentCount[t]=(this.assignmentCount[t]||0)+1,(null==r?void 0:r.set)?r.set.bind(this)(e):this[n]=e},configurable:!0,enumerable:!0}},pv("design:type",String)],e.prototype,"nzSize",void 0),e})(),CM=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},imports:[[gv,bu,wM,gw,Pw],Pw,wM]}),e})();const AM=["container"];function LM(e,t){1&e&&(xo(0,"span"),Yo(1," (\u4f60\u662f\u6bd4\u5730\u94c1\u7ad9\u8fd8\u52aa\u529b\u7684\u7537\u4eba\uff01)"),So())}let PM=(()=>{class e{constructor(){this.demoValue=5}ngOnInit(){}ngAfterViewInit(){this.scene=new hv(this.container.nativeElement,{})}onClick(){this.scene.updateData(this.demoValue)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-one"]],viewQuery:function(e,t){if(1&e&&Rl(AM,!0),2&e){let e;Pl(e=Dl())&&(t.container=e.first)}},decls:10,vars:5,consts:[[2,"width","100%","height","100%"],["container",""],[1,"good"],[3,"ngModel","nzMin","nzMax","nzStep","ngModelChange"],["nz-button","","nzType","dashed",3,"click"],[4,"ngIf"]],template:function(e,t){1&e&&(xo(0,"div",0,1),xo(2,"div",2),xo(3,"span"),Yo(4,"\u52aa\u529b\u7cfb\u6570(0-10)\uff1a"),So(),xo(5,"nz-input-number",3),Po("ngModelChange",function(e){return t.demoValue=e}),So(),xo(6,"span"),xo(7,"button",4),Po("click",function(){return t.onClick()}),Yo(8,"\u786e\u5b9a"),So(),So(),yo(9,LM,2,0,"span",5),So(),So()),2&e&&(Gi(5),bo("ngModel",t.demoValue)("nzMin",0)("nzMax",10)("nzStep",1),Gi(4),bo("ngIf",10==t.demoValue))},directives:[Cw,Vv,__,TM,bM,Lw,du],styles:[".good[_ngcontent-%COMP%]{position:absolute;z-index:10}.good[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:10px}"]}),e})();const OM=100,RM=1e3,kM=1001,jM=1002,DM=1003,IM=1006,NM=1008,zM=1012,FM=1014,UM=1015,BM=1016,VM=1020,HM=1022,GM=1023,WM=1026,qM=1027,XM=2300,YM=2301,$M=2302,ZM=2400,QM=2401,JM=2402,KM=3e3,eE=7680,tE=35044,rE=35048,nE="300 es";function iE(){}Object.assign(iE.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});const r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;const r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)},removeEventListener:function(e,t){if(void 0===this._listeners)return;const r=this._listeners[e];if(void 0!==r){const e=r.indexOf(t);-1!==e&&r.splice(e,1)}},dispatchEvent:function(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const r=t.slice(0);for(let t=0,n=r.length;t<n;t++)r[t].call(this,e);e.target=null}}});const sE=[];for(let zI=0;zI<256;zI++)sE[zI]=(zI<16?"0":"")+zI.toString(16);let oE=1234567;const aE={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(sE[255&e]+sE[e>>8&255]+sE[e>>16&255]+sE[e>>24&255]+"-"+sE[255&t]+sE[t>>8&255]+"-"+sE[t>>16&15|64]+sE[t>>24&255]+"-"+sE[63&r|128]+sE[r>>8&255]+"-"+sE[r>>16&255]+sE[r>>24&255]+sE[255&n]+sE[n>>8&255]+sE[n>>16&255]+sE[n>>24&255]).toUpperCase()},clamp:function(e,t,r){return Math.max(t,Math.min(r,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,r,n,i){return n+(e-t)*(i-n)/(r-t)},inverseLerp:function(e,t,r){return e!==t?(r-e)/(t-e):0},lerp:function(e,t,r){return(1-r)*e+r*t},damp:function(e,t,r,n){return aE.lerp(e,t,1-Math.exp(-r*n))},pingpong:function(e,t=1){return t-Math.abs(aE.euclideanModulo(e,2*t)-t)},smoothstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*(3-2*e)},smootherstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(oE=e%2147483647),oE=16807*oE%2147483647,(oE-1)/2147483646},degToRad:function(e){return e*aE.DEG2RAD},radToDeg:function(e){return e*aE.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,r,n,i){const s=Math.cos,o=Math.sin,a=s(r/2),l=o(r/2),c=s((t+n)/2),u=o((t+n)/2),h=s((t-n)/2),d=o((t-n)/2),p=s((n-t)/2),f=o((n-t)/2);switch(i){case"XYX":e.set(a*u,l*h,l*d,a*c);break;case"YZY":e.set(l*d,a*u,l*h,a*c);break;case"ZXZ":e.set(l*h,l*d,a*u,a*c);break;case"XZX":e.set(a*u,l*f,l*p,a*c);break;case"YXY":e.set(l*p,a*u,l*f,a*c);break;case"ZYZ":e.set(l*f,l*p,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}};class lE{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,n=e.elements;return this.x=n[0]*t+n[3]*r+n[6],this.y=n[1]*t+n[4]*r+n[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),n=Math.sin(t),i=this.x-e.x,s=this.y-e.y;return this.x=i*r-s*n+e.x,this.y=i*n+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}lE.prototype.isVector2=!0;class cE{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,n,i,s,o,a,l){const c=this.elements;return c[0]=e,c[1]=n,c[2]=o,c[3]=t,c[4]=i,c[5]=a,c[6]=r,c[7]=s,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,n=t.elements,i=this.elements,s=r[0],o=r[3],a=r[6],l=r[1],c=r[4],u=r[7],h=r[2],d=r[5],p=r[8],f=n[0],m=n[3],g=n[6],y=n[1],v=n[4],_=n[7],b=n[2],w=n[5],x=n[8];return i[0]=s*f+o*y+a*b,i[3]=s*m+o*v+a*w,i[6]=s*g+o*_+a*x,i[1]=l*f+c*y+u*b,i[4]=l*m+c*v+u*w,i[7]=l*g+c*_+u*x,i[2]=h*f+d*y+p*b,i[5]=h*m+d*v+p*w,i[8]=h*g+d*_+p*x,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],s=e[4],o=e[5],a=e[6],l=e[7],c=e[8];return t*s*c-t*o*l-r*i*c+r*o*a+n*i*l-n*s*a}invert(){const e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],s=e[4],o=e[5],a=e[6],l=e[7],c=e[8],u=c*s-o*l,h=o*a-c*i,d=l*i-s*a,p=t*u+r*h+n*d;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const f=1/p;return e[0]=u*f,e[1]=(n*l-c*r)*f,e[2]=(o*r-n*s)*f,e[3]=h*f,e[4]=(c*t-n*a)*f,e[5]=(n*i-o*t)*f,e[6]=d*f,e[7]=(r*a-l*t)*f,e[8]=(s*t-r*i)*f,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,n,i,s,o){const a=Math.cos(i),l=Math.sin(i);return this.set(r*a,r*l,-r*(a*s+l*o)+s+e,-n*l,n*a,-n*(-l*s+a*o)+o+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),n=this.elements,i=n[0],s=n[3],o=n[6],a=n[1],l=n[4],c=n[7];return n[0]=t*i+r*a,n[3]=t*s+r*l,n[6]=t*o+r*c,n[1]=-r*i+t*a,n[4]=-r*s+t*l,n[7]=-r*o+t*c,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let n=0;n<9;n++)if(t[n]!==r[n])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}let uE;cE.prototype.isMatrix3=!0;const hE={getDataURL:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===uE&&(uE=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),uE.width=e.width,uE.height=e.height;const r=uE.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=uE}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}};let dE=0;class pE extends iE{constructor(e=pE.DEFAULT_IMAGE,t=pE.DEFAULT_MAPPING,r=1001,n=1001,i=1006,s=1008,o=1023,a=1009,l=1,c=3e3){super(),Object.defineProperty(this,"id",{value:dE++}),this.uuid=aE.generateUUID(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=n,this.magFilter=i,this.minFilter=s,this.anisotropy=l,this.format=o,this.internalFormat=null,this.type=a,this.offset=new lE(0,0),this.repeat=new lE(1,1),this.center=new lE(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new cE,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.version=0,this.onUpdate=null}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const n=this.image;if(void 0===n.uuid&&(n.uuid=aE.generateUUID()),!t&&void 0===e.images[n.uuid]){let t;if(Array.isArray(n)){t=[];for(let e=0,r=n.length;e<r;e++)t.push(fE(n[e].isDataTexture?n[e].image:n[e]))}else t=fE(n);e.images[n.uuid]={uuid:n.uuid,url:t}}r.image=n.uuid}return t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case RM:e.x=e.x-Math.floor(e.x);break;case kM:e.x=e.x<0?0:1;break;case jM:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case RM:e.y=e.y-Math.floor(e.y);break;case kM:e.y=e.y<0?0:1;break;case jM:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&this.version++}}function fE(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?hE.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}pE.DEFAULT_IMAGE=void 0,pE.DEFAULT_MAPPING=300,pE.prototype.isTexture=!0;class mE{constructor(e=0,t=0,r=0,n=1){this.x=e,this.y=t,this.z=r,this.w=n}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,n){return this.x=e,this.y=t,this.z=r,this.w=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,n=this.z,i=this.w,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*n+s[12]*i,this.y=s[1]*t+s[5]*r+s[9]*n+s[13]*i,this.z=s[2]*t+s[6]*r+s[10]*n+s[14]*i,this.w=s[3]*t+s[7]*r+s[11]*n+s[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,n,i;const s=.01,o=.1,a=e.elements,l=a[0],c=a[4],u=a[8],h=a[1],d=a[5],p=a[9],f=a[2],m=a[6],g=a[10];if(Math.abs(c-h)<s&&Math.abs(u-f)<s&&Math.abs(p-m)<s){if(Math.abs(c+h)<o&&Math.abs(u+f)<o&&Math.abs(p+m)<o&&Math.abs(l+d+g-3)<o)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,a=(d+1)/2,y=(g+1)/2,v=(c+h)/4,_=(u+f)/4,b=(p+m)/4;return e>a&&e>y?e<s?(r=0,n=.707106781,i=.707106781):(r=Math.sqrt(e),n=v/r,i=_/r):a>y?a<s?(r=.707106781,n=0,i=.707106781):(n=Math.sqrt(a),r=v/n,i=b/n):y<s?(r=.707106781,n=.707106781,i=0):(i=Math.sqrt(y),r=_/i,n=b/i),this.set(r,n,i,t),this}let y=Math.sqrt((m-p)*(m-p)+(u-f)*(u-f)+(h-c)*(h-c));return Math.abs(y)<.001&&(y=1),this.x=(m-p)/y,this.y=(u-f)/y,this.z=(h-c)/y,this.w=Math.acos((l+d+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,r){return void 0!==r&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}mE.prototype.isVector4=!0;class gE extends iE{constructor(e,t,r){super(),this.width=e,this.height=t,this.depth=1,this.scissor=new mE(0,0,e,t),this.scissorTest=!1,this.viewport=new mE(0,0,e,t),this.texture=new pE(void 0,(r=r||{}).mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=1,this.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,this.texture.minFilter=void 0!==r.minFilter?r.minFilter:IM,this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0!==r.stencilBuffer&&r.stencilBuffer,this.depthTexture=void 0!==r.depthTexture?r.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,t,r=1){this.width===e&&this.height===t&&this.depth===r||(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}gE.prototype.isWebGLRenderTarget=!0,class extends gE{constructor(e,t,r){super(e,t,r),this.samples=4}copy(e){return super.copy.call(this,e),this.samples=e.samples,this}}.prototype.isWebGLMultisampleRenderTarget=!0;class yE{constructor(e=0,t=0,r=0,n=1){this._x=e,this._y=t,this._z=r,this._w=n}static slerp(e,t,r,n){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,n)}static slerpFlat(e,t,r,n,i,s,o){let a=r[n+0],l=r[n+1],c=r[n+2],u=r[n+3];const h=i[s+0],d=i[s+1],p=i[s+2],f=i[s+3];if(0===o)return e[t+0]=a,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===o)return e[t+0]=h,e[t+1]=d,e[t+2]=p,void(e[t+3]=f);if(u!==f||a!==h||l!==d||c!==p){let e=1-o;const t=a*h+l*d+c*p+u*f,r=t>=0?1:-1,n=1-t*t;if(n>Number.EPSILON){const i=Math.sqrt(n),s=Math.atan2(i,t*r);e=Math.sin(e*s)/i,o=Math.sin(o*s)/i}const i=o*r;if(a=a*e+h*i,l=l*e+d*i,c=c*e+p*i,u=u*e+f*i,e===1-o){const e=1/Math.sqrt(a*a+l*l+c*c+u*u);a*=e,l*=e,c*=e,u*=e}}e[t]=a,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,r,n,i,s){const o=r[n],a=r[n+1],l=r[n+2],c=r[n+3],u=i[s],h=i[s+1],d=i[s+2],p=i[s+3];return e[t]=o*p+c*u+a*d-l*h,e[t+1]=a*p+c*h+l*u-o*d,e[t+2]=l*p+c*d+o*h-a*u,e[t+3]=c*p-o*u-a*h-l*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,n=e._y,i=e._z,s=e._order,o=Math.cos,a=Math.sin,l=o(r/2),c=o(n/2),u=o(i/2),h=a(r/2),d=a(n/2),p=a(i/2);switch(s){case"XYZ":this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p;break;case"YXZ":this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p;break;case"ZXY":this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p;break;case"ZYX":this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p;break;case"YZX":this._x=h*c*u+l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u-h*d*p;break;case"XZY":this._x=h*c*u-l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u+h*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,n=Math.sin(r);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],n=t[4],i=t[8],s=t[1],o=t[5],a=t[9],l=t[2],c=t[6],u=t[10],h=r+o+u;if(h>0){const e=.5/Math.sqrt(h+1);this._w=.25/e,this._x=(c-a)*e,this._y=(i-l)*e,this._z=(s-n)*e}else if(r>o&&r>u){const e=2*Math.sqrt(1+r-o-u);this._w=(c-a)/e,this._x=.25*e,this._y=(n+s)/e,this._z=(i+l)/e}else if(o>u){const e=2*Math.sqrt(1+o-r-u);this._w=(i-l)/e,this._x=(n+s)/e,this._y=.25*e,this._z=(a+c)/e}else{const e=2*Math.sqrt(1+u-r-o);this._w=(s-n)/e,this._x=(i+l)/e,this._y=(a+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(aE.clamp(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(0===r)return this;const n=Math.min(1,t/r);return this.slerp(e,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,n=e._y,i=e._z,s=e._w,o=t._x,a=t._y,l=t._z,c=t._w;return this._x=r*c+s*o+n*l-i*a,this._y=n*c+s*a+i*o-r*l,this._z=i*c+s*l+r*a-n*o,this._w=s*c-r*o-n*a-i*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const r=this._x,n=this._y,i=this._z,s=this._w;let o=s*e._w+r*e._x+n*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=r,this._y=n,this._z=i,this;const a=1-o*o;if(a<=Number.EPSILON){const e=1-t;return this._w=e*s+t*this._w,this._x=e*r+t*this._x,this._y=e*n+t*this._y,this._z=e*i+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(a),c=Math.atan2(l,o),u=Math.sin((1-t)*c)/l,h=Math.sin(t*c)/l;return this._w=s*u+this._w*h,this._x=r*u+this._x*h,this._y=n*u+this._y*h,this._z=i*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,r){this.copy(e).slerp(t,r)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}yE.prototype.isQuaternion=!0;class vE{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.z=r}set(e,t,r){return void 0===r&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(bE.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(bE.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6]*n,this.y=i[1]*t+i[4]*r+i[7]*n,this.z=i[2]*t+i[5]*r+i[8]*n,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,n=this.z,i=e.elements,s=1/(i[3]*t+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*t+i[4]*r+i[8]*n+i[12])*s,this.y=(i[1]*t+i[5]*r+i[9]*n+i[13])*s,this.z=(i[2]*t+i[6]*r+i[10]*n+i[14])*s,this}applyQuaternion(e){const t=this.x,r=this.y,n=this.z,i=e.x,s=e.y,o=e.z,a=e.w,l=a*t+s*n-o*r,c=a*r+o*t-i*n,u=a*n+i*r-s*t,h=-i*t-s*r-o*n;return this.x=l*a+h*-i+c*-o-u*-s,this.y=c*a+h*-s+u*-i-l*-o,this.z=u*a+h*-o+l*-s-c*-i,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[4]*r+i[8]*n,this.y=i[1]*t+i[5]*r+i[9]*n,this.z=i[2]*t+i[6]*r+i[10]*n,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,n=e.y,i=e.z,s=t.x,o=t.y,a=t.z;return this.x=n*a-i*o,this.y=i*s-r*a,this.z=r*o-n*s,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return _E.copy(this).projectOnVector(e),this.sub(_E)}reflect(e){return this.sub(_E.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(aE.clamp(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,n=this.z-e.z;return t*t+r*r+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const n=Math.sin(t)*e;return this.x=n*Math.sin(r),this.y=Math.cos(t)*e,this.z=n*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),n=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=n,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}vE.prototype.isVector3=!0;const _E=new vE,bE=new yE;class wE{constructor(e=new vE(1/0,1/0,1/0),t=new vE(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,n=1/0,i=-1/0,s=-1/0,o=-1/0;for(let a=0,l=e.length;a<l;a+=3){const l=e[a],c=e[a+1],u=e[a+2];l<t&&(t=l),c<r&&(r=c),u<n&&(n=u),l>i&&(i=l),c>s&&(s=c),u>o&&(o=u)}return this.min.set(t,r,n),this.max.set(i,s,o),this}setFromBufferAttribute(e){let t=1/0,r=1/0,n=1/0,i=-1/0,s=-1/0,o=-1/0;for(let a=0,l=e.count;a<l;a++){const l=e.getX(a),c=e.getY(a),u=e.getZ(a);l<t&&(t=l),c<r&&(r=c),u<n&&(n=u),l>i&&(i=l),c>s&&(s=c),u>o&&(o=u)}return this.min.set(t,r,n),this.max.set(i,s,o),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=SE.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new vE),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new vE),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),ME.copy(t.boundingBox),ME.applyMatrix4(e.matrixWorld),this.union(ME));const r=e.children;for(let n=0,i=r.length;n<i;n++)this.expandByObject(r[n]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new vE),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,SE),SE.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(OE),RE.subVectors(this.max,OE),EE.subVectors(e.a,OE),TE.subVectors(e.b,OE),CE.subVectors(e.c,OE),AE.subVectors(TE,EE),LE.subVectors(CE,TE),PE.subVectors(EE,CE);let t=[0,-AE.z,AE.y,0,-LE.z,LE.y,0,-PE.z,PE.y,AE.z,0,-AE.x,LE.z,0,-LE.x,PE.z,0,-PE.x,-AE.y,AE.x,0,-LE.y,LE.x,0,-PE.y,PE.x,0];return!!DE(t,EE,TE,CE,RE)&&(t=[1,0,0,0,1,0,0,0,1],!!DE(t,EE,TE,CE,RE)&&(kE.crossVectors(AE,LE),t=[kE.x,kE.y,kE.z],DE(t,EE,TE,CE,RE)))}clampPoint(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new vE),t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return SE.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(SE).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(xE[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),xE[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),xE[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),xE[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),xE[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),xE[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),xE[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),xE[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(xE)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}wE.prototype.isBox3=!0;const xE=[new vE,new vE,new vE,new vE,new vE,new vE,new vE,new vE],SE=new vE,ME=new wE,EE=new vE,TE=new vE,CE=new vE,AE=new vE,LE=new vE,PE=new vE,OE=new vE,RE=new vE,kE=new vE,jE=new vE;function DE(e,t,r,n,i){for(let s=0,o=e.length-3;s<=o;s+=3){jE.fromArray(e,s);const o=i.x*Math.abs(jE.x)+i.y*Math.abs(jE.y)+i.z*Math.abs(jE.z),a=t.dot(jE),l=r.dot(jE),c=n.dot(jE);if(Math.max(-Math.max(a,l,c),Math.min(a,l,c))>o)return!1}return!0}const IE=new wE,NE=new vE,zE=new vE,FE=new vE;class UE{constructor(e=new vE,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;void 0!==t?r.copy(t):IE.setFromPoints(e).getCenter(r);let n=0;for(let i=0,s=e.length;i<s;i++)n=Math.max(n,r.distanceToSquared(e[i]));return this.radius=Math.sqrt(n),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new vE),t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new wE),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){FE.subVectors(e,this.center);const t=FE.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),r=.5*(e-this.radius);this.center.add(FE.multiplyScalar(r/e)),this.radius+=r}return this}union(e){return zE.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(NE.copy(e.center).add(zE)),this.expandByPoint(NE.copy(e.center).sub(zE)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const BE=new vE,VE=new vE,HE=new vE,GE=new vE,WE=new vE,qE=new vE,XE=new vE;class YE{constructor(e=new vE,t=new vE(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new vE),t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,BE)),this}closestPointToPoint(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new vE),t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=BE.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(BE.copy(this.direction).multiplyScalar(t).add(this.origin),BE.distanceToSquared(e))}distanceSqToSegment(e,t,r,n){VE.copy(e).add(t).multiplyScalar(.5),HE.copy(t).sub(e).normalize(),GE.copy(this.origin).sub(VE);const i=.5*e.distanceTo(t),s=-this.direction.dot(HE),o=GE.dot(this.direction),a=-GE.dot(HE),l=GE.lengthSq(),c=Math.abs(1-s*s);let u,h,d,p;if(c>0)if(u=s*a-o,h=s*o-a,p=i*c,u>=0)if(h>=-p)if(h<=p){const e=1/c;u*=e,h*=e,d=u*(u+s*h+2*o)+h*(s*u+h+2*a)+l}else h=i,u=Math.max(0,-(s*h+o)),d=-u*u+h*(h+2*a)+l;else h=-i,u=Math.max(0,-(s*h+o)),d=-u*u+h*(h+2*a)+l;else h<=-p?(u=Math.max(0,-(-s*i+o)),h=u>0?-i:Math.min(Math.max(-i,-a),i),d=-u*u+h*(h+2*a)+l):h<=p?(u=0,h=Math.min(Math.max(-i,-a),i),d=h*(h+2*a)+l):(u=Math.max(0,-(s*i+o)),h=u>0?i:Math.min(Math.max(-i,-a),i),d=-u*u+h*(h+2*a)+l);else h=s>0?-i:i,u=Math.max(0,-(s*h+o)),d=-u*u+h*(h+2*a)+l;return r&&r.copy(this.direction).multiplyScalar(u).add(this.origin),n&&n.copy(HE).multiplyScalar(h).add(VE),d}intersectSphere(e,t){BE.subVectors(e.center,this.origin);const r=BE.dot(this.direction),n=BE.dot(BE)-r*r,i=e.radius*e.radius;if(n>i)return null;const s=Math.sqrt(i-n),o=r-s,a=r+s;return o<0&&a<0?null:this.at(o<0?a:o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return null===r?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,n,i,s,o,a;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(r=(e.min.x-h.x)*l,n=(e.max.x-h.x)*l):(r=(e.max.x-h.x)*l,n=(e.min.x-h.x)*l),c>=0?(i=(e.min.y-h.y)*c,s=(e.max.y-h.y)*c):(i=(e.max.y-h.y)*c,s=(e.min.y-h.y)*c),r>s||i>n?null:((i>r||r!=r)&&(r=i),(s<n||n!=n)&&(n=s),u>=0?(o=(e.min.z-h.z)*u,a=(e.max.z-h.z)*u):(o=(e.max.z-h.z)*u,a=(e.min.z-h.z)*u),r>a||o>n?null:((o>r||r!=r)&&(r=o),(a<n||n!=n)&&(n=a),n<0?null:this.at(r>=0?r:n,t)))}intersectsBox(e){return null!==this.intersectBox(e,BE)}intersectTriangle(e,t,r,n,i){WE.subVectors(t,e),qE.subVectors(r,e),XE.crossVectors(WE,qE);let s,o=this.direction.dot(XE);if(o>0){if(n)return null;s=1}else{if(!(o<0))return null;s=-1,o=-o}GE.subVectors(this.origin,e);const a=s*this.direction.dot(qE.crossVectors(GE,qE));if(a<0)return null;const l=s*this.direction.dot(WE.cross(GE));if(l<0)return null;if(a+l>o)return null;const c=-s*GE.dot(XE);return c<0?null:this.at(c/o,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class $E{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,n,i,s,o,a,l,c,u,h,d,p,f,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=n,g[1]=i,g[5]=s,g[9]=o,g[13]=a,g[2]=l,g[6]=c,g[10]=u,g[14]=h,g[3]=d,g[7]=p,g[11]=f,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new $E).fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,n=1/ZE.setFromMatrixColumn(e,0).length(),i=1/ZE.setFromMatrixColumn(e,1).length(),s=1/ZE.setFromMatrixColumn(e,2).length();return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=0,t[4]=r[4]*i,t[5]=r[5]*i,t[6]=r[6]*i,t[7]=0,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,r=e.x,n=e.y,i=e.z,s=Math.cos(r),o=Math.sin(r),a=Math.cos(n),l=Math.sin(n),c=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){const e=s*c,r=s*u,n=o*c,i=o*u;t[0]=a*c,t[4]=-a*u,t[8]=l,t[1]=r+n*l,t[5]=e-i*l,t[9]=-o*a,t[2]=i-e*l,t[6]=n+r*l,t[10]=s*a}else if("YXZ"===e.order){const e=a*c,r=a*u,n=l*c,i=l*u;t[0]=e+i*o,t[4]=n*o-r,t[8]=s*l,t[1]=s*u,t[5]=s*c,t[9]=-o,t[2]=r*o-n,t[6]=i+e*o,t[10]=s*a}else if("ZXY"===e.order){const e=a*c,r=a*u,n=l*c,i=l*u;t[0]=e-i*o,t[4]=-s*u,t[8]=n+r*o,t[1]=r+n*o,t[5]=s*c,t[9]=i-e*o,t[2]=-s*l,t[6]=o,t[10]=s*a}else if("ZYX"===e.order){const e=s*c,r=s*u,n=o*c,i=o*u;t[0]=a*c,t[4]=n*l-r,t[8]=e*l+i,t[1]=a*u,t[5]=i*l+e,t[9]=r*l-n,t[2]=-l,t[6]=o*a,t[10]=s*a}else if("YZX"===e.order){const e=s*a,r=s*l,n=o*a,i=o*l;t[0]=a*c,t[4]=i-e*u,t[8]=n*u+r,t[1]=u,t[5]=s*c,t[9]=-o*c,t[2]=-l*c,t[6]=r*u+n,t[10]=e-i*u}else if("XZY"===e.order){const e=s*a,r=s*l,n=o*a,i=o*l;t[0]=a*c,t[4]=-u,t[8]=l*c,t[1]=e*u+i,t[5]=s*c,t[9]=r*u-n,t[2]=n*u-r,t[6]=o*c,t[10]=i*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(JE,e,KE)}lookAt(e,t,r){const n=this.elements;return rT.subVectors(e,t),0===rT.lengthSq()&&(rT.z=1),rT.normalize(),eT.crossVectors(r,rT),0===eT.lengthSq()&&(1===Math.abs(r.z)?rT.x+=1e-4:rT.z+=1e-4,rT.normalize(),eT.crossVectors(r,rT)),eT.normalize(),tT.crossVectors(rT,eT),n[0]=eT.x,n[4]=tT.x,n[8]=rT.x,n[1]=eT.y,n[5]=tT.y,n[9]=rT.y,n[2]=eT.z,n[6]=tT.z,n[10]=rT.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,n=t.elements,i=this.elements,s=r[0],o=r[4],a=r[8],l=r[12],c=r[1],u=r[5],h=r[9],d=r[13],p=r[2],f=r[6],m=r[10],g=r[14],y=r[3],v=r[7],_=r[11],b=r[15],w=n[0],x=n[4],S=n[8],M=n[12],E=n[1],T=n[5],C=n[9],A=n[13],L=n[2],P=n[6],O=n[10],R=n[14],k=n[3],j=n[7],D=n[11],I=n[15];return i[0]=s*w+o*E+a*L+l*k,i[4]=s*x+o*T+a*P+l*j,i[8]=s*S+o*C+a*O+l*D,i[12]=s*M+o*A+a*R+l*I,i[1]=c*w+u*E+h*L+d*k,i[5]=c*x+u*T+h*P+d*j,i[9]=c*S+u*C+h*O+d*D,i[13]=c*M+u*A+h*R+d*I,i[2]=p*w+f*E+m*L+g*k,i[6]=p*x+f*T+m*P+g*j,i[10]=p*S+f*C+m*O+g*D,i[14]=p*M+f*A+m*R+g*I,i[3]=y*w+v*E+_*L+b*k,i[7]=y*x+v*T+_*P+b*j,i[11]=y*S+v*C+_*O+b*D,i[15]=y*M+v*A+_*R+b*I,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],n=e[8],i=e[12],s=e[1],o=e[5],a=e[9],l=e[13],c=e[2],u=e[6],h=e[10],d=e[14];return e[3]*(+i*a*u-n*l*u-i*o*h+r*l*h+n*o*d-r*a*d)+e[7]*(+t*a*d-t*l*h+i*s*h-n*s*d+n*l*c-i*a*c)+e[11]*(+t*l*u-t*o*d-i*s*u+r*s*d+i*o*c-r*l*c)+e[15]*(-n*o*c-t*a*u+t*o*h+n*s*u-r*s*h+r*a*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const n=this.elements;return e.isVector3?(n[12]=e.x,n[13]=e.y,n[14]=e.z):(n[12]=e,n[13]=t,n[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],s=e[4],o=e[5],a=e[6],l=e[7],c=e[8],u=e[9],h=e[10],d=e[11],p=e[12],f=e[13],m=e[14],g=e[15],y=u*m*l-f*h*l+f*a*d-o*m*d-u*a*g+o*h*g,v=p*h*l-c*m*l-p*a*d+s*m*d+c*a*g-s*h*g,_=c*f*l-p*u*l+p*o*d-s*f*d-c*o*g+s*u*g,b=p*u*a-c*f*a-p*o*h+s*f*h+c*o*m-s*u*m,w=t*y+r*v+n*_+i*b;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const x=1/w;return e[0]=y*x,e[1]=(f*h*i-u*m*i-f*n*d+r*m*d+u*n*g-r*h*g)*x,e[2]=(o*m*i-f*a*i+f*n*l-r*m*l-o*n*g+r*a*g)*x,e[3]=(u*a*i-o*h*i-u*n*l+r*h*l+o*n*d-r*a*d)*x,e[4]=v*x,e[5]=(c*m*i-p*h*i+p*n*d-t*m*d-c*n*g+t*h*g)*x,e[6]=(p*a*i-s*m*i-p*n*l+t*m*l+s*n*g-t*a*g)*x,e[7]=(s*h*i-c*a*i+c*n*l-t*h*l-s*n*d+t*a*d)*x,e[8]=_*x,e[9]=(p*u*i-c*f*i-p*r*d+t*f*d+c*r*g-t*u*g)*x,e[10]=(s*f*i-p*o*i+p*r*l-t*f*l-s*r*g+t*o*g)*x,e[11]=(c*o*i-s*u*i-c*r*l+t*u*l+s*r*d-t*o*d)*x,e[12]=b*x,e[13]=(c*f*n-p*u*n+p*r*h-t*f*h-c*r*m+t*u*m)*x,e[14]=(p*o*n-s*f*n-p*r*a+t*f*a+s*r*m-t*o*m)*x,e[15]=(s*u*n-c*o*n+c*r*a-t*u*a-s*r*h+t*o*h)*x,this}scale(e){const t=this.elements,r=e.x,n=e.y,i=e.z;return t[0]*=r,t[4]*=n,t[8]*=i,t[1]*=r,t[5]*=n,t[9]*=i,t[2]*=r,t[6]*=n,t[10]*=i,t[3]*=r,t[7]*=n,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),n=Math.sin(t),i=1-r,s=e.x,o=e.y,a=e.z,l=i*s,c=i*o;return this.set(l*s+r,l*o-n*a,l*a+n*o,0,l*o+n*a,c*o+r,c*a-n*s,0,l*a-n*o,c*a+n*s,i*a*a+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r){return this.set(1,t,r,0,e,1,r,0,e,t,1,0,0,0,0,1),this}compose(e,t,r){const n=this.elements,i=t._x,s=t._y,o=t._z,a=t._w,l=i+i,c=s+s,u=o+o,h=i*l,d=i*c,p=i*u,f=s*c,m=s*u,g=o*u,y=a*l,v=a*c,_=a*u,b=r.x,w=r.y,x=r.z;return n[0]=(1-(f+g))*b,n[1]=(d+_)*b,n[2]=(p-v)*b,n[3]=0,n[4]=(d-_)*w,n[5]=(1-(h+g))*w,n[6]=(m+y)*w,n[7]=0,n[8]=(p+v)*x,n[9]=(m-y)*x,n[10]=(1-(h+f))*x,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this}decompose(e,t,r){const n=this.elements;let i=ZE.set(n[0],n[1],n[2]).length();const s=ZE.set(n[4],n[5],n[6]).length(),o=ZE.set(n[8],n[9],n[10]).length();this.determinant()<0&&(i=-i),e.x=n[12],e.y=n[13],e.z=n[14],QE.copy(this);const a=1/i,l=1/s,c=1/o;return QE.elements[0]*=a,QE.elements[1]*=a,QE.elements[2]*=a,QE.elements[4]*=l,QE.elements[5]*=l,QE.elements[6]*=l,QE.elements[8]*=c,QE.elements[9]*=c,QE.elements[10]*=c,t.setFromRotationMatrix(QE),r.x=i,r.y=s,r.z=o,this}makePerspective(e,t,r,n,i,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const o=this.elements,a=2*i/(r-n),l=(t+e)/(t-e),c=(r+n)/(r-n),u=-(s+i)/(s-i),h=-2*s*i/(s-i);return o[0]=2*i/(t-e),o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=a,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=u,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,t,r,n,i,s){const o=this.elements,a=1/(t-e),l=1/(r-n),c=1/(s-i),u=(t+e)*a,h=(r+n)*l,d=(s+i)*c;return o[0]=2*a,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let n=0;n<16;n++)if(t[n]!==r[n])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}$E.prototype.isMatrix4=!0;const ZE=new vE,QE=new $E,JE=new vE(0,0,0),KE=new vE(1,1,1),eT=new vE,tT=new vE,rT=new vE,nT=new $E,iT=new yE;class sT{constructor(e=0,t=0,r=0,n=sT.DefaultOrder){this._x=e,this._y=t,this._z=r,this._order=n}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._order=n||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t,r){const n=aE.clamp,i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],h=i[2],d=i[6],p=i[10];switch(t=t||this._order){case"XYZ":this._y=Math.asin(n(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-n(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(n(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-n(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(n(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-n(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!1!==r&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return nT.makeRotationFromQuaternion(e),this.setFromRotationMatrix(nT,t,r)}setFromVector3(e,t){return this.set(e.x,e.y,e.z,t||this._order)}reorder(e){return iT.setFromEuler(this),this.setFromQuaternion(iT,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new vE(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}sT.prototype.isEuler=!0,sT.DefaultOrder="XYZ",sT.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class oT{constructor(){this.mask=1}set(e){this.mask=1<<e|0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}}let aT=0;const lT=new vE,cT=new yE,uT=new $E,hT=new vE,dT=new vE,pT=new vE,fT=new yE,mT=new vE(1,0,0),gT=new vE(0,1,0),yT=new vE(0,0,1),vT={type:"added"},_T={type:"removed"};function bT(){Object.defineProperty(this,"id",{value:aT++}),this.uuid=aE.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=bT.DefaultUp.clone();const e=new vE,t=new sT,r=new yE,n=new vE(1,1,1);t._onChange(function(){r.setFromEuler(t,!1)}),r._onChange(function(){t.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new $E},normalMatrix:{value:new cE}}),this.matrix=new $E,this.matrixWorld=new $E,this.matrixAutoUpdate=bT.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new oT,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}bT.DefaultUp=new vE(0,1,0),bT.DefaultMatrixAutoUpdate=!0,bT.prototype=Object.assign(Object.create(iE.prototype),{constructor:bT,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return cT.setFromAxisAngle(e,t),this.quaternion.multiply(cT),this},rotateOnWorldAxis:function(e,t){return cT.setFromAxisAngle(e,t),this.quaternion.premultiply(cT),this},rotateX:function(e){return this.rotateOnAxis(mT,e)},rotateY:function(e){return this.rotateOnAxis(gT,e)},rotateZ:function(e){return this.rotateOnAxis(yT,e)},translateOnAxis:function(e,t){return lT.copy(e).applyQuaternion(this.quaternion),this.position.add(lT.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(mT,e)},translateY:function(e){return this.translateOnAxis(gT,e)},translateZ:function(e){return this.translateOnAxis(yT,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(uT.copy(this.matrixWorld).invert())},lookAt:function(e,t,r){e.isVector3?hT.copy(e):hT.set(e,t,r);const n=this.parent;this.updateWorldMatrix(!0,!1),dT.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?uT.lookAt(dT,hT,this.up):uT.lookAt(hT,dT,this.up),this.quaternion.setFromRotationMatrix(uT),n&&(uT.extractRotation(n.matrixWorld),cT.setFromRotationMatrix(uT),this.quaternion.premultiply(cT.invert()))},add:function(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(vT)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(_T)),this},clear:function(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(_T)}return this.children.length=0,this},attach:function(e){return this.updateWorldMatrix(!0,!1),uT.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),uT.multiply(e.parent.matrixWorld)),e.applyMatrix4(uT),this.add(e),e.updateWorldMatrix(!1,!0),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(let r=0,n=this.children.length;r<n;r++){const n=this.children[r].getObjectByProperty(e,t);if(void 0!==n)return n}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new vE),this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new yE),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(dT,e,pT),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new vE),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(dT,fT,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new vE),this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);const t=this.children;for(let r=0,n=t.length;r<n;r++)t[r].traverse(e)},traverseVisible:function(e){if(!1===this.visible)return;e(this);const t=this.children;for(let r=0,n=t.length;r<n;r++)t[r].traverseVisible(e)},traverseAncestors:function(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,n=t.length;r<n;r++)t[r].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){const r=this.parent;if(!0===e&&null!==r&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,r=e.length;t<r;t++)e[t].updateWorldMatrix(!1,!0)}},toJSON:function(e){const t=void 0===e||"string"==typeof e,r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const n={};function i(t,r){return void 0===t[r.uuid]&&(t[r.uuid]=r.toJSON(e)),r.uuid}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),!1===this.frustumCulled&&(n.frustumCulled=!1),0!==this.renderOrder&&(n.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(n.instanceColor=this.instanceColor.toJSON())),this.isMesh||this.isLine||this.isPoints){n.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const r=t.shapes;if(Array.isArray(r))for(let t=0,n=r.length;t<n;t++)i(e.shapes,r[t]);else i(e.shapes,r)}}if(this.isSkinnedMesh&&(n.bindMode=this.bindMode,n.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),n.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let r=0,n=this.material.length;r<n;r++)t.push(i(e.materials,this.material[r]));n.material=t}else n.material=i(e.materials,this.material);if(this.children.length>0){n.children=[];for(let t=0;t<this.children.length;t++)n.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){n.animations=[];for(let t=0;t<this.animations.length;t++)n.animations.push(i(e.animations,this.animations[t]))}if(t){const t=s(e.geometries),n=s(e.materials),i=s(e.textures),o=s(e.images),a=s(e.shapes),l=s(e.skeletons),c=s(e.animations);t.length>0&&(r.geometries=t),n.length>0&&(r.materials=n),i.length>0&&(r.textures=i),o.length>0&&(r.images=o),a.length>0&&(r.shapes=a),l.length>0&&(r.skeletons=l),c.length>0&&(r.animations=c)}return r.object=n,r;function s(e){const t=[];for(const r in e){const n=e[r];delete n.metadata,t.push(n)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let r=0;r<e.children.length;r++)this.add(e.children[r].clone());return this}});const wT=new vE,xT=new vE,ST=new cE;class MT{constructor(e=new vE(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,n){return this.normal.set(e,t,r),this.constant=n,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const n=wT.subVectors(r,t).cross(xT.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(n,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new vE),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new vE);const r=e.delta(wT),n=this.normal.dot(r);if(0===n)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/n;return i<0||i>1?null:t.copy(r).multiplyScalar(i).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new vE),e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||ST.getNormalMatrix(e),n=this.coplanarPoint(wT).applyMatrix4(e),i=this.normal.applyMatrix3(r).normalize();return this.constant=-n.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}MT.prototype.isPlane=!0;const ET=new vE,TT=new vE,CT=new vE,AT=new vE,LT=new vE,PT=new vE,OT=new vE,RT=new vE,kT=new vE,jT=new vE;class DT{constructor(e=new vE,t=new vE,r=new vE){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,n){void 0===n&&(console.warn("THREE.Triangle: .getNormal() target is now required"),n=new vE),n.subVectors(r,t),ET.subVectors(e,t),n.cross(ET);const i=n.lengthSq();return i>0?n.multiplyScalar(1/Math.sqrt(i)):n.set(0,0,0)}static getBarycoord(e,t,r,n,i){ET.subVectors(n,t),TT.subVectors(r,t),CT.subVectors(e,t);const s=ET.dot(ET),o=ET.dot(TT),a=ET.dot(CT),l=TT.dot(TT),c=TT.dot(CT),u=s*l-o*o;if(void 0===i&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new vE),0===u)return i.set(-2,-1,-1);const h=1/u,d=(l*a-o*c)*h,p=(s*c-o*a)*h;return i.set(1-d-p,p,d)}static containsPoint(e,t,r,n){return this.getBarycoord(e,t,r,n,AT),AT.x>=0&&AT.y>=0&&AT.x+AT.y<=1}static getUV(e,t,r,n,i,s,o,a){return this.getBarycoord(e,t,r,n,AT),a.set(0,0),a.addScaledVector(i,AT.x),a.addScaledVector(s,AT.y),a.addScaledVector(o,AT.z),a}static isFrontFacing(e,t,r,n){return ET.subVectors(r,t),TT.subVectors(e,t),ET.cross(TT).dot(n)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,n){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[n]),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ET.subVectors(this.c,this.b),TT.subVectors(this.a,this.b),.5*ET.cross(TT).length()}getMidpoint(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new vE),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return DT.getNormal(this.a,this.b,this.c,e)}getPlane(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new MT),e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return DT.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,n,i){return DT.getUV(e,this.a,this.b,this.c,t,r,n,i)}containsPoint(e){return DT.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return DT.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new vE);const r=this.a,n=this.b,i=this.c;let s,o;LT.subVectors(n,r),PT.subVectors(i,r),RT.subVectors(e,r);const a=LT.dot(RT),l=PT.dot(RT);if(a<=0&&l<=0)return t.copy(r);kT.subVectors(e,n);const c=LT.dot(kT),u=PT.dot(kT);if(c>=0&&u<=c)return t.copy(n);const h=a*u-c*l;if(h<=0&&a>=0&&c<=0)return s=a/(a-c),t.copy(r).addScaledVector(LT,s);jT.subVectors(e,i);const d=LT.dot(jT),p=PT.dot(jT);if(p>=0&&d<=p)return t.copy(i);const f=d*l-a*p;if(f<=0&&l>=0&&p<=0)return o=l/(l-p),t.copy(r).addScaledVector(PT,o);const m=c*p-d*u;if(m<=0&&u-c>=0&&d-p>=0)return OT.subVectors(i,n),o=(u-c)/(u-c+(d-p)),t.copy(n).addScaledVector(OT,o);const g=1/(m+f+h);return s=f*g,o=h*g,t.copy(r).addScaledVector(LT,s).addScaledVector(PT,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let IT=0;function NT(){Object.defineProperty(this,"id",{value:IT++}),this.uuid=aE.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=OM,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=eE,this.stencilZFail=eE,this.stencilZPass=eE,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}NT.prototype=Object.assign(Object.create(iE.prototype),{constructor:NT,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(void 0!==e)for(const t in e){const r=e[t];if(void 0===r){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if("shading"===t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===r;continue}const n=this[t];void 0!==n?n&&n.isColor?n.set(r):n&&n.isVector3&&r&&r.isVector3?n.copy(r):this[t]=r:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}},toJSON:function(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function n(e){const t=[];for(const r in e){const n=e[r];delete n.metadata,t.push(n)}return t}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(r.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,r.reflectivity=this.reflectivity,r.refractionRatio=this.refractionRatio,void 0!==this.combine&&(r.combine=this.combine),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(r.size=this.size),null!==this.shadowSide&&(r.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(r.blending=this.blending),0!==this.side&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(r.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(r.morphTargets=!0),!0===this.morphNormals&&(r.morphNormals=!0),!0===this.skinning&&(r.skinning=!0),!0===this.flatShading&&(r.flatShading=this.flatShading),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),t){const t=n(e.textures),i=n(e.images);t.length>0&&(r.textures=t),i.length>0&&(r.images=i)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(null!==t){const e=t.length;r=new Array(e);for(let n=0;n!==e;++n)r[n]=t[n].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(NT.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}});const zT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},FT={h:0,s:0,l:0},UT={h:0,s:0,l:0};function BT(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+6*(t-e)*(2/3-r):e}function VT(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function HT(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}class GT{constructor(e,t,r){return void 0===t&&void 0===r?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}setRGB(e,t,r){return this.r=e,this.g=t,this.b=r,this}setHSL(e,t,r){if(e=aE.euclideanModulo(e,1),t=aE.clamp(t,0,1),r=aE.clamp(r,0,1),0===t)this.r=this.g=this.b=r;else{const n=r<=.5?r*(1+t):r+t-r*t,i=2*r-n;this.r=BT(i,n,e+1/3),this.g=BT(i,n,e),this.b=BT(i,n,e-1/3)}return this}setStyle(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let e;const n=r[2];switch(r[1]){case"rgb":case"rgba":if(e=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(n))return this.r=Math.min(255,parseInt(e[1],10))/255,this.g=Math.min(255,parseInt(e[2],10))/255,this.b=Math.min(255,parseInt(e[3],10))/255,t(e[4]),this;if(e=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(n))return this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,t(e[4]),this;break;case"hsl":case"hsla":if(e=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(n)){const r=parseFloat(e[1])/360,n=parseInt(e[2],10)/100,i=parseInt(e[3],10)/100;return t(e[4]),this.setHSL(r,n,i)}}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const e=r[1],t=e.length;if(3===t)return this.r=parseInt(e.charAt(0)+e.charAt(0),16)/255,this.g=parseInt(e.charAt(1)+e.charAt(1),16)/255,this.b=parseInt(e.charAt(2)+e.charAt(2),16)/255,this;if(6===t)return this.r=parseInt(e.charAt(0)+e.charAt(1),16)/255,this.g=parseInt(e.charAt(2)+e.charAt(3),16)/255,this.b=parseInt(e.charAt(4)+e.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const t=zT[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,t=2){return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}copyLinearToGamma(e,t=2){const r=t>0?1/t:1;return this.r=Math.pow(e.r,r),this.g=Math.pow(e.g,r),this.b=Math.pow(e.b,r),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=VT(e.r),this.g=VT(e.g),this.b=VT(e.b),this}copyLinearToSRGB(e){return this.r=HT(e.r),this.g=HT(e.g),this.b=HT(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});const t=this.r,r=this.g,n=this.b,i=Math.max(t,r,n),s=Math.min(t,r,n);let o,a;const l=(s+i)/2;if(s===i)o=0,a=0;else{const e=i-s;switch(a=l<=.5?e/(i+s):e/(2-i-s),i){case t:o=(r-n)/e+(r<n?6:0);break;case r:o=(n-t)/e+2;break;case n:o=(t-r)/e+4}o/=6}return e.h=o,e.s=a,e.l=l,e}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(e,t,r){return this.getHSL(FT),FT.h+=e,FT.s+=t,FT.l+=r,this.setHSL(FT.h,FT.s,FT.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(FT),e.getHSL(UT);const r=aE.lerp(FT.h,UT.h,t),n=aE.lerp(FT.s,UT.s,t),i=aE.lerp(FT.l,UT.l,t);return this.setHSL(r,n,i),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}GT.NAMES=zT,GT.prototype.isColor=!0,GT.prototype.r=1,GT.prototype.g=1,GT.prototype.b=1;class WT extends NT{constructor(e){super(),this.type="MeshBasicMaterial",this.color=new GT(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this}}WT.prototype.isMeshBasicMaterial=!0;const qT=new vE,XT=new lE;function YT(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===r,this.usage=tE,this.updateRange={offset:0,count:-1},this.version=0}function $T(e,t,r){YT.call(this,new Int8Array(e),t,r)}function ZT(e,t,r){YT.call(this,new Uint8Array(e),t,r)}function QT(e,t,r){YT.call(this,new Uint8ClampedArray(e),t,r)}function JT(e,t,r){YT.call(this,new Int16Array(e),t,r)}function KT(e,t,r){YT.call(this,new Uint16Array(e),t,r)}function eC(e,t,r){YT.call(this,new Int32Array(e),t,r)}function tC(e,t,r){YT.call(this,new Uint32Array(e),t,r)}function rC(e,t,r){YT.call(this,new Uint16Array(e),t,r)}function nC(e,t,r){YT.call(this,new Float32Array(e),t,r)}function iC(e,t,r){YT.call(this,new Float64Array(e),t,r)}function sC(e){if(0===e.length)return-1/0;let t=e[0];for(let r=1,n=e.length;r<n;++r)e[r]>t&&(t=e[r]);return t}Object.defineProperty(YT.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(YT.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let n=0,i=this.itemSize;n<i;n++)this.array[e+n]=t.array[r+n];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){const t=this.array;let r=0;for(let n=0,i=e.length;n<i;n++){let i=e[n];void 0===i&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),i=new GT),t[r++]=i.r,t[r++]=i.g,t[r++]=i.b}return this},copyVector2sArray:function(e){const t=this.array;let r=0;for(let n=0,i=e.length;n<i;n++){let i=e[n];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),i=new lE),t[r++]=i.x,t[r++]=i.y}return this},copyVector3sArray:function(e){const t=this.array;let r=0;for(let n=0,i=e.length;n<i;n++){let i=e[n];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),i=new vE),t[r++]=i.x,t[r++]=i.y,t[r++]=i.z}return this},copyVector4sArray:function(e){const t=this.array;let r=0;for(let n=0,i=e.length;n<i;n++){let i=e[n];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),i=new mE),t[r++]=i.x,t[r++]=i.y,t[r++]=i.z,t[r++]=i.w}return this},applyMatrix3:function(e){if(2===this.itemSize)for(let t=0,r=this.count;t<r;t++)XT.fromBufferAttribute(this,t),XT.applyMatrix3(e),this.setXY(t,XT.x,XT.y);else if(3===this.itemSize)for(let t=0,r=this.count;t<r;t++)qT.fromBufferAttribute(this,t),qT.applyMatrix3(e),this.setXYZ(t,qT.x,qT.y,qT.z);return this},applyMatrix4:function(e){for(let t=0,r=this.count;t<r;t++)qT.x=this.getX(t),qT.y=this.getY(t),qT.z=this.getZ(t),qT.applyMatrix4(e),this.setXYZ(t,qT.x,qT.y,qT.z);return this},applyNormalMatrix:function(e){for(let t=0,r=this.count;t<r;t++)qT.x=this.getX(t),qT.y=this.getY(t),qT.z=this.getZ(t),qT.applyNormalMatrix(e),this.setXYZ(t,qT.x,qT.y,qT.z);return this},transformDirection:function(e){for(let t=0,r=this.count;t<r;t++)qT.x=this.getX(t),qT.y=this.getY(t),qT.z=this.getZ(t),qT.transformDirection(e),this.setXYZ(t,qT.x,qT.y,qT.z);return this},set:function(e,t=0){return this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,r){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=r,this},setXYZ:function(e,t,r,n){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=r,this.array[e+2]=n,this},setXYZW:function(e,t,r,n,i){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=r,this.array[e+2]=n,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==tE&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}),($T.prototype=Object.create(YT.prototype)).constructor=$T,(ZT.prototype=Object.create(YT.prototype)).constructor=ZT,(QT.prototype=Object.create(YT.prototype)).constructor=QT,(JT.prototype=Object.create(YT.prototype)).constructor=JT,(KT.prototype=Object.create(YT.prototype)).constructor=KT,(eC.prototype=Object.create(YT.prototype)).constructor=eC,(tC.prototype=Object.create(YT.prototype)).constructor=tC,(rC.prototype=Object.create(YT.prototype)).constructor=rC,rC.prototype.isFloat16BufferAttribute=!0,(nC.prototype=Object.create(YT.prototype)).constructor=nC,(iC.prototype=Object.create(YT.prototype)).constructor=iC,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;let oC=0;const aC=new $E,lC=new bT,cC=new vE,uC=new wE,hC=new wE,dC=new vE;function pC(){Object.defineProperty(this,"id",{value:oC++}),this.uuid=aE.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}pC.prototype=Object.assign(Object.create(iE.prototype),{constructor:pC,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){return this.index=Array.isArray(e)?new(sC(e)>65535?tC:KT)(e,1):e,this},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},hasAttribute:function(e){return void 0!==this.attributes[e]},addGroup:function(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(void 0!==r){const t=(new cE).getNormalMatrix(e);r.applyNormalMatrix(t),r.needsUpdate=!0}const n=this.attributes.tangent;return void 0!==n&&(n.transformDirection(e),n.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return aC.makeRotationX(e),this.applyMatrix4(aC),this},rotateY:function(e){return aC.makeRotationY(e),this.applyMatrix4(aC),this},rotateZ:function(e){return aC.makeRotationZ(e),this.applyMatrix4(aC),this},translate:function(e,t,r){return aC.makeTranslation(e,t,r),this.applyMatrix4(aC),this},scale:function(e,t,r){return aC.makeScale(e,t,r),this.applyMatrix4(aC),this},lookAt:function(e){return lC.lookAt(e),lC.updateMatrix(),this.applyMatrix4(lC.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(cC).negate(),this.translate(cC.x,cC.y,cC.z),this},setFromPoints:function(e){const t=[];for(let r=0,n=e.length;r<n;r++){const n=e[r];t.push(n.x,n.y,n.z||0)}return this.setAttribute("position",new nC(t,3)),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new wE);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new vE(-1/0,-1/0,-1/0),new vE(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,n=t.length;r<n;r++)uC.setFromBufferAttribute(t[r]),this.morphTargetsRelative?(dC.addVectors(this.boundingBox.min,uC.min),this.boundingBox.expandByPoint(dC),dC.addVectors(this.boundingBox.max,uC.max),this.boundingBox.expandByPoint(dC)):(this.boundingBox.expandByPoint(uC.min),this.boundingBox.expandByPoint(uC.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new UE);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new vE,1/0);if(e){const r=this.boundingSphere.center;if(uC.setFromBufferAttribute(e),t)for(let e=0,i=t.length;e<i;e++)hC.setFromBufferAttribute(t[e]),this.morphTargetsRelative?(dC.addVectors(uC.min,hC.min),uC.expandByPoint(dC),dC.addVectors(uC.max,hC.max),uC.expandByPoint(dC)):(uC.expandByPoint(hC.min),uC.expandByPoint(hC.max));uC.getCenter(r);let n=0;for(let t=0,i=e.count;t<i;t++)dC.fromBufferAttribute(e,t),n=Math.max(n,r.distanceToSquared(dC));if(t)for(let i=0,s=t.length;i<s;i++){const s=t[i],o=this.morphTargetsRelative;for(let t=0,i=s.count;t<i;t++)dC.fromBufferAttribute(s,t),o&&(cC.fromBufferAttribute(e,t),dC.add(cC)),n=Math.max(n,r.distanceToSquared(dC))}this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeTangents:function(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const r=e.array,n=t.position.array,i=t.normal.array,s=t.uv.array,o=n.length/3;void 0===t.tangent&&this.setAttribute("tangent",new YT(new Float32Array(4*o),4));const a=t.tangent.array,l=[],c=[];for(let E=0;E<o;E++)l[E]=new vE,c[E]=new vE;const u=new vE,h=new vE,d=new vE,p=new lE,f=new lE,m=new lE,g=new vE,y=new vE;function v(e,t,r){u.fromArray(n,3*e),h.fromArray(n,3*t),d.fromArray(n,3*r),p.fromArray(s,2*e),f.fromArray(s,2*t),m.fromArray(s,2*r),h.sub(u),d.sub(u),f.sub(p),m.sub(p);const i=1/(f.x*m.y-m.x*f.y);isFinite(i)&&(g.copy(h).multiplyScalar(m.y).addScaledVector(d,-f.y).multiplyScalar(i),y.copy(d).multiplyScalar(f.x).addScaledVector(h,-m.x).multiplyScalar(i),l[e].add(g),l[t].add(g),l[r].add(g),c[e].add(y),c[t].add(y),c[r].add(y))}let _=this.groups;0===_.length&&(_=[{start:0,count:r.length}]);for(let E=0,T=_.length;E<T;++E){const e=_[E],t=e.start;for(let n=t,i=t+e.count;n<i;n+=3)v(r[n+0],r[n+1],r[n+2])}const b=new vE,w=new vE,x=new vE,S=new vE;function M(e){x.fromArray(i,3*e),S.copy(x);const t=l[e];b.copy(t),b.sub(x.multiplyScalar(x.dot(t))).normalize(),w.crossVectors(S,t);const r=w.dot(c[e])<0?-1:1;a[4*e]=b.x,a[4*e+1]=b.y,a[4*e+2]=b.z,a[4*e+3]=r}for(let E=0,T=_.length;E<T;++E){const e=_[E],t=e.start;for(let n=t,i=t+e.count;n<i;n+=3)M(r[n+0]),M(r[n+1]),M(r[n+2])}},computeVertexNormals:function(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let r=this.getAttribute("normal");if(void 0===r)r=new YT(new Float32Array(3*t.count),3),this.setAttribute("normal",r);else for(let e=0,t=r.count;e<t;e++)r.setXYZ(e,0,0,0);const n=new vE,i=new vE,s=new vE,o=new vE,a=new vE,l=new vE,c=new vE,u=new vE;if(e)for(let h=0,d=e.count;h<d;h+=3){const d=e.getX(h+0),p=e.getX(h+1),f=e.getX(h+2);n.fromBufferAttribute(t,d),i.fromBufferAttribute(t,p),s.fromBufferAttribute(t,f),c.subVectors(s,i),u.subVectors(n,i),c.cross(u),o.fromBufferAttribute(r,d),a.fromBufferAttribute(r,p),l.fromBufferAttribute(r,f),o.add(c),a.add(c),l.add(c),r.setXYZ(d,o.x,o.y,o.z),r.setXYZ(p,a.x,a.y,a.z),r.setXYZ(f,l.x,l.y,l.z)}else for(let e=0,h=t.count;e<h;e+=3)n.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),s.fromBufferAttribute(t,e+2),c.subVectors(s,i),u.subVectors(n,i),c.cross(u),r.setXYZ(e+0,c.x,c.y,c.z),r.setXYZ(e+1,c.x,c.y,c.z),r.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}},merge:function(e,t){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const n in r){if(void 0===e.attributes[n])continue;const i=r[n].array,s=e.attributes[n],o=s.array,a=s.itemSize*t,l=Math.min(o.length,i.length-a);for(let e=0,t=a;e<l;e++,t++)i[t]=o[e]}return this},normalizeNormals:function(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)dC.fromBufferAttribute(e,t),dC.normalize(),e.setXYZ(t,dC.x,dC.y,dC.z)},toNonIndexed:function(){function e(e,t){const r=e.array,n=e.itemSize,i=e.normalized,s=new r.constructor(t.length*n);let o=0,a=0;for(let l=0,c=t.length;l<c;l++){o=t[l]*n;for(let e=0;e<n;e++)s[a++]=r[o++]}return new YT(s,n,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new pC,r=this.index.array,n=this.attributes;for(const o in n){const i=e(n[o],r);t.setAttribute(o,i)}const i=this.morphAttributes;for(const o in i){const n=[],s=i[o];for(let t=0,i=s.length;t<i;t++){const i=e(s[t],r);n.push(i)}t.morphAttributes[o]=n}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,a=s.length;o<a;o++){const e=s[o];t.addGroup(e.start,e.count,e.materialIndex)}return t},toJSON:function(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const r in t)void 0!==t[r]&&(e[r]=t[r]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const a in r)e.data.attributes[a]=r[a].toJSON(e.data);const n={};let i=!1;for(const a in this.morphAttributes){const t=this.morphAttributes[a],r=[];for(let n=0,i=t.length;n<i;n++)r.push(t[n].toJSON(e.data));r.length>0&&(n[a]=r,i=!0)}i&&(e.data.morphAttributes=n,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return null!==o&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e},clone:function(){return(new pC).copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;null!==r&&this.setIndex(r.clone(t));const n=e.attributes;for(const l in n)this.setAttribute(l,n[l].clone(t));const i=e.morphAttributes;for(const l in i){const e=[],r=i[l];for(let n=0,i=r.length;n<i;n++)e.push(r[n].clone(t));this.morphAttributes[l]=e}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let l=0,c=s.length;l<c;l++){const e=s[l];this.addGroup(e.start,e.count,e.materialIndex)}const o=e.boundingBox;null!==o&&(this.boundingBox=o.clone());const a=e.boundingSphere;return null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const fC=new $E,mC=new YE,gC=new UE,yC=new vE,vC=new vE,_C=new vE,bC=new vE,wC=new vE,xC=new vE,SC=new vE,MC=new vE,EC=new vE,TC=new lE,CC=new lE,AC=new lE,LC=new vE,PC=new vE;function OC(e=new pC,t=new WT){bT.call(this),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}function RC(e,t,r,n,i,s,o,a,l,c,u,h){yC.fromBufferAttribute(i,c),vC.fromBufferAttribute(i,u),_C.fromBufferAttribute(i,h);const d=e.morphTargetInfluences;if(t.morphTargets&&s&&d){SC.set(0,0,0),MC.set(0,0,0),EC.set(0,0,0);for(let e=0,t=s.length;e<t;e++){const t=d[e],r=s[e];0!==t&&(bC.fromBufferAttribute(r,c),wC.fromBufferAttribute(r,u),xC.fromBufferAttribute(r,h),o?(SC.addScaledVector(bC,t),MC.addScaledVector(wC,t),EC.addScaledVector(xC,t)):(SC.addScaledVector(bC.sub(yC),t),MC.addScaledVector(wC.sub(vC),t),EC.addScaledVector(xC.sub(_C),t)))}yC.add(SC),vC.add(MC),_C.add(EC)}e.isSkinnedMesh&&t.skinning&&(e.boneTransform(c,yC),e.boneTransform(u,vC),e.boneTransform(h,_C));const p=function(e,t,r,n,i,s,o,a){let l;if(l=1===t.side?n.intersectTriangle(o,s,i,!0,a):n.intersectTriangle(i,s,o,2!==t.side,a),null===l)return null;PC.copy(a),PC.applyMatrix4(e.matrixWorld);const c=r.ray.origin.distanceTo(PC);return c<r.near||c>r.far?null:{distance:c,point:PC.clone(),object:e}}(e,t,r,n,yC,vC,_C,LC);if(p){a&&(TC.fromBufferAttribute(a,c),CC.fromBufferAttribute(a,u),AC.fromBufferAttribute(a,h),p.uv=DT.getUV(LC,yC,vC,_C,TC,CC,AC,new lE)),l&&(TC.fromBufferAttribute(l,c),CC.fromBufferAttribute(l,u),AC.fromBufferAttribute(l,h),p.uv2=DT.getUV(LC,yC,vC,_C,TC,CC,AC,new lE));const e={a:c,b:u,c:h,normal:new vE,materialIndex:0};DT.getNormal(yC,vC,_C,e.normal),p.face=e}return p}OC.prototype=Object.assign(Object.create(bT.prototype),{constructor:OC,isMesh:!0,copy:function(e){return bT.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const e=t[r[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,r=e.length;t<r;t++){const r=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){const r=this.geometry,n=this.material,i=this.matrixWorld;if(void 0===n)return;if(null===r.boundingSphere&&r.computeBoundingSphere(),gC.copy(r.boundingSphere),gC.applyMatrix4(i),!1===e.ray.intersectsSphere(gC))return;if(fC.copy(i).invert(),mC.copy(e.ray).applyMatrix4(fC),null!==r.boundingBox&&!1===mC.intersectsBox(r.boundingBox))return;let s;if(r.isBufferGeometry){const i=r.index,o=r.attributes.position,a=r.morphAttributes.position,l=r.morphTargetsRelative,c=r.attributes.uv,u=r.attributes.uv2,h=r.groups,d=r.drawRange;if(null!==i)if(Array.isArray(n))for(let r=0,p=h.length;r<p;r++){const p=h[r],f=n[p.materialIndex];for(let r=Math.max(p.start,d.start),n=Math.min(p.start+p.count,d.start+d.count);r<n;r+=3){const n=i.getX(r),h=i.getX(r+1),d=i.getX(r+2);s=RC(this,f,e,mC,o,a,l,c,u,n,h,d),s&&(s.faceIndex=Math.floor(r/3),s.face.materialIndex=p.materialIndex,t.push(s))}}else for(let r=Math.max(0,d.start),p=Math.min(i.count,d.start+d.count);r<p;r+=3){const h=i.getX(r),d=i.getX(r+1),p=i.getX(r+2);s=RC(this,n,e,mC,o,a,l,c,u,h,d,p),s&&(s.faceIndex=Math.floor(r/3),t.push(s))}else if(void 0!==o)if(Array.isArray(n))for(let r=0,p=h.length;r<p;r++){const i=h[r],p=n[i.materialIndex];for(let r=Math.max(i.start,d.start),n=Math.min(i.start+i.count,d.start+d.count);r<n;r+=3)s=RC(this,p,e,mC,o,a,l,c,u,r,r+1,r+2),s&&(s.faceIndex=Math.floor(r/3),s.face.materialIndex=i.materialIndex,t.push(s))}else for(let r=Math.max(0,d.start),p=Math.min(o.count,d.start+d.count);r<p;r+=3)s=RC(this,n,e,mC,o,a,l,c,u,r,r+1,r+2),s&&(s.faceIndex=Math.floor(r/3),t.push(s))}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}});class kC extends pC{constructor(e=1,t=1,r=1,n=1,i=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:n,heightSegments:i,depthSegments:s};const o=this;n=Math.floor(n),i=Math.floor(i),s=Math.floor(s);const a=[],l=[],c=[],u=[];let h=0,d=0;function p(e,t,r,n,i,s,p,f,m,g,y){const v=s/m,_=p/g,b=s/2,w=p/2,x=f/2,S=m+1,M=g+1;let E=0,T=0;const C=new vE;for(let o=0;o<M;o++){const s=o*_-w;for(let a=0;a<S;a++)C[e]=(a*v-b)*n,C[t]=s*i,C[r]=x,l.push(C.x,C.y,C.z),C[e]=0,C[t]=0,C[r]=f>0?1:-1,c.push(C.x,C.y,C.z),u.push(a/m),u.push(1-o/g),E+=1}for(let o=0;o<g;o++)for(let e=0;e<m;e++){const t=h+e+S*(o+1),r=h+(e+1)+S*(o+1),n=h+(e+1)+S*o;a.push(h+e+S*o,t,n),a.push(t,r,n),T+=6}o.addGroup(d,T,y),d+=T,h+=E}p("z","y","x",-1,-1,r,t,e,s,i,0),p("z","y","x",1,-1,r,t,-e,s,i,1),p("x","z","y",1,1,e,r,t,n,s,2),p("x","z","y",1,-1,e,r,-t,n,s,3),p("x","y","z",1,-1,e,t,r,n,i,4),p("x","y","z",-1,-1,e,t,-r,n,i,5),this.setIndex(a),this.setAttribute("position",new nC(l,3)),this.setAttribute("normal",new nC(c,3)),this.setAttribute("uv",new nC(u,2))}}function jC(e){const t={};for(const r in e){t[r]={};for(const n in e[r]){const i=e[r][n];t[r][n]=i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.clone():Array.isArray(i)?i.slice():i}}return t}function DC(e){const t={};for(let r=0;r<e.length;r++){const n=jC(e[r]);for(const e in n)t[e]=n[e]}return t}const IC={clone:jC,merge:DC};function NC(e){NT.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function zC(){bT.call(this),this.type="Camera",this.matrixWorldInverse=new $E,this.projectionMatrix=new $E,this.projectionMatrixInverse=new $E}function FC(e=50,t=1,r=.1,n=2e3){zC.call(this),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=n,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}(NC.prototype=Object.create(NT.prototype)).constructor=NC,NC.prototype.isShaderMaterial=!0,NC.prototype.copy=function(e){return NT.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=jC(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this},NC.prototype.toJSON=function(e){const t=NT.prototype.toJSON.call(this,e);t.glslVersion=this.glslVersion,t.uniforms={};for(const n in this.uniforms){const r=this.uniforms[n].value;t.uniforms[n]=r&&r.isTexture?{type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?{type:"c",value:r.getHex()}:r&&r.isVector2?{type:"v2",value:r.toArray()}:r&&r.isVector3?{type:"v3",value:r.toArray()}:r&&r.isVector4?{type:"v4",value:r.toArray()}:r&&r.isMatrix3?{type:"m3",value:r.toArray()}:r&&r.isMatrix4?{type:"m4",value:r.toArray()}:{value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const n in this.extensions)!0===this.extensions[n]&&(r[n]=!0);return Object.keys(r).length>0&&(t.extensions=r),t},zC.prototype=Object.assign(Object.create(bT.prototype),{constructor:zC,isCamera:!0,copy:function(e,t){return bT.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new vE),this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){bT.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(e,t){bT.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),FC.prototype=Object.assign(Object.create(zC.prototype),{constructor:FC,isPerspectiveCamera:!0,copy:function(e,t){return zC.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){const t=.5*this.getFilmHeight()/e;this.fov=2*aE.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){const e=Math.tan(.5*aE.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*aE.RAD2DEG*Math.atan(Math.tan(.5*aE.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,r,n,i,s){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=s,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const e=this.near;let t=e*Math.tan(.5*aE.DEG2RAD*this.fov)/this.zoom,r=2*t,n=this.aspect*r,i=-.5*n;const s=this.view;if(null!==this.view&&this.view.enabled){const e=s.fullWidth,o=s.fullHeight;i+=s.offsetX*n/e,t-=s.offsetY*r/o,n*=s.width/e,r*=s.height/o}const o=this.filmOffset;0!==o&&(i+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+n,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(e){const t=bT.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});const UC=90;class BC extends bT{constructor(e,t,r){if(super(),this.type="CubeCamera",!0!==r.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=r;const n=new FC(UC,1,e,t);n.layers=this.layers,n.up.set(0,-1,0),n.lookAt(new vE(1,0,0)),this.add(n);const i=new FC(UC,1,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new vE(-1,0,0)),this.add(i);const s=new FC(UC,1,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new vE(0,1,0)),this.add(s);const o=new FC(UC,1,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(new vE(0,-1,0)),this.add(o);const a=new FC(UC,1,e,t);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new vE(0,0,1)),this.add(a);const l=new FC(UC,1,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new vE(0,0,-1)),this.add(l)}update(e,t){null===this.parent&&this.updateMatrixWorld();const r=this.renderTarget,[n,i,s,o,a,l]=this.children,c=e.xr.enabled,u=e.getRenderTarget();e.xr.enabled=!1;const h=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,n),e.setRenderTarget(r,1),e.render(t,i),e.setRenderTarget(r,2),e.render(t,s),e.setRenderTarget(r,3),e.render(t,o),e.setRenderTarget(r,4),e.render(t,a),r.texture.generateMipmaps=h,e.setRenderTarget(r,5),e.render(t,l),e.setRenderTarget(u),e.xr.enabled=c}}class VC extends pE{constructor(e,t,r,n,i,s,o,a,l,c){super(e=void 0!==e?e:[],t=void 0!==t?t:301,r,n,i,s,o=void 0!==o?o:HM,a,l,c),this._needsFlipEnvMap=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}VC.prototype.isCubeTexture=!0;class HC extends gE{constructor(e,t,r){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=r),super(e,e,t),this.texture=new VC(void 0,(t=t||{}).mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:IM,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=GM,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r=new kC(5,5,5),n=new NC({name:"CubemapFromEquirect",uniforms:jC({tEquirect:{value:null}}),vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",side:1,blending:0});n.uniforms.tEquirect.value=t;const i=new OC(r,n),s=t.minFilter;return t.minFilter===NM&&(t.minFilter=IM),new BC(1,10,this).update(e,i),t.minFilter=s,i.geometry.dispose(),i.material.dispose(),this}clear(e,t,r,n){const i=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,r,n);e.setRenderTarget(i)}}HC.prototype.isWebGLCubeRenderTarget=!0;class GC extends pE{constructor(e,t,r,n,i,s,o,a,l,c,u,h){super(null,s,o,a,l,c,n,i,u,h),this.image={data:e||null,width:t||1,height:r||1},this.magFilter=void 0!==l?l:DM,this.minFilter=void 0!==c?c:DM,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}GC.prototype.isDataTexture=!0;const WC=new UE,qC=new vE;class XC{constructor(e=new MT,t=new MT,r=new MT,n=new MT,i=new MT,s=new MT){this.planes=[e,t,r,n,i,s]}set(e,t,r,n,i,s){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(r),o[3].copy(n),o[4].copy(i),o[5].copy(s),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,n=r[0],i=r[1],s=r[2],o=r[3],a=r[4],l=r[5],c=r[6],u=r[7],h=r[8],d=r[9],p=r[10],f=r[11],m=r[12],g=r[13],y=r[14],v=r[15];return t[0].setComponents(o-n,u-a,f-h,v-m).normalize(),t[1].setComponents(o+n,u+a,f+h,v+m).normalize(),t[2].setComponents(o+i,u+l,f+d,v+g).normalize(),t[3].setComponents(o-i,u-l,f-d,v-g).normalize(),t[4].setComponents(o-s,u-c,f-p,v-y).normalize(),t[5].setComponents(o+s,u+c,f+p,v+y).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),WC.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(WC)}intersectsSprite(e){return WC.center.set(0,0,0),WC.radius=.7071067811865476,WC.applyMatrix4(e.matrixWorld),this.intersectsSphere(WC)}intersectsSphere(e){const t=this.planes,r=e.center,n=-e.radius;for(let i=0;i<6;i++)if(t[i].distanceToPoint(r)<n)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const n=t[r];if(qC.x=n.normal.x>0?e.max.x:e.min.x,qC.y=n.normal.y>0?e.max.y:e.min.y,qC.z=n.normal.z>0?e.max.z:e.min.z,n.distanceToPoint(qC)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function YC(){let e=null,t=!1,r=null,n=null;function i(t,s){r(t,s),n=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==r&&(n=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(n),t=!1},setAnimationLoop:function(e){r=e},setContext:function(t){e=t}}}function $C(e,t){const r=t.isWebGL2,n=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),n.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);const r=n.get(t);r&&(e.deleteBuffer(r.buffer),n.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){const e=n.get(t);return void((!e||e.version<t.version)&&n.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version}))}t.isInterleavedBufferAttribute&&(t=t.data);const s=n.get(t);void 0===s?n.set(t,function(t,n){const i=t.array,s=t.usage,o=e.createBuffer();e.bindBuffer(n,o),e.bufferData(n,i,s),t.onUploadCallback();let a=5126;return i instanceof Float32Array?a=5126:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?t.isFloat16BufferAttribute?r?a=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):a=5123:i instanceof Int16Array?a=5122:i instanceof Uint32Array?a=5125:i instanceof Int32Array?a=5124:i instanceof Int8Array?a=5120:i instanceof Uint8Array&&(a=5121),{buffer:o,type:a,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(t,i)):s.version<t.version&&(function(t,n,i){const s=n.array,o=n.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,s):(r?e.bufferSubData(i,o.offset*s.BYTES_PER_ELEMENT,s,o.offset,o.count):e.bufferSubData(i,o.offset*s.BYTES_PER_ELEMENT,s.subarray(o.offset,o.offset+o.count)),o.count=-1)}(s.buffer,t,i),s.version=t.version)}}}class ZC extends pC{constructor(e=1,t=1,r=1,n=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:n};const i=e/2,s=t/2,o=Math.floor(r),a=Math.floor(n),l=o+1,c=a+1,u=e/o,h=t/a,d=[],p=[],f=[],m=[];for(let g=0;g<c;g++){const e=g*h-s;for(let t=0;t<l;t++)p.push(t*u-i,-e,0),f.push(0,0,1),m.push(t/o),m.push(1-g/a)}for(let g=0;g<a;g++)for(let e=0;e<o;e++){const t=e+l*(g+1),r=e+1+l*(g+1),n=e+1+l*g;d.push(e+l*g,t,n),d.push(t,r,n)}this.setIndex(d),this.setAttribute("position",new nC(p,3)),this.setAttribute("normal",new nC(f,3)),this.setAttribute("uv",new nC(m,2))}}const QC={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},JC={common:{diffuse:{value:new GT(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new cE},uv2Transform:{value:new cE},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new lE(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new GT(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new GT(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new cE}},sprite:{diffuse:{value:new GT(15658734)},opacity:{value:1},center:{value:new lE(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new cE}}},KC={basic:{uniforms:DC([JC.common,JC.specularmap,JC.envmap,JC.aomap,JC.lightmap,JC.fog]),vertexShader:QC.meshbasic_vert,fragmentShader:QC.meshbasic_frag},lambert:{uniforms:DC([JC.common,JC.specularmap,JC.envmap,JC.aomap,JC.lightmap,JC.emissivemap,JC.fog,JC.lights,{emissive:{value:new GT(0)}}]),vertexShader:QC.meshlambert_vert,fragmentShader:QC.meshlambert_frag},phong:{uniforms:DC([JC.common,JC.specularmap,JC.envmap,JC.aomap,JC.lightmap,JC.emissivemap,JC.bumpmap,JC.normalmap,JC.displacementmap,JC.fog,JC.lights,{emissive:{value:new GT(0)},specular:{value:new GT(1118481)},shininess:{value:30}}]),vertexShader:QC.meshphong_vert,fragmentShader:QC.meshphong_frag},standard:{uniforms:DC([JC.common,JC.envmap,JC.aomap,JC.lightmap,JC.emissivemap,JC.bumpmap,JC.normalmap,JC.displacementmap,JC.roughnessmap,JC.metalnessmap,JC.fog,JC.lights,{emissive:{value:new GT(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:QC.meshphysical_vert,fragmentShader:QC.meshphysical_frag},toon:{uniforms:DC([JC.common,JC.aomap,JC.lightmap,JC.emissivemap,JC.bumpmap,JC.normalmap,JC.displacementmap,JC.gradientmap,JC.fog,JC.lights,{emissive:{value:new GT(0)}}]),vertexShader:QC.meshtoon_vert,fragmentShader:QC.meshtoon_frag},matcap:{uniforms:DC([JC.common,JC.bumpmap,JC.normalmap,JC.displacementmap,JC.fog,{matcap:{value:null}}]),vertexShader:QC.meshmatcap_vert,fragmentShader:QC.meshmatcap_frag},points:{uniforms:DC([JC.points,JC.fog]),vertexShader:QC.points_vert,fragmentShader:QC.points_frag},dashed:{uniforms:DC([JC.common,JC.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:QC.linedashed_vert,fragmentShader:QC.linedashed_frag},depth:{uniforms:DC([JC.common,JC.displacementmap]),vertexShader:QC.depth_vert,fragmentShader:QC.depth_frag},normal:{uniforms:DC([JC.common,JC.bumpmap,JC.normalmap,JC.displacementmap,{opacity:{value:1}}]),vertexShader:QC.normal_vert,fragmentShader:QC.normal_frag},sprite:{uniforms:DC([JC.sprite,JC.fog]),vertexShader:QC.sprite_vert,fragmentShader:QC.sprite_frag},background:{uniforms:{uvTransform:{value:new cE},t2D:{value:null}},vertexShader:QC.background_vert,fragmentShader:QC.background_frag},cube:{uniforms:DC([JC.envmap,{opacity:{value:1}}]),vertexShader:QC.cube_vert,fragmentShader:QC.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:QC.equirect_vert,fragmentShader:QC.equirect_frag},distanceRGBA:{uniforms:DC([JC.common,JC.displacementmap,{referencePosition:{value:new vE},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:QC.distanceRGBA_vert,fragmentShader:QC.distanceRGBA_frag},shadow:{uniforms:DC([JC.lights,JC.fog,{color:{value:new GT(0)},opacity:{value:1}}]),vertexShader:QC.shadow_vert,fragmentShader:QC.shadow_frag}};function eA(e,t,r,n,i){const s=new GT(0);let o,a,l=0,c=null,u=0,h=null;function d(e,t){r.buffers.color.setClear(e.r,e.g,e.b,t,i)}return{getClearColor:function(){return s},setClearColor:function(e,t=1){s.set(e),l=t,d(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(e){l=e,d(s,l)},render:function(r,i,p,f){let m=!0===i.isScene?i.background:null;m&&m.isTexture&&(m=t.get(m));const g=e.xr,y=g.getSession&&g.getSession();y&&"additive"===y.environmentBlendMode&&(m=null),null===m?d(s,l):m&&m.isColor&&(d(m,1),f=!0),(e.autoClear||f)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||306===m.mapping)?(void 0===a&&(a=new OC(new kC(1,1,1),new NC({name:"BackgroundCubeMaterial",uniforms:jC(KC.cube.uniforms),vertexShader:KC.cube.vertexShader,fragmentShader:KC.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),a.geometry.deleteAttribute("uv"),a.onBeforeRender=function(e,t,r){this.matrixWorld.copyPosition(r.matrixWorld)},Object.defineProperty(a.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(a)),a.material.uniforms.envMap.value=m,a.material.uniforms.flipEnvMap.value=m.isCubeTexture&&m._needsFlipEnvMap?-1:1,c===m&&u===m.version&&h===e.toneMapping||(a.material.needsUpdate=!0,c=m,u=m.version,h=e.toneMapping),r.unshift(a,a.geometry,a.material,0,0,null)):m&&m.isTexture&&(void 0===o&&(o=new OC(new ZC(2,2),new NC({name:"BackgroundMaterial",uniforms:jC(KC.background.uniforms),vertexShader:KC.background.vertexShader,fragmentShader:KC.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),o.geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(o)),o.material.uniforms.t2D.value=m,!0===m.matrixAutoUpdate&&m.updateMatrix(),o.material.uniforms.uvTransform.value.copy(m.matrix),c===m&&u===m.version&&h===e.toneMapping||(o.material.needsUpdate=!0,c=m,u=m.version,h=e.toneMapping),r.unshift(o,o.geometry,o.material,0,0,null))}}}function tA(e,t,r,n){const i=e.getParameter(34921),s=n.isWebGL2?null:t.get("OES_vertex_array_object"),o=n.isWebGL2||null!==s,a={},l=d(null);let c=l;function u(t){return n.isWebGL2?e.bindVertexArray(t):s.bindVertexArrayOES(t)}function h(t){return n.isWebGL2?e.deleteVertexArray(t):s.deleteVertexArrayOES(t)}function d(e){const t=[],r=[],n=[];for(let s=0;s<i;s++)t[s]=0,r[s]=0,n[s]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:n,object:e,attributes:{},index:null}}function p(){const e=c.newAttributes;for(let t=0,r=e.length;t<r;t++)e[t]=0}function f(e){m(e,0)}function m(r,i){const s=c.enabledAttributes,o=c.attributeDivisors;c.newAttributes[r]=1,0===s[r]&&(e.enableVertexAttribArray(r),s[r]=1),o[r]!==i&&((n.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](r,i),o[r]=i)}function g(){const t=c.newAttributes,r=c.enabledAttributes;for(let n=0,i=r.length;n<i;n++)r[n]!==t[n]&&(e.disableVertexAttribArray(n),r[n]=0)}function y(t,r,i,s,o,a){!0!==n.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,r,i,s,o,a):e.vertexAttribIPointer(t,r,i,o,a)}function v(){_(),c!==l&&(c=l,u(c.object))}function _(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,h,v,_){let b=!1;if(o){const t=function(t,r,i){const o=!0===i.wireframe;let l=a[t.id];void 0===l&&(l={},a[t.id]=l);let c=l[r.id];void 0===c&&(c={},l[r.id]=c);let u=c[o];return void 0===u&&(u=d(n.isWebGL2?e.createVertexArray():s.createVertexArrayOES()),c[o]=u),u}(v,h,l);c!==t&&(c=t,u(c.object)),b=function(e,t){const r=c.attributes,n=e.attributes;let i=0;for(const s in n){const e=r[s],t=n[s];if(void 0===e)return!0;if(e.attribute!==t)return!0;if(e.data!==t.data)return!0;i++}return c.attributesNum!==i||c.index!==t}(v,_),b&&function(e,t){const r={},n=e.attributes;let i=0;for(const s in n){const e=n[s],t={};t.attribute=e,e.data&&(t.data=e.data),r[s]=t,i++}c.attributes=r,c.attributesNum=i,c.index=t}(v,_)}else{const e=!0===l.wireframe;c.geometry===v.id&&c.program===h.id&&c.wireframe===e||(c.geometry=v.id,c.program=h.id,c.wireframe=e,b=!0)}!0===i.isInstancedMesh&&(b=!0),null!==_&&r.update(_,34963),b&&(function(i,s,o,a){if(!1===n.isWebGL2&&(i.isInstancedMesh||a.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;p();const l=a.attributes,c=o.getAttributes(),u=s.defaultAttributeValues;for(const t in c){const n=c[t];if(n>=0){const s=l[t];if(void 0!==s){const t=s.normalized,i=s.itemSize,o=r.get(s);if(void 0===o)continue;const l=o.buffer,c=o.type,u=o.bytesPerElement;if(s.isInterleavedBufferAttribute){const r=s.data,o=r.stride,h=s.offset;r&&r.isInstancedInterleavedBuffer?(m(n,r.meshPerAttribute),void 0===a._maxInstanceCount&&(a._maxInstanceCount=r.meshPerAttribute*r.count)):f(n),e.bindBuffer(34962,l),y(n,i,c,t,o*u,h*u)}else s.isInstancedBufferAttribute?(m(n,s.meshPerAttribute),void 0===a._maxInstanceCount&&(a._maxInstanceCount=s.meshPerAttribute*s.count)):f(n),e.bindBuffer(34962,l),y(n,i,c,t,0,0)}else if("instanceMatrix"===t){const t=r.get(i.instanceMatrix);if(void 0===t)continue;const s=t.buffer,o=t.type;m(n+0,1),m(n+1,1),m(n+2,1),m(n+3,1),e.bindBuffer(34962,s),e.vertexAttribPointer(n+0,4,o,!1,64,0),e.vertexAttribPointer(n+1,4,o,!1,64,16),e.vertexAttribPointer(n+2,4,o,!1,64,32),e.vertexAttribPointer(n+3,4,o,!1,64,48)}else if("instanceColor"===t){const t=r.get(i.instanceColor);if(void 0===t)continue;const s=t.buffer,o=t.type;m(n,1),e.bindBuffer(34962,s),e.vertexAttribPointer(n,3,o,!1,12,0)}else if(void 0!==u){const r=u[t];if(void 0!==r)switch(r.length){case 2:e.vertexAttrib2fv(n,r);break;case 3:e.vertexAttrib3fv(n,r);break;case 4:e.vertexAttrib4fv(n,r);break;default:e.vertexAttrib1fv(n,r)}}}}g()}(i,l,h,v),null!==_&&e.bindBuffer(34963,r.get(_).buffer))},reset:v,resetDefaultState:_,dispose:function(){v();for(const e in a){const t=a[e];for(const e in t){const r=t[e];for(const e in r)h(r[e].object),delete r[e];delete t[e]}delete a[e]}},releaseStatesOfGeometry:function(e){if(void 0===a[e.id])return;const t=a[e.id];for(const r in t){const e=t[r];for(const t in e)h(e[t].object),delete e[t];delete t[r]}delete a[e.id]},releaseStatesOfProgram:function(e){for(const t in a){const r=a[t];if(void 0===r[e.id])continue;const n=r[e.id];for(const e in n)h(n[e].object),delete n[e];delete r[e.id]}},initAttributes:p,enableAttribute:f,disableUnusedAttributes:g}}function rA(e,t,r,n){const i=n.isWebGL2;let s;this.setMode=function(e){s=e},this.render=function(t,n){e.drawArrays(s,t,n),r.update(n,s,1)},this.renderInstances=function(n,o,a){if(0===a)return;let l,c;if(i)l=e,c="drawArraysInstanced";else if(l=t.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](s,n,o,a),r.update(o,s,a)}}function nA(e,t,r){let n;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext;let o=void 0!==r.precision?r.precision:"highp";const a=i(o);a!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",a,"instead."),o=a);const l=!0===r.logarithmicDepthBuffer,c=e.getParameter(34930),u=e.getParameter(35660),h=e.getParameter(3379),d=e.getParameter(34076),p=e.getParameter(34921),f=e.getParameter(36347),m=e.getParameter(36348),g=e.getParameter(36349),y=u>0,v=s||t.has("OES_texture_float");return{isWebGL2:s,getMaxAnisotropy:function(){if(void 0!==n)return n;if(!0===t.has("EXT_texture_filter_anisotropic")){const r=t.get("EXT_texture_filter_anisotropic");n=e.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:u,maxTextureSize:h,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:v,floatVertexTextures:y&&v,maxSamples:s?e.getParameter(36183):0}}function iA(e){const t=this;let r=null,n=0,i=!1,s=!1;const o=new MT,a=new cE,l={value:null,needsUpdate:!1};function c(){l.value!==r&&(l.value=r,l.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function u(e,r,n,i){const s=null!==e?e.length:0;let c=null;if(0!==s){if(c=l.value,!0!==i||null===c){const t=n+4*s,i=r.matrixWorldInverse;a.getNormalMatrix(i),(null===c||c.length<t)&&(c=new Float32Array(t));for(let r=0,l=n;r!==s;++r,l+=4)o.copy(e[r]).applyMatrix4(i,a),o.normal.toArray(c,l),c[l+3]=o.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=s,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,s){const o=0!==e.length||t||0!==n||i;return i=t,r=u(e,s,0),n=e.length,o},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(t,o,a){const h=t.clippingPlanes,d=t.clipIntersection,p=t.clipShadows,f=e.get(t);if(!i||null===h||0===h.length||s&&!p)s?u(null):c();else{const e=s?0:n,t=4*e;let i=f.clippingState||null;l.value=i,i=u(h,o,t,a);for(let n=0;n!==t;++n)i[n]=r[n];f.clippingState=i,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=e}}}function sA(e){let t=new WeakMap;function r(e,t){return 303===t?e.mapping=301:304===t&&(e.mapping=302),e}function n(e){const r=e.target;r.removeEventListener("dispose",n);const i=t.get(r);void 0!==i&&(t.delete(r),i.dispose())}return{get:function(i){if(i&&i.isTexture){const s=i.mapping;if(303===s||304===s){if(t.has(i))return r(t.get(i).texture,i.mapping);{const s=i.image;if(s&&s.height>0){const o=e.getRenderTarget(),a=new HC(s.height/2);return a.fromEquirectangularTexture(e,i),t.set(i,a),e.setRenderTarget(o),i.addEventListener("dispose",n),r(a.texture,i.mapping)}return null}}}return i},dispose:function(){t=new WeakMap}}}function oA(e){const t={};function r(r){if(void 0!==t[r])return t[r];let n;switch(r){case"WEBGL_depth_texture":n=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=e.getExtension(r)}return t[r]=n,n}return{has:function(e){return null!==r(e)},init:function(e){e.isWebGL2?r("EXT_color_buffer_float"):(r("WEBGL_depth_texture"),r("OES_texture_float"),r("OES_texture_half_float"),r("OES_texture_half_float_linear"),r("OES_standard_derivatives"),r("OES_element_index_uint"),r("OES_vertex_array_object"),r("ANGLE_instanced_arrays")),r("OES_texture_float_linear"),r("EXT_color_buffer_half_float")},get:function(e){const t=r(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function aA(e,t,r,n){const i={},s=new WeakMap;function o(e){const a=e.target;null!==a.index&&t.remove(a.index);for(const r in a.attributes)t.remove(a.attributes[r]);a.removeEventListener("dispose",o),delete i[a.id];const l=s.get(a);l&&(t.remove(l),s.delete(a)),n.releaseStatesOfGeometry(a),!0===a.isInstancedBufferGeometry&&delete a._maxInstanceCount,r.memory.geometries--}function a(e){const r=[],n=e.index,i=e.attributes.position;let o=0;if(null!==n){const e=n.array;o=n.version;for(let t=0,n=e.length;t<n;t+=3){const n=e[t+0],i=e[t+1],s=e[t+2];r.push(n,i,i,s,s,n)}}else{o=i.version;for(let e=0,t=i.array.length/3-1;e<t;e+=3){const t=e+0,n=e+1,i=e+2;r.push(t,n,n,i,i,t)}}const a=new(sC(r)>65535?tC:KT)(r,1);a.version=o;const l=s.get(e);l&&t.remove(l),s.set(e,a)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,r.memory.geometries++),t},update:function(e){const r=e.attributes;for(const i in r)t.update(r[i],34962);const n=e.morphAttributes;for(const i in n){const e=n[i];for(let r=0,n=e.length;r<n;r++)t.update(e[r],34962)}},getWireframeAttribute:function(e){const t=s.get(e);if(t){const r=e.index;null!==r&&t.version<r.version&&a(e)}else a(e);return s.get(e)}}}function lA(e,t,r,n){const i=n.isWebGL2;let s,o,a;this.setMode=function(e){s=e},this.setIndex=function(e){o=e.type,a=e.bytesPerElement},this.render=function(t,n){e.drawElements(s,n,o,t*a),r.update(n,s,1)},this.renderInstances=function(n,l,c){if(0===c)return;let u,h;if(i)u=e,h="drawElementsInstanced";else if(u=t.get("ANGLE_instanced_arrays"),h="drawElementsInstancedANGLE",null===u)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[h](s,l,o,n*a,c),r.update(l,s,c)}}function cA(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,r,n){switch(t.calls++,r){case 4:t.triangles+=n*(e/3);break;case 1:t.lines+=n*(e/2);break;case 3:t.lines+=n*(e-1);break;case 2:t.lines+=n*e;break;case 0:t.points+=n*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function uA(e,t){return e[0]-t[0]}function hA(e,t){return Math.abs(t[1])-Math.abs(e[1])}function dA(e){const t={},r=new Float32Array(8),n=[];for(let i=0;i<8;i++)n[i]=[i,0];return{update:function(i,s,o,a){const l=i.morphTargetInfluences,c=void 0===l?0:l.length;let u=t[s.id];if(void 0===u){u=[];for(let e=0;e<c;e++)u[e]=[e,0];t[s.id]=u}for(let e=0;e<c;e++){const t=u[e];t[0]=e,t[1]=l[e]}u.sort(hA);for(let e=0;e<8;e++)e<c&&u[e][1]?(n[e][0]=u[e][0],n[e][1]=u[e][1]):(n[e][0]=Number.MAX_SAFE_INTEGER,n[e][1]=0);n.sort(uA);const h=o.morphTargets&&s.morphAttributes.position,d=o.morphNormals&&s.morphAttributes.normal;let p=0;for(let e=0;e<8;e++){const t=n[e],i=t[0],o=t[1];i!==Number.MAX_SAFE_INTEGER&&o?(h&&s.getAttribute("morphTarget"+e)!==h[i]&&s.setAttribute("morphTarget"+e,h[i]),d&&s.getAttribute("morphNormal"+e)!==d[i]&&s.setAttribute("morphNormal"+e,d[i]),r[e]=o,p+=o):(h&&!0===s.hasAttribute("morphTarget"+e)&&s.deleteAttribute("morphTarget"+e),d&&!0===s.hasAttribute("morphNormal"+e)&&s.deleteAttribute("morphNormal"+e),r[e]=0)}const f=s.morphTargetsRelative?1:1-p;a.getUniforms().setValue(e,"morphTargetBaseInfluence",f),a.getUniforms().setValue(e,"morphTargetInfluences",r)}}}function pA(e,t,r,n){let i=new WeakMap;function s(e){const t=e.target;t.removeEventListener("dispose",s),r.remove(t.instanceMatrix),null!==t.instanceColor&&r.remove(t.instanceColor)}return{update:function(e){const o=n.render.frame,a=t.get(e,e.geometry);return i.get(a)!==o&&(t.update(a),i.set(a,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",s)&&e.addEventListener("dispose",s),r.update(e.instanceMatrix,34962),null!==e.instanceColor&&r.update(e.instanceColor,34962)),a},dispose:function(){i=new WeakMap}}}KC.physical={uniforms:DC([KC.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new lE(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new GT(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:QC.meshphysical_vert,fragmentShader:QC.meshphysical_frag};class fA extends pE{constructor(e=null,t=1,r=1,n=1){super(null),this.image={data:e,width:t,height:r,depth:n},this.magFilter=DM,this.minFilter=DM,this.wrapR=kM,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}}fA.prototype.isDataTexture2DArray=!0;class mA extends pE{constructor(e=null,t=1,r=1,n=1){super(null),this.image={data:e,width:t,height:r,depth:n},this.magFilter=DM,this.minFilter=DM,this.wrapR=kM,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}}mA.prototype.isDataTexture3D=!0;const gA=new pE,yA=new fA,vA=new mA,_A=new VC,bA=[],wA=[],xA=new Float32Array(16),SA=new Float32Array(9),MA=new Float32Array(4);function EA(e,t,r){const n=e[0];if(n<=0||n>0)return e;const i=t*r;let s=bA[i];if(void 0===s&&(s=new Float32Array(i),bA[i]=s),0!==t){n.toArray(s,0);for(let n=1,i=0;n!==t;++n)i+=r,e[n].toArray(s,i)}return s}function TA(e,t){if(e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function CA(e,t){for(let r=0,n=t.length;r<n;r++)e[r]=t[r]}function AA(e,t){let r=wA[t];void 0===r&&(r=new Int32Array(t),wA[t]=r);for(let n=0;n!==t;++n)r[n]=e.allocateTextureUnit();return r}function LA(e,t){const r=this.cache;r[0]!==t&&(e.uniform1f(this.addr,t),r[0]=t)}function PA(e,t){const r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y);else{if(TA(r,t))return;e.uniform2fv(this.addr,t),CA(r,t)}}function OA(e,t){const r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y&&r[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z);else if(void 0!==t.r)r[0]===t.r&&r[1]===t.g&&r[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),r[0]=t.r,r[1]=t.g,r[2]=t.b);else{if(TA(r,t))return;e.uniform3fv(this.addr,t),CA(r,t)}}function RA(e,t){const r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y&&r[2]===t.z&&r[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w);else{if(TA(r,t))return;e.uniform4fv(this.addr,t),CA(r,t)}}function kA(e,t){const r=this.cache,n=t.elements;if(void 0===n){if(TA(r,t))return;e.uniformMatrix2fv(this.addr,!1,t),CA(r,t)}else{if(TA(r,n))return;MA.set(n),e.uniformMatrix2fv(this.addr,!1,MA),CA(r,n)}}function jA(e,t){const r=this.cache,n=t.elements;if(void 0===n){if(TA(r,t))return;e.uniformMatrix3fv(this.addr,!1,t),CA(r,t)}else{if(TA(r,n))return;SA.set(n),e.uniformMatrix3fv(this.addr,!1,SA),CA(r,n)}}function DA(e,t){const r=this.cache,n=t.elements;if(void 0===n){if(TA(r,t))return;e.uniformMatrix4fv(this.addr,!1,t),CA(r,t)}else{if(TA(r,n))return;xA.set(n),e.uniformMatrix4fv(this.addr,!1,xA),CA(r,n)}}function IA(e,t){const r=this.cache;r[0]!==t&&(e.uniform1i(this.addr,t),r[0]=t)}function NA(e,t){const r=this.cache;TA(r,t)||(e.uniform2iv(this.addr,t),CA(r,t))}function zA(e,t){const r=this.cache;TA(r,t)||(e.uniform3iv(this.addr,t),CA(r,t))}function FA(e,t){const r=this.cache;TA(r,t)||(e.uniform4iv(this.addr,t),CA(r,t))}function UA(e,t){const r=this.cache;r[0]!==t&&(e.uniform1ui(this.addr,t),r[0]=t)}function BA(e,t){const r=this.cache;TA(r,t)||(e.uniform2uiv(this.addr,t),CA(r,t))}function VA(e,t){const r=this.cache;TA(r,t)||(e.uniform3uiv(this.addr,t),CA(r,t))}function HA(e,t){const r=this.cache;TA(r,t)||(e.uniform4uiv(this.addr,t),CA(r,t))}function GA(e,t,r){const n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.safeSetTexture2D(t||gA,i)}function WA(e,t,r){const n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture3D(t||vA,i)}function qA(e,t,r){const n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.safeSetTextureCube(t||_A,i)}function XA(e,t,r){const n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture2DArray(t||yA,i)}function YA(e,t){e.uniform1fv(this.addr,t)}function $A(e,t){const r=EA(t,this.size,2);e.uniform2fv(this.addr,r)}function ZA(e,t){const r=EA(t,this.size,3);e.uniform3fv(this.addr,r)}function QA(e,t){const r=EA(t,this.size,4);e.uniform4fv(this.addr,r)}function JA(e,t){const r=EA(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,r)}function KA(e,t){const r=EA(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,r)}function eL(e,t){const r=EA(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,r)}function tL(e,t){e.uniform1iv(this.addr,t)}function rL(e,t){e.uniform2iv(this.addr,t)}function nL(e,t){e.uniform3iv(this.addr,t)}function iL(e,t){e.uniform4iv(this.addr,t)}function sL(e,t){e.uniform1uiv(this.addr,t)}function oL(e,t){e.uniform2uiv(this.addr,t)}function aL(e,t){e.uniform3uiv(this.addr,t)}function lL(e,t){e.uniform4uiv(this.addr,t)}function cL(e,t,r){const n=t.length,i=AA(r,n);e.uniform1iv(this.addr,i);for(let s=0;s!==n;++s)r.safeSetTexture2D(t[s]||gA,i[s])}function uL(e,t,r){const n=t.length,i=AA(r,n);e.uniform1iv(this.addr,i);for(let s=0;s!==n;++s)r.safeSetTextureCube(t[s]||_A,i[s])}function hL(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=function(e){switch(e){case 5126:return LA;case 35664:return PA;case 35665:return OA;case 35666:return RA;case 35674:return kA;case 35675:return jA;case 35676:return DA;case 5124:case 35670:return IA;case 35667:case 35671:return NA;case 35668:case 35672:return zA;case 35669:case 35673:return FA;case 5125:return UA;case 36294:return BA;case 36295:return VA;case 36296:return HA;case 35678:case 36198:case 36298:case 36306:case 35682:return GA;case 35679:case 36299:case 36307:return WA;case 35680:case 36300:case 36308:case 36293:return qA;case 36289:case 36303:case 36311:case 36292:return XA}}(t.type)}function dL(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return YA;case 35664:return $A;case 35665:return ZA;case 35666:return QA;case 35674:return JA;case 35675:return KA;case 35676:return eL;case 5124:case 35670:return tL;case 35667:case 35671:return rL;case 35668:case 35672:return nL;case 35669:case 35673:return iL;case 5125:return sL;case 36294:return oL;case 36295:return aL;case 36296:return lL;case 35678:case 36198:case 36298:case 36306:case 35682:return cL;case 35680:case 36300:case 36308:case 36293:return uL}}(t.type)}function pL(e){this.id=e,this.seq=[],this.map={}}dL.prototype.updateCache=function(e){const t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),CA(t,e)},pL.prototype.setValue=function(e,t,r){const n=this.seq;for(let i=0,s=n.length;i!==s;++i){const s=n[i];s.setValue(e,t[s.id],r)}};const fL=/(\w+)(\])?(\[|\.)?/g;function mL(e,t){e.seq.push(t),e.map[t.id]=t}function gL(e,t,r){const n=e.name,i=n.length;for(fL.lastIndex=0;;){const s=fL.exec(n),o=fL.lastIndex;let a=s[1];const l=s[3];if("]"===s[2]&&(a|=0),void 0===l||"["===l&&o+2===i){mL(r,void 0===l?new hL(a,e,t):new dL(a,e,t));break}{let e=r.map[a];void 0===e&&(e=new pL(a),mL(r,e)),r=e}}}function yL(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let n=0;n<r;++n){const r=e.getActiveUniform(t,n);gL(r,e.getUniformLocation(t,r.name),this)}}function vL(e,t,r){const n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}yL.prototype.setValue=function(e,t,r,n){const i=this.map[t];void 0!==i&&i.setValue(e,r,n)},yL.prototype.setOptional=function(e,t,r){const n=t[r];void 0!==n&&this.setValue(e,r,n)},yL.upload=function(e,t,r,n){for(let i=0,s=t.length;i!==s;++i){const s=t[i],o=r[s.id];!1!==o.needsUpdate&&s.setValue(e,o.value,n)}},yL.seqWithValue=function(e,t){const r=[];for(let n=0,i=e.length;n!==i;++n){const i=e[n];i.id in t&&r.push(i)}return r};let _L=0;function bL(e){switch(e){case KM:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function wL(e,t,r){const n=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();return n&&""===i?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+r+"\n"+i+function(e){const t=e.split("\n");for(let r=0;r<t.length;r++)t[r]=r+1+": "+t[r];return t.join("\n")}(e.getShaderSource(t))}function xL(e,t){const r=bL(t);return"vec4 "+e+"( vec4 value ) { return "+r[0]+"ToLinear"+r[1]+"; }"}function SL(e,t){const r=bL(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+r[0]+r[1]+"; }"}function ML(e,t){let r;switch(t){case 1:r="Linear";break;case 2:r="Reinhard";break;case 3:r="OptimizedCineon";break;case 4:r="ACESFilmic";break;case 5:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),r="Linear"}return"vec3 "+e+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function EL(e){return""!==e}function TL(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function CL(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const AL=/^[ \t]*#include +<([\w\d./]+)>/gm;function LL(e){return e.replace(AL,PL)}function PL(e,t){const r=QC[t];if(void 0===r)throw new Error("Can not resolve #include <"+t+">");return LL(r)}const OL=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,RL=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function kL(e){return e.replace(RL,DL).replace(OL,jL)}function jL(e,t,r,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),DL(0,t,r,n)}function DL(e,t,r,n){let i="";for(let s=parseInt(t);s<parseInt(r);s++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function IL(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function NL(e,t,r,n){const i=e.getContext(),s=r.defines;let o=r.vertexShader,a=r.fragmentShader;const l=function(e){let t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(r),c=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case 301:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:case 307:t="ENVMAP_TYPE_CUBE_UV"}return t}(r),u=function(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case 302:case 307:t="ENVMAP_MODE_REFRACTION"}return t}(r),h=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(r),d=e.gammaFactor>0?e.gammaFactor:1,p=r.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(EL).join("\n")}(r),f=function(e){const t=[];for(const r in e){const n=e[r];!1!==n&&t.push("#define "+r+" "+n)}return t.join("\n")}(s),m=i.createProgram();let g,y,v=r.glslVersion?"#version "+r.glslVersion+"\n":"";r.isRawShaderMaterial?(g=[f].filter(EL).join("\n"),g.length>0&&(g+="\n"),y=[p,f].filter(EL).join("\n"),y.length>0&&(y+="\n")):(g=[IL(r),"#define SHADER_NAME "+r.shaderName,f,r.instancing?"#define USE_INSTANCING":"",r.instancingColor?"#define USE_INSTANCING_COLOR":"",r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+d,"#define MAX_BONES "+r.maxBones,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+u:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+l:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(EL).join("\n"),y=[p,IL(r),"#define SHADER_NAME "+r.shaderName,f,r.alphaTest?"#define ALPHATEST "+r.alphaTest+(r.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+d,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+c:"",r.envMap?"#define "+u:"",r.envMap?"#define "+h:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.sheen?"#define USE_SHEEN":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors||r.instancingColor?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+l:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(r.extensionShaderTextureLOD||r.envMap)&&r.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==r.toneMapping?"#define TONE_MAPPING":"",0!==r.toneMapping?QC.tonemapping_pars_fragment:"",0!==r.toneMapping?ML("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",QC.encodings_pars_fragment,r.map?xL("mapTexelToLinear",r.mapEncoding):"",r.matcap?xL("matcapTexelToLinear",r.matcapEncoding):"",r.envMap?xL("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMap?xL("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.lightMap?xL("lightMapTexelToLinear",r.lightMapEncoding):"",SL("linearToOutputTexel",r.outputEncoding),r.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(EL).join("\n")),o=LL(o),o=TL(o,r),o=CL(o,r),a=LL(a),a=TL(a,r),a=CL(a,r),o=kL(o),a=kL(a),r.isWebGL2&&!0!==r.isRawShaderMaterial&&(v="#version 300 es\n",g=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,y=["#define varying in",r.glslVersion===nE?"":"out highp vec4 pc_fragColor;",r.glslVersion===nE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+y);const _=v+y+a,b=vL(i,35633,v+g+o),w=vL(i,35632,_);if(i.attachShader(m,b),i.attachShader(m,w),void 0!==r.index0AttributeName?i.bindAttribLocation(m,0,r.index0AttributeName):!0===r.morphTargets&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m),e.debug.checkShaderErrors){const e=i.getProgramInfoLog(m).trim(),t=i.getShaderInfoLog(b).trim(),r=i.getShaderInfoLog(w).trim();let n=!0,s=!0;if(!1===i.getProgramParameter(m,35714)){n=!1;const t=wL(i,b,"vertex"),r=wL(i,w,"fragment");console.error("THREE.WebGLProgram: shader error: ",i.getError(),"35715",i.getProgramParameter(m,35715),"gl.getProgramInfoLog",e,t,r)}else""!==e?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",e):""!==t&&""!==r||(s=!1);s&&(this.diagnostics={runnable:n,programLog:e,vertexShader:{log:t,prefix:g},fragmentShader:{log:r,prefix:y}})}let x,S;return i.deleteShader(b),i.deleteShader(w),this.getUniforms=function(){return void 0===x&&(x=new yL(i,m)),x},this.getAttributes=function(){return void 0===S&&(S=function(e,t){const r={},n=e.getProgramParameter(t,35721);for(let i=0;i<n;i++){const n=e.getActiveAttrib(t,i).name;r[n]=e.getAttribLocation(t,n)}return r}(i,m)),S},this.destroy=function(){n.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.name=r.shaderName,this.id=_L++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=b,this.fragmentShader=w,this}function zL(e,t,r,n,i,s){const o=[],a=n.isWebGL2,l=n.logarithmicDepthBuffer,c=n.floatVertexTextures,u=n.maxVertexUniforms,h=n.vertexTextures;let d=n.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},f=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function m(e){let t;return e&&e.isTexture?t=e.encoding:e&&e.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding):t=KM,t}return{getParameters:function(i,o,f,g,y){const v=g.fog,_=t.get(i.envMap||(i.isMeshStandardMaterial?g.environment:null)),b=p[i.type],w=y.isSkinnedMesh?function(e){const t=e.skeleton.bones;if(c)return 1024;{const e=Math.floor((u-20)/4),r=Math.min(e,t.length);return r<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+r+"."),0):r}}(y):0;let x,S;if(null!==i.precision&&(d=n.getMaxPrecision(i.precision),d!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",d,"instead.")),b){const e=KC[b];x=e.vertexShader,S=e.fragmentShader}else x=i.vertexShader,S=i.fragmentShader;const M=e.getRenderTarget();return{isWebGL2:a,shaderID:b,shaderName:i.type,vertexShader:x,fragmentShader:S,defines:i.defines,isRawShaderMaterial:!0===i.isRawShaderMaterial,glslVersion:i.glslVersion,precision:d,instancing:!0===y.isInstancedMesh,instancingColor:!0===y.isInstancedMesh&&null!==y.instanceColor,supportsVertexTextures:h,outputEncoding:null!==M?m(M.texture):e.outputEncoding,map:!!i.map,mapEncoding:m(i.map),matcap:!!i.matcap,matcapEncoding:m(i.matcap),envMap:!!_,envMapMode:_&&_.mapping,envMapEncoding:m(_),envMapCubeUV:!!_&&(306===_.mapping||307===_.mapping),lightMap:!!i.lightMap,lightMapEncoding:m(i.lightMap),aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:m(i.emissiveMap),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,objectSpaceNormalMap:1===i.normalMapType,tangentSpaceNormalMap:0===i.normalMapType,clearcoatMap:!!i.clearcoatMap,clearcoatRoughnessMap:!!i.clearcoatRoughnessMap,clearcoatNormalMap:!!i.clearcoatNormalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,sheen:!!i.sheen,transmissionMap:!!i.transmissionMap,combine:i.combine,vertexTangents:i.normalMap&&i.vertexTangents,vertexColors:i.vertexColors,vertexAlphas:!0===i.vertexColors&&y.geometry.attributes.color&&4===y.geometry.attributes.color.itemSize,vertexUvs:!!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatMap||i.clearcoatRoughnessMap||i.clearcoatNormalMap||i.displacementMap||i.transmissionMap),uvsVertexOnly:!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatNormalMap||i.transmissionMap||!i.displacementMap),fog:!!v,useFog:i.fog,fogExp2:v&&v.isFogExp2,flatShading:!!i.flatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:l,skinning:i.skinning&&w>0,maxBones:w,useVertexTexture:c,morphTargets:i.morphTargets,morphNormals:i.morphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:i.dithering,shadowMapEnabled:e.shadowMap.enabled&&f.length>0,shadowMapType:e.shadowMap.type,toneMapping:i.toneMapped?e.toneMapping:0,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:2===i.side,flipSided:1===i.side,depthPacking:void 0!==i.depthPacking&&i.depthPacking,index0AttributeName:i.index0AttributeName,extensionDerivatives:i.extensions&&i.extensions.derivatives,extensionFragDepth:i.extensions&&i.extensions.fragDepth,extensionDrawBuffers:i.extensions&&i.extensions.drawBuffers,extensionShaderTextureLOD:i.extensions&&i.extensions.shaderTextureLOD,rendererExtensionFragDepth:a||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:a||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:a||r.has("EXT_shader_texture_lod"),customProgramCacheKey:i.customProgramCacheKey()}},getProgramCacheKey:function(t){const r=[];if(t.shaderID?r.push(t.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(const e in t.defines)r.push(e),r.push(t.defines[e]);if(!1===t.isRawShaderMaterial){for(let e=0;e<f.length;e++)r.push(t[f[e]]);r.push(e.outputEncoding),r.push(e.gammaFactor)}return r.push(t.customProgramCacheKey),r.join()},getUniforms:function(e){const t=p[e.type];let r;return r=t?IC.clone(KC[t].uniforms):e.uniforms,r},acquireProgram:function(t,r){let n;for(let e=0,i=o.length;e<i;e++){const t=o[e];if(t.cacheKey===r){n=t,++n.usedTimes;break}}return void 0===n&&(n=new NL(e,r,t,i),o.push(n)),n},releaseProgram:function(e){if(0==--e.usedTimes){const t=o.indexOf(e);o[t]=o[o.length-1],o.pop(),e.destroy()}},programs:o}}function FL(){let e=new WeakMap;return{get:function(t){let r=e.get(t);return void 0===r&&(r={},e.set(t,r)),r},remove:function(t){e.delete(t)},update:function(t,r,n){e.get(t)[r]=n},dispose:function(){e=new WeakMap}}}function UL(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function BL(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function VL(e){const t=[];let r=0;const n=[],i=[],s={id:-1};function o(n,i,o,a,l,c){let u=t[r];const h=e.get(o);return void 0===u?(u={id:n.id,object:n,geometry:i,material:o,program:h.program||s,groupOrder:a,renderOrder:n.renderOrder,z:l,group:c},t[r]=u):(u.id=n.id,u.object=n,u.geometry=i,u.material=o,u.program=h.program||s,u.groupOrder=a,u.renderOrder=n.renderOrder,u.z=l,u.group=c),r++,u}return{opaque:n,transparent:i,init:function(){r=0,n.length=0,i.length=0},push:function(e,t,r,s,a,l){const c=o(e,t,r,s,a,l);(!0===r.transparent?i:n).push(c)},unshift:function(e,t,r,s,a,l){const c=o(e,t,r,s,a,l);(!0===r.transparent?i:n).unshift(c)},finish:function(){for(let e=r,n=t.length;e<n;e++){const r=t[e];if(null===r.id)break;r.id=null,r.object=null,r.geometry=null,r.material=null,r.program=null,r.group=null}},sort:function(e,t){n.length>1&&n.sort(e||UL),i.length>1&&i.sort(t||BL)}}}function HL(e){let t=new WeakMap;return{get:function(r,n){let i;return!1===t.has(r)?(i=new VL(e),t.set(r,[i])):n>=t.get(r).length?(i=new VL(e),t.get(r).push(i)):i=t.get(r)[n],i},dispose:function(){t=new WeakMap}}}function GL(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let r;switch(t.type){case"DirectionalLight":r={direction:new vE,color:new GT};break;case"SpotLight":r={position:new vE,direction:new vE,color:new GT,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new vE,color:new GT,distance:0,decay:0};break;case"HemisphereLight":r={direction:new vE,skyColor:new GT,groundColor:new GT};break;case"RectAreaLight":r={color:new GT,position:new vE,halfWidth:new vE,halfHeight:new vE}}return e[t.id]=r,r}}}let WL=0;function qL(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function XL(e,t){const r=new GL,n=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let r;switch(t.type){case"DirectionalLight":case"SpotLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new lE};break;case"PointLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new lE,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=r,r}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let l=0;l<9;l++)i.probe.push(new vE);const s=new vE,o=new $E,a=new $E;return{setup:function(s){let o=0,a=0,l=0;for(let e=0;e<9;e++)i.probe[e].set(0,0,0);let c=0,u=0,h=0,d=0,p=0,f=0,m=0,g=0;s.sort(qL);for(let e=0,t=s.length;e<t;e++){const t=s[e],y=t.color,v=t.intensity,_=t.distance,b=t.shadow&&t.shadow.map?t.shadow.map.texture:null;if(t.isAmbientLight)o+=y.r*v,a+=y.g*v,l+=y.b*v;else if(t.isLightProbe)for(let e=0;e<9;e++)i.probe[e].addScaledVector(t.sh.coefficients[e],v);else if(t.isDirectionalLight){const e=r.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity),t.castShadow){const e=t.shadow,r=n.get(t);r.shadowBias=e.bias,r.shadowNormalBias=e.normalBias,r.shadowRadius=e.radius,r.shadowMapSize=e.mapSize,i.directionalShadow[c]=r,i.directionalShadowMap[c]=b,i.directionalShadowMatrix[c]=t.shadow.matrix,f++}i.directional[c]=e,c++}else if(t.isSpotLight){const e=r.get(t);if(e.position.setFromMatrixPosition(t.matrixWorld),e.color.copy(y).multiplyScalar(v),e.distance=_,e.coneCos=Math.cos(t.angle),e.penumbraCos=Math.cos(t.angle*(1-t.penumbra)),e.decay=t.decay,t.castShadow){const e=t.shadow,r=n.get(t);r.shadowBias=e.bias,r.shadowNormalBias=e.normalBias,r.shadowRadius=e.radius,r.shadowMapSize=e.mapSize,i.spotShadow[h]=r,i.spotShadowMap[h]=b,i.spotShadowMatrix[h]=t.shadow.matrix,g++}i.spot[h]=e,h++}else if(t.isRectAreaLight){const e=r.get(t);e.color.copy(y).multiplyScalar(v),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),i.rectArea[d]=e,d++}else if(t.isPointLight){const e=r.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity),e.distance=t.distance,e.decay=t.decay,t.castShadow){const e=t.shadow,r=n.get(t);r.shadowBias=e.bias,r.shadowNormalBias=e.normalBias,r.shadowRadius=e.radius,r.shadowMapSize=e.mapSize,r.shadowCameraNear=e.camera.near,r.shadowCameraFar=e.camera.far,i.pointShadow[u]=r,i.pointShadowMap[u]=b,i.pointShadowMatrix[u]=t.shadow.matrix,m++}i.point[u]=e,u++}else if(t.isHemisphereLight){const e=r.get(t);e.skyColor.copy(t.color).multiplyScalar(v),e.groundColor.copy(t.groundColor).multiplyScalar(v),i.hemi[p]=e,p++}}d>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=JC.LTC_FLOAT_1,i.rectAreaLTC2=JC.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=JC.LTC_HALF_1,i.rectAreaLTC2=JC.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=o,i.ambient[1]=a,i.ambient[2]=l;const y=i.hash;y.directionalLength===c&&y.pointLength===u&&y.spotLength===h&&y.rectAreaLength===d&&y.hemiLength===p&&y.numDirectionalShadows===f&&y.numPointShadows===m&&y.numSpotShadows===g||(i.directional.length=c,i.spot.length=h,i.rectArea.length=d,i.point.length=u,i.hemi.length=p,i.directionalShadow.length=f,i.directionalShadowMap.length=f,i.pointShadow.length=m,i.pointShadowMap.length=m,i.spotShadow.length=g,i.spotShadowMap.length=g,i.directionalShadowMatrix.length=f,i.pointShadowMatrix.length=m,i.spotShadowMatrix.length=g,y.directionalLength=c,y.pointLength=u,y.spotLength=h,y.rectAreaLength=d,y.hemiLength=p,y.numDirectionalShadows=f,y.numPointShadows=m,y.numSpotShadows=g,i.version=WL++)},setupView:function(e,t){let r=0,n=0,l=0,c=0,u=0;const h=t.matrixWorldInverse;for(let d=0,p=e.length;d<p;d++){const t=e[d];if(t.isDirectionalLight){const e=i.directional[r];e.direction.setFromMatrixPosition(t.matrixWorld),s.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(s),e.direction.transformDirection(h),r++}else if(t.isSpotLight){const e=i.spot[l];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),e.direction.setFromMatrixPosition(t.matrixWorld),s.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(s),e.direction.transformDirection(h),l++}else if(t.isRectAreaLight){const e=i.rectArea[c];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),a.identity(),o.copy(t.matrixWorld),o.premultiply(h),a.extractRotation(o),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),e.halfWidth.applyMatrix4(a),e.halfHeight.applyMatrix4(a),c++}else if(t.isPointLight){const e=i.point[n];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),n++}else if(t.isHemisphereLight){const e=i.hemi[u];e.direction.setFromMatrixPosition(t.matrixWorld),e.direction.transformDirection(h),e.direction.normalize(),u++}}},state:i}}function YL(e,t){const r=new XL(e,t),n=[],i=[];return{init:function(){n.length=0,i.length=0},state:{lightsArray:n,shadowsArray:i,lights:r},setupLights:function(){r.setup(n)},setupLightsView:function(e){r.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){i.push(e)}}}function $L(e,t){let r=new WeakMap;return{get:function(n,i=0){let s;return!1===r.has(n)?(s=new YL(e,t),r.set(n,[s])):i>=r.get(n).length?(s=new YL(e,t),r.get(n).push(s)):s=r.get(n)[i],s},dispose:function(){r=new WeakMap}}}class ZL extends NT{constructor(e){super(),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}ZL.prototype.isMeshDepthMaterial=!0;class QL extends NT{constructor(e){super(),this.type="MeshDistanceMaterial",this.referencePosition=new vE,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function JL(e,t,r){let n=new XC;const i=new lE,s=new lE,o=new mE,a=[],l=[],c={},u=r.maxTextureSize,h={0:1,1:0,2:2},d=new NC({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new lE},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),p=d.clone();p.defines.HORIZONTAL_PASS=1;const f=new pC;f.setAttribute("position",new YT(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new OC(f,d),g=this;function y(r,n){const i=t.update(m);d.uniforms.shadow_pass.value=r.map.texture,d.uniforms.resolution.value=r.mapSize,d.uniforms.radius.value=r.radius,e.setRenderTarget(r.mapPass),e.clear(),e.renderBufferDirect(n,null,i,d,m,null),p.uniforms.shadow_pass.value=r.mapPass.texture,p.uniforms.resolution.value=r.mapSize,p.uniforms.radius.value=r.radius,e.setRenderTarget(r.map),e.clear(),e.renderBufferDirect(n,null,i,p,m,null)}function v(e,t,r){const n=e<<0|t<<1|r<<2;let i=a[n];return void 0===i&&(i=new ZL({depthPacking:3201,morphTargets:e,skinning:t}),a[n]=i),i}function _(e,t,r){const n=e<<0|t<<1|r<<2;let i=l[n];return void 0===i&&(i=new QL({morphTargets:e,skinning:t}),l[n]=i),i}function b(t,r,n,i,s,o,a){let l=null,u=v,d=t.customDepthMaterial;if(!0===i.isPointLight&&(u=_,d=t.customDistanceMaterial),void 0===d){let e=!1;!0===n.morphTargets&&(e=r.morphAttributes&&r.morphAttributes.position&&r.morphAttributes.position.length>0);let i=!1;!0===t.isSkinnedMesh&&(!0===n.skinning?i=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t)),l=u(e,i,!0===t.isInstancedMesh)}else l=d;if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){const e=l.uuid,t=n.uuid;let r=c[e];void 0===r&&(r={},c[e]=r);let i=r[t];void 0===i&&(i=l.clone(),r[t]=i),l=i}return l.visible=n.visible,l.wireframe=n.wireframe,l.side=3===a?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:h[n.side],l.clipShadows=n.clipShadows,l.clippingPlanes=n.clippingPlanes,l.clipIntersection=n.clipIntersection,l.wireframeLinewidth=n.wireframeLinewidth,l.linewidth=n.linewidth,!0===i.isPointLight&&!0===l.isMeshDistanceMaterial&&(l.referencePosition.setFromMatrixPosition(i.matrixWorld),l.nearDistance=s,l.farDistance=o),l}function w(r,i,s,o,a){if(!1===r.visible)return;if(r.layers.test(i.layers)&&(r.isMesh||r.isLine||r.isPoints)&&(r.castShadow||r.receiveShadow&&3===a)&&(!r.frustumCulled||n.intersectsObject(r))){r.modelViewMatrix.multiplyMatrices(s.matrixWorldInverse,r.matrixWorld);const n=t.update(r),i=r.material;if(Array.isArray(i)){const t=n.groups;for(let l=0,c=t.length;l<c;l++){const c=t[l],u=i[c.materialIndex];if(u&&u.visible){const t=b(r,n,u,o,s.near,s.far,a);e.renderBufferDirect(s,null,n,t,r,c)}}}else if(i.visible){const t=b(r,n,i,o,s.near,s.far,a);e.renderBufferDirect(s,null,n,t,r,null)}}const l=r.children;for(let e=0,t=l.length;e<t;e++)w(l[e],i,s,o,a)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(t,r,a){if(!1===g.enabled)return;if(!1===g.autoUpdate&&!1===g.needsUpdate)return;if(0===t.length)return;const l=e.getRenderTarget(),c=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),d=e.state;d.setBlending(0),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(let p=0,f=t.length;p<f;p++){const l=t[p],c=l.shadow;if(void 0===c){console.warn("THREE.WebGLShadowMap:",l,"has no shadow.");continue}if(!1===c.autoUpdate&&!1===c.needsUpdate)continue;i.copy(c.mapSize);const h=c.getFrameExtents();if(i.multiply(h),s.copy(c.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/h.x),i.x=s.x*h.x,c.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/h.y),i.y=s.y*h.y,c.mapSize.y=s.y)),null===c.map&&!c.isPointLightShadow&&3===this.type){const e={minFilter:IM,magFilter:IM,format:GM};c.map=new gE(i.x,i.y,e),c.map.texture.name=l.name+".shadowMap",c.mapPass=new gE(i.x,i.y,e),c.camera.updateProjectionMatrix()}null===c.map&&(c.map=new gE(i.x,i.y,{minFilter:DM,magFilter:DM,format:GM}),c.map.texture.name=l.name+".shadowMap",c.camera.updateProjectionMatrix()),e.setRenderTarget(c.map),e.clear();const f=c.getViewportCount();for(let e=0;e<f;e++){const t=c.getViewport(e);o.set(s.x*t.x,s.y*t.y,s.x*t.z,s.y*t.w),d.viewport(o),c.updateMatrices(l,e),n=c.getFrustum(),w(r,a,c.camera,l,this.type)}c.isPointLightShadow||3!==this.type||y(c,a),c.needsUpdate=!1}g.needsUpdate=!1,e.setRenderTarget(l,c,h)}}function KL(e,t,r){const n=r.isWebGL2,i=new function(){let t=!1;const r=new mE;let n=null;const i=new mE(0,0,0,0);return{setMask:function(r){n===r||t||(e.colorMask(r,r,r,r),n=r)},setLocked:function(e){t=e},setClear:function(t,n,s,o,a){!0===a&&(t*=o,n*=o,s*=o),r.set(t,n,s,o),!1===i.equals(r)&&(e.clearColor(t,n,s,o),i.copy(r))},reset:function(){t=!1,n=null,i.set(-1,0,0,0)}}},s=new function(){let t=!1,r=null,n=null,i=null;return{setTest:function(e){e?D(2929):I(2929)},setMask:function(n){r===n||t||(e.depthMask(n),r=n)},setFunc:function(t){if(n!==t){if(t)switch(t){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;case 3:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case 5:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);n=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,r=null,n=null,i=null}}},o=new function(){let t=!1,r=null,n=null,i=null,s=null,o=null,a=null,l=null,c=null;return{setTest:function(e){t||(e?D(2960):I(2960))},setMask:function(n){r===n||t||(e.stencilMask(n),r=n)},setFunc:function(t,r,o){n===t&&i===r&&s===o||(e.stencilFunc(t,r,o),n=t,i=r,s=o)},setOp:function(t,r,n){o===t&&a===r&&l===n||(e.stencilOp(t,r,n),o=t,a=r,l=n)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,r=null,n=null,i=null,s=null,o=null,a=null,l=null,c=null}}};let a={},l=null,c={},u=null,h=!1,d=null,p=null,f=null,m=null,g=null,y=null,v=null,_=!1,b=null,w=null,x=null,S=null,M=null;const E=e.getParameter(35661);let T=!1,C=0;const A=e.getParameter(7938);-1!==A.indexOf("WebGL")?(C=parseFloat(/^WebGL (\d)/.exec(A)[1]),T=C>=1):-1!==A.indexOf("OpenGL ES")&&(C=parseFloat(/^OpenGL ES (\d)/.exec(A)[1]),T=C>=2);let L=null,P={};const O=new mE(0,0,e.canvas.width,e.canvas.height),R=new mE(0,0,e.canvas.width,e.canvas.height);function k(t,r,n){const i=new Uint8Array(4),s=e.createTexture();e.bindTexture(t,s),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(let o=0;o<n;o++)e.texImage2D(r+o,0,6408,1,1,0,6408,5121,i);return s}const j={};function D(t){!0!==a[t]&&(e.enable(t),a[t]=!0)}function I(t){!1!==a[t]&&(e.disable(t),a[t]=!1)}j[3553]=k(3553,3553,1),j[34067]=k(34067,34069,6),i.setClear(0,0,0,1),s.setClear(1),o.setClear(0),D(2929),s.setFunc(3),U(!1),B(1),D(2884),F(0);const N={[OM]:32774,101:32778,102:32779};if(n)N[103]=32775,N[104]=32776;else{const e=t.get("EXT_blend_minmax");null!==e&&(N[103]=e.MIN_EXT,N[104]=e.MAX_EXT)}const z={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function F(t,r,n,i,s,o,a,l){if(0!==t){if(!1===h&&(D(3042),h=!0),5===t)s=s||r,o=o||n,a=a||i,r===p&&s===g||(e.blendEquationSeparate(N[r],N[s]),p=r,g=s),n===f&&i===m&&o===y&&a===v||(e.blendFuncSeparate(z[n],z[i],z[o],z[a]),f=n,m=i,y=o,v=a),d=t,_=null;else if(t!==d||l!==_){if(p===OM&&g===OM||(e.blendEquation(32774),p=OM,g=OM),l)switch(t){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,0,769,771);break;case 4:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFunc(0,769);break;case 4:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}f=null,m=null,y=null,v=null,d=t,_=l}}else!0===h&&(I(3042),h=!1)}function U(t){b!==t&&(e.frontFace(t?2304:2305),b=t)}function B(t){0!==t?(D(2884),t!==w&&e.cullFace(1===t?1029:2===t?1028:1032)):I(2884),w=t}function V(t,r,n){t?(D(32823),S===r&&M===n||(e.polygonOffset(r,n),S=r,M=n)):I(32823)}function H(t){void 0===t&&(t=33984+E-1),L!==t&&(e.activeTexture(t),L=t)}return{buffers:{color:i,depth:s,stencil:o},enable:D,disable:I,bindFramebuffer:function(t,r){null===r&&null!==l&&(r=l),c[t]!==r&&(e.bindFramebuffer(t,r),c[t]=r)},bindXRFramebuffer:function(t){t!==l&&(e.bindFramebuffer(36160,t),l=t)},useProgram:function(t){return u!==t&&(e.useProgram(t),u=t,!0)},setBlending:F,setMaterial:function(e,t){2===e.side?I(2884):D(2884);let r=1===e.side;t&&(r=!r),U(r),1===e.blending&&!1===e.transparent?F(0):F(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),s.setFunc(e.depthFunc),s.setTest(e.depthTest),s.setMask(e.depthWrite),i.setMask(e.colorWrite);const n=e.stencilWrite;o.setTest(n),n&&(o.setMask(e.stencilWriteMask),o.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),o.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),V(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?D(32926):I(32926)},setFlipSided:U,setCullFace:B,setLineWidth:function(t){t!==x&&(T&&e.lineWidth(t),x=t)},setPolygonOffset:V,setScissorTest:function(e){e?D(3089):I(3089)},activeTexture:H,bindTexture:function(t,r){null===L&&H();let n=P[L];void 0===n&&(n={type:void 0,texture:void 0},P[L]=n),n.type===t&&n.texture===r||(e.bindTexture(t,r||j[t]),n.type=t,n.texture=r)},unbindTexture:function(){const t=P[L];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===O.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),O.copy(t))},viewport:function(t){!1===R.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),R.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===n&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),a={},L=null,P={},l=null,c={},u=null,h=!1,d=null,p=null,f=null,m=null,g=null,y=null,v=null,_=!1,b=null,w=null,x=null,S=null,M=null,O.set(0,0,e.canvas.width,e.canvas.height),R.set(0,0,e.canvas.width,e.canvas.height),i.reset(),s.reset(),o.reset()}}}function eP(e,t,r,n,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,h=i.maxSamples,d=new WeakMap;let p,f=!1;try{f="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(N){}function m(e,t){return f?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function g(e,t,r,n){let i=1;if((e.width>n||e.height>n)&&(i=n/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const n=t?aE.floorPowerOfTwo:Math.floor,s=n(i*e.width),o=n(i*e.height);void 0===p&&(p=m(s,o));const a=r?m(s,o):p;return a.width=s,a.height=o,a.getContext("2d").drawImage(e,0,0,s,o),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+s+"x"+o+")."),a}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function y(e){return aE.isPowerOfTwo(e.width)&&aE.isPowerOfTwo(e.height)}function v(e,t){return e.generateMipmaps&&t&&e.minFilter!==DM&&e.minFilter!==IM}function _(t,r,i,s){e.generateMipmap(t),n.get(r).__maxMipLevel=Math.log2(Math.max(i,s))}function b(r,n,i){if(!1===a)return n;if(null!==r){if(void 0!==e[r])return e[r];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+r+"'")}let s=n;return 6403===n&&(5126===i&&(s=33326),5131===i&&(s=33325),5121===i&&(s=33321)),6407===n&&(5126===i&&(s=34837),5131===i&&(s=34843),5121===i&&(s=32849)),6408===n&&(5126===i&&(s=34836),5131===i&&(s=34842),5121===i&&(s=32856)),33325!==s&&33326!==s&&34842!==s&&34836!==s||t.get("EXT_color_buffer_float"),s}function w(e){return e===DM||1004===e||1005===e?9728:9729}function x(t){const r=t.target;r.removeEventListener("dispose",x),function(t){const r=n.get(t);void 0!==r.__webglInit&&(e.deleteTexture(r.__webglTexture),n.remove(t))}(r),r.isVideoTexture&&d.delete(r),o.memory.textures--}function S(t){const r=t.target;r.removeEventListener("dispose",S),function(t){const r=t.texture,i=n.get(t),s=n.get(r);if(t){if(void 0!==s.__webglTexture&&e.deleteTexture(s.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(let t=0;t<6;t++)e.deleteFramebuffer(i.__webglFramebuffer[t]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[t]);else e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer&&e.deleteRenderbuffer(i.__webglColorRenderbuffer),i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer);n.remove(r),n.remove(t)}}(r),o.memory.textures--}let M=0;function E(e,t){const i=n.get(e);if(e.isVideoTexture&&function(e){const t=o.render.frame;d.get(e)!==t&&(d.set(e,t),e.update())}(e),e.version>0&&i.__version!==e.version){const r=e.image;if(void 0===r)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==r.complete)return void O(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}r.activeTexture(33984+t),r.bindTexture(3553,i.__webglTexture)}function T(t,i){const o=n.get(t);t.version>0&&o.__version!==t.version?function(t,n,i){if(6!==n.image.length)return;P(t,n),r.activeTexture(33984+i),r.bindTexture(34067,t.__webglTexture),e.pixelStorei(37440,n.flipY),e.pixelStorei(37441,n.premultiplyAlpha),e.pixelStorei(3317,n.unpackAlignment),e.pixelStorei(37443,0);const o=n&&(n.isCompressedTexture||n.image[0].isCompressedTexture),l=n.image[0]&&n.image[0].isDataTexture,u=[];for(let e=0;e<6;e++)u[e]=o||l?l?n.image[e].image:n.image[e]:g(n.image[e],!1,!0,c);const h=u[0],d=y(h)||a,p=s.convert(n.format),f=s.convert(n.type),m=b(n.internalFormat,p,f);let w;if(L(34067,n,d),o){for(let e=0;e<6;e++){w=u[e].mipmaps;for(let t=0;t<w.length;t++){const i=w[t];n.format!==GM&&n.format!==HM?null!==p?r.compressedTexImage2D(34069+e,t,m,i.width,i.height,0,i.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):r.texImage2D(34069+e,t,m,i.width,i.height,0,p,f,i.data)}}t.__maxMipLevel=w.length-1}else{w=n.mipmaps;for(let e=0;e<6;e++)if(l){r.texImage2D(34069+e,0,m,u[e].width,u[e].height,0,p,f,u[e].data);for(let t=0;t<w.length;t++){const n=w[t].image[e].image;r.texImage2D(34069+e,t+1,m,n.width,n.height,0,p,f,n.data)}}else{r.texImage2D(34069+e,0,m,p,f,u[e]);for(let t=0;t<w.length;t++)r.texImage2D(34069+e,t+1,m,p,f,w[t].image[e])}t.__maxMipLevel=w.length}v(n,d)&&_(34067,n,h.width,h.height),t.__version=n.version,n.onUpdate&&n.onUpdate(n)}(o,t,i):(r.activeTexture(33984+i),r.bindTexture(34067,o.__webglTexture))}const C={[RM]:10497,[kM]:33071,[jM]:33648},A={[DM]:9728,1004:9984,1005:9986,[IM]:9729,1007:9985,[NM]:9987};function L(r,s,o){if(o?(e.texParameteri(r,10242,C[s.wrapS]),e.texParameteri(r,10243,C[s.wrapT]),32879!==r&&35866!==r||e.texParameteri(r,32882,C[s.wrapR]),e.texParameteri(r,10240,A[s.magFilter]),e.texParameteri(r,10241,A[s.minFilter])):(e.texParameteri(r,10242,33071),e.texParameteri(r,10243,33071),32879!==r&&35866!==r||e.texParameteri(r,32882,33071),s.wrapS===kM&&s.wrapT===kM||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(r,10240,w(s.magFilter)),e.texParameteri(r,10241,w(s.minFilter)),s.minFilter!==DM&&s.minFilter!==IM&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){const o=t.get("EXT_texture_filter_anisotropic");if(s.type===UM&&!1===t.has("OES_texture_float_linear"))return;if(!1===a&&s.type===BM&&!1===t.has("OES_texture_half_float_linear"))return;(s.anisotropy>1||n.get(s).__currentAnisotropy)&&(e.texParameterf(r,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(s.anisotropy,i.getMaxAnisotropy())),n.get(s).__currentAnisotropy=s.anisotropy)}}function P(t,r){void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",x),t.__webglTexture=e.createTexture(),o.memory.textures++)}function O(t,n,i){let o=3553;n.isDataTexture2DArray&&(o=35866),n.isDataTexture3D&&(o=32879),P(t,n),r.activeTexture(33984+i),r.bindTexture(o,t.__webglTexture),e.pixelStorei(37440,n.flipY),e.pixelStorei(37441,n.premultiplyAlpha),e.pixelStorei(3317,n.unpackAlignment),e.pixelStorei(37443,0);const l=function(e){return!a&&(e.wrapS!==kM||e.wrapT!==kM||e.minFilter!==DM&&e.minFilter!==IM)}(n)&&!1===y(n.image),c=g(n.image,l,!1,u),h=y(c)||a,d=s.convert(n.format);let p,f=s.convert(n.type),m=b(n.internalFormat,d,f);L(o,n,h);const w=n.mipmaps;if(n.isDepthTexture)m=6402,a?m=n.type===UM?36012:n.type===FM?33190:n.type===VM?35056:33189:n.type===UM&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),n.format===WM&&6402===m&&n.type!==zM&&n.type!==FM&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),n.type=zM,f=s.convert(n.type)),n.format===qM&&6402===m&&(m=34041,n.type!==VM&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),n.type=VM,f=s.convert(n.type))),r.texImage2D(3553,0,m,c.width,c.height,0,d,f,null);else if(n.isDataTexture)if(w.length>0&&h){for(let e=0,t=w.length;e<t;e++)p=w[e],r.texImage2D(3553,e,m,p.width,p.height,0,d,f,p.data);n.generateMipmaps=!1,t.__maxMipLevel=w.length-1}else r.texImage2D(3553,0,m,c.width,c.height,0,d,f,c.data),t.__maxMipLevel=0;else if(n.isCompressedTexture){for(let e=0,t=w.length;e<t;e++)p=w[e],n.format!==GM&&n.format!==HM?null!==d?r.compressedTexImage2D(3553,e,m,p.width,p.height,0,p.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):r.texImage2D(3553,e,m,p.width,p.height,0,d,f,p.data);t.__maxMipLevel=w.length-1}else if(n.isDataTexture2DArray)r.texImage3D(35866,0,m,c.width,c.height,c.depth,0,d,f,c.data),t.__maxMipLevel=0;else if(n.isDataTexture3D)r.texImage3D(32879,0,m,c.width,c.height,c.depth,0,d,f,c.data),t.__maxMipLevel=0;else if(w.length>0&&h){for(let e=0,t=w.length;e<t;e++)p=w[e],r.texImage2D(3553,e,m,d,f,p);n.generateMipmaps=!1,t.__maxMipLevel=w.length-1}else r.texImage2D(3553,0,m,d,f,c),t.__maxMipLevel=0;v(n,h)&&_(o,n,c.width,c.height),t.__version=n.version,n.onUpdate&&n.onUpdate(n)}function R(t,i,o,a){const l=i.texture,c=s.convert(l.format),u=s.convert(l.type),h=b(l.internalFormat,c,u);32879===a||35866===a?r.texImage3D(a,0,h,i.width,i.height,i.depth,0,c,u,null):r.texImage2D(a,0,h,i.width,i.height,0,c,u,null),r.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,o,a,n.get(l).__webglTexture,0),r.bindFramebuffer(36160,null)}function k(t,r,n){if(e.bindRenderbuffer(36161,t),r.depthBuffer&&!r.stencilBuffer){let i=33189;if(n){const t=r.depthTexture;t&&t.isDepthTexture&&(t.type===UM?i=36012:t.type===FM&&(i=33190));const n=j(r);e.renderbufferStorageMultisample(36161,n,i,r.width,r.height)}else e.renderbufferStorage(36161,i,r.width,r.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(r.depthBuffer&&r.stencilBuffer){if(n){const t=j(r);e.renderbufferStorageMultisample(36161,t,35056,r.width,r.height)}else e.renderbufferStorage(36161,34041,r.width,r.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{const t=r.texture,i=s.convert(t.format),o=s.convert(t.type),a=b(t.internalFormat,i,o);if(n){const t=j(r);e.renderbufferStorageMultisample(36161,t,a,r.width,r.height)}else e.renderbufferStorage(36161,a,r.width,r.height)}e.bindRenderbuffer(36161,null)}function j(e){return a&&e.isWebGLMultisampleRenderTarget?Math.min(h,e.samples):0}let D=!1,I=!1;this.allocateTextureUnit=function(){const e=M;return e>=l&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+l),M+=1,e},this.resetTextureUnits=function(){M=0},this.setTexture2D=E,this.setTexture2DArray=function(e,t){const i=n.get(e);e.version>0&&i.__version!==e.version?O(i,e,t):(r.activeTexture(33984+t),r.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){const i=n.get(e);e.version>0&&i.__version!==e.version?O(i,e,t):(r.activeTexture(33984+t),r.bindTexture(32879,i.__webglTexture))},this.setTextureCube=T,this.setupRenderTarget=function(t){const i=t.texture,l=n.get(t),c=n.get(i);t.addEventListener("dispose",S),c.__webglTexture=e.createTexture(),c.__version=i.version,o.memory.textures++;const u=!0===t.isWebGLCubeRenderTarget,h=!0===t.isWebGLMultisampleRenderTarget,d=i.isDataTexture3D||i.isDataTexture2DArray,p=y(t)||a;if(!a||i.format!==HM||i.type!==UM&&i.type!==BM||(i.format=GM,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),u){l.__webglFramebuffer=[];for(let t=0;t<6;t++)l.__webglFramebuffer[t]=e.createFramebuffer()}else if(l.__webglFramebuffer=e.createFramebuffer(),h)if(a){l.__webglMultisampledFramebuffer=e.createFramebuffer(),l.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,l.__webglColorRenderbuffer);const n=s.convert(i.format),o=s.convert(i.type),a=b(i.internalFormat,n,o),c=j(t);e.renderbufferStorageMultisample(36161,c,a,t.width,t.height),r.bindFramebuffer(36160,l.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,l.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(l.__webglDepthRenderbuffer=e.createRenderbuffer(),k(l.__webglDepthRenderbuffer,t,!0)),r.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(u){r.bindTexture(34067,c.__webglTexture),L(34067,i,p);for(let e=0;e<6;e++)R(l.__webglFramebuffer[e],t,36064,34069+e);v(i,p)&&_(34067,i,t.width,t.height),r.bindTexture(34067,null)}else{let e=3553;d&&(a?e=i.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),r.bindTexture(e,c.__webglTexture),L(e,i,p),R(l.__webglFramebuffer,t,36064,e),v(i,p)&&_(3553,i,t.width,t.height),r.bindTexture(3553,null)}t.depthBuffer&&function(t){const i=n.get(t),s=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(s)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(r.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");n.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),E(i.depthTexture,0);const s=n.get(i.depthTexture).__webglTexture;if(i.depthTexture.format===WM)e.framebufferTexture2D(36160,36096,3553,s,0);else{if(i.depthTexture.format!==qM)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,s,0)}}(i.__webglFramebuffer,t)}else if(s){i.__webglDepthbuffer=[];for(let n=0;n<6;n++)r.bindFramebuffer(36160,i.__webglFramebuffer[n]),i.__webglDepthbuffer[n]=e.createRenderbuffer(),k(i.__webglDepthbuffer[n],t,!1)}else r.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),k(i.__webglDepthbuffer,t,!1);r.bindFramebuffer(36160,null)}(t)},this.updateRenderTargetMipmap=function(e){const t=e.texture;if(v(t,y(e)||a)){const i=e.isWebGLCubeRenderTarget?34067:3553,s=n.get(t).__webglTexture;r.bindTexture(i,s),_(i,t,e.width,e.height),r.bindTexture(i,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(a){const i=n.get(t);r.bindFramebuffer(36008,i.__webglMultisampledFramebuffer),r.bindFramebuffer(36009,i.__webglFramebuffer);const s=t.width,o=t.height;let a=16384;t.depthBuffer&&(a|=256),t.stencilBuffer&&(a|=1024),e.blitFramebuffer(0,0,s,o,0,0,s,o,a,9728),r.bindFramebuffer(36160,i.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===D&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),D=!0),e=e.texture),E(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===I&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),I=!0),e=e.texture),T(e,t)}}function tP(e,t,r){const n=r.isWebGL2;return{convert:function(e){let r;if(1009===e)return 5121;if(1017===e)return 32819;if(1018===e)return 32820;if(1019===e)return 33635;if(1010===e)return 5120;if(1011===e)return 5122;if(e===zM)return 5123;if(1013===e)return 5124;if(e===FM)return 5125;if(e===UM)return 5126;if(e===BM)return n?5131:(r=t.get("OES_texture_half_float"),null!==r?r.HALF_FLOAT_OES:null);if(1021===e)return 6406;if(e===HM)return 6407;if(e===GM)return 6408;if(1024===e)return 6409;if(1025===e)return 6410;if(e===WM)return 6402;if(e===qM)return 34041;if(1028===e)return 6403;if(1029===e)return 36244;if(1030===e)return 33319;if(1031===e)return 33320;if(1032===e)return 36248;if(1033===e)return 36249;if(33776===e||33777===e||33778===e||33779===e){if(r=t.get("WEBGL_compressed_texture_s3tc"),null===r)return null;if(33776===e)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===e)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===e)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===e)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===e||35841===e||35842===e||35843===e){if(r=t.get("WEBGL_compressed_texture_pvrtc"),null===r)return null;if(35840===e)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===e)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===e)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===e)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===e)return r=t.get("WEBGL_compressed_texture_etc1"),null!==r?r.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===e||37496===e)&&(r=t.get("WEBGL_compressed_texture_etc"),null!==r)){if(37492===e)return r.COMPRESSED_RGB8_ETC2;if(37496===e)return r.COMPRESSED_RGBA8_ETC2_EAC}return 37808===e||37809===e||37810===e||37811===e||37812===e||37813===e||37814===e||37815===e||37816===e||37817===e||37818===e||37819===e||37820===e||37821===e||37840===e||37841===e||37842===e||37843===e||37844===e||37845===e||37846===e||37847===e||37848===e||37849===e||37850===e||37851===e||37852===e||37853===e?(r=t.get("WEBGL_compressed_texture_astc"),null!==r?e:null):36492===e?(r=t.get("EXT_texture_compression_bptc"),null!==r?e:null):e===VM?n?34042:(r=t.get("WEBGL_depth_texture"),null!==r?r.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}QL.prototype.isMeshDistanceMaterial=!0;class rP extends FC{constructor(e=[]){super(),this.cameras=e}}rP.prototype.isArrayCamera=!0;class nP extends bT{constructor(){super(),this.type="Group"}}function iP(){this._targetRay=null,this._grip=null,this._hand=null}function sP(e,t){const r=this,n=e.state;let i=null,s=1,o=null,a="local-floor",l=null;const c=[],u=new Map,h=new FC;h.layers.enable(1),h.viewport=new mE;const d=new FC;d.layers.enable(2),d.viewport=new mE;const p=[h,d],f=new rP;f.layers.enable(1),f.layers.enable(2);let m=null,g=null;function y(e){const t=u.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function v(){u.forEach(function(e,t){e.disconnect(t)}),u.clear(),m=null,g=null,n.bindXRFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),M.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}function _(e){const t=i.inputSources;for(let r=0;r<c.length;r++)u.set(t[r],c[r]);for(let r=0;r<e.removed.length;r++){const t=e.removed[r],n=u.get(t);n&&(n.dispatchEvent({type:"disconnected",data:t}),u.delete(t))}for(let r=0;r<e.added.length;r++){const t=e.added[r],n=u.get(t);n&&n.dispatchEvent({type:"connected",data:t})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=c[e];return void 0===t&&(t=new iP,c[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=c[e];return void 0===t&&(t=new iP,c[e]=t),t.getGripSpace()},this.getHand=function(e){let t=c[e];return void 0===t&&(t=new iP,c[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){s=e,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){a=e,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getSession=function(){return i},this.setSession=async function(e){if(i=e,null!==i){i.addEventListener("select",y),i.addEventListener("selectstart",y),i.addEventListener("selectend",y),i.addEventListener("squeeze",y),i.addEventListener("squeezestart",y),i.addEventListener("squeezeend",y),i.addEventListener("end",v),i.addEventListener("inputsourceschange",_);const e=t.getContextAttributes();!0!==e.xrCompatible&&await t.makeXRCompatible();const n=new XRWebGLLayer(i,t,{antialias:e.antialias,alpha:e.alpha,depth:e.depth,stencil:e.stencil,framebufferScaleFactor:s});i.updateRenderState({baseLayer:n}),o=await i.requestReferenceSpace(a),M.setContext(i),M.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};const b=new vE,w=new vE;function x(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.getCamera=function(e){f.near=d.near=h.near=e.near,f.far=d.far=h.far=e.far,m===f.near&&g===f.far||(i.updateRenderState({depthNear:f.near,depthFar:f.far}),m=f.near,g=f.far);const t=e.parent,r=f.cameras;x(f,t);for(let i=0;i<r.length;i++)x(r[i],t);e.matrixWorld.copy(f.matrixWorld),e.matrix.copy(f.matrix),e.matrix.decompose(e.position,e.quaternion,e.scale);const n=e.children;for(let i=0,s=n.length;i<s;i++)n[i].updateMatrixWorld(!0);return 2===r.length?function(e,t,r){b.setFromMatrixPosition(t.matrixWorld),w.setFromMatrixPosition(r.matrixWorld);const n=b.distanceTo(w),i=t.projectionMatrix.elements,s=r.projectionMatrix.elements,o=i[14]/(i[10]-1),a=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],h=(s[8]+1)/s[0],d=o*u,p=o*h,f=n/(-u+h),m=f*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(f),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();const g=o+f,y=a+f;e.projectionMatrix.makePerspective(d-m,p+(n-m),l*a/y*g,c*a/y*g,g,y)}(f,h,d):f.projectionMatrix.copy(h.projectionMatrix),f};let S=null;const M=new YC;M.setAnimationLoop(function(e,t){if(l=t.getViewerPose(o),null!==l){const e=l.views,t=i.renderState.baseLayer;n.bindXRFramebuffer(t.framebuffer);let r=!1;e.length!==f.cameras.length&&(f.cameras.length=0,r=!0);for(let n=0;n<e.length;n++){const i=e[n],s=t.getViewport(i),o=p[n];o.matrix.fromArray(i.transform.matrix),o.projectionMatrix.fromArray(i.projectionMatrix),o.viewport.set(s.x,s.y,s.width,s.height),0===n&&f.matrix.copy(o.matrix),!0===r&&f.cameras.push(o)}}const r=i.inputSources;for(let n=0;n<c.length;n++)c[n].update(r[n],t,o);S&&S(e,t)}),this.setAnimationLoop=function(e){S=e},this.dispose=function(){}}function oP(e){function t(t,r){t.opacity.value=r.opacity,r.color&&t.diffuse.value.copy(r.color),r.emissive&&t.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(t.map.value=r.map),r.alphaMap&&(t.alphaMap.value=r.alphaMap),r.specularMap&&(t.specularMap.value=r.specularMap);const n=e.get(r).envMap;if(n){t.envMap.value=n,t.flipEnvMap.value=n.isCubeTexture&&n._needsFlipEnvMap?-1:1,t.reflectivity.value=r.reflectivity,t.refractionRatio.value=r.refractionRatio;const i=e.get(n).__maxMipLevel;void 0!==i&&(t.maxMipLevel.value=i)}let i,s;r.lightMap&&(t.lightMap.value=r.lightMap,t.lightMapIntensity.value=r.lightMapIntensity),r.aoMap&&(t.aoMap.value=r.aoMap,t.aoMapIntensity.value=r.aoMapIntensity),r.map?i=r.map:r.specularMap?i=r.specularMap:r.displacementMap?i=r.displacementMap:r.normalMap?i=r.normalMap:r.bumpMap?i=r.bumpMap:r.roughnessMap?i=r.roughnessMap:r.metalnessMap?i=r.metalnessMap:r.alphaMap?i=r.alphaMap:r.emissiveMap?i=r.emissiveMap:r.clearcoatMap?i=r.clearcoatMap:r.clearcoatNormalMap?i=r.clearcoatNormalMap:r.clearcoatRoughnessMap&&(i=r.clearcoatRoughnessMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix)),r.aoMap?s=r.aoMap:r.lightMap&&(s=r.lightMap),void 0!==s&&(s.isWebGLRenderTarget&&(s=s.texture),!0===s.matrixAutoUpdate&&s.updateMatrix(),t.uv2Transform.value.copy(s.matrix))}function r(t,r){t.roughness.value=r.roughness,t.metalness.value=r.metalness,r.roughnessMap&&(t.roughnessMap.value=r.roughnessMap),r.metalnessMap&&(t.metalnessMap.value=r.metalnessMap),r.emissiveMap&&(t.emissiveMap.value=r.emissiveMap),r.bumpMap&&(t.bumpMap.value=r.bumpMap,t.bumpScale.value=r.bumpScale,1===r.side&&(t.bumpScale.value*=-1)),r.normalMap&&(t.normalMap.value=r.normalMap,t.normalScale.value.copy(r.normalScale),1===r.side&&t.normalScale.value.negate()),r.displacementMap&&(t.displacementMap.value=r.displacementMap,t.displacementScale.value=r.displacementScale,t.displacementBias.value=r.displacementBias),e.get(r).envMap&&(t.envMapIntensity.value=r.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,n,i,s){n.isMeshBasicMaterial?t(e,n):n.isMeshLambertMaterial?(t(e,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(e,n)):n.isMeshToonMaterial?(t(e,n),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isMeshPhongMaterial?(t(e,n),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isMeshStandardMaterial?(t(e,n),n.isMeshPhysicalMaterial?function(e,t){r(e,t),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen),t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,1===t.side&&e.clearcoatNormalScale.value.negate()),e.transmission.value=t.transmission,t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap)}(e,n):r(e,n)):n.isMeshMatcapMaterial?(t(e,n),function(e,t){t.matcap&&(e.matcap.value=t.matcap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isMeshDepthMaterial?(t(e,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isMeshDistanceMaterial?(t(e,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,n)):n.isMeshNormalMaterial?(t(e,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,n)):n.isPointsMaterial?function(e,t,r,n){let i;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*n,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.map?i=t.map:t.alphaMap&&(i=t.alphaMap),void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,n,i,s):n.isSpriteMaterial?function(e,t){let r;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.map?r=t.map:t.alphaMap&&(r=t.alphaMap),void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix))}(e,n):n.isShadowMaterial?(e.color.value.copy(n.color),e.opacity.value=n.opacity):n.isShaderMaterial&&(n.uniformsNeedUpdate=!1)}}}function aP(e){const t=void 0!==(e=e||{}).canvas?e.canvas:function(){const e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return e.style.display="block",e}(),r=void 0!==e.context?e.context:null,n=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,s=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,a=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,c=void 0!==e.powerPreference?e.powerPreference:"default",u=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;let h=null,d=null;const p=[],f=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=KM,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1;const m=this;let g=!1,y=0,v=0,_=null,b=-1,w=null;const x=new mE,S=new mE;let M=null,E=t.width,T=t.height,C=1,A=null,L=null;const P=new mE(0,0,E,T),O=new mE(0,0,E,T);let R=!1;const k=new XC;let j=!1,D=!1;const I=new $E,N=new vE,z={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function F(){return null===_?C:1}let U,B,V,H,G,W,q,X,Y,$,Z,Q,J,K,ee,te,re,ne,ie,se,oe,ae,le=r;function ce(e,r){for(let n=0;n<e.length;n++){const i=t.getContext(e[n],r);if(null!==i)return i}return null}try{const e={alpha:n,depth:i,stencil:s,antialias:o,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if(t.addEventListener("webglcontextlost",de,!1),t.addEventListener("webglcontextrestored",pe,!1),null===le){const t=["webgl2","webgl","experimental-webgl"];if(!0===m.isWebGL1Renderer&&t.shift(),le=ce(t,e),null===le)throw ce(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===le.getShaderPrecisionFormat&&(le.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ee){throw console.error("THREE.WebGLRenderer: "+Ee.message),Ee}function ue(){U=new oA(le),B=new nA(le,U,e),U.init(B),oe=new tP(le,U,B),V=new KL(le,U,B),H=new cA(le),G=new FL,W=new eP(le,U,V,G,B,oe,H),q=new sA(m),X=new $C(le,B),ae=new tA(le,U,X,B),Y=new aA(le,X,H,ae),$=new pA(le,Y,X,H),ne=new dA(le),ee=new iA(G),Z=new zL(m,q,U,B,ae,ee),Q=new oP(G),J=new HL(G),K=new $L(U,B),re=new eA(m,q,V,$,a),te=new JL(m,$,B),ie=new rA(le,U,H,B),se=new lA(le,U,H,B),H.programs=Z.programs,m.capabilities=B,m.extensions=U,m.properties=G,m.renderLists=J,m.shadowMap=te,m.state=V,m.info=H}ue();const he=new sP(m,le);function de(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),g=!0}function pe(){console.log("THREE.WebGLRenderer: Context Restored."),g=!1;const e=H.autoReset,t=te.enabled,r=te.autoUpdate,n=te.needsUpdate,i=te.type;ue(),H.autoReset=e,te.enabled=t,te.autoUpdate=r,te.needsUpdate=n,te.type=i}function fe(e){const t=e.target;t.removeEventListener("dispose",fe),function(e){(function(e){const t=G.get(e).programs;void 0!==t&&t.forEach(function(e){Z.releaseProgram(e)})})(e),G.remove(e)}(t)}this.xr=he,this.getContext=function(){return le},this.getContextAttributes=function(){return le.getContextAttributes()},this.forceContextLoss=function(){const e=U.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=U.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return C},this.setPixelRatio=function(e){void 0!==e&&(C=e,this.setSize(E,T,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new lE),e.set(E,T)},this.setSize=function(e,r,n){he.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(E=e,T=r,t.width=Math.floor(e*C),t.height=Math.floor(r*C),!1!==n&&(t.style.width=e+"px",t.style.height=r+"px"),this.setViewport(0,0,e,r))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new lE),e.set(E*C,T*C).floor()},this.setDrawingBufferSize=function(e,r,n){E=e,T=r,C=n,t.width=Math.floor(e*n),t.height=Math.floor(r*n),this.setViewport(0,0,e,r)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new mE),e.copy(x)},this.getViewport=function(e){return e.copy(P)},this.setViewport=function(e,t,r,n){e.isVector4?P.set(e.x,e.y,e.z,e.w):P.set(e,t,r,n),V.viewport(x.copy(P).multiplyScalar(C).floor())},this.getScissor=function(e){return e.copy(O)},this.setScissor=function(e,t,r,n){e.isVector4?O.set(e.x,e.y,e.z,e.w):O.set(e,t,r,n),V.scissor(S.copy(O).multiplyScalar(C).floor())},this.getScissorTest=function(){return R},this.setScissorTest=function(e){V.setScissorTest(R=e)},this.setOpaqueSort=function(e){A=e},this.setTransparentSort=function(e){L=e},this.getClearColor=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),e=new GT),e.copy(re.getClearColor())},this.setClearColor=function(){re.setClearColor.apply(re,arguments)},this.getClearAlpha=function(){return re.getClearAlpha()},this.setClearAlpha=function(){re.setClearAlpha.apply(re,arguments)},this.clear=function(e,t,r){let n=0;(void 0===e||e)&&(n|=16384),(void 0===t||t)&&(n|=256),(void 0===r||r)&&(n|=1024),le.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",de,!1),t.removeEventListener("webglcontextrestored",pe,!1),J.dispose(),K.dispose(),G.dispose(),q.dispose(),$.dispose(),ae.dispose(),he.dispose(),he.removeEventListener("sessionstart",ge),he.removeEventListener("sessionend",ye),ve.stop()},this.renderBufferImmediate=function(e,t){ae.initAttributes();const r=G.get(e);e.hasPositions&&!r.position&&(r.position=le.createBuffer()),e.hasNormals&&!r.normal&&(r.normal=le.createBuffer()),e.hasUvs&&!r.uv&&(r.uv=le.createBuffer()),e.hasColors&&!r.color&&(r.color=le.createBuffer());const n=t.getAttributes();e.hasPositions&&(le.bindBuffer(34962,r.position),le.bufferData(34962,e.positionArray,35048),ae.enableAttribute(n.position),le.vertexAttribPointer(n.position,3,5126,!1,0,0)),e.hasNormals&&(le.bindBuffer(34962,r.normal),le.bufferData(34962,e.normalArray,35048),ae.enableAttribute(n.normal),le.vertexAttribPointer(n.normal,3,5126,!1,0,0)),e.hasUvs&&(le.bindBuffer(34962,r.uv),le.bufferData(34962,e.uvArray,35048),ae.enableAttribute(n.uv),le.vertexAttribPointer(n.uv,2,5126,!1,0,0)),e.hasColors&&(le.bindBuffer(34962,r.color),le.bufferData(34962,e.colorArray,35048),ae.enableAttribute(n.color),le.vertexAttribPointer(n.color,3,5126,!1,0,0)),ae.disableUnusedAttributes(),le.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,r,n,i,s){null===t&&(t=z);const o=i.isMesh&&i.matrixWorld.determinant()<0,a=Me(e,t,n,i);V.setMaterial(n,o);let l=r.index;const c=r.attributes.position;if(null===l){if(void 0===c||0===c.count)return}else if(0===l.count)return;let u,h=1;!0===n.wireframe&&(l=Y.getWireframeAttribute(r),h=2),(n.morphTargets||n.morphNormals)&&ne.update(i,r,n,a),ae.setup(i,n,a,r,l);let d=ie;null!==l&&(u=X.get(l),d=se,d.setIndex(u));const p=null!==l?l.count:c.count,f=r.drawRange.start*h,m=r.drawRange.count*h,g=null!==s?s.start*h:0,y=null!==s?s.count*h:1/0,v=Math.max(f,g),_=Math.min(p,f+m,g+y)-1,b=Math.max(0,_-v+1);if(0!==b){if(i.isMesh)!0===n.wireframe?(V.setLineWidth(n.wireframeLinewidth*F()),d.setMode(1)):d.setMode(4);else if(i.isLine){let e=n.linewidth;void 0===e&&(e=1),V.setLineWidth(e*F()),d.setMode(i.isLineSegments?1:i.isLineLoop?2:3)}else i.isPoints?d.setMode(0):i.isSprite&&d.setMode(4);if(i.isInstancedMesh)d.renderInstances(v,b,i.count);else if(r.isInstancedBufferGeometry){const e=Math.min(r.instanceCount,r._maxInstanceCount);d.renderInstances(v,b,e)}else d.render(v,b)}},this.compile=function(e,t){d=K.get(e),d.init(),e.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(d.pushLight(e),e.castShadow&&d.pushShadow(e))}),d.setupLights(),e.traverse(function(t){const r=t.material;if(r)if(Array.isArray(r))for(let n=0;n<r.length;n++)xe(r[n],e,t);else xe(r,e,t)})};let me=null;function ge(){ve.stop()}function ye(){ve.start()}const ve=new YC;function _e(e,t,r,n){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)r=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)d.pushLight(e),e.castShadow&&d.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||k.intersectsSprite(e)){n&&N.setFromMatrixPosition(e.matrixWorld).applyMatrix4(I);const t=$.update(e),i=e.material;i.visible&&h.push(e,t,i,r,N.z,null)}}else if(e.isImmediateRenderObject)n&&N.setFromMatrixPosition(e.matrixWorld).applyMatrix4(I),h.push(e,null,e.material,r,N.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==H.render.frame&&(e.skeleton.update(),e.skeleton.frame=H.render.frame),!e.frustumCulled||k.intersectsObject(e))){n&&N.setFromMatrixPosition(e.matrixWorld).applyMatrix4(I);const t=$.update(e),i=e.material;if(Array.isArray(i)){const n=t.groups;for(let s=0,o=n.length;s<o;s++){const o=n[s],a=i[o.materialIndex];a&&a.visible&&h.push(e,t,a,r,N.z,o)}}else i.visible&&h.push(e,t,i,r,N.z,null)}const i=e.children;for(let s=0,o=i.length;s<o;s++)_e(i[s],t,r,n)}function be(e,t,r){const n=!0===t.isScene?t.overrideMaterial:null;for(let i=0,s=e.length;i<s;i++){const s=e[i],o=s.object,a=s.geometry,l=null===n?s.material:n,c=s.group;if(r.isArrayCamera){const e=r.cameras;for(let r=0,n=e.length;r<n;r++){const n=e[r];o.layers.test(n.layers)&&(V.viewport(x.copy(n.viewport)),d.setupLightsView(n),we(o,t,n,a,l,c))}}else we(o,t,r,a,l,c)}}function we(e,t,r,n,i,s){if(e.onBeforeRender(m,t,r,n,i,s),e.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){const n=Me(r,t,i,e);V.setMaterial(i),ae.reset(),function(e,t){e.render(function(e){m.renderBufferImmediate(e,t)})}(e,n)}else m.renderBufferDirect(r,t,n,i,e,s);e.onAfterRender(m,t,r,n,i,s)}function xe(e,t,r){!0!==t.isScene&&(t=z);const n=G.get(e),i=d.state.lights,s=i.state.version,o=Z.getParameters(e,i.state,d.state.shadowsArray,t,r),a=Z.getProgramCacheKey(o);let l=n.programs;n.environment=e.isMeshStandardMaterial?t.environment:null,n.fog=t.fog,n.envMap=q.get(e.envMap||n.environment),void 0===l&&(e.addEventListener("dispose",fe),l=new Map,n.programs=l);let c=l.get(a);if(void 0!==c){if(n.currentProgram===c&&n.lightsStateVersion===s)return Se(e,o),c}else o.uniforms=Z.getUniforms(e),e.onBeforeCompile(o,m),c=Z.acquireProgram(o,a),l.set(a,c),n.uniforms=o.uniforms;const u=n.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(u.clippingPlanes=ee.uniform),Se(e,o),n.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),n.lightsStateVersion=s,n.needsLights&&(u.ambientLightColor.value=i.state.ambient,u.lightProbe.value=i.state.probe,u.directionalLights.value=i.state.directional,u.directionalLightShadows.value=i.state.directionalShadow,u.spotLights.value=i.state.spot,u.spotLightShadows.value=i.state.spotShadow,u.rectAreaLights.value=i.state.rectArea,u.ltc_1.value=i.state.rectAreaLTC1,u.ltc_2.value=i.state.rectAreaLTC2,u.pointLights.value=i.state.point,u.pointLightShadows.value=i.state.pointShadow,u.hemisphereLights.value=i.state.hemi,u.directionalShadowMap.value=i.state.directionalShadowMap,u.directionalShadowMatrix.value=i.state.directionalShadowMatrix,u.spotShadowMap.value=i.state.spotShadowMap,u.spotShadowMatrix.value=i.state.spotShadowMatrix,u.pointShadowMap.value=i.state.pointShadowMap,u.pointShadowMatrix.value=i.state.pointShadowMatrix);const h=c.getUniforms(),p=yL.seqWithValue(h.seq,u);return n.currentProgram=c,n.uniformsList=p,c}function Se(e,t){const r=G.get(e);r.outputEncoding=t.outputEncoding,r.instancing=t.instancing,r.numClippingPlanes=t.numClippingPlanes,r.numIntersection=t.numClipIntersection,r.vertexAlphas=t.vertexAlphas}function Me(e,t,r,n){!0!==t.isScene&&(t=z),W.resetTextureUnits();const i=t.fog,s=null===_?m.outputEncoding:_.texture.encoding,o=q.get(r.envMap||(r.isMeshStandardMaterial?t.environment:null)),a=!0===r.vertexColors&&n.geometry.attributes.color&&4===n.geometry.attributes.color.itemSize,l=G.get(r),c=d.state.lights;!0!==j||!0!==D&&e===w||ee.setState(r,e,e===w&&r.id===b);let u=!1;r.version===l.__version?l.needsLights&&l.lightsStateVersion!==c.state.version||l.outputEncoding!==s||n.isInstancedMesh&&!1===l.instancing?u=!0:n.isInstancedMesh||!0!==l.instancing?l.envMap!==o||r.fog&&l.fog!==i?u=!0:void 0===l.numClippingPlanes||l.numClippingPlanes===ee.numPlanes&&l.numIntersection===ee.numIntersection?l.vertexAlphas!==a&&(u=!0):u=!0:u=!0:(u=!0,l.__version=r.version);let h=l.currentProgram;!0===u&&(h=xe(r,t,n));let p=!1,f=!1,g=!1;const y=h.getUniforms(),v=l.uniforms;if(V.useProgram(h.program)&&(p=!0,f=!0,g=!0),r.id!==b&&(b=r.id,f=!0),p||w!==e){if(y.setValue(le,"projectionMatrix",e.projectionMatrix),B.logarithmicDepthBuffer&&y.setValue(le,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),w!==e&&(w=e,f=!0,g=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){const t=y.map.cameraPosition;void 0!==t&&t.setValue(le,N.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&y.setValue(le,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||r.skinning)&&y.setValue(le,"viewMatrix",e.matrixWorldInverse)}if(r.skinning){y.setOptional(le,n,"bindMatrix"),y.setOptional(le,n,"bindMatrixInverse");const e=n.skeleton;if(e){const t=e.bones;if(B.floatVertexTextures){if(null===e.boneTexture){let r=Math.sqrt(4*t.length);r=aE.ceilPowerOfTwo(r),r=Math.max(r,4);const n=new Float32Array(r*r*4);n.set(e.boneMatrices);const i=new GC(n,r,r,GM,UM);e.boneMatrices=n,e.boneTexture=i,e.boneTextureSize=r}y.setValue(le,"boneTexture",e.boneTexture,W),y.setValue(le,"boneTextureSize",e.boneTextureSize)}else y.setOptional(le,e,"boneMatrices")}}var x,S;return(f||l.receiveShadow!==n.receiveShadow)&&(l.receiveShadow=n.receiveShadow,y.setValue(le,"receiveShadow",n.receiveShadow)),f&&(y.setValue(le,"toneMappingExposure",m.toneMappingExposure),l.needsLights&&((x=v).ambientLightColor.needsUpdate=S=g,x.lightProbe.needsUpdate=S,x.directionalLights.needsUpdate=S,x.directionalLightShadows.needsUpdate=S,x.pointLights.needsUpdate=S,x.pointLightShadows.needsUpdate=S,x.spotLights.needsUpdate=S,x.spotLightShadows.needsUpdate=S,x.rectAreaLights.needsUpdate=S,x.hemisphereLights.needsUpdate=S),i&&r.fog&&Q.refreshFogUniforms(v,i),Q.refreshMaterialUniforms(v,r,C,T),yL.upload(le,l.uniformsList,v,W)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(yL.upload(le,l.uniformsList,v,W),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&y.setValue(le,"center",n.center),y.setValue(le,"modelViewMatrix",n.modelViewMatrix),y.setValue(le,"normalMatrix",n.normalMatrix),y.setValue(le,"modelMatrix",n.matrixWorld),h}ve.setAnimationLoop(function(e){me&&me(e)}),"undefined"!=typeof window&&ve.setContext(window),this.setAnimationLoop=function(e){me=e,he.setAnimationLoop(e),null===e?ve.stop():ve.start()},he.addEventListener("sessionstart",ge),he.addEventListener("sessionend",ye),this.render=function(e,t){let r,n;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),r=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),n=arguments[3]),void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===g)return;!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===he.enabled&&!0===he.isPresenting&&(t=he.getCamera(t)),!0===e.isScene&&e.onBeforeRender(m,e,t,r||_),d=K.get(e,f.length),d.init(),f.push(d),I.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),k.setFromProjectionMatrix(I),D=this.localClippingEnabled,j=ee.init(this.clippingPlanes,D,t),h=J.get(e,p.length),h.init(),p.push(h),_e(e,t,0,m.sortObjects),h.finish(),!0===m.sortObjects&&h.sort(A,L),!0===j&&ee.beginShadows();const i=d.state.shadowsArray;te.render(i,e,t),d.setupLights(),d.setupLightsView(t),!0===j&&ee.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==r&&this.setRenderTarget(r),re.render(h,e,t,n);const s=h.opaque,o=h.transparent;s.length>0&&be(s,e,t),o.length>0&&be(o,e,t),null!==_&&(W.updateRenderTargetMipmap(_),W.updateMultisampleRenderTarget(_)),!0===e.isScene&&e.onAfterRender(m,e,t),V.buffers.depth.setTest(!0),V.buffers.depth.setMask(!0),V.buffers.color.setMask(!0),V.setPolygonOffset(!1),ae.resetDefaultState(),b=-1,w=null,f.pop(),d=f.length>0?f[f.length-1]:null,p.pop(),h=p.length>0?p[p.length-1]:null},this.getActiveCubeFace=function(){return y},this.getActiveMipmapLevel=function(){return v},this.getRenderTarget=function(){return _},this.setRenderTarget=function(e,t=0,r=0){_=e,y=t,v=r,e&&void 0===G.get(e).__webglFramebuffer&&W.setupRenderTarget(e);let n=null,i=!1,s=!1;if(e){const r=e.texture;(r.isDataTexture3D||r.isDataTexture2DArray)&&(s=!0);const o=G.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(n=o[t],i=!0):n=e.isWebGLMultisampleRenderTarget?G.get(e).__webglMultisampledFramebuffer:o,x.copy(e.viewport),S.copy(e.scissor),M=e.scissorTest}else x.copy(P).multiplyScalar(C).floor(),S.copy(O).multiplyScalar(C).floor(),M=R;if(V.bindFramebuffer(36160,n),V.viewport(x),V.scissor(S),V.setScissorTest(M),i){const n=G.get(e.texture);le.framebufferTexture2D(36160,36064,34069+t,n.__webglTexture,r)}else if(s){const n=G.get(e.texture);le.framebufferTextureLayer(36160,36064,n.__webglTexture,r||0,t||0)}},this.readRenderTargetPixels=function(e,t,r,n,i,s,o){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let a=G.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(a=a[o]),a){V.bindFramebuffer(36160,a);try{const o=e.texture,a=o.format,l=o.type;if(a!==GM&&oe.convert(a)!==le.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const c=l===BM&&(U.has("EXT_color_buffer_half_float")||B.isWebGL2&&U.has("EXT_color_buffer_float"));if(!(1009===l||oe.convert(l)===le.getParameter(35738)||l===UM&&(B.isWebGL2||U.has("OES_texture_float")||U.has("WEBGL_color_buffer_float"))||c))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===le.checkFramebufferStatus(36160)?t>=0&&t<=e.width-n&&r>=0&&r<=e.height-i&&le.readPixels(t,r,n,i,oe.convert(a),oe.convert(l),s):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const e=null!==_?G.get(_).__webglFramebuffer:null;V.bindFramebuffer(36160,e)}}},this.copyFramebufferToTexture=function(e,t,r=0){const n=Math.pow(2,-r),i=Math.floor(t.image.width*n),s=Math.floor(t.image.height*n),o=oe.convert(t.format);W.setTexture2D(t,0),le.copyTexImage2D(3553,r,o,e.x,e.y,i,s,0),V.unbindTexture()},this.copyTextureToTexture=function(e,t,r,n=0){const i=t.image.width,s=t.image.height,o=oe.convert(r.format),a=oe.convert(r.type);W.setTexture2D(r,0),le.pixelStorei(37440,r.flipY),le.pixelStorei(37441,r.premultiplyAlpha),le.pixelStorei(3317,r.unpackAlignment),t.isDataTexture?le.texSubImage2D(3553,n,e.x,e.y,i,s,o,a,t.image.data):t.isCompressedTexture?le.compressedTexSubImage2D(3553,n,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):le.texSubImage2D(3553,n,e.x,e.y,o,a,t.image),0===n&&r.generateMipmaps&&le.generateMipmap(3553),V.unbindTexture()},this.copyTextureToTexture3D=function(e,t,r,n,i=0){if(m.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const{width:s,height:o,data:a}=r.image,l=oe.convert(n.format),c=oe.convert(n.type);let u;if(n.isDataTexture3D)W.setTexture3D(n,0),u=32879;else{if(!n.isDataTexture2DArray)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");W.setTexture2DArray(n,0),u=35866}le.pixelStorei(37440,n.flipY),le.pixelStorei(37441,n.premultiplyAlpha),le.pixelStorei(3317,n.unpackAlignment);const h=le.getParameter(3314),d=le.getParameter(32878),p=le.getParameter(3316),f=le.getParameter(3315),g=le.getParameter(32877);le.pixelStorei(3314,s),le.pixelStorei(32878,o),le.pixelStorei(3316,e.min.x),le.pixelStorei(3315,e.min.y),le.pixelStorei(32877,e.min.z),le.texSubImage3D(u,i,t.x,t.y,t.z,e.max.x-e.min.x+1,e.max.y-e.min.y+1,e.max.z-e.min.z+1,l,c,a),le.pixelStorei(3314,h),le.pixelStorei(32878,d),le.pixelStorei(3316,p),le.pixelStorei(3315,f),le.pixelStorei(32877,g),0===i&&n.generateMipmaps&&le.generateMipmap(u),V.unbindTexture()},this.initTexture=function(e){W.setTexture2D(e,0),V.unbindTexture()},this.resetState=function(){y=0,v=0,_=null,V.reset(),ae.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}nP.prototype.isGroup=!0,Object.assign(iP.prototype,{constructor:iP,getHandSpace:function(){return null===this._hand&&(this._hand=new nP,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new nP,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new nP,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(e,t,r){let n=null,i=null,s=null;const o=this._targetRay,a=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(null!==o&&(n=t.getPose(e.targetRaySpace,r),null!==n&&(o.matrix.fromArray(n.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale))),l&&e.hand){s=!0;for(const s of e.hand.values()){const e=t.getJointPose(s,r);if(void 0===l.joints[s.jointName]){const e=new nP;e.matrixAutoUpdate=!1,e.visible=!1,l.joints[s.jointName]=e,l.add(e)}const n=l.joints[s.jointName];null!==e&&(n.matrix.fromArray(e.transform.matrix),n.matrix.decompose(n.position,n.rotation,n.scale),n.jointRadius=e.radius),n.visible=null!==e}const n=l.joints["index-finger-tip"].position.distanceTo(l.joints["thumb-tip"].position),i=.02,o=.005;l.inputState.pinching&&n>i+o?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&n<=i-o&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==a&&e.gripSpace&&(i=t.getPose(e.gripSpace,r),null!==i&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale)));return null!==o&&(o.visible=null!==n),null!==a&&(a.visible=null!==i),null!==l&&(l.visible=null!==s),this}}),Object.assign(sP.prototype,iE.prototype),class extends aP{}.prototype.isWebGL1Renderer=!0;class lP{constructor(e,t=25e-5){this.name="",this.color=new GT(e),this.density=t}clone(){return new lP(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}lP.prototype.isFogExp2=!0;class cP{constructor(e,t=1,r=1e3){this.name="",this.color=new GT(e),this.near=t,this.far=r}clone(){return new cP(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}cP.prototype.isFog=!0;class uP extends bT{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.environment&&(t.object.environment=this.environment.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}function hP(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=tE,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=aE.generateUUID()}uP.prototype.isScene=!0,Object.defineProperty(hP.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(hP.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,r){e*=this.stride,r*=t.stride;for(let n=0,i=this.stride;n<i;n++)this.array[e+n]=t.array[r+n];return this},set:function(e,t=0){return this.array.set(e,t),this},clone:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=aE.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new hP(new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),this.stride);return t.setUsage(this.usage),t},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=aE.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const dP=new vE;function pP(e,t,r,n){this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=!0===n}Object.defineProperties(pP.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(e){this.data.needsUpdate=e}}}),Object.assign(pP.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(let t=0,r=this.data.count;t<r;t++)dP.x=this.getX(t),dP.y=this.getY(t),dP.z=this.getZ(t),dP.applyMatrix4(e),this.setXYZ(t,dP.x,dP.y,dP.z);return this},applyNormalMatrix:function(e){for(let t=0,r=this.count;t<r;t++)dP.x=this.getX(t),dP.y=this.getY(t),dP.z=this.getZ(t),dP.applyNormalMatrix(e),this.setXYZ(t,dP.x,dP.y,dP.z);return this},transformDirection:function(e){for(let t=0,r=this.count;t<r;t++)dP.x=this.getX(t),dP.y=this.getY(t),dP.z=this.getZ(t),dP.transformDirection(e),this.setXYZ(t,dP.x,dP.y,dP.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,r){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=r,this},setXYZ:function(e,t,r,n){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this},setXYZW:function(e,t,r,n,i){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this.data.array[e+3]=i,this},clone:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const r=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[r+t])}return new YT(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new pP(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const r=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[r+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}});class fP extends NT{constructor(e){super(),this.type="SpriteMaterial",this.color=new GT(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}let mP;fP.prototype.isSpriteMaterial=!0;const gP=new vE,yP=new vE,vP=new vE,_P=new lE,bP=new lE,wP=new $E,xP=new vE,SP=new vE,MP=new vE,EP=new lE,TP=new lE,CP=new lE;function AP(e,t,r,n,i,s){_P.subVectors(e,r).addScalar(.5).multiply(n),void 0!==i?(bP.x=s*_P.x-i*_P.y,bP.y=i*_P.x+s*_P.y):bP.copy(_P),e.copy(t),e.x+=bP.x,e.y+=bP.y,e.applyMatrix4(wP)}(class extends bT{constructor(e){if(super(),this.type="Sprite",void 0===mP){mP=new pC;const e=new hP(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);mP.setIndex([0,1,2,0,2,3]),mP.setAttribute("position",new pP(e,3,0,!1)),mP.setAttribute("uv",new pP(e,2,3,!1))}this.geometry=mP,this.material=void 0!==e?e:new fP,this.center=new lE(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),yP.setFromMatrixScale(this.matrixWorld),wP.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),vP.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&yP.multiplyScalar(-vP.z);const r=this.material.rotation;let n,i;0!==r&&(i=Math.cos(r),n=Math.sin(r));const s=this.center;AP(xP.set(-.5,-.5,0),vP,s,yP,n,i),AP(SP.set(.5,-.5,0),vP,s,yP,n,i),AP(MP.set(.5,.5,0),vP,s,yP,n,i),EP.set(0,0),TP.set(1,0),CP.set(1,1);let o=e.ray.intersectTriangle(xP,SP,MP,!1,gP);if(null===o&&(AP(SP.set(-.5,.5,0),vP,s,yP,n,i),TP.set(0,1),o=e.ray.intersectTriangle(xP,MP,SP,!1,gP),null===o))return;const a=e.ray.origin.distanceTo(gP);a<e.near||a>e.far||t.push({distance:a,point:gP.clone(),uv:DT.getUV(gP,xP,SP,MP,EP,TP,CP,new lE),face:null,object:this})}copy(e){return super.copy(e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}).prototype.isSprite=!0;const LP=new vE,PP=new mE,OP=new mE,RP=new vE,kP=new $E;function jP(e,t){OC.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new $E,this.bindMatrixInverse=new $E}function DP(){bT.call(this),this.type="Bone"}jP.prototype=Object.assign(Object.create(OC.prototype),{constructor:jP,isSkinnedMesh:!0,copy:function(e){return OC.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const e=new mE,t=this.geometry.attributes.skinWeight;for(let r=0,n=t.count;r<n;r++){e.x=t.getX(r),e.y=t.getY(r),e.z=t.getZ(r),e.w=t.getW(r);const n=1/e.manhattanLength();n!==1/0?e.multiplyScalar(n):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){OC.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(e,t){const r=this.skeleton,n=this.geometry;PP.fromBufferAttribute(n.attributes.skinIndex,e),OP.fromBufferAttribute(n.attributes.skinWeight,e),LP.fromBufferAttribute(n.attributes.position,e).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let i=0;i<4;i++){const e=OP.getComponent(i);if(0!==e){const n=PP.getComponent(i);kP.multiplyMatrices(r.bones[n].matrixWorld,r.boneInverses[n]),t.addScaledVector(RP.copy(LP).applyMatrix4(kP),e)}}return t.applyMatrix4(this.bindMatrixInverse)}}),DP.prototype=Object.assign(Object.create(bT.prototype),{constructor:DP,isBone:!0});const IP=new $E,NP=new $E,zP=[],FP=new OC;function UP(e,t,r){OC.call(this,e,t),this.instanceMatrix=new YT(new Float32Array(16*r),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}UP.prototype=Object.assign(Object.create(OC.prototype),{constructor:UP,isInstancedMesh:!0,copy:function(e){return OC.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this},getColorAt:function(e,t){t.fromArray(this.instanceColor.array,3*e)},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){const r=this.matrixWorld,n=this.count;if(FP.geometry=this.geometry,FP.material=this.material,void 0!==FP.material)for(let i=0;i<n;i++){this.getMatrixAt(i,IP),NP.multiplyMatrices(r,IP),FP.matrixWorld=NP,FP.raycast(e,zP);for(let e=0,r=zP.length;e<r;e++){const r=zP[e];r.instanceId=i,r.object=this,t.push(r)}zP.length=0}},setColorAt:function(e,t){null===this.instanceColor&&(this.instanceColor=new YT(new Float32Array(3*this.count),3)),t.toArray(this.instanceColor.array,3*e)},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){},dispose:function(){this.dispatchEvent({type:"dispose"})}});class BP extends NT{constructor(e){super(),this.type="LineBasicMaterial",this.color=new GT(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this}}BP.prototype.isLineBasicMaterial=!0;const VP=new vE,HP=new vE,GP=new $E,WP=new YE,qP=new UE;function XP(e=new pC,t=new BP){bT.call(this),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}XP.prototype=Object.assign(Object.create(bT.prototype),{constructor:XP,isLine:!0,copy:function(e){return bT.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,r=[0];for(let e=1,n=t.count;e<n;e++)VP.fromBufferAttribute(t,e-1),HP.fromBufferAttribute(t,e),r[e]=r[e-1],r[e]+=VP.distanceTo(HP);e.setAttribute("lineDistance",new nC(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this},raycast:function(e,t){const r=this.geometry,n=this.matrixWorld,i=e.params.Line.threshold,s=r.drawRange;if(null===r.boundingSphere&&r.computeBoundingSphere(),qP.copy(r.boundingSphere),qP.applyMatrix4(n),qP.radius+=i,!1===e.ray.intersectsSphere(qP))return;GP.copy(n).invert(),WP.copy(e.ray).applyMatrix4(GP);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o,l=new vE,c=new vE,u=new vE,h=new vE,d=this.isLineSegments?2:1;if(r.isBufferGeometry){const n=r.index,i=r.attributes.position;if(null!==n)for(let r=Math.max(0,s.start),o=Math.min(n.count,s.start+s.count)-1;r<o;r+=d){const s=n.getX(r),o=n.getX(r+1);if(l.fromBufferAttribute(i,s),c.fromBufferAttribute(i,o),WP.distanceSqToSegment(l,c,h,u)>a)continue;h.applyMatrix4(this.matrixWorld);const d=e.ray.origin.distanceTo(h);d<e.near||d>e.far||t.push({distance:d,point:u.clone().applyMatrix4(this.matrixWorld),index:r,face:null,faceIndex:null,object:this})}else for(let r=Math.max(0,s.start),o=Math.min(i.count,s.start+s.count)-1;r<o;r+=d){if(l.fromBufferAttribute(i,r),c.fromBufferAttribute(i,r+1),WP.distanceSqToSegment(l,c,h,u)>a)continue;h.applyMatrix4(this.matrixWorld);const n=e.ray.origin.distanceTo(h);n<e.near||n>e.far||t.push({distance:n,point:u.clone().applyMatrix4(this.matrixWorld),index:r,face:null,faceIndex:null,object:this})}}else r.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const e=t[r[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,r=e.length;t<r;t++){const r=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const YP=new vE,$P=new vE;function ZP(e,t){XP.call(this,e,t),this.type="LineSegments"}ZP.prototype=Object.assign(Object.create(XP.prototype),{constructor:ZP,isLineSegments:!0,computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,r=[];for(let e=0,n=t.count;e<n;e+=2)YP.fromBufferAttribute(t,e),$P.fromBufferAttribute(t,e+1),r[e]=0===e?0:r[e-1],r[e+1]=r[e]+YP.distanceTo($P);e.setAttribute("lineDistance",new nC(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}),class extends XP{constructor(e,t){super(e,t),this.type="LineLoop"}}.prototype.isLineLoop=!0;class QP extends NT{constructor(e){super(),this.type="PointsMaterial",this.color=new GT(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this}}QP.prototype.isPointsMaterial=!0;const JP=new $E,KP=new YE,eO=new UE,tO=new vE;function rO(e=new pC,t=new QP){bT.call(this),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}function nO(e,t,r,n,i,s,o){const a=KP.distanceSqToPoint(e);if(a<r){const r=new vE;KP.closestPointToPoint(e,r),r.applyMatrix4(n);const l=i.ray.origin.distanceTo(r);if(l<i.near||l>i.far)return;s.push({distance:l,distanceToRay:Math.sqrt(a),point:r,index:t,face:null,object:o})}}rO.prototype=Object.assign(Object.create(bT.prototype),{constructor:rO,isPoints:!0,copy:function(e){return bT.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){const r=this.geometry,n=this.matrixWorld,i=e.params.Points.threshold,s=r.drawRange;if(null===r.boundingSphere&&r.computeBoundingSphere(),eO.copy(r.boundingSphere),eO.applyMatrix4(n),eO.radius+=i,!1===e.ray.intersectsSphere(eO))return;JP.copy(n).invert(),KP.copy(e.ray).applyMatrix4(JP);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o;if(r.isBufferGeometry){const i=r.index,o=r.attributes.position;if(null!==i)for(let r=Math.max(0,s.start),l=Math.min(i.count,s.start+s.count);r<l;r++){const s=i.getX(r);tO.fromBufferAttribute(o,s),nO(tO,s,a,n,e,t,this)}else for(let r=Math.max(0,s.start),l=Math.min(o.count,s.start+s.count);r<l;r++)tO.fromBufferAttribute(o,r),nO(tO,r,a,n,e,t,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const e=t[r[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,r=e.length;t<r;t++){const r=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),class extends pE{constructor(e,t,r,n,i,s,o,a,l){super(e,t,r,n,i,s,o,a,l),this.format=void 0!==o?o:HM,this.minFilter=void 0!==s?s:IM,this.magFilter=void 0!==i?i:IM,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(function t(){c.needsUpdate=!0,e.requestVideoFrameCallback(t)})}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;0=="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}.prototype.isVideoTexture=!0;class iO extends pE{constructor(e,t,r,n,i,s,o,a,l,c,u,h){super(null,s,o,a,l,c,n,i,u,h),this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}iO.prototype.isCompressedTexture=!0;class sO extends pE{constructor(e,t,r,n,i,s,o,a,l){super(e,t,r,n,i,s,o,a,l),this.needsUpdate=!0}}function oO(e,t,r,n,i){let s,o;if(i===function(e,t,r,n){let i=0;for(let s=t,o=r-n;s<r;s+=n)i+=(e[o]-e[s])*(e[s+1]+e[o+1]),o=s;return i}(e,t,r,n)>0)for(s=t;s<r;s+=n)o=CO(s,e[s],e[s+1],o);else for(s=r-n;s>=t;s-=n)o=CO(s,e[s],e[s+1],o);return o&&wO(o,o.next)&&(AO(o),o=o.next),o}function aO(e,t){if(!e)return e;t||(t=e);let r,n=e;do{if(r=!1,n.steiner||!wO(n,n.next)&&0!==bO(n.prev,n,n.next))n=n.next;else{if(AO(n),n=t=n.prev,n===n.next)break;r=!0}}while(r||n!==t);return t}function lO(e,t,r,n,i,s,o){if(!e)return;!o&&s&&function(e,t,r,n){let i=e;do{null===i.z&&(i.z=gO(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){let t,r,n,i,s,o,a,l,c=1;do{for(r=e,e=null,s=null,o=0;r;){for(o++,n=r,a=0,t=0;t<c&&(a++,n=n.nextZ,n);t++);for(l=c;a>0||l>0&&n;)0!==a&&(0===l||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,l--),s?s.nextZ=i:e=i,i.prevZ=s,s=i;r=n}s.nextZ=null,c*=2}while(o>1)}(i)}(e,n,i,s);let a,l,c=e;for(;e.prev!==e.next;)if(a=e.prev,l=e.next,s?uO(e,n,i,s):cO(e))t.push(a.i/r),t.push(e.i/r),t.push(l.i/r),AO(e),e=l.next,c=l.next;else if((e=l)===c){o?1===o?lO(e=hO(aO(e),t,r),t,r,n,i,s,2):2===o&&dO(e,t,r,n,i,s):lO(aO(e),t,r,n,i,s,1);break}}function cO(e){const t=e.prev,r=e,n=e.next;if(bO(t,r,n)>=0)return!1;let i=e.next.next;for(;i!==e.prev;){if(vO(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&bO(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function uO(e,t,r,n){const i=e.prev,s=e,o=e.next;if(bO(i,s,o)>=0)return!1;const a=i.x>s.x?i.x>o.x?i.x:o.x:s.x>o.x?s.x:o.x,l=i.y>s.y?i.y>o.y?i.y:o.y:s.y>o.y?s.y:o.y,c=gO(i.x<s.x?i.x<o.x?i.x:o.x:s.x<o.x?s.x:o.x,i.y<s.y?i.y<o.y?i.y:o.y:s.y<o.y?s.y:o.y,t,r,n),u=gO(a,l,t,r,n);let h=e.prevZ,d=e.nextZ;for(;h&&h.z>=c&&d&&d.z<=u;){if(h!==e.prev&&h!==e.next&&vO(i.x,i.y,s.x,s.y,o.x,o.y,h.x,h.y)&&bO(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,d!==e.prev&&d!==e.next&&vO(i.x,i.y,s.x,s.y,o.x,o.y,d.x,d.y)&&bO(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;h&&h.z>=c;){if(h!==e.prev&&h!==e.next&&vO(i.x,i.y,s.x,s.y,o.x,o.y,h.x,h.y)&&bO(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;d&&d.z<=u;){if(d!==e.prev&&d!==e.next&&vO(i.x,i.y,s.x,s.y,o.x,o.y,d.x,d.y)&&bO(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function hO(e,t,r){let n=e;do{const i=n.prev,s=n.next.next;!wO(i,s)&&xO(i,n,n.next,s)&&EO(i,s)&&EO(s,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(s.i/r),AO(n),AO(n.next),n=e=s),n=n.next}while(n!==e);return aO(n)}function dO(e,t,r,n,i,s){let o=e;do{let e=o.next.next;for(;e!==o.prev;){if(o.i!==e.i&&_O(o,e)){let a=TO(o,e);return o=aO(o,o.next),a=aO(a,a.next),lO(o,t,r,n,i,s),void lO(a,t,r,n,i,s)}e=e.next}o=o.next}while(o!==e)}function pO(e,t){return e.x-t.x}function fO(e,t){if(t=function(e,t){let r=t;const n=e.x,i=e.y;let s,o=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){const e=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(e<=n&&e>o){if(o=e,e===n){if(i===r.y)return r;if(i===r.next.y)return r.next}s=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!s)return null;if(n===o)return s;const a=s,l=s.x,c=s.y;let u,h=1/0;r=s;do{n>=r.x&&r.x>=l&&n!==r.x&&vO(i<c?n:o,i,l,c,i<c?o:n,i,r.x,r.y)&&(u=Math.abs(i-r.y)/(n-r.x),EO(r,e)&&(u<h||u===h&&(r.x>s.x||r.x===s.x&&mO(s,r)))&&(s=r,h=u)),r=r.next}while(r!==a);return s}(e,t)){const r=TO(t,e);aO(t,t.next),aO(r,r.next)}}function mO(e,t){return bO(e.prev,e,t.prev)<0&&bO(t.next,e,e.next)<0}function gO(e,t,r,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function yO(e){let t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function vO(e,t,r,n,i,s,o,a){return(i-o)*(t-a)-(e-o)*(s-a)>=0&&(e-o)*(n-a)-(r-o)*(t-a)>=0&&(r-o)*(s-a)-(i-o)*(n-a)>=0}function _O(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&xO(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(EO(e,t)&&EO(t,e)&&function(e,t){let r=e,n=!1;const i=(e.x+t.x)/2,s=(e.y+t.y)/2;do{r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)&&(bO(e.prev,e,t.prev)||bO(e,t.prev,t))||wO(e,t)&&bO(e.prev,e,e.next)>0&&bO(t.prev,t,t.next)>0)}function bO(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function wO(e,t){return e.x===t.x&&e.y===t.y}function xO(e,t,r,n){const i=MO(bO(e,t,r)),s=MO(bO(e,t,n)),o=MO(bO(r,n,e)),a=MO(bO(r,n,t));return i!==s&&o!==a||!(0!==i||!SO(e,r,t))||!(0!==s||!SO(e,n,t))||!(0!==o||!SO(r,e,n))||!(0!==a||!SO(r,t,n))}function SO(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function MO(e){return e>0?1:e<0?-1:0}function EO(e,t){return bO(e.prev,e,e.next)<0?bO(e,t,e.next)>=0&&bO(e,e.prev,t)>=0:bO(e,t,e.prev)<0||bO(e,e.next,t)<0}function TO(e,t){const r=new LO(e.i,e.x,e.y),n=new LO(t.i,t.x,t.y),i=e.next,s=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function CO(e,t,r,n){const i=new LO(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function AO(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function LO(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}sO.prototype.isCanvasTexture=!0,class extends pE{constructor(e,t,r,n,i,s,o,a,l,c){if((c=void 0!==c?c:WM)!==WM&&c!==qM)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===r&&c===WM&&(r=zM),void 0===r&&c===qM&&(r=VM),super(null,n,i,s,o,a,c,r,l),this.image={width:e,height:t},this.magFilter=void 0!==o?o:DM,this.minFilter=void 0!==a?a:DM,this.flipY=!1,this.generateMipmaps=!1}}.prototype.isDepthTexture=!0,new vE,new vE,new vE,new DT;const PO={area:function(e){const t=e.length;let r=0;for(let n=t-1,i=0;i<t;n=i++)r+=e[n].x*e[i].y-e[i].x*e[n].y;return.5*r},isClockWise:function(e){return PO.area(e)<0},triangulateShape:function(e,t){const r=[],n=[],i=[];OO(e),RO(r,e);let s=e.length;t.forEach(OO);for(let a=0;a<t.length;a++)n.push(s),s+=t[a].length,RO(r,t[a]);const o=function(e,t,r){r=r||2;const n=t&&t.length,i=n?t[0]*r:e.length;let s=oO(e,0,i,r,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,h,d,p;if(n&&(s=function(e,t,r,n){const i=[];let s,o,a,l,c;for(s=0,o=t.length;s<o;s++)a=t[s]*n,l=s<o-1?t[s+1]*n:e.length,c=oO(e,a,l,n,!1),c===c.next&&(c.steiner=!0),i.push(yO(c));for(i.sort(pO),s=0;s<i.length;s++)fO(i[s],r),r=aO(r,r.next);return r}(e,t,s,r)),e.length>80*r){a=c=e[0],l=u=e[1];for(let t=r;t<i;t+=r)h=e[t],d=e[t+1],h<a&&(a=h),d<l&&(l=d),h>c&&(c=h),d>u&&(u=d);p=Math.max(c-a,u-l),p=0!==p?1/p:0}return lO(s,o,r,a,l,p),o}(r,n);for(let a=0;a<o.length;a+=3)i.push(o.slice(a,a+3));return i}};function OO(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function RO(e,t){for(let r=0;r<t.length;r++)e.push(t[r].x),e.push(t[r].y)}class kO extends pC{constructor(e,t){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,n=[],i=[];for(let o=0,a=e.length;o<a;o++)s(e[o]);function s(e){const s=[],o=void 0!==t.curveSegments?t.curveSegments:12,a=void 0!==t.steps?t.steps:1;let l=void 0!==t.depth?t.depth:100,c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:6,h=void 0!==t.bevelSize?t.bevelSize:u-2,d=void 0!==t.bevelOffset?t.bevelOffset:0,p=void 0!==t.bevelSegments?t.bevelSegments:3;const f=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:jO;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=t.amount);let g,y,v,_,b,w=!1;f&&(g=f.getSpacedPoints(a),w=!0,c=!1,y=f.computeFrenetFrames(a,!1),v=new vE,_=new vE,b=new vE),c||(p=0,u=0,h=0,d=0);const x=e.extractPoints(o);let S=x.shape;const M=x.holes;if(!PO.isClockWise(S)){S=S.reverse();for(let e=0,t=M.length;e<t;e++){const t=M[e];PO.isClockWise(t)&&(M[e]=t.reverse())}}const E=PO.triangulateShape(S,M),T=S;for(let t=0,r=M.length;t<r;t++)S=S.concat(M[t]);function C(e,t,r){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(r).add(e)}const A=S.length,L=E.length;function P(e,t,r){let n,i,s;const o=e.x-t.x,a=e.y-t.y,l=r.x-e.x,c=r.y-e.y,u=o*o+a*a;if(Math.abs(o*c-a*l)>Number.EPSILON){const h=Math.sqrt(u),d=Math.sqrt(l*l+c*c),p=t.x-a/h,f=t.y+o/h,m=((r.x-c/d-p)*c-(r.y+l/d-f)*l)/(o*c-a*l);n=p+o*m-e.x,i=f+a*m-e.y;const g=n*n+i*i;if(g<=2)return new lE(n,i);s=Math.sqrt(g/2)}else{let e=!1;o>Number.EPSILON?l>Number.EPSILON&&(e=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(a)===Math.sign(c)&&(e=!0),e?(n=-a,i=o,s=Math.sqrt(u)):(n=o,i=a,s=Math.sqrt(u/2))}return new lE(n/s,i/s)}const O=[];for(let t=0,r=T.length,n=r-1,i=t+1;t<r;t++,n++,i++)n===r&&(n=0),i===r&&(i=0),O[t]=P(T[t],T[n],T[i]);const R=[];let k,j=O.concat();for(let t=0,r=M.length;t<r;t++){const e=M[t];k=[];for(let t=0,r=e.length,n=r-1,i=t+1;t<r;t++,n++,i++)n===r&&(n=0),i===r&&(i=0),k[t]=P(e[t],e[n],e[i]);R.push(k),j=j.concat(k)}for(let t=0;t<p;t++){const e=t/p,r=u*Math.cos(e*Math.PI/2),n=h*Math.sin(e*Math.PI/2)+d;for(let t=0,i=T.length;t<i;t++){const e=C(T[t],O[t],n);N(e.x,e.y,-r)}for(let t=0,i=M.length;t<i;t++){const e=M[t];k=R[t];for(let t=0,i=e.length;t<i;t++){const i=C(e[t],k[t],n);N(i.x,i.y,-r)}}}const D=h+d;for(let t=0;t<A;t++){const e=c?C(S[t],j[t],D):S[t];w?(_.copy(y.normals[0]).multiplyScalar(e.x),v.copy(y.binormals[0]).multiplyScalar(e.y),b.copy(g[0]).add(_).add(v),N(b.x,b.y,b.z)):N(e.x,e.y,0)}for(let t=1;t<=a;t++)for(let e=0;e<A;e++){const r=c?C(S[e],j[e],D):S[e];w?(_.copy(y.normals[t]).multiplyScalar(r.x),v.copy(y.binormals[t]).multiplyScalar(r.y),b.copy(g[t]).add(_).add(v),N(b.x,b.y,b.z)):N(r.x,r.y,l/a*t)}for(let t=p-1;t>=0;t--){const e=t/p,r=u*Math.cos(e*Math.PI/2),n=h*Math.sin(e*Math.PI/2)+d;for(let t=0,i=T.length;t<i;t++){const e=C(T[t],O[t],n);N(e.x,e.y,l+r)}for(let t=0,i=M.length;t<i;t++){const e=M[t];k=R[t];for(let t=0,i=e.length;t<i;t++){const i=C(e[t],k[t],n);w?N(i.x,i.y+g[a-1].y,g[a-1].x+r):N(i.x,i.y,l+r)}}}function I(e,t){let r=e.length;for(;--r>=0;){const n=r;let i=r-1;i<0&&(i=e.length-1);for(let e=0,r=a+2*p;e<r;e++){const r=A*e,s=A*(e+1);F(t+n+r,t+i+r,t+i+s,t+n+s)}}}function N(e,t,r){s.push(e),s.push(t),s.push(r)}function z(e,t,i){U(e),U(t),U(i);const s=n.length/3,o=m.generateTopUV(r,n,s-3,s-2,s-1);B(o[0]),B(o[1]),B(o[2])}function F(e,t,i,s){U(e),U(t),U(s),U(t),U(i),U(s);const o=n.length/3,a=m.generateSideWallUV(r,n,o-6,o-3,o-2,o-1);B(a[0]),B(a[1]),B(a[3]),B(a[1]),B(a[2]),B(a[3])}function U(e){n.push(s[3*e+0]),n.push(s[3*e+1]),n.push(s[3*e+2])}function B(e){i.push(e.x),i.push(e.y)}!function(){const e=n.length/3;if(c){let e=0,t=A*e;for(let r=0;r<L;r++){const e=E[r];z(e[2]+t,e[1]+t,e[0]+t)}e=a+2*p,t=A*e;for(let r=0;r<L;r++){const e=E[r];z(e[0]+t,e[1]+t,e[2]+t)}}else{for(let e=0;e<L;e++){const t=E[e];z(t[2],t[1],t[0])}for(let e=0;e<L;e++){const t=E[e];z(t[0]+A*a,t[1]+A*a,t[2]+A*a)}}r.addGroup(e,n.length/3-e,0)}(),function(){const e=n.length/3;let t=0;I(T,t),t+=T.length;for(let r=0,n=M.length;r<n;r++){const e=M[r];I(e,t),t+=e.length}r.addGroup(e,n.length/3-e,1)}()}this.setAttribute("position",new nC(n,3)),this.setAttribute("uv",new nC(i,2)),this.computeVertexNormals()}toJSON(){const e=pC.prototype.toJSON.call(this);return function(e,t,r){if(r.shapes=[],Array.isArray(e))for(let n=0,i=e.length;n<i;n++)r.shapes.push(e[n].uuid);else r.shapes.push(e.uuid);return void 0!==t.extrudePath&&(r.options.extrudePath=t.extrudePath.toJSON()),r}(this.parameters.shapes,this.parameters.options,e)}}const jO={generateTopUV:function(e,t,r,n,i){const s=t[3*n],o=t[3*n+1],a=t[3*i],l=t[3*i+1];return[new lE(t[3*r],t[3*r+1]),new lE(s,o),new lE(a,l)]},generateSideWallUV:function(e,t,r,n,i,s){const o=t[3*r],a=t[3*r+1],l=t[3*r+2],c=t[3*n],u=t[3*n+1],h=t[3*n+2],d=t[3*i],p=t[3*i+1],f=t[3*i+2],m=t[3*s],g=t[3*s+1],y=t[3*s+2];return Math.abs(a-u)<.01?[new lE(o,1-l),new lE(c,1-h),new lE(d,1-f),new lE(m,1-y)]:[new lE(a,1-l),new lE(u,1-h),new lE(p,1-f),new lE(g,1-y)]}};function DO(e,t,r){pC.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:r};const n=[],i=[],s=[],o=[],a=1e-5,l=new vE,c=new vE,u=new vE,h=new vE,d=new vE;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const p=t+1;for(let f=0;f<=r;f++){const n=f/r;for(let r=0;r<=t;r++){const p=r/t;e(p,n,c),i.push(c.x,c.y,c.z),p-a>=0?(e(p-a,n,u),h.subVectors(c,u)):(e(p+a,n,u),h.subVectors(u,c)),n-a>=0?(e(p,n-a,u),d.subVectors(c,u)):(e(p,n+a,u),d.subVectors(u,c)),l.crossVectors(h,d).normalize(),s.push(l.x,l.y,l.z),o.push(p,n)}}for(let f=0;f<r;f++)for(let e=0;e<t;e++){const t=f*p+e+1,r=(f+1)*p+e+1,i=(f+1)*p+e;n.push(f*p+e,t,i),n.push(t,r,i)}this.setIndex(n),this.setAttribute("position",new nC(i,3)),this.setAttribute("normal",new nC(s,3)),this.setAttribute("uv",new nC(o,2))}(DO.prototype=Object.create(pC.prototype)).constructor=DO;class IO extends pC{constructor(e,t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],n=[],i=[],s=[];let o=0,a=0;if(!1===Array.isArray(e))l(e);else for(let c=0;c<e.length;c++)l(e[c]),this.addGroup(o,a,c),o+=a,a=0;function l(e){const o=n.length/3,l=e.extractPoints(t);let c=l.shape;const u=l.holes;!1===PO.isClockWise(c)&&(c=c.reverse());for(let t=0,r=u.length;t<r;t++){const e=u[t];!0===PO.isClockWise(e)&&(u[t]=e.reverse())}const h=PO.triangulateShape(c,u);for(let t=0,r=u.length;t<r;t++)c=c.concat(u[t]);for(let t=0,r=c.length;t<r;t++){const e=c[t];n.push(e.x,e.y,0),i.push(0,0,1),s.push(e.x,e.y)}for(let t=0,n=h.length;t<n;t++){const e=h[t];r.push(e[0]+o,e[1]+o,e[2]+o),a+=3}}this.setIndex(r),this.setAttribute("position",new nC(n,3)),this.setAttribute("normal",new nC(i,3)),this.setAttribute("uv",new nC(s,2))}toJSON(){const e=pC.prototype.toJSON.call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(let r=0,n=e.length;r<n;r++)t.shapes.push(e[r].uuid);else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}function NO(e){NT.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new GT(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new GT(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new lE(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.vertexTangents=!1,this.setValues(e)}function zO(e){NO.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new lE(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(e){this.reflectivity=aE.clamp(2.5*(e-1)/(e+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(e)}(class extends NT{constructor(e){super(),this.type="ShadowMaterial",this.color=new GT(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}).prototype.isShadowMaterial=!0,class extends NC{constructor(e){super(e),this.type="RawShaderMaterial"}}.prototype.isRawShaderMaterial=!0,(NO.prototype=Object.create(NT.prototype)).constructor=NO,NO.prototype.isMeshStandardMaterial=!0,NO.prototype.copy=function(e){return NT.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this.vertexTangents=e.vertexTangents,this},(zO.prototype=Object.create(NO.prototype)).constructor=zO,zO.prototype.isMeshPhysicalMaterial=!0,zO.prototype.copy=function(e){return NO.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,this.sheen=e.sheen?(this.sheen||new GT).copy(e.sheen):null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this};class FO extends NT{constructor(e){super(),this.type="MeshPhongMaterial",this.color=new GT(16777215),this.specular=new GT(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new GT(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new lE(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}FO.prototype.isMeshPhongMaterial=!0,class extends NT{constructor(e){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new GT(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new GT(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new lE(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this}}.prototype.isMeshToonMaterial=!0,class extends NT{constructor(e){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new lE(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}.prototype.isMeshNormalMaterial=!0;class UO extends NT{constructor(e){super(),this.type="MeshLambertMaterial",this.color=new GT(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new GT(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this}}UO.prototype.isMeshLambertMaterial=!0,class extends NT{constructor(e){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new GT(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new lE(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}.prototype.isMeshMatcapMaterial=!0,class extends BP{constructor(e){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}.prototype.isLineDashedMaterial=!0;const BO={arraySlice:function(e,t,r){return BO.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==r?r:e.length)):e.slice(t,r)},convertArray:function(e,t,r){return!e||!r&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){const t=e.length,r=new Array(t);for(let n=0;n!==t;++n)r[n]=n;return r.sort(function(t,r){return e[t]-e[r]}),r},sortedArray:function(e,t,r){const n=e.length,i=new e.constructor(n);for(let s=0,o=0;o!==n;++s){const n=r[s]*t;for(let r=0;r!==t;++r)i[o++]=e[n+r]}return i},flattenJSON:function(e,t,r,n){let i=1,s=e[0];for(;void 0!==s&&void 0===s[n];)s=e[i++];if(void 0===s)return;let o=s[n];if(void 0!==o)if(Array.isArray(o))do{o=s[n],void 0!==o&&(t.push(s.time),r.push.apply(r,o)),s=e[i++]}while(void 0!==s);else if(void 0!==o.toArray)do{o=s[n],void 0!==o&&(t.push(s.time),o.toArray(r,r.length)),s=e[i++]}while(void 0!==s);else do{o=s[n],void 0!==o&&(t.push(s.time),r.push(o)),s=e[i++]}while(void 0!==s)},subclip:function(e,t,r,n,i=30){const s=e.clone();s.name=t;const o=[];for(let l=0;l<s.tracks.length;++l){const e=s.tracks[l],t=e.getValueSize(),a=[],c=[];for(let s=0;s<e.times.length;++s){const o=e.times[s]*i;if(!(o<r||o>=n)){a.push(e.times[s]);for(let r=0;r<t;++r)c.push(e.values[s*t+r])}}0!==a.length&&(e.times=BO.convertArray(a,e.times.constructor),e.values=BO.convertArray(c,e.values.constructor),o.push(e))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s},makeClipAdditive:function(e,t=0,r=e,n=30){n<=0&&(n=30);const i=r.tracks.length,s=t/n;for(let o=0;o<i;++o){const t=r.tracks[o],n=t.ValueTypeName;if("bool"===n||"string"===n)continue;const i=e.tracks.find(function(e){return e.name===t.name&&e.ValueTypeName===n});if(void 0===i)continue;let a=0;const l=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(a=l/3);let c=0;const u=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);const h=t.times.length-1;let d;if(s<=t.times[0])d=BO.arraySlice(t.values,a,l-a);else if(s>=t.times[h]){const e=h*l+a;d=BO.arraySlice(t.values,e,e+l-a)}else{const e=t.createInterpolant(),r=a,n=l-a;e.evaluate(s),d=BO.arraySlice(e.resultBuffer,r,n)}"quaternion"===n&&(new yE).fromArray(d).normalize().conjugate().toArray(d);const p=i.times.length;for(let e=0;e<p;++e){const t=e*u+c;if("quaternion"===n)yE.multiplyQuaternionsFlat(i.values,t,d,0,i.values,t);else{const e=u-2*c;for(let r=0;r<e;++r)i.values[t+r]-=d[r]}}}return e.blendMode=2501,e}};function VO(e,t,r,n){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new t.constructor(r),this.sampleValues=t,this.valueSize=r}function HO(e,t,r,n){VO.call(this,e,t,r,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function GO(e,t,r,n){VO.call(this,e,t,r,n)}function WO(e,t,r,n){VO.call(this,e,t,r,n)}Object.assign(VO.prototype,{evaluate:function(e){const t=this.parameterPositions;let r=this._cachedIndex,n=t[r],i=t[r-1];e:{t:{let s;r:{n:if(!(e<n)){for(let s=r+2;;){if(void 0===n){if(e<i)break n;return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,e,i)}if(r===s)break;if(i=n,n=t[++r],e<n)break t}s=t.length;break r}if(e>=i)break e;{const o=t[1];e<o&&(r=2,i=o);for(let s=r-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(r===s)break;if(n=i,i=t[--r-1],e>=i)break t}s=r,r=0}}for(;r<s;){const n=r+s>>>1;e<t[n]?s=n:r=n+1}if(n=t[r],i=t[r-1],void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(void 0===n)return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,i,e)}this._cachedIndex=r,this.intervalChanged_(r,i,n)}return this.interpolate_(r,i,e,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){const t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,i=e*n;for(let s=0;s!==n;++s)t[s]=r[i+s];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(VO.prototype,{beforeStart_:VO.prototype.copySampleValue_,afterEnd_:VO.prototype.copySampleValue_}),HO.prototype=Object.assign(Object.create(VO.prototype),{constructor:HO,DefaultSettings_:{endingStart:ZM,endingEnd:ZM},intervalChanged_:function(e,t,r){const n=this.parameterPositions;let i=e-2,s=e+1,o=n[i],a=n[s];if(void 0===o)switch(this.getSettings_().endingStart){case QM:i=e,o=2*t-r;break;case JM:i=n.length-2,o=t+n[i]-n[i+1];break;default:i=e,o=r}if(void 0===a)switch(this.getSettings_().endingEnd){case QM:s=e,a=2*r-t;break;case JM:s=1,a=r+n[1]-n[0];break;default:s=e-1,a=t}const l=.5*(r-t),c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(a-r),this._offsetPrev=i*c,this._offsetNext=s*c},interpolate_:function(e,t,r,n){const i=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=e*o,l=a-o,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(r-t)/(n-t),f=p*p,m=f*p,g=-h*m+2*h*f-h*p,y=(1+h)*m+(-1.5-2*h)*f+(-.5+h)*p+1,v=(-1-d)*m+(1.5+d)*f+.5*p,_=d*m-d*f;for(let b=0;b!==o;++b)i[b]=g*s[c+b]+y*s[l+b]+v*s[a+b]+_*s[u+b];return i}}),GO.prototype=Object.assign(Object.create(VO.prototype),{constructor:GO,interpolate_:function(e,t,r,n){const i=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=e*o,l=a-o,c=(r-t)/(n-t),u=1-c;for(let h=0;h!==o;++h)i[h]=s[l+h]*u+s[a+h]*c;return i}}),WO.prototype=Object.assign(Object.create(VO.prototype),{constructor:WO,interpolate_:function(e){return this.copySampleValue_(e-1)}});class qO{constructor(e,t,r,n){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=BO.convertArray(t,this.TimeBufferType),this.values=BO.convertArray(r,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:BO.convertArray(e.times,Array),values:BO.convertArray(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(r.interpolation=t)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new WO(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new GO(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new HO(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case XM:t=this.InterpolantFactoryMethodDiscrete;break;case YM:t=this.InterpolantFactoryMethodLinear;break;case $M:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return XM;case this.InterpolantFactoryMethodLinear:return YM;case this.InterpolantFactoryMethodSmooth:return $M}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let r=0,n=t.length;r!==n;++r)t[r]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let r=0,n=t.length;r!==n;++r)t[r]*=e}return this}trim(e,t){const r=this.times,n=r.length;let i=0,s=n-1;for(;i!==n&&r[i]<e;)++i;for(;-1!==s&&r[s]>t;)--s;if(++s,0!==i||s!==n){i>=s&&(s=Math.max(s,1),i=s-1);const e=this.getValueSize();this.times=BO.arraySlice(r,i,s),this.values=BO.arraySlice(this.values,i*e,s*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,n=this.values,i=r.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==i;o++){const t=r[o];if("number"==typeof t&&isNaN(t)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,t),e=!1;break}if(null!==s&&s>t){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,t,s),e=!1;break}s=t}if(void 0!==n&&BO.isTypedArray(n))for(let o=0,a=n.length;o!==a;++o){const t=n[o];if(isNaN(t)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,t),e=!1;break}}return e}optimize(){const e=BO.arraySlice(this.times),t=BO.arraySlice(this.values),r=this.getValueSize(),n=this.getInterpolation()===$M,i=e.length-1;let s=1;for(let o=1;o<i;++o){let i=!1;const a=e[o];if(a!==e[o+1]&&(1!==o||a!==e[0]))if(n)i=!0;else{const e=o*r,n=e-r,s=e+r;for(let o=0;o!==r;++o){const r=t[e+o];if(r!==t[n+o]||r!==t[s+o]){i=!0;break}}}if(i){if(o!==s){e[s]=e[o];const n=o*r,i=s*r;for(let e=0;e!==r;++e)t[i+e]=t[n+e]}++s}}if(i>0){e[s]=e[i];for(let e=i*r,n=s*r,o=0;o!==r;++o)t[n+o]=t[e+o];++s}return s!==e.length?(this.times=BO.arraySlice(e,0,s),this.values=BO.arraySlice(t,0,s*r)):(this.times=e,this.values=t),this}clone(){const e=BO.arraySlice(this.times,0),t=BO.arraySlice(this.values,0),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}qO.prototype.TimeBufferType=Float32Array,qO.prototype.ValueBufferType=Float32Array,qO.prototype.DefaultInterpolation=YM;class XO extends qO{}XO.prototype.ValueTypeName="bool",XO.prototype.ValueBufferType=Array,XO.prototype.DefaultInterpolation=XM,XO.prototype.InterpolantFactoryMethodLinear=void 0,XO.prototype.InterpolantFactoryMethodSmooth=void 0;class YO extends qO{}YO.prototype.ValueTypeName="color";class $O extends qO{}function ZO(e,t,r,n){VO.call(this,e,t,r,n)}$O.prototype.ValueTypeName="number",ZO.prototype=Object.assign(Object.create(VO.prototype),{constructor:ZO,interpolate_:function(e,t,r,n){const i=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=(r-t)/(n-t);let l=e*o;for(let c=l+o;l!==c;l+=4)yE.slerpFlat(i,0,s,l-o,s,l,a);return i}});class QO extends qO{InterpolantFactoryMethodLinear(e){return new ZO(this.times,this.values,this.getValueSize(),e)}}QO.prototype.ValueTypeName="quaternion",QO.prototype.DefaultInterpolation=YM,QO.prototype.InterpolantFactoryMethodSmooth=void 0;class JO extends qO{}JO.prototype.ValueTypeName="string",JO.prototype.ValueBufferType=Array,JO.prototype.DefaultInterpolation=XM,JO.prototype.InterpolantFactoryMethodLinear=void 0,JO.prototype.InterpolantFactoryMethodSmooth=void 0;class KO extends qO{}KO.prototype.ValueTypeName="vector";class eR{constructor(e,t=-1,r,n=2500){this.name=e,this.tracks=r,this.duration=t,this.blendMode=n,this.uuid=aE.generateUUID(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,n=1/(e.fps||1);for(let s=0,o=r.length;s!==o;++s)t.push(tR(r[s]).scale(n));const i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i}static toJSON(e){const t=[],r=e.tracks,n={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let i=0,s=r.length;i!==s;++i)t.push(qO.toJSON(r[i]));return n}static CreateFromMorphTargetSequence(e,t,r,n){const i=t.length,s=[];for(let o=0;o<i;o++){let e=[],a=[];e.push((o+i-1)%i,o,(o+1)%i),a.push(0,1,0);const l=BO.getKeyframeOrder(e);e=BO.sortedArray(e,1,l),a=BO.sortedArray(a,1,l),n||0!==e[0]||(e.push(i),a.push(a[0])),s.push(new $O(".morphTargetInfluences["+t[o].name+"]",e,a).scale(1/r))}return new this(e,-1,s)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const t=e;r=t.geometry&&t.geometry.animations||t.animations}for(let n=0;n<r.length;n++)if(r[n].name===t)return r[n];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const n={},i=/^([\w-]*?)([\d]+)$/;for(let o=0,a=e.length;o<a;o++){const t=e[o],r=t.name.match(i);if(r&&r.length>1){const e=r[1];let i=n[e];i||(n[e]=i=[]),i.push(t)}}const s=[];for(const o in n)s.push(this.CreateFromMorphTargetSequence(o,n[o],t,r));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(e,t,r,n,i){if(0!==r.length){const s=[],o=[];BO.flattenJSON(r,s,o,n),0!==s.length&&i.push(new e(t,s,o))}},n=[],i=e.name||"default",s=e.fps||30,o=e.blendMode;let a=e.length||-1;const l=e.hierarchy||[];for(let c=0;c<l.length;c++){const e=l[c].keys;if(e&&0!==e.length)if(e[0].morphTargets){const t={};let r;for(r=0;r<e.length;r++)if(e[r].morphTargets)for(let n=0;n<e[r].morphTargets.length;n++)t[e[r].morphTargets[n]]=-1;for(const i in t){const t=[],s=[];for(let n=0;n!==e[r].morphTargets.length;++n){const n=e[r];t.push(n.time),s.push(n.morphTarget===i?1:0)}n.push(new $O(".morphTargetInfluence["+i+"]",t,s))}a=t.length*(s||1)}else{const i=".bones["+t[c].name+"]";r(KO,i+".position",e,"pos",n),r(QO,i+".quaternion",e,"rot",n),r(KO,i+".scale",e,"scl",n)}}return 0===n.length?null:new this(i,a,n,o)}resetDuration(){let e=0;for(let t=0,r=this.tracks.length;t!==r;++t){const r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function tR(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return $O;case"vector":case"vector2":case"vector3":case"vector4":return KO;case"color":return YO;case"quaternion":return QO;case"bool":case"boolean":return XO;case"string":return JO}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],r=[];BO.flattenJSON(e.keys,t,r,"value"),e.times=t,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const rR={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},nR=new function(e,t,r){const n=this;let i=!1,s=0,o=0,a=void 0;const l=[];this.onStart=void 0,this.onLoad=void 0,this.onProgress=void 0,this.onError=void 0,this.itemStart=function(e){o++,!1===i&&void 0!==n.onStart&&n.onStart(e,s,o),i=!0},this.itemEnd=function(e){s++,void 0!==n.onProgress&&n.onProgress(e,s,o),s===o&&(i=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(e){void 0!==n.onError&&n.onError(e)},this.resolveURL=function(e){return a?a(e):e},this.setURLModifier=function(e){return a=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,r=l.length;t<r;t+=2){const r=l[t],n=l[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return n}return null}};function iR(e){this.manager=void 0!==e?e:nR,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(iR.prototype,{load:function(){},loadAsync:function(e,t){const r=this;return new Promise(function(n,i){r.load(e,n,t,i)})},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});const sR={};function oR(e){iR.call(this,e)}function aR(e){iR.call(this,e)}oR.prototype=Object.assign(Object.create(iR.prototype),{constructor:oR,load:function(e,t,r,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,s=rR.get(e);if(void 0!==s)return i.manager.itemStart(e),setTimeout(function(){t&&t(s),i.manager.itemEnd(e)},0),s;if(void 0!==sR[e])return void sR[e].push({onLoad:t,onProgress:r,onError:n});const o=e.match(/^data:(.*?)(;base64)?,(.*)$/);let a;if(o){const r=o[1],s=!!o[2];let a=o[3];a=decodeURIComponent(a),s&&(a=atob(a));try{let n;const s=(this.responseType||"").toLowerCase();switch(s){case"arraybuffer":case"blob":const e=new Uint8Array(a.length);for(let r=0;r<a.length;r++)e[r]=a.charCodeAt(r);n="blob"===s?new Blob([e.buffer],{type:r}):e.buffer;break;case"document":const t=new DOMParser;n=t.parseFromString(a,r);break;case"json":n=JSON.parse(a);break;default:n=a}setTimeout(function(){t&&t(n),i.manager.itemEnd(e)},0)}catch(l){setTimeout(function(){n&&n(l),i.manager.itemError(e),i.manager.itemEnd(e)},0)}}else{sR[e]=[],sR[e].push({onLoad:t,onProgress:r,onError:n}),a=new XMLHttpRequest,a.open("GET",e,!0),a.addEventListener("load",function(t){const r=this.response,n=sR[e];if(delete sR[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),rR.add(e,r);for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onLoad&&t.onLoad(r)}i.manager.itemEnd(e)}else{for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}},!1),a.addEventListener("progress",function(t){const r=sR[e];for(let e=0,n=r.length;e<n;e++){const n=r[e];n.onProgress&&n.onProgress(t)}},!1),a.addEventListener("error",function(t){const r=sR[e];delete sR[e];for(let e=0,n=r.length;e<n;e++){const n=r[e];n.onError&&n.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)},!1),a.addEventListener("abort",function(t){const r=sR[e];delete sR[e];for(let e=0,n=r.length;e<n;e++){const n=r[e];n.onError&&n.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)},!1),void 0!==this.responseType&&(a.responseType=this.responseType),void 0!==this.withCredentials&&(a.withCredentials=this.withCredentials),a.overrideMimeType&&a.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const e in this.requestHeader)a.setRequestHeader(e,this.requestHeader[e]);a.send(null)}return i.manager.itemStart(e),a},setResponseType:function(e){return this.responseType=e,this},setMimeType:function(e){return this.mimeType=e,this}}),aR.prototype=Object.assign(Object.create(iR.prototype),{constructor:aR,load:function(e,t,r,n){const i=this,s=[],o=new iO,a=new oR(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(i.withCredentials);let l=0;function c(c){a.load(e[c],function(e){const r=i.parse(e,!0);s[c]={width:r.width,height:r.height,format:r.format,mipmaps:r.mipmaps},l+=1,6===l&&(1===r.mipmapCount&&(o.minFilter=IM),o.image=s,o.format=r.format,o.needsUpdate=!0,t&&t(o))},r,n)}if(Array.isArray(e))for(let u=0,h=e.length;u<h;++u)c(u);else a.load(e,function(e){const r=i.parse(e,!0);if(r.isCubemap){const e=r.mipmaps.length/r.mipmapCount;for(let t=0;t<e;t++){s[t]={mipmaps:[]};for(let e=0;e<r.mipmapCount;e++)s[t].mipmaps.push(r.mipmaps[t*r.mipmapCount+e]),s[t].format=r.format,s[t].width=r.width,s[t].height=r.height}o.image=s}else o.image.width=r.width,o.image.height=r.height,o.mipmaps=r.mipmaps;1===r.mipmapCount&&(o.minFilter=IM),o.format=r.format,o.needsUpdate=!0,t&&t(o)},r,n);return o}});class lR extends iR{constructor(e){super(e)}load(e,t,r,n){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,s=rR.get(e);if(void 0!==s)return i.manager.itemStart(e),setTimeout(function(){t&&t(s),i.manager.itemEnd(e)},0),s;const o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function a(){o.removeEventListener("load",a,!1),o.removeEventListener("error",l,!1),rR.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){o.removeEventListener("load",a,!1),o.removeEventListener("error",l,!1),n&&n(t),i.manager.itemError(e),i.manager.itemEnd(e)}return o.addEventListener("load",a,!1),o.addEventListener("error",l,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}class cR extends iR{constructor(e){super(e)}load(e,t,r,n){const i=new VC,s=new lR(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function a(r){s.load(e[r],function(e){i.images[r]=e,o++,6===o&&(i.needsUpdate=!0,t&&t(i))},void 0,n)}for(let l=0;l<e.length;++l)a(l);return i}}function uR(e){iR.call(this,e)}function hR(e){iR.call(this,e)}function dR(){this.type="Curve",this.arcLengthDivisions=200}uR.prototype=Object.assign(Object.create(iR.prototype),{constructor:uR,load:function(e,t,r,n){const i=this,s=new GC,o=new oR(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,function(e){const r=i.parse(e);r&&(void 0!==r.image?s.image=r.image:void 0!==r.data&&(s.image.width=r.width,s.image.height=r.height,s.image.data=r.data),s.wrapS=void 0!==r.wrapS?r.wrapS:kM,s.wrapT=void 0!==r.wrapT?r.wrapT:kM,s.magFilter=void 0!==r.magFilter?r.magFilter:IM,s.minFilter=void 0!==r.minFilter?r.minFilter:IM,s.anisotropy=void 0!==r.anisotropy?r.anisotropy:1,void 0!==r.encoding&&(s.encoding=r.encoding),void 0!==r.flipY&&(s.flipY=r.flipY),void 0!==r.format&&(s.format=r.format),void 0!==r.type&&(s.type=r.type),void 0!==r.mipmaps&&(s.mipmaps=r.mipmaps,s.minFilter=NM),1===r.mipmapCount&&(s.minFilter=IM),void 0!==r.generateMipmaps&&(s.generateMipmaps=r.generateMipmaps),s.needsUpdate=!0,t&&t(s,r))},r,n),s}}),hR.prototype=Object.assign(Object.create(iR.prototype),{constructor:hR,load:function(e,t,r,n){const i=new pE,s=new lR(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(r){i.image=r;const n=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=n?HM:GM,i.needsUpdate=!0,void 0!==t&&t(i)},r,n),i}}),Object.assign(dR.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)},getPoints:function(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t},getSpacedPoints:function(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t},getLength:function(){const e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,n=this.getPoint(0),i=0;t.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),i+=r.distanceTo(n),t.push(i),n=r;return this.cacheArcLengths=t,t},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){const r=this.getLengths();let n=0;const i=r.length;let s;s=t||e*r[i-1];let o,a=0,l=i-1;for(;a<=l;)if(n=Math.floor(a+(l-a)/2),o=r[n]-s,o<0)a=n+1;else{if(!(o>0)){l=n;break}l=n-1}if(n=l,r[n]===s)return n/(i-1);const c=r[n];return(n+(s-c)/(r[n+1]-c))/(i-1)},getTangent:function(e,t){const r=1e-4;let n=e-r,i=e+r;n<0&&(n=0),i>1&&(i=1);const s=this.getPoint(n),o=this.getPoint(i),a=t||(s.isVector2?new lE:new vE);return a.copy(o).sub(s).normalize(),a},getTangentAt:function(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)},computeFrenetFrames:function(e,t){const r=new vE,n=[],i=[],s=[],o=new vE,a=new $E;for(let d=0;d<=e;d++)n[d]=this.getTangentAt(d/e,new vE),n[d].normalize();i[0]=new vE,s[0]=new vE;let l=Number.MAX_VALUE;const c=Math.abs(n[0].x),u=Math.abs(n[0].y),h=Math.abs(n[0].z);c<=l&&(l=c,r.set(1,0,0)),u<=l&&(l=u,r.set(0,1,0)),h<=l&&r.set(0,0,1),o.crossVectors(n[0],r).normalize(),i[0].crossVectors(n[0],o),s[0].crossVectors(n[0],i[0]);for(let d=1;d<=e;d++){if(i[d]=i[d-1].clone(),s[d]=s[d-1].clone(),o.crossVectors(n[d-1],n[d]),o.length()>Number.EPSILON){o.normalize();const e=Math.acos(aE.clamp(n[d-1].dot(n[d]),-1,1));i[d].applyMatrix4(a.makeRotationAxis(o,e))}s[d].crossVectors(n[d],i[d])}if(!0===t){let t=Math.acos(aE.clamp(i[0].dot(i[e]),-1,1));t/=e,n[0].dot(o.crossVectors(i[0],i[e]))>0&&(t=-t);for(let r=1;r<=e;r++)i[r].applyMatrix4(a.makeRotationAxis(n[r],t*r)),s[r].crossVectors(n[r],i[r])}return{tangents:n,normals:i,binormals:s}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}});class pR extends dR{constructor(e=0,t=0,r=1,n=1,i=0,s=2*Math.PI,o=!1,a=0){super(),this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=n,this.aStartAngle=i,this.aEndAngle=s,this.aClockwise=o,this.aRotation=a}getPoint(e,t){const r=t||new lE,n=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;const s=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=n;for(;i>n;)i-=n;i<Number.EPSILON&&(i=s?0:n),!0!==this.aClockwise||s||(i===n?i=-n:i-=n);const o=this.aStartAngle+e*i;let a=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),r=a-this.aX,n=l-this.aY;a=r*e-n*t+this.aX,l=r*t+n*e+this.aY}return r.set(a,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}pR.prototype.isEllipseCurve=!0;class fR extends pR{constructor(e,t,r,n,i,s){super(e,t,r,r,n,i,s),this.type="ArcCurve"}}function mR(){let e=0,t=0,r=0,n=0;function i(i,s,o,a){e=i,t=o,r=-3*i+3*s-2*o-a,n=2*i-2*s+o+a}return{initCatmullRom:function(e,t,r,n,s){i(t,r,s*(r-e),s*(n-t))},initNonuniformCatmullRom:function(e,t,r,n,s,o,a){let l=(t-e)/s-(r-e)/(s+o)+(r-t)/o,c=(r-t)/o-(n-t)/(o+a)+(n-r)/a;l*=o,c*=o,i(t,r,l,c)},calc:function(i){const s=i*i;return e+t*i+r*s+n*(s*i)}}}fR.prototype.isArcCurve=!0;const gR=new vE,yR=new mR,vR=new mR,_R=new mR;class bR extends dR{constructor(e=[],t=!1,r="centripetal",n=.5){super(),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=n}getPoint(e,t=new vE){const r=t,n=this.points,i=n.length,s=(i-(this.closed?0:1))*e;let o,a,l=Math.floor(s),c=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/i)+1)*i:0===c&&l===i-1&&(l=i-2,c=1),this.closed||l>0?o=n[(l-1)%i]:(gR.subVectors(n[0],n[1]).add(n[0]),o=gR);const u=n[l%i],h=n[(l+1)%i];if(this.closed||l+2<i?a=n[(l+2)%i]:(gR.subVectors(n[i-1],n[i-2]).add(n[i-1]),a=gR),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(o.distanceToSquared(u),e),r=Math.pow(u.distanceToSquared(h),e),n=Math.pow(h.distanceToSquared(a),e);r<1e-4&&(r=1),t<1e-4&&(t=r),n<1e-4&&(n=r),yR.initNonuniformCatmullRom(o.x,u.x,h.x,a.x,t,r,n),vR.initNonuniformCatmullRom(o.y,u.y,h.y,a.y,t,r,n),_R.initNonuniformCatmullRom(o.z,u.z,h.z,a.z,t,r,n)}else"catmullrom"===this.curveType&&(yR.initCatmullRom(o.x,u.x,h.x,a.x,this.tension),vR.initCatmullRom(o.y,u.y,h.y,a.y,this.tension),_R.initCatmullRom(o.z,u.z,h.z,a.z,this.tension));return r.set(yR.calc(c),vR.calc(c),_R.calc(c)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++)this.points.push(e.points[t].clone());return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++)e.points.push(this.points[t].toArray());return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const r=e.points[t];this.points.push((new vE).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function wR(e,t,r,n,i){const s=.5*(n-t),o=.5*(i-r),a=e*e;return(2*r-2*n+s+o)*(e*a)+(-3*r+3*n-2*s-o)*a+s*e+r}function xR(e,t,r,n){return function(e,t){const r=1-e;return r*r*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,r)+function(e,t){return e*e*t}(e,n)}function SR(e,t,r,n,i){return function(e,t){const r=1-e;return r*r*r*t}(e,t)+function(e,t){const r=1-e;return 3*r*r*e*t}(e,r)+function(e,t){return 3*(1-e)*e*e*t}(e,n)+function(e,t){return e*e*e*t}(e,i)}bR.prototype.isCatmullRomCurve3=!0;class MR extends dR{constructor(e=new lE,t=new lE,r=new lE,n=new lE){super(),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=n}getPoint(e,t=new lE){const r=t,n=this.v0,i=this.v1,s=this.v2,o=this.v3;return r.set(SR(e,n.x,i.x,s.x,o.x),SR(e,n.y,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}MR.prototype.isCubicBezierCurve=!0;class ER extends dR{constructor(e=new vE,t=new vE,r=new vE,n=new vE){super(),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=n}getPoint(e,t=new vE){const r=t,n=this.v0,i=this.v1,s=this.v2,o=this.v3;return r.set(SR(e,n.x,i.x,s.x,o.x),SR(e,n.y,i.y,s.y,o.y),SR(e,n.z,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}ER.prototype.isCubicBezierCurve3=!0;class TR extends dR{constructor(e=new lE,t=new lE){super(),this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new lE){const r=t;return 1===e?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new lE;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}TR.prototype.isLineCurve=!0;class CR extends dR{constructor(e=new lE,t=new lE,r=new lE){super(),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new lE){const r=t,n=this.v0,i=this.v1,s=this.v2;return r.set(xR(e,n.x,i.x,s.x),xR(e,n.y,i.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}CR.prototype.isQuadraticBezierCurve=!0;class AR extends dR{constructor(e=new vE,t=new vE,r=new vE){super(),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new vE){const r=t,n=this.v0,i=this.v1,s=this.v2;return r.set(xR(e,n.x,i.x,s.x),xR(e,n.y,i.y,s.y),xR(e,n.z,i.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}AR.prototype.isQuadraticBezierCurve3=!0;class LR extends dR{constructor(e=[]){super(),this.type="SplineCurve",this.points=e}getPoint(e,t=new lE){const r=t,n=this.points,i=(n.length-1)*e,s=Math.floor(i),o=i-s,a=n[0===s?s:s-1],l=n[s],c=n[s>n.length-2?n.length-1:s+1],u=n[s>n.length-3?n.length-1:s+2];return r.set(wR(o,a.x,l.x,c.x,u.x),wR(o,a.y,l.y,c.y,u.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++)this.points.push(e.points[t].clone());return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++)e.points.push(this.points[t].toArray());return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const r=e.points[t];this.points.push((new lE).fromArray(r))}return this}}LR.prototype.isSplineCurve=!0;var PR=Object.freeze({__proto__:null,ArcCurve:fR,CatmullRomCurve3:bR,CubicBezierCurve:MR,CubicBezierCurve3:ER,EllipseCurve:pR,LineCurve:TR,LineCurve3:class extends dR{constructor(e=new vE,t=new vE){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new vE){const r=t;return 1===e?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},QuadraticBezierCurve:CR,QuadraticBezierCurve3:AR,SplineCurve:LR});class OR extends dR{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new TR(t,e))}getPoint(e){const t=e*this.getLength(),r=this.getCurveLengths();let n=0;for(;n<r.length;){if(r[n]>=t){const e=r[n]-t,i=this.curves[n],s=i.getLength();return i.getPointAt(0===s?0:1-e/s)}n++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,n=this.curves.length;r<n;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let n=0,i=this.curves;n<i.length;n++){const s=i[n],o=s.getPoints(s&&s.isEllipseCurve?2*e:s&&(s.isLineCurve||s.isLineCurve3)?1:s&&s.isSplineCurve?e*s.points.length:e);for(let e=0;e<o.length;e++){const n=o[e];r&&r.equals(n)||(t.push(n),r=n)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++)this.curves.push(e.curves[t].clone());return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++)e.curves.push(this.curves[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const r=e.curves[t];this.curves.push((new PR[r.type]).fromJSON(r))}return this}}class RR extends OR{constructor(e){super(),this.type="Path",this.currentPoint=new lE,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new TR(this.currentPoint.clone(),new lE(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,n){const i=new CR(this.currentPoint.clone(),new lE(e,t),new lE(r,n));return this.curves.push(i),this.currentPoint.set(r,n),this}bezierCurveTo(e,t,r,n,i,s){const o=new MR(this.currentPoint.clone(),new lE(e,t),new lE(r,n),new lE(i,s));return this.curves.push(o),this.currentPoint.set(i,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new LR(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,n,i,s){return this.absarc(e+this.currentPoint.x,t+this.currentPoint.y,r,n,i,s),this}absarc(e,t,r,n,i,s){return this.absellipse(e,t,r,r,n,i,s),this}ellipse(e,t,r,n,i,s,o,a){return this.absellipse(e+this.currentPoint.x,t+this.currentPoint.y,r,n,i,s,o,a),this}absellipse(e,t,r,n,i,s,o,a){const l=new pR(e,t,r,n,i,s,o,a);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class kR extends RR{constructor(e){super(e),this.uuid=aE.generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,n=this.holes.length;r<n;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++)this.holes.push(e.holes[t].clone());return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++)e.holes.push(this.holes[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const r=e.holes[t];this.holes.push((new RR).fromJSON(r))}return this}}class jR extends bT{constructor(e,t=1){super(),this.type="Light",this.color=new GT(e),this.intensity=t}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}jR.prototype.isLight=!0,class extends jR{constructor(e,t,r){super(e,r),this.type="HemisphereLight",this.position.copy(bT.DefaultUp),this.updateMatrix(),this.groundColor=new GT(t)}copy(e){return jR.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}.prototype.isHemisphereLight=!0;const DR=new $E,IR=new vE,NR=new vE;class zR{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new lE(512,512),this.map=null,this.mapPass=null,this.matrix=new $E,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new XC,this._frameExtents=new lE(1,1),this._viewportCount=1,this._viewports=[new mE(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;IR.setFromMatrixPosition(e.matrixWorld),t.position.copy(IR),NR.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(NR),t.updateMatrixWorld(),DR.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(DR),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class FR extends zR{constructor(){super(new FC(50,1,.5,500)),this.focus=1}updateMatrices(e){const t=this.camera,r=2*aE.RAD2DEG*e.angle*this.focus,n=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;r===t.fov&&n===t.aspect&&i===t.far||(t.fov=r,t.aspect=n,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}FR.prototype.isSpotLightShadow=!0,class extends jR{constructor(e,t,r=0,n=Math.PI/3,i=0,s=1){super(e,t),this.type="SpotLight",this.position.copy(bT.DefaultUp),this.updateMatrix(),this.target=new bT,this.distance=r,this.angle=n,this.penumbra=i,this.decay=s,this.shadow=new FR}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}.prototype.isSpotLight=!0;const UR=new $E,BR=new vE,VR=new vE;class HR extends zR{constructor(){super(new FC(90,1,.5,500)),this._frameExtents=new lE(4,2),this._viewportCount=6,this._viewports=[new mE(2,1,1,1),new mE(0,1,1,1),new mE(3,1,1,1),new mE(1,1,1,1),new mE(3,0,1,1),new mE(1,0,1,1)],this._cubeDirections=[new vE(1,0,0),new vE(-1,0,0),new vE(0,0,1),new vE(0,0,-1),new vE(0,1,0),new vE(0,-1,0)],this._cubeUps=[new vE(0,1,0),new vE(0,1,0),new vE(0,1,0),new vE(0,1,0),new vE(0,0,1),new vE(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,n=this.matrix,i=e.distance||r.far;i!==r.far&&(r.far=i,r.updateProjectionMatrix()),BR.setFromMatrixPosition(e.matrixWorld),r.position.copy(BR),VR.copy(r.position),VR.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(VR),r.updateMatrixWorld(),n.makeTranslation(-BR.x,-BR.y,-BR.z),UR.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(UR)}}HR.prototype.isPointLightShadow=!0,class extends jR{constructor(e,t,r=0,n=1){super(e,t),this.type="PointLight",this.distance=r,this.decay=n,this.shadow=new HR}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}.prototype.isPointLight=!0;class GR extends zC{constructor(e=-1,t=1,r=1,n=-1,i=.1,s=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=n,this.near=i,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,r,n,i,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2;let i=r-e,s=r+e,o=n+t,a=n-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,s=i+e*this.view.width,o-=t*this.view.offsetY,a=o-t*this.view.height}this.projectionMatrix.makeOrthographic(i,s,o,a,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=bT.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}GR.prototype.isOrthographicCamera=!0;class WR extends zR{constructor(){super(new GR(-5,5,5,-5,.5,500))}}WR.prototype.isDirectionalLightShadow=!0;class qR extends jR{constructor(e,t){super(e,t),this.type="DirectionalLight",this.position.copy(bT.DefaultUp),this.updateMatrix(),this.target=new bT,this.shadow=new WR}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}qR.prototype.isDirectionalLight=!0;class XR extends jR{constructor(e,t){super(e,t),this.type="AmbientLight"}}XR.prototype.isAmbientLight=!0,class extends jR{constructor(e,t,r=10,n=10){super(e,t),this.type="RectAreaLight",this.width=r,this.height=n}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}.prototype.isRectAreaLight=!0;class YR{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new vE)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,n=e.y,i=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*n),t.addScaledVector(s[2],.488603*i),t.addScaledVector(s[3],.488603*r),t.addScaledVector(s[4],r*n*1.092548),t.addScaledVector(s[5],n*i*1.092548),t.addScaledVector(s[6],.315392*(3*i*i-1)),t.addScaledVector(s[7],r*i*1.092548),t.addScaledVector(s[8],.546274*(r*r-n*n)),t}getIrradianceAt(e,t){const r=e.x,n=e.y,i=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],1.023328*n),t.addScaledVector(s[2],1.023328*i),t.addScaledVector(s[3],1.023328*r),t.addScaledVector(s[4],.858086*r*n),t.addScaledVector(s[5],.858086*n*i),t.addScaledVector(s[6],.743125*i*i-.247708),t.addScaledVector(s[7],.858086*r*i),t.addScaledVector(s[8],.429043*(r*r-n*n)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let n=0;n<9;n++)r[n].fromArray(e,t+3*n);return this}toArray(e=[],t=0){const r=this.coefficients;for(let n=0;n<9;n++)r[n].toArray(e,t+3*n);return e}static getBasisAt(e,t){const r=e.x,n=e.y,i=e.z;t[0]=.282095,t[1]=.488603*n,t[2]=.488603*i,t[3]=.488603*r,t[4]=1.092548*r*n,t[5]=1.092548*n*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*r*i,t[8]=.546274*(r*r-n*n)}}YR.prototype.isSphericalHarmonics3=!0;class $R extends jR{constructor(e=new YR,t=1){super(void 0,t),this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}function ZR(){pC.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function QR(e,t,r,n){"number"==typeof r&&(n=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),YT.call(this,e,t,r),this.meshPerAttribute=n||1}function JR(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),iR.call(this,e),this.options={premultiplyAlpha:"none"}}let KR;$R.prototype.isLightProbe=!0,ZR.prototype=Object.assign(Object.create(pC.prototype),{constructor:ZR,isInstancedBufferGeometry:!0,copy:function(e){return pC.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const e=pC.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}),QR.prototype=Object.assign(Object.create(YT.prototype),{constructor:QR,isInstancedBufferAttribute:!0,copy:function(e){return YT.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){const e=YT.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),JR.prototype=Object.assign(Object.create(iR.prototype),{constructor:JR,isImageBitmapLoader:!0,setOptions:function(e){return this.options=e,this},load:function(e,t,r,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,s=rR.get(e);if(void 0!==s)return i.manager.itemStart(e),setTimeout(function(){t&&t(s),i.manager.itemEnd(e)},0),s;const o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))}).then(function(r){rR.add(e,r),t&&t(r),i.manager.itemEnd(e)}).catch(function(t){n&&n(t),i.manager.itemError(e),i.manager.itemEnd(e)}),i.manager.itemStart(e)}});class ek extends iR{constructor(e){super(e)}load(e,t,r,n){const i=this,s=new oR(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(r){try{const e=r.slice(0);(void 0===KR&&(KR=new(window.AudioContext||window.webkitAudioContext)),KR).decodeAudioData(e,function(e){t(e)})}catch(s){n?n(s):console.error(s),i.manager.itemError(e)}},r,n)}}class tk extends $R{constructor(e,t,r=1){super(void 0,r);const n=(new GT).set(e),i=(new GT).set(t),s=new vE(n.r,n.g,n.b),o=new vE(i.r,i.g,i.b),a=Math.sqrt(Math.PI),l=a*Math.sqrt(.75);this.sh.coefficients[0].copy(s).add(o).multiplyScalar(a),this.sh.coefficients[1].copy(s).sub(o).multiplyScalar(l)}}tk.prototype.isHemisphereLightProbe=!0,class extends $R{constructor(e,t=1){super(void 0,t);const r=(new GT).set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}.prototype.isAmbientLightProbe=!0,new $E,new $E;class rk{constructor(e,t,r){let n,i,s;switch(this.binding=e,this.valueSize=r,t){case"quaternion":n=this._slerp,i=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":n=this._select,i=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:n=this._lerp,i=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=n,this._mixBufferRegionAdditive=i,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,n=this.valueSize,i=e*n+n;let s=this.cumulativeWeight;if(0===s){for(let e=0;e!==n;++e)r[i+e]=r[e];s=t}else s+=t,this._mixBufferRegion(r,i,0,t/s,n);this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,n=r*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,n,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,n=e*t+t,i=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1&&this._mixBufferRegion(r,n,t*this._origIndex,1-i,t),s>0&&this._mixBufferRegionAdditive(r,n,this._addIndex*t,1,t);for(let a=t,l=t+t;a!==l;++a)if(r[a]!==r[a+t]){o.setValue(r,n);break}}saveOriginalState(){const e=this.buffer,t=this.valueSize,r=t*this._origIndex;this.binding.getValue(e,r);for(let n=t,i=r;n!==i;++n)e[n]=e[r+n%t];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,n,i){if(n>=.5)for(let s=0;s!==i;++s)e[t+s]=e[r+s]}_slerp(e,t,r,n){yE.slerpFlat(e,t,e,t,e,r,n)}_slerpAdditive(e,t,r,n,i){const s=this._workIndex*i;yE.multiplyQuaternionsFlat(e,s,e,t,e,r),yE.slerpFlat(e,t,e,t,e,s,n)}_lerp(e,t,r,n,i){const s=1-n;for(let o=0;o!==i;++o){const i=t+o;e[i]=e[i]*s+e[r+o]*n}}_lerpAdditive(e,t,r,n,i){for(let s=0;s!==i;++s){const i=t+s;e[i]=e[i]+e[r+s]*n}}}const nk=new RegExp("[\\[\\]\\.:\\/]","g"),ik="[^\\[\\]\\.:\\/]",sk="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",ok=/((?:WC+[\/:])*)/.source.replace("WC",ik),ak=/(WCOD+)?/.source.replace("WCOD",sk),lk=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ik),ck=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ik),uk=new RegExp("^"+ok+ak+lk+ck+"$"),hk=["material","materials","bones"];function dk(e,t,r){const n=r||pk.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,n)}function pk(e,t,r){this.path=t,this.parsedPath=r||pk.parseTrackName(t),this.node=pk.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}Object.assign(dk.prototype,{getValue:function(e,t){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){const r=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=r.length;n!==i;++n)r[n].setValue(e,t)},bind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()},unbind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}),Object.assign(pk,{Composite:dk,create:function(e,t,r){return e&&e.isAnimationObjectGroup?new pk.Composite(e,t,r):new pk(e,t,r)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(nk,"")},parseTrackName:function(e){const t=uk.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},n=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==n&&-1!==n){const e=r.nodeName.substring(n+1);-1!==hk.indexOf(e)&&(r.nodeName=r.nodeName.substring(0,n),r.objectName=e)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r},findNode:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(void 0!==r)return r}if(e.children){const r=function(e){for(let n=0;n<e.length;n++){const i=e[n];if(i.name===t||i.uuid===t)return i;const s=r(i.children);if(s)return s}return null},n=r(e.children);if(n)return n}return null}}),Object.assign(pk.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){const r=this.resolvedProperty;for(let n=0,i=r.length;n!==i;++n)e[t++]=r[n]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){const r=this.resolvedProperty;for(let n=0,i=r.length;n!==i;++n)r[n]=e[t++]},function(e,t){const r=this.resolvedProperty;for(let n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){const r=this.resolvedProperty;for(let n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){let e=this.node;const t=this.parsedPath,r=t.objectName,n=t.propertyName;let i=t.propertyIndex;if(e||(e=pk.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(r){let n=t.objectIndex;switch(r){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===n){n=t;break}break;default:if(void 0===e[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[r]}if(void 0!==n){if(void 0===e[n])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[n]}}const s=e[n];if(void 0===s)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+t.nodeName+"."+n+" but it wasn't found.",e);let o=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?o=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(o=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===n){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}a=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(a=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(a=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=n;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][o]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(pk.prototype,{_getValue_unbound:pk.prototype.getValue,_setValue_unbound:pk.prototype.setValue});class fk{constructor(e,t,r=null,n=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=n;const i=t.tracks,s=i.length,o=new Array(s),a={endingStart:ZM,endingEnd:ZM};for(let l=0;l!==s;++l){const e=i[l].createInterpolant(null);o[l]=e,e.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const r=this._clip.duration,n=e._clip.duration,i=r/n;e.warp(1,n/r,t),this.warp(i,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const n=this._mixer,i=n.time,s=this.timeScale;let o=this._timeScaleInterpolant;null===o&&(o=n._lendControlInterpolant(),this._timeScaleInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=i,a[1]=i+r,l[0]=e/s,l[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,n){if(!this.enabled)return void this._updateWeight(e);const i=this._startTime;if(null!==i){const n=(e-i)*r;if(n<0||0===r)return;this._startTime=null,t=r*n}t*=this._updateTimeScale(e);const s=this._updateTime(t),o=this._updateWeight(e);if(o>0){const e=this._interpolants,t=this._propertyBindings;switch(this.blendMode){case 2501:for(let r=0,n=e.length;r!==n;++r)e[r].evaluate(s),t[r].accumulateAdditive(o);break;case 2500:default:for(let r=0,i=e.length;r!==i;++r)e[r].evaluate(s),t[r].accumulate(n,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(null!==r){const n=r.evaluate(e)[0];t*=n,e>r.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;null!==r&&(t*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let n=this.time+e,i=this._loopCount;const s=2202===r;if(0===e)return-1===i?n:s&&1==(1&i)?t-n:n;if(2200===r){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(n>=t)n=t;else{if(!(n<0)){this.time=n;break e}n=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,s)):this._setEndings(0===this.repetitions,!0,s)),n>=t||n<0){const r=Math.floor(n/t);n-=t*r,i+=Math.abs(r);const o=this.repetitions-i;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,n=e>0?t:0,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===o){const t=e<0;this._setEndings(t,!t,s)}else this._setEndings(!1,!1,s);this._loopCount=i,this.time=n,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:r})}}else this.time=n;if(s&&1==(1&i))return t-n}return n}_setEndings(e,t,r){const n=this._interpolantSettings;r?(n.endingStart=QM,n.endingEnd=QM):(n.endingStart=e?this.zeroSlopeAtStart?QM:ZM:JM,n.endingEnd=t?this.zeroSlopeAtEnd?QM:ZM:JM)}_scheduleFading(e,t,r){const n=this._mixer,i=n.time;let s=this._weightInterpolant;null===s&&(s=n._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,a=s.sampleValues;return o[0]=i,a[0]=t,o[1]=i+e,a[1]=r,this}}(class extends iE{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,n=e._clip.tracks,i=n.length,s=e._propertyBindings,o=e._interpolants,a=r.uuid,l=this._bindingsByRootAndName;let c=l[a];void 0===c&&(c={},l[a]=c);for(let u=0;u!==i;++u){const e=n[u],i=e.name;let l=c[i];if(void 0!==l)s[u]=l;else{if(l=s[u],void 0!==l){null===l._cacheIndex&&(++l.referenceCount,this._addInactiveBinding(l,a,i));continue}l=new rk(pk.create(r,i,t&&t._propertyBindings[u].binding.parsedPath),e.ValueTypeName,e.getValueSize()),++l.referenceCount,this._addInactiveBinding(l,a,i),s[u]=l}o[u].resultBuffer=l.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,r=e._clip.uuid,n=this._actionsByClip[r];this._bindAction(e,n&&n.knownActions[0]),this._addInactiveAction(e,r,t)}const t=e._propertyBindings;for(let e=0,r=t.length;e!==r;++e){const r=t[e];0==r.useCount++&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,r=t.length;e!==r;++e){const r=t[e];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,r){const n=this._actions,i=this._actionsByClip;let s=i[t];if(void 0===s)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=s;else{const t=s.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=n.length,n.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],n=e._cacheIndex;r._cacheIndex=n,t[n]=r,t.pop(),e._cacheIndex=null;const i=e._clip.uuid,s=this._actionsByClip,o=s[i],a=o.knownActions,l=a[a.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,a[c]=l,a.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===a.length&&delete s[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,n=t.length;r!==n;++r){const e=t[r];0==--e.referenceCount&&this._removeInactiveBinding(e)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,n=this._nActiveActions++,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,n=--this._nActiveActions,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i}_addInactiveBinding(e,t,r){const n=this._bindingsByRootAndName,i=this._bindings;let s=n[t];void 0===s&&(s={},n[t]=s),s[r]=e,e._cacheIndex=i.length,i.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,n=r.rootNode.uuid,i=r.path,s=this._bindingsByRootAndName,o=s[n],a=t[t.length-1],l=e._cacheIndex;a._cacheIndex=l,t[l]=a,t.pop(),delete o[i],0===Object.keys(o).length&&delete s[n]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,n=this._nActiveBindings++,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,n=--this._nActiveBindings,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return void 0===r&&(r=new GO(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,n=--this._nActiveControlInterpolants,i=t[n];e.__cacheIndex=n,t[n]=e,i.__cacheIndex=r,t[r]=i}clipAction(e,t,r){const n=t||this._root,i=n.uuid;let s="string"==typeof e?eR.findByName(n,e):e;const o=null!==s?s.uuid:e,a=this._actionsByClip[o];let l=null;if(void 0===r&&(r=null!==s?s.blendMode:2500),void 0!==a){const e=a.actionByRoot[i];if(void 0!==e&&e.blendMode===r)return e;l=a.knownActions[0],null===s&&(s=l._clip)}if(null===s)return null;const c=new fk(this,s,t,r);return this._bindAction(c,l),this._addInactiveAction(c,o,i),c}existingAction(e,t){const r=t||this._root,n=r.uuid,i="string"==typeof e?eR.findByName(r,e):e,s=this._actionsByClip[i?i.uuid:e];return void 0!==s&&s.actionByRoot[n]||null}stopAllAction(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}update(e){const t=this._actions,r=this._nActiveActions,n=this.time+=e*=this.timeScale,i=Math.sign(e),s=this._accuIndex^=1;for(let l=0;l!==r;++l)t[l]._update(n,e,i,s);const o=this._bindings,a=this._nActiveBindings;for(let l=0;l!==a;++l)o[l].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,n=this._actionsByClip,i=n[r];if(void 0!==i){const e=i.knownActions;for(let r=0,n=e.length;r!==n;++r){const n=e[r];this._deactivateAction(n);const i=n._cacheIndex,s=t[t.length-1];n._cacheIndex=null,n._byClipCacheIndex=null,s._cacheIndex=i,t[i]=s,t.pop(),this._removeInactiveBindingsForAction(n)}delete n[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const i in r){const e=r[i].actionByRoot[t];void 0!==e&&(this._deactivateAction(e),this._removeInactiveAction(e))}const n=this._bindingsByRootAndName[t];if(void 0!==n)for(const i in n){const e=n[i];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(e,t){const r=this.existingAction(e,t);null!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}}).prototype._controlInterpolantsResultBuffer=new Float32Array(1);class mk{constructor(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new mk(void 0===this.value.clone?this.value:this.value.clone())}}function gk(e,t,r){hP.call(this,e,t),this.meshPerAttribute=r||1}function yk(e,t,r,n,i){this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=n,this.count=i,this.version=0}function vk(e,t,r=0,n=1/0){this.ray=new YE(e,t),this.near=r,this.far=n,this.camera=null,this.layers=new oT,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function _k(e,t){return e.distance-t.distance}function bk(e,t,r,n){if(e.layers.test(t.layers)&&e.raycast(t,r),!0===n){const n=e.children;for(let e=0,i=n.length;e<i;e++)bk(n[e],t,r,!0)}}gk.prototype=Object.assign(Object.create(hP.prototype),{constructor:gk,isInstancedInterleavedBuffer:!0,copy:function(e){return hP.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){const t=hP.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){const t=hP.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}),Object.defineProperty(yk.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(yk.prototype,{isGLBufferAttribute:!0,setBuffer:function(e){return this.buffer=e,this},setType:function(e,t){return this.type=e,this.elementSize=t,this},setItemSize:function(e){return this.itemSize=e,this},setCount:function(e){return this.count=e,this}}),Object.assign(vk.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)},intersectObject:function(e,t=!1,r=[]){return bk(e,this,r,t),r.sort(_k),r},intersectObjects:function(e,t=!1,r=[]){for(let n=0,i=e.length;n<i;n++)bk(e[n],this,r,t);return r.sort(_k),r}});class wk{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(aE.clamp(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}const xk=new lE;class Sk{constructor(e=new lE(1/0,1/0),t=new lE(-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=xk.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new lE),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new lE),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new lE),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new lE),t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return xk.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}function Mk(e){bT.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}Sk.prototype.isBox2=!0,(Mk.prototype=Object.create(bT.prototype)).constructor=Mk,Mk.prototype.isImmediateRenderObject=!0;const Ek=new vE,Tk=new $E,Ck=new $E;function Ak(e){const t=[];e&&e.isBone&&t.push(e);for(let r=0;r<e.children.length;r++)t.push.apply(t,Ak(e.children[r]));return t}class Lk extends ZP{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=new pC;r.setAttribute("position",new nC(t,3)),r.setAttribute("color",new nC([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(r,new BP({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}}const Pk=new Float32Array(1),Ok=(new Int32Array(Pk.buffer),Math.pow(2,8),new WT({side:1,depthWrite:!1,depthTest:!1}));new OC(new kC,Ok),Math.sqrt(5),dR.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(dR.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},RR.prototype.fromPoints=function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)},class extends ZP{constructor(e=10,t=10,r=4473924,n=8947848){r=new GT(r),n=new GT(n);const i=t/2,s=e/t,o=e/2,a=[],l=[];for(let u=0,h=0,d=-o;u<=t;u++,d+=s){a.push(-o,0,d,o,0,d),a.push(d,0,-o,d,0,o);const e=u===i?r:n;e.toArray(l,h),h+=3,e.toArray(l,h),h+=3,e.toArray(l,h),h+=3,e.toArray(l,h),h+=3}const c=new pC;c.setAttribute("position",new nC(a,3)),c.setAttribute("color",new nC(l,3)),super(c,new BP({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},class extends ZP{constructor(e){const t=Ak(e),r=new pC,n=[],i=[],s=new GT(0,0,1),o=new GT(0,1,0);for(let a=0;a<t.length;a++){const e=t[a];e.parent&&e.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),i.push(s.r,s.g,s.b),i.push(o.r,o.g,o.b))}r.setAttribute("position",new nC(n,3)),r.setAttribute("color",new nC(i,3)),super(r,new BP({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,n=r.getAttribute("position");Ck.copy(this.root.matrixWorld).invert();for(let i=0,s=0;i<t.length;i++){const e=t[i];e.parent&&e.parent.isBone&&(Tk.multiplyMatrices(Ck,e.matrixWorld),Ek.setFromMatrixPosition(Tk),n.setXYZ(s,Ek.x,Ek.y,Ek.z),Tk.multiplyMatrices(Ck,e.parent.matrixWorld),Ek.setFromMatrixPosition(Tk),n.setXYZ(s+1,Ek.x,Ek.y,Ek.z),s+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},iR.prototype.extractUrlBase=function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),function(e){const t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}(e)},iR.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Sk.prototype.center=function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},Sk.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Sk.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},Sk.prototype.size=function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)},wE.prototype.center=function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},wE.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},wE.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},wE.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},wE.prototype.size=function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)},UE.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},XC.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},aE.random16=function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},aE.nearestPowerOfTwo=function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),aE.floorPowerOfTwo(e)},aE.nextPowerOfTwo=function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),aE.ceilPowerOfTwo(e)},cE.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},cE.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},cE.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},cE.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},cE.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},cE.prototype.getInverse=function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},$E.prototype.extractPosition=function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},$E.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},$E.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new vE).setFromMatrixColumn(this,3)},$E.prototype.setRotationFromQuaternion=function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},$E.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},$E.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},$E.prototype.multiplyVector4=function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},$E.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},$E.prototype.rotateAxis=function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},$E.prototype.crossVector=function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},$E.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},$E.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},$E.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},$E.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},$E.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},$E.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},$E.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},$E.prototype.makeFrustum=function(e,t,r,n,i,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,n,r,i,s)},$E.prototype.getInverse=function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},MT.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},yE.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},yE.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},YE.prototype.isIntersectionBox=function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},YE.prototype.isIntersectionPlane=function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},YE.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},DT.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},DT.prototype.barycoordFromPoint=function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},DT.prototype.midpoint=function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},DT.prototypenormal=function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},DT.prototype.plane=function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)},DT.barycoordFromPoint=function(e,t,r,n,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),DT.getBarycoord(e,t,r,n,i)},DT.normal=function(e,t,r,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),DT.getNormal(e,t,r,n)},kR.prototype.extractAllPoints=function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},kR.prototype.extrude=function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new kO(this,e)},kR.prototype.makeGeometry=function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new IO(this,e)},lE.prototype.fromAttribute=function(e,t,r){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},lE.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lE.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},vE.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},vE.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},vE.prototype.getPositionFromMatrix=function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},vE.prototype.getScaleFromMatrix=function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},vE.prototype.getColumnFromMatrix=function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},vE.prototype.applyProjection=function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},vE.prototype.fromAttribute=function(e,t,r){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},vE.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},vE.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},mE.prototype.fromAttribute=function(e,t,r){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},mE.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},bT.prototype.getChildByName=function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},bT.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},bT.prototype.translate=function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},bT.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},bT.prototype.applyMatrix=function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(bT.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),OC.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(OC.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),jP.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(dR.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),FC.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(jR.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(YT.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===rE},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(rE)}}}),YT.prototype.setDynamic=function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?rE:tE),this},YT.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},YT.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},pC.prototype.addIndex=function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},pC.prototype.addAttribute=function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new YT(arguments[1],arguments[2])))},pC.prototype.addDrawCall=function(e,t,r){void 0!==r&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},pC.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},pC.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},pC.prototype.removeAttribute=function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},pC.prototype.applyMatrix=function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(pC.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(ZR.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}}),Object.defineProperties(vk.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}}),Object.defineProperties(hP.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===rE},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),hP.prototype.setDynamic=function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?rE:tE),this},hP.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},kO.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},kO.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},kO.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},uP.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},mk.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(NT.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new GT}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(zO.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(e){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=e}}}),Object.defineProperties(NC.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),aP.prototype.clearTarget=function(e,t,r,n){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,r,n)},aP.prototype.animate=function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},aP.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},aP.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},aP.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},aP.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},aP.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},aP.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},aP.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},aP.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},aP.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},aP.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},aP.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},aP.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},aP.prototype.enableScissorTest=function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},aP.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},aP.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},aP.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},aP.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},aP.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},aP.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},aP.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},aP.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},aP.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},aP.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(aP.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?3001:KM}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(JL.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(gE.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),class extends bT{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return(new ek).load(e,function(e){t.setBuffer(e)}),this},BC.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},BC.prototype.clear=function(e,t,r,n){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,r,n)},hE.crossOrigin=void 0,hE.loadTexture=function(e,t,r,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const i=new hR;i.setCrossOrigin(this.crossOrigin);const s=i.load(e,r,void 0,n);return t&&(s.mapping=t),s},hE.loadTextureCube=function(e,t,r,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const i=new cR;i.setCrossOrigin(this.crossOrigin);const s=i.load(e,r,void 0,n);return t&&(s.mapping=t),s},hE.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},hE.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"127"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="127");var Rk=class extends Gf{constructor(e,t){super(e,t),this.lastHeight=300,this.lastWidth=300,this.sk=80,this.viewAngle=20,this.render=()=>{this.request=requestAnimationFrame(this.render),this.renderer.render(this.scene,this.camera),this.reSize(),this.renderOthers()},this.scene=new uP,this.sk=this.divWidth<=this.divHeight?this.divWidth/this.viewAngle:this.divHeight/this.viewAngle,this.camera=new GR(-this.divWidth/this.sk,this.divWidth/this.sk,this.divHeight/this.sk,-this.divHeight/this.sk,-2e3,2e4),this.camera.position.set(0,20,0),this.camera.lookAt(0,0,0),this.renderer=new aP({alpha:!0,antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setClearColor(0,0),this.renderer.setSize(this.divWidth,this.divHeight),this.domdiv.appendChild(this.renderer.domElement),this.render()}renderOthers(){}reSize(){this.divHeight=this.domdiv.offsetHeight,this.divWidth=this.domdiv.offsetWidth,this.divHeight===this.lastHeight&&this.divWidth===this.lastWidth||(this.sk=this.divWidth<=this.divHeight?this.divWidth/this.viewAngle:this.divHeight/this.viewAngle,console.log("object :>> ",this.sk),this.camera.aspect=this.divWidth/this.divHeight,this.camera.left=this.divWidth/-this.sk,this.camera.right=this.divWidth/this.sk,this.camera.top=this.divHeight/this.sk,this.camera.bottom=this.divHeight/-this.sk,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.divWidth,this.divHeight),this.lastHeight=this.divHeight,this.lastWidth=this.divWidth)}},kk=function(e,t){var r,n,i,s,o,a;void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new vE,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return m.phi},this.getAzimuthalAngle=function(){return m.theta},this.listenToKeyEvents=function(e){e.addEventListener("keydown",Z),this._domElementKeyEvents=e},this.saveState=function(){l.target0.copy(l.target),l.position0.copy(l.object.position),l.zoom0=l.object.zoom},this.reset=function(){l.target.copy(l.target0),l.object.position.copy(l.position0),l.object.zoom=l.zoom0,l.object.updateProjectionMatrix(),l.dispatchEvent(c),l.update(),p=d.NONE},this.update=(r=new vE,n=(new yE).setFromUnitVectors(e.up,new vE(0,1,0)),i=n.clone().invert(),s=new vE,o=new yE,a=2*Math.PI,function(){var e=l.object.position;r.copy(e).sub(l.target),r.applyQuaternion(n),m.setFromVector3(r),l.autoRotate&&p===d.NONE&&P(2*Math.PI/60/60*l.autoRotateSpeed),l.enableDamping?(m.theta+=g.theta*l.dampingFactor,m.phi+=g.phi*l.dampingFactor):(m.theta+=g.theta,m.phi+=g.phi);var t=l.minAzimuthAngle,u=l.maxAzimuthAngle;return isFinite(t)&&isFinite(u)&&(t<-Math.PI?t+=a:t>Math.PI&&(t-=a),u<-Math.PI?u+=a:u>Math.PI&&(u-=a),m.theta=t<=u?Math.max(t,Math.min(u,m.theta)):m.theta>(t+u)/2?Math.max(t,m.theta):Math.min(u,m.theta)),m.phi=Math.max(l.minPolarAngle,Math.min(l.maxPolarAngle,m.phi)),m.makeSafe(),m.radius*=y,m.radius=Math.max(l.minDistance,Math.min(l.maxDistance,m.radius)),!0===l.enableDamping?l.target.addScaledVector(v,l.dampingFactor):l.target.add(v),r.setFromSpherical(m),r.applyQuaternion(i),e.copy(l.target).add(r),l.object.lookAt(l.target),!0===l.enableDamping?(g.theta*=1-l.dampingFactor,g.phi*=1-l.dampingFactor,v.multiplyScalar(1-l.dampingFactor)):(g.set(0,0,0),v.set(0,0,0)),y=1,!!(_||s.distanceToSquared(l.object.position)>f||8*(1-o.dot(l.object.quaternion))>f)&&(l.dispatchEvent(c),s.copy(l.object.position),o.copy(l.object.quaternion),_=!1,!0)}),this.dispose=function(){l.domElement.removeEventListener("contextmenu",ee),l.domElement.removeEventListener("pointerdown",q),l.domElement.removeEventListener("wheel",$),l.domElement.removeEventListener("touchstart",Q),l.domElement.removeEventListener("touchend",K),l.domElement.removeEventListener("touchmove",J),l.domElement.ownerDocument.removeEventListener("pointermove",X),l.domElement.ownerDocument.removeEventListener("pointerup",Y),null!==l._domElementKeyEvents&&l._domElementKeyEvents.removeEventListener("keydown",Z)};var l=this,c={type:"change"},u={type:"start"},h={type:"end"},d={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},p=d.NONE,f=1e-6,m=new wk,g=new wk,y=1,v=new vE,_=!1,b=new lE,w=new lE,x=new lE,S=new lE,M=new lE,E=new lE,T=new lE,C=new lE,A=new lE;function L(){return Math.pow(.95,l.zoomSpeed)}function P(e){g.theta-=e}function O(e){g.phi-=e}var R,k=(R=new vE,function(e,t){R.setFromMatrixColumn(t,0),R.multiplyScalar(-e),v.add(R)}),j=function(){var e=new vE;return function(t,r){!0===l.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(l.object.up,e)),e.multiplyScalar(t),v.add(e)}}(),D=function(){var e=new vE;return function(t,r){var n=l.domElement;if(l.object.isPerspectiveCamera){e.copy(l.object.position).sub(l.target);var i=e.length();i*=Math.tan(l.object.fov/2*Math.PI/180),k(2*t*i/n.clientHeight,l.object.matrix),j(2*r*i/n.clientHeight,l.object.matrix)}else l.object.isOrthographicCamera?(k(t*(l.object.right-l.object.left)/l.object.zoom/n.clientWidth,l.object.matrix),j(r*(l.object.top-l.object.bottom)/l.object.zoom/n.clientHeight,l.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),l.enablePan=!1)}}();function I(e){l.object.isPerspectiveCamera?y/=e:l.object.isOrthographicCamera?(l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom*e)),l.object.updateProjectionMatrix(),_=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),l.enableZoom=!1)}function N(e){l.object.isPerspectiveCamera?y*=e:l.object.isOrthographicCamera?(l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom/e)),l.object.updateProjectionMatrix(),_=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),l.enableZoom=!1)}function z(e){b.set(e.clientX,e.clientY)}function F(e){S.set(e.clientX,e.clientY)}function U(e){1==e.touches.length?b.set(e.touches[0].pageX,e.touches[0].pageY):b.set(.5*(e.touches[0].pageX+e.touches[1].pageX),.5*(e.touches[0].pageY+e.touches[1].pageY))}function B(e){1==e.touches.length?S.set(e.touches[0].pageX,e.touches[0].pageY):S.set(.5*(e.touches[0].pageX+e.touches[1].pageX),.5*(e.touches[0].pageY+e.touches[1].pageY))}function V(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,n=Math.sqrt(t*t+r*r);T.set(0,n)}function H(e){1==e.touches.length?w.set(e.touches[0].pageX,e.touches[0].pageY):w.set(.5*(e.touches[0].pageX+e.touches[1].pageX),.5*(e.touches[0].pageY+e.touches[1].pageY)),x.subVectors(w,b).multiplyScalar(l.rotateSpeed);var t=l.domElement;P(2*Math.PI*x.x/t.clientHeight),O(2*Math.PI*x.y/t.clientHeight),b.copy(w)}function G(e){1==e.touches.length?M.set(e.touches[0].pageX,e.touches[0].pageY):M.set(.5*(e.touches[0].pageX+e.touches[1].pageX),.5*(e.touches[0].pageY+e.touches[1].pageY)),E.subVectors(M,S).multiplyScalar(l.panSpeed),D(E.x,E.y),S.copy(M)}function W(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,n=Math.sqrt(t*t+r*r);C.set(0,n),A.set(0,Math.pow(C.y/T.y,l.zoomSpeed)),I(A.y),T.copy(C)}function q(e){if(!1!==l.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){var t;switch(e.preventDefault(),l.domElement.focus?l.domElement.focus():window.focus(),e.button){case 0:t=l.mouseButtons.LEFT;break;case 1:t=l.mouseButtons.MIDDLE;break;case 2:t=l.mouseButtons.RIGHT;break;default:t=-1}switch(t){case 1:if(!1===l.enableZoom)return;!function(e){T.set(e.clientX,e.clientY)}(e),p=d.DOLLY;break;case 0:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===l.enablePan)return;F(e),p=d.PAN}else{if(!1===l.enableRotate)return;z(e),p=d.ROTATE}break;case 2:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===l.enableRotate)return;z(e),p=d.ROTATE}else{if(!1===l.enablePan)return;F(e),p=d.PAN}break;default:p=d.NONE}p!==d.NONE&&(l.domElement.ownerDocument.addEventListener("pointermove",X),l.domElement.ownerDocument.addEventListener("pointerup",Y),l.dispatchEvent(u))}(e)}}function X(e){if(!1!==l.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1!==l.enabled)switch(e.preventDefault(),p){case d.ROTATE:if(!1===l.enableRotate)return;!function(e){w.set(e.clientX,e.clientY),x.subVectors(w,b).multiplyScalar(l.rotateSpeed);var t=l.domElement;P(2*Math.PI*x.x/t.clientHeight),O(2*Math.PI*x.y/t.clientHeight),b.copy(w),l.update()}(e);break;case d.DOLLY:if(!1===l.enableZoom)return;!function(e){C.set(e.clientX,e.clientY),A.subVectors(C,T),A.y>0?I(L()):A.y<0&&N(L()),T.copy(C),l.update()}(e);break;case d.PAN:if(!1===l.enablePan)return;!function(e){M.set(e.clientX,e.clientY),E.subVectors(M,S).multiplyScalar(l.panSpeed),D(E.x,E.y),S.copy(M),l.update()}(e)}}(e)}}function Y(e){switch(e.pointerType){case"mouse":case"pen":l.domElement.ownerDocument.removeEventListener("pointermove",X),l.domElement.ownerDocument.removeEventListener("pointerup",Y),!1!==l.enabled&&(l.dispatchEvent(h),p=d.NONE)}}function $(e){!1===l.enabled||!1===l.enableZoom||p!==d.NONE&&p!==d.ROTATE||(e.preventDefault(),l.dispatchEvent(u),function(e){e.deltaY<0?N(L()):e.deltaY>0&&I(L()),l.update()}(e),l.dispatchEvent(h))}function Z(e){!1!==l.enabled&&!1!==l.enablePan&&function(e){var t=!1;switch(e.code){case l.keys.UP:D(0,l.keyPanSpeed),t=!0;break;case l.keys.BOTTOM:D(0,-l.keyPanSpeed),t=!0;break;case l.keys.LEFT:D(l.keyPanSpeed,0),t=!0;break;case l.keys.RIGHT:D(-l.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),l.update())}(e)}function Q(e){if(!1!==l.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(l.touches.ONE){case 0:if(!1===l.enableRotate)return;U(e),p=d.TOUCH_ROTATE;break;case 1:if(!1===l.enablePan)return;B(e),p=d.TOUCH_PAN;break;default:p=d.NONE}break;case 2:switch(l.touches.TWO){case 2:if(!1===l.enableZoom&&!1===l.enablePan)return;!function(e){l.enableZoom&&V(e),l.enablePan&&B(e)}(e),p=d.TOUCH_DOLLY_PAN;break;case 3:if(!1===l.enableZoom&&!1===l.enableRotate)return;!function(e){l.enableZoom&&V(e),l.enableRotate&&U(e)}(e),p=d.TOUCH_DOLLY_ROTATE;break;default:p=d.NONE}break;default:p=d.NONE}p!==d.NONE&&l.dispatchEvent(u)}}function J(e){if(!1!==l.enabled)switch(e.preventDefault(),p){case d.TOUCH_ROTATE:if(!1===l.enableRotate)return;H(e),l.update();break;case d.TOUCH_PAN:if(!1===l.enablePan)return;G(e),l.update();break;case d.TOUCH_DOLLY_PAN:if(!1===l.enableZoom&&!1===l.enablePan)return;!function(e){l.enableZoom&&W(e),l.enablePan&&G(e)}(e),l.update();break;case d.TOUCH_DOLLY_ROTATE:if(!1===l.enableZoom&&!1===l.enableRotate)return;!function(e){l.enableZoom&&W(e),l.enableRotate&&H(e)}(e),l.update();break;default:p=d.NONE}}function K(e){!1!==l.enabled&&(l.dispatchEvent(h),p=d.NONE)}function ee(e){!1!==l.enabled&&e.preventDefault()}l.domElement.addEventListener("contextmenu",ee),l.domElement.addEventListener("pointerdown",q),l.domElement.addEventListener("wheel",$),l.domElement.addEventListener("touchstart",Q),l.domElement.addEventListener("touchend",K),l.domElement.addEventListener("touchmove",J),this.update()};(kk.prototype=Object.create(iE.prototype)).constructor=kk;var jk=function(e,t){kk.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=2,this.mouseButtons.RIGHT=0,this.touches.ONE=1,this.touches.TWO=3};(jk.prototype=Object.create(iE.prototype)).constructor=jk;class Dk extends Rk{constructor(e,t){super(e,t),this.colors=["#bbb","#9be9a8","#40c463","#30a14e","#216e39"],this.cubes=[],this.ini(),this.camera.position.set(40,30,40),this.camera.lookAt(0,0,0)}ini(){new kk(this.camera,this.renderer.domElement),this.scene.add(new tk("#999","#333")),this.scene.add(new XR(6710886));const e=new qR(16777215,.5);this.scene.add(e),e.position.set(1,1,-1),this.addBoxs()}addBox(e,t,r){const n=new OC(new kC(1,1,1),new UO({color:65280,transparent:!0}));return this.scene.add(n),n.position.set(e,t,r),n}addBoxs(){for(let e=0;e<369;e++){let t=1.3*Math.floor(e/7),r=this.addBox(t+.5-(68.9-.3)/2,.5,e%7*1.3+.5-(9.1-.3)/2);this.cubes.push(r),e<3&&(r.material.opacity=0)}}updateData(e){for(let t=0;t<this.cubes.length;t++){let r=Math.round(40*Math.random()),n=Math.ceil(r/10);0==r&&(r=1),e<10*Math.random()&&(r=1,n=0),r*=.12,this.cubes[t].scale.set(1,r,1),this.cubes[t].position.y=r/2,this.cubes[t].material.color.set(this.colors[n])}}}const Ik=["container"];let Nk=(()=>{class e{constructor(){this.demoValue=5}ngOnInit(){}ngAfterViewInit(){this.scene=new Dk(this.container.nativeElement,{}),this.scene.updateData(this.demoValue)}onClick(){this.scene.updateData(this.demoValue)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-two"]],viewQuery:function(e,t){if(1&e&&Rl(Ik,!0),2&e){let e;Pl(e=Dl())&&(t.container=e.first)}},decls:9,vars:4,consts:[[2,"width","100%","height","100%"],["container",""],[1,"good"],[3,"ngModel","nzMin","nzMax","nzStep","ngModelChange"],["nz-button","","nzType","dashed",3,"click"]],template:function(e,t){1&e&&(xo(0,"div",0,1),xo(2,"div",2),xo(3,"span"),Yo(4,"\u52aa\u529b\u7cfb\u6570(0-10)\uff1a"),So(),xo(5,"nz-input-number",3),Po("ngModelChange",function(e){return t.demoValue=e}),So(),xo(6,"span"),xo(7,"button",4),Po("click",function(){return t.onClick()}),Yo(8,"\u786e\u5b9a"),So(),So(),So(),So()),2&e&&(Gi(5),bo("ngModel",t.demoValue)("nzMin",0)("nzMax",10)("nzStep",1))},directives:[Cw,Vv,__,TM,bM,Lw],styles:[".good[_ngcontent-%COMP%]{position:absolute;z-index:10}.good[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:10px}"]}),e})();var zk=r("NCWt"),Fk=r.n(zk);const Uk=["container"];let Bk=(()=>{class e{constructor(){}ngOnInit(){}ngAfterViewInit(){let e=this.container.nativeElement,t="p5"+(new Date).getTime();e.id=t;let r=new Fk.a(t=>{let r,n,i=25/8,s=0,o=0,a=0,l=0,c=0,u=0,h=0;t.setup=()=>{t.createCanvas(e.offsetWidth,e.offsetHeight)},t.draw=()=>{let e=u;if(t.mouseIsPressed){let d=t.mouseX,p=t.mouseY;h||(h=1,s=d,o=p),a+=.5*(d-s),l+=.5*(p-o),a*=.5,l*=.5,c+=t.sqrt(a*a+l*l)-c,c*=.6,u=25-c;for(let c=0;c<10;++c)r=s,n=o,s+=a/10,o+=l/10,e+=(u-e)/10,e<1&&(e=1),t.strokeWeight(e+i),t.line(s,o,r,n),t.strokeWeight(e),t.line(s+6.25,o+6.25,r+6.25,n+6.25),t.line(s-i,o-i,r-i,n-i)}else h&&(a=l=h=0)}},document.getElementById(t));r.setup(),r.draw()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-hello"]],viewQuery:function(e,t){if(1&e&&Rl(Uk,!0),2&e){let e;Pl(e=Dl())&&(t.container=e.first)}},decls:2,vars:0,consts:[[2,"width","100%","height","100%"],["container",""]],template:function(e,t){1&e&&Mo(0,"div",0,1)},styles:[""]}),e})();var Vk=function(){for(var e=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],t=0;t<256;t++)e[256+t]=e[t];function r(e){return e*e*e*(e*(6*e-15)+10)}function n(e,t,r){return t+e*(r-t)}function i(e,t,r,n){var i=15&e,s=i<8?t:r,o=i<4?r:12==i||14==i?t:n;return(0==(1&i)?s:-s)+(0==(2&i)?o:-o)}return{noise:function(t,s,o){var a=Math.floor(t),l=Math.floor(s),c=Math.floor(o),u=255&a,h=255&l,d=255&c,p=(t-=a)-1,f=(s-=l)-1,m=(o-=c)-1,g=r(t),y=r(s),v=r(o),_=e[u]+h,b=e[_]+d,w=e[_+1]+d,x=e[u+1]+h,S=e[x]+d,M=e[x+1]+d;return n(v,n(y,n(g,i(e[b],t,s,o),i(e[S],p,s,o)),n(g,i(e[w],t,f,o),i(e[M],p,f,o))),n(y,n(g,i(e[b+1],t,s,m),i(e[S+1],p,s,m)),n(g,i(e[w+1],t,f,m),i(e[M+1],p,f,m))))}}},Hk=class extends Gf{constructor(e,t){super(e,t),this.lastHeight=300,this.lastWidth=300,this.render=()=>{this.request=requestAnimationFrame(this.render),this.renderer.render(this.scene,this.camera),this.reSize(),this.renderOthers()},this.scene=new uP,this.camera=new FC(45,this.divWidth/this.divHeight,1,1e4),this.camera.position.set(0,20,0),this.camera.lookAt(0,0,0),this.renderer=new aP({alpha:!0,antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setClearColor(0,0),this.renderer.setSize(this.divWidth,this.divHeight),this.domdiv.appendChild(this.renderer.domElement),this.render()}renderOthers(){}reSize(){this.divHeight=this.domdiv.offsetHeight,this.divWidth=this.domdiv.offsetWidth,this.divHeight===this.lastHeight&&this.divWidth===this.lastWidth||(this.camera.aspect=this.divWidth/this.divHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.divWidth,this.divHeight),this.lastHeight=this.divHeight,this.lastWidth=this.divWidth)}},Gk=class extends Hk{constructor(e,t){super(e,t),this.terrainDh=4,this.init(),this.camera.far=2e5,this.camera.updateProjectionMatrix(),this.camera.position.set(2400,2300,2400),this.camera.lookAt(0,0,0)}init(){new kk(this.camera,this.renderer.domElement),this.scene.add(new tk("#999","#333")),this.scene.add(new XR(6710886));const e=new qR(16777215,.5);this.scene.add(e),e.position.set(1,1,-1),this.scene.add(new Lk(50)),this.mesh()}mesh(){var e=this.generateHeight(256,256),t=new ZC(7500,7500,255,255);t.rotateX(-Math.PI/2);for(var r=t.attributes.position.array,n=0,i=0,s=r.length;n<s;n++,i+=3)r[i+1]=e[n]*this.terrainDh;t.computeFaceNormals();var o=new sO(this.generateTexture(e,256,256));o.wrapS=kM,o.wrapT=kM;let a=new OC(t,new FO({map:o,color:"#00ff00"}));this.scene.add(a)}generateTexture(e,t,r){var n,i,s,o,a,l,c,u;l=new vE(0,0,0),(c=new vE(1,1,1)).normalize(),(n=document.createElement("canvas")).width=t,n.height=r,(s=n.getContext("2d")).fillStyle="#000",s.fillRect(0,0,t,r);for(var h=0,d=0,p=(a=(o=s.getImageData(0,0,n.width,n.height)).data).length;h<p;h+=4,d++)l.x=e[d-2]-e[d+2],l.y=2,l.z=e[d-2*t]-e[d+2*t],l.normalize(),u=l.dot(c),a[h]=(96+128*u)*(.5+.007*e[d]),a[h+1]=(32+96*u)*(.5+.007*e[d]),a[h+2]=96*u*(.5+.007*e[d]);for(s.putImageData(o,0,0),(i=document.createElement("canvas")).width=4*t,i.height=4*r,(s=i.getContext("2d")).scale(4,4),s.drawImage(n,0,0),h=0,p=(a=(o=s.getImageData(0,0,i.width,i.height)).data).length;h<p;h+=4){var f=~~(5*Math.random());a[h]+=f,a[h+1]+=f,a[h+2]+=f}return s.putImageData(o,0,0),i}generateHeight(e,t){for(var r=e*t,n=new Uint8Array(r),i=new Vk,s=1,o=100*Math.random(),a=0;a<4;a++){for(var l=0;l<r;l++)n[l]+=Math.abs(i.noise(l%e/s,~~(l/e)/s,o)*s*1.75);s*=5}return console.log("data :>> ",n),n}};const Wk=["container"],qk=[{path:"visualization100days/hello-component",component:Bk},{path:"visualization100days/one-component",component:PM},{path:"visualization100days/two-component",component:Nk},{path:"visualization100days/terrain-component",component:(()=>{class e{constructor(){}ngOnInit(){}ngAfterViewInit(){this.scene=new Gk(this.container.nativeElement,{}),this.scene.updateData([])}onClick(){this.scene.updateData([])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-terrain"]],viewQuery:function(e,t){if(1&e&&Rl(Wk,!0),2&e){let e;Pl(e=Dl())&&(t.container=e.first)}},decls:2,vars:0,consts:[[2,"width","100%","height","100%"],["container",""]],template:function(e,t){1&e&&Mo(0,"div",0,1)},styles:[""]}),e})()},{path:"**",component:PM}];let Xk=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},imports:[[Df.forRoot(qk)],Df]}),e})();class Yk{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new $k(e,this.durationSelector))}}class $k extends z{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let r;try{const{durationSelector:t}=this;r=t(e)}catch(t){return this.destination.error(t)}const n=F(r,new N(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}clearThrottle(){const{value:e,hasValue:t,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Zk(e){return!l(e)&&e-parseFloat(e)+1>=0}function Qk(e){const{index:t,period:r,subscriber:n}=e;if(n.next(t),!n.closed){if(-1===r)return n.complete();e.index=t+1,this.schedule(e,r)}}function Jk(e,t=ww){return r=()=>function(e=0,t,r){let n=-1;return Zk(t)?n=Number(t)<1?1:Number(t):E(t)&&(r=t),E(r)||(r=ww),new v(t=>{const i=Zk(e)?e:+e-r.now();return r.schedule(Qk,i,{index:0,period:n,subscriber:t})})}(e,t),function(e){return e.lift(new Yk(r))};var r}function Kk(e,t){return r=>r.lift(new ej(e,t))}class ej{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new tj(e,this.compare,this.keySelector))}}class tj extends f{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:r}=this;t=r?r(e):e}catch(n){return this.destination.error(n)}let r=!1;if(this.hasKey)try{const{compare:e}=this;r=e(this.key,t)}catch(n){return this.destination.error(n)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}const rj=["moz","ms","webkit"];"undefined"==typeof window||(window.requestAnimationFrame?window.requestAnimationFrame.bind(window):rj.filter(e=>e+"RequestAnimationFrame"in window)[0]&&window);let nj=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)}}),e})();const ij=new Set;let sj,oj=(()=>{class e{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):aj}matchMedia(e){return this._platform.WEBKIT&&function(e){if(!ij.has(e))try{sj||(sj=document.createElement("style"),sj.setAttribute("type","text/css"),document.head.appendChild(sj)),sj.sheet&&(sj.sheet.insertRule(`@media ${e} {.fx-query-test{ }}`,0),ij.add(e))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return e.\u0275fac=function(t){return new(t||e)(pn(U_))},e.\u0275prov=le({factory:function(){return new e(pn(U_))},token:e,providedIn:"root"}),e})();function aj(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}const lj=()=>{};let cj=(()=>{class e{constructor(e,t){this.ngZone=e,this.rendererFactory2=t,this.resizeSource$=new S,this.listeners=0,this.disposeHandle=lj,this.handler=()=>{this.ngZone.run(()=>{this.resizeSource$.next()})},this.renderer=this.rendererFactory2.createRenderer(null,null)}subscribe(){return this.registerListener(),this.resizeSource$.pipe(Jk(16),Xh(()=>this.unregisterListener()))}unsubscribe(){this.unregisterListener()}registerListener(){0===this.listeners&&this.ngZone.runOutsideAngular(()=>{this.disposeHandle=this.renderer.listen("window","resize",this.handler)}),this.listeners+=1}unregisterListener(){this.listeners-=1,0===this.listeners&&(this.disposeHandle(),this.disposeHandle=lj)}}return e.\u0275fac=function(t){return new(t||e)(pn(ac),pn(Sa))},e.\u0275prov=le({factory:function(){return new e(pn(ac),pn(Sa))},token:e,providedIn:"root"}),e})();new Map;var uj=function(e){return e.xxl="xxl",e.xl="xl",e.lg="lg",e.md="md",e.sm="sm",e.xs="xs",e}({});const hj={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},dj={xs:"(max-width: 479.98px)",sm:"(max-width: 575.98px)",md:"(max-width: 767.98px)",lg:"(max-width: 991.98px)",xl:"(max-width: 1199.98px)",xxl:"(max-width: 1599.98px)"};let pj=(()=>{class e{constructor(e,t){this.resizeService=e,this.mediaMatcher=t,this.resizeService.subscribe().subscribe(()=>{})}subscribe(e,t){if(t){const t=()=>this.matchMedia(e,!0);return this.resizeService.subscribe().pipe(T(t),wh(t()),Kk((e,t)=>e[0]===t[0]),T(e=>e[1]))}{const t=()=>this.matchMedia(e);return this.resizeService.subscribe().pipe(T(t),wh(t()),Kk())}}matchMedia(e,t){let r=uj.md;const n={};return Object.keys(e).map(e=>{const t=e,i=this.mediaMatcher.matchMedia(hj[t]).matches;n[e]=i,i&&(r=t)}),t?[r,n]:r}}return e.\u0275fac=function(t){return new(t||e)(pn(cj),pn(oj))},e.\u0275prov=le({factory:function(){return new e(pn(cj),pn(oj))},token:e,providedIn:"root"}),e})();function fj(e,t,r,i){return n(r)&&(i=r,r=void 0),i?fj(e,t,r).pipe(T(e=>l(e)?i(...e):i(e))):new v(n=>{mj(e,t,function(e){n.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},n,r)})}function mj(e,t,r,n,i){let s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const n=e;e.addEventListener(t,r,i),s=()=>n.removeEventListener(t,r,i)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const n=e;e.on(t,r),s=()=>n.off(t,r)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const n=e;e.addListener(t,r),s=()=>n.removeListener(t,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,o=e.length;s<o;s++)mj(e[s],t,r,n,i)}n.add(s)}let gj=(()=>{class e{constructor(e,t,r){this._ngZone=e,this._platform=t,this._scrolled=new S,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new v(t=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Jk(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):eh()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const r=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(Eh(e=>!e||r.indexOf(e)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((r,n)=>{this._scrollableContainsElement(n,e)&&t.push(n)}),t}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,t){let r=E_(t),n=e.getElementRef().nativeElement;do{if(r==n)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>fj(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return e.\u0275fac=function(t){return new(t||e)(pn(ac),pn(U_),pn(Uc,8))},e.\u0275prov=le({factory:function(){return new e(pn(ac),pn(U_),pn(Uc,8))},token:e,providedIn:"root"}),e})(),yj=(()=>{class e{constructor(e,t,r){this._platform=e,this._change=new S,this._changeListener=e=>{this._change.next(e)},this._document=r,t.runOutsideAngular(()=>{if(e.isBrowser){const e=this._getWindow();e.addEventListener("resize",this._changeListener),e.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+t,height:r,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,t=this._getWindow(),r=e.documentElement,n=r.getBoundingClientRect();return{top:-n.top||e.body.scrollTop||t.scrollY||r.scrollTop||0,left:-n.left||e.body.scrollLeft||t.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Jk(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return e.\u0275fac=function(t){return new(t||e)(pn(U_),pn(ac),pn(Uc,8))},e.\u0275prov=le({factory:function(){return new e(pn(U_),pn(ac),pn(Uc,8))},token:e,providedIn:"root"}),e})(),vj=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)}}),e})(),_j=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},imports:[[gv,B_,vj],gv,vj]}),e})();class bj{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class wj extends bj{constructor(e,t,r,n){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=n}}class xj extends bj{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Sj extends bj{constructor(e){super(),this.element=e instanceof xa?e.nativeElement:e}}class Mj extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof wj?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof xj?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Sj?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,r,n,i){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=n,this.attachDomPortal=e=>{const t=e.element,r=this._document.createComment("dom-portal");t.parentNode.insertBefore(r,t),this.outletElement.appendChild(t),super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(t,r)})},this._document=i}attachComponentPortal(e){const t=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(t,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=t.create(e.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),r}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(e=>this.outletElement.appendChild(e)),r.detectChanges(),this.setDisposeFn(()=>{let e=t.indexOf(r);-1!==e&&t.remove(e)}),r}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Ej=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)}}),e})();class Tj{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new Cj(e,this.predicate,this.inclusive))}}class Cj extends f{constructor(e,t,r){super(e),this.predicate=t,this.inclusive=r,this.index=0}_next(e){const t=this.destination;let r;try{r=this.predicate(e,this.index++)}catch(n){return void t.error(n)}this.nextOrComplete(e,r)}nextOrComplete(e,t){const r=this.destination;Boolean(t)?r.next(e):(this.inclusive&&r.next(e),r.complete())}}const Aj=H_();class Lj{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=M_(-this._previousScrollPosition.left),e.style.top=M_(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,t=e.style,r=this._document.body.style,n=t.scrollBehavior||"",i=r.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Aj&&(t.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Aj&&(t.scrollBehavior=n,r.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}class Pj{constructor(e,t,r,n){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=n,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Oj{enable(){}disable(){}attach(){}}function Rj(e,t){return t.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function kj(e,t){return t.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class jj{constructor(e,t,r,n){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=n,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:r}=this._viewportRuler.getViewportSize();Rj(e,[{width:t,height:r,bottom:r,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Dj=(()=>{class e{constructor(e,t,r,n){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this.noop=()=>new Oj,this.close=e=>new Pj(this._scrollDispatcher,this._ngZone,this._viewportRuler,e),this.block=()=>new Lj(this._viewportRuler,this._document),this.reposition=e=>new jj(this._scrollDispatcher,this._viewportRuler,this._ngZone,e),this._document=n}}return e.\u0275fac=function(t){return new(t||e)(pn(gj),pn(yj),pn(ac),pn(Uc))},e.\u0275prov=le({factory:function(){return new e(pn(gj),pn(yj),pn(ac),pn(Uc))},token:e,providedIn:"root"}),e})();class Ij{constructor(e){if(this.scrollStrategy=new Oj,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class Nj{constructor(e,t,r,n,i){this.offsetX=r,this.offsetY=n,this.panelClass=i,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class zj{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let Fj=(()=>{class e{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this.detach()}}return e.\u0275fac=function(t){return new(t||e)(pn(Uc))},e.\u0275prov=le({factory:function(){return new e(pn(Uc))},token:e,providedIn:"root"}),e})(),Uj=(()=>{class e extends Fj{constructor(e){super(e),this._keydownListener=e=>{const t=this._attachedOverlays;for(let r=t.length-1;r>-1;r--)if(t[r]._keydownEvents.observers.length>0){t[r]._keydownEvents.next(e);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(pn(Uc))},e.\u0275prov=le({factory:function(){return new e(pn(Uc))},token:e,providedIn:"root"}),e})(),Bj=(()=>{class e extends Fj{constructor(e,t){super(e),this._platform=t,this._cursorStyleIsSet=!1,this._clickListener=e=>{const t=e.composedPath?e.composedPath()[0]:e.target,r=this._attachedOverlays.slice();for(let n=r.length-1;n>-1;n--){const i=r[n];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(t))break;i._outsidePointerEvents.next(e)}}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(pn(Uc),pn(U_))},e.\u0275prov=le({factory:function(){return new e(pn(Uc),pn(U_))},token:e,providedIn:"root"}),e})();const Vj=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let Hj=(()=>{class e{constructor(e,t){this._platform=t,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Vj){const t=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const t=this._document.createElement("div");t.classList.add(e),Vj?t.setAttribute("platform","test"):this._platform.isBrowser||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}}return e.\u0275fac=function(t){return new(t||e)(pn(Uc),pn(U_))},e.\u0275prov=le({factory:function(){return new e(pn(Uc),pn(U_))},token:e,providedIn:"root"}),e})();class Gj{constructor(e,t,r,n,i,s,o,a,l){this._portalOutlet=e,this._host=t,this._pane=r,this._config=n,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new S,this._attachments=new S,this._detachments=new S,this._locationChanges=h.EMPTY,this._backdropClickHandler=e=>this._backdropClick.next(e),this._keydownEvents=new S,this._outsidePointerEvents=new S,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(vh(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=M_(this._config.width),e.height=M_(this._config.height),e.minWidth=M_(this._config.minWidth),e.minHeight=M_(this._config.minHeight),e.maxWidth=M_(this._config.maxWidth),e.maxHeight=M_(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e,t=this._backdropElement;if(!t)return;let r=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",r),t.parentNode&&t.parentNode.removeChild(t)),this._backdropElement==t&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",r)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const n=e.classList;S_(t).forEach(e=>{e&&(r?n.add(e):n.remove(e))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(k_(W(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}}const Wj="cdk-overlay-connected-position-bounding-box",qj=/([A-Za-z%]+)$/;class Xj{constructor(e,t,r,n,i){this._viewportRuler=t,this._document=r,this._platform=n,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new S,this._resizeSubscription=h.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(Wj),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,n=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(e,s),a=this._getOverlayPoint(o,t,s),l=this._getOverlayFit(a,t,r,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(l,a,r)?n.push({position:s,origin:o,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<l.visibleArea)&&(i={overlayFit:l,overlayPoint:a,originPoint:o,position:s,overlayRect:t})}if(n.length){let e=null,t=-1;for(const r of n){const n=r.boundingBoxRect.width*r.boundingBoxRect.height*(r.position.weight||1);n>t&&(t=n,e=r)}return this._isPushed=!1,void this._applyPosition(e.position,e.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Yj(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Wj),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let r,n;if("center"==t.originX)r=e.left+e.width/2;else{const n=this._isRtl()?e.right:e.left,i=this._isRtl()?e.left:e.right;r="start"==t.originX?n:i}return n="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:r,y:n}}_getOverlayPoint(e,t,r){let n,i;return n="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,i="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+n,y:e.y+i}}_getOverlayFit(e,t,r,n){const i=Zj(t);let{x:s,y:o}=e,a=this._getOffset(n,"x"),l=this._getOffset(n,"y");a&&(s+=a),l&&(o+=l);let c=0-o,u=o+i.height-r.height,h=this._subtractOverflows(i.width,0-s,s+i.width-r.width),d=this._subtractOverflows(i.height,c,u),p=h*d;return{visibleArea:p,isCompletelyWithinViewport:i.width*i.height===p,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const n=r.bottom-t.y,i=r.right-t.x,s=$j(this._overlayRef.getConfig().minHeight),o=$j(this._overlayRef.getConfig().minWidth),a=e.fitsInViewportHorizontally||null!=o&&o<=i;return(e.fitsInViewportVertically||null!=s&&s<=n)&&a}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const n=Zj(t),i=this._viewportRect,s=Math.max(e.x+n.width-i.width,0),o=Math.max(e.y+n.height-i.height,0),a=Math.max(i.top-r.top-e.y,0),l=Math.max(i.left-r.left-e.x,0);let c=0,u=0;return c=n.width<=i.width?l||-s:e.x<this._viewportMargin?i.left-r.left-e.x:0,u=n.height<=i.height?a||-o:e.y<this._viewportMargin?i.top-r.top-e.y:0,this._previousPushAmount={x:c,y:u},{x:e.x+c,y:e.y+u}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const t=this._getScrollVisibility(),r=new zj(e,t);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,n=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let i=0;i<t.length;i++)t[i].style.transformOrigin=`${r} ${n}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,n=this._isRtl();let i,s,o,a,l,c;if("top"===t.overlayY)s=e.y,i=r.height-s+this._viewportMargin;else if("bottom"===t.overlayY)o=r.height-e.y+2*this._viewportMargin,i=r.height-o+this._viewportMargin;else{const t=Math.min(r.bottom-e.y+r.top,e.y),n=this._lastBoundingBoxSize.height;i=2*t,s=e.y-t,i>n&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-n/2)}if("end"===t.overlayX&&!n||"start"===t.overlayX&&n)c=r.width-e.x+this._viewportMargin,a=e.x-this._viewportMargin;else if("start"===t.overlayX&&!n||"end"===t.overlayX&&n)l=e.x,a=r.right-e.x;else{const t=Math.min(r.right-e.x+r.left,e.x),n=this._lastBoundingBoxSize.width;a=2*t,l=e.x-t,a>n&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.x-n/2)}return{top:s,left:l,bottom:o,right:c,width:a,height:i}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{const e=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;n.height=M_(r.height),n.top=M_(r.top),n.bottom=M_(r.bottom),n.width=M_(r.width),n.left=M_(r.left),n.right=M_(r.right),n.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",n.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",e&&(n.maxHeight=M_(e)),i&&(n.maxWidth=M_(i))}this._lastBoundingBoxSize=r,Yj(this._boundingBox.style,n)}_resetBoundingBoxStyles(){Yj(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Yj(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},n=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(n){const n=this._viewportRuler.getViewportScrollPosition();Yj(r,this._getExactOverlayY(t,e,n)),Yj(r,this._getExactOverlayX(t,e,n))}else r.position="static";let o="",a=this._getOffset(t,"x"),l=this._getOffset(t,"y");a&&(o+=`translateX(${a}px) `),l&&(o+=`translateY(${l}px)`),r.transform=o.trim(),s.maxHeight&&(n?r.maxHeight=M_(s.maxHeight):i&&(r.maxHeight="")),s.maxWidth&&(n?r.maxWidth=M_(s.maxWidth):i&&(r.maxWidth="")),Yj(this._pane.style,r)}_getExactOverlayY(e,t,r){let n={top:"",bottom:""},i=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,r));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===e.overlayY?n.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":n.top=M_(i.y),n}_getExactOverlayX(e,t,r){let n,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),n=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===n?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=M_(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(e=>e.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:kj(e,r),isOriginOutsideView:Rj(e,r),isOverlayClipped:kj(t,r),isOverlayOutsideView:Rj(t,r)}}_subtractOverflows(e,...t){return t.reduce((e,t)=>e-Math.max(t,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&S_(e).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof xa)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Yj(e,t){for(let r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function $j(e){if("number"!=typeof e&&null!=e){const[t,r]=e.split(qj);return r&&"px"!==r?null:parseFloat(t)}return e||null}function Zj(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}class Qj{constructor(e,t,r,n,i,s,o){this._preferredPositions=[],this._positionStrategy=new Xj(r,n,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,r,n){const i=new Nj(e,t,r,n);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}const Jj="cdk-global-overlay-wrapper";class Kj{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Jj),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:n,height:i,maxWidth:s,maxHeight:o}=r,a=!("100%"!==n&&"100vw"!==n||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);e.position=this._cssPosition,e.marginLeft=a?"0":this._leftOffset,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,a?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(Jj),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let eD=(()=>{class e{constructor(e,t,r,n){this._viewportRuler=e,this._document=t,this._platform=r,this._overlayContainer=n}global(){return new Kj}connectedTo(e,t,r){return new Qj(t,r,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new Xj(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return e.\u0275fac=function(t){return new(t||e)(pn(yj),pn(Uc),pn(U_),pn(Hj))},e.\u0275prov=le({factory:function(){return new e(pn(yj),pn(Uc),pn(U_),pn(Hj))},token:e,providedIn:"root"}),e})(),tD=0,rD=(()=>{class e{constructor(e,t,r,n,i,s,o,a,l,c,u){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=r,this._positionBuilder=n,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=l,this._location=c,this._outsideClickDispatcher=u}create(e){const t=this._createHostElement(),r=this._createPaneElement(t),n=this._createPortalOutlet(r),i=new Ij(e);return i.direction=i.direction||this._directionality.value,new Gj(n,t,r,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const t=this._document.createElement("div");return t.id="cdk-overlay-"+tD++,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Ac)),new Mj(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return e.\u0275fac=function(t){return new(t||e)(pn(Dj),pn(Hj),pn(va),pn(eD),pn(Uj),pn(ro),pn(ac),pn(Uc),pn(mv),pn(tu),pn(Bj))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const nD=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],iD=new Hr("cdk-connected-overlay-scroll-strategy");let sD=(()=>{class e{constructor(e){this.elementRef=e}}return e.\u0275fac=function(t){return new(t||e)(_o(xa))},e.\u0275dir=We({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),e})(),oD=(()=>{class e{constructor(e,t,r,n,i){this._overlay=e,this._dir=i,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=h.EMPTY,this._attachSubscription=h.EMPTY,this._detachSubscription=h.EMPTY,this._positionSubscription=h.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new vl,this.positionChange=new vl,this.attach=new vl,this.detach=new vl,this.overlayKeydown=new vl,this.overlayOutsideClick=new vl,this._templatePortal=new xj(t,r),this._scrollStrategyFactory=n,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=x_(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=x_(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=x_(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=x_(e)}get push(){return this._push}set push(e){this._push=x_(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=nD);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(e=>{this.overlayKeydown.next(e),27!==e.keyCode||this.disableClose||function(e,...t){return t.length?t.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}(e)||(e.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(e=>{this.overlayOutsideClick.next(e)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),t=new Ij({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(t.width=this.width),(this.height||0===this.height)&&(t.height=this.height),(this.minWidth||0===this.minWidth)&&(t.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(t.minHeight=this.minHeight),this.backdropClass&&(t.backdropClass=this.backdropClass),this.panelClass&&(t.panelClass=this.panelClass),t}_updatePositionStrategy(e){const t=this.positions.map(e=>({originX:e.originX,originY:e.originY,overlayX:e.overlayX,overlayY:e.overlayY,offsetX:e.offsetX||this.offsetX,offsetY:e.offsetY||this.offsetY,panelClass:e.panelClass||void 0}));return e.setOrigin(this.origin.elementRef).withPositions(t).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(e,t=!1){return r=>r.lift(new Tj(e,t))}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(_o(rD),_o(Za),_o(nl),_o(iD),_o(mv,8))},e.\u0275dir=We({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[lt]}),e})();const aD={provide:iD,deps:[rD],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let lD=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},providers:[rD,aD],imports:[[gv,Ej,_j],_j]}),e})();const cD="nz-animate-disabled";let uD=(()=>{class e{constructor(e,t,r){this.element=e,this.renderer=t,this.animationType=r,this.nzNoAnimation=!1}ngOnChanges(){this.updateClass()}ngAfterViewInit(){this.updateClass()}updateClass(){const e=E_(this.element);e&&(this.nzNoAnimation||"NoopAnimations"===this.animationType?this.renderer.addClass(e,cD):this.renderer.removeClass(e,cD))}}return e.\u0275fac=function(t){return new(t||e)(_o(xa),_o(Ma),_o(fM,8))},e.\u0275dir=We({type:e,selectors:[["","nzNoAnimation",""]],inputs:{nzNoAnimation:"nzNoAnimation"},exportAs:["nzNoAnimation"],features:[lt]}),dv([R_(),pv("design:type",Boolean)],e.prototype,"nzNoAnimation",void 0),e})(),hD=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},imports:[[bu]]}),e})();const dD={top:new Nj({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topCenter:new Nj({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topLeft:new Nj({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),topRight:new Nj({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"}),right:new Nj({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),rightTop:new Nj({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}),rightBottom:new Nj({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),bottom:new Nj({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomCenter:new Nj({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomLeft:new Nj({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),bottomRight:new Nj({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),left:new Nj({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),leftTop:new Nj({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}),leftBottom:new Nj({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})};new Nj({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new Nj({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"}),new Nj({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"top"});let pD=(()=>{class e{}return e.SLOW="0.3s",e.BASE="0.2s",e.FAST="0.1s",e})(),fD=(()=>{class e{}return e.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)",e.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)",e.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)",e.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)",e.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)",e.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)",e.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)",e.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)",e.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)",e.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)",e.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)",e.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)",e.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)",e.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)",e})();const mD=kw("collapseMotion",[Nw("expanded",Iw({height:"*"})),Nw("collapsed",Iw({height:0,overflow:"hidden"})),Nw("hidden",Iw({height:0,overflow:"hidden",borderTopWidth:"0"})),zw("expanded => collapsed",jw("150ms "+fD.EASE_IN_OUT)),zw("expanded => hidden",jw("150ms "+fD.EASE_IN_OUT)),zw("collapsed => expanded",jw("150ms "+fD.EASE_IN_OUT)),zw("hidden => expanded",jw("150ms "+fD.EASE_IN_OUT))]),gD=(kw("treeCollapseMotion",[zw("* => *",[Fw("nz-tree-node:leave,nz-tree-builtin-node:leave",[Iw({overflow:"hidden"}),Uw(0,[jw("150ms "+fD.EASE_IN_OUT,Iw({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),Fw("nz-tree-node:enter,nz-tree-builtin-node:enter",[Iw({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),Uw(0,[jw("150ms "+fD.EASE_IN_OUT,Iw({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]),kw("fadeMotion",[zw(":enter",[Iw({opacity:0}),jw(""+pD.BASE,Iw({opacity:1}))]),zw(":leave",[Iw({opacity:1}),jw(""+pD.BASE,Iw({opacity:0}))])]),kw("helpMotion",[zw(":enter",[Iw({opacity:0,transform:"translateY(-5px)"}),jw(`${pD.SLOW} ${fD.EASE_IN_OUT}`,Iw({opacity:1,transform:"translateY(0)"}))]),zw(":leave",[Iw({opacity:1,transform:"translateY(0)"}),jw(`${pD.SLOW} ${fD.EASE_IN_OUT}`,Iw({opacity:0,transform:"translateY(-5px)"}))])]),kw("moveUpMotion",[zw("* => enter",[Iw({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),jw(""+pD.BASE,Iw({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),zw("* => leave",[Iw({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),jw(""+pD.BASE,Iw({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])]),kw("notificationMotion",[Nw("enterRight",Iw({opacity:1,transform:"translateX(0)"})),zw("* => enterRight",[Iw({opacity:0,transform:"translateX(5%)"}),jw("100ms linear")]),Nw("enterLeft",Iw({opacity:1,transform:"translateX(0)"})),zw("* => enterLeft",[Iw({opacity:0,transform:"translateX(-5%)"}),jw("100ms linear")]),Nw("leave",Iw({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),zw("* => leave",[Iw({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),jw("100ms linear")])]),`${pD.BASE} ${fD.EASE_OUT_QUINT}`),yD=`${pD.BASE} ${fD.EASE_IN_QUINT}`,vD=kw("slideMotion",[Nw("void",Iw({opacity:0,transform:"scaleY(0.8)"})),Nw("enter",Iw({opacity:1,transform:"scaleY(1)"})),zw("void => *",[jw(gD)]),zw("* => void",[jw(yD)])]),_D=(kw("slideAlertMotion",[zw(":leave",[Iw({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),jw(`${pD.SLOW} ${fD.EASE_IN_OUT_CIRC}`,Iw({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),kw("zoomBigMotion",[zw("void => active",[Iw({opacity:0,transform:"scale(0.8)"}),jw(`${pD.BASE} ${fD.EASE_OUT_CIRC}`,Iw({opacity:1,transform:"scale(1)"}))]),zw("active => void",[Iw({opacity:1,transform:"scale(1)"}),jw(`${pD.BASE} ${fD.EASE_IN_OUT_CIRC}`,Iw({opacity:0,transform:"scale(0.8)"}))])]));kw("zoomBadgeMotion",[zw(":enter",[Iw({opacity:0,transform:"scale(0) translate(50%, -50%)"}),jw(`${pD.SLOW} ${fD.EASE_OUT_BACK}`,Iw({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),zw(":leave",[Iw({opacity:1,transform:"scale(1) translate(50%, -50%)"}),jw(`${pD.SLOW} ${fD.EASE_IN_BACK}`,Iw({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])]);let bD=(()=>{class e{constructor(e,t){this.viewContainer=e,this.templateRef=t,this.embeddedViewRef=null,this.context=new wD,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}static ngTemplateContextGuard(e,t){return!0}recreateView(){this.viewContainer.clear();const e=this.nzStringTemplateOutlet instanceof Za;this.embeddedViewRef=this.viewContainer.createEmbeddedView(e?this.nzStringTemplateOutlet:this.templateRef,e?this.nzStringTemplateOutletContext:this.context)}updateContext(){const e=this.nzStringTemplateOutlet instanceof Za?this.nzStringTemplateOutletContext:this.context,t=this.embeddedViewRef.context;if(e)for(const r of Object.keys(e))t[r]=e[r]}ngOnChanges(e){const{nzStringTemplateOutletContext:t,nzStringTemplateOutlet:r}=e;r&&(this.context.$implicit=r.currentValue),(()=>{let e=!1;if(r)if(r.firstChange)e=!0;else{const t=r.currentValue instanceof Za;e=r.previousValue instanceof Za||t}return t&&(e=>{const t=Object.keys(e.previousValue||{}),r=Object.keys(e.currentValue||{});if(t.length===r.length){for(const e of r)if(-1===t.indexOf(e))return!0;return!1}return!0})(t)||e})()?this.recreateView():this.updateContext()}}return e.\u0275fac=function(t){return new(t||e)(_o(nl),_o(Za))},e.\u0275dir=We({type:e,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],features:[lt]}),e})();class wD{}let xD=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},imports:[[bu]]}),e})();const SD=["nz-submenu",""];function MD(e,t){1&e&&Io(0,0,["*ngIf","!nzTitle"])}function ED(e,t){if(1&e&&Mo(0,"div",6),2&e){const e=ko(),t=vo(7);bo("mode",e.mode)("nzOpen",e.nzOpen)("@.disabled",null==e.noAnimation?null:e.noAnimation.nzNoAnimation)("nzNoAnimation",null==e.noAnimation?null:e.noAnimation.nzNoAnimation)("menuClass",e.nzMenuClassName)("templateOutlet",t)}}function TD(e,t){if(1&e){const e=Co();xo(0,"div",8),Po("subMenuMouseState",function(t){return Ot(e),ko(2).setMouseEnterState(t)}),So()}if(2&e){const e=ko(2),t=vo(7);bo("theme",e.theme)("mode",e.mode)("nzOpen",e.nzOpen)("position",e.position)("nzDisabled",e.nzDisabled)("isMenuInsideDropDown",e.isMenuInsideDropDown)("templateOutlet",t)("menuClass",e.nzMenuClassName)("@.disabled",null==e.noAnimation?null:e.noAnimation.nzNoAnimation)("nzNoAnimation",null==e.noAnimation?null:e.noAnimation.nzNoAnimation)}}function CD(e,t){if(1&e){const e=Co();yo(0,TD,1,10,"ng-template",7),Po("positionChange",function(t){return Ot(e),ko().onPositionChange(t)})}if(2&e){const e=ko(),t=vo(1);bo("cdkConnectedOverlayPositions",e.overlayPositions)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayWidth",e.triggerWidth)("cdkConnectedOverlayOpen",e.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-menu-submenu")}}function AD(e,t){1&e&&Io(0,1)}const LD=[[["","title",""]],"*"],PD=["[title]","*"],OD=["nz-submenu-title",""];function RD(e,t){1&e&&Mo(0,"i",4),2&e&&bo("nzType",ko().nzIcon)}function kD(e,t){if(1&e&&(Eo(0),xo(1,"span"),Yo(2),So(),To()),2&e){const e=ko();Gi(2),$o(e.nzTitle)}}function jD(e,t){1&e&&Mo(0,"i",8)}function DD(e,t){1&e&&Mo(0,"i",9)}function ID(e,t){1&e&&(xo(0,"span",5),yo(1,jD,1,0,"i",6),yo(2,DD,1,0,"i",7),So()),2&e&&(bo("ngSwitch",ko().dir),Gi(1),bo("ngSwitchCase","rtl"))}function ND(e,t){1&e&&Mo(0,"i",10)}const zD=["*"],FD=["nz-submenu-inline-child",""];function UD(e,t){}const BD=["nz-submenu-none-inline-child",""];function VD(e,t){}let HD=(()=>{class e{constructor(){this.descendantMenuItemClick$=new S,this.childMenuItemClick$=new S,this.theme$=new th("light"),this.mode$=new th("vertical"),this.inlineIndent$=new th(24),this.isChildSubMenuOpen$=new th(!1)}onDescendantMenuItemClick(e){this.descendantMenuItemClick$.next(e)}onChildMenuItemClick(e){this.childMenuItemClick$.next(e)}setMode(e){this.mode$.next(e)}setTheme(e){this.theme$.next(e)}setInlineIndent(e){this.inlineIndent$.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const GD=new Hr("NzIsInDropDownMenuToken"),WD=new Hr("NzMenuServiceLocalToken");let qD=(()=>{class e{constructor(e,t,r){this.nzHostSubmenuService=e,this.nzMenuService=t,this.isMenuInsideDropDown=r,this.mode$=this.nzMenuService.mode$.pipe(T(e=>"inline"===e?"inline":"vertical"===e||this.nzHostSubmenuService?"vertical":"horizontal")),this.level=1,this.isCurrentSubMenuOpen$=new th(!1),this.isChildSubMenuOpen$=new th(!1),this.isMouseEnterTitleOrOverlay$=new S,this.childMenuItemClick$=new S,this.destroy$=new S,this.nzHostSubmenuService&&(this.level=this.nzHostSubmenuService.level+1);const n=this.childMenuItemClick$.pipe(U(()=>this.mode$),Eh(e=>"inline"!==e||this.isMenuInsideDropDown),rw(!1)),i=W(this.isMouseEnterTitleOrOverlay$,n);oh([this.isChildSubMenuOpen$,i]).pipe(T(([e,t])=>e||t),Jk(150),Kk(),k_(this.destroy$)).pipe(Kk()).subscribe(e=>{this.setOpenStateWithoutDebounce(e),this.nzHostSubmenuService?this.nzHostSubmenuService.isChildSubMenuOpen$.next(e):this.nzMenuService.isChildSubMenuOpen$.next(e)})}onChildMenuItemClick(e){this.childMenuItemClick$.next(e)}setOpenStateWithoutDebounce(e){this.isCurrentSubMenuOpen$.next(e)}setMouseEnterTitleOrOverlayState(e){this.isMouseEnterTitleOrOverlay$.next(e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(pn(e,12),pn(HD),pn(GD))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),XD=(()=>{class e{constructor(e,t,r,n,i,s,o,a){this.nzMenuService=e,this.cdr=t,this.nzSubmenuService=r,this.isMenuInsideDropDown=n,this.directionality=i,this.routerLink=s,this.routerLinkWithHref=o,this.router=a,this.destroy$=new S,this.level=this.nzSubmenuService?this.nzSubmenuService.level+1:1,this.selected$=new S,this.inlinePaddingLeft=null,this.dir="ltr",this.nzDisabled=!1,this.nzSelected=!1,this.nzDanger=!1,this.nzMatchRouterExact=!1,this.nzMatchRouter=!1,a&&this.router.events.pipe(k_(this.destroy$),Eh(e=>e instanceof Jh)).subscribe(()=>{this.updateRouterActive()})}clickMenuItem(e){this.nzDisabled?(e.preventDefault(),e.stopPropagation()):(this.nzMenuService.onDescendantMenuItemClick(this),this.nzSubmenuService?this.nzSubmenuService.onChildMenuItemClick(this):this.nzMenuService.onChildMenuItemClick(this))}setSelectedState(e){this.nzSelected=e,this.selected$.next(e)}updateRouterActive(){this.listOfRouterLink&&this.listOfRouterLinkWithHref&&this.router&&this.router.navigated&&this.nzMatchRouter&&Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.nzSelected!==e&&(this.nzSelected=e,this.setSelectedState(this.nzSelected),this.cdr.markForCheck())})}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.routerLink&&e(this.routerLink)||this.routerLinkWithHref&&e(this.routerLinkWithHref)||this.listOfRouterLink.some(e)||this.listOfRouterLinkWithHref.some(e)}isLinkActive(e){return t=>e.isActive(t.urlTree,this.nzMatchRouterExact)}ngOnInit(){var e;oh([this.nzMenuService.mode$,this.nzMenuService.inlineIndent$]).pipe(k_(this.destroy$)).subscribe(([e,t])=>{this.inlinePaddingLeft="inline"===e?this.level*t:null}),this.dir=this.directionality.value,null===(e=this.directionality.change)||void 0===e||e.pipe(k_(this.destroy$)).subscribe(e=>{this.dir=e})}ngAfterContentInit(){this.listOfRouterLink.changes.pipe(k_(this.destroy$)).subscribe(()=>this.updateRouterActive()),this.listOfRouterLinkWithHref.changes.pipe(k_(this.destroy$)).subscribe(()=>this.updateRouterActive()),this.updateRouterActive()}ngOnChanges(e){e.nzSelected&&this.setSelectedState(this.nzSelected)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(_o(HD),_o(Wa),_o(qD,8),_o(GD),_o(mv,8),_o(xf,8),_o(Sf,8),_o(wf,8))},e.\u0275dir=We({type:e,selectors:[["","nz-menu-item",""]],contentQueries:function(e,t,r){if(1&e&&(jl(r,xf,!0),jl(r,Sf,!0)),2&e){let e;Pl(e=Dl())&&(t.listOfRouterLink=e),Pl(e=Dl())&&(t.listOfRouterLinkWithHref=e)}},hostVars:20,hostBindings:function(e,t){1&e&&Po("click",function(e){return t.clickMenuItem(e)}),2&e&&(Bo("padding-left","rtl"===t.dir?null:t.nzPaddingLeft||t.inlinePaddingLeft,"px")("padding-right","rtl"===t.dir?t.nzPaddingLeft||t.inlinePaddingLeft:null,"px"),Vo("ant-dropdown-menu-item",t.isMenuInsideDropDown)("ant-dropdown-menu-item-selected",t.isMenuInsideDropDown&&t.nzSelected)("ant-dropdown-menu-item-danger",t.isMenuInsideDropDown&&t.nzDanger)("ant-dropdown-menu-item-disabled",t.isMenuInsideDropDown&&t.nzDisabled)("ant-menu-item",!t.isMenuInsideDropDown)("ant-menu-item-selected",!t.isMenuInsideDropDown&&t.nzSelected)("ant-menu-item-danger",!t.isMenuInsideDropDown&&t.nzDanger)("ant-menu-item-disabled",!t.isMenuInsideDropDown&&t.nzDisabled))},inputs:{nzDisabled:"nzDisabled",nzSelected:"nzSelected",nzDanger:"nzDanger",nzMatchRouterExact:"nzMatchRouterExact",nzMatchRouter:"nzMatchRouter",nzPaddingLeft:"nzPaddingLeft"},exportAs:["nzMenuItem"],features:[lt]}),dv([R_(),pv("design:type",Object)],e.prototype,"nzDisabled",void 0),dv([R_(),pv("design:type",Object)],e.prototype,"nzSelected",void 0),dv([R_(),pv("design:type",Object)],e.prototype,"nzDanger",void 0),dv([R_(),pv("design:type",Object)],e.prototype,"nzMatchRouterExact",void 0),dv([R_(),pv("design:type",Object)],e.prototype,"nzMatchRouter",void 0),e})();const YD=[dD.rightTop,dD.right,dD.rightBottom,dD.leftTop,dD.left,dD.leftBottom],$D=[dD.bottomLeft];let ZD=(()=>{class e{constructor(e,t,r,n,i,s,o){this.nzMenuService=e,this.cdr=t,this.nzSubmenuService=r,this.platform=n,this.isMenuInsideDropDown=i,this.directionality=s,this.noAnimation=o,this.nzMenuClassName="",this.nzPaddingLeft=null,this.nzTitle=null,this.nzIcon=null,this.nzOpen=!1,this.nzDisabled=!1,this.nzOpenChange=new vl,this.cdkOverlayOrigin=null,this.listOfNzSubMenuComponent=null,this.listOfNzMenuItemDirective=null,this.level=this.nzSubmenuService.level,this.destroy$=new S,this.position="right",this.triggerWidth=null,this.theme="light",this.mode="vertical",this.inlinePaddingLeft=null,this.overlayPositions=YD,this.isSelected=!1,this.isActive=!1,this.dir="ltr"}setOpenStateWithoutDebounce(e){this.nzSubmenuService.setOpenStateWithoutDebounce(e)}toggleSubMenu(){this.setOpenStateWithoutDebounce(!this.nzOpen)}setMouseEnterState(e){this.isActive=e,"inline"!==this.mode&&this.nzSubmenuService.setMouseEnterTitleOrOverlayState(e)}setTriggerWidth(){"horizontal"===this.mode&&this.platform.isBrowser&&this.cdkOverlayOrigin&&(this.triggerWidth=this.cdkOverlayOrigin.nativeElement.getBoundingClientRect().width)}onPositionChange(e){const t=function(e){for(const t in dD)if(e.connectionPair.originX===dD[t].originX&&e.connectionPair.originY===dD[t].originY&&e.connectionPair.overlayX===dD[t].overlayX&&e.connectionPair.overlayY===dD[t].overlayY)return t}(e);"rightTop"===t||"rightBottom"===t||"right"===t?this.position="right":"leftTop"!==t&&"leftBottom"!==t&&"left"!==t||(this.position="left"),this.cdr.markForCheck()}ngOnInit(){var e;this.nzMenuService.theme$.pipe(k_(this.destroy$)).subscribe(e=>{this.theme=e,this.cdr.markForCheck()}),this.nzSubmenuService.mode$.pipe(k_(this.destroy$)).subscribe(e=>{this.mode=e,"horizontal"===e?this.overlayPositions=$D:"vertical"===e&&(this.overlayPositions=YD),this.cdr.markForCheck()}),oh([this.nzSubmenuService.mode$,this.nzMenuService.inlineIndent$]).pipe(k_(this.destroy$)).subscribe(([e,t])=>{this.inlinePaddingLeft="inline"===e?this.level*t:null,this.cdr.markForCheck()}),this.nzSubmenuService.isCurrentSubMenuOpen$.pipe(k_(this.destroy$)).subscribe(e=>{this.isActive=e,e!==this.nzOpen&&(this.setTriggerWidth(),this.nzOpen=e,this.nzOpenChange.emit(this.nzOpen),this.cdr.markForCheck())}),this.dir=this.directionality.value,null===(e=this.directionality.change)||void 0===e||e.pipe(k_(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.markForCheck()})}ngAfterContentInit(){this.setTriggerWidth();const e=this.listOfNzMenuItemDirective,t=e.changes,r=W(t,...e.map(e=>e.selected$));t.pipe(wh(e),fh(()=>r),wh(!0),T(()=>e.some(e=>e.nzSelected)),k_(this.destroy$)).subscribe(e=>{this.isSelected=e,this.cdr.markForCheck()})}ngOnChanges(e){const{nzOpen:t}=e;t&&(this.nzSubmenuService.setOpenStateWithoutDebounce(this.nzOpen),this.setTriggerWidth())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(_o(HD),_o(Wa),_o(qD),_o(U_),_o(GD),_o(mv,8),_o(uD,9))},e.\u0275cmp=Fe({type:e,selectors:[["","nz-submenu",""]],contentQueries:function(t,r,n){if(1&t&&(jl(n,e,!0),jl(n,XD,!0)),2&t){let e;Pl(e=Dl())&&(r.listOfNzSubMenuComponent=e),Pl(e=Dl())&&(r.listOfNzMenuItemDirective=e)}},viewQuery:function(e,t){if(1&e&&Ol(sD,!0,xa),2&e){let e;Pl(e=Dl())&&(t.cdkOverlayOrigin=e.first)}},hostVars:34,hostBindings:function(e,t){2&e&&Vo("ant-dropdown-menu-submenu",t.isMenuInsideDropDown)("ant-dropdown-menu-submenu-disabled",t.isMenuInsideDropDown&&t.nzDisabled)("ant-dropdown-menu-submenu-open",t.isMenuInsideDropDown&&t.nzOpen)("ant-dropdown-menu-submenu-selected",t.isMenuInsideDropDown&&t.isSelected)("ant-dropdown-menu-submenu-vertical",t.isMenuInsideDropDown&&"vertical"===t.mode)("ant-dropdown-menu-submenu-horizontal",t.isMenuInsideDropDown&&"horizontal"===t.mode)("ant-dropdown-menu-submenu-inline",t.isMenuInsideDropDown&&"inline"===t.mode)("ant-dropdown-menu-submenu-active",t.isMenuInsideDropDown&&t.isActive)("ant-menu-submenu",!t.isMenuInsideDropDown)("ant-menu-submenu-disabled",!t.isMenuInsideDropDown&&t.nzDisabled)("ant-menu-submenu-open",!t.isMenuInsideDropDown&&t.nzOpen)("ant-menu-submenu-selected",!t.isMenuInsideDropDown&&t.isSelected)("ant-menu-submenu-vertical",!t.isMenuInsideDropDown&&"vertical"===t.mode)("ant-menu-submenu-horizontal",!t.isMenuInsideDropDown&&"horizontal"===t.mode)("ant-menu-submenu-inline",!t.isMenuInsideDropDown&&"inline"===t.mode)("ant-menu-submenu-active",!t.isMenuInsideDropDown&&t.isActive)("ant-menu-submenu-rtl","rtl"===t.dir)},inputs:{nzMenuClassName:"nzMenuClassName",nzPaddingLeft:"nzPaddingLeft",nzTitle:"nzTitle",nzIcon:"nzIcon",nzOpen:"nzOpen",nzDisabled:"nzDisabled"},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzSubmenu"],features:[ma([qD]),lt],attrs:SD,ngContentSelectors:PD,decls:8,vars:9,consts:[["nz-submenu-title","","cdkOverlayOrigin","",3,"nzIcon","nzTitle","mode","nzDisabled","isMenuInsideDropDown","paddingLeft","subMenuMouseState","toggleSubMenu"],["origin","cdkOverlayOrigin"],[4,"ngIf"],["nz-submenu-inline-child","",3,"mode","nzOpen","nzNoAnimation","menuClass","templateOutlet",4,"ngIf","ngIfElse"],["nonInlineTemplate",""],["subMenuTemplate",""],["nz-submenu-inline-child","",3,"mode","nzOpen","nzNoAnimation","menuClass","templateOutlet"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayWidth","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn","positionChange"],["nz-submenu-none-inline-child","",3,"theme","mode","nzOpen","position","nzDisabled","isMenuInsideDropDown","templateOutlet","menuClass","nzNoAnimation","subMenuMouseState"]],template:function(e,t){if(1&e&&(Do(LD),xo(0,"div",0,1),Po("subMenuMouseState",function(e){return t.setMouseEnterState(e)})("toggleSubMenu",function(){return t.toggleSubMenu()}),yo(2,MD,1,0,"ng-content",2),So(),yo(3,ED,1,6,"div",3),yo(4,CD,1,5,"ng-template",null,4,Fl),yo(6,AD,1,0,"ng-template",null,5,Fl)),2&e){const e=vo(5);bo("nzIcon",t.nzIcon)("nzTitle",t.nzTitle)("mode",t.mode)("nzDisabled",t.nzDisabled)("isMenuInsideDropDown",t.isMenuInsideDropDown)("paddingLeft",t.nzPaddingLeft||t.inlinePaddingLeft),Gi(2),bo("ngIf",!t.nzTitle),Gi(1),bo("ngIf","inline"===t.mode)("ngIfElse",e)}},directives:function(){return[eI,sD,du,tI,uD,oD,rI]},encapsulation:2,changeDetection:0}),dv([R_(),pv("design:type",Object)],e.prototype,"nzOpen",void 0),dv([R_(),pv("design:type",Object)],e.prototype,"nzDisabled",void 0),e})();function QD(e,t){return e||t}function JD(e){return e||!1}let KD=(()=>{class e{constructor(e,t,r,n){this.nzMenuService=e,this.isMenuInsideDropDown=t,this.cdr=r,this.directionality=n,this.nzInlineIndent=24,this.nzTheme="light",this.nzMode="vertical",this.nzInlineCollapsed=!1,this.nzSelectable=!this.isMenuInsideDropDown,this.nzClick=new vl,this.actualMode="vertical",this.dir="ltr",this.inlineCollapsed$=new th(this.nzInlineCollapsed),this.mode$=new th(this.nzMode),this.destroy$=new S,this.listOfOpenedNzSubMenuComponent=[]}setInlineCollapsed(e){this.nzInlineCollapsed=e,this.inlineCollapsed$.next(e)}updateInlineCollapse(){this.listOfNzMenuItemDirective&&(this.nzInlineCollapsed?(this.listOfOpenedNzSubMenuComponent=this.listOfNzSubMenuComponent.filter(e=>e.nzOpen),this.listOfNzSubMenuComponent.forEach(e=>e.setOpenStateWithoutDebounce(!1))):(this.listOfOpenedNzSubMenuComponent.forEach(e=>e.setOpenStateWithoutDebounce(!0)),this.listOfOpenedNzSubMenuComponent=[]))}ngOnInit(){var e;oh([this.inlineCollapsed$,this.mode$]).pipe(k_(this.destroy$)).subscribe(([e,t])=>{this.actualMode=e?"vertical":t,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()}),this.nzMenuService.descendantMenuItemClick$.pipe(k_(this.destroy$)).subscribe(e=>{this.nzClick.emit(e),this.nzSelectable&&!e.nzMatchRouter&&this.listOfNzMenuItemDirective.forEach(t=>t.setSelectedState(t===e))}),this.dir=this.directionality.value,null===(e=this.directionality.change)||void 0===e||e.pipe(k_(this.destroy$)).subscribe(e=>{this.dir=e,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()})}ngAfterContentInit(){this.inlineCollapsed$.pipe(k_(this.destroy$)).subscribe(()=>{this.updateInlineCollapse(),this.cdr.markForCheck()})}ngOnChanges(e){const{nzInlineCollapsed:t,nzInlineIndent:r,nzTheme:n,nzMode:i}=e;t&&this.inlineCollapsed$.next(this.nzInlineCollapsed),r&&this.nzMenuService.setInlineIndent(this.nzInlineIndent),n&&this.nzMenuService.setTheme(this.nzTheme),i&&(this.mode$.next(this.nzMode),!e.nzMode.isFirstChange()&&this.listOfNzSubMenuComponent&&this.listOfNzSubMenuComponent.forEach(e=>e.setOpenStateWithoutDebounce(!1)))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(_o(HD),_o(GD),_o(Wa),_o(mv,8))},e.\u0275dir=We({type:e,selectors:[["","nz-menu",""]],contentQueries:function(e,t,r){if(1&e&&(jl(r,XD,!0),jl(r,ZD,!0)),2&e){let e;Pl(e=Dl())&&(t.listOfNzMenuItemDirective=e),Pl(e=Dl())&&(t.listOfNzSubMenuComponent=e)}},hostVars:34,hostBindings:function(e,t){2&e&&Vo("ant-dropdown-menu",t.isMenuInsideDropDown)("ant-dropdown-menu-root",t.isMenuInsideDropDown)("ant-dropdown-menu-light",t.isMenuInsideDropDown&&"light"===t.nzTheme)("ant-dropdown-menu-dark",t.isMenuInsideDropDown&&"dark"===t.nzTheme)("ant-dropdown-menu-vertical",t.isMenuInsideDropDown&&"vertical"===t.actualMode)("ant-dropdown-menu-horizontal",t.isMenuInsideDropDown&&"horizontal"===t.actualMode)("ant-dropdown-menu-inline",t.isMenuInsideDropDown&&"inline"===t.actualMode)("ant-dropdown-menu-inline-collapsed",t.isMenuInsideDropDown&&t.nzInlineCollapsed)("ant-menu",!t.isMenuInsideDropDown)("ant-menu-root",!t.isMenuInsideDropDown)("ant-menu-light",!t.isMenuInsideDropDown&&"light"===t.nzTheme)("ant-menu-dark",!t.isMenuInsideDropDown&&"dark"===t.nzTheme)("ant-menu-vertical",!t.isMenuInsideDropDown&&"vertical"===t.actualMode)("ant-menu-horizontal",!t.isMenuInsideDropDown&&"horizontal"===t.actualMode)("ant-menu-inline",!t.isMenuInsideDropDown&&"inline"===t.actualMode)("ant-menu-inline-collapsed",!t.isMenuInsideDropDown&&t.nzInlineCollapsed)("ant-menu-rtl","rtl"===t.dir)},inputs:{nzInlineIndent:"nzInlineIndent",nzTheme:"nzTheme",nzMode:"nzMode",nzInlineCollapsed:"nzInlineCollapsed",nzSelectable:"nzSelectable"},outputs:{nzClick:"nzClick"},exportAs:["nzMenu"],features:[ma([{provide:WD,useClass:HD},{provide:HD,useFactory:QD,deps:[[new nn,new tn,HD],WD]},{provide:GD,useFactory:JD,deps:[[new nn,new tn,GD]]}]),lt]}),dv([R_(),pv("design:type",Object)],e.prototype,"nzInlineCollapsed",void 0),dv([R_(),pv("design:type",Object)],e.prototype,"nzSelectable",void 0),e})(),eI=(()=>{class e{constructor(e,t){this.cdr=e,this.directionality=t,this.nzIcon=null,this.nzTitle=null,this.isMenuInsideDropDown=!1,this.nzDisabled=!1,this.paddingLeft=null,this.mode="vertical",this.toggleSubMenu=new vl,this.subMenuMouseState=new vl,this.dir="ltr",this.destroy$=new S}ngOnInit(){var e;this.dir=this.directionality.value,null===(e=this.directionality.change)||void 0===e||e.pipe(k_(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setMouseState(e){this.nzDisabled||this.subMenuMouseState.next(e)}clickTitle(){"inline"!==this.mode||this.nzDisabled||this.toggleSubMenu.emit()}}return e.\u0275fac=function(t){return new(t||e)(_o(Wa),_o(mv,8))},e.\u0275cmp=Fe({type:e,selectors:[["","nz-submenu-title",""]],hostVars:8,hostBindings:function(e,t){1&e&&Po("click",function(){return t.clickTitle()})("mouseenter",function(){return t.setMouseState(!0)})("mouseleave",function(){return t.setMouseState(!1)}),2&e&&(Bo("padding-left","rtl"===t.dir?null:t.paddingLeft,"px")("padding-right","rtl"===t.dir?t.paddingLeft:null,"px"),Vo("ant-dropdown-menu-submenu-title",t.isMenuInsideDropDown)("ant-menu-submenu-title",!t.isMenuInsideDropDown))},inputs:{nzIcon:"nzIcon",nzTitle:"nzTitle",isMenuInsideDropDown:"isMenuInsideDropDown",nzDisabled:"nzDisabled",paddingLeft:"paddingLeft",mode:"mode"},outputs:{toggleSubMenu:"toggleSubMenu",subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuTitle"],attrs:OD,ngContentSelectors:zD,decls:6,vars:4,consts:[["nz-icon","",3,"nzType",4,"ngIf"],[4,"nzStringTemplateOutlet"],["class","ant-dropdown-menu-submenu-expand-icon",3,"ngSwitch",4,"ngIf","ngIfElse"],["notDropdownTpl",""],["nz-icon","",3,"nzType"],[1,"ant-dropdown-menu-submenu-expand-icon",3,"ngSwitch"],["nz-icon","","nzType","left","class","ant-dropdown-menu-submenu-arrow-icon",4,"ngSwitchCase"],["nz-icon","","nzType","right","class","ant-dropdown-menu-submenu-arrow-icon",4,"ngSwitchDefault"],["nz-icon","","nzType","left",1,"ant-dropdown-menu-submenu-arrow-icon"],["nz-icon","","nzType","right",1,"ant-dropdown-menu-submenu-arrow-icon"],[1,"ant-menu-submenu-arrow"]],template:function(e,t){if(1&e&&(Do(),yo(0,RD,1,1,"i",0),yo(1,kD,3,1,"ng-container",1),Io(2),yo(3,ID,3,2,"span",2),yo(4,ND,1,0,"ng-template",null,3,Fl)),2&e){const e=vo(5);bo("ngIf",t.nzIcon),Gi(1),bo("nzStringTemplateOutlet",t.nzTitle),Gi(2),bo("ngIf",t.isMenuInsideDropDown)("ngIfElse",e)}},directives:[du,bD,mw,gu,yu,vu],encapsulation:2,changeDetection:0}),e})(),tI=(()=>{class e{constructor(e,t,r){this.elementRef=e,this.renderer=t,this.directionality=r,this.templateOutlet=null,this.menuClass="",this.mode="vertical",this.nzOpen=!1,this.listOfCacheClassName=[],this.expandState="collapsed",this.dir="ltr",this.destroy$=new S,this.elementRef.nativeElement.classList.add("ant-menu","ant-menu-inline","ant-menu-sub")}calcMotionState(){this.expandState=this.nzOpen?"expanded":"collapsed"}ngOnInit(){var e;this.calcMotionState(),this.dir=this.directionality.value,null===(e=this.directionality.change)||void 0===e||e.pipe(k_(this.destroy$)).subscribe(e=>{this.dir=e})}ngOnChanges(e){const{mode:t,nzOpen:r,menuClass:n}=e;(t||r)&&this.calcMotionState(),n&&(this.listOfCacheClassName.length&&this.listOfCacheClassName.filter(e=>!!e).forEach(e=>{this.renderer.removeClass(this.elementRef.nativeElement,e)}),this.menuClass&&(this.listOfCacheClassName=this.menuClass.split(" "),this.listOfCacheClassName.filter(e=>!!e).forEach(e=>{this.renderer.addClass(this.elementRef.nativeElement,e)})))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(_o(xa),_o(Ma),_o(mv,8))},e.\u0275cmp=Fe({type:e,selectors:[["","nz-submenu-inline-child",""]],hostVars:3,hostBindings:function(e,t){2&e&&(Ko("@collapseMotion",t.expandState),Vo("ant-menu-rtl","rtl"===t.dir))},inputs:{templateOutlet:"templateOutlet",menuClass:"menuClass",mode:"mode",nzOpen:"nzOpen"},exportAs:["nzSubmenuInlineChild"],features:[lt],attrs:FD,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&yo(0,UD,0,0,"ng-template",0),2&e&&bo("ngTemplateOutlet",t.templateOutlet)},directives:[_u],encapsulation:2,data:{animation:[mD]},changeDetection:0}),e})(),rI=(()=>{class e{constructor(e,t){this.elementRef=e,this.directionality=t,this.menuClass="",this.theme="light",this.templateOutlet=null,this.isMenuInsideDropDown=!1,this.mode="vertical",this.position="right",this.nzDisabled=!1,this.nzOpen=!1,this.subMenuMouseState=new vl,this.expandState="collapsed",this.dir="ltr",this.destroy$=new S,this.elementRef.nativeElement.classList.add("ant-menu-submenu","ant-menu-submenu-popup")}setMouseState(e){this.nzDisabled||this.subMenuMouseState.next(e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}calcMotionState(){this.nzOpen?"horizontal"===this.mode?this.expandState="bottom":"vertical"===this.mode&&(this.expandState="active"):this.expandState="collapsed"}ngOnInit(){var e;this.calcMotionState(),this.dir=this.directionality.value,null===(e=this.directionality.change)||void 0===e||e.pipe(k_(this.destroy$)).subscribe(e=>{this.dir=e})}ngOnChanges(e){const{mode:t,nzOpen:r}=e;(t||r)&&this.calcMotionState()}}return e.\u0275fac=function(t){return new(t||e)(_o(xa),_o(mv,8))},e.\u0275cmp=Fe({type:e,selectors:[["","nz-submenu-none-inline-child",""]],hostVars:14,hostBindings:function(e,t){1&e&&Po("mouseenter",function(){return t.setMouseState(!0)})("mouseleave",function(){return t.setMouseState(!1)}),2&e&&(Ko("@slideMotion",t.expandState)("@zoomBigMotion",t.expandState),Vo("ant-menu-light","light"===t.theme)("ant-menu-dark","dark"===t.theme)("ant-menu-submenu-placement-bottom","horizontal"===t.mode)("ant-menu-submenu-placement-right","vertical"===t.mode&&"right"===t.position)("ant-menu-submenu-placement-left","vertical"===t.mode&&"left"===t.position)("ant-menu-submenu-rtl","rtl"===t.dir))},inputs:{menuClass:"menuClass",theme:"theme",templateOutlet:"templateOutlet",isMenuInsideDropDown:"isMenuInsideDropDown",mode:"mode",position:"position",nzDisabled:"nzDisabled",nzOpen:"nzOpen"},outputs:{subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuNoneInlineChild"],features:[lt],attrs:BD,decls:2,vars:16,consts:[[3,"ngClass"],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&(xo(0,"div",0),yo(1,VD,0,0,"ng-template",1),So()),2&e&&(Vo("ant-dropdown-menu",t.isMenuInsideDropDown)("ant-menu",!t.isMenuInsideDropDown)("ant-dropdown-menu-vertical",t.isMenuInsideDropDown)("ant-menu-vertical",!t.isMenuInsideDropDown)("ant-dropdown-menu-sub",t.isMenuInsideDropDown)("ant-menu-sub",!t.isMenuInsideDropDown)("ant-menu-rtl","rtl"===t.dir),bo("ngClass",t.menuClass),Gi(1),bo("ngTemplateOutlet",t.templateOutlet))},directives:[lu,_u],encapsulation:2,data:{animation:[_D,vD]},changeDetection:0}),e})(),nI=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},imports:[[gv,bu,B_,lD,gw,hD,xD]]}),e})();const iI=["*"];function sI(e,t){if(1&e){const e=Co();xo(0,"div",2),Po("click",function(){Ot(e);const t=ko();return t.setCollapsed(!t.nzCollapsed)}),So()}if(2&e){const e=ko();bo("matchBreakPoint",e.matchBreakPoint)("nzCollapsedWidth",e.nzCollapsedWidth)("nzCollapsed",e.nzCollapsed)("nzBreakpoint",e.nzBreakpoint)("nzReverseArrow",e.nzReverseArrow)("nzTrigger",e.nzTrigger)("nzZeroTrigger",e.nzZeroTrigger)("siderWidth",e.widthSetting)}}const oI=["nz-sider-trigger",""];function aI(e,t){}function lI(e,t){if(1&e&&(Eo(0),yo(1,aI,0,0,"ng-template",3),To()),2&e){const e=ko(),t=vo(5);Gi(1),bo("ngTemplateOutlet",e.nzZeroTrigger||t)}}function cI(e,t){}function uI(e,t){if(1&e&&(Eo(0),yo(1,cI,0,0,"ng-template",3),To()),2&e){const e=ko(),t=vo(3);Gi(1),bo("ngTemplateOutlet",e.nzTrigger||t)}}function hI(e,t){1&e&&Mo(0,"i",5),2&e&&bo("nzType",ko(2).nzCollapsed?"right":"left")}function dI(e,t){1&e&&Mo(0,"i",5),2&e&&bo("nzType",ko(2).nzCollapsed?"left":"right")}function pI(e,t){if(1&e&&(yo(0,hI,1,1,"i",4),yo(1,dI,1,1,"i",4)),2&e){const e=ko();bo("ngIf",!e.nzReverseArrow),Gi(1),bo("ngIf",e.nzReverseArrow)}}function fI(e,t){1&e&&Mo(0,"i",6)}let mI=(()=>{class e{constructor(e,t){this.elementRef=e,this.renderer=t,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-content")}}return e.\u0275fac=function(t){return new(t||e)(_o(xa),_o(Ma))},e.\u0275cmp=Fe({type:e,selectors:[["nz-content"]],exportAs:["nzContent"],ngContentSelectors:iI,decls:1,vars:0,template:function(e,t){1&e&&(Do(),Io(0))},encapsulation:2,changeDetection:0}),e})(),gI=(()=>{class e{constructor(e,t){this.elementRef=e,this.renderer=t,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-footer")}}return e.\u0275fac=function(t){return new(t||e)(_o(xa),_o(Ma))},e.\u0275cmp=Fe({type:e,selectors:[["nz-footer"]],exportAs:["nzFooter"],ngContentSelectors:iI,decls:1,vars:0,template:function(e,t){1&e&&(Do(),Io(0))},encapsulation:2,changeDetection:0}),e})(),yI=(()=>{class e{constructor(e,t){this.elementRef=e,this.renderer=t,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-header")}}return e.\u0275fac=function(t){return new(t||e)(_o(xa),_o(Ma))},e.\u0275cmp=Fe({type:e,selectors:[["nz-header"]],exportAs:["nzHeader"],ngContentSelectors:iI,decls:1,vars:0,template:function(e,t){1&e&&(Do(),Io(0))},encapsulation:2,changeDetection:0}),e})(),vI=(()=>{class e{constructor(e,t,r,n){this.platform=e,this.cdr=t,this.breakpointService=r,this.elementRef=n,this.destroy$=new S,this.nzMenuDirective=null,this.nzCollapsedChange=new vl,this.nzWidth=200,this.nzTheme="dark",this.nzCollapsedWidth=80,this.nzBreakpoint=null,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.nzReverseArrow=!1,this.nzCollapsible=!1,this.nzCollapsed=!1,this.matchBreakPoint=!1,this.flexSetting=null,this.widthSetting=null,this.elementRef.nativeElement.classList.add("ant-layout-sider")}updateStyleMap(){this.widthSetting=this.nzCollapsed?this.nzCollapsedWidth+"px":M_(this.nzWidth),this.flexSetting="0 0 "+this.widthSetting,this.cdr.markForCheck()}updateMenuInlineCollapsed(){this.nzMenuDirective&&"inline"===this.nzMenuDirective.nzMode&&0!==this.nzCollapsedWidth&&this.nzMenuDirective.setInlineCollapsed(this.nzCollapsed)}setCollapsed(e){e!==this.nzCollapsed&&(this.nzCollapsed=e,this.nzCollapsedChange.emit(e),this.updateMenuInlineCollapsed(),this.updateStyleMap(),this.cdr.markForCheck())}ngOnInit(){this.updateStyleMap(),this.platform.isBrowser&&this.breakpointService.subscribe(dj,!0).pipe(k_(this.destroy$)).subscribe(e=>{const t=this.nzBreakpoint;t&&function(){const e=new S;return Promise.resolve().then(()=>e.next()),e.pipe(vh(1))}().subscribe(()=>{this.matchBreakPoint=!e[t],this.setCollapsed(this.matchBreakPoint),this.cdr.markForCheck()})})}ngOnChanges(e){const{nzCollapsed:t,nzCollapsedWidth:r,nzWidth:n}=e;(t||r||n)&&this.updateStyleMap(),t&&this.updateMenuInlineCollapsed()}ngAfterContentInit(){this.updateMenuInlineCollapsed()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(_o(U_),_o(Wa),_o(pj),_o(xa))},e.\u0275cmp=Fe({type:e,selectors:[["nz-sider"]],contentQueries:function(e,t,r){if(1&e&&jl(r,KD,!0),2&e){let e;Pl(e=Dl())&&(t.nzMenuDirective=e.first)}},hostVars:16,hostBindings:function(e,t){2&e&&(Bo("flex",t.flexSetting)("max-width",t.widthSetting)("min-width",t.widthSetting)("width",t.widthSetting),Vo("ant-layout-sider-zero-width",t.nzCollapsed&&0===t.nzCollapsedWidth)("ant-layout-sider-light","light"===t.nzTheme)("ant-layout-sider-dark","dark"===t.nzTheme)("ant-layout-sider-collapsed",t.nzCollapsed))},inputs:{nzWidth:"nzWidth",nzTheme:"nzTheme",nzCollapsedWidth:"nzCollapsedWidth",nzBreakpoint:"nzBreakpoint",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",nzReverseArrow:"nzReverseArrow",nzCollapsible:"nzCollapsible",nzCollapsed:"nzCollapsed"},outputs:{nzCollapsedChange:"nzCollapsedChange"},exportAs:["nzSider"],features:[lt],ngContentSelectors:iI,decls:3,vars:1,consts:[[1,"ant-layout-sider-children"],["nz-sider-trigger","",3,"matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth","click",4,"ngIf"],["nz-sider-trigger","",3,"matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth","click"]],template:function(e,t){1&e&&(Do(),xo(0,"div",0),Io(1),So(),yo(2,sI,1,8,"div",1)),2&e&&(Gi(2),bo("ngIf",t.nzCollapsible&&null!==t.nzTrigger))},directives:function(){return[du,bI]},encapsulation:2,changeDetection:0}),dv([R_(),pv("design:type",Object)],e.prototype,"nzReverseArrow",void 0),dv([R_(),pv("design:type",Object)],e.prototype,"nzCollapsible",void 0),dv([R_(),pv("design:type",Object)],e.prototype,"nzCollapsed",void 0),e})(),_I=(()=>{class e{constructor(e,t){this.elementRef=e,this.directionality=t,this.dir="ltr",this.destroy$=new S,this.elementRef.nativeElement.classList.add("ant-layout")}ngOnInit(){var e;this.dir=this.directionality.value,null===(e=this.directionality.change)||void 0===e||e.pipe(k_(this.destroy$)).subscribe(e=>{this.dir=e})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(_o(xa),_o(mv,8))},e.\u0275cmp=Fe({type:e,selectors:[["nz-layout"]],contentQueries:function(e,t,r){if(1&e&&jl(r,vI,!1),2&e){let e;Pl(e=Dl())&&(t.listOfNzSiderComponent=e)}},hostVars:4,hostBindings:function(e,t){2&e&&Vo("ant-layout-rtl","rtl"===t.dir)("ant-layout-has-sider",t.listOfNzSiderComponent.length>0)},exportAs:["nzLayout"],ngContentSelectors:iI,decls:1,vars:0,template:function(e,t){1&e&&(Do(),Io(0))},encapsulation:2,changeDetection:0}),e})(),bI=(()=>{class e{constructor(){this.nzCollapsed=!1,this.nzReverseArrow=!1,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.matchBreakPoint=!1,this.nzCollapsedWidth=null,this.siderWidth=null,this.nzBreakpoint=null,this.isZeroTrigger=!1,this.isNormalTrigger=!1}updateTriggerType(){this.isZeroTrigger=0===this.nzCollapsedWidth&&(this.nzBreakpoint&&this.matchBreakPoint||!this.nzBreakpoint),this.isNormalTrigger=0!==this.nzCollapsedWidth}ngOnInit(){this.updateTriggerType()}ngOnChanges(){this.updateTriggerType()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Fe({type:e,selectors:[["","nz-sider-trigger",""]],hostVars:10,hostBindings:function(e,t){2&e&&(Bo("width",t.isNormalTrigger?t.siderWidth:null),Vo("ant-layout-sider-trigger",t.isNormalTrigger)("ant-layout-sider-zero-width-trigger",t.isZeroTrigger)("ant-layout-sider-zero-width-trigger-right",t.isZeroTrigger&&t.nzReverseArrow)("ant-layout-sider-zero-width-trigger-left",t.isZeroTrigger&&!t.nzReverseArrow))},inputs:{nzCollapsed:"nzCollapsed",nzReverseArrow:"nzReverseArrow",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",matchBreakPoint:"matchBreakPoint",nzCollapsedWidth:"nzCollapsedWidth",siderWidth:"siderWidth",nzBreakpoint:"nzBreakpoint"},exportAs:["nzSiderTrigger"],features:[lt],attrs:oI,decls:6,vars:2,consts:[[4,"ngIf"],["defaultTrigger",""],["defaultZeroTrigger",""],[3,"ngTemplateOutlet"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","bars"]],template:function(e,t){1&e&&(yo(0,lI,2,1,"ng-container",0),yo(1,uI,2,1,"ng-container",0),yo(2,pI,2,2,"ng-template",null,1,Fl),yo(4,fI,1,0,"ng-template",null,2,Fl)),2&e&&(bo("ngIf",t.isZeroTrigger),Gi(1),bo("ngIf",t.isNormalTrigger))},directives:[du,_u,mw],encapsulation:2,changeDetection:0}),e})(),wI=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},imports:[[gv,bu,gw,nj,B_]]}),e})();function xI(e,t){if(1&e&&(xo(0,"ul"),xo(1,"li",14),xo(2,"a",15),Yo(3),So(),So(),So()),2&e){const e=t.$implicit,r=t.index;Gi(2),No("routerLink","visualization100days/",e.selector,""),Gi(1),Qo("",r+1,":",e.name,"")}}let SI=(()=>{class e{constructor(){this.title="Visualization100",this.isCollapsed=!1,this.components=[{name:"Hello",selector:"hello-component"},{name:"contributions2D",selector:"one-component"},{name:"Git contributions3D",selector:"two-component"},{name:"Terrain",selector:"terrain-component"}]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-root"]],decls:24,vars:5,consts:[[1,"app-layout"],["nzCollapsible","","nzWidth","256px","nzBreakpoint","md",1,"menu-sidebar",3,"nzCollapsed","nzTrigger","nzCollapsedChange"],[1,"sidebar-logo"],["nz-menu","","nzTheme","dark","nzMode","inline",3,"nzInlineCollapsed"],["nz-submenu","","nzOpen","","nzTitle","Components","nzIcon","appstore"],[4,"ngFor","ngForOf"],[1,"app-header"],[1,"header-trigger",3,"click"],["nz-icon","",1,"trigger",3,"nzType"],[1,"inner-content"],[2,"position","absolute","right","30px","bottom","100px","pointer-events","none"],["width","100px","src","./assets/img/astro-mona.webp","alt",""],["href","https://ng.ant.design/docs/introduce/zh"],["href","https://angular.cn/"],["nz-menu-item","","nzMatchRouter",""],[3,"routerLink"]],template:function(e,t){1&e&&(xo(0,"nz-layout",0),xo(1,"nz-sider",1),Po("nzCollapsedChange",function(e){return t.isCollapsed=e}),xo(2,"div",2),xo(3,"h1"),Yo(4,"\u53ef\u89c6\u5316100\u5929"),So(),So(),xo(5,"ul",3),xo(6,"li",4),yo(7,xI,4,3,"ul",5),So(),So(),So(),xo(8,"nz-layout"),xo(9,"nz-header"),xo(10,"div",6),xo(11,"span",7),Po("click",function(){return t.isCollapsed=!t.isCollapsed}),Mo(12,"i",8),So(),So(),So(),xo(13,"nz-content"),xo(14,"div",9),xo(15,"span",10),Mo(16,"img",11),So(),Mo(17,"router-outlet"),So(),So(),xo(18,"nz-footer"),xo(19,"a",12),Yo(20,"Ant Design"),So(),Yo(21," \xa92021 \u53ef\u89c6\u5316\u8bad\u7ec3\u8425 "),xo(22,"a",13),Yo(23,"Angular"),So(),So(),So(),So()),2&e&&(Gi(1),bo("nzCollapsed",t.isCollapsed)("nzTrigger",null),Gi(4),bo("nzInlineCollapsed",t.isCollapsed),Gi(2),bo("ngForOf",t.components),Gi(5),bo("nzType",t.isCollapsed?"menu-unfold":"menu-fold"))},directives:[_I,vI,KD,ZD,Lw,uu,yI,mw,mI,Ef,gI,XD,Sf],styles:["[_nghost-%COMP%]{display:flex;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.app-layout[_ngcontent-%COMP%]{height:100vh}.menu-sidebar[_ngcontent-%COMP%]{position:relative;z-index:10;min-height:100vh;box-shadow:2px 0 6px rgba(0,21,41,.35)}.header-trigger[_ngcontent-%COMP%]{height:64px;padding:20px 24px;font-size:20px;cursor:pointer;transition:all .3s,padding 0s}.trigger[_ngcontent-%COMP%]:hover{color:#1890ff}.sidebar-logo[_ngcontent-%COMP%]{position:relative;height:64px;padding-left:24px;overflow:hidden;line-height:64px;background:#001529;transition:all .3s}.sidebar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:32px;width:32px}.sidebar-logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .sidebar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.sidebar-logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 0 20px;color:#fff;font-weight:600;font-size:14px;font-family:Avenir,Helvetica Neue,Arial,Helvetica,sans-serif}nz-header[_ngcontent-%COMP%]{padding:0;width:100%;z-index:2}.app-header[_ngcontent-%COMP%]{position:relative;height:64px;padding:0;background:#fff;box-shadow:0 1px 4px rgba(0,21,41,.08)}nz-content[_ngcontent-%COMP%]{margin:24px}nz-footer[_ngcontent-%COMP%]{text-align:center}.inner-content[_ngcontent-%COMP%]{padding:24px;background:#fff;height:100%}"]}),e})();function MI(e){return function(t){var r=t||{},n=r.width?String(r.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}function EI(e){return function(t,r){var n,i=r||{};if("formatting"===(i.context?String(i.context):"standalone")&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,o=i.width?String(i.width):s;n=e.formattingValues[o]||e.formattingValues[s]}else{var a=e.defaultWidth,l=i.width?String(i.width):e.defaultWidth;n=e.values[l]||e.values[a]}return n[e.argumentCallback?e.argumentCallback(t):t]}}function TI(e){return function(t,r){var n=String(t),i=r||{},s=i.width,o=n.match(s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth]);if(!o)return null;var a,l=o[0],c=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth];return a="[object Array]"===Object.prototype.toString.call(c)?function(e,t){for(var r=0;r<e.length;r++)if(e[r].test(l))return r}(c):function(e,t){for(var r in e)if(e.hasOwnProperty(r)&&e[r].test(l))return r}(c),a=e.valueCallback?e.valueCallback(a):a,{value:a=i.valueCallback?i.valueCallback(a):a,rest:n.slice(l.length)}}}MI({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),MI({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),MI({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"}),EI({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),EI({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),EI({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),EI({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),EI({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"}),TI({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),TI({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),TI({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),TI({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),TI({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"});var CI={locale:"zh-cn",Pagination:{items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875"},DatePicker:{lang:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74\u4efd",quarterPlaceholder:"\u8bf7\u9009\u62e9\u5b63\u5ea6",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708\u4efd",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],rangeYearPlaceholder:["\u5f00\u59cb\u5e74\u4efd","\u7ed3\u675f\u5e74\u4efd"],rangeMonthPlaceholder:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"],rangeWeekPlaceholder:["\u5f00\u59cb\u5468","\u7ed3\u675f\u5468"],locale:"zh_CN",today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},timePickerLocale:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]}},TimePicker:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]},Calendar:{lang:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74\u4efd",quarterPlaceholder:"\u8bf7\u9009\u62e9\u5b63\u5ea6",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708\u4efd",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],rangeYearPlaceholder:["\u5f00\u59cb\u5e74\u4efd","\u7ed3\u675f\u5e74\u4efd"],rangeMonthPlaceholder:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"],rangeWeekPlaceholder:["\u5f00\u59cb\u5468","\u7ed3\u675f\u5468"],locale:"zh_CN",today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},timePickerLocale:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]}},global:{placeholder:"\u8bf7\u9009\u62e9"},Table:{filterTitle:"\u7b5b\u9009",filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",filterEmptyText:"\u65e0\u7b5b\u9009\u9879",selectAll:"\u5168\u9009\u5f53\u9875",selectInvert:"\u53cd\u9009\u5f53\u9875",selectionAll:"\u5168\u9009\u6240\u6709",sortTitle:"\u6392\u5e8f",expand:"\u5c55\u5f00\u884c",collapse:"\u5173\u95ed\u884c",triggerDesc:"\u70b9\u51fb\u964d\u5e8f",triggerAsc:"\u70b9\u51fb\u5347\u5e8f",cancelSort:"\u53d6\u6d88\u6392\u5e8f"},Modal:{okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",justOkText:"\u77e5\u9053\u4e86"},Popconfirm:{cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a"},Transfer:{searchPlaceholder:"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9",itemUnit:"\u9879",itemsUnit:"\u9879",remove:"\u5220\u9664",selectCurrent:"\u5168\u9009\u5f53\u9875",removeCurrent:"\u5220\u9664\u5f53\u9875",selectAll:"\u5168\u9009\u6240\u6709",removeAll:"\u5220\u9664\u5168\u90e8",selectInvert:"\u53cd\u9009\u5f53\u9875"},Upload:{uploading:"\u6587\u4ef6\u4e0a\u4f20\u4e2d",removeFile:"\u5220\u9664\u6587\u4ef6",uploadError:"\u4e0a\u4f20\u9519\u8bef",previewFile:"\u9884\u89c8\u6587\u4ef6",downloadFile:"\u4e0b\u8f7d\u6587\u4ef6"},Empty:{description:"\u6682\u65e0\u6570\u636e"},Icon:{icon:"\u56fe\u6807"},Text:{edit:"\u7f16\u8f91",copy:"\u590d\u5236",copied:"\u590d\u5236\u6210\u529f",expand:"\u5c55\u5f00"},PageHeader:{back:"\u8fd4\u56de"}};const AI=new Hr("nz-i18n");new Hr("nz-date-locale"),new Hr("date-config");var LI=r("Kd/A"),PI=r.n(LI);const OI=[{name:"menu-fold",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z" /></svg>'},{name:"menu-unfold",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z" /></svg>'},{name:"appstore",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z" /></svg>'},{name:"form",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z" /><path d="M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z" /></svg>'}];let RI=(()=>{class e{}return e.\u0275mod=He({type:e}),e.\u0275inj=ce({factory:function(t){return new(t||e)},providers:[{provide:uw,useValue:OI}],imports:[[gw],gw]}),e})();var kI,jI,DI;kI=PI.a,DI=void 0,"string"!=typeof(jI=void 0)&&(DI=jI,jI=kI[ia.LocaleId]),jI=jI.toLowerCase().replace(/_/g,"-"),ra[jI]=kI,DI&&(ra[jI][ia.ExtraData]=DI);let II=(()=>{class e{}return e.\u0275mod=He({type:e,bootstrap:[SI]}),e.\u0275inj=ce({factory:function(t){return new(t||e)},providers:[{provide:AI,useValue:CI}],imports:[[Ku,Xk,w_,Xb,gM,wI,nI,RI,Aw,CM]]}),e})();!function(){if(bc)throw new Error("Cannot enable prod mode after platform setup.");_c=!1}(),window.console.log=function(){},Qu().bootstrapModule(II).catch(e=>console.error(e))},zn8P:function(e,t){function r(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id="zn8P"}},[[0,0]]]);